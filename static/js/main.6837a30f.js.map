{"version":3,"file":"static/js/main.6837a30f.js","mappings":";sCAcA,IAAIA,EAAYC,EAAQ,KACtBC,EAAQD,EAAQ,IAChBE,EAAWF,EAAQ,KACrB,SAASG,EAAuBC,GAC9B,IAAIC,EAAM,4BAA8BD,EACxC,GAAI,EAAIE,UAAUC,OAAQ,CACxBF,GAAO,WAAaG,mBAAmBF,UAAU,IACjD,IAAK,IAAIG,EAAI,EAAGA,EAAIH,UAAUC,OAAQE,IACpCJ,GAAO,WAAaG,mBAAmBF,UAAUG,GACrD,CACA,MACE,yBACAL,EACA,WACAC,EACA,gHAEJ,CACA,SAASK,EAAiBC,GACxB,SACGA,GACA,IAAMA,EAAKC,UAAY,IAAMD,EAAKC,UAAY,KAAOD,EAAKC,SAE/D,CACA,IAAIC,EAA4BC,OAAOC,IAAI,iBACzCC,EAAqBF,OAAOC,IAAI,8BAChCE,EAAoBH,OAAOC,IAAI,gBAC/BG,EAAsBJ,OAAOC,IAAI,kBACjCI,EAAyBL,OAAOC,IAAI,qBACpCK,EAAsBN,OAAOC,IAAI,kBACjCM,EAAsBP,OAAOC,IAAI,kBACjCO,EAAsBR,OAAOC,IAAI,kBACjCQ,EAAqBT,OAAOC,IAAI,iBAChCS,EAAyBV,OAAOC,IAAI,qBACpCU,EAAsBX,OAAOC,IAAI,kBACjCW,EAA2BZ,OAAOC,IAAI,uBACtCY,EAAkBb,OAAOC,IAAI,cAC7Ba,EAAkBd,OAAOC,IAAI,cAC/BD,OAAOC,IAAI,eACXD,OAAOC,IAAI,0BACX,IAAIc,EAAuBf,OAAOC,IAAI,mBACtCD,OAAOC,IAAI,uBACXD,OAAOC,IAAI,wBACX,IAAIe,EAA4BhB,OAAOC,IAAI,6BACzCgB,EAAwBjB,OAAOkB,SACjC,SAASC,EAAcC,GACrB,OAAI,OAASA,GAAiB,kBAAoBA,EAAsB,KAIjE,oBAHPA,EACGH,GAAyBG,EAAcH,IACxCG,EAAc,eAC6BA,EAAgB,IAC/D,CACA,IAAIC,EAAyBrB,OAAOC,IAAI,0BACxC,SAASqB,EAAyBC,GAChC,GAAI,MAAQA,EAAM,OAAO,KACzB,GAAI,oBAAsBA,EACxB,OAAOA,EAAKC,WAAaH,EACrB,KACAE,EAAKE,aAAeF,EAAKG,MAAQ,KACvC,GAAI,kBAAoBH,EAAM,OAAOA,EACrC,OAAQA,GACN,KAAKnB,EACH,MAAO,WACT,KAAKD,EACH,MAAO,SACT,KAAKG,EACH,MAAO,WACT,KAAKD,EACH,MAAO,aACT,KAAKM,EACH,MAAO,WACT,KAAKC,EACH,MAAO,eAEX,GAAI,kBAAoBW,EACtB,OAAQA,EAAKC,UACX,KAAKf,EACH,OAAQc,EAAKE,aAAe,WAAa,YAC3C,KAAKjB,EACH,OAAQe,EAAKI,SAASF,aAAe,WAAa,YACpD,KAAKf,EACH,IAAIkB,EAAYL,EAAKM,OAKrB,OAJAN,EAAOA,EAAKE,eAGTF,EAAO,MADNA,EAAOK,EAAUH,aAAeG,EAAUF,MAAQ,IAC9B,cAAgBH,EAAO,IAAM,cAC9CA,EACT,KAAKV,EACH,OAEE,QADCe,EAAYL,EAAKE,aAAe,MAE7BG,EACAN,EAAyBC,EAAKA,OAAS,OAE/C,KAAKT,EACHc,EAAYL,EAAKO,SACjBP,EAAOA,EAAKQ,MACZ,IACE,OAAOT,EAAyBC,EAAKK,GACvC,CAAE,MAAOI,GAAI,EAEnB,OAAO,IACT,CACA,IAGEC,EACAC,EAJEC,EACAhD,EAAMiD,gEACRC,EAASC,OAAOD,OAGlB,SAASE,EAA8Bb,GACrC,QAAI,IAAWO,EACb,IACE,MAAMO,OACR,CAAE,MAAOR,GACP,IAAIS,EAAQT,EAAEU,MAAMC,OAAOF,MAAM,gBACjCR,EAAUQ,GAASA,EAAM,IAAO,GAChCP,GACG,EAAIF,EAAEU,MAAME,QAAQ,YACjB,kBACC,EAAIZ,EAAEU,MAAME,QAAQ,KACnB,eACA,EACV,CACF,MAAO,KAAOX,EAASP,EAAOQ,CAChC,CACA,IAAIW,GAAU,EACd,SAASC,EAA6BC,EAAIC,GACxC,IAAKD,GAAMF,EAAS,MAAO,GAC3BA,GAAU,EACV,IAAII,EAA4BT,MAAMU,kBACtCV,MAAMU,uBAAoB,EAC1B,IACE,IAAIC,EAAiB,CACnBC,4BAA6B,WAC3B,IACE,GAAIJ,EAAW,CACb,IAAIK,EAAO,WACT,MAAMb,OACR,EAMA,GALAF,OAAOgB,eAAeD,EAAKE,UAAW,QAAS,CAC7CC,IAAK,WACH,MAAMhB,OACR,IAEE,kBAAoBiB,SAAWA,QAAQT,UAAW,CACpD,IACES,QAAQT,UAAUK,EAAM,GAC1B,CAAE,MAAOrB,GACP,IAAI0B,EAAU1B,CAChB,CACAyB,QAAQT,UAAUD,EAAI,GAAIM,EAC5B,KAAO,CACL,IACEA,EAAKM,MACP,CAAE,MAAOC,GACPF,EAAUE,CACZ,CACAb,EAAGY,KAAKN,EAAKE,UACf,CACF,KAAO,CACL,IACE,MAAMf,OACR,CAAE,MAAOqB,GACPH,EAAUG,CACZ,EACCR,EAAON,MACN,oBAAsBM,EAAKS,OAC3BT,EAAKS,OAAM,WAAa,GAC5B,CACF,CAAE,MAAOC,GACP,GAAIA,GAAUL,GAAW,kBAAoBK,EAAOrB,MAClD,MAAO,CAACqB,EAAOrB,MAAOgB,EAAQhB,MAClC,CACA,MAAO,CAAC,KAAM,KAChB,GAEFS,EAAeC,4BAA4B3B,YACzC,8BACF,IAAIuC,EAAqB1B,OAAO2B,yBAC9Bd,EAAeC,4BACf,QAEFY,GACEA,EAAmBE,cACnB5B,OAAOgB,eACLH,EAAeC,4BACf,OACA,CAAEe,MAAO,gCAEb,IAAIC,EAAwBjB,EAAeC,8BACzCiB,EAAcD,EAAsB,GACpCE,EAAeF,EAAsB,GACvC,GAAIC,GAAeC,EAAc,CAC/B,IAAIC,EAAcF,EAAYG,MAAM,MAClCC,EAAeH,EAAaE,MAAM,MACpC,IACER,EAAqBb,EAAiB,EACtCA,EAAiBoB,EAAY9E,SAC5B8E,EAAYpB,GAAgBuB,SAAS,gCAGtCvB,IACF,KAEEa,EAAqBS,EAAahF,SACjCgF,EAAaT,GAAoBU,SAChC,gCAIFV,IACF,GACEb,IAAmBoB,EAAY9E,QAC/BuE,IAAuBS,EAAahF,OAEpC,IACE0D,EAAiBoB,EAAY9E,OAAS,EACpCuE,EAAqBS,EAAahF,OAAS,EAC7C,GAAK0D,GACL,GAAKa,GACLO,EAAYpB,KAAoBsB,EAAaT,IAG7CA,IACJ,KAEE,GAAKb,GAAkB,GAAKa,EAC5Bb,IAAkBa,IAElB,GAAIO,EAAYpB,KAAoBsB,EAAaT,GAAqB,CACpE,GAAI,IAAMb,GAAkB,IAAMa,EAChC,MAEKb,IAED,IADAa,GAEEO,EAAYpB,KACVsB,EAAaT,GACjB,CACA,IAAIW,EACF,KACAJ,EAAYpB,GAAgByB,QAAQ,WAAY,QAIlD,OAHA7B,EAAGtB,aACDkD,EAAMD,SAAS,iBACdC,EAAQA,EAAMC,QAAQ,cAAe7B,EAAGtB,cACpCkD,CACT,QACK,GAAKxB,GAAkB,GAAKa,GAErC,KACF,CACJ,CACF,CAAE,QACCnB,GAAU,EAAML,MAAMU,kBAAoBD,CAC7C,CACA,OAAQA,EAA4BF,EAAKA,EAAGtB,aAAesB,EAAGrB,KAAO,IACjEa,EAA8BU,GAC9B,EACN,CACA,SAAS4B,EAAcC,GACrB,OAAQA,EAAMC,KACZ,KAAK,GACL,KAAK,GACL,KAAK,EACH,OAAOxC,EAA8BuC,EAAMvD,MAC7C,KAAK,GACH,OAAOgB,EAA8B,QACvC,KAAK,GACH,OAAOA,EAA8B,YACvC,KAAK,GACH,OAAOA,EAA8B,gBACvC,KAAK,EACL,KAAK,GACH,OAAQuC,EAAQhC,EAA6BgC,EAAMvD,MAAM,GAC3D,KAAK,GACH,OACGuD,EAAQhC,EAA6BgC,EAAMvD,KAAKM,QAAQ,GAE7D,KAAK,EACH,OAAQiD,EAAQhC,EAA6BgC,EAAMvD,MAAM,GAC3D,QACE,MAAO,GAEb,CACA,SAASyD,EAA4BC,GACnC,IACE,IAAIC,EAAO,GACX,GACGA,GAAQL,EAAcI,GACpBA,EAAiBA,EAAeE,aAC9BF,GACP,OAAOC,CACT,CAAE,MAAOlD,GACP,MAAO,6BAA+BA,EAAEoD,QAAU,KAAOpD,EAAEU,KAC7D,CACF,CACA,SAAS2C,EAAuBP,GAC9B,IAAIjF,EAAOiF,EACTQ,EAAiBR,EACnB,GAAIA,EAAMS,UAAW,KAAO1F,EAAKsF,QAAUtF,EAAOA,EAAKsF,WAClD,CACHL,EAAQjF,EACR,GAEI,KAAoB,MADrBA,EAAOiF,GACMU,SAAkBF,EAAiBzF,EAAKsF,QACnDL,EAAQjF,EAAKsF,aACXL,EACT,CACA,OAAO,IAAMjF,EAAKkF,IAAMO,EAAiB,IAC3C,CACA,SAASG,EAA6BX,GACpC,GAAI,KAAOA,EAAMC,IAAK,CACpB,IAAIW,EAAgBZ,EAAMa,cAI1B,GAHA,OAASD,IAEP,QADEZ,EAAQA,EAAMS,aACGG,EAAgBZ,EAAMa,gBACvC,OAASD,EAAe,OAAOA,EAAcE,UACnD,CACA,OAAO,IACT,CACA,SAASC,EAAgBf,GACvB,GAAIO,EAAuBP,KAAWA,EACpC,MAAMtC,MAAMnD,EAAuB,KACvC,CAqEA,SAASyG,EAAyBjG,GAChC,IAAIkF,EAAMlF,EAAKkF,IACf,GAAI,IAAMA,GAAO,KAAOA,GAAO,KAAOA,GAAO,IAAMA,EAAK,OAAOlF,EAC/D,IAAKA,EAAOA,EAAKkG,MAAO,OAASlG,GAAQ,CAEvC,GAAI,QADJkF,EAAMe,EAAyBjG,IACb,OAAOkF,EACzBlF,EAAOA,EAAKmG,OACd,CACA,OAAO,IACT,CACA,IAAIC,EAAcC,MAAMC,QACtBC,EACEhH,EAASiH,6DACXC,EAAyB,CACvBC,SAAS,EACTC,KAAM,KACNC,OAAQ,KACRC,OAAQ,MAEVC,EAAa,GACbC,GAAS,EACX,SAASC,EAAaC,GACpB,MAAO,CAAEC,QAASD,EACpB,CACA,SAASE,EAAIC,GACX,EAAIL,IACAK,EAAOF,QAAUJ,EAAWC,GAAUD,EAAWC,GAAS,KAAOA,IACvE,CACA,SAASM,EAAKD,EAAQ9C,GACpByC,IACAD,EAAWC,GAASK,EAAOF,QAC3BE,EAAOF,QAAU5C,CACnB,CACA,IAAIgD,EAAqBN,EAAa,MACpCO,EAA0BP,EAAa,MACvCQ,EAA0BR,EAAa,MACvCS,EAA+BT,EAAa,MAC9C,SAASU,EAAkBzC,EAAO0C,GAKhC,OAJAN,EAAKG,EAAyBG,GAC9BN,EAAKE,EAAyBtC,GAC9BoC,EAAKC,EAAoB,MACzBrC,EAAQ0C,EAAiB1H,UAEvB,KAAK,EACL,KAAK,GACH0H,GAAoBA,EAAmBA,EAAiBC,mBACnDD,EAAmBA,EAAiBE,cACnCC,GAAkBH,GAEpB,EACJ,MACF,QACE,GAEGA,GADC1C,EAAQ,IAAMA,EAAQ0C,EAAiBI,WAAaJ,GAC5BK,QACzB/C,EAAQA,EAAM4C,aAGZF,EAAmBM,GADrBhD,EAAQ6C,GAAkB7C,GAC0B0C,QAErD,OAAQA,GACN,IAAK,MACHA,EAAmB,EACnB,MACF,IAAK,OACHA,EAAmB,EACnB,MACF,QACEA,EAAmB,GAG7BR,EAAIG,GACJD,EAAKC,EAAoBK,EAC3B,CACA,SAASO,KACPf,EAAIG,GACJH,EAAII,GACJJ,EAAIK,EACN,CACA,SAASW,GAAgBlD,GACvB,OAASA,EAAMa,eAAiBuB,EAAKI,EAA8BxC,GACnE,IAAImD,EAAUd,EAAmBJ,QAC7BmB,EAA2BJ,GAAwBG,EAASnD,EAAMvD,MACtE0G,IAAYC,IACThB,EAAKE,EAAyBtC,GAC/BoC,EAAKC,EAAoBe,GAC7B,CACA,SAASC,GAAerD,GACtBsC,EAAwBL,UAAYjC,IACjCkC,EAAIG,GAAqBH,EAAII,IAChCE,EAA6BP,UAAYjC,IACtCkC,EAAIM,GACJc,GAAsBC,cAAgB/B,EAC3C,CACA,IAAIgC,GAAiBhG,OAAOiB,UAAU+E,eACpCC,GAAqBtJ,EAAUuJ,0BAC/BC,GAAmBxJ,EAAUyJ,wBAC7BC,GAAc1J,EAAU2J,qBACxBC,GAAe5J,EAAU6J,sBACzBC,GAAM9J,EAAU+J,aAChBC,GAA0BhK,EAAUiK,iCACpCC,GAAoBlK,EAAUmK,2BAC9BC,GAAuBpK,EAAUqK,8BACjCC,GAAmBtK,EAAUuK,wBAC7BC,GAAcxK,EAAUyK,qBACxBC,GAAe1K,EAAU2K,sBACzBC,GAAQ5K,EAAU6K,IAClBC,GAAgC9K,EAAU8K,8BAC1CC,GAAa,KACbC,GAAe,KAYjB,SAASC,GAA2BC,GAElC,GADA,oBAAsBN,IAASE,GAA8BI,GACzDF,IAAgB,oBAAsBA,GAAaG,cACrD,IACEH,GAAaG,cAAcJ,GAAYG,EACzC,CAAE,MAAOE,GAAM,CACnB,CACA,IAAIC,GAAQC,KAAKD,MAAQC,KAAKD,MAG9B,SAAuBtI,GAErB,OAAO,KADPA,KAAO,GACU,GAAM,IAAO8H,GAAI9H,GAAKwI,GAAO,GAAM,CACtD,EALEV,GAAMS,KAAKT,IACXU,GAAMD,KAAKC,IAKb,IAAIC,GAAqB,IACvBC,GAAgB,QAClB,SAASC,GAAwBC,GAC/B,IAAIC,EAA2B,GAARD,EACvB,GAAI,IAAMC,EAAkB,OAAOA,EACnC,OAAQD,GAASA,GACf,KAAK,EACH,OAAO,EACT,KAAK,EACH,OAAO,EACT,KAAK,EACH,OAAO,EACT,KAAK,EACH,OAAO,EACT,KAAK,GACH,OAAO,GACT,KAAK,GACH,OAAO,GACT,KAAK,GACH,OAAO,GACT,KAAK,IACL,KAAK,IACL,KAAK,IACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,MACL,KAAK,MACL,KAAK,MACL,KAAK,OACL,KAAK,OACL,KAAK,OACL,KAAK,QACL,KAAK,QACH,OAAe,QAARA,EACT,KAAK,QACL,KAAK,QACL,KAAK,SACL,KAAK,SACH,OAAe,SAARA,EACT,KAAK,SACH,OAAO,SACT,KAAK,UACH,OAAO,UACT,KAAK,UACH,OAAO,UACT,KAAK,UACH,OAAO,UACT,KAAK,WACH,OAAO,EACT,QACE,OAAOA,EAEb,CACA,SAASE,GAAaC,EAAMC,GAC1B,IAAIC,EAAeF,EAAKE,aACxB,GAAI,IAAMA,EAAc,OAAO,EAC/B,IAAIC,EAAY,EACdC,EAAiBJ,EAAKI,eACtBC,EAAcL,EAAKK,YACnBC,EAAYN,EAAKM,UACnBN,EAAO,IAAMA,EAAKO,cAClB,IAAIC,EAAqC,UAAfN,EAqB1B,OApBA,IAAMM,EAEF,KADEN,EAAeM,GAAuBJ,GAEnCD,EAAYP,GAAwBM,GAErC,KADEG,GAAeG,GAEZL,EAAYP,GAAwBS,GACrCL,GAEA,KADEM,EAAYE,GAAuBF,KAElCH,EAAYP,GAAwBU,IAE/C,KADEE,EAAsBN,GAAgBE,GAEnCD,EAAYP,GAAwBY,GACrC,IAAMH,EACHF,EAAYP,GAAwBS,GACrCL,GAEA,KADEM,EAAYJ,GAAgBI,KAE3BH,EAAYP,GAAwBU,IAC1C,IAAMH,EACT,EACA,IAAMF,GACJA,IAAaE,GACb,KAAOF,EAAWG,MAChBA,EAAiBD,GAAaA,KAC/BG,EAAYL,GAAYA,IAEtB,KAAOG,GAAkB,KAAmB,QAAZE,IACnCL,EACAE,CACR,CACA,SAASM,GAA0BT,EAAMU,GACvC,OACE,KACCV,EAAKE,eACFF,EAAKI,gBAAkBJ,EAAKK,aAC9BK,EAEN,CACA,SAASC,GAAsBC,EAAMC,GACnC,OAAQD,GACN,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACH,OAAOC,EAAc,IACvB,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,IACL,KAAK,IACL,KAAK,IACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,MACL,KAAK,MACL,KAAK,MACL,KAAK,OACL,KAAK,OACL,KAAK,OACL,KAAK,QACL,KAAK,QACH,OAAOA,EAAc,IAYvB,QACE,OAAQ,EAEd,CACA,SAASC,KACP,IAAIF,EAAOlB,GAGX,OADA,KAA4B,SAD5BA,KAAuB,MACkBA,GAAqB,KACvDkB,CACT,CACA,SAASG,KACP,IAAIH,EAAOjB,GAGX,OADA,KAAuB,UADvBA,KAAkB,MACmBA,GAAgB,SAC9CiB,CACT,CACA,SAASI,GAAcC,GACrB,IAAK,IAAIC,EAAU,GAAItM,EAAI,EAAG,GAAKA,EAAGA,IAAKsM,EAAQ/E,KAAK8E,GACxD,OAAOC,CACT,CACA,SAASC,GAAkBnB,EAAMoB,GAC/BpB,EAAKE,cAAgBkB,EACrB,YAAcA,IACVpB,EAAKI,eAAiB,EAAKJ,EAAKK,YAAc,EAAKL,EAAKM,UAAY,EAC1E,CAiDA,SAASe,GAAwBrB,EAAMsB,EAAaC,GAClDvB,EAAKE,cAAgBoB,EACrBtB,EAAKI,iBAAmBkB,EACxB,IAAIE,EAAmB,GAAKjC,GAAM+B,GAClCtB,EAAKuB,gBAAkBD,EACvBtB,EAAKyB,cAAcD,GAEjB,WADAxB,EAAKyB,cAAcD,GAED,QAAjBD,CACL,CACA,SAASG,GAAkB1B,EAAMuB,GAC/B,IAAII,EAAsB3B,EAAKuB,gBAAkBA,EACjD,IAAKvB,EAAOA,EAAKyB,cAAeE,GAAsB,CACpD,IAAIC,EAAU,GAAKrC,GAAMoC,GACvBf,EAAO,GAAKgB,EACbhB,EAAOW,EAAmBvB,EAAK4B,GAAWL,IACxCvB,EAAK4B,IAAYL,GACpBI,IAAuBf,CACzB,CACF,CACA,SAASiB,GAAqBhC,GAE5B,OAAO,GADPA,IAAUA,GAEN,EAAIA,EACF,KAAe,UAARA,GACL,GACA,UACF,EACF,CACN,CACA,SAASiC,KACP,IAAIC,EAAiB1G,EAAwB2G,EAC7C,OAAI,IAAMD,EAAuBA,OAE1B,KADPA,EAAiBE,OAAOC,OACW,GAAKC,GAAiBJ,EAAevL,KAC1E,CASA,IAAI4L,GAAY5C,KAAK6C,SAASC,SAAS,IAAIC,MAAM,GAC/CC,GAAsB,gBAAkBJ,GACxCK,GAAmB,gBAAkBL,GACrCM,GAA+B,oBAAsBN,GACrDO,GAA2B,iBAAmBP,GAC9CQ,GAAmC,oBAAsBR,GACzDS,GAA6B,kBAAoBT,GACjDU,GAA+B,oBAAsBV,GACrDW,GAA0B,iBAAmBX,GAC/C,SAASY,GAAsBlO,UACtBA,EAAK0N,WACL1N,EAAK2N,WACL3N,EAAK6N,WACL7N,EAAK8N,WACL9N,EAAK+N,GACd,CACA,SAASI,GAA2BC,GAClC,IAAIC,EAAaD,EAAWV,IAC5B,GAAIW,EAAY,OAAOA,EACvB,IAAK,IAAItG,EAAaqG,EAAWrG,WAAYA,GAAc,CACzD,GACGsG,EACCtG,EAAW6F,KACX7F,EAAW2F,IACb,CAEA,GADA3F,EAAasG,EAAW3I,UAEtB,OAAS2I,EAAWnI,OACnB,OAAS6B,GAAc,OAASA,EAAW7B,MAE5C,IACEkI,EAAaE,GAA0BF,GACvC,OAASA,GAET,CACA,GAAKrG,EAAaqG,EAAWV,IAAuB,OAAO3F,EAC3DqG,EAAaE,GAA0BF,EACzC,CACF,OAAOC,CACT,CAEAtG,GADAqG,EAAarG,GACWA,UAC1B,CACA,OAAO,IACT,CACA,SAASwG,GAAoBvO,GAC3B,GACGA,EAAOA,EAAK0N,KAAwB1N,EAAK4N,IAC1C,CACA,IAAI1I,EAAMlF,EAAKkF,IACf,GACE,IAAMA,GACN,IAAMA,GACN,KAAOA,GACP,KAAOA,GACP,KAAOA,GACP,IAAMA,EAEN,OAAOlF,CACX,CACA,OAAO,IACT,CACA,SAASwO,GAAoBC,GAC3B,IAAIvJ,EAAMuJ,EAAKvJ,IACf,GAAI,IAAMA,GAAO,KAAOA,GAAO,KAAOA,GAAO,IAAMA,EAAK,OAAOuJ,EAAKC,UACpE,MAAM/L,MAAMnD,EAAuB,IACrC,CACA,SAASmP,GAAqBzD,GAC5B,IAAI0D,EAAY1D,EAAK8C,IAIrB,OAHAY,IACGA,EAAY1D,EAAK8C,IAChB,CAAEa,gBAAiB,IAAIC,IAAOC,iBAAkB,IAAID,MACjDF,CACT,CACA,SAASI,GAAoBhP,GAC3BA,EAAKiO,KAA2B,CAClC,CACA,IAAIgB,GAAkB,IAAIC,IACxBC,GAA+B,CAAC,EAClC,SAASC,GAAsBC,EAAkBC,GAC/CC,GAAoBF,EAAkBC,GACtCC,GAAoBF,EAAmB,UAAWC,EACpD,CACA,SAASC,GAAoBF,EAAkBC,GAE7C,IADAH,GAA6BE,GAAoBC,EAE/CD,EAAmB,EACnBA,EAAmBC,EAAa1P,OAChCyP,IAEAJ,GAAgBO,IAAIF,EAAaD,GACrC,CACA,IAAII,KACA,qBAAuBtC,QACvB,qBAAuBA,OAAOuC,UAC9B,qBAAuBvC,OAAOuC,SAASC,eAEzCC,GAA6BC,OAC3B,iZAEFC,GAA4B,CAAC,EAC7BC,GAA8B,CAAC,EAUjC,SAASC,GAAqBhQ,EAAM6B,EAAMyC,GACxC,GAV2B2L,EAUHpO,EATpB4G,GAAe3E,KAAKiM,GAA6BE,KAEjDxH,GAAe3E,KAAKgM,GAA2BG,KAC/CL,GAA2BM,KAAKD,GAC1BF,GAA4BE,IAAiB,GACvDH,GAA0BG,IAAiB,EACpC,IAIL,GAAI,OAAS3L,EAAOtE,EAAKmQ,gBAAgBtO,OACpC,CACH,cAAeyC,GACb,IAAK,YACL,IAAK,WACL,IAAK,SAEH,YADAtE,EAAKmQ,gBAAgBtO,GAEvB,IAAK,UACH,IAAIuO,EAAYvO,EAAKwO,cAAc5C,MAAM,EAAG,GAC5C,GAAI,UAAY2C,GAAa,UAAYA,EAEvC,YADApQ,EAAKmQ,gBAAgBtO,GAI3B7B,EAAKsQ,aAAazO,EAAM,GAAKyC,EAC/B,CA3BJ,IAA6B2L,CA4B7B,CACA,SAASM,GAA0BvQ,EAAM6B,EAAMyC,GAC7C,GAAI,OAASA,EAAOtE,EAAKmQ,gBAAgBtO,OACpC,CACH,cAAeyC,GACb,IAAK,YACL,IAAK,WACL,IAAK,SACL,IAAK,UAEH,YADAtE,EAAKmQ,gBAAgBtO,GAGzB7B,EAAKsQ,aAAazO,EAAM,GAAKyC,EAC/B,CACF,CACA,SAASkM,GAA+BxQ,EAAMyQ,EAAW5O,EAAMyC,GAC7D,GAAI,OAASA,EAAOtE,EAAKmQ,gBAAgBtO,OACpC,CACH,cAAeyC,GACb,IAAK,YACL,IAAK,WACL,IAAK,SACL,IAAK,UAEH,YADAtE,EAAKmQ,gBAAgBtO,GAGzB7B,EAAK0Q,eAAeD,EAAW5O,EAAM,GAAKyC,EAC5C,CACF,CACA,SAASqM,GAAiBrM,GACxB,cAAeA,GACb,IAAK,SACL,IAAK,UACL,IAAK,SACL,IAAK,SACL,IAAK,YAEL,IAAK,SACH,OAAOA,EACT,QACE,MAAO,GAEb,CACA,SAASsM,GAAYC,GACnB,IAAInP,EAAOmP,EAAKnP,KAChB,OACGmP,EAAOA,EAAKC,WACb,UAAYD,EAAKR,gBAChB,aAAe3O,GAAQ,UAAYA,EAExC,CA2CA,SAASqP,GAAM/Q,GACbA,EAAKgR,gBAAkBhR,EAAKgR,cA3C9B,SAA0BhR,GACxB,IAAIiR,EAAaL,GAAY5Q,GAAQ,UAAY,QAC/CkR,EAAazO,OAAO2B,yBAClBpE,EAAKmR,YAAYzN,UACjBuN,GAEFG,EAAe,GAAKpR,EAAKiR,GAC3B,IACGjR,EAAKyI,eAAewI,IACrB,qBAAuBC,GACvB,oBAAsBA,EAAWG,KACjC,oBAAsBH,EAAWvN,IACjC,CACA,IAAI0N,EAAMH,EAAWG,IACnB1N,EAAMuN,EAAWvN,IAcnB,OAbAlB,OAAOgB,eAAezD,EAAMiR,EAAY,CACtC5M,cAAc,EACdgN,IAAK,WACH,OAAOA,EAAIvN,KAAKwN,KAClB,EACA3N,IAAK,SAAUW,GACb8M,EAAe,GAAK9M,EACpBX,EAAIG,KAAKwN,KAAMhN,EACjB,IAEF7B,OAAOgB,eAAezD,EAAMiR,EAAY,CACtCM,WAAYL,EAAWK,aAElB,CACLC,SAAU,WACR,OAAOJ,CACT,EACAK,SAAU,SAAUnN,GAClB8M,EAAe,GAAK9M,CACtB,EACAoN,aAAc,WACZ1R,EAAKgR,cAAgB,YACdhR,EAAKiR,EACd,EAEJ,CACF,CAE8CU,CAAiB3R,GAC/D,CACA,SAAS4R,GAAqB5R,GAC5B,IAAKA,EAAM,OAAO,EAClB,IAAI6R,EAAU7R,EAAKgR,cACnB,IAAKa,EAAS,OAAO,EACrB,IAAIC,EAAYD,EAAQL,WACpBlN,EAAQ,GAQZ,OAPAtE,IACGsE,EAAQsM,GAAY5Q,GACjBA,EAAK+R,QACH,OACA,QACF/R,EAAKsE,QACXtE,EAAOsE,KACSwN,IAAaD,EAAQJ,SAASzR,IAAO,EACvD,CACA,SAASgS,GAAiBC,GAExB,GAAI,qBADJA,EAAMA,IAAQ,qBAAuBvC,SAAWA,cAAW,IAC3B,OAAO,KACvC,IACE,OAAOuC,EAAIC,eAAiBD,EAAIE,IAClC,CAAE,MAAOC,GACP,OAAOH,EAAIE,IACb,CACF,CACA,IAAIE,GAAsD,WAC1D,SAASC,GAA+ChO,GACtD,OAAOA,EAAMS,QACXsN,IACA,SAAUE,GACR,MAAO,KAAOA,EAAGC,WAAW,GAAGhF,SAAS,IAAM,GAChD,GAEJ,CACA,SAASiF,GACPC,EACApO,EACA2C,EACA0L,EACAZ,EACAa,EACAlR,EACAG,GAEA6Q,EAAQ7Q,KAAO,GACf,MAAQH,GACR,oBAAsBA,GACtB,kBAAoBA,GACpB,mBAAqBA,EAChBgR,EAAQhR,KAAOA,EAChBgR,EAAQvC,gBAAgB,QACxB,MAAQ7L,EACN,WAAa5C,GACV,IAAM4C,GAAS,KAAOoO,EAAQpO,OAAUoO,EAAQpO,OAASA,KAC5DoO,EAAQpO,MAAQ,GAAKqM,GAAiBrM,IAExCoO,EAAQpO,QAAU,GAAKqM,GAAiBrM,KACrCoO,EAAQpO,MAAQ,GAAKqM,GAAiBrM,IAE1C,WAAa5C,GAAQ,UAAYA,GAASgR,EAAQvC,gBAAgB,SACrE,MAAQ7L,EACJuO,GAAgBH,EAAShR,EAAMiP,GAAiBrM,IAChD,MAAQ2C,EACN4L,GAAgBH,EAAShR,EAAMiP,GAAiB1J,IAChD,MAAQ0L,GAAoBD,EAAQvC,gBAAgB,SAC1D,MAAQ4B,GACN,MAAQa,IACPF,EAAQE,iBAAmBA,GAC9B,MAAQb,IACLW,EAAQX,QACPA,GAAW,oBAAsBA,GAAW,kBAAoBA,GACpE,MAAQlQ,GACR,oBAAsBA,GACtB,kBAAoBA,GACpB,mBAAqBA,EAChB6Q,EAAQ7Q,KAAO,GAAK8O,GAAiB9O,GACtC6Q,EAAQvC,gBAAgB,OAC9B,CACA,SAAS2C,GACPJ,EACApO,EACA2C,EACA8K,EACAa,EACAlR,EACAG,EACAkR,GAOA,GALA,MAAQrR,GACN,oBAAsBA,GACtB,kBAAoBA,GACpB,mBAAqBA,IACpBgR,EAAQhR,KAAOA,GACd,MAAQ4C,GAAS,MAAQ2C,EAAc,CACzC,KAEK,WAAavF,GAAQ,UAAYA,QACjC,IAAW4C,GAAS,OAASA,GAGhC,OACF2C,EACE,MAAQA,EAAe,GAAK0J,GAAiB1J,GAAgB,GAC/D3C,EAAQ,MAAQA,EAAQ,GAAKqM,GAAiBrM,GAAS2C,EACvD8L,GAAezO,IAAUoO,EAAQpO,QAAUoO,EAAQpO,MAAQA,GAC3DoO,EAAQzL,aAAe3C,CACzB,CAEAyN,EACE,oBAFFA,EAAU,MAAQA,EAAUA,EAAUa,IAEH,kBAAoBb,KAAaA,EACpEW,EAAQX,QAAUgB,EAAcL,EAAQX,UAAYA,EACpDW,EAAQE,iBAAmBb,EAC3B,MAAQlQ,GACN,oBAAsBA,GACtB,kBAAoBA,GACpB,mBAAqBA,IACpB6Q,EAAQ7Q,KAAOA,EACpB,CACA,SAASgR,GAAgB7S,EAAM0B,EAAM4C,GAClC,WAAa5C,GAAQsQ,GAAiBhS,EAAKgT,iBAAmBhT,GAC7DA,EAAKiH,eAAiB,GAAK3C,IAC1BtE,EAAKiH,aAAe,GAAK3C,EAC9B,CACA,SAAS2O,GAAcjT,EAAMkT,EAAUC,EAAWC,GAEhD,GADApT,EAAOA,EAAKqT,QACRH,EAAU,CACZA,EAAW,CAAC,EACZ,IAAK,IAAIpT,EAAI,EAAGA,EAAIqT,EAAUvT,OAAQE,IACpCoT,EAAS,IAAMC,EAAUrT,KAAM,EACjC,IAAKqT,EAAY,EAAGA,EAAYnT,EAAKJ,OAAQuT,IAC1CrT,EAAIoT,EAASzK,eAAe,IAAMzI,EAAKmT,GAAW7O,OACjDtE,EAAKmT,GAAWG,WAAaxT,IAAME,EAAKmT,GAAWG,SAAWxT,GAC9DA,GAAKsT,IAAuBpT,EAAKmT,GAAWI,iBAAkB,EACpE,KAAO,CAGL,IAFAJ,EAAY,GAAKxC,GAAiBwC,GAClCD,EAAW,KACNpT,EAAI,EAAGA,EAAIE,EAAKJ,OAAQE,IAAK,CAChC,GAAIE,EAAKF,GAAGwE,QAAU6O,EAGpB,OAFAnT,EAAKF,GAAGwT,UAAW,OACnBF,IAAuBpT,EAAKF,GAAGyT,iBAAkB,IAGnD,OAASL,GAAYlT,EAAKF,GAAG0T,WAAaN,EAAWlT,EAAKF,GAC5D,CACA,OAASoT,IAAaA,EAASI,UAAW,EAC5C,CACF,CACA,SAASG,GAAef,EAASpO,EAAO2C,GAEpC,MAAQ3C,KACNA,EAAQ,GAAKqM,GAAiBrM,MACtBoO,EAAQpO,QAAUoO,EAAQpO,MAAQA,GAC5C,MAAQ2C,GAKVyL,EAAQzL,aACN,MAAQA,EAAe,GAAK0J,GAAiB1J,GAAgB,GAJ7DyL,EAAQzL,eAAiB3C,IAAUoO,EAAQzL,aAAe3C,EAK9D,CACA,SAASoP,GAAahB,EAASpO,EAAO2C,EAAc0M,GAClD,GAAI,MAAQrP,EAAO,CACjB,GAAI,MAAQqP,EAAU,CACpB,GAAI,MAAQ1M,EAAc,MAAMtE,MAAMnD,EAAuB,KAC7D,GAAI4G,EAAYuN,GAAW,CACzB,GAAI,EAAIA,EAAS/T,OAAQ,MAAM+C,MAAMnD,EAAuB,KAC5DmU,EAAWA,EAAS,EACtB,CACA1M,EAAe0M,CACjB,CACA,MAAQ1M,IAAiBA,EAAe,IACxC3C,EAAQ2C,CACV,CACAA,EAAe0J,GAAiBrM,GAChCoO,EAAQzL,aAAeA,GACvB0M,EAAWjB,EAAQkB,eACN3M,GACX,KAAO0M,GACP,OAASA,IACRjB,EAAQpO,MAAQqP,EACrB,CACA,SAASE,GAAe7T,EAAM8T,GAC5B,GAAIA,EAAM,CACR,IAAIC,EAAa/T,EAAK+T,WACtB,GACEA,GACAA,IAAe/T,EAAKgU,WACpB,IAAMD,EAAW9T,SAGjB,YADA8T,EAAWE,UAAYH,EAG3B,CACA9T,EAAK4T,YAAcE,CACrB,CACA,IAAII,GAAkB,IAAIhF,IACxB,26BAA26BvK,MACz6B,MAGJ,SAASwP,GAAiBC,EAAOC,EAAW/P,GAC1C,IAAIgQ,EAAmB,IAAMD,EAAUtR,QAAQ,MAC/C,MAAQuB,GAAS,mBAAqBA,GAAS,KAAOA,EAClDgQ,EACEF,EAAMG,YAAYF,EAAW,IAC7B,UAAYA,EACTD,EAAMI,SAAW,GACjBJ,EAAMC,GAAa,GACxBC,EACEF,EAAMG,YAAYF,EAAW/P,GAC7B,kBAAoBA,GAClB,IAAMA,GACN4P,GAAgBO,IAAIJ,GACpB,UAAYA,EACTD,EAAMI,SAAWlQ,EACjB8P,EAAMC,IAAc,GAAK/P,GAAOxB,OAClCsR,EAAMC,GAAa/P,EAAQ,IACtC,CACA,SAASoQ,GAAkB1U,EAAM2U,EAAQC,GACvC,GAAI,MAAQD,GAAU,kBAAoBA,EACxC,MAAMhS,MAAMnD,EAAuB,KAErC,GADAQ,EAAOA,EAAKoU,MACR,MAAQQ,EAAY,CACtB,IAAK,IAAIP,KAAaO,GACnBA,EAAWnM,eAAe4L,IACxB,MAAQM,GAAUA,EAAOlM,eAAe4L,KACxC,IAAMA,EAAUtR,QAAQ,MACrB/C,EAAKuU,YAAYF,EAAW,IAC5B,UAAYA,EACTrU,EAAKwU,SAAW,GAChBxU,EAAKqU,GAAa,IAC7B,IAAK,IAAIQ,KAAgBF,EACtBN,EAAYM,EAAOE,GAClBF,EAAOlM,eAAeoM,IACpBD,EAAWC,KAAkBR,GAC7BF,GAAiBnU,EAAM6U,EAAcR,EAC7C,MACE,IAAK,IAAIS,KAAgBH,EACvBA,EAAOlM,eAAeqM,IACpBX,GAAiBnU,EAAM8U,EAAcH,EAAOG,GACpD,CACA,SAASC,GAAgB/M,GACvB,IAAK,IAAMA,EAAQjF,QAAQ,KAAM,OAAO,EACxC,OAAQiF,GACN,IAAK,iBACL,IAAK,gBACL,IAAK,YACL,IAAK,gBACL,IAAK,gBACL,IAAK,mBACL,IAAK,iBACL,IAAK,gBACH,OAAO,EACT,QACE,OAAO,EAEb,CACA,IAAIgN,GAAU,IAAIlG,IAAI,CAClB,CAAC,gBAAiB,kBAClB,CAAC,UAAW,OACZ,CAAC,YAAa,cACd,CAAC,cAAe,eAChB,CAAC,eAAgB,iBACjB,CAAC,oBAAqB,sBACtB,CAAC,aAAc,eACf,CAAC,gBAAiB,kBAClB,CAAC,YAAa,cACd,CAAC,WAAY,aACb,CAAC,WAAY,aACb,CAAC,qBAAsB,uBACvB,CAAC,4BAA6B,+BAC9B,CAAC,eAAgB,iBACjB,CAAC,iBAAkB,mBACnB,CAAC,mBAAoB,qBACrB,CAAC,mBAAoB,qBACrB,CAAC,cAAe,gBAChB,CAAC,WAAY,aACb,CAAC,aAAc,eACf,CAAC,eAAgB,iBACjB,CAAC,aAAc,eACf,CAAC,WAAY,aACb,CAAC,iBAAkB,oBACnB,CAAC,cAAe,gBAChB,CAAC,YAAa,cACd,CAAC,cAAe,gBAChB,CAAC,aAAc,eACf,CAAC,YAAa,cACd,CAAC,6BAA8B,gCAC/B,CAAC,2BAA4B,8BAC7B,CAAC,YAAa,eACd,CAAC,eAAgB,kBACjB,CAAC,iBAAkB,mBACnB,CAAC,gBAAiB,kBAClB,CAAC,gBAAiB,kBAClB,CAAC,YAAa,cACd,CAAC,YAAa,cACd,CAAC,cAAe,gBAChB,CAAC,mBAAoB,qBACrB,CAAC,oBAAqB,sBACtB,CAAC,aAAc,eACf,CAAC,WAAY,YACb,CAAC,gBAAiB,kBAClB,CAAC,kBAAmB,oBACpB,CAAC,iBAAkB,mBACnB,CAAC,YAAa,cACd,CAAC,cAAe,gBAChB,CAAC,wBAAyB,0BAC1B,CAAC,yBAA0B,2BAC3B,CAAC,kBAAmB,oBACpB,CAAC,mBAAoB,qBACrB,CAAC,gBAAiB,kBAClB,CAAC,iBAAkB,mBACnB,CAAC,mBAAoB,qBACrB,CAAC,gBAAiB,kBAClB,CAAC,cAAe,gBAChB,CAAC,aAAc,eACf,CAAC,iBAAkB,mBACnB,CAAC,gBAAiB,kBAClB,CAAC,kBAAmB,oBACpB,CAAC,oBAAqB,sBACtB,CAAC,qBAAsB,uBACvB,CAAC,cAAe,gBAChB,CAAC,eAAgB,iBACjB,CAAC,aAAc,gBACf,CAAC,cAAe,gBAChB,CAAC,WAAY,aACb,CAAC,eAAgB,iBACjB,CAAC,gBAAiB,kBAClB,CAAC,eAAgB,iBACjB,CAAC,WAAY,cACb,CAAC,cAAe,iBAChB,CAAC,cAAe,iBAChB,CAAC,cAAe,gBAChB,CAAC,cAAe,gBAChB,CAAC,aAAc,eACf,CAAC,UAAW,cAEdmG,GACE,2HACJ,SAASC,GAAYxV,GACnB,OAAOuV,GAAqB/E,KAAK,GAAKxQ,GAClC,8FACAA,CACN,CACA,IAAIyV,GAAwB,KAC5B,SAASC,GAAeC,GAItB,OAHAA,EAAcA,EAAYC,QAAUD,EAAYE,YAAcpI,QAClDqI,0BACTH,EAAcA,EAAYG,yBACtB,IAAMH,EAAYpV,SAAWoV,EAAYtN,WAAasN,CAC/D,CACA,IAAII,GAAgB,KAClBC,GAAe,KACjB,SAASC,GAAqBL,GAC5B,IAAIM,EAAmBrH,GAAoB+G,GAC3C,GAAIM,IAAqBN,EAASM,EAAiBlH,WAAY,CAC7D,IAAImH,EAAQP,EAAO3H,KAAqB,KACxCmI,EAAG,OAAUR,EAASM,EAAiBlH,UAAYkH,EAAiBlU,MAClE,IAAK,QAYH,GAXA+Q,GACE6C,EACAO,EAAMvR,MACNuR,EAAM5O,aACN4O,EAAM5O,aACN4O,EAAM9D,QACN8D,EAAMjD,eACNiD,EAAMnU,KACNmU,EAAMhU,MAER+T,EAAmBC,EAAMhU,KACrB,UAAYgU,EAAMnU,MAAQ,MAAQkU,EAAkB,CACtD,IAAKC,EAAQP,EAAQO,EAAM9N,YAAc8N,EAAQA,EAAM9N,WAQvD,IAPA8N,EAAQA,EAAME,iBACZ,eACEzD,GACE,GAAKsD,GAEP,oBAGFA,EAAmB,EACnBA,EAAmBC,EAAMjW,OACzBgW,IACA,CACA,IAAII,EAAYH,EAAMD,GACtB,GAAII,IAAcV,GAAUU,EAAUC,OAASX,EAAOW,KAAM,CAC1D,IAAIC,EAAaF,EAAUrI,KAAqB,KAChD,IAAKuI,EAAY,MAAMvT,MAAMnD,EAAuB,KACpDiT,GACEuD,EACAE,EAAW5R,MACX4R,EAAWjP,aACXiP,EAAWjP,aACXiP,EAAWnE,QACXmE,EAAWtD,eACXsD,EAAWxU,KACXwU,EAAWrU,KAEf,CACF,CACA,IACE+T,EAAmB,EACnBA,EAAmBC,EAAMjW,OACzBgW,KAECI,EAAYH,EAAMD,IACPK,OAASX,EAAOW,MAAQrE,GAAqBoE,EAC7D,CACA,MAAMF,EACR,IAAK,WACHrC,GAAe6B,EAAQO,EAAMvR,MAAOuR,EAAM5O,cAC1C,MAAM6O,EACR,IAAK,SAED,OADDF,EAAmBC,EAAMvR,QAEtB2O,GAAcqC,IAAUO,EAAM3C,SAAU0C,GAAkB,GAEpE,CACF,CACA,IAAIO,IAAuB,EAC3B,SAASC,GAAiBlT,EAAI4S,EAAGO,GAC/B,GAAIF,GAAsB,OAAOjT,EAAG4S,EAAGO,GACvCF,IAAuB,EACvB,IAEE,OAD+BjT,EAAG4S,EAEpC,CAAE,QACA,GACIK,IAAuB,GACzB,OAASV,IAAiB,OAASC,MAGhCY,KACDb,KACIK,EAAIL,GACLvS,EAAKwS,GACLA,GAAeD,GAAgB,KAChCE,GAAqBG,GACrB5S,IAEF,IAAK4S,EAAI,EAAGA,EAAI5S,EAAGtD,OAAQkW,IAAKH,GAAqBzS,EAAG4S,GAC9D,CACF,CACA,SAASS,GAAY9H,EAAMY,GACzB,IAAIX,EAAYD,EAAKC,UACrB,GAAI,OAASA,EAAW,OAAO,KAC/B,IAAImH,EAAQnH,EAAUf,KAAqB,KAC3C,GAAI,OAASkI,EAAO,OAAO,KAC3BnH,EAAYmH,EAAMxG,GAClByG,EAAG,OAAQzG,GACT,IAAK,UACL,IAAK,iBACL,IAAK,gBACL,IAAK,uBACL,IAAK,cACL,IAAK,qBACL,IAAK,cACL,IAAK,qBACL,IAAK,YACL,IAAK,mBACL,IAAK,gBACFwG,GAASA,EAAMrC,YAEbqC,IACC,YAFApH,EAAOA,EAAK/M,OAGZ,UAAY+M,GACZ,WAAaA,GACb,aAAeA,IAEnBA,GAAQoH,EACR,MAAMC,EACR,QACErH,GAAO,EAEX,GAAIA,EAAM,OAAO,KACjB,GAAIC,GAAa,oBAAsBA,EACrC,MAAM/L,MACJnD,EAAuB,IAAK6P,SAAyBX,IAEzD,OAAOA,CACT,CACA,IAAI8H,IAAgC,EACpC,GAAI/G,GACF,IACE,IAAI4D,GAAU,CAAC,EACf5Q,OAAOgB,eAAe4P,GAAS,UAAW,CACxChC,IAAK,WACHmF,IAAgC,CAClC,IAEFrJ,OAAOsJ,iBAAiB,OAAQpD,GAASA,IACzClG,OAAOuJ,oBAAoB,OAAQrD,GAASA,GAC9C,CAAE,MAAOjB,IACPoE,IAAgC,CAClC,CACF,IAAItL,GAAO,KACTyL,GAAY,KACZC,GAAe,KACjB,SAASC,KACP,GAAID,GAAc,OAAOA,GACzB,IAAIE,EAGFC,EAFAC,EAAaL,GACbM,EAAcD,EAAWpX,OAEzBsX,EAAW,UAAWhM,GAAOA,GAAK5G,MAAQ4G,GAAK0I,YAC/CuD,EAAYD,EAAStX,OACvB,IACEkX,EAAQ,EACRA,EAAQG,GAAeD,EAAWF,KAAWI,EAASJ,GACtDA,KAEF,IAAIM,EAASH,EAAcH,EAC3B,IACEC,EAAM,EACNA,GAAOK,GACPJ,EAAWC,EAAcF,KAASG,EAASC,EAAYJ,GACvDA,KAEF,OAAQH,GAAeM,EAASzJ,MAAMqJ,EAAO,EAAIC,EAAM,EAAIA,OAAM,EACnE,CACA,SAASM,GAAiBhC,GACxB,IAAIiC,EAAUjC,EAAYiC,QAM1B,MALA,aAAcjC,EAEV,KADEA,EAAcA,EAAYkC,WACP,KAAOD,IAAYjC,EAAc,IACrDA,EAAciC,EACnB,KAAOjC,IAAgBA,EAAc,IAC9B,IAAMA,GAAe,KAAOA,EAAcA,EAAc,CACjE,CACA,SAASmC,KACP,OAAO,CACT,CACA,SAASC,KACP,OAAO,CACT,CACA,SAASC,GAAqBC,GAC5B,SAASC,EACPC,EACAC,EACAzJ,EACAgH,EACA0C,GAQA,IAAK,IAAIC,KANT1G,KAAK2G,WAAaJ,EAClBvG,KAAK4G,YAAc7J,EACnBiD,KAAK5P,KAAOoW,EACZxG,KAAK+D,YAAcA,EACnB/D,KAAKgE,OAASyC,EACdzG,KAAK6G,cAAgB,KACAR,EACnBA,EAAUlP,eAAeuP,KACrBH,EAAYF,EAAUK,GACvB1G,KAAK0G,GAAYH,EACdA,EAAUxC,GACVA,EAAY2C,IASpB,OARA1G,KAAK8G,oBACH,MAAQ/C,EAAYgD,iBAChBhD,EAAYgD,kBACZ,IAAOhD,EAAYiD,aAErBd,GACAC,GACJnG,KAAKiH,qBAAuBd,GACrBnG,IACT,CAuBA,OAtBA9O,EAAOoV,EAAmBlU,UAAW,CACnC8U,eAAgB,WACdlH,KAAK+G,kBAAmB,EACxB,IAAIjL,EAAQkE,KAAK+D,YACjBjI,IACGA,EAAMoL,eACHpL,EAAMoL,iBACN,mBAAqBpL,EAAMkL,cAAgBlL,EAAMkL,aAAc,GAClEhH,KAAK8G,mBAAqBZ,GAC/B,EACAiB,gBAAiB,WACf,IAAIrL,EAAQkE,KAAK+D,YACjBjI,IACGA,EAAMqL,gBACHrL,EAAMqL,kBACN,mBAAqBrL,EAAMsL,eAC1BtL,EAAMsL,cAAe,GACzBpH,KAAKiH,qBAAuBf,GACjC,EACAmB,QAAS,WAAa,EACtBC,aAAcpB,KAETI,CACT,CACA,IAaEiB,GACAC,GACAC,GAfEC,GAAiB,CACjBC,WAAY,EACZC,QAAS,EACTC,WAAY,EACZC,UAAW,SAAUhM,GACnB,OAAOA,EAAMgM,WAAaC,KAAKnQ,KACjC,EACAmP,iBAAkB,EAClBiB,UAAW,GAEbC,GAAiB7B,GAAqBsB,IACtCQ,GAAmBhX,EAAO,CAAC,EAAGwW,GAAgB,CAAES,KAAM,EAAGC,OAAQ,IACjEC,GAAmBjC,GAAqB8B,IAIxCI,GAAsBpX,EAAO,CAAC,EAAGgX,GAAkB,CACjDK,QAAS,EACTC,QAAS,EACTC,QAAS,EACTC,QAAS,EACTC,MAAO,EACPC,MAAO,EACPC,QAAS,EACTC,SAAU,EACVC,OAAQ,EACRC,QAAS,EACTC,iBAAkBC,GAClBC,OAAQ,EACRC,QAAS,EACTC,cAAe,SAAUvN,GACvB,YAAO,IAAWA,EAAMuN,cACpBvN,EAAMwN,cAAgBxN,EAAMmI,WAC1BnI,EAAMyN,UACNzN,EAAMwN,YACRxN,EAAMuN,aACZ,EACAG,UAAW,SAAU1N,GACnB,MAAI,cAAeA,EAAcA,EAAM0N,WACvC1N,IAAU2L,KACPA,IAAkB,cAAgB3L,EAAM1L,MACnCmX,GAAgBzL,EAAMyM,QAAUd,GAAec,QAChDf,GAAgB1L,EAAM0M,QAAUf,GAAee,SAC/ChB,GAAgBD,GAAgB,EACpCE,GAAiB3L,GACbyL,GACT,EACAkC,UAAW,SAAU3N,GACnB,MAAO,cAAeA,EAAQA,EAAM2N,UAAYjC,EAClD,IAEFkC,GAAsBtD,GAAqBkC,IAE3CqB,GAAqBvD,GADAlV,EAAO,CAAC,EAAGoX,GAAqB,CAAEsB,aAAc,KAGrEC,GAAsBzD,GADAlV,EAAO,CAAC,EAAGgX,GAAkB,CAAEmB,cAAe,KAOpES,GAA0B1D,GALAlV,EAAO,CAAC,EAAGwW,GAAgB,CACnDqC,cAAe,EACfC,YAAa,EACbC,cAAe,KAUjBC,GAA0B9D,GAPAlV,EAAO,CAAC,EAAGwW,GAAgB,CACnDyC,cAAe,SAAUrO,GACvB,MAAO,kBAAmBA,EACtBA,EAAMqO,cACNtO,OAAOsO,aACb,KAIFC,GAA4BhE,GADAlV,EAAO,CAAC,EAAGwW,GAAgB,CAAErS,KAAM,KAE/DgV,GAAe,CACbC,IAAK,SACLC,SAAU,IACVC,KAAM,YACNC,GAAI,UACJC,MAAO,aACPC,KAAM,YACNC,IAAK,SACLC,IAAK,KACLC,KAAM,cACNC,KAAM,cACNC,OAAQ,aACRC,gBAAiB,gBAEnBC,GAAiB,CACf,EAAG,YACH,EAAG,MACH,GAAI,QACJ,GAAI,QACJ,GAAI,QACJ,GAAI,UACJ,GAAI,MACJ,GAAI,QACJ,GAAI,WACJ,GAAI,SACJ,GAAI,IACJ,GAAI,SACJ,GAAI,WACJ,GAAI,MACJ,GAAI,OACJ,GAAI,YACJ,GAAI,UACJ,GAAI,aACJ,GAAI,YACJ,GAAI,SACJ,GAAI,SACJ,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,UACL,IAAK,aACL,IAAK,QAEPC,GAAoB,CAClBC,IAAK,SACLC,QAAS,UACTC,KAAM,UACNC,MAAO,YAEX,SAASC,GAAoBC,GAC3B,IAAI1H,EAAc/D,KAAK+D,YACvB,OAAOA,EAAYkF,iBACflF,EAAYkF,iBAAiBwC,MAC5BA,EAASN,GAAkBM,OACxB1H,EAAY0H,EAEtB,CACA,SAASvC,KACP,OAAOsC,EACT,CACA,IAsCEE,GAAyBtF,GAtCElV,EAAO,CAAC,EAAGgX,GAAkB,CACtDyD,IAAK,SAAU5H,GACb,GAAIA,EAAY4H,IAAK,CACnB,IAAIA,EAAMtB,GAAatG,EAAY4H,MAAQ5H,EAAY4H,IACvD,GAAI,iBAAmBA,EAAK,OAAOA,CACrC,CACA,MAAO,aAAe5H,EAAY3T,KAE9B,MADE2T,EAAcgC,GAAiBhC,IACZ,QAAU6H,OAAOC,aAAa9H,GACnD,YAAcA,EAAY3T,MAAQ,UAAY2T,EAAY3T,KACxD8a,GAAenH,EAAYiC,UAAY,eACvC,EACR,EACA7X,KAAM,EACN2d,SAAU,EACVjD,QAAS,EACTC,SAAU,EACVC,OAAQ,EACRC,QAAS,EACT+C,OAAQ,EACRC,OAAQ,EACR/C,iBAAkBC,GAClBjD,SAAU,SAAUnK,GAClB,MAAO,aAAeA,EAAM1L,KAAO2V,GAAiBjK,GAAS,CAC/D,EACAkK,QAAS,SAAUlK,GACjB,MAAO,YAAcA,EAAM1L,MAAQ,UAAY0L,EAAM1L,KACjD0L,EAAMkK,QACN,CACN,EACAiG,MAAO,SAAUnQ,GACf,MAAO,aAAeA,EAAM1L,KACxB2V,GAAiBjK,GACjB,YAAcA,EAAM1L,MAAQ,UAAY0L,EAAM1L,KAC5C0L,EAAMkK,QACN,CACR,KAeFkG,GAAwB9F,GAZAlV,EAAO,CAAC,EAAGoX,GAAqB,CACtD6D,UAAW,EACXC,MAAO,EACPC,OAAQ,EACRC,SAAU,EACVC,mBAAoB,EACpBC,MAAO,EACPC,MAAO,EACPC,MAAO,EACPC,YAAa,EACbC,UAAW,KAabC,GAAsBzG,GAVAlV,EAAO,CAAC,EAAGgX,GAAkB,CACjD4E,QAAS,EACTC,cAAe,EACfC,eAAgB,EAChBjE,OAAQ,EACRC,QAAS,EACTH,QAAS,EACTC,SAAU,EACVG,iBAAkBC,MAQpB+D,GAA2B7G,GALAlV,EAAO,CAAC,EAAGwW,GAAgB,CACpDwF,aAAc,EACdlD,YAAa,EACbC,cAAe,KAuBjBkD,GAAsB/G,GApBAlV,EAAO,CAAC,EAAGoX,GAAqB,CACpD8E,OAAQ,SAAUtR,GAChB,MAAO,WAAYA,EACfA,EAAMsR,OACN,gBAAiBtR,GACdA,EAAMuR,YACP,CACR,EACAC,OAAQ,SAAUxR,GAChB,MAAO,WAAYA,EACfA,EAAMwR,OACN,gBAAiBxR,GACdA,EAAMyR,YACP,eAAgBzR,GACbA,EAAM0R,WACP,CACV,EACAC,OAAQ,EACRC,UAAW,KAObC,GAAuBvH,GAJAlV,EAAO,CAAC,EAAGwW,GAAgB,CAChDkG,SAAU,EACVC,SAAU,KAGZC,GAAe,CAAC,EAAG,GAAI,GAAI,IAC3BC,GAAyB5P,IAAa,qBAAsBtC,OAC5DmS,GAAe,KACjB7P,IACE,iBAAkBC,WACjB4P,GAAe5P,SAAS4P,cAC3B,IAAIC,GAAuB9P,IAAa,cAAetC,SAAWmS,GAChEE,GACE/P,MACE4P,IACCC,IAAgB,EAAIA,IAAgB,IAAMA,IAC/CG,GAAgBvC,OAAOC,aAAa,IACpCuC,IAAmB,EACrB,SAASC,GAAyBC,EAAcvK,GAC9C,OAAQuK,GACN,IAAK,QACH,OAAQ,IAAMR,GAAarc,QAAQsS,EAAYiC,SACjD,IAAK,UACH,OAAO,MAAQjC,EAAYiC,QAC7B,IAAK,WACL,IAAK,YACL,IAAK,WACH,OAAO,EACT,QACE,OAAO,EAEb,CACA,SAASuI,GAAuBxK,GAE9B,MAAO,kBADPA,EAAcA,EAAYqE,SACgB,SAAUrE,EAChDA,EAAY1O,KACZ,IACN,CACA,IAAImZ,IAAc,EAiDlB,IAAIC,GAAsB,CACxBC,OAAO,EACPC,MAAM,EACNC,UAAU,EACV,kBAAkB,EAClBC,OAAO,EACPC,OAAO,EACPC,QAAQ,EACRC,UAAU,EACVC,OAAO,EACPC,QAAQ,EACRC,KAAK,EACL3M,MAAM,EACN4M,MAAM,EACNhhB,KAAK,EACLihB,MAAM,GAER,SAASC,GAAmB/P,GAC1B,IAAIC,EAAWD,GAAQA,EAAKC,UAAYD,EAAKC,SAAST,cACtD,MAAO,UAAYS,IACbiP,GAAoBlP,EAAKnP,MAC3B,aAAeoP,CAGrB,CACA,SAAS+P,GACPC,EACArS,EACA4G,EACAC,GAEAG,GACIC,GACEA,GAAarO,KAAKiO,GACjBI,GAAe,CAACJ,GAClBG,GAAgBH,EAErB,GADA7G,EAAOsS,GAA4BtS,EAAM,aAChC7O,SACLyV,EAAc,IAAIkE,GAClB,WACA,SACA,KACAlE,EACAC,GAEFwL,EAAczZ,KAAK,CAAE+F,MAAOiI,EAAa2L,UAAWvS,IACxD,CACA,IAAIwS,GAAkB,KACpBC,GAAsB,KACxB,SAASC,GAAgBL,GACvBM,GAAqBN,EAAe,EACtC,CACA,SAASO,GAAsBhT,GAE7B,GAAIuD,GADapD,GAAoBH,IACC,OAAOA,CAC/C,CACA,SAASiT,GAA4B1B,EAAcvR,GACjD,GAAI,WAAauR,EAAc,OAAOvR,CACxC,CACA,IAAIkT,IAAwB,EAC5B,GAAI9R,GAAW,CACb,IAAI+R,GACJ,GAAI/R,GAAW,CACb,IAAIgS,GAAgC,YAAa/R,SACjD,IAAK+R,GAA+B,CAClC,IAAIC,GAA4BhS,SAASC,cAAc,OACvD+R,GAA0BpR,aAAa,UAAW,WAClDmR,GACE,oBAAsBC,GAA0BC,OACpD,CACAH,GAAsCC,EACxC,MAAOD,IAAsC,EAC7CD,GACEC,MACE9R,SAAS4P,cAAgB,EAAI5P,SAAS4P,aAC5C,CACA,SAASsC,KACPX,KACGA,GAAgBY,YAAY,mBAAoBC,IAChDZ,GAAsBD,GAAkB,KAC7C,CACA,SAASa,GAAqBzM,GAC5B,GACE,UAAYA,EAAYmJ,cACxB6C,GAAsBH,IACtB,CACA,IAAIJ,EAAgB,GACpBD,GACEC,EACAI,GACA7L,EACAD,GAAeC,IAEjBe,GAAiB+K,GAAiBL,EACpC,CACF,CACA,SAASiB,GAAkCnC,EAActK,EAAQjH,GAC/D,YAAcuR,GACTgC,KAEAV,GAAsB7S,GADtB4S,GAAkB3L,GAEH0M,YAAY,mBAAoBF,KAChD,aAAelC,GAAgBgC,IACrC,CACA,SAASK,GAAmCrC,GAC1C,GACE,oBAAsBA,GACtB,UAAYA,GACZ,YAAcA,EAEd,OAAOyB,GAAsBH,GACjC,CACA,SAASgB,GAA2BtC,EAAcvR,GAChD,GAAI,UAAYuR,EAAc,OAAOyB,GAAsBhT,EAC7D,CACA,SAAS8T,GAAmCvC,EAAcvR,GACxD,GAAI,UAAYuR,GAAgB,WAAaA,EAC3C,OAAOyB,GAAsBhT,EACjC,CAIA,IAAI+T,GAAW,oBAAsB3f,OAAO4f,GAAK5f,OAAO4f,GAHxD,SAAYlgB,EAAGmgB,GACb,OAAQngB,IAAMmgB,IAAM,IAAMngB,GAAK,EAAIA,IAAM,EAAImgB,IAAQngB,IAAMA,GAAKmgB,IAAMA,CACxE,EAEA,SAASC,GAAaC,EAAMC,GAC1B,GAAIL,GAASI,EAAMC,GAAO,OAAO,EACjC,GACE,kBAAoBD,GACpB,OAASA,GACT,kBAAoBC,GACpB,OAASA,EAET,OAAO,EACT,IAAIC,EAAQjgB,OAAOkgB,KAAKH,GACtBI,EAAQngB,OAAOkgB,KAAKF,GACtB,GAAIC,EAAM9iB,SAAWgjB,EAAMhjB,OAAQ,OAAO,EAC1C,IAAKgjB,EAAQ,EAAGA,EAAQF,EAAM9iB,OAAQgjB,IAAS,CAC7C,IAAIC,EAAaH,EAAME,GACvB,IACGna,GAAe3E,KAAK2e,EAAMI,KAC1BT,GAASI,EAAKK,GAAaJ,EAAKI,IAEjC,OAAO,CACX,CACA,OAAO,CACT,CACA,SAASC,GAAY9iB,GACnB,KAAOA,GAAQA,EAAK+T,YAAc/T,EAAOA,EAAK+T,WAC9C,OAAO/T,CACT,CACA,SAAS+iB,GAA0B7X,EAAM8X,GACvC,IAESC,EAFLjjB,EAAO8iB,GAAY5X,GAEvB,IADAA,EAAO,EACWlL,GAAQ,CACxB,GAAI,IAAMA,EAAKC,SAAU,CAEvB,GADAgjB,EAAU/X,EAAOlL,EAAK4T,YAAYhU,OAC9BsL,GAAQ8X,GAAUC,GAAWD,EAC/B,MAAO,CAAEhjB,KAAMA,EAAMgjB,OAAQA,EAAS9X,GACxCA,EAAO+X,CACT,CACAnN,EAAG,CACD,KAAO9V,GAAQ,CACb,GAAIA,EAAKkjB,YAAa,CACpBljB,EAAOA,EAAKkjB,YACZ,MAAMpN,CACR,CACA9V,EAAOA,EAAK+H,UACd,CACA/H,OAAO,CACT,CACAA,EAAO8iB,GAAY9iB,EACrB,CACF,CACA,SAASmjB,GAAaC,EAAWC,GAC/B,SAAOD,IAAaC,KAChBD,IAAcC,KAEZD,GAAa,IAAMA,EAAUnjB,YAE3BojB,GAAa,IAAMA,EAAUpjB,SAC3BkjB,GAAaC,EAAWC,EAAUtb,YAClC,aAAcqb,EACZA,EAAUE,SAASD,KACnBD,EAAUG,4BAC0C,GAA/CH,EAAUG,wBAAwBF,KAGrD,CACA,SAASG,GAAqBC,GAO5B,IACE,IAAI/Q,EAAUV,IAPhByR,EACE,MAAQA,GACR,MAAQA,EAAczQ,eACtB,MAAQyQ,EAAczQ,cAAc0Q,YAChCD,EAAczQ,cAAc0Q,YAC5BvW,QAEyCuC,UAC7CgD,aAAmB+Q,EAAcE,mBAEjC,CACA,IACE,IAAItb,EACF,kBAAoBqK,EAAQkR,cAAcxG,SAASyG,IACvD,CAAE,MAAOrZ,GACPnC,GAA2B,CAC7B,CACA,IAAIA,EACC,MACLqK,EAAUV,IAFoByR,EAAgB/Q,EAAQkR,eAEblU,SAC3C,CACA,OAAOgD,CACT,CACA,SAASoR,GAAyBjT,GAChC,IAAIC,EAAWD,GAAQA,EAAKC,UAAYD,EAAKC,SAAST,cACtD,OACES,IACE,UAAYA,IACX,SAAWD,EAAKnP,MACf,WAAamP,EAAKnP,MAClB,QAAUmP,EAAKnP,MACf,QAAUmP,EAAKnP,MACf,aAAemP,EAAKnP,OACtB,aAAeoP,GACf,SAAWD,EAAKkT,gBAEtB,CACA,SAASC,GAAiBC,EAA2BR,GACnD,IAAIS,EAAiBV,GAAqBC,GAC1CA,EAAgBQ,EAA0BE,YAC1C,IAAIC,EAAsBH,EAA0BI,eACpD,GACEH,IAAmBT,GACnBA,GACAA,EAAczQ,eACdmQ,GAAaM,EAAczQ,cAAcpL,gBAAiB6b,GAC1D,CACA,GAAI,OAASW,GAAuBN,GAAyBL,GAC3D,GACIQ,EAA4BG,EAAoBtN,WAElD,KADCoN,EAAiBE,EAAoBrN,OAEnCmN,EAAiBD,GACpB,mBAAoBR,EAEnBA,EAAca,eAAiBL,EAC7BR,EAAcc,aAAe7Z,KAAK8Z,IACjCN,EACAT,EAAcnf,MAAM1E,aAErB,IACDskB,GACED,EACAR,EAAczQ,eAAiBtD,WAC/BuU,EAA0BP,aAC5BvW,QACasX,aACf,CACAP,EAAiBA,EAAeO,eAChC,IAAI7kB,EAAS6jB,EAAc7P,YAAYhU,OACrCkX,EAAQpM,KAAK8Z,IAAIJ,EAAoBtN,MAAOlX,GAC9CwkB,OACE,IAAWA,EAAoBrN,IAC3BD,EACApM,KAAK8Z,IAAIJ,EAAoBrN,IAAKnX,IACvCskB,EAAeQ,QACd5N,EAAQsN,IACNxkB,EAASwkB,EACVA,EAAsBtN,EACtBA,EAAQlX,GACXA,EAASmjB,GAA0BU,EAAe3M,GAClD,IAAI6N,EAAY5B,GACdU,EACAW,GAEFxkB,GACE+kB,IACC,IAAMT,EAAeU,YACpBV,EAAeW,aAAejlB,EAAOI,MACrCkkB,EAAeY,eAAiBllB,EAAOojB,QACvCkB,EAAea,YAAcJ,EAAU3kB,MACvCkkB,EAAec,cAAgBL,EAAU3B,WACzCiB,EACAA,EAA0BgB,eACFC,SAAStlB,EAAOI,KAAMJ,EAAOojB,QACvDkB,EAAeiB,kBACfrO,EAAQsN,GACHF,EAAekB,SAASnB,GACzBC,EAAeQ,OAAOC,EAAU3kB,KAAM2kB,EAAU3B,UAC/CiB,EAA0BoB,OACzBV,EAAU3kB,KACV2kB,EAAU3B,QAEZkB,EAAekB,SAASnB,IAChC,CAEF,IADAA,EAA4B,GAE1BC,EAAiBT,EAChBS,EAAiBA,EAAenc,YAGjC,IAAMmc,EAAejkB,UACnBgkB,EAA0B5c,KAAK,CAC7BqL,QAASwR,EACToB,KAAMpB,EAAeqB,WACrBC,IAAKtB,EAAeuB,YAG1B,IADA,oBAAsBhC,EAAciC,OAASjC,EAAciC,QAEzDjC,EAAgB,EAChBA,EAAgBQ,EAA0BrkB,OAC1C6jB,KAECS,EAAiBD,EAA0BR,IAC1B/Q,QAAQ6S,WAAarB,EAAeoB,KACnDpB,EAAexR,QAAQ+S,UAAYvB,EAAesB,GACzD,CACF,CACA,IAAIG,GACAlW,IAAa,iBAAkBC,UAAY,IAAMA,SAAS4P,aAC5DpN,GAAgB,KAChB0T,GAAoB,KACpBC,GAAgB,KAChBC,IAAY,EACd,SAASC,GAAqBjF,EAAezL,EAAa0C,GACxD,IAAI9F,EACF8F,EAAkB5K,SAAW4K,EACzBA,EAAkBrI,SAClB,IAAMqI,EAAkB9X,SACtB8X,EACAA,EAAkB/E,cAC1B8S,IACE,MAAQ5T,IACRA,KAAkBF,GAAiBC,KAEnC,mBADEA,EAAMC,KACmB4R,GAAyB7R,GAC/CA,EAAM,CAAE6E,MAAO7E,EAAIqS,eAAgBvN,IAAK9E,EAAIsS,cAK5CtS,EAAM,CACL4S,YALA5S,GACCA,EAAIe,eAAiBf,EAAIe,cAAc0Q,aACxCvW,QACAsX,gBAEgBI,WAChBC,aAAc7S,EAAI6S,aAClBC,UAAW9S,EAAI8S,UACfC,YAAa/S,EAAI+S,aAEtBa,IAAiBtD,GAAasD,GAAe5T,KAC1C4T,GAAgB5T,EAElB,GADCA,EAAM8O,GAA4B6E,GAAmB,aAC9ChmB,SACJyV,EAAc,IAAIkE,GAClB,WACA,SACA,KACAlE,EACA0C,GAEF+I,EAAczZ,KAAK,CAAE+F,MAAOiI,EAAa2L,UAAW/O,IACnDoD,EAAYC,OAASpD,KAC9B,CACA,SAAS8T,GAAcC,EAAWC,GAChC,IAAIC,EAAW,CAAC,EAIhB,OAHAA,EAASF,EAAU5V,eAAiB6V,EAAU7V,cAC9C8V,EAAS,SAAWF,GAAa,SAAWC,EAC5CC,EAAS,MAAQF,GAAa,MAAQC,EAC/BC,CACT,CACA,IAAIC,GAAiB,CACjBC,aAAcL,GAAc,YAAa,gBACzCM,mBAAoBN,GAAc,YAAa,sBAC/CO,eAAgBP,GAAc,YAAa,kBAC3CQ,cAAeR,GAAc,aAAc,iBAC3CS,gBAAiBT,GAAc,aAAc,mBAC7CU,iBAAkBV,GAAc,aAAc,oBAC9CW,cAAeX,GAAc,aAAc,kBAE7CY,GAAqB,CAAC,EACtBxS,GAAQ,CAAC,EASX,SAASyS,GAA2BX,GAClC,GAAIU,GAAmBV,GAAY,OAAOU,GAAmBV,GAC7D,IAAKE,GAAeF,GAAY,OAAOA,EACvC,IACED,EADEa,EAAYV,GAAeF,GAE/B,IAAKD,KAAaa,EAChB,GAAIA,EAAUre,eAAewd,IAAcA,KAAa7R,GACtD,OAAQwS,GAAmBV,GAAaY,EAAUb,GACtD,OAAOC,CACT,CAjBAzW,KACI2E,GAAQ1E,SAASC,cAAc,OAAOyE,MACxC,mBAAoBjH,gBACViZ,GAAeC,aAAaU,iBAC7BX,GAAeE,mBAAmBS,iBAClCX,GAAeG,eAAeQ,WACvC,oBAAqB5Z,eACZiZ,GAAeO,cAAcK,YAWxC,IAAIC,GAAgBJ,GAA2B,gBAC7CK,GAAsBL,GAA2B,sBACjDM,GAAkBN,GAA2B,kBAC7CO,GAAiBP,GAA2B,iBAC5CQ,GAAmBR,GAA2B,mBAC9CS,GAAoBT,GAA2B,oBAC/CU,GAAiBV,GAA2B,iBAC5CW,GAA6B,IAAI1Y,IACjC2Y,GACE,6nBAA6nB9iB,MAC3nB,KAEN,SAAS+iB,GAAoB9H,EAAc/H,GACzC2P,GAA2B7jB,IAAIic,EAAc/H,GAC7CzI,GAAsByI,EAAW,CAAC+H,GACpC,CACA,IAAI+H,GAAmB,GACrBC,GAAwB,EACxBC,GAA2B,EAC7B,SAASC,KACP,IACE,IAAIC,EAAWH,GACb9nB,EAAK+nB,GAA2BD,GAAwB,EAC1D9nB,EAAIioB,GAEJ,CACA,IAAI9iB,EAAQ0iB,GAAiB7nB,GAC7B6nB,GAAiB7nB,KAAO,KACxB,IAAIkoB,EAAQL,GAAiB7nB,GAC7B6nB,GAAiB7nB,KAAO,KACxB,IAAImoB,EAASN,GAAiB7nB,GAC9B6nB,GAAiB7nB,KAAO,KACxB,IAAIgM,EAAO6b,GAAiB7nB,GAE5B,GADA6nB,GAAiB7nB,KAAO,KACpB,OAASkoB,GAAS,OAASC,EAAQ,CACrC,IAAIvhB,EAAUshB,EAAMthB,QACpB,OAASA,EACJuhB,EAAOC,KAAOD,GACbA,EAAOC,KAAOxhB,EAAQwhB,KAAQxhB,EAAQwhB,KAAOD,GACnDD,EAAMthB,QAAUuhB,CAClB,CACA,IAAMnc,GAAQqc,GAA8BljB,EAAOgjB,EAAQnc,EAC7D,CACF,CACA,SAASsc,GAAgBnjB,EAAO+iB,EAAOC,EAAQnc,GAC7C6b,GAAiBC,MAA2B3iB,EAC5C0iB,GAAiBC,MAA2BI,EAC5CL,GAAiBC,MAA2BK,EAC5CN,GAAiBC,MAA2B9b,EAC5C+b,IAA4B/b,EAC5B7G,EAAM8F,OAASe,EAEf,QADA7G,EAAQA,EAAMS,aACKT,EAAM8F,OAASe,EACpC,CACA,SAASuc,GAA4BpjB,EAAO+iB,EAAOC,EAAQnc,GAEzD,OADAsc,GAAgBnjB,EAAO+iB,EAAOC,EAAQnc,GAC/Bwc,GAAuBrjB,EAChC,CACA,SAASsjB,GAA+BtjB,EAAO6G,GAE7C,OADAsc,GAAgBnjB,EAAO,KAAM,KAAM6G,GAC5Bwc,GAAuBrjB,EAChC,CACA,SAASkjB,GAA8BK,EAAaP,EAAQnc,GAC1D0c,EAAYzd,OAASe,EACrB,IAAIpG,EAAY8iB,EAAY9iB,UAC5B,OAASA,IAAcA,EAAUqF,OAASe,GAC1C,IAAK,IAAI2c,GAAW,EAAIC,EAASF,EAAYljB,OAAQ,OAASojB,GAC3DA,EAAOC,YAAc7c,EAEpB,QADCpG,EAAYgjB,EAAOhjB,aACGA,EAAUijB,YAAc7c,GAC/C,KAAO4c,EAAOxjB,MAEZ,QADEsjB,EAAcE,EAAOha,YAC2B,EAA1B8Z,EAAYI,cAAoBH,GAAW,IACpED,EAAcE,EACdA,EAASA,EAAOpjB,OACrBmjB,GACE,OAASR,GACT,IAAMO,EAAYtjB,MAChBwjB,EAASF,EAAY9Z,UACtB+Z,EAAW,GAAKhe,GAAMqB,GAGvB,QADC0c,GADAE,EAASA,EAAOG,eACKJ,IAEjBC,EAAOD,GAAY,CAACR,GACrBO,EAAYnhB,KAAK4gB,GACpBA,EAAOnc,KAAc,UAAPA,EACnB,CACA,SAASwc,GAAuBE,GAC9B,GAAI,GAAKM,GACP,MACIA,GAAoB,EACrBC,GAAwB,KACzBpmB,MAAMnD,EAAuB,MAEjC,IAAK,IAAIkpB,EAASF,EAAYljB,OAAQ,OAASojB,GACpBA,GAAxBF,EAAcE,GAA+BpjB,OAChD,OAAO,IAAMkjB,EAAYtjB,IAAMsjB,EAAY9Z,UAAY,IACzD,CACA,IAAIsa,GAAqB,CAAC,EACxBC,GAAiB,IAAIC,QACvB,SAASC,GAA2B7kB,EAAO8kB,GACzC,GAAI,kBAAoB9kB,GAAS,OAASA,EAAO,CAC/C,IAAI+kB,EAAWJ,GAAe5X,IAAI/M,GAClC,YAAI,IAAW+kB,EAAiBA,GAChCD,EAAS,CACP9kB,MAAOA,EACP8kB,OAAQA,EACRvmB,MAAOsC,EAA4BikB,IAErCH,GAAetlB,IAAIW,EAAO8kB,GACnBA,EACT,CACA,MAAO,CACL9kB,MAAOA,EACP8kB,OAAQA,EACRvmB,MAAOsC,EAA4BikB,GAEvC,CACA,IAAIE,GAAY,GACdC,GAAiB,EACjBC,GAAmB,KACnBC,GAAgB,EAChBC,GAAU,GACVC,GAAe,EACfC,GAAsB,KACtBC,GAAgB,EAChBC,GAAsB,GACxB,SAASC,GAAa3kB,EAAgB4kB,GACpCV,GAAUC,MAAoBE,GAC9BH,GAAUC,MAAoBC,GAC9BA,GAAmBpkB,EACnBqkB,GAAgBO,CAClB,CACA,SAASC,GAAW7kB,EAAgB4kB,EAAejjB,GACjD2iB,GAAQC,MAAkBE,GAC1BH,GAAQC,MAAkBG,GAC1BJ,GAAQC,MAAkBC,GAC1BA,GAAsBxkB,EACtB,IAAI8kB,EAAuBL,GAC3BzkB,EAAiB0kB,GACjB,IAAIK,EAAa,GAAK1f,GAAMyf,GAAwB,EACpDA,KAA0B,GAAKC,GAC/BpjB,GAAS,EACT,IAAInH,EAAS,GAAK6K,GAAMuf,GAAiBG,EACzC,GAAI,GAAKvqB,EAAQ,CACf,IAAIwqB,EAAuBD,EAAcA,EAAa,EACtDvqB,GACEsqB,GACE,GAAKE,GAAwB,GAC/B5c,SAAS,IACX0c,IAAyBE,EACzBD,GAAcC,EACdP,GACG,GAAM,GAAKpf,GAAMuf,GAAiBG,EAClCpjB,GAASojB,EACVD,EACFJ,GAAsBlqB,EAASwF,CACjC,MACGykB,GACE,GAAKjqB,EAAWmH,GAASojB,EAAcD,EACvCJ,GAAsB1kB,CAC7B,CACA,SAASilB,GAAuBjlB,GAC9B,OAASA,EAAeE,SACrBykB,GAAa3kB,EAAgB,GAAI6kB,GAAW7kB,EAAgB,EAAG,GACpE,CACA,SAASklB,GAAellB,GACtB,KAAOA,IAAmBokB,IACvBA,GAAmBF,KAAYC,IAC7BD,GAAUC,IAAkB,KAC5BE,GAAgBH,KAAYC,IAC5BD,GAAUC,IAAkB,KACjC,KAAOnkB,IAAmBwkB,IACvBA,GAAsBF,KAAUC,IAC9BD,GAAQC,IAAgB,KACxBG,GAAsBJ,KAAUC,IAChCD,GAAQC,IAAgB,KACxBE,GAAgBH,KAAUC,IAC1BD,GAAQC,IAAgB,IAC/B,CACA,IAAIY,GAAuB,KACzBC,GAAyB,KACzBzX,IAAc,EACd0X,GAAkB,KAClBC,IAAyB,EACzBC,GAA6BhoB,MAAMnD,EAAuB,MAC5D,SAASorB,GAAyB3lB,GAGhC,MADA4lB,GAAoB1B,GADRxmB,MAAMnD,EAAuB,IAAK,KACQyF,IAChD0lB,EACR,CACA,SAASG,GAA6B7lB,GACpC,IAAI8lB,EAAW9lB,EAAMyJ,UACnBhN,EAAOuD,EAAMvD,KACbmU,EAAQ5Q,EAAM+lB,cAGhB,OAFAD,EAASrd,IAAuBzI,EAChC8lB,EAASpd,IAAoBkI,EACrBnU,GACN,IAAK,SACHupB,GAA0B,SAAUF,GACpCE,GAA0B,QAASF,GACnC,MACF,IAAK,SACL,IAAK,SACL,IAAK,QACHE,GAA0B,OAAQF,GAClC,MACF,IAAK,QACL,IAAK,QACH,IAAKrpB,EAAO,EAAGA,EAAOwpB,GAAgBtrB,OAAQ8B,IAC5CupB,GAA0BC,GAAgBxpB,GAAOqpB,GACnD,MACF,IAAK,SACHE,GAA0B,QAASF,GACnC,MACF,IAAK,MACL,IAAK,QACL,IAAK,OACHE,GAA0B,QAASF,GACnCE,GAA0B,OAAQF,GAClC,MACF,IAAK,UACHE,GAA0B,SAAUF,GACpC,MACF,IAAK,QACHE,GAA0B,UAAWF,GACrCjY,GACEiY,EACAlV,EAAMvR,MACNuR,EAAM5O,aACN4O,EAAM9D,QACN8D,EAAMjD,eACNiD,EAAMnU,KACNmU,EAAMhU,MACN,GAEFkP,GAAMga,GACN,MACF,IAAK,SACHE,GAA0B,UAAWF,GACrC,MACF,IAAK,WACHE,GAA0B,UAAWF,GACnCrX,GAAaqX,EAAUlV,EAAMvR,MAAOuR,EAAM5O,aAAc4O,EAAMlC,UAC9D5C,GAAMga,GAGX,kBADDrpB,EAAOmU,EAAMlC,WAEX,kBAAoBjS,GACpB,kBAAoBA,GACtBqpB,EAASnX,cAAgB,GAAKlS,IAC9B,IAAOmU,EAAMsV,0BACbC,GAAsBL,EAASnX,YAAalS,IACvC,MAAQmU,EAAMwV,UACZJ,GAA0B,eAAgBF,GAC3CE,GAA0B,SAAUF,IACtC,MAAQlV,EAAMyV,UAAYL,GAA0B,SAAUF,GAC9D,MAAQlV,EAAM0V,aACZN,GAA0B,YAAaF,GACzC,MAAQlV,EAAM2V,UAAYT,EAASU,QAAUC,IAC5CX,GAAW,GACXA,GAAW,EAChBA,GAAYH,GAAyB3lB,EACvC,CACA,SAAS0mB,GAAoB1mB,GAC3B,IAAKslB,GAAuBtlB,EAAMK,OAAQilB,IACxC,OAAQA,GAAqBrlB,KAC3B,KAAK,EACL,KAAK,GAEH,YADAwlB,IAAyB,GAE3B,KAAK,EACL,KAAK,GAEH,YADAA,IAAyB,GAE3B,QACEH,GAAuBA,GAAqBjlB,OAEpD,CACA,SAASsmB,GAAkB3mB,GACzB,GAAIA,IAAUslB,GAAsB,OAAO,EAC3C,IAAKxX,GAAa,OAAO4Y,GAAoB1mB,GAAS8N,IAAc,GAAK,EACzE,IACE8Y,EADEC,GAAc,EAalB,IAXKD,EAAkB,IAAM5mB,EAAMC,KAAO,KAAOD,EAAMC,QAChD2mB,EAAkB,IAAM5mB,EAAMC,OAE9B2mB,IACG,UAFLA,EAAkB5mB,EAAMvD,OAEW,WAAamqB,IAC7CE,GAAqB9mB,EAAMvD,KAAMuD,EAAM+lB,gBAC7Ca,GAAmBA,GAErBA,IAAoBC,GAAc,GAClCA,GAAetB,IAA0BI,GAAyB3lB,GAClE0mB,GAAoB1mB,GAChB,KAAOA,EAAMC,IAAK,CAGpB,KADAD,EAAQ,QADRA,EAAQA,EAAMa,eACWb,EAAMc,WAAa,MAChC,MAAMpD,MAAMnD,EAAuB,MAC/CsW,EAAG,CAED,IADA7Q,EAAQA,EAAMie,YACT4I,EAAc,EAAG7mB,GAAS,CAC7B,GAAI,IAAMA,EAAMhF,SACd,GAAqC,QAA/B4rB,EAAkB5mB,EAAM0B,MAAkC,CAC9D,GAAI,IAAMmlB,EAAa,CACrBtB,GAAyBwB,GAAkB/mB,EAAMie,aACjD,MAAMpN,CACR,CACAgW,GACF,KACG,MAAQD,GACP,OAASA,GACT,OAASA,GACTC,IACN7mB,EAAQA,EAAMie,WAChB,CACAsH,GAAyB,IAC3B,CACF,MACEA,GAAyBD,GACrByB,GAAkB/mB,EAAMyJ,UAAUwU,aAClC,KACN,OAAO,CACT,CACA,SAAS+I,KACPzB,GAAyBD,GAAuB,KAChDxX,IAAc,CAChB,CACA,SAAS8X,GAAoBqB,GAC3B,OAASzB,GACJA,GAAkB,CAACyB,GACpBzB,GAAgBpjB,KAAK6kB,EAC3B,CACA,IAAIC,GAAoBxpB,MAAMnD,EAAuB,MACnD4sB,GAA2BzpB,MAAMnD,EAAuB,MACxD6sB,GAA8B,CAAEC,KAAM,WAAa,GACrD,SAASC,GAAmBC,GAE1B,MAAO,eADPA,EAAWA,EAASC,SACe,aAAeD,CACpD,CACA,SAASE,KAAU,CACnB,SAASC,GAAkBC,EAAeJ,EAAUzlB,GAKlD,YAHA,KADAA,EAAQ6lB,EAAc7lB,IAElB6lB,EAAcvlB,KAAKmlB,GACnBzlB,IAAUylB,IAAaA,EAASF,KAAKI,GAAQA,IAAUF,EAAWzlB,GAC9DylB,EAASC,QACf,IAAK,YACH,OAAOD,EAASloB,MAClB,IAAK,WAEH,IADAsoB,EAAgBJ,EAASK,UACHV,GACpB,MAAMxpB,MAAMnD,EAAuB,MACrC,MAAMotB,EACR,QACE,GAAI,kBAAoBJ,EAASC,OAAQD,EAASF,KAAKI,GAAQA,QAC1D,CAEH,GAAI,QADJE,EAAgBE,KACc,IAAMF,EAAcG,oBAChD,MAAMpqB,MAAMnD,EAAuB,OACrCotB,EAAgBJ,GACFC,OAAS,UACvBG,EAAcN,MACZ,SAAUU,GACR,GAAI,YAAcR,EAASC,OAAQ,CACjC,IAAIQ,EAAoBT,EACxBS,EAAkBR,OAAS,YAC3BQ,EAAkB3oB,MAAQ0oB,CAC5B,CACF,IACA,SAAUd,GACR,GAAI,YAAcM,EAASC,OAAQ,CACjC,IAAIS,EAAmBV,EACvBU,EAAiBT,OAAS,WAC1BS,EAAiBL,OAASX,CAC5B,CACF,GAEJ,CACA,OAAQM,EAASC,QACf,IAAK,YACH,OAAOD,EAASloB,MAClB,IAAK,WAEH,IADAsoB,EAAgBJ,EAASK,UACHV,GACpB,MAAMxpB,MAAMnD,EAAuB,MACrC,MAAMotB,EAGV,MADAO,GAAoBX,EACdL,GAEZ,CACA,IAAIgB,GAAoB,KACxB,SAASC,KACP,GAAI,OAASD,GAAmB,MAAMxqB,MAAMnD,EAAuB,MACnE,IAAIgtB,EAAWW,GAEf,OADAA,GAAoB,KACbX,CACT,CACA,IAAIa,GAAkB,KACpBC,GAAyB,EAC3B,SAASC,GAAef,GACtB,IAAIzlB,EAAQumB,GAGZ,OAFAA,IAA0B,EAC1B,OAASD,KAAoBA,GAAkB,IACxCV,GAAkBU,GAAiBb,EAAUzlB,EACtD,CACA,SAASymB,GAAUpoB,EAAgBsN,GACjCA,EAAUA,EAAQmD,MAAM4X,IACxBroB,EAAeqoB,SAAM,IAAW/a,EAAUA,EAAU,IACtD,CACA,SAASgb,GAAyBC,EAAaC,GAC7C,GAAIA,EAASjsB,WAAazB,EACxB,MAAMyC,MAAMnD,EAAuB,MAErC,MADAmuB,EAAclrB,OAAOiB,UAAU8J,SAAS1J,KAAK8pB,GACvCjrB,MACJnD,EACE,GACA,oBAAsBmuB,EAClB,qBAAuBlrB,OAAOkgB,KAAKiL,GAAUC,KAAK,MAAQ,IAC1DF,GAGV,CACA,SAASG,GAAYC,GAEnB,OAAOC,EADID,EAAS7rB,OACR6rB,EAAS9rB,SACvB,CACA,SAASgsB,GAAsBC,GAC7B,SAASC,EAAYR,EAAaS,GAChC,GAAIF,EAAwB,CAC1B,IAAIG,EAAYV,EAAYU,UAC5B,OAASA,GACHV,EAAYU,UAAY,CAACD,GAAkBT,EAAYhoB,OAAS,IAClE0oB,EAAUhnB,KAAK+mB,EACrB,CACF,CACA,SAASE,EAAwBX,EAAaY,GAC5C,IAAKL,EAAwB,OAAO,KACpC,KAAO,OAASK,GACdJ,EAAYR,EAAaY,GACtBA,EAAoBA,EAAkBpoB,QAC3C,OAAO,IACT,CACA,SAASqoB,EAAqBD,GAC5B,IAAK,IAAIE,EAAmB,IAAI3f,IAAO,OAASyf,GAC9C,OAASA,EAAkBtR,IACvBwR,EAAiB9qB,IAAI4qB,EAAkBtR,IAAKsR,GAC5CE,EAAiB9qB,IAAI4qB,EAAkBxnB,MAAOwnB,GAC/CA,EAAoBA,EAAkBpoB,QAC3C,OAAOsoB,CACT,CACA,SAASC,EAASzpB,EAAO0pB,GAIvB,OAHA1pB,EAAQ2pB,GAAqB3pB,EAAO0pB,IAC9B5nB,MAAQ,EACd9B,EAAMkB,QAAU,KACTlB,CACT,CACA,SAAS4pB,EAAWC,EAAUC,EAAiBC,GAE7C,OADAF,EAAS/nB,MAAQioB,EACZd,EAGD,QADJc,EAAWF,EAASppB,YAGfspB,EAAWA,EAASjoB,OACVgoB,GACLD,EAASnpB,OAAS,SAAWopB,GAC/BC,GAERF,EAASnpB,OAAS,SACXopB,IAVGD,EAASnpB,OAAS,QAAUopB,EAWxC,CACA,SAASE,EAAiBH,GAIxB,OAHAZ,GACE,OAASY,EAASppB,YACjBopB,EAASnpB,OAAS,UACdmpB,CACT,CACA,SAASI,EAAevB,EAAazmB,EAAS0M,EAAa7I,GACzD,OAAI,OAAS7D,GAAW,IAAMA,EAAQhC,MAEjCgC,EAAUioB,GAAoBvb,EAAa+Z,EAAYyB,KAAMrkB,IACrDzF,OAASqoB,EAClBzmB,KAEJA,EAAUwnB,EAASxnB,EAAS0M,IACpBtO,OAASqoB,EACVzmB,EACT,CACA,SAASmoB,EAAc1B,EAAazmB,EAASwL,EAAS3H,GACpD,IAAIukB,EAAc5c,EAAQhR,KAC1B,OAAI4tB,IAAgB/uB,EACXgvB,EACL5B,EACAzmB,EACAwL,EAAQmD,MAAMlC,SACd5I,EACA2H,EAAQuK,KAGV,OAAS/V,IACRA,EAAQooB,cAAgBA,GACtB,kBAAoBA,GACnB,OAASA,GACTA,EAAY3tB,WAAaV,GACzB6sB,GAAYwB,KAAiBpoB,EAAQxF,OAIvC8rB,GADCtmB,EAAUwnB,EAASxnB,EAASwL,EAAQmD,OAClBnD,GAClBxL,EAAQ5B,OAASqoB,EAClBzmB,IAUJsmB,GARAtmB,EAAUsoB,GACR9c,EAAQhR,KACRgR,EAAQuK,IACRvK,EAAQmD,MACR,KACA8X,EAAYyB,KACZrkB,GAEiB2H,GACnBxL,EAAQ5B,OAASqoB,EACVzmB,EACT,CACA,SAASuoB,EAAa9B,EAAazmB,EAASwoB,EAAQ3kB,GAClD,OACE,OAAS7D,GACT,IAAMA,EAAQhC,KACdgC,EAAQwH,UAAU+U,gBAAkBiM,EAAOjM,eAC3Cvc,EAAQwH,UAAUihB,iBAAmBD,EAAOC,iBAGzCzoB,EAAU0oB,GAAsBF,EAAQ/B,EAAYyB,KAAMrkB,IAClDzF,OAASqoB,EAClBzmB,KAEJA,EAAUwnB,EAASxnB,EAASwoB,EAAO/b,UAAY,KACvCrO,OAASqoB,EACVzmB,EACT,CACA,SAASqoB,EAAe5B,EAAazmB,EAAS2oB,EAAU9kB,EAAOkS,GAC7D,OAAI,OAAS/V,GAAW,IAAMA,EAAQhC,MAEjCgC,EAAU4oB,GACTD,EACAlC,EAAYyB,KACZrkB,EACAkS,IAEO3X,OAASqoB,EAClBzmB,KAEJA,EAAUwnB,EAASxnB,EAAS2oB,IACpBvqB,OAASqoB,EACVzmB,EACT,CACA,SAAS6oB,EAAYpC,EAAaC,EAAU7iB,GAC1C,GACG,kBAAoB6iB,GAAY,KAAOA,GACxC,kBAAoBA,GACpB,kBAAoBA,EAEpB,OACGA,EAAWuB,GACV,GAAKvB,EACLD,EAAYyB,KACZrkB,IAEQzF,OAASqoB,EACnBC,EAEJ,GAAI,kBAAoBA,GAAY,OAASA,EAAU,CACrD,OAAQA,EAASjsB,UACf,KAAKtB,EACH,OASEmtB,GARCziB,EAAQykB,GACP5B,EAASlsB,KACTksB,EAAS3Q,IACT2Q,EAAS/X,MACT,KACA8X,EAAYyB,KACZrkB,GAEe6iB,GAChB7iB,EAAMzF,OAASqoB,EAChB5iB,EAEJ,KAAKzK,EACH,OACGstB,EAAWgC,GACVhC,EACAD,EAAYyB,KACZrkB,IAEQzF,OAASqoB,EACnBC,EAEJ,KAAK3sB,EAGH,OAAO8uB,EAAYpC,EADnBC,GAAWI,EADAJ,EAAS1rB,OACJ0rB,EAAS3rB,UACiB8I,GAE9C,GAAI3E,EAAYwnB,IAAatsB,EAAcssB,GACzC,OACGA,EAAWkC,GACVlC,EACAD,EAAYyB,KACZrkB,EACA,OAEQzF,OAASqoB,EACnBC,EAEJ,GAAI,oBAAsBA,EAAStB,KACjC,OAAOyD,EAAYpC,EAAaJ,GAAeK,GAAW7iB,GAC5D,GAAI6iB,EAASjsB,WAAaf,EACxB,OAAOmvB,EACLpC,EACAqC,GAAgCrC,EAAaC,GAC7C7iB,GAEJ2iB,GAAyBC,EAAaC,EACxC,CACA,OAAO,IACT,CACA,SAASqC,EAAWtC,EAAauC,EAAUtC,EAAU7iB,GACnD,IAAIkS,EAAM,OAASiT,EAAWA,EAASjT,IAAM,KAC7C,GACG,kBAAoB2Q,GAAY,KAAOA,GACxC,kBAAoBA,GACpB,kBAAoBA,EAEpB,OAAO,OAAS3Q,EACZ,KACAiS,EAAevB,EAAauC,EAAU,GAAKtC,EAAU7iB,GAC3D,GAAI,kBAAoB6iB,GAAY,OAASA,EAAU,CACrD,OAAQA,EAASjsB,UACf,KAAKtB,EACH,OAAOutB,EAAS3Q,MAAQA,EACpBoS,EAAc1B,EAAauC,EAAUtC,EAAU7iB,GAC/C,KACN,KAAKzK,EACH,OAAOstB,EAAS3Q,MAAQA,EACpBwS,EAAa9B,EAAauC,EAAUtC,EAAU7iB,GAC9C,KACN,KAAK9J,EACH,OAGEgvB,EAAWtC,EAAauC,EADvBtC,GADA3Q,EAAM2Q,EAAS1rB,OACA0rB,EAAS3rB,UACmB8I,GAGlD,GAAI3E,EAAYwnB,IAAatsB,EAAcssB,GACzC,OAAO,OAAS3Q,EACZ,KACAsS,EAAe5B,EAAauC,EAAUtC,EAAU7iB,EAAO,MAC7D,GAAI,oBAAsB6iB,EAAStB,KACjC,OAAO2D,EACLtC,EACAuC,EACA3C,GAAeK,GACf7iB,GAEJ,GAAI6iB,EAASjsB,WAAaf,EACxB,OAAOqvB,EACLtC,EACAuC,EACAF,GAAgCrC,EAAaC,GAC7C7iB,GAEJ2iB,GAAyBC,EAAaC,EACxC,CACA,OAAO,IACT,CACA,SAASuC,EACP1B,EACAd,EACAyC,EACAxC,EACA7iB,GAEA,GACG,kBAAoB6iB,GAAY,KAAOA,GACxC,kBAAoBA,GACpB,kBAAoBA,EAEpB,OAEEsB,EAAevB,EADdc,EAAmBA,EAAiBpd,IAAI+e,IAAW,KACN,GAAKxC,EAAU7iB,GAEjE,GAAI,kBAAoB6iB,GAAY,OAASA,EAAU,CACrD,OAAQA,EAASjsB,UACf,KAAKtB,EACH,OAKEgvB,EAAc1B,EAJbc,EACCA,EAAiBpd,IACf,OAASuc,EAAS3Q,IAAMmT,EAASxC,EAAS3Q,MACvC,KACsC2Q,EAAU7iB,GAE3D,KAAKzK,EACH,OAKEmvB,EAAa9B,EAJZc,EACCA,EAAiBpd,IACf,OAASuc,EAAS3Q,IAAMmT,EAASxC,EAAS3Q,MACvC,KACqC2Q,EAAU7iB,GAE1D,KAAK9J,EAGH,OAAOkvB,EACL1B,EACAd,EACAyC,EAJFxC,GAAWI,EADAJ,EAAS1rB,OACJ0rB,EAAS3rB,UAMvB8I,GAGN,GAAI3E,EAAYwnB,IAAatsB,EAAcssB,GACzC,OAEE2B,EAAe5B,EADdc,EAAmBA,EAAiBpd,IAAI+e,IAAW,KACNxC,EAAU7iB,EAAO,MAEnE,GAAI,oBAAsB6iB,EAAStB,KACjC,OAAO6D,EACL1B,EACAd,EACAyC,EACA7C,GAAeK,GACf7iB,GAEJ,GAAI6iB,EAASjsB,WAAaf,EACxB,OAAOuvB,EACL1B,EACAd,EACAyC,EACAJ,GAAgCrC,EAAaC,GAC7C7iB,GAEJ2iB,GAAyBC,EAAaC,EACxC,CACA,OAAO,IACT,CA4KA,SAASyC,EACP1C,EACAY,EACAX,EACA7iB,GAOA,GALA,kBAAoB6iB,GAClB,OAASA,GACTA,EAASlsB,OAASnB,GAClB,OAASqtB,EAAS3Q,MACjB2Q,EAAWA,EAAS/X,MAAMlC,UACzB,kBAAoBia,GAAY,OAASA,EAAU,CACrD,OAAQA,EAASjsB,UACf,KAAKtB,EACHyV,EAAG,CACD,IAAK,IAAImH,EAAM2Q,EAAS3Q,IAAK,OAASsR,GAAqB,CACzD,GAAIA,EAAkBtR,MAAQA,EAAK,CAEjC,IADAA,EAAM2Q,EAASlsB,QACHnB,GACV,GAAI,IAAMguB,EAAkBrpB,IAAK,CAC/BopB,EACEX,EACAY,EAAkBpoB,UAEpB4E,EAAQ2jB,EACNH,EACAX,EAAS/X,MAAMlC,WAEXrO,OAASqoB,EACfA,EAAc5iB,EACd,MAAM+K,CACR,OACK,GACLyY,EAAkBe,cAAgBrS,GACjC,kBAAoBA,GACnB,OAASA,GACTA,EAAItb,WAAaV,GACjB6sB,GAAY7Q,KAASsR,EAAkB7sB,KACzC,CACA4sB,EACEX,EACAY,EAAkBpoB,SAGpBqnB,GADAziB,EAAQ2jB,EAASH,EAAmBX,EAAS/X,OAC5B+X,GACjB7iB,EAAMzF,OAASqoB,EACfA,EAAc5iB,EACd,MAAM+K,CACR,CACAwY,EAAwBX,EAAaY,GACrC,KACF,CAAOJ,EAAYR,EAAaY,GAChCA,EAAoBA,EAAkBpoB,OACxC,CACAynB,EAASlsB,OAASnB,IACZwK,EAAQ+kB,GACRlC,EAAS/X,MAAMlC,SACfga,EAAYyB,KACZrkB,EACA6iB,EAAS3Q,MAEJ3X,OAASqoB,EACfA,EAAc5iB,IASfyiB,GAREziB,EAAQykB,GACR5B,EAASlsB,KACTksB,EAAS3Q,IACT2Q,EAAS/X,MACT,KACA8X,EAAYyB,KACZrkB,GAEe6iB,GAChB7iB,EAAMzF,OAASqoB,EACfA,EAAc5iB,EACrB,CACA,OAAOkkB,EAAiBtB,GAC1B,KAAKrtB,EACHwV,EAAG,CACD,IAAKmH,EAAM2Q,EAAS3Q,IAAK,OAASsR,GAAqB,CACrD,GAAIA,EAAkBtR,MAAQA,EAAG,CAC/B,GACE,IAAMsR,EAAkBrpB,KACxBqpB,EAAkB7f,UAAU+U,gBAC1BmK,EAASnK,eACX8K,EAAkB7f,UAAUihB,iBAC1B/B,EAAS+B,eACX,CACArB,EACEX,EACAY,EAAkBpoB,UAEpB4E,EAAQ2jB,EAASH,EAAmBX,EAASja,UAAY,KACnDrO,OAASqoB,EACfA,EAAc5iB,EACd,MAAM+K,CACR,CACEwY,EAAwBX,EAAaY,GACrC,KACD,CACEJ,EAAYR,EAAaY,GAC9BA,EAAoBA,EAAkBpoB,OACxC,EACA4E,EAAQ6kB,GAAsBhC,EAAUD,EAAYyB,KAAMrkB,IACpDzF,OAASqoB,EACfA,EAAc5iB,CAChB,CACA,OAAOkkB,EAAiBtB,GAC1B,KAAK1sB,EACH,OAGEovB,EACE1C,EACAY,EAHDX,GADA3Q,EAAM2Q,EAAS1rB,OACA0rB,EAAS3rB,UAKvB8I,GAIR,GAAI3E,EAAYwnB,GACd,OAnSN,SACED,EACAY,EACA+B,EACAvlB,GAEA,IACE,IAAIwlB,EAAsB,KACxBC,EAAmB,KACnBN,EAAW3B,EACX6B,EAAU7B,EAAoB,EAC9BkC,EAAe,KACjB,OAASP,GAAYE,EAASE,EAAY1wB,OAC1CwwB,IACA,CACAF,EAASnpB,MAAQqpB,GACXK,EAAeP,EAAYA,EAAW,MACvCO,EAAeP,EAAS/pB,QAC7B,IAAI2oB,EAAWmB,EACbtC,EACAuC,EACAI,EAAYF,GACZrlB,GAEF,GAAI,OAAS+jB,EAAU,CACrB,OAASoB,IAAaA,EAAWO,GACjC,KACF,CACAvC,GACEgC,GACA,OAASpB,EAASppB,WAClByoB,EAAYR,EAAauC,GAC3B3B,EAAoBM,EAAWC,EAAUP,EAAmB6B,GAC5D,OAASI,EACJD,EAAsBzB,EACtB0B,EAAiBrqB,QAAU2oB,EAChC0B,EAAmB1B,EACnBoB,EAAWO,CACb,CACA,GAAIL,IAAWE,EAAY1wB,OACzB,OACE0uB,EAAwBX,EAAauC,GACrCnd,IAAegX,GAAa4D,EAAayC,GACzCG,EAEJ,GAAI,OAASL,EAAU,CACrB,KAAOE,EAASE,EAAY1wB,OAAQwwB,IAEhC,QADDF,EAAWH,EAAYpC,EAAa2C,EAAYF,GAASrlB,MAEpDwjB,EAAoBM,EACpBqB,EACA3B,EACA6B,GAEF,OAASI,EACJD,EAAsBL,EACtBM,EAAiBrqB,QAAU+pB,EAC/BM,EAAmBN,GAE1B,OADAnd,IAAegX,GAAa4D,EAAayC,GAClCG,CACT,CACA,IACEL,EAAW1B,EAAqB0B,GAChCE,EAASE,EAAY1wB,OACrBwwB,IASE,QAPDK,EAAeN,EACdD,EACAvC,EACAyC,EACAE,EAAYF,GACZrlB,MAGGmjB,GACC,OAASuC,EAAa/qB,WACtBwqB,EAASQ,OACP,OAASD,EAAaxT,IAAMmT,EAASK,EAAaxT,KAErDsR,EAAoBM,EACnB4B,EACAlC,EACA6B,GAEF,OAASI,EACJD,EAAsBE,EACtBD,EAAiBrqB,QAAUsqB,EAC/BD,EAAmBC,GAM1B,OALAvC,GACEgC,EAASS,SAAQ,SAAUzqB,GACzB,OAAOioB,EAAYR,EAAaznB,EAClC,IACF6M,IAAegX,GAAa4D,EAAayC,GAClCG,CACT,CAqMaK,CACLjD,EACAY,EACAX,EACA7iB,GAEJ,GAAIzJ,EAAcssB,GAAW,CAE3B,GAAI,oBADJ3Q,EAAM3b,EAAcssB,IACW,MAAMjrB,MAAMnD,EAAuB,MAElE,OA9MN,SACEmuB,EACAY,EACA+B,EACAvlB,GAEA,GAAI,MAAQulB,EAAa,MAAM3tB,MAAMnD,EAAuB,MAC5D,IACE,IAAI+wB,EAAsB,KACxBC,EAAmB,KACnBN,EAAW3B,EACX6B,EAAU7B,EAAoB,EAC9BkC,EAAe,KACfI,EAAOP,EAAYpI,OACrB,OAASgI,IAAaW,EAAKC,KAC3BV,IAAUS,EAAOP,EAAYpI,OAC7B,CACAgI,EAASnpB,MAAQqpB,GACXK,EAAeP,EAAYA,EAAW,MACvCO,EAAeP,EAAS/pB,QAC7B,IAAI2oB,EAAWmB,EAAWtC,EAAauC,EAAUW,EAAKvsB,MAAOyG,GAC7D,GAAI,OAAS+jB,EAAU,CACrB,OAASoB,IAAaA,EAAWO,GACjC,KACF,CACAvC,GACEgC,GACA,OAASpB,EAASppB,WAClByoB,EAAYR,EAAauC,GAC3B3B,EAAoBM,EAAWC,EAAUP,EAAmB6B,GAC5D,OAASI,EACJD,EAAsBzB,EACtB0B,EAAiBrqB,QAAU2oB,EAChC0B,EAAmB1B,EACnBoB,EAAWO,CACb,CACA,GAAII,EAAKC,KACP,OACExC,EAAwBX,EAAauC,GACrCnd,IAAegX,GAAa4D,EAAayC,GACzCG,EAEJ,GAAI,OAASL,EAAU,CACrB,MAAQW,EAAKC,KAAMV,IAAUS,EAAOP,EAAYpI,OAE5C,QADD2I,EAAOd,EAAYpC,EAAakD,EAAKvsB,MAAOyG,MAEvCwjB,EAAoBM,EAAWgC,EAAMtC,EAAmB6B,GAC1D,OAASI,EACJD,EAAsBM,EACtBL,EAAiBrqB,QAAU0qB,EAC/BL,EAAmBK,GAE1B,OADA9d,IAAegX,GAAa4D,EAAayC,GAClCG,CACT,CACA,IACEL,EAAW1B,EAAqB0B,IAC/BW,EAAKC,KACNV,IAAUS,EAAOP,EAAYpI,OAG3B,QADD2I,EAAOV,EAAcD,EAAUvC,EAAayC,EAAQS,EAAKvsB,MAAOyG,MAE5DmjB,GACC,OAAS2C,EAAKnrB,WACdwqB,EAASQ,OAAO,OAASG,EAAK5T,IAAMmT,EAASS,EAAK5T,KACnDsR,EAAoBM,EAAWgC,EAAMtC,EAAmB6B,GACzD,OAASI,EACJD,EAAsBM,EACtBL,EAAiBrqB,QAAU0qB,EAC/BL,EAAmBK,GAM1B,OALA3C,GACEgC,EAASS,SAAQ,SAAUzqB,GACzB,OAAOioB,EAAYR,EAAaznB,EAClC,IACF6M,IAAegX,GAAa4D,EAAayC,GAClCG,CACT,CAmIaQ,CACLpD,EACAY,EAHFX,EAAW3Q,EAAInZ,KAAK8pB,GAKlB7iB,EAEJ,CACA,GAAI,oBAAsB6iB,EAAStB,KACjC,OAAO+D,EACL1C,EACAY,EACAhB,GAAeK,GACf7iB,GAEJ,GAAI6iB,EAASjsB,WAAaf,EACxB,OAAOyvB,EACL1C,EACAY,EACAyB,GAAgCrC,EAAaC,GAC7C7iB,GAEJ2iB,GAAyBC,EAAaC,EACxC,CACA,MAAQ,kBAAoBA,GAAY,KAAOA,GAC7C,kBAAoBA,GACpB,kBAAoBA,GAChBA,EAAW,GAAKA,EAClB,OAASW,GAAqB,IAAMA,EAAkBrpB,KACjDopB,EAAwBX,EAAaY,EAAkBpoB,UACvD4E,EAAQ2jB,EAASH,EAAmBX,IAC9BtoB,OAASqoB,EACfA,EAAc5iB,IACdujB,EAAwBX,EAAaY,IACrCxjB,EAAQokB,GAAoBvB,EAAUD,EAAYyB,KAAMrkB,IAClDzF,OAASqoB,EACfA,EAAc5iB,GACnBkkB,EAAiBtB,IACjBW,EAAwBX,EAAaY,EAC3C,CACA,OAAO,SAAUZ,EAAaY,EAAmBX,EAAU7iB,GACzD,IACEuiB,GAAyB,EACzB,IAAI0D,EAAkBX,EACpB1C,EACAY,EACAX,EACA7iB,GAGF,OADAsiB,GAAkB,KACX2D,CACT,CAAE,MAAO7uB,GACP,GAAIA,IAAMgqB,GAAmB,MAAMhqB,EACnC,IAAI8C,EAAQgsB,GAAqB,GAAI9uB,EAAG,KAAMwrB,EAAYyB,MAG1D,OAFAnqB,EAAM8F,MAAQA,EACd9F,EAAMK,OAASqoB,EACR1oB,CACT,CAEF,CACF,CACA,IAAIisB,GAAuBjD,IAAsB,GAC/CkD,GAAmBlD,IAAsB,GACzCmD,GAA+BpqB,EAAa,MAC5CqqB,GAAiCrqB,EAAa,GAChD,SAASsqB,GAAkBrsB,EAAOmD,GAEhCf,EAAKgqB,GADLpsB,EAAQssB,IAERlqB,EAAK+pB,GAA8BhpB,GACnCmpB,GAAuBtsB,EAAQmD,EAAQopB,SACzC,CACA,SAASC,KACPpqB,EAAKgqB,GAAgCE,IACrClqB,EAAK+pB,GAA8BA,GAA6BlqB,QAClE,CACA,SAASwqB,KACPH,GAAuBF,GAA+BnqB,QACtDC,EAAIiqB,IACJjqB,EAAIkqB,GACN,CACA,IAAIM,GAA6B3qB,EAAa,MAC5C4qB,GAAgB,KAClB,SAASC,GAA+BC,GACtC,IAAI5qB,EAAU4qB,EAAQpsB,UACtB2B,EAAK0qB,GAAmD,EAA9BA,GAAoB7qB,SAC9CG,EAAKsqB,GAA4BG,GACjC,OAASF,KACN,OAAS1qB,GAAW,OAASkqB,GAA6BlqB,SAEvD,OAASA,EAAQpB,iBADhB8rB,GAAgBE,EAEzB,CACA,SAASE,GAA6B/sB,GACpC,GAAI,KAAOA,EAAMC,KACf,GACGmC,EAAK0qB,GAAqBA,GAAoB7qB,SAC/CG,EAAKsqB,GAA4B1sB,GACjC,OAAS2sB,GACT,CACA,IAAI1qB,EAAUjC,EAAMS,UACpB,OAASwB,GACP,OAASA,EAAQpB,gBAChB8rB,GAAgB3sB,EACrB,OACKgtB,IACT,CACA,SAASA,KACP5qB,EAAK0qB,GAAqBA,GAAoB7qB,SAC9CG,EAAKsqB,GAA4BA,GAA2BzqB,QAC9D,CACA,SAASgrB,GAAmBjtB,GAC1BkC,EAAIwqB,IACJC,KAAkB3sB,IAAU2sB,GAAgB,MAC5CzqB,EAAI4qB,GACN,CACA,IAAIA,GAAsB/qB,EAAa,GACvC,SAASmrB,GAAmBC,GAC1B,IAAK,IAAIpyB,EAAOoyB,EAAK,OAASpyB,GAAQ,CACpC,GAAI,KAAOA,EAAKkF,IAAK,CACnB,IAAImtB,EAAQryB,EAAK8F,cACjB,GACE,OAASusB,IAET,QADEA,EAAQA,EAAMtsB,aACE,OAASssB,EAAM1rB,MAAQ,OAAS0rB,EAAM1rB,MAExD,OAAO3G,CACX,MAAO,GAAI,KAAOA,EAAKkF,UAAO,IAAWlF,EAAKgrB,cAAcsH,aAC1D,GAAI,KAAoB,IAAbtyB,EAAK2F,OAAc,OAAO3F,OAChC,GAAI,OAASA,EAAKkG,MAAO,CAC9BlG,EAAKkG,MAAMZ,OAAStF,EACpBA,EAAOA,EAAKkG,MACZ,QACF,CACA,GAAIlG,IAASoyB,EAAK,MAClB,KAAO,OAASpyB,EAAKmG,SAAW,CAC9B,GAAI,OAASnG,EAAKsF,QAAUtF,EAAKsF,SAAW8sB,EAAK,OAAO,KACxDpyB,EAAOA,EAAKsF,MACd,CACAtF,EAAKmG,QAAQb,OAAStF,EAAKsF,OAC3BtF,EAAOA,EAAKmG,OACd,CACA,OAAO,IACT,CACA,IAAIosB,GACA,qBAAuBC,gBACnBA,gBACA,WACE,IAAIxR,EAAY,GACdyR,EAAUnhB,KAAKmhB,OAAS,CACtBC,SAAS,EACTjc,iBAAkB,SAAU/U,EAAMixB,GAChC3R,EAAU3Z,KAAKsrB,EACjB,GAEJrhB,KAAKshB,MAAQ,WACXH,EAAOC,SAAU,EACjB1R,EAAU2P,SAAQ,SAAUgC,GAC1B,OAAOA,GACT,GACF,CACF,EACNE,GAAqBzzB,EAAUuJ,0BAC/BmqB,GAAiB1zB,EAAUuK,wBAC3BopB,GAAe,CACbpxB,SAAUf,EACVoyB,SAAU,KACVC,SAAU,KACVzqB,cAAe,KACf0qB,eAAgB,KAChBC,aAAc,GAElB,SAASC,KACP,MAAO,CACLC,WAAY,IAAId,GAChB5rB,KAAM,IAAImI,IACVwkB,SAAU,EAEd,CACA,SAASC,GAAaC,GACpBA,EAAMF,WACN,IAAME,EAAMF,UACVT,GAAmBC,IAAgB,WACjCU,EAAMH,WAAWT,OACnB,GACJ,CACA,IAAIa,GAA4B,KAC9BC,GAA+B,EAC/BC,GAAuB,EACvBC,GAAiC,KAkBnC,SAASC,KACP,GACE,MAAQH,IACR,OAASD,GACT,CACA,OAASG,KACNA,GAA+BnH,OAAS,aAC3C,IAAIzL,EAAYyS,GAChBA,GAA4B,KAC5BE,GAAuB,EACvBC,GAAiC,KACjC,IAAK,IAAI9zB,EAAI,EAAGA,EAAIkhB,EAAUphB,OAAQE,KAAK,EAAIkhB,EAAUlhB,KAC3D,CACF,CA0BA,IAAIg0B,GAA8BxxB,EAAqByxB,EACvDzxB,EAAqByxB,EAAI,SAAU/M,EAAY1O,GAC7C,kBAAoBA,GAClB,OAASA,GACT,oBAAsBA,EAAYgU,MA5DtC,SAA6BtF,EAAYwF,GACvC,GAAI,OAASiH,GAA2B,CACtC,IAAIO,EAAsBP,GAA4B,GACtDC,GAA+B,EAC/BC,GAAuBM,KACvBL,GAAiC,CAC/BnH,OAAQ,UACRnoB,WAAO,EACPgoB,KAAM,SAAU4H,GACdF,EAAmB3sB,KAAK6sB,EAC1B,EAEJ,CACAR,KACAlH,EAASF,KAAKuH,GAA2BA,GAE3C,CA6CIM,CAAoBnN,EAAY1O,GAClC,OAASwb,IACPA,GAA4B9M,EAAY1O,EAC5C,EACA,IAAI8b,GAAeptB,EAAa,MAChC,SAASqtB,KACP,IAAIC,EAAiCF,GAAaltB,QAClD,OAAO,OAASotB,EACZA,EACAxH,GAAmByH,WACzB,CACA,SAASC,GAAeC,EAAyBC,GAE3CrtB,EAAK+sB,GADT,OAASM,EACcN,GAAaltB,QACbwtB,EAAcC,KACvC,CACA,SAASC,KACP,IAAIC,EAAgBR,KACpB,OAAO,OAASQ,EACZ,KACA,CAAEnM,OAAQqK,GAAavqB,cAAemsB,KAAME,EAClD,CACA,IAAIjpB,GAAc,EAChBkpB,GAA4B,KAC5BC,GAAc,KACdC,GAAqB,KACrBC,IAA+B,EAC/BC,IAA6C,EAC7CC,IAAsC,EACtCC,GAAiB,EACjBC,GAAuB,EACvBzI,GAAgB,KAChB0I,GAAwB,EAC1B,SAASC,KACP,MAAM5yB,MAAMnD,EAAuB,KACrC,CACA,SAASg2B,GAAmBC,EAAUC,GACpC,GAAI,OAASA,EAAU,OAAO,EAC9B,IAAK,IAAI51B,EAAI,EAAGA,EAAI41B,EAAS91B,QAAUE,EAAI21B,EAAS71B,OAAQE,IAC1D,IAAKsiB,GAASqT,EAAS31B,GAAI41B,EAAS51B,IAAK,OAAO,EAClD,OAAO,CACT,CACA,SAAS61B,GACPzuB,EACA9B,EACAwwB,EACA/f,EACAggB,EACAC,GAsBA,OApBAlqB,GAAckqB,EACdhB,GAA4B1vB,EAC5BA,EAAeU,cAAgB,KAC/BV,EAAe2wB,YAAc,KAC7B3wB,EAAe2F,MAAQ,EACvBzI,EAAqB0zB,EACnB,OAAS9uB,GAAW,OAASA,EAAQpB,cACjCmwB,GACAC,GACNf,IAAsC,EACtCW,EAAkBF,EAAU/f,EAAOggB,GACnCV,IAAsC,EACtCD,KACGY,EAAkBK,GACjB/wB,EACAwwB,EACA/f,EACAggB,IAEJO,GAAqBlvB,GACd4uB,CACT,CACA,SAASM,GAAqBlvB,GAC5B5E,EAAqB0zB,EAAIK,GACzB,IAAIC,EAAuB,OAASvB,IAAe,OAASA,GAAY7M,KAMxE,GALAtc,GAAc,EACdopB,GAAqBD,GAAcD,GAA4B,KAC/DG,IAA+B,EAC/BI,GAAuB,EACvBzI,GAAgB,KACZ0J,EAAsB,MAAM3zB,MAAMnD,EAAuB,MAC7D,OAAS0H,GACPqvB,IAEA,QADErvB,EAAUA,EAAQoI,eAElBknB,GAAsBtvB,KACrBqvB,IAAmB,EAC1B,CACA,SAASJ,GAAqB/wB,EAAgBwwB,EAAW/f,EAAOggB,GAC9Df,GAA4B1vB,EAC5B,IAAIqxB,EAAoB,EACxB,EAAG,CAID,GAHAvB,KAA+CtI,GAAgB,MAC/DyI,GAAuB,EACvBH,IAA6C,EACzC,IAAMuB,EAAmB,MAAM9zB,MAAMnD,EAAuB,MAGhE,GAFAi3B,GAAqB,EACrBzB,GAAqBD,GAAc,KAC/B,MAAQ3vB,EAAe2wB,YAAa,CACtC,IAAIpiB,EAAWvO,EAAe2wB,YAC9BpiB,EAAS+iB,WAAa,KACtB/iB,EAASgjB,OAAS,KAClBhjB,EAASijB,OAAS,KAClB,MAAQjjB,EAASkjB,YAAcljB,EAASkjB,UAAU9vB,MAAQ,EAC5D,CACAzE,EAAqB0zB,EAAIc,GACzBnjB,EAAWiiB,EAAU/f,EAAOggB,EAC9B,OAASX,IACT,OAAOvhB,CACT,CACA,SAASojB,KACP,IAAIC,EAAa10B,EAAqB0zB,EACpCiB,EAAgBD,EAAWE,WAAW,GAQxC,OAPAD,EACE,oBAAsBA,EAAc3K,KAChC6K,GAAYF,GACZA,EACND,EAAaA,EAAWE,WAAW,IAClC,OAASnC,GAAcA,GAAYjvB,cAAgB,QAAUkxB,IAC3DlC,GAA0BnvB,OAAS,MAC/BsxB,CACT,CACA,SAASG,KACP,IAAIC,EAAkB,IAAMjC,GAE5B,OADAA,GAAiB,EACViC,CACT,CACA,SAASC,GAAapwB,EAAS9B,EAAgB2F,GAC7C3F,EAAe2wB,YAAc7uB,EAAQ6uB,YACrC3wB,EAAeO,QAAU,KACzBuB,EAAQ6D,QAAUA,CACpB,CACA,SAASwsB,GAAmBnyB,GAC1B,GAAI6vB,GAA8B,CAChC,IACE7vB,EAAiBA,EAAeU,cAChC,OAASV,GAET,CACA,IAAI4iB,EAAQ5iB,EAAe4iB,MAC3B,OAASA,IAAUA,EAAMthB,QAAU,MACnCtB,EAAiBA,EAAe8iB,IAClC,CACA+M,IAA+B,CACjC,CACArpB,GAAc,EACdopB,GAAqBD,GAAcD,GAA4B,KAC/DI,IAA6C,EAC7CG,GAAuBD,GAAiB,EACxCxI,GAAgB,IAClB,CACA,SAAS4K,KACP,IAAIC,EAAO,CACT3xB,cAAe,KACf4xB,UAAW,KACXC,UAAW,KACX3P,MAAO,KACPE,KAAM,MAKR,OAHA,OAAS8M,GACJF,GAA0BhvB,cAAgBkvB,GAAqByC,EAC/DzC,GAAqBA,GAAmB9M,KAAOuP,EAC7CzC,EACT,CACA,SAAS4C,KACP,GAAI,OAAS7C,GAAa,CACxB,IAAI8C,EAAkB/C,GAA0BpvB,UAChDmyB,EACE,OAASA,EAAkBA,EAAgB/xB,cAAgB,IAC/D,MAAO+xB,EAAkB9C,GAAY7M,KACrC,IAAI4P,EACF,OAAS9C,GACLF,GAA0BhvB,cAC1BkvB,GAAmB9M,KACzB,GAAI,OAAS4P,EACV9C,GAAqB8C,EACnB/C,GAAc8C,MACd,CACH,GAAI,OAASA,EAAiB,CAC5B,GAAI,OAAS/C,GAA0BpvB,UACrC,MAAM/C,MAAMnD,EAAuB,MACrC,MAAMmD,MAAMnD,EAAuB,KACrC,CAEAq4B,EAAkB,CAChB/xB,eAFFivB,GAAc8C,GAEe/xB,cAC3B4xB,UAAW3C,GAAY2C,UACvBC,UAAW5C,GAAY4C,UACvB3P,MAAO+M,GAAY/M,MACnBE,KAAM,MAER,OAAS8M,GACJF,GAA0BhvB,cAAgBkvB,GACzC6C,EACD7C,GAAqBA,GAAmB9M,KAAO2P,CACtD,CACA,OAAO7C,EACT,CAKA,SAASmC,GAAY3K,GACnB,IAAIzlB,EAAQsuB,GAcZ,OAbAA,IAAwB,EACxB,OAASzI,KAAkBA,GAAgB,IAC3CJ,EAAWG,GAAkBC,GAAeJ,EAAUzlB,GACtDA,EAAQ+tB,GACR,QACG,OAASE,GACNjuB,EAAMjB,cACNkvB,GAAmB9M,QACrBnhB,EAAQA,EAAMrB,UACfpD,EAAqB0zB,EACpB,OAASjvB,GAAS,OAASA,EAAMjB,cAC7BmwB,GACAC,IACD1J,CACT,CACA,SAASuL,GAAIC,GACX,GAAI,OAASA,GAAU,kBAAoBA,EAAQ,CACjD,GAAI,oBAAsBA,EAAO1L,KAAM,OAAO6K,GAAYa,GAC1D,GAAIA,EAAOr2B,WAAaf,EAAoB,OAAOq3B,GAAYD,EACjE,CACA,MAAMr1B,MAAMnD,EAAuB,IAAK0d,OAAO8a,IACjD,CACA,SAASE,GAAaC,GACpB,IAAItB,EAAY,KACdd,EAAcjB,GAA0BiB,YAE1C,GADA,OAASA,IAAgBc,EAAYd,EAAYc,WAC7C,MAAQA,EAAW,CACrB,IAAI3vB,EAAU4tB,GAA0BpvB,UACxC,OAASwB,IAEP,QADEA,EAAUA,EAAQ6uB,eAGlB,OADE7uB,EAAUA,EAAQ2vB,aAEjBA,EAAY,CACXlwB,KAAMO,EAAQP,KAAKyxB,KAAI,SAAUC,GAC/B,OAAOA,EAAM5qB,OACf,IACA1G,MAAO,KAEjB,CAOA,GANA,MAAQ8vB,IAAcA,EAAY,CAAElwB,KAAM,GAAII,MAAO,IACrD,OAASgvB,IACLA,EA9CG,CAAEW,WAAY,KAAMC,OAAQ,KAAMC,OAAQ,KAAMC,UAAW,MA+C/D/B,GAA0BiB,YAAcA,GAC3CA,EAAYc,UAAYA,OAEpB,KADJd,EAAcc,EAAUlwB,KAAKkwB,EAAU9vB,QAErC,IACEgvB,EAAcc,EAAUlwB,KAAKkwB,EAAU9vB,OAASV,MAAM8xB,GAAOjxB,EAAU,EACvEA,EAAUixB,EACVjxB,IAEA6uB,EAAY7uB,GAAW/F,EAE3B,OADA01B,EAAU9vB,QACHgvB,CACT,CACA,SAASuC,GAAkBjG,EAAOxrB,GAChC,MAAO,oBAAsBA,EAASA,EAAOwrB,GAASxrB,CACxD,CACA,SAAS0xB,GAAcC,GAErB,OAAOC,GADIb,KACoB7C,GAAayD,EAC9C,CACA,SAASC,GAAkBhB,EAAMvwB,EAASsxB,GACxC,IAAIxQ,EAAQyP,EAAKzP,MACjB,GAAI,OAASA,EAAO,MAAMrlB,MAAMnD,EAAuB,MACvDwoB,EAAM0Q,oBAAsBF,EAC5B,IAAIb,EAAYF,EAAKE,UACnBgB,EAAe3Q,EAAMthB,QACvB,GAAI,OAASiyB,EAAc,CACzB,GAAI,OAAShB,EAAW,CACtB,IAAIiB,EAAYjB,EAAUzP,KAC1ByP,EAAUzP,KAAOyQ,EAAazQ,KAC9ByQ,EAAazQ,KAAO0Q,CACtB,CACA1xB,EAAQywB,UAAYA,EAAYgB,EAChC3Q,EAAMthB,QAAU,IAClB,CAEA,GADAiyB,EAAelB,EAAKC,UAChB,OAASC,EAAWF,EAAK3xB,cAAgB6yB,MACxC,CAEH,IAAIE,EAAqBD,EAAY,KACnCE,EAAmB,KACnB7Q,EAHF/gB,EAAUywB,EAAUzP,KAIlB6Q,GAAqC,EACvC,EAAG,CACD,IAAIzsB,GAA4B,UAAf2b,EAAOnc,KACxB,GACEQ,IAAe2b,EAAOnc,MACjBktB,GAAgC1sB,KAAgBA,GAChDV,GAAcU,KAAgBA,EACnC,CACA,IAAI2sB,EAAahR,EAAOgR,WACxB,GAAI,IAAMA,EACR,OAASH,IACNA,EAAmBA,EAAiB5Q,KACnC,CACEpc,KAAM,EACNmtB,WAAY,EACZpyB,OAAQohB,EAAOphB,OACfqyB,cAAejR,EAAOiR,cACtBC,WAAYlR,EAAOkR,WACnBjR,KAAM,OAEV5b,IAAeqnB,KACZoF,GAAqC,OACvC,KAAKntB,GAAcqtB,KAAgBA,EAAY,CAClDhR,EAASA,EAAOC,KAChB+Q,IAAetF,KACZoF,GAAqC,GACxC,QACF,CACGzsB,EAAa,CACZR,KAAM,EACNmtB,WAAYhR,EAAOgR,WACnBpyB,OAAQohB,EAAOphB,OACfqyB,cAAejR,EAAOiR,cACtBC,WAAYlR,EAAOkR,WACnBjR,KAAM,MAEN,OAAS4Q,GACHD,EAAoBC,EAAmBxsB,EACxCssB,EAAYD,GACZG,EAAmBA,EAAiB5Q,KAAO5b,EAC/CwoB,GAA0B/pB,OAASkuB,EACnCG,IAAkCH,CAAW,CAClD3sB,EAAa2b,EAAOphB,OACpBsuB,IACEqD,EAAQG,EAAcrsB,GACxBqsB,EAAe1Q,EAAOiR,cAClBjR,EAAOkR,WACPX,EAAQG,EAAcrsB,EAC5B,MACG2sB,EAAa,CACZntB,KAAMQ,EACN2sB,WAAYhR,EAAOgR,WACnBpyB,OAAQohB,EAAOphB,OACfqyB,cAAejR,EAAOiR,cACtBC,WAAYlR,EAAOkR,WACnBjR,KAAM,MAEN,OAAS4Q,GACHD,EAAoBC,EAAmBG,EACxCL,EAAYD,GACZG,EAAmBA,EAAiB5Q,KAAO+Q,EAC/CnE,GAA0B/pB,OAASuB,EACnC8sB,IAAkC9sB,EACvC2b,EAASA,EAAOC,IAClB,OAAS,OAASD,GAAUA,IAAW/gB,GAIvC,GAHA,OAAS4xB,EACJF,EAAYD,EACZG,EAAiB5Q,KAAO2Q,GAE1BzW,GAASuW,EAAclB,EAAK3xB,iBAC3BywB,IAAmB,EACrBwC,GAC+C,QAA3CP,EAAU5E,KAEd,MAAM4E,EACRf,EAAK3xB,cAAgB6yB,EACrBlB,EAAKC,UAAYkB,EACjBnB,EAAKE,UAAYmB,EACjB9Q,EAAMqR,kBAAoBV,CAC5B,CAEA,OADA,OAAShB,IAAc3P,EAAMjd,MAAQ,GAC9B,CAAC0sB,EAAK3xB,cAAekiB,EAAMsR,SACpC,CACA,SAASC,GAAgBf,GACvB,IAAIf,EAAOG,KACT5P,EAAQyP,EAAKzP,MACf,GAAI,OAASA,EAAO,MAAMrlB,MAAMnD,EAAuB,MACvDwoB,EAAM0Q,oBAAsBF,EAC5B,IAAIc,EAAWtR,EAAMsR,SACnBE,EAAwBxR,EAAMthB,QAC9BwY,EAAWuY,EAAK3xB,cAClB,GAAI,OAAS0zB,EAAuB,CAClCxR,EAAMthB,QAAU,KAChB,IAAIuhB,EAAUuR,EAAwBA,EAAsBtR,KAC5D,GAAIhJ,EAAWsZ,EAAQtZ,EAAU+I,EAAOphB,QAAWohB,EAASA,EAAOC,WAC5DD,IAAWuR,GAClBpX,GAASlD,EAAUuY,EAAK3xB,iBAAmBywB,IAAmB,GAC9DkB,EAAK3xB,cAAgBoZ,EACrB,OAASuY,EAAKE,YAAcF,EAAKC,UAAYxY,GAC7C8I,EAAMqR,kBAAoBna,CAC5B,CACA,MAAO,CAACA,EAAUoa,EACpB,CACA,SAASG,GAAwBC,EAAWC,EAAaC,GACvD,IAAI30B,EAAQ6vB,GACV2C,EAAOG,KACPiC,EAAuB9mB,GACzB,GAAI8mB,EAAsB,CACxB,QAAI,IAAWD,EAAmB,MAAMj3B,MAAMnD,EAAuB,MACrEo6B,EAAoBA,GACtB,MAAOA,EAAoBD,IAC3B,IAAIG,GAAmB1X,IACpB2S,IAAe0C,GAAM3xB,cACtB8zB,GAQF,GANAE,IACIrC,EAAK3xB,cAAgB8zB,EAAqBrD,IAAmB,GACjEkB,EAAOA,EAAKzP,MACZ+R,GAAaC,GAAiBC,KAAK,KAAMh1B,EAAOwyB,EAAMiC,GAAY,CAChEA,IAGAjC,EAAKkC,cAAgBA,GACrBG,GACC,OAAS9E,IAA6D,EAAvCA,GAAmBlvB,cAAcZ,IACjE,CAcA,GAbAD,EAAMU,OAAS,KACfu0B,GACE,EACAC,GAAoBF,KAClB,KACAh1B,EACAwyB,EACAmC,EACAD,GAEF,CAAES,aAAS,GACX,MAEE,OAAStN,GAAoB,MAAMnqB,MAAMnD,EAAuB,MACpEq6B,GACE,KAAqB,GAAdjuB,KACPyuB,GAA0Bp1B,EAAO00B,EAAaC,EAClD,CACA,OAAOA,CACT,CACA,SAASS,GAA0Bp1B,EAAO00B,EAAaW,GACrDr1B,EAAMU,OAAS,MACfV,EAAQ,CAAE00B,YAAaA,EAAar1B,MAAOg2B,GAE3C,QADAX,EAAc7E,GAA0BiB,cAElC4D,EAhPC,CAAEjD,WAAY,KAAMC,OAAQ,KAAMC,OAAQ,KAAMC,UAAW,MAiP7D/B,GAA0BiB,YAAc4D,EACxCA,EAAY/C,OAAS,CAAC3xB,IAEvB,QADEq1B,EAAmBX,EAAY/C,QAE5B+C,EAAY/C,OAAS,CAAC3xB,GACvBq1B,EAAiBjzB,KAAKpC,EAChC,CACA,SAASk1B,GAAoBl1B,EAAOwJ,EAAM8rB,EAAcZ,GACtDlrB,EAAKnK,MAAQi2B,EACb9rB,EAAKkrB,YAAcA,EACnBa,GAAuB/rB,IAASgsB,GAAmBx1B,EACrD,CACA,SAAS+0B,GAAiB/0B,EAAOwJ,EAAMirB,GACrC,OAAOA,GAAU,WACfc,GAAuB/rB,IAASgsB,GAAmBx1B,EACrD,GACF,CACA,SAASu1B,GAAuB/rB,GAC9B,IAAIisB,EAAoBjsB,EAAKkrB,YAC7BlrB,EAAOA,EAAKnK,MACZ,IACE,IAAIq2B,EAAYD,IAChB,OAAQtY,GAAS3T,EAAMksB,EACzB,CAAE,MAAOzO,GACP,OAAO,CACT,CACF,CACA,SAASuO,GAAmBx1B,GAC1B,IAAIiG,EAAOqd,GAA+BtjB,EAAO,GACjD,OAASiG,GAAQ0vB,GAAsB1vB,EAAMjG,EAAO,EACtD,CACA,SAAS41B,GAAeC,GACtB,IAAIrD,EAAOD,KACX,GAAI,oBAAsBsD,EAAc,CACtC,IAAIC,EAA0BD,EAE9B,GADAA,EAAeC,IACX5F,GAAqC,CACvC9qB,IAA2B,GAC3B,IACE0wB,GACF,CAAE,QACA1wB,IAA2B,EAC7B,CACF,CACF,CASA,OARAotB,EAAK3xB,cAAgB2xB,EAAKC,UAAYoD,EACtCrD,EAAKzP,MAAQ,CACXthB,QAAS,KACTqE,MAAO,EACPuuB,SAAU,KACVZ,oBAAqBJ,GACrBe,kBAAmByB,GAEdrD,CACT,CACA,SAASuD,GAAqBvD,EAAMvwB,EAAS+zB,EAAazC,GAExD,OADAf,EAAKC,UAAYuD,EACVxC,GACLhB,EACA1C,GACA,oBAAsByD,EAAUA,EAAUF,GAE9C,CACA,SAAS4C,GACPj2B,EACAk2B,EACAC,EACAC,EACAC,GAEA,GAAIC,GAAoBt2B,GAAQ,MAAMtC,MAAMnD,EAAuB,MAEnE,GAAI,QADJyF,EAAQk2B,EAAYt0B,QACA,CAClB,IAAI20B,EAAa,CACfF,QAASA,EACTz0B,OAAQ5B,EACRijB,KAAM,KACNuT,cAAc,EACdhP,OAAQ,UACRnoB,MAAO,KACPuoB,OAAQ,KACR7L,UAAW,GACXsL,KAAM,SAAUqG,GACd6I,EAAWxa,UAAU3Z,KAAKsrB,EAC5B,GAEF,OAASrwB,EAAqBo5B,EAC1BN,GAAgB,GACfI,EAAWC,cAAe,EAC/BJ,EAASG,GAET,QADAJ,EAAkBD,EAAYz0B,UAExB80B,EAAWtT,KAAOiT,EAAYz0B,QAAU80B,EAC1CG,GAAqBR,EAAaK,KAChCA,EAAWtT,KAAOkT,EAAgBlT,KACnCiT,EAAYz0B,QAAU00B,EAAgBlT,KAAOsT,EACpD,CACF,CACA,SAASG,GAAqBR,EAAan7B,GACzC,IAAI6G,EAAS7G,EAAK6G,OAChBy0B,EAAUt7B,EAAKs7B,QACfM,EAAYT,EAAY9I,MAC1B,GAAIryB,EAAKy7B,aAAc,CACrB,IAAII,EAAiBv5B,EAAqBo5B,EACxCI,EAAoB,CAAC,EACvBx5B,EAAqBo5B,EAAII,EACzB,IACE,IAAIxjB,EAAczR,EAAO+0B,EAAWN,GAClCS,EAA0Bz5B,EAAqByxB,EACjD,OAASgI,GACPA,EAAwBD,EAAmBxjB,GAC7C0jB,GAAwBb,EAAan7B,EAAMsY,EAC7C,CAAE,MAAO4T,GACP+P,GAAcd,EAAan7B,EAAMksB,EACnC,CAAE,QACA5pB,EAAqBo5B,EAAIG,CAC3B,CACF,MACE,IAEIG,GAAwBb,EAAan7B,EADtC67B,EAAiBh1B,EAAO+0B,EAAWN,GAEtC,CAAE,MAAOY,GACPD,GAAcd,EAAan7B,EAAMk8B,EACnC,CACJ,CACA,SAASF,GAAwBb,EAAan7B,EAAMsY,GAClD,OAASA,GACT,kBAAoBA,GACpB,oBAAsBA,EAAYgU,KAC9BhU,EAAYgU,MACV,SAAU6P,GACRC,GAAgBjB,EAAan7B,EAAMm8B,EACrC,IACA,SAAUjQ,GACR,OAAO+P,GAAcd,EAAan7B,EAAMksB,EAC1C,IAEFkQ,GAAgBjB,EAAan7B,EAAMsY,EACzC,CACA,SAAS8jB,GAAgBjB,EAAaK,EAAYW,GAChDX,EAAW/O,OAAS,YACpB+O,EAAWl3B,MAAQ63B,EACnBE,GAAsBb,GACtBL,EAAY9I,MAAQ8J,EAEpB,QADAX,EAAaL,EAAYz0B,YAErBy1B,EAAYX,EAAWtT,QACXsT,EACTL,EAAYz0B,QAAU,MACrBy1B,EAAYA,EAAUjU,KACvBsT,EAAWtT,KAAOiU,EACnBR,GAAqBR,EAAagB,IAC1C,CACA,SAASF,GAAcd,EAAaK,EAAYtP,GAC9C,IAAIoQ,EAAOnB,EAAYz0B,QAEvB,GADAy0B,EAAYz0B,QAAU,KAClB,OAAS41B,EAAM,CACjBA,EAAOA,EAAKpU,KACZ,GACGsT,EAAW/O,OAAS,WAClB+O,EAAW3O,OAASX,EACrBmQ,GAAsBb,GACrBA,EAAaA,EAAWtT,WACtBsT,IAAec,EACxB,CACAnB,EAAYt0B,OAAS,IACvB,CACA,SAASw1B,GAAsBb,GAC7BA,EAAaA,EAAWxa,UACxB,IAAK,IAAIlhB,EAAI,EAAGA,EAAI07B,EAAW57B,OAAQE,KAAK,EAAI07B,EAAW17B,KAC7D,CACA,SAASy8B,GAAmBpd,EAAUD,GACpC,OAAOA,CACT,CACA,SAASsd,GAAiB31B,EAAQ41B,GAChC,GAAI1pB,GAAa,CACf,IAAI2pB,EAAe5P,GAAmB6P,UACtC,GAAI,OAASD,EAAc,CACzB5mB,EAAG,CACD,IAAIzN,EAA2BysB,GAC/B,GAAI/hB,GAAa,CACf,GAAIyX,GAAwB,CAC1BnU,EAAG,CAED,IADA,IAAIumB,EAAoCpS,GAElCqS,EAAoBnS,GACxB,IAAMkS,EAAkC38B,UAExC,CACA,IAAK48B,EAAmB,CACtBD,EAAoC,KACpC,MAAMvmB,CACR,CAIA,GAAI,QAHJumB,EAAoC5Q,GAClC4Q,EAAkC1Z,cAEY,CAC9C0Z,EAAoC,KACpC,MAAMvmB,CACR,CACF,CAEAumB,EACE,QAFFC,EAAoBD,EAAkCj2B,OAEtB,MAAQk2B,EAClCD,EACA,IACR,CACA,GAAIA,EAAmC,CACrCpS,GAAyBwB,GACvB4Q,EAAkC1Z,aAEpC7a,EACE,OAASu0B,EAAkCj2B,KAC7C,MAAMmP,CACR,CACF,CACA8U,GAAyBviB,EAC3B,CACAA,GAA2B,CAC7B,CACAA,IAA6Bo0B,EAAmBC,EAAa,GAC/D,CACF,CAyCA,OAxCAA,EAAelF,MACF1xB,cAAgB42B,EAAahF,UAAY+E,EACtDp0B,EAA2B,CACzB3B,QAAS,KACTqE,MAAO,EACPuuB,SAAU,KACVZ,oBAAqB6D,GACrBlD,kBAAmBoD,GAErBC,EAAa1U,MAAQ3f,EACrBq0B,EAAeI,GAAiB7C,KAC9B,KACAnF,GACAzsB,GAEFA,EAAyBixB,SAAWoD,EACpCr0B,EAA2BwyB,IAAe,GAC1CgC,EAAoBE,GAA2B9C,KAC7C,KACAnF,IACA,EACAzsB,EAAyB2f,OAG3B4U,EAAoC,CAClCvK,MAAOoK,EACPnD,SAAU,KACVzyB,OAAQA,EACRH,QAAS,OALX2B,EAA2BmvB,MAOFxP,MAAQ4U,EACjCF,EAAexB,GAAoBjB,KACjC,KACAnF,GACA8H,EACAC,EACAH,GAEFE,EAAkCtD,SAAWoD,EAC7Cr0B,EAAyBvC,cAAgBe,EAClC,CAAC41B,EAAkBC,GAAc,EAC1C,CACA,SAASM,GAAkBn2B,GAEzB,OAAOo2B,GADSrF,KACwB7C,GAAaluB,EACvD,CACA,SAASo2B,GAAsBC,EAAWC,EAAkBt2B,GAC1Ds2B,EAAmB1E,GACjByE,EACAC,EACAZ,IACA,GACFW,EAAY3E,GAAcD,IAAmB,GAC7C6E,EACE,kBAAoBA,GACpB,OAASA,GACT,oBAAsBA,EAAiB7Q,KACnC6K,GAAYgG,GACZA,EACN,IAAIC,EAAkBxF,KACpBuD,EAAciC,EAAgBpV,MAC9BsR,EAAW6B,EAAY7B,SASzB,OARAzyB,IAAWu2B,EAAgBt3B,gBACvBgvB,GAA0BnvB,OAAS,KACrCu0B,GACE,EACAmD,GAAwBpD,KAAK,KAAMkB,EAAat0B,GAChD,CAAEuzB,aAAS,GACX,OAEG,CAAC+C,EAAkB7D,EAAU4D,EACtC,CACA,SAASG,GAAwBlC,EAAat0B,GAC5Cs0B,EAAYt0B,OAASA,CACvB,CACA,SAASy2B,GAAoBz2B,GAC3B,IAAIq2B,EAAYtF,KACduF,EAAmBpI,GACrB,GAAI,OAASoI,EACX,OAAOF,GAAsBC,EAAWC,EAAkBt2B,GAC5D+wB,KACAsF,EAAYA,EAAUp3B,cAEtB,IAAIwzB,GADJ6D,EAAmBvF,MACa5P,MAAMsR,SAEtC,OADA6D,EAAiBr3B,cAAgBe,EAC1B,CAACq2B,EAAW5D,GAAU,EAC/B,CACA,SAASY,GAAWh1B,EAAKq4B,EAAQ9uB,EAAM+uB,GAarC,OAZAt4B,EAAM,CAAEA,IAAKA,EAAKq4B,OAAQA,EAAQ9uB,KAAMA,EAAM+uB,KAAMA,EAAMtV,KAAM,MAEhE,QADAqV,EAASzI,GAA0BiB,eAE/BwH,EA3iBG,CAAE7G,WAAY,KAAMC,OAAQ,KAAMC,OAAQ,KAAMC,UAAW,MA4iB/D/B,GAA0BiB,YAAcwH,GAE3C,QADA9uB,EAAO8uB,EAAO7G,YAET6G,EAAO7G,WAAaxxB,EAAIgjB,KAAOhjB,GAC9Bs4B,EAAO/uB,EAAKyZ,KACbzZ,EAAKyZ,KAAOhjB,EACZA,EAAIgjB,KAAOsV,EACXD,EAAO7G,WAAaxxB,GAClBA,CACT,CACA,SAASu4B,KACP,OAAO7F,KAA2B9xB,aACpC,CACA,SAAS43B,GAAgBC,EAAYC,EAAWL,EAAQC,GACtD,IAAI/F,EAAOD,KACX1C,GAA0BnvB,OAASg4B,EACnClG,EAAK3xB,cAAgBo0B,GACnB,EAAI0D,EACJL,EACA,CAAEnD,aAAS,QACX,IAAWoD,EAAO,KAAOA,EAE7B,CACA,SAASK,GAAiBF,EAAYC,EAAWL,EAAQC,GACvD,IAAI/F,EAAOG,KACX4F,OAAO,IAAWA,EAAO,KAAOA,EAChC,IAAI/uB,EAAOgpB,EAAK3xB,cAAc2I,KAC9B,OAASsmB,IACT,OAASyI,GACThI,GAAmBgI,EAAMzI,GAAYjvB,cAAc03B,MAC9C/F,EAAK3xB,cAAgBo0B,GAAW0D,EAAWL,EAAQ9uB,EAAM+uB,IACxD1I,GAA0BnvB,OAASg4B,EACpClG,EAAK3xB,cAAgBo0B,GAAW,EAAI0D,EAAWL,EAAQ9uB,EAAM+uB,GACpE,CACA,SAASM,GAAYP,EAAQC,GAC3BE,GAAgB,QAAS,EAAGH,EAAQC,EACtC,CACA,SAASzD,GAAawD,EAAQC,GAC5BK,GAAiB,KAAM,EAAGN,EAAQC,EACpC,CACA,SAASO,GAAsBR,EAAQC,GACrC,OAAOK,GAAiB,EAAG,EAAGN,EAAQC,EACxC,CACA,SAASQ,GAAmBT,EAAQC,GAClC,OAAOK,GAAiB,EAAG,EAAGN,EAAQC,EACxC,CACA,SAASS,GAAuBV,EAAQ9P,GACtC,GAAI,oBAAsBA,EAAK,CAC7B8P,EAASA,IACT,IAAIW,EAAazQ,EAAI8P,GACrB,OAAO,WACL,oBAAsBW,EAAaA,IAAezQ,EAAI,KACxD,CACF,CACA,GAAI,OAASA,QAAO,IAAWA,EAC7B,OACG8P,EAASA,IACT9P,EAAIvmB,QAAUq2B,EACf,WACE9P,EAAIvmB,QAAU,IAChB,CAEN,CACA,SAASi3B,GAAuB1Q,EAAK8P,EAAQC,GAC3CA,EAAO,OAASA,QAAQ,IAAWA,EAAOA,EAAKY,OAAO,CAAC3Q,IAAQ,KAC/DoQ,GAAiB,EAAG,EAAGI,GAAuBhE,KAAK,KAAMsD,EAAQ9P,GAAM+P,EACzE,CACA,SAASa,KAAmB,CAC5B,SAASC,GAAeC,EAAUf,GAChC,IAAI/F,EAAOG,KACX4F,OAAO,IAAWA,EAAO,KAAOA,EAChC,IAAI5B,EAAYnE,EAAK3xB,cACrB,OAAI,OAAS03B,GAAQhI,GAAmBgI,EAAM5B,EAAU,IAC/CA,EAAU,IACnBnE,EAAK3xB,cAAgB,CAACy4B,EAAUf,GACzBe,EACT,CACA,SAASC,GAAWC,EAAYjB,GAC9B,IAAI/F,EAAOG,KACX4F,OAAO,IAAWA,EAAO,KAAOA,EAChC,IAAI5B,EAAYnE,EAAK3xB,cACrB,GAAI,OAAS03B,GAAQhI,GAAmBgI,EAAM5B,EAAU,IACtD,OAAOA,EAAU,GAEnB,GADAA,EAAY6C,IACRtJ,GAAqC,CACvC9qB,IAA2B,GAC3B,IACEo0B,GACF,CAAE,QACAp0B,IAA2B,EAC7B,CACF,CAEA,OADAotB,EAAK3xB,cAAgB,CAAC81B,EAAW4B,GAC1B5B,CACT,CACA,SAAS8C,GAAuBjH,EAAMnzB,EAAOq6B,GAC3C,YAAI,IAAWA,GAAgB,KAAqB,WAAd/yB,IAC5B6rB,EAAK3xB,cAAgBxB,GAC/BmzB,EAAK3xB,cAAgB64B,EACrBlH,EAAOmH,KACP9J,GAA0B/pB,OAAS0sB,EACnC2B,IAAkC3B,EAC3BkH,EACT,CACA,SAASE,GAAwBpH,EAAMqH,EAAWx6B,EAAOq6B,GACvD,OAAIvc,GAAS9d,EAAOw6B,GAAmBx6B,EACnC,OAAS8sB,GAA6BlqB,SAErCuwB,EAAOiH,GAAuBjH,EAAMnzB,EAAOq6B,GAC5Cvc,GAASqV,EAAMqH,KAAevI,IAAmB,GACjDkB,GAEA,KAAqB,GAAd7rB,KACD2qB,IAAmB,EAAMkB,EAAK3xB,cAAgBxB,IACxDmzB,EAAOmH,KACP9J,GAA0B/pB,OAAS0sB,EACnC2B,IAAkC3B,EAC3BqH,EACT,CACA,SAASC,GAAgB95B,EAAO+iB,EAAOgX,EAAcC,EAAeV,GAClE,IAAIW,EAAmB34B,EAAwB2G,EAC/C3G,EAAwB2G,EACtB,IAAMgyB,GAAoB,EAAIA,EAAmBA,EAAmB,EACtE,IAAIrD,EAAiBv5B,EAAqBo5B,EACxCI,EAAoB,CAAC,EACvBx5B,EAAqBo5B,EAAII,EACzBiB,GAA2B93B,GAAO,EAAI+iB,EAAOgX,GAC7C,IACE,IAAI1mB,EAAcimB,IAChBxC,EAA0Bz5B,EAAqByxB,EAGjD,GAFA,OAASgI,GACPA,EAAwBD,EAAmBxjB,GAE3C,OAASA,GACT,kBAAoBA,GACpB,oBAAsBA,EAAYgU,KAMlC6S,GACEl6B,EACA+iB,EAj6BR,SAA4BwE,EAAU4S,GACpC,IAAIpe,EAAY,GACdqe,EAAuB,CACrB5S,OAAQ,UACRnoB,MAAO,KACPuoB,OAAQ,KACRP,KAAM,SAAU4H,GACdlT,EAAU3Z,KAAK6sB,EACjB,GAeJ,OAbA1H,EAASF,MACP,WACE+S,EAAqB5S,OAAS,YAC9B4S,EAAqB/6B,MAAQ86B,EAC7B,IAAK,IAAIt/B,EAAI,EAAGA,EAAIkhB,EAAUphB,OAAQE,KAAK,EAAIkhB,EAAUlhB,IAAIs/B,EAC/D,IACA,SAAUlT,GAGR,IAFAmT,EAAqB5S,OAAS,WAC9B4S,EAAqBxS,OAASX,EACzBA,EAAQ,EAAGA,EAAQlL,EAAUphB,OAAQssB,KACxC,EAAIlL,EAAUkL,SAAQ,EAC1B,IAEKmT,CACT,CAm4BqCC,CAC7BhnB,EACA2mB,GAMAM,WAGFJ,GACEl6B,EACA+iB,EACAiX,EACAM,KAEN,CAAE,MAAOrT,GACPiT,GACEl6B,EACA+iB,EACA,CAAEsE,KAAM,WAAa,EAAGG,OAAQ,WAAYI,OAAQX,GACpDqT,KAEJ,CAAE,QACCh5B,EAAwB2G,EAAIgyB,EAC1B58B,EAAqBo5B,EAAIG,CAC9B,CACF,CACA,SAAS2D,KAAU,CACnB,SAASC,GAAoBC,EAAWV,EAAcn4B,EAAQ84B,GAC5D,GAAI,IAAMD,EAAUx6B,IAAK,MAAMvC,MAAMnD,EAAuB,MAC5D,IAAIwoB,EAAQ4X,GAA8BF,GAAW1X,MACrD+W,GACEW,EACA1X,EACAgX,EACAv4B,EACA,OAASI,EACL24B,GACA,WAEE,OADAK,GAAmBH,GACZ74B,EAAO84B,EAChB,EAER,CACA,SAASC,GAA8BF,GACrC,IAAII,EAAoBJ,EAAU55B,cAClC,GAAI,OAASg6B,EAAmB,OAAOA,EAcvC,IAAIC,EAAoB,CAAC,EAiBzB,OA9BAD,EAAoB,CAClBh6B,cAAeW,EACfixB,UAAWjxB,EACXkxB,UAAW,KACX3P,MAAO,CACLthB,QAAS,KACTqE,MAAO,EACPuuB,SAAU,KACVZ,oBAAqBJ,GACrBe,kBAAmB5yB,GAErByhB,KAAM,OAGUA,KAAO,CACvBpiB,cAAei6B,EACfrI,UAAWqI,EACXpI,UAAW,KACX3P,MAAO,CACLthB,QAAS,KACTqE,MAAO,EACPuuB,SAAU,KACVZ,oBAAqBJ,GACrBe,kBAAmB0G,GAErB7X,KAAM,MAERwX,EAAU55B,cAAgBg6B,EAE1B,QADAJ,EAAYA,EAAUh6B,aACCg6B,EAAU55B,cAAgBg6B,GAC1CA,CACT,CACA,SAASD,GAAmBH,GAE1BP,GAAyBO,EADHE,GAA8BF,GAAWxX,KAAKF,MACf,CAAC,EAAGuX,KAC3D,CACA,SAASS,KACP,OAAO/H,GAAY1vB,GACrB,CACA,SAAS03B,KACP,OAAOrI,KAA2B9xB,aACpC,CACA,SAASo6B,KACP,OAAOtI,KAA2B9xB,aACpC,CACA,SAASq6B,GAAal7B,GACpB,IAAK,IAAIm7B,EAAWn7B,EAAMK,OAAQ,OAAS86B,GAAY,CACrD,OAAQA,EAASl7B,KACf,KAAK,GACL,KAAK,EACH,IAAI4G,EAAOyzB,KAEPc,EAAUC,GAAcF,EAD5Bn7B,EAAQs7B,GAAaz0B,GACwBA,GAM7C,OALA,OAASu0B,IACNzF,GAAsByF,EAASD,EAAUt0B,GAC1C00B,GAAoBH,EAASD,EAAUt0B,IACzCs0B,EAAW,CAAE5M,MAAOJ,WACpBnuB,EAAMq2B,QAAU8E,GAGpBA,EAAWA,EAAS96B,MACtB,CACF,CACA,SAASm7B,GAAsBx7B,EAAO+iB,EAAOnhB,GAC3C,IAAIiF,EAAOyzB,KACX14B,EAAS,CACPiF,KAAMA,EACNmtB,WAAY,EACZpyB,OAAQA,EACRqyB,eAAe,EACfC,WAAY,KACZjR,KAAM,MAERqT,GAAoBt2B,GAChBy7B,GAAyB1Y,EAAOnhB,GAEhC,QADEA,EAASwhB,GAA4BpjB,EAAO+iB,EAAOnhB,EAAQiF,MAE1D8uB,GAAsB/zB,EAAQ5B,EAAO6G,GACtC60B,GAAyB95B,EAAQmhB,EAAOlc,GAChD,CACA,SAASgxB,GAAiB73B,EAAO+iB,EAAOnhB,GAEtCs4B,GAAyBl6B,EAAO+iB,EAAOnhB,EAD5B04B,KAEb,CACA,SAASJ,GAAyBl6B,EAAO+iB,EAAOnhB,EAAQiF,GACtD,IAAImc,EAAS,CACXnc,KAAMA,EACNmtB,WAAY,EACZpyB,OAAQA,EACRqyB,eAAe,EACfC,WAAY,KACZjR,KAAM,MAER,GAAIqT,GAAoBt2B,GAAQy7B,GAAyB1Y,EAAOC,OAC3D,CACH,IAAIviB,EAAYT,EAAMS,UACtB,GACE,IAAMT,EAAM8F,QACX,OAASrF,GAAa,IAAMA,EAAUqF,QACG,QAAxCrF,EAAYsiB,EAAM0Q,qBAEpB,IACE,IAAIkI,EAAe5Y,EAAMqR,kBACvBF,EAAazzB,EAAUk7B,EAAc/5B,GAGvC,GAFAohB,EAAOiR,eAAgB,EACvBjR,EAAOkR,WAAaA,EAChB/W,GAAS+W,EAAYyH,GACvB,OACExY,GAAgBnjB,EAAO+iB,EAAOC,EAAQ,GACtC,OAAS6E,IAAsBhF,MAC/B,CAEN,CAAE,MAAOoE,GACT,CAGF,GAAI,QADJrlB,EAASwhB,GAA4BpjB,EAAO+iB,EAAOC,EAAQnc,IAEzD,OACE8uB,GAAsB/zB,EAAQ5B,EAAO6G,GACrC60B,GAAyB95B,EAAQmhB,EAAOlc,IACxC,CAEN,CACA,OAAO,CACT,CACA,SAASixB,GAA2B93B,EAAO47B,EAAqB7Y,EAAOnhB,GASrE,GARAA,EAAS,CACPiF,KAAM,EACNmtB,WAAYhF,KACZptB,OAAQA,EACRqyB,eAAe,EACfC,WAAY,KACZjR,KAAM,MAEJqT,GAAoBt2B,IACtB,GAAI47B,EAAqB,MAAMl+B,MAAMnD,EAAuB,WAQ1D,QANDqhC,EAAsBxY,GACrBpjB,EACA+iB,EACAnhB,EACA,KAGE+zB,GAAsBiG,EAAqB57B,EAAO,EAC1D,CACA,SAASs2B,GAAoBt2B,GAC3B,IAAIS,EAAYT,EAAMS,UACtB,OACET,IAAU6vB,IACT,OAASpvB,GAAaA,IAAcovB,EAEzC,CACA,SAAS4L,GAAyB1Y,EAAOC,GACvCiN,GAA6CD,IAC3C,EACF,IAAIvuB,EAAUshB,EAAMthB,QACpB,OAASA,EACJuhB,EAAOC,KAAOD,GACbA,EAAOC,KAAOxhB,EAAQwhB,KAAQxhB,EAAQwhB,KAAOD,GACnDD,EAAMthB,QAAUuhB,CAClB,CACA,SAAS0Y,GAAyBz1B,EAAM8c,EAAOlc,GAC7C,GAAI,KAAc,QAAPA,GAAiB,CAC1B,IAAIg1B,EAAa9Y,EAAMjd,MAEvBe,GADAg1B,GAAc51B,EAAKE,aAEnB4c,EAAMjd,MAAQe,EACdc,GAAkB1B,EAAMY,EAC1B,CACF,CACA,IAAIuqB,GAAwB,CAC1B4B,YAAaA,GACbF,IAAKA,GACLgJ,YAAaxL,GACbyL,WAAYzL,GACZ0L,UAAW1L,GACX2L,oBAAqB3L,GACrB4L,gBAAiB5L,GACjB6L,mBAAoB7L,GACpB8L,QAAS9L,GACT+L,WAAY/L,GACZgM,OAAQhM,GACR2B,SAAU3B,GACViM,cAAejM,GACfkM,iBAAkBlM,GAClBmM,cAAenM,GACfoM,qBAAsBpM,GACtBqM,MAAOrM,IAETc,GAAsBwL,gBAAkBtM,GACxCc,GAAsB6B,aAAe3C,GACrCc,GAAsB2J,wBAA0BzK,GAChDc,GAAsByL,aAAevM,GACrCc,GAAsB0L,eAAiBxM,GACvCc,GAAsB2L,cAAgBzM,GACtC,IAAIU,GAAyB,CAC3BgC,YAAaA,GACbF,IAAKA,GACLgJ,YAAa,SAAUxC,EAAUf,GAK/B,OAJAhG,KAA0B1xB,cAAgB,CACxCy4B,OACA,IAAWf,EAAO,KAAOA,GAEpBe,CACT,EACAyC,WAAY/I,GACZgJ,UAAWnD,GACXoD,oBAAqB,SAAUzT,EAAK8P,EAAQC,GAC1CA,EAAO,OAASA,QAAQ,IAAWA,EAAOA,EAAKY,OAAO,CAAC3Q,IAAQ,KAC/DiQ,GACE,QACA,EACAO,GAAuBhE,KAAK,KAAMsD,EAAQ9P,GAC1C+P,EAEJ,EACA2D,gBAAiB,SAAU5D,EAAQC,GACjC,OAAOE,GAAgB,QAAS,EAAGH,EAAQC,EAC7C,EACA4D,mBAAoB,SAAU7D,EAAQC,GACpCE,GAAgB,EAAG,EAAGH,EAAQC,EAChC,EACA6D,QAAS,SAAU5C,EAAYjB,GAC7B,IAAI/F,EAAOD,KACXgG,OAAO,IAAWA,EAAO,KAAOA,EAChC,IAAI7C,EAAY8D,IAChB,GAAItJ,GAAqC,CACvC9qB,IAA2B,GAC3B,IACEo0B,GACF,CAAE,QACAp0B,IAA2B,EAC7B,CACF,CAEA,OADAotB,EAAK3xB,cAAgB,CAAC60B,EAAW6C,GAC1B7C,CACT,EACA2G,WAAY,SAAU9I,EAASyJ,EAAYjU,GACzC,IAAIyJ,EAAOD,KACX,QAAI,IAAWxJ,EAAM,CACnB,IAAI8M,EAAe9M,EAAKiU,GACxB,GAAI9M,GAAqC,CACvC9qB,IAA2B,GAC3B,IACE2jB,EAAKiU,EACP,CAAE,QACA53B,IAA2B,EAC7B,CACF,CACF,MAAOywB,EAAemH,EAetB,OAdAxK,EAAK3xB,cAAgB2xB,EAAKC,UAAYoD,EACtCtC,EAAU,CACR9xB,QAAS,KACTqE,MAAO,EACPuuB,SAAU,KACVZ,oBAAqBF,EACrBa,kBAAmByB,GAErBrD,EAAKzP,MAAQwQ,EACbA,EAAUA,EAAQc,SAAWmH,GAAsBxG,KACjD,KACAnF,GACA0D,GAEK,CAACf,EAAK3xB,cAAe0yB,EAC9B,EACA+I,OAAQ,SAAU5C,GAGhB,OADAA,EAAe,CAAEz3B,QAASy3B,GADfnH,KAEE1xB,cAAgB64B,CAC/B,EACAzH,SAAU,SAAU4D,GAElB,IAAI9S,GADJ8S,EAAeD,GAAeC,IACL9S,MACvBsR,EAAWwD,GAAiB7C,KAAK,KAAMnF,GAA2B9M,GAEpE,OADAA,EAAMsR,SAAWA,EACV,CAACwB,EAAah1B,cAAewzB,EACtC,EACAkI,cAAenD,GACfoD,iBAAkB,SAAUn9B,EAAOq6B,GAEjC,OAAOD,GADIlH,KACyBlzB,EAAOq6B,EAC7C,EACA+C,cAAe,WACb,IAAIxE,EAAYrC,IAAe,GAS/B,OARAqC,EAAY6B,GAAgB9E,KAC1B,KACAnF,GACAoI,EAAUlV,OACV,GACA,GAEFwP,KAA0B1xB,cAAgBo3B,EACnC,EAAC,EAAIA,EACd,EACAyE,qBAAsB,SAAUjI,EAAWC,EAAaC,GACtD,IAAI30B,EAAQ6vB,GACV2C,EAAOD,KACT,GAAIzkB,GAAa,CACf,QAAI,IAAW6mB,EACb,MAAMj3B,MAAMnD,EAAuB,MACrCo6B,EAAoBA,GACtB,KAAO,CAEL,GADAA,EAAoBD,IAChB,OAAS7M,GAAoB,MAAMnqB,MAAMnD,EAAuB,MACpE,KAAuC,GAAhCw5B,KACLqB,GAA0Bp1B,EAAO00B,EAAaC,EAClD,CACAnC,EAAK3xB,cAAgB8zB,EACrB,IAAInrB,EAAO,CAAEnK,MAAOs1B,EAAmBD,YAAaA,GAkBpD,OAjBAlC,EAAKzP,MAAQvZ,EACbqvB,GAAY9D,GAAiBC,KAAK,KAAMh1B,EAAOwJ,EAAMirB,GAAY,CAC/DA,IAEFz0B,EAAMU,OAAS,KACfu0B,GACE,EACAC,GAAoBF,KAClB,KACAh1B,EACAwJ,EACAmrB,EACAD,GAEF,CAAES,aAAS,GACX,MAEKR,CACT,EACAgI,MAAO,WACL,IAAInK,EAAOD,KACT0K,EAAmBpV,GAAmBoV,iBACxC,GAAInvB,GAAa,CACf,IAAI1K,EAA2ByhB,GAM/BoY,EACE,IAAMA,EAAmB,KAL3B75B,GADuBwhB,KAGE,GAAM,GAAKpf,GAHbof,IAGuC,IAC1Drc,SAAS,IAAMnF,GAInB,GADAA,EAA2B+sB,QAExB8M,GAAoB,IAAM75B,EAAyBmF,SAAS,KAC/D00B,GAAoB,GACtB,MAEKA,EACC,IACAA,EACA,KAJH75B,EAA2BitB,MAKC9nB,SAAS,IAClC,IACN,OAAQiqB,EAAK3xB,cAAgBo8B,CAC/B,EACAL,gBAAiB,WACf,OAAQrK,KAA0B1xB,cAAgBq6B,GAAalG,KAC7D,KACAnF,GAEJ,GAEFmB,GAAuBiC,aAAeA,GACtCjC,GAAuB+J,wBAA0BA,GACjD/J,GAAuB6L,aAAetF,GACtCvG,GAAuB8L,eAAiBvF,GACxCvG,GAAuB+L,cAAgB,SAAU/G,GAC/C,IAAIxD,EAAOD,KACXC,EAAK3xB,cAAgB2xB,EAAKC,UAAYuD,EACtC,IAAIjT,EAAQ,CACVthB,QAAS,KACTqE,MAAO,EACPuuB,SAAU,KACVZ,oBAAqB,KACrBW,kBAAmB,MAUrB,OARA5B,EAAKzP,MAAQA,EACbyP,EAAOsF,GAA2B9C,KAChC,KACAnF,IACA,EACA9M,GAEFA,EAAMsR,SAAW7B,EACV,CAACwD,EAAaxD,EACvB,EACA,IAAIvB,GAA0B,CAC5B+B,YAAaA,GACbF,IAAKA,GACLgJ,YAAazC,GACb0C,WAAY/I,GACZgJ,UAAWlH,GACXmH,oBAAqB/C,GACrBiD,mBAAoBrD,GACpBoD,gBAAiBnD,GACjBqD,QAAS7C,GACT8C,WAAY/I,GACZgJ,OAAQ9D,GACRvG,SAAU,WACR,OAAOqB,GAAcD,GACvB,EACAkJ,cAAenD,GACfoD,iBAAkB,SAAUn9B,EAAOq6B,GAEjC,OAAOE,GADIjH,KAGT7C,GAAYjvB,cACZxB,EACAq6B,EAEJ,EACA+C,cAAe,WACb,IAAIS,EAAoB5J,GAAcD,IAAmB,GACvDxhB,EAAQ8gB,KAA2B9xB,cACrC,MAAO,CACL,mBAAqBq8B,EACjBA,EACAhL,GAAYgL,GAChBrrB,EAEJ,EACA6qB,qBAAsBlI,GACtBmI,MAAO3B,IAET/J,GAAwB2L,gBAAkB3B,GAC1ChK,GAAwBgC,aAAeA,GACvChC,GAAwB8J,wBAA0BA,GAClD9J,GAAwB4L,aAAe9E,GACvC9G,GAAwB6L,eAAiB/E,GACzC9G,GAAwB8L,cAAgB,SAAU/G,EAAazC,GAE7D,OAAOwC,GADIpD,KACuB7C,EAAakG,EAAazC,EAC9D,EACA,IAAI1B,GAA4B,CAC9BmB,YAAaA,GACbF,IAAKA,GACLgJ,YAAazC,GACb0C,WAAY/I,GACZgJ,UAAWlH,GACXmH,oBAAqB/C,GACrBiD,mBAAoBrD,GACpBoD,gBAAiBnD,GACjBqD,QAAS7C,GACT8C,WAAY/H,GACZgI,OAAQ9D,GACRvG,SAAU,WACR,OAAOqC,GAAgBjB,GACzB,EACAkJ,cAAenD,GACfoD,iBAAkB,SAAUn9B,EAAOq6B,GACjC,IAAIlH,EAAOG,KACX,OAAO,OAAS7C,GACZ2J,GAAuBjH,EAAMnzB,EAAOq6B,GACpCE,GACEpH,EACA1C,GAAYjvB,cACZxB,EACAq6B,EAER,EACA+C,cAAe,WACb,IAAIS,EAAoB5I,GAAgBjB,IAAmB,GACzDxhB,EAAQ8gB,KAA2B9xB,cACrC,MAAO,CACL,mBAAqBq8B,EACjBA,EACAhL,GAAYgL,GAChBrrB,EAEJ,EACA6qB,qBAAsBlI,GACtBmI,MAAO3B,IAcT,SAASmC,GACPh9B,EACAi9B,EACAC,EACAC,GAIAD,EACE,QAFFA,EAA2BA,EAAyBC,EADpDF,EAAOj9B,EAAeU,sBAGiB,IAAWw8B,EAC5CD,EACA7/B,EAAO,CAAC,EAAG6/B,EAAMC,GACvBl9B,EAAeU,cAAgBw8B,EAC/B,IAAMl9B,EAAe2F,QAClB3F,EAAe2wB,YAAY2B,UAAY4K,EAC5C,CA3BAxL,GAA0B+K,gBAAkB3B,GAC5CpJ,GAA0BoB,aAAeA,GACzCpB,GAA0BkJ,wBAA0BA,GACpDlJ,GAA0BgL,aAAexE,GACzCxG,GAA0BiL,eAAiBzE,GAC3CxG,GAA0BkL,cAAgB,SAAU/G,EAAazC,GAC/D,IAAIf,EAAOG,KACX,OAAI,OAAS7C,GACJiG,GAAqBvD,EAAM1C,EAAakG,EAAazC,IAC9Df,EAAKC,UAAYuD,EACV,CAACA,EAAaxD,EAAKzP,MAAMsR,UAClC,EAiBA,IAAIkJ,GAAwB,CAC1BC,UAAW,SAAUC,GACnB,SAAQA,EAAYA,EAAUC,kBAC1Bn9B,EAAuBk9B,KAAeA,CAE5C,EACAE,gBAAiB,SAAUn0B,EAAM6sB,EAASiD,GACxC9vB,EAAOA,EAAKk0B,gBACZ,IAAI72B,EAAOyzB,KACTtX,EAASsY,GAAaz0B,GACxBmc,EAAOqT,QAAUA,OACjB,IAAWiD,GAAY,OAASA,IAAatW,EAAOsW,SAAWA,GAE/D,QADAjD,EAAUgF,GAAc7xB,EAAMwZ,EAAQnc,MAEnC8uB,GAAsBU,EAAS7sB,EAAM3C,GACtC00B,GAAoBlF,EAAS7sB,EAAM3C,GACvC,EACA+2B,oBAAqB,SAAUp0B,EAAM6sB,EAASiD,GAC5C9vB,EAAOA,EAAKk0B,gBACZ,IAAI72B,EAAOyzB,KACTtX,EAASsY,GAAaz0B,GACxBmc,EAAO/iB,IAAM,EACb+iB,EAAOqT,QAAUA,OACjB,IAAWiD,GAAY,OAASA,IAAatW,EAAOsW,SAAWA,GAE/D,QADAjD,EAAUgF,GAAc7xB,EAAMwZ,EAAQnc,MAEnC8uB,GAAsBU,EAAS7sB,EAAM3C,GACtC00B,GAAoBlF,EAAS7sB,EAAM3C,GACvC,EACAg3B,mBAAoB,SAAUr0B,EAAM8vB,GAClC9vB,EAAOA,EAAKk0B,gBACZ,IAAI72B,EAAOyzB,KACTtX,EAASsY,GAAaz0B,GACxBmc,EAAO/iB,IAAM,OACb,IAAWq5B,GAAY,OAASA,IAAatW,EAAOsW,SAAWA,GAE/D,QADAA,EAAW+B,GAAc7xB,EAAMwZ,EAAQnc,MAEpC8uB,GAAsB2D,EAAU9vB,EAAM3C,GACvC00B,GAAoBjC,EAAU9vB,EAAM3C,GACxC,GAEF,SAASi3B,GACP39B,EACAi9B,EACAW,EACAC,EACA9jB,EACAD,EACAgkB,GAGA,MAAO,oBADP99B,EAAiBA,EAAesJ,WACYy0B,sBACxC/9B,EAAe+9B,sBAAsBF,EAAU/jB,EAAUgkB,IACzDb,EAAK3+B,YAAa2+B,EAAK3+B,UAAU0/B,wBAC9B7gB,GAAaygB,EAAUC,KAAc1gB,GAAapD,EAAUD,GAErE,CACA,SAASmkB,GACPj+B,EACA2lB,EACAkY,EACAC,GAEA99B,EAAiB2lB,EAASsH,MAC1B,oBAAsBtH,EAASuY,2BAC7BvY,EAASuY,0BAA0BL,EAAUC,GAC/C,oBAAsBnY,EAASwY,kCAC7BxY,EAASwY,iCAAiCN,EAAUC,GACtDnY,EAASsH,QAAUjtB,GACjBo9B,GAAsBK,oBAAoB9X,EAAUA,EAASsH,MAAO,KACxE,CACA,SAASmR,GAA2B5N,EAAW6N,GAC7C,IAAIR,EAAWQ,EACf,GAAI,QAASA,EAEX,IAAK,IAAIzrB,KADTirB,EAAW,CAAC,EACSQ,EACnB,QAAUzrB,IAAairB,EAASjrB,GAAYyrB,EAAUzrB,IAE1D,GAAK4d,EAAYA,EAAU8N,aAEzB,IAAK,IAAIC,KADTV,IAAaQ,IAAcR,EAAWzgC,EAAO,CAAC,EAAGygC,IACzBrN,OACtB,IAAWqN,EAASU,KACjBV,EAASU,GAAe/N,EAAU+N,IAEzC,OAAOV,CACT,CACA,IAAIW,GACF,oBAAsBC,YAClBA,YACA,SAAU3X,GACR,GACE,kBAAoB/e,QACpB,oBAAsBA,OAAO22B,WAC7B,CACA,IAAI12B,EAAQ,IAAID,OAAO22B,WAAW,QAAS,CACzC5qB,SAAS,EACTC,YAAY,EACZ5T,QACE,kBAAoB2mB,GACpB,OAASA,GACT,kBAAoBA,EAAM3mB,QACtB2X,OAAOgP,EAAM3mB,SACb2X,OAAOgP,GACbA,MAAOA,IAET,IAAK/e,OAAO42B,cAAc32B,GAAQ,MACpC,MAAO,GACL,kBAAoB42B,SACpB,oBAAsBA,QAAQC,KAG9B,YADAD,QAAQC,KAAK,oBAAqB/X,GAGpCgY,QAAQhY,MAAMA,EAChB,EACN,SAASiY,GAAuBjY,GAC9B0X,GAAkB1X,EACpB,CACA,SAASkY,GAAqBlY,GAC5BgY,QAAQhY,MAAMA,EAChB,CACA,SAASmY,GAA0BnY,GACjC0X,GAAkB1X,EACpB,CACA,SAASoY,GAAiBp5B,EAAMq5B,GAC9B,KAEEC,EADsBt5B,EAAKs5B,iBACXD,EAAUjgC,MAAO,CAAEmgC,eAAgBF,EAAU1hC,OAC/D,CAAE,MAAO6hC,GACPC,YAAW,WACT,MAAMD,CACR,GACF,CACF,CACA,SAASE,GAAe15B,EAAM25B,EAAUN,GACtC,KAEEO,EADoB55B,EAAK45B,eACXP,EAAUjgC,MAAO,CAC7BmgC,eAAgBF,EAAU1hC,MAC1BkiC,cAAe,IAAMF,EAAS3/B,IAAM2/B,EAASn2B,UAAY,MAE7D,CAAE,MAAOs2B,GACPL,YAAW,WACT,MAAMK,CACR,GACF,CACF,CACA,SAASC,GAAsB/5B,EAAMq5B,EAAWz4B,GAO9C,OANAA,EAAOy0B,GAAaz0B,IACf5G,IAAM,EACX4G,EAAKwvB,QAAU,CAAE5oB,QAAS,MAC1B5G,EAAKyyB,SAAW,WACd+F,GAAiBp5B,EAAMq5B,EACzB,EACOz4B,CACT,CACA,SAASo5B,GAAuBp5B,GAG9B,OAFAA,EAAOy0B,GAAaz0B,IACf5G,IAAM,EACJ4G,CACT,CACA,SAASq5B,GAA2Bld,EAAQ/c,EAAMjG,EAAOs/B,GACvD,IAAIa,EAA2BngC,EAAMvD,KAAK0jC,yBAC1C,GAAI,oBAAsBA,EAA0B,CAClD,IAAIlZ,EAAQqY,EAAUjgC,MACtB2jB,EAAOqT,QAAU,WACf,OAAO8J,EAAyBlZ,EAClC,EACAjE,EAAOsW,SAAW,WAChBqG,GAAe15B,EAAMjG,EAAOs/B,EAC9B,CACF,CACA,IAAI91B,EAAOxJ,EAAMyJ,UACjB,OAASD,GACP,oBAAsBA,EAAK42B,oBAC1Bpd,EAAOsW,SAAW,WACjBqG,GAAe15B,EAAMjG,EAAOs/B,GAC5B,oBAAsBa,IACnB,OAASE,GACLA,GAAyC,IAAIp2B,IAAI,CAACoC,OACnDg0B,GAAuC91B,IAAI8B,OACjD,IAAIzO,EAAQ0hC,EAAU1hC,MACtByO,KAAK+zB,kBAAkBd,EAAUjgC,MAAO,CACtCmgC,eAAgB,OAAS5hC,EAAQA,EAAQ,IAE7C,EACJ,CAyJA,IAAI0iC,GAA8B5iC,MAAMnD,EAAuB,MAC7D+2B,IAAmB,EACrB,SAASiP,GAAkBt+B,EAAS9B,EAAgBqgC,EAAc75B,GAChExG,EAAec,MACb,OAASgB,EACLiqB,GAAiB/rB,EAAgB,KAAMqgC,EAAc75B,GACrDslB,GACE9rB,EACA8B,EAAQhB,MACRu/B,EACA75B,EAEV,CACA,SAAS85B,GACPx+B,EACA9B,EACAwwB,EACA2M,EACA32B,GAEAgqB,EAAYA,EAAU5zB,OACtB,IAAIyrB,EAAMroB,EAAeqoB,IACzB,GAAI,QAAS8U,EAAW,CACtB,IAAIoD,EAAkB,CAAC,EACvB,IAAK,IAAI1oB,KAAOslB,EACd,QAAUtlB,IAAQ0oB,EAAgB1oB,GAAOslB,EAAUtlB,GACvD,MAAO0oB,EAAkBpD,EAWzB,OAVAqD,GAAqBxgC,GACrBm9B,EAAY5M,GACVzuB,EACA9B,EACAwwB,EACA+P,EACAlY,EACA7hB,GAEFqR,EAAMma,KACF,OAASlwB,GAAYqvB,IAKzBxjB,IAAekK,GAAOoN,GAAuBjlB,GAC7CA,EAAeO,OAAS,EACxB6/B,GAAkBt+B,EAAS9B,EAAgBm9B,EAAW32B,GAC/CxG,EAAec,QANlBoxB,GAAapwB,EAAS9B,EAAgBwG,GACtCi6B,GAA6B3+B,EAAS9B,EAAgBwG,GAM5D,CACA,SAASk6B,GACP5+B,EACA9B,EACAwwB,EACA2M,EACA32B,GAEA,GAAI,OAAS1E,EAAS,CACpB,IAAIxF,EAAOk0B,EAAUl0B,KACrB,MACE,oBAAsBA,GACrBqkC,GAAgBrkC,SACjB,IAAWA,EAAKgiC,cAChB,OAAS9N,EAAUoQ,UAarB9+B,EAAUsoB,GACRoG,EAAUl0B,KACV,KACA6gC,EACAn9B,EACAA,EAAegqB,KACfxjB,IAEM6hB,IAAMroB,EAAeqoB,IAC7BvmB,EAAQ5B,OAASF,EACTA,EAAec,MAAQgB,IApB1B9B,EAAeF,IAAM,GACrBE,EAAe1D,KAAOA,EACvBukC,GACE/+B,EACA9B,EACA1D,EACA6gC,EACA32B,GAcR,CAEA,GADAlK,EAAOwF,EAAQhB,OACVggC,GAA8Bh/B,EAAS0E,GAAc,CACxD,IAAIu6B,EAAYzkC,EAAKspB,cAGrB,IADA4K,EAAY,QADZA,EAAYA,EAAUoQ,SACWpQ,EAAYrT,IAC/B4jB,EAAW5D,IAAcr7B,EAAQumB,MAAQroB,EAAeqoB,IACpE,OAAOoY,GAA6B3+B,EAAS9B,EAAgBwG,EACjE,CAKA,OAJAxG,EAAeO,OAAS,GACxBuB,EAAU0nB,GAAqBltB,EAAM6gC,IAC7B9U,IAAMroB,EAAeqoB,IAC7BvmB,EAAQ5B,OAASF,EACTA,EAAec,MAAQgB,CACjC,CACA,SAAS++B,GACP/+B,EACA9B,EACAwwB,EACA2M,EACA32B,GAEA,GAAI,OAAS1E,EAAS,CACpB,IAAIi/B,EAAYj/B,EAAQ8jB,cACxB,GACEzI,GAAa4jB,EAAW5D,IACxBr7B,EAAQumB,MAAQroB,EAAeqoB,IAE/B,IACI8I,IAAmB,EACpBnxB,EAAeupB,aAAe4T,EAAY4D,GAC3CD,GAA8Bh/B,EAAS0E,GAIvC,OACGxG,EAAe2F,MAAQ7D,EAAQ6D,MAChC86B,GAA6B3+B,EAAS9B,EAAgBwG,GAJxD,KAAuB,OAAhB1E,EAAQvB,SAAoB4wB,IAAmB,EAIc,CAE1E,CACA,OAAO6P,GACLl/B,EACA9B,EACAwwB,EACA2M,EACA32B,EAEJ,CACA,SAASy6B,GAAyBn/B,EAAS9B,EAAgBwG,GACzD,IAAI22B,EAAYn9B,EAAeupB,aAC7B8W,EAAelD,EAAU5uB,SACzB2yB,EAAiB,KAAqD,EAA9ClhC,EAAesJ,UAAU63B,oBACjD3K,EAAY,OAAS10B,EAAUA,EAAQpB,cAAgB,KAEzD,GADA0gC,GAAQt/B,EAAS9B,GACb,WAAam9B,EAAUnT,MAAQkX,EAAgB,CACjD,GAAI,KAA8B,IAAvBlhC,EAAeO,OAAc,CAGtC,GAFA48B,EACE,OAAS3G,EAAYA,EAAUpK,UAAY5lB,EAAcA,EACvD,OAAS1E,EAAS,CAEpB,IADAu+B,EAAergC,EAAec,MAAQgB,EAAQhB,MACzCogC,EAAiB,EAAG,OAASb,GAC/Ba,EACCA,EAAiBb,EAAa16B,MAAQ06B,EAAa9c,WAClD8c,EAAeA,EAAat/B,QACjCf,EAAeujB,WAAa2d,GAAkB/D,CAChD,MAAQn9B,EAAeujB,WAAa,EAAKvjB,EAAec,MAAQ,KAChE,OAAOugC,GACLv/B,EACA9B,EACAm9B,EACA32B,EAEJ,CACA,GAAI,KAAqB,UAAdA,GAYT,OACGxG,EAAe2F,MAAQ3F,EAAeujB,WAAa,UACpD8d,GACEv/B,EACA9B,EACA,OAASw2B,EAAYA,EAAUpK,UAAY5lB,EAAcA,EACzDA,GAjBHxG,EAAeU,cAAgB,CAAE0rB,UAAW,EAAGkV,UAAW,MACzD,OAASx/B,GACPstB,GACEpvB,EACA,OAASw2B,EAAYA,EAAU8K,UAAY,MAE/C,OAAS9K,EACLtK,GAAkBlsB,EAAgBw2B,GAClCnK,KACJO,GAA6B5sB,EAWnC,MACE,OAASw2B,GACJpH,GAAepvB,EAAgBw2B,EAAU8K,WAC1CpV,GAAkBlsB,EAAgBw2B,GAClC3J,KACC7sB,EAAeU,cAAgB,OAC/B,OAASoB,GAAWstB,GAAepvB,EAAgB,MACpDqsB,KACAQ,MAEN,OADAuT,GAAkBt+B,EAAS9B,EAAgBqgC,EAAc75B,GAClDxG,EAAec,KACxB,CACA,SAASugC,GACPv/B,EACA9B,EACAuhC,EACA/6B,GAEA,IAAIvD,EAA2BgsB,KAc/B,OAbAhsB,EACE,OAASA,EACL,KACA,CAAEqgB,OAAQqK,GAAavqB,cAAemsB,KAAMtsB,GAClDjD,EAAeU,cAAgB,CAC7B0rB,UAAWmV,EACXD,UAAWr+B,GAEb,OAASnB,GAAWstB,GAAepvB,EAAgB,MACnDqsB,KACAO,GAA6B5sB,GAC7B,OAAS8B,GACP0/B,GAA8B1/B,EAAS9B,EAAgBwG,GAAa,GAC/D,IACT,CACA,SAAS46B,GAAQt/B,EAAS9B,GACxB,IAAIqoB,EAAMroB,EAAeqoB,IACzB,GAAI,OAASA,EACX,OAASvmB,GACP,OAASA,EAAQumB,MAChBroB,EAAeO,OAAS,aACxB,CACH,GAAI,oBAAsB8nB,GAAO,kBAAoBA,EACnD,MAAM9qB,MAAMnD,EAAuB,MACjC,OAAS0H,GAAWA,EAAQumB,MAAQA,IACtCroB,EAAeO,OAAS,QAC5B,CACF,CACA,SAASygC,GACPl/B,EACA9B,EACAwwB,EACA2M,EACA32B,GAYA,OAVAg6B,GAAqBxgC,GACrBwwB,EAAYD,GACVzuB,EACA9B,EACAwwB,EACA2M,OACA,EACA32B,GAEF22B,EAAYnL,KACR,OAASlwB,GAAYqvB,IAKzBxjB,IAAewvB,GAAalY,GAAuBjlB,GACnDA,EAAeO,OAAS,EACxB6/B,GAAkBt+B,EAAS9B,EAAgBwwB,EAAWhqB,GAC/CxG,EAAec,QANlBoxB,GAAapwB,EAAS9B,EAAgBwG,GACtCi6B,GAA6B3+B,EAAS9B,EAAgBwG,GAM5D,CACA,SAASi7B,GACP3/B,EACA9B,EACAm9B,EACA3M,EACAC,EACAjqB,GAYA,OAVAg6B,GAAqBxgC,GACrBA,EAAe2wB,YAAc,KAC7BwM,EAAYpM,GACV/wB,EACAwwB,EACA2M,EACA1M,GAEFO,GAAqBlvB,GACrB0uB,EAAYwB,KACR,OAASlwB,GAAYqvB,IAKzBxjB,IAAe6iB,GAAavL,GAAuBjlB,GACnDA,EAAeO,OAAS,EACxB6/B,GAAkBt+B,EAAS9B,EAAgBm9B,EAAW32B,GAC/CxG,EAAec,QANlBoxB,GAAapwB,EAAS9B,EAAgBwG,GACtCi6B,GAA6B3+B,EAAS9B,EAAgBwG,GAM5D,CACA,SAASk7B,GACP5/B,EACA9B,EACAwwB,EACA2M,EACA32B,GAGA,GADAg6B,GAAqBxgC,GACjB,OAASA,EAAesJ,UAAW,CACrC,IAAItG,EAAU4gB,GACZ+d,EAAcnR,EAAUmR,YAC1B,kBAAoBA,GAClB,OAASA,IACR3+B,EAAU6vB,GAAY8O,IACzB3+B,EAAU,IAAIwtB,EAAU2M,EAAWn6B,GACnChD,EAAeU,cACb,OAASsC,EAAQiqB,YAAS,IAAWjqB,EAAQiqB,MAAQjqB,EAAQiqB,MAAQ,KACvEjqB,EAAQ4+B,QAAUxE,GAClBp9B,EAAesJ,UAAYtG,EAC3BA,EAAQu6B,gBAAkBv9B,GAC1BgD,EAAUhD,EAAesJ,WACjBmH,MAAQ0sB,EAChBn6B,EAAQiqB,MAAQjtB,EAAeU,cAC/BsC,EAAQ6+B,KAAO,CAAC,EAChBC,GAAsB9hC,GACtB2hC,EAAcnR,EAAUmR,YACxB3+B,EAAQA,QACN,kBAAoB2+B,GAAe,OAASA,EACxC9O,GAAY8O,GACZ/d,GACN5gB,EAAQiqB,MAAQjtB,EAAeU,cAE/B,oBADAihC,EAAcnR,EAAU0M,4BAErBF,GACCh9B,EACAwwB,EACAmR,EACAxE,GAEDn6B,EAAQiqB,MAAQjtB,EAAeU,eAClC,oBAAsB8vB,EAAU0M,0BAC9B,oBAAsBl6B,EAAQ++B,yBAC7B,oBAAsB/+B,EAAQg/B,2BAC7B,oBAAsBh/B,EAAQi/B,qBAC9BN,EAAc3+B,EAAQiqB,MACxB,oBAAsBjqB,EAAQi/B,oBAC5Bj/B,EAAQi/B,qBACV,oBAAsBj/B,EAAQg/B,2BAC5Bh/B,EAAQg/B,4BACVL,IAAgB3+B,EAAQiqB,OACtBmQ,GAAsBK,oBAAoBz6B,EAASA,EAAQiqB,MAAO,MACpEiV,GAAmBliC,EAAgBm9B,EAAWn6B,EAASwD,GACvD27B,KACCn/B,EAAQiqB,MAAQjtB,EAAeU,eAClC,oBAAsBsC,EAAQo/B,oBAC3BpiC,EAAeO,OAAS,SAC3B48B,GAAY,CACd,MAAO,GAAI,OAASr7B,EAAS,CAC3BkB,EAAUhD,EAAesJ,UACzB,IAAI+4B,EAAqBriC,EAAe4lB,cACtCgY,EAAWQ,GAA2B5N,EAAW6R,GACnDr/B,EAAQyN,MAAQmtB,EAChB,IAAI0E,EAAat/B,EAAQA,QACvBu/B,EAAuB/R,EAAUmR,YACnCA,EAAc/d,GACd,kBAAoB2e,GAClB,OAASA,IACRZ,EAAc9O,GAAY0P,IAC7B,IAAIrF,EAA2B1M,EAAU0M,yBACzCqF,EACE,oBAAsBrF,GACtB,oBAAsBl6B,EAAQ++B,wBAChCM,EAAqBriC,EAAeupB,eAAiB8Y,EACrDE,GACG,oBAAsBv/B,EAAQm7B,kCAC7B,oBAAsBn7B,EAAQk7B,4BAC9BmE,GAAsBC,IAAeX,IACrC1D,GACEj+B,EACAgD,EACAm6B,EACAwE,GAENa,IAAiB,EACjB,IAAIzoB,EAAW/Z,EAAeU,cAC9BsC,EAAQiqB,MAAQlT,EAChBmoB,GAAmBliC,EAAgBm9B,EAAWn6B,EAASwD,GACvD27B,KACAG,EAAatiC,EAAeU,cAC5B2hC,GAAsBtoB,IAAauoB,GAAcE,IAC5C,oBAAsBtF,IACpBF,GACCh9B,EACAwwB,EACA0M,EACAC,GAEDmF,EAAatiC,EAAeU,gBAC9Bk9B,EACC4E,IACA7E,GACE39B,EACAwwB,EACAoN,EACAT,EACApjB,EACAuoB,EACAX,KAECY,GACE,oBAAsBv/B,EAAQg/B,2BAC7B,oBAAsBh/B,EAAQi/B,qBAC/B,oBAAsBj/B,EAAQi/B,oBAC7Bj/B,EAAQi/B,qBACV,oBAAsBj/B,EAAQg/B,2BAC5Bh/B,EAAQg/B,6BACZ,oBAAsBh/B,EAAQo/B,oBAC3BpiC,EAAeO,OAAS,WAC1B,oBAAsByC,EAAQo/B,oBAC5BpiC,EAAeO,OAAS,SAC1BP,EAAe4lB,cAAgBuX,EAC/Bn9B,EAAeU,cAAgB4hC,GACnCt/B,EAAQyN,MAAQ0sB,EAChBn6B,EAAQiqB,MAAQqV,EAChBt/B,EAAQA,QAAU2+B,EAClBxE,EAAYS,IACZ,oBAAsB56B,EAAQo/B,oBAC5BpiC,EAAeO,OAAS,SAC1B48B,GAAY,EACnB,KAAO,CACLn6B,EAAUhD,EAAesJ,UACzBm5B,GAAiB3gC,EAAS9B,GAE1BuiC,EAAuBnE,GAA2B5N,EADlDmR,EAAc3hC,EAAe4lB,eAE7B5iB,EAAQyN,MAAQ8xB,EAChBrF,EAA2Bl9B,EAAeupB,aAC1CxP,EAAW/W,EAAQA,QACnBs/B,EAAa9R,EAAUmR,YACvB/D,EAAWha,GACX,kBAAoB0e,GAClB,OAASA,IACR1E,EAAW/K,GAAYyP,KAEzBA,EACC,oBAFFD,EAAqB7R,EAAU0M,2BAG7B,oBAAsBl6B,EAAQ++B,0BAC7B,oBAAsB/+B,EAAQm7B,kCAC7B,oBAAsBn7B,EAAQk7B,4BAC9ByD,IAAgBzE,GAA4BnjB,IAAa6jB,IACzDK,GACEj+B,EACAgD,EACAm6B,EACAS,GAEN4E,IAAiB,EACjBzoB,EAAW/Z,EAAeU,cAC1BsC,EAAQiqB,MAAQlT,EAChBmoB,GAAmBliC,EAAgBm9B,EAAWn6B,EAASwD,GACvD27B,KACA,IAAIroB,EAAW9Z,EAAeU,cAC9BihC,IAAgBzE,GAChBnjB,IAAaD,GACb0oB,IACC,OAAS1gC,GACR,OAASA,EAAQoI,cACjBknB,GAAsBtvB,EAAQoI,eAC3B,oBAAsBm4B,IACpBrF,GACCh9B,EACAwwB,EACA6R,EACAlF,GAEDrjB,EAAW9Z,EAAeU,gBAC5B6hC,EACCC,IACA7E,GACE39B,EACAwwB,EACA+R,EACApF,EACApjB,EACAD,EACA8jB,IAED,OAAS97B,GACR,OAASA,EAAQoI,cACjBknB,GAAsBtvB,EAAQoI,gBAC7Bo4B,GACE,oBAAsBt/B,EAAQ0/B,4BAC7B,oBAAsB1/B,EAAQ2/B,sBAC/B,oBAAsB3/B,EAAQ2/B,qBAC7B3/B,EAAQ2/B,oBAAoBxF,EAAWrjB,EAAU8jB,GACnD,oBAAsB56B,EAAQ0/B,4BAC5B1/B,EAAQ0/B,2BACNvF,EACArjB,EACA8jB,IAEN,oBAAsB56B,EAAQ4/B,qBAC3B5iC,EAAeO,OAAS,GAC3B,oBAAsByC,EAAQ++B,0BAC3B/hC,EAAeO,OAAS,QAC1B,oBAAsByC,EAAQ4/B,oBAC5BjB,IAAgB7/B,EAAQ8jB,eACvB7L,IAAajY,EAAQpB,gBACtBV,EAAeO,OAAS,GAC3B,oBAAsByC,EAAQ++B,yBAC3BJ,IAAgB7/B,EAAQ8jB,eACvB7L,IAAajY,EAAQpB,gBACtBV,EAAeO,OAAS,MAC1BP,EAAe4lB,cAAgBuX,EAC/Bn9B,EAAeU,cAAgBoZ,GACnC9W,EAAQyN,MAAQ0sB,EAChBn6B,EAAQiqB,MAAQnT,EAChB9W,EAAQA,QAAU46B,EAClBT,EAAYoF,IACZ,oBAAsBv/B,EAAQ4/B,oBAC5BjB,IAAgB7/B,EAAQ8jB,eACvB7L,IAAajY,EAAQpB,gBACtBV,EAAeO,OAAS,GAC3B,oBAAsByC,EAAQ++B,yBAC3BJ,IAAgB7/B,EAAQ8jB,eACvB7L,IAAajY,EAAQpB,gBACtBV,EAAeO,OAAS,MAC1B48B,GAAY,EACnB,CAgCA,OA/BAn6B,EAAUm6B,EACViE,GAAQt/B,EAAS9B,GACjBm9B,EAAY,KAA8B,IAAvBn9B,EAAeO,OAClCyC,GAAWm6B,GACLn6B,EAAUhD,EAAesJ,UAC1BknB,EACC2M,GAAa,oBAAsB3M,EAAUwP,yBACzC,KACAh9B,EAAQpG,SACboD,EAAeO,OAAS,EACzB,OAASuB,GAAWq7B,GACdn9B,EAAec,MAAQgrB,GACvB9rB,EACA8B,EAAQhB,MACR,KACA0F,GAEDxG,EAAec,MAAQgrB,GACtB9rB,EACA,KACAwwB,EACAhqB,IAEF45B,GAAkBt+B,EAAS9B,EAAgBwwB,EAAWhqB,GACzDxG,EAAeU,cAAgBsC,EAAQiqB,MACvCnrB,EAAU9B,EAAec,OACzBgB,EAAU2+B,GACT3+B,EACA9B,EACAwG,GAEC1E,CACT,CACA,SAAS+gC,GACP/gC,EACA9B,EACAqgC,EACA75B,GAKA,OAHAqgB,KACA7mB,EAAeO,OAAS,IACxB6/B,GAAkBt+B,EAAS9B,EAAgBqgC,EAAc75B,GAClDxG,EAAec,KACxB,CACA,IAAIgiC,GAAmB,CAAEniC,WAAY,KAAMoiC,YAAa,KAAMC,UAAW,GACzE,SAASC,GAA4Bz8B,GACnC,MAAO,CAAE4lB,UAAW5lB,EAAa86B,UAAW9R,KAC9C,CACA,SAAS0T,GACPphC,EACAqhC,EACA38B,GAIA,OAFA1E,EAAU,OAASA,EAAUA,EAAQyhB,YAAc/c,EAAc,EACjE28B,IAAwBrhC,GAAWshC,IAC5BthC,CACT,CACA,SAASuhC,GAAwBvhC,EAAS9B,EAAgBwG,GACxD,IAGEigB,EAHE0W,EAAYn9B,EAAeupB,aAC7B+Z,GAAe,EACfC,EAAa,KAA8B,IAAvBvjC,EAAeO,OAUrC,IARCkmB,EAAkB8c,KAChB9c,GACC,OAAS3kB,GAAW,OAASA,EAAQpB,gBAEjC,KAAqC,EAA9BisB,GAAoB7qB,UACnC2kB,IAAqB6c,GAAe,EAAMtjC,EAAeO,QAAU,KACnEkmB,EAAkB,KAA8B,GAAvBzmB,EAAeO,OACxCP,EAAeO,QAAU,GACrB,OAASuB,EAAS,CACpB,GAAI6L,GAAa,CAIf,GAHA21B,EACI7W,GAA+BzsB,GAC/B6sB,KACAlf,GAAa,CACf,IACE61B,EADEC,EAAere,GAEnB,GAAKoe,EAA2BC,EAAe,CAC7CC,EAAG,CAED,IADAF,EAA2BC,EAEzBA,EAAene,GACf,IAAMke,EAAyB3oC,UAE/B,CACA,IAAK4oC,EAAc,CACjBA,EAAe,KACf,MAAMC,CACR,CAIA,GAAI,QAHJF,EAA2B5c,GACzB4c,EAAyB1lB,cAEY,CACrC2lB,EAAe,KACf,MAAMC,CACR,CACF,CACAD,EAAeD,CACjB,CACA,OAASC,GACHzjC,EAAeU,cAAgB,CAC/BC,WAAY8iC,EACZV,YACE,OAASve,GACL,CAAEmf,GAAIlf,GAAemf,SAAUlf,IAC/B,KACNse,UAAW,YAEZQ,EAA2B3X,GAC1B,GACA,KACA,KACA,IAEwBviB,UAAYm6B,EACrCD,EAAyBtjC,OAASF,EAClCA,EAAec,MAAQ0iC,EACvBre,GAAuBnlB,EACvBolB,GAAyB,KACzBoe,GAA2B,GAC3BA,GAA2B,CAClC,CACAA,GAA4Bhe,GAAyBxlB,EACvD,CAEA,GACE,QAFFyjC,EAAezjC,EAAeU,gBAGe,QAAzC+iC,EAAeA,EAAa9iC,YAE9B,MACE,OAAS8iC,EAAaliC,KACjBvB,EAAe2F,MAAQ,GACvB3F,EAAe2F,MAAQ,UAC5B,KAEJmnB,GAAmB9sB,EACrB,CAGA,OAFAyjC,EAAetG,EAAU5uB,SACzB4uB,EAAYA,EAAU0G,SAClBP,GAEAzW,KAEC4W,EAAeK,GACd,CAAE9Z,KAAM,SAAUzb,SAAUk1B,GAF7BH,EAAetjC,EAAegqB,MAK9BmT,EAAYzS,GACXyS,EACAmG,EACA98B,EACA,MAEDi9B,EAAavjC,OAASF,EACtBm9B,EAAUj9B,OAASF,EACnByjC,EAAa1iC,QAAUo8B,EACvBn9B,EAAec,MAAQ2iC,GACvBH,EAAetjC,EAAec,OACjBJ,cAAgBuiC,GAA4Bz8B,GACzD88B,EAAa/f,WAAa2f,GACzBphC,EACA2kB,EACAjgB,GAEDxG,EAAeU,cAAgBoiC,GAChC3F,IAEJ1Q,GAA+BzsB,GACxB+jC,GAA6B/jC,EAAgByjC,GACtD,CAEA,GACE,QAFFD,EAA2B1hC,EAAQpB,gBAIjC,QADE+iC,EAAeD,EAAyB7iC,YAE1C,CACA,GAAI4iC,EACqB,IAAvBvjC,EAAeO,OACVksB,GAA+BzsB,GAC/BA,EAAeO,QAAU,IACzBP,EAAiBgkC,GAChBliC,EACA9B,EACAwG,IAEF,OAASxG,EAAeU,eACrBmsB,KACA7sB,EAAec,MAAQgB,EAAQhB,MAC/Bd,EAAeO,OAAS,IACxBP,EAAiB,OACjB6sB,KACAyW,EAAenG,EAAU0G,SACzBJ,EAAezjC,EAAegqB,KAC9BmT,EAAY2G,GACX,CAAE9Z,KAAM,UAAWzb,SAAU4uB,EAAU5uB,UACvCk1B,IAEDH,EAAe5Y,GACd4Y,EACAG,EACAj9B,EACA,OAEYjG,OAAS,EACtB48B,EAAUj9B,OAASF,EACnBsjC,EAAapjC,OAASF,EACtBm9B,EAAUp8B,QAAUuiC,EACpBtjC,EAAec,MAAQq8B,EACxBrR,GACE9rB,EACA8B,EAAQhB,MACR,KACA0F,IAED22B,EAAYn9B,EAAec,OACjBJ,cACTuiC,GAA4Bz8B,GAC7B22B,EAAU5Z,WAAa2f,GACtBphC,EACA2kB,EACAjgB,GAEDxG,EAAeU,cAAgBoiC,GAC/B9iC,EAAiBsjC,QACrB,GACF7W,GAA+BzsB,GAChC,OAASyjC,EAAaliC,KACtB,CAGA,GAFAklB,EACEgd,EAAa3lB,aAAe2lB,EAAa3lB,YAAYmmB,QAClC,IAAIC,EAASzd,EAAgB0d,KAClD1d,EAAkByd,GAClB/G,EAAY5/B,MAAMnD,EAAuB,OAC/BqD,MAAQ,GAClB0/B,EAAU+G,OAASzd,EACnBhB,GAAoB,CAAEvmB,MAAOi+B,EAAWnZ,OAAQ,KAAMvmB,MAAO,OAC7DuC,EAAiBgkC,GACfliC,EACA9B,EACAwG,EAEJ,MAAO,GACJ2qB,IACCqQ,GAA8B1/B,EAAS9B,EAAgBwG,GAAa,GACrEigB,EAAkB,KAAOjgB,EAAc1E,EAAQyhB,YAChD4N,IAAoB1K,EACpB,CAEA,GAAI,QADJA,EAAkBiB,IACY,CAE5B,GAAI,KAAmB,IADvByV,EAAY32B,GAAeA,IACC22B,EAAY,OAEtC,OAAQA,GACN,KAAK,EACHA,EAAY,EACZ,MACF,KAAK,EACHA,EAAY,EACZ,MACF,KAAK,GACHA,EAAY,GACZ,MACF,KAAK,IACL,KAAK,IACL,KAAK,IACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,MACL,KAAK,MACL,KAAK,MACL,KAAK,OACL,KAAK,OACL,KAAK,OACL,KAAK,QACL,KAAK,QACL,KAAK,QACL,KAAK,QACL,KAAK,SACL,KAAK,SACHA,EAAY,GACZ,MACF,KAAK,UACHA,EAAY,UACZ,MACF,QACEA,EAAY,EAMlB,GAAI,KAJJA,EACE,KAAOA,GAAa1W,EAAgBvgB,eAAiBM,IACjD,EACA22B,IACiBA,IAAcqG,EAAyBR,UAC5D,MACIQ,EAAyBR,UAAY7F,EACvCha,GAA+BrhB,EAASq7B,GACxC3H,GAAsB/O,EAAiB3kB,EAASq7B,GAChDgD,EAEN,CACA,OAASsD,EAAaliC,MAAQ6iC,KAC9BpkC,EAAiBgkC,GACfliC,EACA9B,EACAwG,EAEJ,KACE,OAASi9B,EAAaliC,MAChBvB,EAAeO,OAAS,IACzBP,EAAec,MAAQgB,EAAQhB,MAC/Bd,EAAiBqkC,GAAgCxP,KAChD,KACA/yB,GAED2hC,EAAaa,YAActkC,EAC3BA,EAAiB,OAChB8B,EAAU0hC,EAAyBT,YACpC3d,GAAyBwB,GACxB6c,EAAa3lB,aAEdqH,GAAuBnlB,EACvB2N,IAAc,EACd0X,GAAkB,KAClBC,IAAyB,EAC1B,OAASxjB,IACLwiB,GAAQC,MAAkBE,GAC3BH,GAAQC,MAAkBG,GAC1BJ,GAAQC,MAAkBC,GAC1BC,GAAgB3iB,EAAQ6hC,GACxBjf,GAAsB5iB,EAAQ8hC,SAC9Bpf,GAAsBxkB,IACxBA,EAAiB+jC,GAChB/jC,EACAm9B,EAAU5uB,WAEIhO,OAAS,MAC/B,OAAOP,CACT,CACA,OAAIsjC,GAEAzW,KACCyW,EAAenG,EAAU0G,SACzBJ,EAAezjC,EAAegqB,KAE9Bka,GADAV,EAA2B1hC,EAAQhB,OACDC,SAClCo8B,EAAY3T,GAAqBga,EAA0B,CAC1DxZ,KAAM,SACNzb,SAAU4uB,EAAU5uB,YAEXg2B,aAC+B,SAAxCf,EAAyBe,aAC3B,OAASL,EACJZ,EAAe9Z,GAAqB0a,EAAQZ,IAC3CA,EAAe5Y,GACf4Y,EACAG,EACAj9B,EACA,OAEYjG,OAAS,EAC1B+iC,EAAapjC,OAASF,EACtBm9B,EAAUj9B,OAASF,EACnBm9B,EAAUp8B,QAAUuiC,EACpBtjC,EAAec,MAAQq8B,EACvBA,EAAYmG,EACZA,EAAetjC,EAAec,MAE/B,QADC2iC,EAAe3hC,EAAQhB,MAAMJ,eAEzB+iC,EAAeR,GAA4Bz8B,IAE5C,QADEg9B,EAA2BC,EAAanC,YAEpC4C,EAASvW,GAAavqB,cACvBogC,EACCA,EAAyBlgB,SAAW4gB,EAChC,CAAE5gB,OAAQ4gB,EAAQ3U,KAAM2U,GACxBV,GACLA,EAA2BhU,KAC/BiU,EAAe,CACdrX,UAAWqX,EAAarX,UAAY5lB,EACpC86B,UAAWkC,IAEhBF,EAAa5iC,cAAgB+iC,EAC7BH,EAAa/f,WAAa2f,GACzBphC,EACA2kB,EACAjgB,GAEDxG,EAAeU,cAAgBoiC,GAChC3F,IAEJ1Q,GAA+BzsB,GAE/B8B,GADA0E,EAAc1E,EAAQhB,OACAC,SACtByF,EAAcgjB,GAAqBhjB,EAAa,CAC9CwjB,KAAM,UACNzb,SAAU4uB,EAAU5uB,YAEVrO,OAASF,EACrBwG,EAAYzF,QAAU,KACtB,OAASe,IAEP,QADE2kB,EAAkBzmB,EAAeipB,YAE7BjpB,EAAeipB,UAAY,CAACnnB,GAAY9B,EAAeO,OAAS,IAClEkmB,EAAgBxkB,KAAKH,IAC3B9B,EAAec,MAAQ0F,EACvBxG,EAAeU,cAAgB,KACxB8F,EACT,CACA,SAASu9B,GAA6B/jC,EAAgBwkC,GAMpD,OALAA,EAAkBV,GAChB,CAAE9Z,KAAM,UAAWzb,SAAUi2B,GAC7BxkC,EAAegqB,OAED9pB,OAASF,EACjBA,EAAec,MAAQ0jC,CACjC,CACA,SAASV,GAAkCW,EAAgBza,GACzD,OAAO0a,GAAyBD,EAAgBza,EAAM,EAAG,KAC3D,CACA,SAASga,GACPliC,EACA9B,EACAwG,GASA,OAPAslB,GAAqB9rB,EAAgB8B,EAAQhB,MAAO,KAAM0F,IAC1D1E,EAAUiiC,GACR/jC,EACAA,EAAeupB,aAAahb,WAEtBhO,OAAS,EACjBP,EAAeU,cAAgB,KACxBoB,CACT,CACA,SAAS6iC,GAA4B9kC,EAAO2G,EAAao+B,GACvD/kC,EAAM8F,OAASa,EACf,IAAIlG,EAAYT,EAAMS,UACtB,OAASA,IAAcA,EAAUqF,OAASa,GAC1Cq+B,GAAgChlC,EAAMK,OAAQsG,EAAao+B,EAC7D,CACA,SAASE,GACP9kC,EACA+kC,EACAC,EACAC,EACAC,GAEA,IAAIC,EAAcnlC,EAAeU,cACjC,OAASykC,EACJnlC,EAAeU,cAAgB,CAC9BqkC,YAAaA,EACbK,UAAW,KACXC,mBAAoB,EACpBnO,KAAM+N,EACND,KAAMA,EACNE,SAAUA,IAEVC,EAAYJ,YAAcA,EAC3BI,EAAYC,UAAY,KACxBD,EAAYE,mBAAqB,EACjCF,EAAYjO,KAAO+N,EACnBE,EAAYH,KAAOA,EACnBG,EAAYD,SAAWA,EAC9B,CACA,SAASI,GAA4BxjC,EAAS9B,EAAgBwG,GAC5D,IAAI22B,EAAYn9B,EAAeupB,aAC7B2D,EAAciQ,EAAUjQ,YACxBgY,EAAW/H,EAAU6H,KAGvB,GAFA5E,GAAkBt+B,EAAS9B,EAAgBm9B,EAAU5uB,SAAU/H,GAE3D,KAAmB,GADvB22B,EAAYxQ,GAAoB7qB,UAE7Bq7B,EAAyB,EAAZA,EAAiB,EAAKn9B,EAAeO,OAAS,QACzD,CACH,GAAI,OAASuB,GAAW,KAAuB,IAAhBA,EAAQvB,OACrCmQ,EAAG,IAAK5O,EAAU9B,EAAec,MAAO,OAASgB,GAAW,CAC1D,GAAI,KAAOA,EAAQhC,IACjB,OAASgC,EAAQpB,eACfikC,GAA4B7iC,EAAS0E,EAAaxG,QACjD,GAAI,KAAO8B,EAAQhC,IACtB6kC,GAA4B7iC,EAAS0E,EAAaxG,QAC/C,GAAI,OAAS8B,EAAQhB,MAAO,CAC/BgB,EAAQhB,MAAMZ,OAAS4B,EACvBA,EAAUA,EAAQhB,MAClB,QACF,CACA,GAAIgB,IAAY9B,EAAgB,MAAM0Q,EACtC,KAAO,OAAS5O,EAAQf,SAAW,CACjC,GAAI,OAASe,EAAQ5B,QAAU4B,EAAQ5B,SAAWF,EAChD,MAAM0Q,EACR5O,EAAUA,EAAQ5B,MACpB,CACA4B,EAAQf,QAAQb,OAAS4B,EAAQ5B,OACjC4B,EAAUA,EAAQf,OACpB,CACFo8B,GAAa,CACf,CAEA,OADAl7B,EAAK0qB,GAAqBwQ,GAClBjQ,GACN,IAAK,WAEH,IADA1mB,EAAcxG,EAAec,MACxBosB,EAAc,KAAM,OAAS1mB,GAE9B,QADD1E,EAAU0E,EAAYlG,YAEnB,OAASysB,GAAmBjrB,KAC3BorB,EAAc1mB,GAChBA,EAAcA,EAAYzF,QAE/B,QADAyF,EAAc0mB,IAERA,EAAcltB,EAAec,MAASd,EAAec,MAAQ,OAC7DosB,EAAc1mB,EAAYzF,QAAWyF,EAAYzF,QAAU,MACjE+jC,GACE9kC,GACA,EACAktB,EACA1mB,EACA0+B,GAEF,MACF,IAAK,YAGH,IAFA1+B,EAAc,KACd0mB,EAAcltB,EAAec,MACxBd,EAAec,MAAQ,KAAM,OAASosB,GAAe,CAExD,GAAI,QADJprB,EAAUorB,EAAY5sB,YACE,OAASysB,GAAmBjrB,GAAU,CAC5D9B,EAAec,MAAQosB,EACvB,KACF,CACAprB,EAAUorB,EAAYnsB,QACtBmsB,EAAYnsB,QAAUyF,EACtBA,EAAc0mB,EACdA,EAAcprB,CAChB,CACAgjC,GACE9kC,GACA,EACAwG,EACA,KACA0+B,GAEF,MACF,IAAK,WACHJ,GAA4B9kC,GAAgB,EAAI,KAAM,UAAM,GAC5D,MACF,QACEA,EAAeU,cAAgB,KAEnC,OAAOV,EAAec,KACxB,CACA,SAAS2/B,GAA6B3+B,EAAS9B,EAAgBwG,GAG7D,GAFA,OAAS1E,IAAY9B,EAAekK,aAAepI,EAAQoI,cAC3D8pB,IAAkCh0B,EAAe2F,MAC7C,KAAOa,EAAcxG,EAAeujB,YACtC,IAAI,OAASzhB,EAWN,OAAO,KAVZ,GACG0/B,GACC1/B,EACA9B,EACAwG,GACA,GAEF,KAAOA,EAAcxG,EAAeujB,YAEpC,OAAO,IACO,CACpB,GAAI,OAASzhB,GAAW9B,EAAec,QAAUgB,EAAQhB,MACvD,MAAMvD,MAAMnD,EAAuB,MACrC,GAAI,OAAS4F,EAAec,MAAO,CAIjC,IAFA0F,EAAcgjB,GADd1nB,EAAU9B,EAAec,MACmBgB,EAAQynB,cACpDvpB,EAAec,MAAQ0F,EAClBA,EAAYtG,OAASF,EAAgB,OAAS8B,EAAQf,SACxDe,EAAUA,EAAQf,SAChByF,EAAcA,EAAYzF,QACzByoB,GAAqB1nB,EAASA,EAAQynB,eAC3BrpB,OAASF,EAC1BwG,EAAYzF,QAAU,IACxB,CACA,OAAOf,EAAec,KACxB,CACA,SAASggC,GAA8Bh/B,EAAS0E,GAC9C,OAAI,KAAO1E,EAAQ6D,MAAQa,MAEpB,QADP1E,EAAUA,EAAQoI,gBACSknB,GAAsBtvB,GACnD,CAsFA,SAASyjC,GAAUzjC,EAAS9B,EAAgBwG,GAC1C,GAAI,OAAS1E,EACX,GAAIA,EAAQ8jB,gBAAkB5lB,EAAeupB,aAC3C4H,IAAmB,MAChB,CACH,IACG2P,GAA8Bh/B,EAAS0E,IACxC,KAA8B,IAAvBxG,EAAeO,OAEtB,OACG4wB,IAAmB,EA/F9B,SACErvB,EACA9B,EACAwG,GAEA,OAAQxG,EAAeF,KACrB,KAAK,EACHwC,EAAkBtC,EAAgBA,EAAesJ,UAAU+U,eAC3DmnB,GAAaxlC,EAAgB2tB,GAAc7rB,EAAQpB,cAAc0tB,OACjEvH,KACA,MACF,KAAK,GACL,KAAK,EACH9jB,GAAgB/C,GAChB,MACF,KAAK,EACHsC,EAAkBtC,EAAgBA,EAAesJ,UAAU+U,eAC3D,MACF,KAAK,GACHmnB,GACExlC,EACAA,EAAe1D,KACf0D,EAAe4lB,cAAc1mB,OAE/B,MACF,KAAK,GACH,IAAI+tB,EAAQjtB,EAAeU,cAC3B,GAAI,OAASusB,EACX,OAAI,OAASA,EAAMtsB,YAEf8rB,GAA+BzsB,GAC9BA,EAAeO,OAAS,IACzB,MAEA,KAAOiG,EAAcxG,EAAec,MAAMyiB,YACrC8f,GAAwBvhC,EAAS9B,EAAgBwG,IAC1DimB,GAA+BzsB,GAMxB,QALP8B,EAAU2+B,GACR3+B,EACA9B,EACAwG,IAEwB1E,EAAQf,QAAU,MAE9C0rB,GAA+BzsB,GAC/B,MACF,KAAK,GACH,IAAIylC,EAAmB,KAAuB,IAAhB3jC,EAAQvB,OAUtC,IATA0sB,EAAQ,KAAOzmB,EAAcxG,EAAeujB,eAEzCie,GACC1/B,EACA9B,EACAwG,GACA,GAEDymB,EAAQ,KAAOzmB,EAAcxG,EAAeujB,aAC3CkiB,EAAkB,CACpB,GAAIxY,EACF,OAAOqY,GACLxjC,EACA9B,EACAwG,GAEJxG,EAAeO,OAAS,GAC1B,CAOA,GALA,QADAklC,EAAmBzlC,EAAeU,iBAE9B+kC,EAAiBL,UAAY,KAC9BK,EAAiBT,KAAO,KACxBS,EAAiBnU,WAAa,MACjCrvB,EAAK0qB,GAAqBA,GAAoB7qB,SAC1CmrB,EAAO,MACN,OAAO,KACd,KAAK,GACL,KAAK,GACH,OACGjtB,EAAe2F,MAAQ,EACxBs7B,GAAyBn/B,EAAS9B,EAAgBwG,GAEtD,KAAK,GACHg/B,GAAaxlC,EAAgB2tB,GAAc7rB,EAAQpB,cAAc0tB,OAErE,OAAOqS,GAA6B3+B,EAAS9B,EAAgBwG,EAC/D,CAYUk/B,CACE5jC,EACA9B,EACAwG,GAGN2qB,GAAmB,KAAuB,OAAhBrvB,EAAQvB,MACpC,MAEC4wB,IAAmB,EAClBxjB,IACE,KAA8B,QAAvB3N,EAAeO,QACtBskB,GAAW7kB,EAAgBqkB,GAAerkB,EAAe2B,OAE/D,OADA3B,EAAe2F,MAAQ,EACf3F,EAAeF,KACrB,KAAK,GACH4Q,EAAG,CACD5O,EAAU9B,EAAeupB,aACzB,IAAIoc,EAAgB3lC,EAAekqB,YACjCtB,EAAO+c,EAAc7oC,MAGvB,GAFA6oC,EAAgB/c,EAAK+c,EAAc9oC,UACnCmD,EAAe1D,KAAOqpC,EAClB,oBAAsBA,EAmBrB,CACH,QAAI,IAAWA,GAAiB,OAASA,EACvC,KACI/c,EAAO+c,EAAcppC,YAAoBd,EAC3C,CACAuE,EAAeF,IAAM,GACrBE,EAAiBsgC,GACf,KACAtgC,EACA2lC,EACA7jC,EACA0E,GAEF,MAAMkK,CACR,CAAO,GAAIkY,IAAShtB,EAAiB,CACnCoE,EAAeF,IAAM,GACrBE,EAAiB0gC,GACf,KACA1gC,EACA2lC,EACA7jC,EACA0E,GAEF,MAAMkK,CACR,EAGF,MAFA1Q,EACE3D,EAAyBspC,IAAkBA,EACvCpoC,MAAMnD,EAAuB,IAAK4F,EAAgB,IAC1D,CA9CE2gC,GAAgBgF,IACV7jC,EAAUs8B,GAA2BuH,EAAe7jC,GACrD9B,EAAeF,IAAM,EACrBE,EAAiB0hC,GAChB,KACA1hC,EACA2lC,EACA7jC,EACA0E,KAEAxG,EAAeF,IAAM,EACtBE,EAAiBghC,GAChB,KACAhhC,EACA2lC,EACA7jC,EACA0E,GA+BV,CACA,OAAOxG,EACT,KAAK,EACH,OAAOghC,GACLl/B,EACA9B,EACAA,EAAe1D,KACf0D,EAAeupB,aACf/iB,GAEJ,KAAK,EACH,OAMEk7B,GACE5/B,EACA9B,EAPD2lC,EAAgB3lC,EAAe1D,KAC/BssB,EAAOwV,GACNuH,EACA3lC,EAAeupB,cAOf/iB,GAGN,KAAK,EACHkK,EAAG,CAKD,GAJApO,EACEtC,EACAA,EAAesJ,UAAU+U,eAEvB,OAASvc,EAAS,MAAMvE,MAAMnD,EAAuB,MACzD,IAAI+iC,EAAYn9B,EAAeupB,aAE/Boc,GADA/c,EAAO5oB,EAAeU,eACD4M,QACrBm1B,GAAiB3gC,EAAS9B,GAC1BkiC,GAAmBliC,EAAgBm9B,EAAW,KAAM32B,GACpD,IAAIuwB,EAAY/2B,EAAeU,cAY/B,GAXAy8B,EAAYpG,EAAU3I,MACtBoX,GAAaxlC,EAAgB2tB,GAAcwP,GAC3CA,IAAcvU,EAAKwF,OACjBwX,GACE5lC,EACA,CAAC2tB,IACDnnB,GACA,GAEJ27B,KACAhF,EAAYpG,EAAUzpB,QAClBsb,EAAKid,aAAY,CACnB,GACIjd,EAAO,CACPtb,QAAS6vB,EACT0I,cAAc,EACdzX,MAAO2I,EAAU3I,OAElBpuB,EAAe2wB,YAAY2B,UAAY1J,EACvC5oB,EAAeU,cAAgBkoB,EACT,IAAvB5oB,EAAeO,MACf,CACAP,EAAiB6iC,GACf/gC,EACA9B,EACAm9B,EACA32B,GAEF,MAAMkK,CACR,CAAO,GAAIysB,IAAcwI,EAAe,CAKtClgB,GAJAkgB,EAAgB5hB,GACdxmB,MAAMnD,EAAuB,MAC7B4F,IAGFA,EAAiB6iC,GACf/gC,EACA9B,EACAm9B,EACA32B,GAEF,MAAMkK,CACR,CACE,IACE0U,GAAyBwB,GACvB5mB,EAAesJ,UAAU+U,cAAc1P,YAEvCwW,GAAuBnlB,EACvB2N,IAAc,EACd0X,GAAkB,KAClBC,IAAyB,EACzB9e,EAAculB,GACZ/rB,EACA,KACAm9B,EACA32B,GAEFxG,EAAec,MAAQ0F,EACzBA,GAGCA,EAAYjG,OAA8B,EAArBiG,EAAYjG,MAAc,KAC7CiG,EAAcA,EAAYzF,OAAS,KACvC,CAEH,GADA8lB,KACIsW,IAAcwI,EAAe,CAC/B3lC,EAAiBygC,GACf3+B,EACA9B,EACAwG,GAEF,MAAMkK,CACR,CACA0vB,GAAkBt+B,EAAS9B,EAAgBm9B,EAAW32B,EACxD,CACAxG,EAAiBA,EAAec,KAClC,CACA,OAAOd,EACT,KAAK,GACH,OACEohC,GAAQt/B,EAAS9B,GACjB,OAAS8B,GACJ0E,EAAcs/B,GACb9lC,EAAe1D,KACf,KACA0D,EAAeupB,aACf,OAECvpB,EAAeU,cAAgB8F,EAChCmH,KACEnH,EAAcxG,EAAe1D,KAC9BwF,EAAU9B,EAAeupB,cACzBoc,EAAgBI,GACf3jC,EAAwBN,SACxByI,cAAc/D,IACD8B,IAAuBtI,EACrC2lC,EAAcp9B,IAAoBzG,EACnCkkC,GAAqBL,EAAen/B,EAAa1E,GACjD8H,GAAoB+7B,GACnB3lC,EAAesJ,UAAYq8B,GAC7B3lC,EAAeU,cAAgBolC,GAC9B9lC,EAAe1D,KACfwF,EAAQ8jB,cACR5lB,EAAeupB,aACfznB,EAAQpB,eAEd,KAEJ,KAAK,GACH,OACEqC,GAAgB/C,GAChB,OAAS8B,GACP6L,KACEg4B,EAAgB3lC,EAAesJ,UAC/B28B,GACEjmC,EAAe1D,KACf0D,EAAeupB,aACfnnB,EAAwBN,SAE3BqjB,GAAuBnlB,EACvBslB,IAAyB,EACzBF,GAAyBwB,GACxB+e,EAAch3B,aAEjBg3B,EAAgB3lC,EAAeupB,aAAahb,SAC7C,OAASzM,GAAW6L,GAChByyB,GACEt+B,EACA9B,EACA2lC,EACAn/B,GAEDxG,EAAec,MAAQgrB,GACtB9rB,EACA,KACA2lC,EACAn/B,GAEN46B,GAAQt/B,EAAS9B,GACjBA,EAAec,MAEnB,KAAK,EA0CH,OAzCI,OAASgB,GAAW6L,MACjBib,EAAO+c,EAAgBvgB,MAOxB,QANDugB,EAu6MX,SAA4BhgB,EAAUrpB,EAAMmU,EAAOgnB,GACjD,KAAO,IAAM9R,EAAS9qB,UAAY,CAChC,IAAIqrC,EAAWz1B,EACf,GAAIkV,EAASja,SAAST,gBAAkB3O,EAAK2O,eAC3C,IACGwsB,IACA,UAAY9R,EAASja,UAAY,WAAaia,EAASrpB,MAExD,WACG,GAAKm7B,GASP,IAAK9R,EAAS9c,IACjB,OAAQvM,GACN,IAAK,OACH,IAAKqpB,EAASwgB,aAAa,YAAa,MACxC,OAAOxgB,EACT,IAAK,OAEH,GAAI,gBADJlpB,EAAOkpB,EAASygB,aAAa,SACAzgB,EAASwgB,aAAa,mBACjD,MACG,GACH1pC,IAASypC,EAASG,KAClB1gB,EAASygB,aAAa,WACnB,MAAQF,EAASznB,KAAO,KAAOynB,EAASznB,OAC3CkH,EAASygB,aAAa,kBACnB,MAAQF,EAASI,YAAc,KAAOJ,EAASI,cAClD3gB,EAASygB,aAAa,YACnB,MAAQF,EAASK,MAAQ,KAAOL,EAASK,OAE5C,MACF,OAAO5gB,EACT,IAAK,QACH,GAAIA,EAASwgB,aAAa,mBAAoB,MAC9C,OAAOxgB,EACT,IAAK,SAEH,KADAlpB,EAAOkpB,EAASygB,aAAa,WAEhB,MAAQF,EAASM,IAAM,KAAON,EAASM,MAChD7gB,EAASygB,aAAa,WACnB,MAAQF,EAAS5pC,KAAO,KAAO4pC,EAAS5pC,OAC3CqpB,EAASygB,aAAa,kBACnB,MAAQF,EAASI,YAAc,KAAOJ,EAASI,eACpD7pC,GACAkpB,EAASwgB,aAAa,WACrBxgB,EAASwgB,aAAa,YAEvB,MACF,OAAOxgB,EACT,QACE,OAAOA,OA/CgB,CAC3B,GAAI,UAAYrpB,GAAQ,WAAaqpB,EAASrpB,KAOvC,OAAOqpB,EANZ,IAAIlpB,EAAO,MAAQypC,EAASzpC,KAAO,KAAO,GAAKypC,EAASzpC,KACxD,GACE,WAAaypC,EAAS5pC,MACtBqpB,EAASygB,aAAa,UAAY3pC,EAElC,OAAOkpB,CACY,CA0CzB,GAAI,QADJA,EAAWiB,GAAkBjB,EAAS7H,cACf,KACzB,CACA,OAAO,IACT,CAr+M2B2oB,CACfd,EACA3lC,EAAe1D,KACf0D,EAAeupB,aACfjE,MAGMtlB,EAAesJ,UAAYq8B,EAC5BxgB,GAAuBnlB,EACvBolB,GAAyBwB,GACxB+e,EAAch3B,YAEf2W,IAAyB,EACzBsD,GAAO,GACPA,GAAO,GAChBA,GAAQpD,GAAyBxlB,IAEnC+C,GAAgB/C,GAChB4oB,EAAO5oB,EAAe1D,KACtB6gC,EAAYn9B,EAAeupB,aAC3BwN,EAAY,OAASj1B,EAAUA,EAAQ8jB,cAAgB,KACvD+f,EAAgBxI,EAAU5uB,SAC1BoY,GAAqBiC,EAAMuU,GACtBwI,EAAgB,KACjB,OAAS5O,GACTpQ,GAAqBiC,EAAMmO,KAC1B/2B,EAAeO,OAAS,IAC7B,OAASP,EAAeU,gBACpBkoB,EAAO2H,GACPzuB,EACA9B,EACA2xB,GACA,KACA,KACAnrB,GAEDrD,GAAsBC,cAAgBwlB,GACzCwY,GAAQt/B,EAAS9B,GACjBogC,GAAkBt+B,EAAS9B,EAAgB2lC,EAAen/B,GACnDxG,EAAec,MACxB,KAAK,EAgBH,OAfI,OAASgB,GAAW6L,MACjB7L,EAAU0E,EAAc4e,MAMzB,QALD5e,EA27MX,SAAgCmf,EAAUjX,EAAM+oB,GAC9C,GAAI,KAAO/oB,EAAM,OAAO,KACxB,KAAO,IAAMiX,EAAS9qB,UAAY,CAChC,IACG,IAAM8qB,EAAS9qB,UACd,UAAY8qB,EAASja,UACrB,WAAaia,EAASrpB,QACvBm7B,EAED,OAAO,KAET,GAAI,QADJ9R,EAAWiB,GAAkBjB,EAAS7H,cACf,OAAO,IAChC,CACA,OAAO6H,CACT,CAz8MyB+gB,CACblgC,EACAxG,EAAeupB,aACfjE,MAGMtlB,EAAesJ,UAAY9C,EAC5B2e,GAAuBnlB,EACvBolB,GAAyB,KACzBtjB,GAAU,GACVA,GAAU,GACnBA,GAAW0jB,GAAyBxlB,IAE/B,KACT,KAAK,GACH,OAAOqjC,GAAwBvhC,EAAS9B,EAAgBwG,GAC1D,KAAK,EACH,OACElE,EACEtC,EACAA,EAAesJ,UAAU+U,eAE1BsnB,EAAgB3lC,EAAeupB,aAChC,OAASznB,EACJ9B,EAAec,MAAQgrB,GACtB9rB,EACA,KACA2lC,EACAn/B,GAEF45B,GACEt+B,EACA9B,EACA2lC,EACAn/B,GAENxG,EAAec,MAEnB,KAAK,GACH,OAAOw/B,GACLx+B,EACA9B,EACAA,EAAe1D,KACf0D,EAAeupB,aACf/iB,GAEJ,KAAK,EACH,OACE45B,GACEt+B,EACA9B,EACAA,EAAeupB,aACf/iB,GAEFxG,EAAec,MAEnB,KAAK,EAUL,KAAK,GACH,OACEs/B,GACEt+B,EACA9B,EACAA,EAAeupB,aAAahb,SAC5B/H,GAEFxG,EAAec,MAEnB,KAAK,GACH,OACG6kC,EAAgB3lC,EAAeupB,aAChCic,GAAaxlC,EAAgBA,EAAe1D,KAAMqpC,EAAczmC,OAChEkhC,GACEt+B,EACA9B,EACA2lC,EAAcp3B,SACd/H,GAEFxG,EAAec,MAEnB,KAAK,EACH,OACG8nB,EAAO5oB,EAAe1D,KAAKI,SAC3BipC,EAAgB3lC,EAAeupB,aAAahb,SAC7CiyB,GAAqBxgC,GAEpB2lC,EAAgBA,EADhB/c,EAAOiK,GAAYjK,IAEnB5oB,EAAeO,OAAS,EACzB6/B,GAAkBt+B,EAAS9B,EAAgB2lC,EAAen/B,GAC1DxG,EAAec,MAEnB,KAAK,GACH,OAAO4/B,GACL5+B,EACA9B,EACAA,EAAe1D,KACf0D,EAAeupB,aACf/iB,GAEJ,KAAK,GACH,OAAOq6B,GACL/+B,EACA9B,EACAA,EAAe1D,KACf0D,EAAeupB,aACf/iB,GAEJ,KAAK,GACH,OAAO8+B,GAA4BxjC,EAAS9B,EAAgBwG,GAC9D,KAAK,GACH,OAAOy6B,GAAyBn/B,EAAS9B,EAAgBwG,GAC3D,KAAK,GACH,OACEg6B,GAAqBxgC,GACpB2lC,EAAgB9S,GAAYlF,IAC7B,OAAS7rB,GAEL,QADE8mB,EAAOqG,QAELrG,EAAOlB,GACRyV,EAAYnP,KACZpF,EAAKuG,YAAcgO,EACpBA,EAAUjP,WACV,OAASiP,IAAcvU,EAAK+d,kBAAoBngC,GAC/CoiB,EAAOuU,GACTn9B,EAAeU,cAAgB,CAC9B4iB,OAAQqiB,EACRvX,MAAOxF,GAETkZ,GAAsB9hC,GACtBwlC,GAAaxlC,EAAgB2tB,GAAc/E,KAC1C,KAAO9mB,EAAQ6D,MAAQa,KACrBi8B,GAAiB3gC,EAAS9B,GAC3BkiC,GAAmBliC,EAAgB,KAAM,KAAMwG,GAC/C27B,MACDvZ,EAAO9mB,EAAQpB,cACfy8B,EAAYn9B,EAAeU,cAC5BkoB,EAAKtF,SAAWqiB,GACV/c,EAAO,CAAEtF,OAAQqiB,EAAevX,MAAOuX,GACxC3lC,EAAeU,cAAgBkoB,EAChC,IAAM5oB,EAAe2F,QAClB3F,EAAeU,cACdV,EAAe2wB,YAAY2B,UACzB1J,GACN4c,GAAaxlC,EAAgB2tB,GAAcgY,KACzCA,EAAgBxI,EAAU/O,MAC5BoX,GAAaxlC,EAAgB2tB,GAAcgY,GAC3CA,IAAkB/c,EAAKwF,OACrBwX,GACE5lC,EACA,CAAC2tB,IACDnnB,GACA,KAEZ45B,GACEt+B,EACA9B,EACAA,EAAeupB,aAAahb,SAC5B/H,GAEFxG,EAAec,MAEnB,KAAK,GACH,MAAMd,EAAeupB,aAEzB,MAAMhsB,MAAMnD,EAAuB,IAAK4F,EAAeF,KACzD,CACA,IAAI8mC,GAAchlC,EAAa,MAC7BilC,GAA0B,KAC1BC,GAAwB,KAC1B,SAAStB,GAAauB,EAAe/jC,EAASuyB,GAC5CtzB,EAAK2kC,GAAa5jC,EAAQI,eAC1BJ,EAAQI,cAAgBmyB,CAC1B,CACA,SAASyR,GAAYhkC,GACnBA,EAAQI,cAAgBwjC,GAAY9kC,QACpCC,EAAI6kC,GACN,CACA,SAAS/B,GAAgCvhB,EAAQ9c,EAAao+B,GAC5D,KAAO,OAASthB,GAAU,CACxB,IAAIhjB,EAAYgjB,EAAOhjB,UAOvB,IANCgjB,EAAOC,WAAa/c,KAAiBA,GAChC8c,EAAOC,YAAc/c,EACvB,OAASlG,IAAcA,EAAUijB,YAAc/c,IAC/C,OAASlG,IACRA,EAAUijB,WAAa/c,KAAiBA,IACxClG,EAAUijB,YAAc/c,GACzB8c,IAAWshB,EAAiB,MAChCthB,EAASA,EAAOpjB,MAClB,CACF,CACA,SAAS0lC,GACP5lC,EACAinC,EACAzgC,EACA0gC,GAEA,IAAIrnC,EAAQG,EAAec,MAE3B,IADA,OAASjB,IAAUA,EAAMK,OAASF,GAC3B,OAASH,GAAS,CACvB,IAAIsnC,EAAOtnC,EAAMqK,aACjB,GAAI,OAASi9B,EAAM,CACjB,IAAIC,EAAYvnC,EAAMiB,MACtBqmC,EAAOA,EAAKE,aACZ32B,EAAG,KAAO,OAASy2B,GAAQ,CACzB,IAAIG,EAAaH,EACjBA,EAAOtnC,EACP,IAAK,IAAInF,EAAI,EAAGA,EAAIusC,EAASzsC,OAAQE,IACnC,GAAI4sC,EAAWtkC,UAAYikC,EAASvsC,GAAI,CACtCysC,EAAKxhC,OAASa,EAEd,QADA8gC,EAAaH,EAAK7mC,aACMgnC,EAAW3hC,OAASa,GAC5Cq+B,GACEsC,EAAKjnC,OACLsG,EACAxG,GAEFknC,IAA6BE,EAAY,MACzC,MAAM12B,CACR,CACFy2B,EAAOG,EAAWxkB,IACpB,CACF,MAAO,GAAI,KAAOjjB,EAAMC,IAAK,CAE3B,GAAI,QADJsnC,EAAYvnC,EAAMK,QACM,MAAM3C,MAAMnD,EAAuB,MAC3DgtC,EAAUzhC,OAASa,EAEnB,QADA2gC,EAAOC,EAAU9mC,aACC6mC,EAAKxhC,OAASa,GAChCq+B,GAAgCuC,EAAW5gC,EAAaxG,GACxDonC,EAAY,IACd,MAAOA,EAAYvnC,EAAMiB,MACzB,GAAI,OAASsmC,EAAWA,EAAUlnC,OAASL,OAEzC,IAAKunC,EAAYvnC,EAAO,OAASunC,GAAa,CAC5C,GAAIA,IAAcpnC,EAAgB,CAChConC,EAAY,KACZ,KACF,CAEA,GAAI,QADJvnC,EAAQunC,EAAUrmC,SACE,CAClBlB,EAAMK,OAASknC,EAAUlnC,OACzBknC,EAAYvnC,EACZ,KACF,CACAunC,EAAYA,EAAUlnC,MACxB,CACFL,EAAQunC,CACV,CACF,CACA,SAAS5F,GACP1/B,EACA9B,EACAwG,EACA0gC,GAEAplC,EAAU,KACV,IACE,IAAIwhB,EAAStjB,EAAgBunC,GAA6B,EAC1D,OAASjkB,GAET,CACA,IAAKikB,EACH,GAAI,KAAsB,OAAfjkB,EAAO/iB,OAAiBgnC,GAA6B,OAC3D,GAAI,KAAsB,OAAfjkB,EAAO/iB,OAAiB,MAC1C,GAAI,KAAO+iB,EAAOxjB,IAAK,CACrB,IAAI0nC,EAAgBlkB,EAAOhjB,UAC3B,GAAI,OAASknC,EAAe,MAAMjqC,MAAMnD,EAAuB,MAE/D,GAAI,QADJotC,EAAgBA,EAAc5hB,eACF,CAC1B,IAAI5iB,EAAUsgB,EAAOhnB,KACrB0gB,GAASsG,EAAOiG,aAAarqB,MAAOsoC,EAActoC,SAC/C,OAAS4C,EAAUA,EAAQG,KAAKe,GAAYlB,EAAU,CAACkB,GAC5D,CACF,MAAO,GAAIsgB,IAAWjhB,EAA6BP,QAAS,CAE1D,GAAI,QADJ0lC,EAAgBlkB,EAAOhjB,WACK,MAAM/C,MAAMnD,EAAuB,MAC/DotC,EAAc9mC,cAAcA,gBAC1B4iB,EAAO5iB,cAAcA,gBACpB,OAASoB,EACNA,EAAQG,KAAKkB,IACZrB,EAAU,CAACqB,IACpB,CACAmgB,EAASA,EAAOpjB,MAClB,CACA,OAAS4B,GACP8jC,GACE5lC,EACA8B,EACA0E,EACA0gC,GAEJlnC,EAAeO,OAAS,MAC1B,CACA,SAAS6wB,GAAsBqW,GAC7B,IACEA,EAAsBA,EAAoBJ,aAC1C,OAASI,GAET,CACA,IACGzqB,GACCyqB,EAAoBzkC,QAAQI,cAC5BqkC,EAAoBC,eAGtB,OAAO,EACTD,EAAsBA,EAAoB3kB,IAC5C,CACA,OAAO,CACT,CACA,SAAS0d,GAAqBxgC,GAC5B6mC,GAA0B7mC,EAC1B8mC,GAAwB,KAExB,QADA9mC,EAAiBA,EAAekK,gBACJlK,EAAeqnC,aAAe,KAC5D,CACA,SAASxU,GAAY7vB,GACnB,OAAO2kC,GAAuBd,GAAyB7jC,EACzD,CACA,SAAS4nB,GAAgCgd,EAAU5kC,GAEjD,OADA,OAAS6jC,IAA2BrG,GAAqBoH,GAClDD,GAAuBC,EAAU5kC,EAC1C,CACA,SAAS2kC,GAAuBC,EAAU5kC,GACxC,IAAI9D,EAAQ8D,EAAQI,cAEpB,GADAJ,EAAU,CAAEA,QAASA,EAAS0kC,cAAexoC,EAAO4jB,KAAM,MACtD,OAASgkB,GAAuB,CAClC,GAAI,OAASc,EAAU,MAAMrqC,MAAMnD,EAAuB,MAC1D0sC,GAAwB9jC,EACxB4kC,EAAS19B,aAAe,CAAEvE,MAAO,EAAG0hC,aAAcrkC,GAClD4kC,EAASrnC,OAAS,MACpB,MAAOumC,GAAwBA,GAAsBhkB,KAAO9f,EAC5D,OAAO9D,CACT,CACA,IAAIsjC,IAAiB,EACrB,SAASV,GAAsBjiC,GAC7BA,EAAM8wB,YAAc,CAClB2B,UAAWzyB,EAAMa,cACjBmnC,gBAAiB,KACjBC,eAAgB,KAChBC,OAAQ,CAAEzmC,QAAS,KAAMqE,MAAO,EAAGqiC,gBAAiB,MACpDC,UAAW,KAEf,CACA,SAASxF,GAAiB3gC,EAAS9B,GACjC8B,EAAUA,EAAQ6uB,YAClB3wB,EAAe2wB,cAAgB7uB,IAC5B9B,EAAe2wB,YAAc,CAC5B2B,UAAWxwB,EAAQwwB,UACnBuV,gBAAiB/lC,EAAQ+lC,gBACzBC,eAAgBhmC,EAAQgmC,eACxBC,OAAQjmC,EAAQimC,OAChBE,UAAW,MAEjB,CACA,SAAS9M,GAAaz0B,GACpB,MAAO,CAAEA,KAAMA,EAAM5G,IAAK,EAAGo2B,QAAS,KAAMiD,SAAU,KAAMrW,KAAM,KACpE,CACA,SAASoY,GAAcr7B,EAAOgjB,EAAQnc,GACpC,IAAIiqB,EAAc9wB,EAAM8wB,YACxB,GAAI,OAASA,EAAa,OAAO,KAEjC,GADAA,EAAcA,EAAYoX,OACtB,KAA0B,EAAnBG,IAAuB,CAChC,IAAI5mC,EAAUqvB,EAAYrvB,QAO1B,OANA,OAASA,EACJuhB,EAAOC,KAAOD,GACbA,EAAOC,KAAOxhB,EAAQwhB,KAAQxhB,EAAQwhB,KAAOD,GACnD8N,EAAYrvB,QAAUuhB,EACtBA,EAASK,GAAuBrjB,GAChCkjB,GAA8BljB,EAAO,KAAM6G,GACpCmc,CACT,CAEA,OADAG,GAAgBnjB,EAAO8wB,EAAa9N,EAAQnc,GACrCwc,GAAuBrjB,EAChC,CACA,SAASu7B,GAAoBt1B,EAAMjG,EAAO6G,GAExC,GAAI,QADJ7G,EAAQA,EAAM8wB,eACU9wB,EAAQA,EAAMkoC,OAAS,KAAc,QAAPrhC,IAAkB,CACtE,IAAIg1B,EAAa77B,EAAM8F,MAEvBe,GADAg1B,GAAc51B,EAAKE,aAEnBnG,EAAM8F,MAAQe,EACdc,GAAkB1B,EAAMY,EAC1B,CACF,CACA,SAASyhC,GAAsBnoC,EAAgBooC,GAC7C,IAAIxlB,EAAQ5iB,EAAe2wB,YACzB7uB,EAAU9B,EAAeM,UAC3B,GACE,OAASwB,GACyB8gB,KAAhC9gB,EAAUA,EAAQ6uB,aACpB,CACA,IAAI0X,EAAW,KACbC,EAAU,KAEZ,GAAI,QADJ1lB,EAAQA,EAAMilB,iBACM,CAClB,EAAG,CACD,IAAIU,EAAQ,CACV7hC,KAAMkc,EAAMlc,KACZ5G,IAAK8iB,EAAM9iB,IACXo2B,QAAStT,EAAMsT,QACfiD,SAAU,KACVrW,KAAM,MAER,OAASwlB,EACJD,EAAWC,EAAUC,EACrBD,EAAUA,EAAQxlB,KAAOylB,EAC9B3lB,EAAQA,EAAME,IAChB,OAAS,OAASF,GAClB,OAAS0lB,EACJD,EAAWC,EAAUF,EACrBE,EAAUA,EAAQxlB,KAAOslB,CAChC,MAAOC,EAAWC,EAAUF,EAS5B,OARAxlB,EAAQ,CACN0P,UAAWxwB,EAAQwwB,UACnBuV,gBAAiBQ,EACjBP,eAAgBQ,EAChBP,OAAQjmC,EAAQimC,OAChBE,UAAWnmC,EAAQmmC,gBAErBjoC,EAAe2wB,YAAc/N,EAE/B,CAEA,QADA5iB,EAAiB4iB,EAAMklB,gBAElBllB,EAAMilB,gBAAkBO,EACxBpoC,EAAe8iB,KAAOslB,EAC3BxlB,EAAMklB,eAAiBM,CACzB,CACA,IAAII,IAAkC,EACtC,SAASrG,KACP,GAAIqG,GAAiC,CAEnC,GAAI,OAD0Bha,GACQ,MADRA,EAEhC,CACF,CACA,SAAS0T,GACPuG,EACAh4B,EACAi4B,EACAliC,GAEAgiC,IAAkC,EAClC,IAAI5lB,EAAQ6lB,EAAwB9X,YACpC6R,IAAiB,EACjB,IAAIqF,EAAkBjlB,EAAMilB,gBAC1BC,EAAiBllB,EAAMklB,eACvBvU,EAAe3Q,EAAMmlB,OAAOzmC,QAC9B,GAAI,OAASiyB,EAAc,CACzB3Q,EAAMmlB,OAAOzmC,QAAU,KACvB,IAAIqnC,EAAoBpV,EACtBqV,EAAqBD,EAAkB7lB,KACzC6lB,EAAkB7lB,KAAO,KACzB,OAASglB,EACJD,EAAkBe,EAClBd,EAAehlB,KAAO8lB,EAC3Bd,EAAiBa,EACjB,IAAI7mC,EAAU2mC,EAAwBnoC,UACtC,OAASwB,KAENyxB,GADCzxB,EAAUA,EAAQ6uB,aACImX,kBACPA,IACd,OAASvU,EACLzxB,EAAQ+lC,gBAAkBe,EAC1BrV,EAAazQ,KAAO8lB,EACxB9mC,EAAQgmC,eAAiBa,GAChC,CACA,GAAI,OAASd,EAAiB,CAC5B,IAAI/tB,EAAW8I,EAAM0P,UAIrB,IAHAwV,EAAiB,EACjBhmC,EAAU8mC,EAAqBD,EAAoB,KACnDpV,EAAesU,IACZ,CACD,IAAI3gC,GAAkC,UAArBqsB,EAAa7sB,KAC5BmiC,EAAiB3hC,IAAeqsB,EAAa7sB,KAC/C,GACEmiC,GACKjV,GAAgC1sB,KAAgBA,GAChDV,EAAcU,KAAgBA,EACnC,CACA,IAAMA,GACJA,IAAeqnB,KACdia,IAAkC,GACrC,OAAS1mC,IACNA,EAAUA,EAAQghB,KACjB,CACEpc,KAAM,EACN5G,IAAKyzB,EAAazzB,IAClBo2B,QAAS3C,EAAa2C,QACtBiD,SAAU,KACVrW,KAAM,OAEZpS,EAAG,CACD,IAAI1Q,EAAiByoC,EACnB5lB,EAAS0Q,EACXrsB,EAAauJ,EACb,IAAIkV,EAAW+iB,EACf,OAAQ7lB,EAAO/iB,KACb,KAAK,EAEH,GAAI,oBADJE,EAAiB6iB,EAAOqT,SACkB,CACxCpc,EAAW9Z,EAAetB,KAAKinB,EAAU7L,EAAU5S,GACnD,MAAMwJ,CACR,CACAoJ,EAAW9Z,EACX,MAAM0Q,EACR,KAAK,EACH1Q,EAAeO,OAAiC,MAAxBP,EAAeO,MAAkB,IAC3D,KAAK,EAMH,GAAI,QAJJ2G,EACE,oBAFFlH,EAAiB6iB,EAAOqT,SAGlBl2B,EAAetB,KAAKinB,EAAU7L,EAAU5S,GACxClH,SACqB,IAAWkH,EAAY,MAAMwJ,EACxDoJ,EAAW1c,EAAO,CAAC,EAAG0c,EAAU5S,GAChC,MAAMwJ,EACR,KAAK,EACH8xB,IAAiB,EAEvB,CAEA,QADAt7B,EAAaqsB,EAAa4F,YAEtBsP,EAAwBloC,OAAS,GACnCsoC,IAAmBJ,EAAwBloC,OAAS,MAEpD,QADCsoC,EAAiBjmB,EAAMqlB,WAEnBrlB,EAAMqlB,UAAY,CAAC/gC,GACpB2hC,EAAe5mC,KAAKiF,GAC5B,MACG2hC,EAAiB,CAChBniC,KAAMQ,EACNpH,IAAKyzB,EAAazzB,IAClBo2B,QAAS3C,EAAa2C,QACtBiD,SAAU5F,EAAa4F,SACvBrW,KAAM,MAEN,OAAShhB,GACH8mC,EAAqB9mC,EAAU+mC,EAChCF,EAAoB7uB,GACpBhY,EAAUA,EAAQghB,KAAO+lB,EAC7Bf,GAAkB5gC,EAEvB,GAAI,QADJqsB,EAAeA,EAAazQ,MAE1B,IAA4C,QAAtCyQ,EAAe3Q,EAAMmlB,OAAOzmC,SAChC,MAGGiyB,GADFsV,EAAiBtV,GACezQ,KAC9B+lB,EAAe/lB,KAAO,KACtBF,EAAMklB,eAAiBe,EACvBjmB,EAAMmlB,OAAOzmC,QAAU,IAAK,CACrC,CACA,OAASQ,IAAY6mC,EAAoB7uB,GACzC8I,EAAM0P,UAAYqW,EAClB/lB,EAAMilB,gBAAkBe,EACxBhmB,EAAMklB,eAAiBhmC,EACvB,OAAS+lC,IAAoBjlB,EAAMmlB,OAAOpiC,MAAQ,GAClDquB,IAAkC8T,EAClCW,EAAwB9iC,MAAQmiC,EAChCW,EAAwB/nC,cAAgBoZ,CAC1C,CACF,CACA,SAASgvB,GAAa3P,EAAUn2B,GAC9B,GAAI,oBAAsBm2B,EACxB,MAAM57B,MAAMnD,EAAuB,IAAK++B,IAC1CA,EAASz6B,KAAKsE,EAChB,CACA,SAAS+lC,GAAgBpY,EAAa3tB,GACpC,IAAIilC,EAAYtX,EAAYsX,UAC5B,GAAI,OAASA,EACX,IACEtX,EAAYsX,UAAY,KAAMtX,EAAc,EAC5CA,EAAcsX,EAAUztC,OACxBm2B,IAEAmY,GAAab,EAAUtX,GAAc3tB,EAC3C,CACA,SAASgmC,GAA0BzoC,EAAO0oC,GACxC,IACE,IAAItY,EAAcsY,EAAatY,YAC7BW,EAAa,OAASX,EAAcA,EAAYW,WAAa,KAC/D,GAAI,OAASA,EAAY,CACvB,IAAI4X,EAAc5X,EAAWxO,KAC7B6N,EAAcuY,EACd,EAAG,CACD,IAAKvY,EAAY7wB,IAAMS,KAAWA,EAAO,CACvC+wB,OAAa,EACb,IAAI6G,EAASxH,EAAYwH,OACvB9uB,EAAOsnB,EAAYtnB,KACrBioB,EAAa6G,IACb9uB,EAAK2rB,QAAU1D,CACjB,CACAX,EAAcA,EAAY7N,IAC5B,OAAS6N,IAAgBuY,EAC3B,CACF,CAAE,MAAOpiB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,CACA,SAASsiB,GACP7oC,EACA0oC,EACAI,GAEA,IACE,IAAI1Y,EAAcsY,EAAatY,YAC7BW,EAAa,OAASX,EAAcA,EAAYW,WAAa,KAC/D,GAAI,OAASA,EAAY,CACvB,IAAI4X,EAAc5X,EAAWxO,KAC7B6N,EAAcuY,EACd,EAAG,CACD,IAAKvY,EAAY7wB,IAAMS,KAAWA,EAAO,CACvC,IAAI8I,EAAOsnB,EAAYtnB,KACrB2rB,EAAU3rB,EAAK2rB,QACjB,QAAI,IAAWA,EAAS,CACtB3rB,EAAK2rB,aAAU,EACf1D,EAAa2X,EACb,IAAIK,EAAyBD,EAC7B,IACErU,GACF,CAAE,MAAOlO,GACPqiB,GACE7X,EACAgY,EACAxiB,EAEJ,CACF,CACF,CACA6J,EAAcA,EAAY7N,IAC5B,OAAS6N,IAAgBuY,EAC3B,CACF,CAAE,MAAOpiB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,CACA,SAASyiB,GAAqBN,GAC5B,IAAItY,EAAcsY,EAAatY,YAC/B,GAAI,OAASA,EAAa,CACxB,IAAIhL,EAAWsjB,EAAa3/B,UAC5B,IACEy/B,GAAgBpY,EAAahL,EAC/B,CAAE,MAAOmB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,CACF,CACA,SAAS0iB,GACP1nC,EACAwnC,EACA3jB,GAEAA,EAASlV,MAAQ2tB,GACft8B,EAAQxF,KACRwF,EAAQ8jB,eAEVD,EAASsH,MAAQnrB,EAAQpB,cACzB,IACEilB,EAAS8jB,sBACX,CAAE,MAAO3iB,GACPqiB,GAAwBrnC,EAASwnC,EAAwBxiB,EAC3D,CACF,CACA,SAAS4iB,GAAgB5nC,EAASwnC,GAChC,IACE,IAAIjhB,EAAMvmB,EAAQumB,IAClB,GAAI,OAASA,EAAK,CAChB,IAAI1C,EAAW7jB,EAAQwH,UACvB,OAAQxH,EAAQhC,KACd,KAAK,GACL,KAAK,GACL,KAAK,EACH,IAAI6pC,EAAgBhkB,EACpB,MACF,QACEgkB,EAAgBhkB,EAEpB,oBAAsB0C,EACjBvmB,EAAQg3B,WAAazQ,EAAIshB,GACzBthB,EAAIvmB,QAAU6nC,CACrB,CACF,CAAE,MAAO7iB,GACPqiB,GAAwBrnC,EAASwnC,EAAwBxiB,EAC3D,CACF,CACA,SAAS8iB,GAAgB9nC,EAASwnC,GAChC,IAAIjhB,EAAMvmB,EAAQumB,IAChByQ,EAAah3B,EAAQg3B,WACvB,GAAI,OAASzQ,EACX,GAAI,oBAAsByQ,EACxB,IACEA,GACF,CAAE,MAAOhS,GACPqiB,GAAwBrnC,EAASwnC,EAAwBxiB,EAC3D,CAAE,QACChlB,EAAQg3B,WAAa,KAEpB,OADCh3B,EAAUA,EAAQxB,aACCwB,EAAQg3B,WAAa,KAC7C,MACG,GAAI,oBAAsBzQ,EAC7B,IACEA,EAAI,KACN,CAAE,MAAOwhB,GACPV,GAAwBrnC,EAASwnC,EAAwBO,EAC3D,MACGxhB,EAAIvmB,QAAU,IACvB,CACA,SAASgoC,GAAgBb,GACvB,IAAI3sC,EAAO2sC,EAAa3sC,KACtBmU,EAAQw4B,EAAarjB,cACrBD,EAAWsjB,EAAa3/B,UAC1B,IACEoH,EAAG,OAAQpU,GACT,IAAK,SACL,IAAK,QACL,IAAK,SACL,IAAK,WACHmU,EAAMs5B,WAAapkB,EAASrF,QAC5B,MAAM5P,EACR,IAAK,MACHD,EAAM+1B,IACD7gB,EAAS6gB,IAAM/1B,EAAM+1B,IACtB/1B,EAAMu5B,SAAWrkB,EAASskB,OAASx5B,EAAMu5B,QAEnD,CAAE,MAAOljB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,CACA,SAASojB,GAAiBjB,EAAcpL,EAAUD,GAChD,IACE,IAAIuM,EAAalB,EAAa3/B,WA+tKlC,SAA0B6gC,EAAYrqC,EAAKsqC,EAAWjN,GACpD,OAAQr9B,GACN,IAAK,MACL,IAAK,OACL,IAAK,MACL,IAAK,OACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACH,MACF,IAAK,QACH,IAAIrD,EAAO,KACTH,EAAO,KACP4C,EAAQ,KACR2C,EAAe,KACf0L,EAAmB,KACnBZ,EAAU,KACVa,EAAiB,KACnB,IAAK68B,KAAWD,EAAW,CACzB,IAAIE,EAAWF,EAAUC,GACzB,GAAID,EAAU/mC,eAAegnC,IAAY,MAAQC,EAC/C,OAAQD,GACN,IAAK,UAEL,IAAK,QACH,MACF,IAAK,eACH98B,EAAmB+8B,EACrB,QACEnN,EAAU95B,eAAegnC,IACvBE,GAAQJ,EAAYrqC,EAAKuqC,EAAS,KAAMlN,EAAWmN,GAE7D,CACA,IAAK,IAAIE,KAAerN,EAAW,CACjC,IAAIkN,EAAUlN,EAAUqN,GAExB,GADAF,EAAWF,EAAUI,GAEnBrN,EAAU95B,eAAemnC,KACxB,MAAQH,GAAW,MAAQC,GAE5B,OAAQE,GACN,IAAK,OACHluC,EAAO+tC,EACP,MACF,IAAK,OACH5tC,EAAO4tC,EACP,MACF,IAAK,UACH19B,EAAU09B,EACV,MACF,IAAK,iBACH78B,EAAiB68B,EACjB,MACF,IAAK,QACHnrC,EAAQmrC,EACR,MACF,IAAK,eACHxoC,EAAewoC,EACf,MACF,IAAK,WACL,IAAK,0BACH,GAAI,MAAQA,EACV,MAAM9sC,MAAMnD,EAAuB,IAAK0F,IAC1C,MACF,QACEuqC,IAAYC,GACVC,GACEJ,EACArqC,EACA0qC,EACAH,EACAlN,EACAmN,GAGZ,CAWA,YAVAj9B,GACE88B,EACAjrC,EACA2C,EACA0L,EACAZ,EACAa,EACAlR,EACAG,GAGJ,IAAK,SAEH,IAAKH,KADL+tC,EAAUnrC,EAAQ2C,EAAe2oC,EAAc,KAClCJ,EACX,GACI78B,EAAmB68B,EAAU9tC,GAC/B8tC,EAAU/mC,eAAe/G,IAAS,MAAQiR,EAE1C,OAAQjR,GACN,IAAK,QACH,MACF,IAAK,WACH+tC,EAAU98B,EACZ,QACE4vB,EAAU95B,eAAe/G,IACvBiuC,GACEJ,EACArqC,EACAxD,EACA,KACA6gC,EACA5vB,GAGZ,IAAK9Q,KAAQ0gC,EACX,GACI7gC,EAAO6gC,EAAU1gC,GAClB8Q,EAAmB68B,EAAU3tC,GAC9B0gC,EAAU95B,eAAe5G,KACtB,MAAQH,GAAQ,MAAQiR,GAE3B,OAAQ9Q,GACN,IAAK,QACH+tC,EAAcluC,EACd,MACF,IAAK,eACHuF,EAAevF,EACf,MACF,IAAK,WACH4C,EAAQ5C,EACV,QACEA,IAASiR,GACPg9B,GACEJ,EACArqC,EACArD,EACAH,EACA6gC,EACA5vB,GAYZ,OATAzN,EAAM+B,EACNuoC,EAAYlrC,EACZi+B,EAAYkN,OACZ,MAAQG,EACJ38B,GAAcs8B,IAAcC,EAAWI,GAAa,KAClDrN,MAAgBiN,IACjB,MAAQtqC,EACL+N,GAAcs8B,IAAcC,EAAWtqC,GAAK,GAC5C+N,GAAcs8B,IAAcC,EAAWA,EAAY,GAAK,IAAI,KAEtE,IAAK,WAEH,IAAKvoC,KADLwoC,EAAUG,EAAc,KACHJ,EACnB,GACI3tC,EAAO2tC,EAAUvoC,GACnBuoC,EAAU/mC,eAAexB,IACvB,MAAQpF,IACP0gC,EAAU95B,eAAexB,GAE5B,OAAQA,GACN,IAAK,QAEL,IAAK,WACH,MACF,QACE0oC,GAAQJ,EAAYrqC,EAAK+B,EAAc,KAAMs7B,EAAW1gC,GAEhE,IAAKyC,KAASi+B,EACZ,GACI1gC,EAAO0gC,EAAUj+B,GAClB5C,EAAO8tC,EAAUlrC,GAClBi+B,EAAU95B,eAAenE,KAAW,MAAQzC,GAAQ,MAAQH,GAE5D,OAAQ4C,GACN,IAAK,QACHsrC,EAAc/tC,EACd,MACF,IAAK,eACH4tC,EAAU5tC,EACV,MACF,IAAK,WACH,MACF,IAAK,0BACH,GAAI,MAAQA,EAAM,MAAMc,MAAMnD,EAAuB,KACrD,MACF,QACEqC,IAASH,GACPiuC,GAAQJ,EAAYrqC,EAAKZ,EAAOzC,EAAM0gC,EAAW7gC,GAG3D,YADA+R,GAAe87B,EAAYK,EAAaH,GAE1C,IAAK,SACH,IAAK,IAAII,KAAeL,EACtB,GACII,EAAcJ,EAAUK,GAC1BL,EAAU/mC,eAAeonC,IACvB,MAAQD,IACPrN,EAAU95B,eAAeonC,GAE5B,GACO,aADCA,EAEJN,EAAWj8B,UAAW,OAGtBq8B,GACEJ,EACArqC,EACA2qC,EACA,KACAtN,EACAqN,GAGV,IAAKj9B,KAAoB4vB,EACvB,GACIqN,EAAcrN,EAAU5vB,GACzB88B,EAAUD,EAAU78B,GACrB4vB,EAAU95B,eAAekK,IACvBi9B,IAAgBH,IACf,MAAQG,GAAe,MAAQH,GAElC,GACO,aADC98B,EAEJ48B,EAAWj8B,SACTs8B,GACA,oBAAsBA,GACtB,kBAAoBA,OAGtBD,GACEJ,EACArqC,EACAyN,EACAi9B,EACArN,EACAkN,GAGV,OACF,IAAK,MACL,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,KACL,IAAK,MACL,IAAK,QACL,IAAK,KACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,SACL,IAAK,QACL,IAAK,MACL,IAAK,WACH,IAAK,IAAIK,KAAeN,EACrBI,EAAcJ,EAAUM,GACvBN,EAAU/mC,eAAeqnC,IACvB,MAAQF,IACPrN,EAAU95B,eAAeqnC,IAC1BH,GAAQJ,EAAYrqC,EAAK4qC,EAAa,KAAMvN,EAAWqN,GAC7D,IAAK79B,KAAWwwB,EACd,GACIqN,EAAcrN,EAAUxwB,GACzB09B,EAAUD,EAAUz9B,GACrBwwB,EAAU95B,eAAesJ,IACvB69B,IAAgBH,IACf,MAAQG,GAAe,MAAQH,GAElC,OAAQ19B,GACN,IAAK,WACL,IAAK,0BACH,GAAI,MAAQ69B,EACV,MAAMjtC,MAAMnD,EAAuB,IAAK0F,IAC1C,MACF,QACEyqC,GACEJ,EACArqC,EACA6M,EACA69B,EACArN,EACAkN,GAGV,OACF,QACE,GAAI16B,GAAgB7P,GAAM,CACxB,IAAK,IAAI6qC,KAAeP,EACrBI,EAAcJ,EAAUO,GACvBP,EAAU/mC,eAAesnC,SACvB,IAAWH,IACVrN,EAAU95B,eAAesnC,IAC1BC,GACET,EACArqC,EACA6qC,OACA,EACAxN,EACAqN,GAER,IAAKh9B,KAAkB2vB,EACpBqN,EAAcrN,EAAU3vB,GACtB68B,EAAUD,EAAU58B,IACpB2vB,EAAU95B,eAAemK,IACxBg9B,IAAgBH,QACf,IAAWG,QAAe,IAAWH,GACtCO,GACET,EACArqC,EACA0N,EACAg9B,EACArN,EACAkN,GAER,MACF,EAEJ,IAAK,IAAIQ,KAAeT,EACrBI,EAAcJ,EAAUS,GACvBT,EAAU/mC,eAAewnC,IACvB,MAAQL,IACPrN,EAAU95B,eAAewnC,IAC1BN,GAAQJ,EAAYrqC,EAAK+qC,EAAa,KAAM1N,EAAWqN,GAC7D,IAAKF,KAAYnN,EACdqN,EAAcrN,EAAUmN,GACtBD,EAAUD,EAAUE,IACpBnN,EAAU95B,eAAeinC,IACxBE,IAAgBH,GACf,MAAQG,GAAe,MAAQH,GAChCE,GAAQJ,EAAYrqC,EAAKwqC,EAAUE,EAAarN,EAAWkN,EACnE,CAtiLIS,CAAiBX,EAAYlB,EAAa3sC,KAAMshC,EAAUC,GAC1DsM,EAAW5hC,IAAoBs1B,CACjC,CAAE,MAAO/W,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,CACA,SAASikB,GAAalrC,GACpB,OACE,IAAMA,EAAMC,KACZ,IAAMD,EAAMC,KACZ,KAAOD,EAAMC,KACb,KAAOD,EAAMC,KACb,IAAMD,EAAMC,GAEhB,CACA,SAASkrC,GAAenrC,GACtB6Q,EAAG,OAAS,CACV,KAAO,OAAS7Q,EAAMkB,SAAW,CAC/B,GAAI,OAASlB,EAAMK,QAAU6qC,GAAalrC,EAAMK,QAAS,OAAO,KAChEL,EAAQA,EAAMK,MAChB,CAEA,IADAL,EAAMkB,QAAQb,OAASL,EAAMK,OAE3BL,EAAQA,EAAMkB,QACd,IAAMlB,EAAMC,KACZ,IAAMD,EAAMC,KACZ,KAAOD,EAAMC,KACb,KAAOD,EAAMC,KAEb,CACA,GAAkB,EAAdD,EAAMU,MAAW,SAASmQ,EAC9B,GAAI,OAAS7Q,EAAMiB,OAAS,IAAMjB,EAAMC,IAAK,SAAS4Q,EAChD7Q,EAAMiB,MAAMZ,OAASL,EAASA,EAAQA,EAAMiB,KACpD,CACA,KAAoB,EAAdjB,EAAMU,OAAY,OAAOV,EAAMyJ,SACvC,CACF,CACA,SAAS2hC,GAAyCrwC,EAAMswC,EAAQ5nB,GAC9D,IAAIxjB,EAAMlF,EAAKkF,IACf,GAAI,IAAMA,GAAO,IAAMA,EACpBlF,EAAOA,EAAK0O,UACX4hC,EACI,IAAM5nB,EAAOzoB,SACXyoB,EAAO3gB,WAAWwoC,aAAavwC,EAAMswC,GACrC5nB,EAAO6nB,aAAavwC,EAAMswC,IAC3B,IAAM5nB,EAAOzoB,UACRqwC,EAAS5nB,EAAO3gB,YAAoBwoC,aAAavwC,EAAM0oB,IACvD4nB,EAAS5nB,GAAgB8nB,YAAYxwC,GAE1C,QADA0oB,EAASA,EAAO+nB,2BACG,IAAW/nB,GAC7B,OAAS4nB,EAAO7kB,UACf6kB,EAAO7kB,QAAUC,UACvB,GAAI,IAAMxmB,GAAO,KAAOA,GAA6B,QAApBlF,EAAOA,EAAKkG,OAChD,IACEmqC,GAAyCrwC,EAAMswC,EAAQ5nB,GACrD1oB,EAAOA,EAAKmG,QACd,OAASnG,GAGTqwC,GAAyCrwC,EAAMswC,EAAQ5nB,GACpD1oB,EAAOA,EAAKmG,OACrB,CACA,SAASuqC,GAA4B1wC,EAAMswC,EAAQ5nB,GACjD,IAAIxjB,EAAMlF,EAAKkF,IACf,GAAI,IAAMA,GAAO,IAAMA,EACpBlF,EAAOA,EAAK0O,UACX4hC,EAAS5nB,EAAO6nB,aAAavwC,EAAMswC,GAAU5nB,EAAO8nB,YAAYxwC,QAC/D,GAAI,IAAMkF,GAAO,KAAOA,GAA6B,QAApBlF,EAAOA,EAAKkG,OAChD,IACEwqC,GAA4B1wC,EAAMswC,EAAQ5nB,GAAS1oB,EAAOA,EAAKmG,QAC/D,OAASnG,GAGT0wC,GAA4B1wC,EAAMswC,EAAQ5nB,GAAU1oB,EAAOA,EAAKmG,OACtE,CACA,IAAIwqC,IAA2B,EAC7BC,IAA4B,EAC5BC,IAAiB,EACjBC,GAAkB,oBAAsBC,QAAUA,QAAU7hC,IAC5D8hC,GAAa,KACbC,IAAoC,EA8JtC,SAASC,GAA0BC,EAAcjqC,EAASmnC,GACxD,IAAI1oC,EAAQ0oC,EAAa1oC,MACzB,OAAQ0oC,EAAanpC,KACnB,KAAK,EACL,KAAK,GACL,KAAK,GACHksC,GAAiCD,EAAc9C,GACvC,EAAR1oC,GAAayoC,GAA0B,EAAGC,GAC1C,MACF,KAAK,EAEH,GADA+C,GAAiCD,EAAc9C,GACnC,EAAR1oC,EACF,GAAMwrC,EAAe9C,EAAa3/B,UAAY,OAASxH,EACrD,IACEiqC,EAAa3J,mBACf,CAAE,MAAOtb,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,KACG,CACH,IAAIia,EAAY3C,GACd6K,EAAa3sC,KACbwF,EAAQ8jB,eAEV9jB,EAAUA,EAAQpB,cAClB,IACEqrC,EAAanJ,mBACX7B,EACAj/B,EACAiqC,EAAaE,oCAEjB,CAAE,MAAOC,GACP/C,GACEF,EACAA,EAAa/oC,OACbgsC,EAEJ,CACF,CACM,GAAR3rC,GAAcgpC,GAAqBN,GAC3B,IAAR1oC,GAAempC,GAAgBT,EAAcA,EAAa/oC,QAC1D,MACF,KAAK,EAEH,GADA8rC,GAAiCD,EAAc9C,GACnC,GAAR1oC,GAAmD,QAAnCA,EAAQ0oC,EAAatY,aAA+B,CAEtE,GADAob,EAAe,KACX,OAAS9C,EAAanoC,MACxB,OAAQmoC,EAAanoC,MAAMhB,KACzB,KAAK,GACL,KAAK,EAGL,KAAK,EACHisC,EAAe9C,EAAanoC,MAAMwI,UAExC,IACEy/B,GAAgBxoC,EAAOwrC,EACzB,CAAE,MAAOjlB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,CACA,MACF,KAAK,GACHklB,GAAiCD,EAAc9C,GACvC,IAAR1oC,GAAempC,GAAgBT,EAAcA,EAAa/oC,QAC1D,MACF,KAAK,GACL,KAAK,EACH8rC,GAAiCD,EAAc9C,GAC/C,OAASnnC,GAAmB,EAARvB,GAAaupC,GAAgBb,GACzC,IAAR1oC,GAAempC,GAAgBT,EAAcA,EAAa/oC,QAC1D,MACF,KAAK,GAgCL,QACE8rC,GAAiCD,EAAc9C,SA9BjD,KAAK,GACH+C,GAAiCD,EAAc9C,GACvC,EAAR1oC,GAAa4rC,GAAiCJ,EAAc9C,GAC5D,MACF,KAAK,GAGH,KAFAlI,EACE,OAASkI,EAAavoC,eAAiB6qC,IACzB,CACdzpC,EACG,OAASA,GAAW,OAASA,EAAQpB,eACtC8qC,GACF,IAAIY,EAA+Bb,GACjCc,EAAgCb,GAClCD,GAA2BxK,GAC1ByK,GAA4B1pC,KAAauqC,EACtCC,GACEP,EACA9C,EACA,KAAmC,KAA5BA,EAAa1E,eAEtByH,GAAiCD,EAAc9C,GACnDsC,GAA2Ba,EAC3BZ,GAA4Ba,CAC9B,CACQ,IAAR9rC,IACG,WAAa0oC,EAAarjB,cAAcoE,KACrC0f,GAAgBT,EAAcA,EAAa/oC,QAC3C0pC,GAAgBX,EAAcA,EAAa/oC,SAKvD,CACA,SAASqsC,GAAwB1sC,GAC/B,IAAIS,EAAYT,EAAMS,UACtB,OAASA,IACLT,EAAMS,UAAY,KAAOisC,GAAwBjsC,IACrDT,EAAMiB,MAAQ,KACdjB,EAAMopB,UAAY,KAClBppB,EAAMkB,QAAU,KAChB,IAAMlB,EAAMC,MAEV,QADEQ,EAAYT,EAAMyJ,YACER,GAAsBxI,IAC9CT,EAAMyJ,UAAY,KAClBzJ,EAAMK,OAAS,KACfL,EAAMqK,aAAe,KACrBrK,EAAM+lB,cAAgB,KACtB/lB,EAAMa,cAAgB,KACtBb,EAAM0pB,aAAe,KACrB1pB,EAAMyJ,UAAY,KAClBzJ,EAAM8wB,YAAc,IACtB,CACA,IAAI6b,GAAa,KACfC,IAAwB,EAC1B,SAASC,GACPX,EACAzC,EACAhmB,GAEA,IAAKA,EAASA,EAAOxiB,MAAO,OAASwiB,GACnCqpB,GAA6BZ,EAAczC,EAAwBhmB,GAChEA,EAASA,EAAOviB,OACvB,CACA,SAAS4rC,GACPZ,EACAzC,EACAsD,GAEA,GAAI5nC,IAAgB,oBAAsBA,GAAa6nC,qBACrD,IACE7nC,GAAa6nC,qBAAqB9nC,GAAY6nC,EAChD,CAAE,MAAOxnC,GAAM,CACjB,OAAQwnC,EAAa9sC,KACnB,KAAK,GACH0rC,IACE5B,GAAgBgD,EAActD,GAChCoD,GACEX,EACAzC,EACAsD,GAEFA,EAAalsC,cACTksC,EAAalsC,cAAcosC,QAC3BF,EAAatjC,YACXsjC,EAAeA,EAAatjC,WACjB3G,WAAWoqC,YAAYH,GACxC,MACF,KAAK,GACHpB,IACE5B,GAAgBgD,EAActD,GAChC,IAAI0D,EAAiBR,GACnBS,EAA4BR,GAQ9B,IAPAD,GAAaI,EAAatjC,UAC1BojC,GACEX,EACAzC,EACAsD,GAIAtD,GAFFsD,EAAeA,EAAatjC,WAEY4jC,WACtC5D,EAAuB9uC,QAGvBoyC,EAAaO,oBAAoB7D,EAAuB,IAC1DxgC,GAAsB8jC,GACtBJ,GAAaQ,EACbP,GAAwBQ,EACxB,MACF,KAAK,EACHzB,IACE5B,GAAgBgD,EAActD,GAClC,KAAK,EACH2D,EAA4BT,GAC5B,IAAIY,EAAgCX,GASpC,GARAD,GAAa,KACbE,GACEX,EACAzC,EACAsD,GAGFH,GAAwBW,EACpB,QAFJZ,GAAaS,GAGX,GAAIR,GACF,IACGV,EAAeS,GACbQ,EAAiBJ,EAAatjC,UAC/B,IAAMyiC,EAAalxC,SACfkxC,EAAappC,WAAWoqC,YAAYC,GACpCjB,EAAagB,YAAYC,EACjC,CAAE,MAAOlmB,GACPqiB,GACEyD,EACAtD,EACAxiB,EAEJ,MAEA,IACE0lB,GAAWO,YAAYH,EAAatjC,UACtC,CAAE,MAAOwd,GACPqiB,GACEyD,EACAtD,EACAxiB,EAEJ,CACJ,MACF,KAAK,GACH,OAAS0lB,KACNC,IACKnD,EAAyBkD,GAC1BI,EAAeA,EAAatjC,UAC7B,IAAMggC,EAAuBzuC,SACzBwyC,GACE/D,EAAuB3mC,WACvBiqC,GAEF,IAAMtD,EAAuBzuC,UAC7BwyC,GAAsB/D,EAAwBsD,GAClDU,GAAiBhE,IACjB+D,GAAsBb,GAAYI,EAAatjC,YACrD,MACF,KAAK,EACH0jC,EAAiBR,GACjBS,EAA4BR,GAC5BD,GAAaI,EAAatjC,UAAU+U,cACpCouB,IAAwB,EACxBC,GACEX,EACAzC,EACAsD,GAEFJ,GAAaQ,EACbP,GAAwBQ,EACxB,MACF,KAAK,EACL,KAAK,GACL,KAAK,GACL,KAAK,GACHzB,IACEpC,GAA4B,EAAGwD,EAActD,GAC/CkC,IACEpC,GAA4B,EAAGwD,EAActD,GAC/CoD,GACEX,EACAzC,EACAsD,GAEF,MACF,KAAK,EACHpB,KACG5B,GAAgBgD,EAActD,GAE/B,oBADC0D,EAAiBJ,EAAatjC,WACMmgC,sBACnCD,GACEoD,EACAtD,EACA0D,IAENN,GACEX,EACAzC,EACAsD,GAEF,MACF,KAAK,GACHF,GACEX,EACAzC,EACAsD,GAEF,MACF,KAAK,GACHpB,IACE5B,GAAgBgD,EAActD,GAChCkC,IACGwB,EAAiBxB,KAClB,OAASoB,EAAalsC,cACxBgsC,GACEX,EACAzC,EACAsD,GAEFpB,GAA4BwB,EAC5B,MACF,QACEN,GACEX,EACAzC,EACAsD,GAGR,CACA,SAAST,GAAiCJ,EAAc9C,GACtD,GACE,OAASA,EAAavoC,gBAEtB,QADEqrC,EAAe9C,EAAa3oC,aAG5B,QADEyrC,EAAeA,EAAarrC,gBAEe,QAAzCqrC,EAAeA,EAAaprC,cAElC,IACE2sC,GAAiBvB,EACnB,CAAE,MAAOjlB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACJ,CAqBA,SAASymB,GAA6BtE,EAAcuE,GAClD,IAAIC,EArBN,SAAuBxE,GACrB,OAAQA,EAAanpC,KACnB,KAAK,GACL,KAAK,GACH,IAAI2tC,EAAaxE,EAAa3/B,UAG9B,OAFA,OAASmkC,IACNA,EAAaxE,EAAa3/B,UAAY,IAAIoiC,IACtC+B,EACT,KAAK,GACH,OAGE,QADCA,GADAxE,EAAeA,EAAa3/B,WACFokC,eAExBD,EAAaxE,EAAayE,YAAc,IAAIhC,IAC/C+B,EAEJ,QACE,MAAMlwC,MAAMnD,EAAuB,IAAK6uC,EAAanpC,MAE3D,CAEmB6tC,CAAc1E,GAC/BuE,EAAUjiB,SAAQ,SAAUqiB,GAC1B,IAAIC,EAAQC,GAAqBjZ,KAAK,KAAMoU,EAAc2E,GAC1DH,EAAWp+B,IAAIu+B,KACZH,EAAWrjC,IAAIwjC,GAAWA,EAAS1mB,KAAK2mB,EAAOA,GACpD,GACF,CACA,SAASE,GAAmCC,EAAeC,GACzD,IAAIhlB,EAAYglB,EAAYhlB,UAC5B,GAAI,OAASA,EACX,IAAK,IAAIvuB,EAAI,EAAGA,EAAIuuB,EAAUzuB,OAAQE,IAAK,CACzC,IAAIsuB,EAAgBC,EAAUvuB,GAC5BoL,EAAOkoC,EACPzlB,EAAc0lB,EACd3qB,EAASiF,EACX7X,EAAG,KAAO,OAAS4S,GAAU,CAC3B,OAAQA,EAAOxjB,KACb,KAAK,GACL,KAAK,EACH0sC,GAAalpB,EAAOha,UACpBmjC,IAAwB,EACxB,MAAM/7B,EACR,KAAK,EAIL,KAAK,EACH87B,GAAalpB,EAAOha,UAAU+U,cAC9BouB,IAAwB,EACxB,MAAM/7B,EAEV4S,EAASA,EAAOpjB,MAClB,CACA,GAAI,OAASssC,GAAY,MAAMjvC,MAAMnD,EAAuB,MAC5DuyC,GAA6B7mC,EAAMyiB,EAAaS,GAChDwjB,GAAa,KACbC,IAAwB,EAExB,QADA3mC,EAAOkjB,EAAc1oB,aACHwF,EAAK5F,OAAS,MAChC8oB,EAAc9oB,OAAS,IACzB,CACF,GAA+B,MAA3B+tC,EAAY1J,aACd,IAAK0J,EAAcA,EAAYntC,MAAO,OAASmtC,GAC7CC,GAA6BD,EAAaD,GACvCC,EAAcA,EAAYltC,OACnC,CACA,IAAIotC,GAAuB,KAC3B,SAASD,GAA6BjF,EAAcnjC,GAClD,IAAIhE,EAAUmnC,EAAa3oC,UACzBC,EAAQ0oC,EAAa1oC,MACvB,OAAQ0oC,EAAanpC,KACnB,KAAK,EACL,KAAK,GACL,KAAK,GACL,KAAK,GACHiuC,GAAmCjoC,EAAMmjC,GACzCmF,GAA4BnF,GACpB,EAAR1oC,IACG6oC,GAA4B,EAAGH,EAAcA,EAAa/oC,QAC3D8oC,GAA0B,EAAGC,GAC7BG,GAA4B,EAAGH,EAAcA,EAAa/oC,SAC5D,MACF,KAAK,EACH6tC,GAAmCjoC,EAAMmjC,GACzCmF,GAA4BnF,GACpB,IAAR1oC,IACGirC,IACC,OAAS1pC,GACT8nC,GAAgB9nC,EAASA,EAAQ5B,SAC7B,GAARK,GACEgrC,KAEA,QADEtC,EAAeA,EAAatY,eAG5B,QADEpwB,EAAQ0oC,EAAahB,aAEnBnmC,EAAUmnC,EAAalB,OAAOC,gBAC/BiB,EAAalB,OAAOC,gBACnB,OAASlmC,EAAUvB,EAAQuB,EAAQk3B,OAAOz4B,MAClD,MACF,KAAK,GACH,IAAI8tC,EAAgBF,GAOpB,GANAJ,GAAmCjoC,EAAMmjC,GACzCmF,GAA4BnF,GACpB,IAAR1oC,IACGirC,IACC,OAAS1pC,GACT8nC,GAAgB9nC,EAASA,EAAQ5B,SACzB,EAARK,EAAW,CACb,IAAI+tC,EAAkB,OAASxsC,EAAUA,EAAQpB,cAAgB,KAEjE,GADAH,EAAQ0oC,EAAavoC,cACjB,OAASoB,EACX,GAAI,OAASvB,EACX,GAAI,OAAS0oC,EAAa3/B,UAAW,CACnCoH,EAAG,CACDnQ,EAAQ0oC,EAAa3sC,KACrBwF,EAAUmnC,EAAarjB,cACvByoB,EAAgBA,EAAczgC,eAAiBygC,EAC/Cp9B,EAAG,OAAQ1Q,GACT,IAAK,WACH+tC,EACED,EAAcE,qBAAqB,SAAS,KAG5CD,EAAgBzlC,KAChBylC,EAAgBhmC,KAChB,+BACEgmC,EAAgB7rC,cAClB6rC,EAAgBnI,aAAa,eAE5BmI,EAAkBD,EAAc9jC,cAAchK,GAC7C8tC,EAAcG,KAAKrD,aACjBmD,EACAD,EAAcI,cAAc,kBAElCzI,GAAqBsI,EAAiB/tC,EAAOuB,GAC7CwsC,EAAgBhmC,IAAuB2gC,EACvCr/B,GAAoB0kC,GACpB/tC,EAAQ+tC,EACR,MAAM59B,EACR,IAAK,OACH,IAAIg+B,EAAaC,GACf,OACA,OACAN,GACApiC,IAAI1L,GAASuB,EAAQ2c,MAAQ,KAC/B,GAAIiwB,EACF,IAAK,IAAIh0C,EAAI,EAAGA,EAAIg0C,EAAWl0C,OAAQE,IACrC,IACI4zC,EAAkBI,EAAWh0C,IACf0rC,aAAa,WAC1B,MAAQtkC,EAAQ2c,KAAO,KAAO3c,EAAQ2c,OACvC6vB,EAAgBlI,aAAa,UAC1B,MAAQtkC,EAAQukC,IAAM,KAAOvkC,EAAQukC,MACxCiI,EAAgBlI,aAAa,YAC1B,MAAQtkC,EAAQykC,MAAQ,KAAOzkC,EAAQykC,QAC1C+H,EAAgBlI,aAAa,kBAC1B,MAAQtkC,EAAQwkC,YACb,KACAxkC,EAAQwkC,aAChB,CACAoI,EAAWE,OAAOl0C,EAAG,GACrB,MAAMuW,CACR,CAEJ+0B,GADAsI,EAAkBD,EAAc9jC,cAAchK,GACRA,EAAOuB,GAC7CusC,EAAcG,KAAKpD,YAAYkD,GAC/B,MACF,IAAK,OACH,GACGI,EAAaC,GACZ,OACA,UACAN,GACApiC,IAAI1L,GAASuB,EAAQ+sC,SAAW,KAElC,IAAKn0C,EAAI,EAAGA,EAAIg0C,EAAWl0C,OAAQE,IACjC,IACI4zC,EAAkBI,EAAWh0C,IACf0rC,aAAa,cAC1B,MAAQtkC,EAAQ+sC,QACb,KACA,GAAK/sC,EAAQ+sC,UACjBP,EAAgBlI,aAAa,WAC1B,MAAQtkC,EAAQrF,KAAO,KAAOqF,EAAQrF,OACzC6xC,EAAgBlI,aAAa,eAC1B,MAAQtkC,EAAQgtC,SACb,KACAhtC,EAAQgtC,WACdR,EAAgBlI,aAAa,iBAC1B,MAAQtkC,EAAQitC,UACb,KACAjtC,EAAQitC,YACdT,EAAgBlI,aAAa,cAC1B,MAAQtkC,EAAQktC,QACb,KACAltC,EAAQktC,SAChB,CACAN,EAAWE,OAAOl0C,EAAG,GACrB,MAAMuW,CACR,CAEJ+0B,GADAsI,EAAkBD,EAAc9jC,cAAchK,GACRA,EAAOuB,GAC7CusC,EAAcG,KAAKpD,YAAYkD,GAC/B,MACF,QACE,MAAM/wC,MAAMnD,EAAuB,IAAKmG,IAE5C+tC,EAAgBhmC,IAAuB2gC,EACvCr/B,GAAoB0kC,GACpB/tC,EAAQ+tC,CACV,CACArF,EAAa3/B,UAAY/I,CAC3B,MACE0uC,GACEZ,EACApF,EAAa3sC,KACb2sC,EAAa3/B,gBAGjB2/B,EAAa3/B,UAAY4lC,GACvBb,EACA9tC,EACA0oC,EAAarjB,oBAGjB0oB,IAAoB/tC,GACf,OAAS+tC,EACN,OAASxsC,EAAQwH,YACfxH,EAAUA,EAAQwH,WACZ3G,WAAWoqC,YAAYjrC,GAC/BwsC,EAAgBxB,QACpB,OAASvsC,EACL0uC,GACEZ,EACApF,EAAa3sC,KACb2sC,EAAa3/B,WAEf4lC,GACEb,EACA9tC,EACA0oC,EAAarjB,gBAEnB,OAASrlB,GACT,OAAS0oC,EAAa3/B,WACtB4gC,GACEjB,EACAA,EAAarjB,cACb9jB,EAAQ8jB,cAElB,CACA,MACF,KAAK,GACH,GAAY,EAARrlB,GAAa,OAAS0oC,EAAa3oC,UAAW,CAChD+tC,EAAgBpF,EAAa3/B,UAC7BglC,EAAkBrF,EAAarjB,cAC/B,IACE,IAAK,IAAIhrB,EAAOyzC,EAAc1/B,WAAY/T,GAAQ,CAChD,IAAIu0C,EAAWv0C,EAAKkjB,YAClBpS,EAAW9Q,EAAK8Q,SAClB9Q,EAAKiO,KACH,SAAW6C,GACX,SAAWA,GACX,WAAaA,GACb,UAAYA,GACX,SAAWA,GACV,eAAiB9Q,EAAKyrC,IAAIp7B,eAC5BojC,EAActB,YAAYnyC,GAC5BA,EAAOu0C,CACT,CACA,IACE,IAAI7yC,EAAO2sC,EAAa3sC,KAAM4wC,EAAamB,EAAcnB,WACzDA,EAAW1yC,QAGX6zC,EAAclB,oBAAoBD,EAAW,IAC/ClH,GAAqBqI,EAAe/xC,EAAMgyC,GAC1CD,EAAc/lC,IAAuB2gC,EACrCoF,EAAc9lC,IAAoB+lC,CACpC,CAAE,MAAOxnB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,CACF,KAAK,EAOH,GANAinB,GAAmCjoC,EAAMmjC,GACzCmF,GAA4BnF,GACpB,IAAR1oC,IACGirC,IACC,OAAS1pC,GACT8nC,GAAgB9nC,EAASA,EAAQ5B,SACZ,GAArB+oC,EAAa1oC,MAAY,CAC3B8tC,EAAgBpF,EAAa3/B,UAC7B,IACEmF,GAAe4/B,EAAe,GAChC,CAAE,MAAOvnB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,CACQ,EAARvmB,GACE,MAAQ0oC,EAAa3/B,WAErB4gC,GACEjB,EAFAoF,EAAgBpF,EAAarjB,cAI7B,OAAS9jB,EAAUA,EAAQ8jB,cAAgByoB,GAEvC,KAAR9tC,IAAiBkrC,IAAiB,GAClC,MACF,KAAK,EAGH,GAFAsC,GAAmCjoC,EAAMmjC,GACzCmF,GAA4BnF,GAChB,EAAR1oC,EAAW,CACb,GAAI,OAAS0oC,EAAa3/B,UACxB,MAAM/L,MAAMnD,EAAuB,MACrCmG,EAAQ0oC,EAAarjB,cACrB9jB,EAAUmnC,EAAa3/B,UACvB,IACExH,EAAQ+M,UAAYtO,CACtB,CAAE,MAAOumB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,CACA,MACF,KAAK,EAOH,GANAsoB,GAAY,KACZf,EAAgBF,GAChBA,GAAuBkB,GAAiBvpC,EAAKuY,eAC7C0vB,GAAmCjoC,EAAMmjC,GACzCkF,GAAuBE,EACvBD,GAA4BnF,GAChB,EAAR1oC,GAAa,OAASuB,GAAWA,EAAQpB,cAAcmlC,aACzD,IACEyH,GAAiBxnC,EAAKuY,cACxB,CAAE,MAAOyI,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF2kB,KACIA,IAAiB,EAAK6D,GAAsBrG,IAChD,MACF,KAAK,EACH1oC,EAAQ4tC,GACRA,GAAuBkB,GACrBpG,EAAa3/B,UAAU+U,eAEzB0vB,GAAmCjoC,EAAMmjC,GACzCmF,GAA4BnF,GAC5BkF,GAAuB5tC,EACvB,MACF,KAAK,GACHwtC,GAAmCjoC,EAAMmjC,GACzCmF,GAA4BnF,GAC5B,MACF,KAAK,GACH8E,GAAmCjoC,EAAMmjC,GACzCmF,GAA4BnF,GACD,KAA3BA,EAAanoC,MAAMP,OAChB,OAAS0oC,EAAavoC,iBACpB,OAASoB,GAAW,OAASA,EAAQpB,iBACvC6uC,GAA+BzrC,MAC1B,EAARvD,IAEE,QADEA,EAAQ0oC,EAAatY,eAEnBsY,EAAatY,YAAc,KAC7B4c,GAA6BtE,EAAc1oC,KAC/C,MACF,KAAK,GAmBH,GAlBQ,IAARA,IACGirC,IACC,OAAS1pC,GACT8nC,GAAgB9nC,EAASA,EAAQ5B,SACrCtF,EAAO,OAASquC,EAAavoC,cAC7ByuC,EAAW,OAASrtC,GAAW,OAASA,EAAQpB,cAGhD6qC,IAFA7/B,EAAW6/B,KAE4B3wC,EACvC4wC,IAFAlvC,EAAOkvC,KAE6B2D,EACpCpB,GAAmCjoC,EAAMmjC,GACzCuC,GAA4BlvC,EAC5BivC,GAA2B7/B,EAC3B0iC,GAA4BnF,IAC5BnjC,EAAOmjC,EAAa3/B,WACfkmC,SAAWvG,EAChBnjC,EAAK0d,cAAgB,EACrB1d,EAAK0d,aAAyC,EAA1B1d,EAAKq7B,mBAEf,KAAR5gC,IACEuF,EAAK0d,YAAc5oB,GACG,EAApBkL,EAAK0d,YACc,EAAnB1d,EAAK0d,YACT5oB,IACIkL,EAAOylC,IAA4BC,GACrC,OAAS1pC,GACPqtC,GACArpC,GACA2pC,GAA0CxG,IAC9C,OAASA,EAAarjB,eACpB,WAAaqjB,EAAarjB,cAAcoE,MAE1CtZ,EAAG,IAAK5O,EAAU,KAAMgE,EAAOmjC,IAAkB,CAC/C,GAAI,IAAMnjC,EAAKhG,KAAO,KAAOgG,EAAKhG,KAAO,KAAOgG,EAAKhG,KACnD,GAAI,OAASgC,EAAS,CACpBqtC,EAAWrtC,EAAUgE,EACrB,IACE,GAAMuoC,EAAgBc,EAAS7lC,UAAY1O,EAEvC,oBADD0zC,EAAkBD,EAAcr/B,OACOG,YAClCm/B,EAAgBn/B,YACd,UACA,OACA,aAEDm/B,EAAgBoB,QAAU,WAC9B,CACHhB,EAAaS,EAAS7lC,UAEtB,IAAIomC,OACF,KAFFh1C,EAAIy0C,EAASvpB,cAAc5W,QAET,OAAStU,GAAKA,EAAE2I,eAAe,WAC3C3I,EAAEg1C,QACF,KACNhB,EAAW1/B,MAAM0gC,QACf,MAAQA,GAAW,mBAAqBA,EACpC,IACC,GAAKA,GAAShyC,MACvB,CACF,CAAE,MAAOopB,GACPqiB,GAAwBgG,EAAUA,EAASjvC,OAAQ4mB,EACrD,CACF,OACK,GAAI,IAAMhhB,EAAKhG,KACpB,GAAI,OAASgC,EAAS,CACpBqtC,EAAWrpC,EACX,IACEqpC,EAAS7lC,UAAUuF,UAAYjU,EAC3B,GACAu0C,EAASvpB,aACf,CAAE,MAAOkB,GACPqiB,GAAwBgG,EAAUA,EAASjvC,OAAQ4mB,EACrD,CACF,OACK,IACH,KAAOhhB,EAAKhG,KAAO,KAAOgG,EAAKhG,KAC/B,OAASgG,EAAKpF,eACdoF,IAASmjC,IACX,OAASnjC,EAAKhF,MACd,CACAgF,EAAKhF,MAAMZ,OAAS4F,EACpBA,EAAOA,EAAKhF,MACZ,QACF,CACA,GAAIgF,IAASmjC,EAAc,MAAMv4B,EACjC,KAAO,OAAS5K,EAAK/E,SAAW,CAC9B,GAAI,OAAS+E,EAAK5F,QAAU4F,EAAK5F,SAAW+oC,EAAc,MAAMv4B,EAChE5O,IAAYgE,IAAShE,EAAU,MAC/BgE,EAAOA,EAAK5F,MACd,CACA4B,IAAYgE,IAAShE,EAAU,MAC/BgE,EAAK/E,QAAQb,OAAS4F,EAAK5F,OAC3B4F,EAAOA,EAAK/E,OACd,CACM,EAARR,IAEE,QADEA,EAAQ0oC,EAAatY,eAGrB,QADE7uB,EAAUvB,EAAMovC,cAEdpvC,EAAMovC,WAAa,KACrBpC,GAA6BtE,EAAcnnC,MACjD,MACF,KAAK,GACHisC,GAAmCjoC,EAAMmjC,GACzCmF,GAA4BnF,GACpB,EAAR1oC,IAEE,QADEA,EAAQ0oC,EAAatY,eAEnBsY,EAAatY,YAAc,KAC7B4c,GAA6BtE,EAAc1oC,KAC/C,MACF,KAAK,GACH,MACF,QACEwtC,GAAmCjoC,EAAMmjC,GACvCmF,GAA4BnF,GAEpC,CACA,SAASmF,GAA4BnF,GACnC,IAAI1oC,EAAQ0oC,EAAa1oC,MACzB,GAAY,EAARA,EAAW,CACb,IACE,GAAI,KAAO0oC,EAAanpC,IAAK,CAC3B4Q,EAAG,CACD,IAAK,IAAI4S,EAAS2lB,EAAa/oC,OAAQ,OAASojB,GAAU,CACxD,GAAIynB,GAAaznB,GAAS,CACxB,IAAIrgB,EAA2BqgB,EAC/B,MAAM5S,CACR,CACA4S,EAASA,EAAOpjB,MAClB,CACA,MAAM3C,MAAMnD,EAAuB,KACrC,CACA,OAAQ6I,EAAyBnD,KAC/B,KAAK,GACH,IAAI8vC,EAAkB3sC,EAAyBqG,UAE/CgiC,GAA4BrC,EADjB+B,GAAe/B,GACwB2G,GAClD,MACF,KAAK,EACH,IAAIC,EAAa5sC,EAAyBqG,UACT,GAAjCrG,EAAyB1C,QACtBkO,GAAeohC,EAAY,IAC3B5sC,EAAyB1C,QAAU,IAEtC+qC,GAA4BrC,EADX+B,GAAe/B,GACsB4G,GACtD,MACF,KAAK,EACL,KAAK,EACH,IAAIC,EAAa7sC,EAAyBqG,UAAU+U,cAEpD4sB,GACEhC,EAFa+B,GAAe/B,GAI5B6G,GAEF,MACF,QACE,MAAMvyC,MAAMnD,EAAuB,MAEzC,CACF,CAAE,MAAO0sB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACAmiB,EAAa1oC,QAAU,CACzB,CACQ,KAARA,IAAiB0oC,EAAa1oC,QAAU,KAC1C,CACA,SAAS+uC,GAAsBrB,GAC7B,GAA+B,KAA3BA,EAAY1J,aACd,IAAK0J,EAAcA,EAAYntC,MAAO,OAASmtC,GAAe,CAC5D,IAAIpuC,EAAQouC,EACZqB,GAAsBzvC,GACtB,IAAMA,EAAMC,KAAqB,KAAdD,EAAMU,OAAgBV,EAAMyJ,UAAUymC,QACzD9B,EAAcA,EAAYltC,OAC5B,CACJ,CACA,SAASirC,GAAiClmC,EAAMmoC,GAC9C,GAA+B,KAA3BA,EAAY1J,aACd,IAAK0J,EAAcA,EAAYntC,MAAO,OAASmtC,GAC7CnC,GAA0BhmC,EAAMmoC,EAAY3tC,UAAW2tC,GACpDA,EAAcA,EAAYltC,OACnC,CACA,SAAS0uC,GAA0CxB,GACjD,IAAKA,EAAcA,EAAYntC,MAAO,OAASmtC,GAAe,CAC5D,IAAIhF,EAAegF,EACnB,OAAQhF,EAAanpC,KACnB,KAAK,EACL,KAAK,GACL,KAAK,GACL,KAAK,GACHspC,GAA4B,EAAGH,EAAcA,EAAa/oC,QAC1DuvC,GAA0CxG,GAC1C,MACF,KAAK,EACHW,GAAgBX,EAAcA,EAAa/oC,QAC3C,IAAIylB,EAAWsjB,EAAa3/B,UAC5B,oBAAsBqc,EAAS8jB,sBAC7BD,GACEP,EACAA,EAAa/oC,OACbylB,GAEJ8pB,GAA0CxG,GAC1C,MACF,KAAK,GACL,KAAK,GACL,KAAK,EACHW,GAAgBX,EAAcA,EAAa/oC,QAC3CuvC,GAA0CxG,GAC1C,MACF,KAAK,GACHW,GAAgBX,EAAcA,EAAa/oC,QAC3C,OAAS+oC,EAAavoC,eACpB+uC,GAA0CxG,GAC5C,MACF,QACEwG,GAA0CxG,GAE9CgF,EAAcA,EAAYltC,OAC5B,CACF,CACA,SAASurC,GACP0D,EACA/B,EACAgC,GAIA,IAFAA,EACEA,GAAgC,KAAkC,KAA3BhC,EAAY1J,cAChD0J,EAAcA,EAAYntC,MAAO,OAASmtC,GAAe,CAC5D,IAAInsC,EAAUmsC,EAAY3tC,UACxByrC,EAAeiE,EACf/G,EAAegF,EACf1tC,EAAQ0oC,EAAa1oC,MACvB,OAAQ0oC,EAAanpC,KACnB,KAAK,EACL,KAAK,GACL,KAAK,GACHwsC,GACEP,EACA9C,EACAgH,GAEFjH,GAA0B,EAAGC,GAC7B,MACF,KAAK,EAQH,GAPAqD,GACEP,EACA9C,EACAgH,GAIE,oBADJlE,GADAjqC,EAAUmnC,GACa3/B,WACgB84B,kBACrC,IACE2J,EAAa3J,mBACf,CAAE,MAAOtb,GACPqiB,GAAwBrnC,EAASA,EAAQ5B,OAAQ4mB,EACnD,CAGF,GAAI,QADJilB,GADAjqC,EAAUmnC,GACatY,aACI,CACzB,IAAIhL,EAAW7jB,EAAQwH,UACvB,IACE,IAAI0+B,EAAkB+D,EAAahE,OAAOC,gBAC1C,GAAI,OAASA,EACX,IACE+D,EAAahE,OAAOC,gBAAkB,KAAM+D,EAAe,EAC3DA,EAAe/D,EAAgBxtC,OAC/BuxC,IAEAjD,GAAad,EAAgB+D,GAAepmB,EAClD,CAAE,MAAOmB,GACPqiB,GAAwBrnC,EAASA,EAAQ5B,OAAQ4mB,EACnD,CACF,CACAmpB,GACU,GAAR1vC,GACAgpC,GAAqBN,GACvBS,GAAgBT,EAAcA,EAAa/oC,QAC3C,MACF,KAAK,GACL,KAAK,GACL,KAAK,EACHosC,GACEP,EACA9C,EACAgH,GAEFA,GACE,OAASnuC,GACD,EAARvB,GACAupC,GAAgBb,GAClBS,GAAgBT,EAAcA,EAAa/oC,QAC3C,MACF,KAAK,GA0BL,QACEosC,GACEP,EACA9C,EACAgH,SAvBJ,KAAK,GACH3D,GACEP,EACA9C,EACAgH,GAEFA,GACU,EAAR1vC,GACA4rC,GAAiCJ,EAAc9C,GACjD,MACF,KAAK,GACH,OAASA,EAAavoC,eACpB4rC,GACEP,EACA9C,EACAgH,GAEJvG,GAAgBT,EAAcA,EAAa/oC,QAS/C+tC,EAAcA,EAAYltC,OAC5B,CACF,CACA,SAASmvC,GAAmCpuC,EAASmnC,GACnD,IAAIkH,EAAgB,KACpB,OAASruC,GACP,OAASA,EAAQpB,eACjB,OAASoB,EAAQpB,cAAc4gC,YAC9B6O,EAAgBruC,EAAQpB,cAAc4gC,UAAU/R,MACnDztB,EAAU,KACV,OAASmnC,EAAavoC,eACpB,OAASuoC,EAAavoC,cAAc4gC,YACnCx/B,EAAUmnC,EAAavoC,cAAc4gC,UAAU/R,MAClDztB,IAAYquC,IACT,MAAQruC,GAAWA,EAAQosB,WAC5B,MAAQiiB,GAAiBhiB,GAAagiB,GAC1C,CACA,SAASC,GAA8BtuC,EAASmnC,GAC9CnnC,EAAU,KACV,OAASmnC,EAAa3oC,YACnBwB,EAAUmnC,EAAa3oC,UAAUI,cAAc0tB,QAClD6a,EAAeA,EAAavoC,cAAc0tB,SACzBtsB,IACdmnC,EAAa/a,WAAY,MAAQpsB,GAAWqsB,GAAarsB,GAC9D,CACA,SAASuuC,GACPvqC,EACAmoC,EACAqC,EACAC,GAEA,GAA+B,MAA3BtC,EAAY1J,aACd,IAAK0J,EAAcA,EAAYntC,MAAO,OAASmtC,GAC7CuC,GACE1qC,EACAmoC,EACAqC,EACAC,GAECtC,EAAcA,EAAYltC,OACnC,CACA,SAASyvC,GACPzE,EACA9C,EACAqH,EACAC,GAEA,IAAIhwC,EAAQ0oC,EAAa1oC,MACzB,OAAQ0oC,EAAanpC,KACnB,KAAK,EACL,KAAK,GACL,KAAK,GACHuwC,GACEtE,EACA9C,EACAqH,EACAC,GAEM,KAARhwC,GAAgByoC,GAA0B,EAAGC,GAC7C,MACF,KAAK,EACHoH,GACEtE,EACA9C,EACAqH,EACAC,GAEM,KAARhwC,IACIwrC,EAAe,KACjB,OAAS9C,EAAa3oC,YACnByrC,EAAe9C,EAAa3oC,UAAUI,cAAc0tB,QACtD6a,EAAeA,EAAavoC,cAAc0tB,SAC1B2d,IACd9C,EAAa/a,WACd,MAAQ6d,GAAgB5d,GAAa4d,KACzC,MACF,KAAK,GACH,GAAY,KAARxrC,EAAc,CAChB8vC,GACEtE,EACA9C,EACAqH,EACAC,GAEFxE,EAAe9C,EAAa3/B,UAC5B,IACE,IAAImnC,EAAyBxH,EAAarjB,cACxC+d,EAAK8M,EAAuB9M,GAC5B+M,EAAeD,EAAuBC,aACxC,oBAAsBA,GACpBA,EACE/M,EACA,OAASsF,EAAa3oC,UAAY,QAAU,SAC5CyrC,EAAa4E,uBACZ,EAEP,CAAE,MAAO7pB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,MACEupB,GACEtE,EACA9C,EACAqH,EACAC,GAEJ,MACF,KAAK,GACH,MACF,KAAK,GACHE,EAAyBxH,EAAa3/B,UACtC,OAAS2/B,EAAavoC,cACmB,EAArC+vC,EAAuBjtB,YACrB6sB,GACEtE,EACA9C,EACAqH,EACAC,GAEFK,GAAwC7E,EAAc9C,GACnB,EAArCwH,EAAuBjtB,YACrB6sB,GACEtE,EACA9C,EACAqH,EACAC,IAEAE,EAAuBjtB,aAAe,EACxCqtB,GACE9E,EACA9C,EACAqH,EACAC,EACA,KAAmC,MAA5BtH,EAAa1E,gBAEpB,KAARhkC,GACE2vC,GACEjH,EAAa3oC,UACb2oC,GAEJ,MACF,KAAK,GACHoH,GACEtE,EACA9C,EACAqH,EACAC,GAEM,KAARhwC,GACE6vC,GAA8BnH,EAAa3oC,UAAW2oC,GACxD,MACF,QACEoH,GACEtE,EACA9C,EACAqH,EACAC,GAGR,CACA,SAASM,GACPb,EACA/B,EACA6C,EACAC,EACAd,GAIA,IAFAA,EACEA,GAAgC,KAAkC,MAA3BhC,EAAY1J,cAChD0J,EAAcA,EAAYntC,MAAO,OAASmtC,GAAe,CAC5D,IAAIlC,EAAeiE,EACjB/G,EAAegF,EACfqC,EAAiBQ,EACjBP,EAAuBQ,EACvBxwC,EAAQ0oC,EAAa1oC,MACvB,OAAQ0oC,EAAanpC,KACnB,KAAK,EACL,KAAK,GACL,KAAK,GACH+wC,GACE9E,EACA9C,EACAqH,EACAC,EACAN,GAEFjH,GAA0B,EAAGC,GAC7B,MACF,KAAK,GACH,MACF,KAAK,GACH,IAAItjB,EAAWsjB,EAAa3/B,UAC5B,OAAS2/B,EAAavoC,cACK,EAAvBilB,EAASnC,YACPqtB,GACE9E,EACA9C,EACAqH,EACAC,EACAN,GAEFW,GACE7E,EACA9C,IAEFtjB,EAASnC,aAAe,EAC1BqtB,GACE9E,EACA9C,EACAqH,EACAC,EACAN,IAENA,GACU,KAAR1vC,GACA2vC,GACEjH,EAAa3oC,UACb2oC,GAEJ,MACF,KAAK,GACH4H,GACE9E,EACA9C,EACAqH,EACAC,EACAN,GAEFA,GACU,KAAR1vC,GACA6vC,GAA8BnH,EAAa3oC,UAAW2oC,GACxD,MACF,QACE4H,GACE9E,EACA9C,EACAqH,EACAC,EACAN,GAGNhC,EAAcA,EAAYltC,OAC5B,CACF,CACA,SAAS6vC,GACPZ,EACA/B,GAEA,GAA+B,MAA3BA,EAAY1J,aACd,IAAK0J,EAAcA,EAAYntC,MAAO,OAASmtC,GAAe,CAC5D,IAAIlC,EAAeiE,EACjB/G,EAAegF,EACf1tC,EAAQ0oC,EAAa1oC,MACvB,OAAQ0oC,EAAanpC,KACnB,KAAK,GACH8wC,GAAwC7E,EAAc9C,GAC9C,KAAR1oC,GACE2vC,GACEjH,EAAa3oC,UACb2oC,GAEJ,MACF,KAAK,GACH2H,GAAwC7E,EAAc9C,GAC9C,KAAR1oC,GACE6vC,GAA8BnH,EAAa3oC,UAAW2oC,GACxD,MACF,QACE2H,GAAwC7E,EAAc9C,GAE1DgF,EAAcA,EAAYltC,OAC5B,CACJ,CACA,IAAIiwC,GAAsB,KAC1B,SAASC,GAAqChD,GAC5C,GAAIA,EAAY1J,aAAeyM,GAC7B,IAAK/C,EAAcA,EAAYntC,MAAO,OAASmtC,GAC7CiD,GAAiCjD,GAC9BA,EAAcA,EAAYltC,OACnC,CACA,SAASmwC,GAAiCrxC,GACxC,OAAQA,EAAMC,KACZ,KAAK,GACHmxC,GAAqCpxC,GACrCA,EAAMU,MAAQywC,IACZ,OAASnxC,EAAMa,eAu4JvB,SAAyB2tC,EAAe8C,EAAU1gC,GAChD,GAAI,OAAS2gC,GAAgB,MAAM7zC,MAAMnD,EAAuB,MAChE,IAAI6yB,EAAQmkB,GACZ,GACE,eAAiBD,EAAS70C,OACzB,kBAAoBmU,EAAM4gC,QACzB,IAAOC,WAAW7gC,EAAM4gC,OAAOE,UACjC,KAAgC,EAAzBJ,EAASlkB,MAAMukB,SACtB,CACA,GAAI,OAASL,EAASxrB,SAAU,CAC9B,IAAI9N,EAAM45B,GAAYhhC,EAAMgO,MAC1BkH,EAAW0oB,EAAcI,cACvBiD,GAA6B75B,IAEjC,GAAI8N,EAWF,OATA,QADA0oB,EAAgB1oB,EAASgsB,KAEvB,kBAAoBtD,GACpB,oBAAsBA,EAAcnnB,OACnC+F,EAAM6f,QACN7f,EAAQ2kB,GAAY/c,KAAK5H,GAC1BohB,EAAcnnB,KAAK+F,EAAOA,IAC5BkkB,EAASlkB,MAAMukB,SAAW,EAC1BL,EAASxrB,SAAWA,OACpB/b,GAAoB+b,GAGtBA,EAAW0oB,EAAczgC,eAAiBygC,EAC1C59B,EAAQohC,GAA4BphC,IACnCoH,EAAMi6B,GAAgB7lC,IAAI4L,KACzBk6B,GAA+BthC,EAAOoH,GAExCjO,GADA+b,EAAWA,EAASpb,cAAc,SAElC,IAAIynC,EAAersB,EACnBqsB,EAAaL,GAAK,IAAIM,SAAQ,SAAUnjB,EAASojB,GAC/CF,EAAaG,OAASrjB,EACtBkjB,EAAaI,QAAUF,CACzB,IACAlM,GAAqBrgB,EAAU,OAAQlV,GACvC0gC,EAASxrB,SAAWA,CACtB,CACA,OAASsH,EAAMolB,cAAgBplB,EAAMolB,YAAc,IAAI3oC,KACvDujB,EAAMolB,YAAY9zC,IAAI4yC,EAAU9C,IAC/BA,EAAgB8C,EAASlkB,MAAMqlB,UAC9B,KAAgC,EAAzBnB,EAASlkB,MAAMukB,WACrBvkB,EAAM6f,QACNqE,EAAWS,GAAY/c,KAAK5H,GAC7BohB,EAAch9B,iBAAiB,OAAQ8/B,GACvC9C,EAAch9B,iBAAiB,QAAS8/B,GAC5C,CACF,CAx7JQoB,CACEpE,GACAtuC,EAAMa,cACNb,EAAM+lB,eAEV,MACF,KAAK,EAqBL,QACEqrB,GAAqCpxC,SAnBvC,KAAK,EACL,KAAK,EACH,IAAI2yC,EAAwBrE,GAC5BA,GAAuBkB,GAAiBxvC,EAAMyJ,UAAU+U,eACxD4yB,GAAqCpxC,GACrCsuC,GAAuBqE,EACvB,MACF,KAAK,GACH,OAAS3yC,EAAMa,gBAEb,QADE8xC,EAAwB3yC,EAAMS,YAEhC,OAASkyC,EAAsB9xC,eACzB8xC,EAAwBxB,GACzBA,GAAsB,SACvBC,GAAqCpxC,GACpCmxC,GAAsBwB,GACvBvB,GAAqCpxC,IAKjD,CACA,SAAS4yC,GAAwBxE,GAC/B,IAAIyE,EAAgBzE,EAAY3tC,UAChC,GACE,OAASoyC,GAC6B,QAApCzE,EAAcyE,EAAc5xC,OAC9B,CACA4xC,EAAc5xC,MAAQ,KACtB,GACG4xC,EAAgBzE,EAAYltC,QAC1BktC,EAAYltC,QAAU,KACtBktC,EAAcyE,QACZ,OAASzE,EAClB,CACF,CACA,SAAS0E,GAAyC1E,GAChD,IAAIhlB,EAAYglB,EAAYhlB,UAC5B,GAAI,KAA2B,GAApBglB,EAAY1tC,OAAa,CAClC,GAAI,OAAS0oB,EACX,IAAK,IAAIvuB,EAAI,EAAGA,EAAIuuB,EAAUzuB,OAAQE,IAAK,CACzC,IAAIsuB,EAAgBC,EAAUvuB,GAC9BkxC,GAAa5iB,EACb4pB,GACE5pB,EACAilB,EAEJ,CACFwE,GAAwBxE,EAC1B,CACA,GAA+B,MAA3BA,EAAY1J,aACd,IAAK0J,EAAcA,EAAYntC,MAAO,OAASmtC,GAC7C4E,GAA4B5E,GACzBA,EAAcA,EAAYltC,OACnC,CACA,SAAS8xC,GAA4B5J,GACnC,OAAQA,EAAanpC,KACnB,KAAK,EACL,KAAK,GACL,KAAK,GACH6yC,GAAyC1J,GACpB,KAArBA,EAAa1oC,OACX6oC,GAA4B,EAAGH,EAAcA,EAAa/oC,QAC5D,MACF,KAAK,EAGL,KAAK,GAYL,QACEyyC,GAAyC1J,SAV3C,KAAK,GACH,IAAItjB,EAAWsjB,EAAa3/B,UAC5B,OAAS2/B,EAAavoC,eACC,EAAvBilB,EAASnC,cACR,OAASylB,EAAa/oC,QAAU,KAAO+oC,EAAa/oC,OAAOJ,MACtD6lB,EAASnC,cAAgB,EAC3BsvB,GAA4C7J,IAC5C0J,GAAyC1J,GAKnD,CACA,SAAS6J,GAA4C7E,GACnD,IAAIhlB,EAAYglB,EAAYhlB,UAC5B,GAAI,KAA2B,GAApBglB,EAAY1tC,OAAa,CAClC,GAAI,OAAS0oB,EACX,IAAK,IAAIvuB,EAAI,EAAGA,EAAIuuB,EAAUzuB,OAAQE,IAAK,CACzC,IAAIsuB,EAAgBC,EAAUvuB,GAC9BkxC,GAAa5iB,EACb4pB,GACE5pB,EACAilB,EAEJ,CACFwE,GAAwBxE,EAC1B,CACA,IAAKA,EAAcA,EAAYntC,MAAO,OAASmtC,GAAe,CAE5D,QADAhlB,EAAYglB,GACMnuC,KAChB,KAAK,EACL,KAAK,GACL,KAAK,GACHspC,GAA4B,EAAGngB,EAAWA,EAAU/oB,QACpD4yC,GAA4C7pB,GAC5C,MACF,KAAK,GAEa,GADhBvuB,EAAIuuB,EAAU3f,WACZka,cACE9oB,EAAE8oB,cAAgB,EACpBsvB,GAA4C7pB,IAC9C,MACF,QACE6pB,GAA4C7pB,GAEhDglB,EAAcA,EAAYltC,OAC5B,CACF,CACA,SAAS6xC,GACPG,EACAzJ,GAEA,KAAO,OAASsC,IAAc,CAC5B,IAAI/rC,EAAQ+rC,GACZ,OAAQ/rC,EAAMC,KACZ,KAAK,EACL,KAAK,GACL,KAAK,GACHspC,GAA4B,EAAGvpC,EAAOypC,GACtC,MACF,KAAK,GACL,KAAK,GACH,GACE,OAASzpC,EAAMa,eACf,OAASb,EAAMa,cAAc4gC,UAC7B,CACA,IAAIlT,EAAQvuB,EAAMa,cAAc4gC,UAAU/R,KAC1C,MAAQnB,GAASA,EAAMF,UACzB,CACA,MACF,KAAK,GACHC,GAAatuB,EAAMa,cAAc0tB,OAGrC,GAAI,QADJA,EAAQvuB,EAAMiB,OACOstB,EAAMluB,OAASL,EAAS+rC,GAAaxd,OAExD1d,EAAG,IAAK7Q,EAAQkzC,EAAoB,OAASnH,IAAc,CAEzD,IAAI7qC,GADJqtB,EAAQwd,IACY7qC,QAClBwnB,EAAc6F,EAAMluB,OAEtB,GADAqsC,GAAwBne,GACpBA,IAAUvuB,EAAO,CACnB+rC,GAAa,KACb,MAAMl7B,CACR,CACA,GAAI,OAAS3P,EAAS,CACpBA,EAAQb,OAASqoB,EACjBqjB,GAAa7qC,EACb,MAAM2P,CACR,CACAk7B,GAAarjB,CACf,CACJ,CACF,CACA,SAASyqB,GAAUlzC,EAAKypB,EAAc1R,EAAKmS,GACzC9d,KAAKpM,IAAMA,EACXoM,KAAK2L,IAAMA,EACX3L,KAAKnL,QACHmL,KAAKpL,MACLoL,KAAKhM,OACLgM,KAAK5C,UACL4C,KAAK5P,KACL4P,KAAKge,YACH,KACJhe,KAAKvK,MAAQ,EACbuK,KAAK4sB,WAAa5sB,KAAKmc,IAAM,KAC7Bnc,KAAKqd,aAAeA,EACpBrd,KAAKhC,aACHgC,KAAKxL,cACLwL,KAAKykB,YACLzkB,KAAK0Z,cACH,KACJ1Z,KAAK8d,KAAOA,EACZ9d,KAAKq4B,aAAer4B,KAAK3L,MAAQ,EACjC2L,KAAK+c,UAAY,KACjB/c,KAAKqX,WAAarX,KAAKvG,MAAQ,EAC/BuG,KAAK5L,UAAY,IACnB,CACA,SAASurB,GAAqB/rB,EAAKypB,EAAc1R,EAAKmS,GACpD,OAAO,IAAIgpB,GAAUlzC,EAAKypB,EAAc1R,EAAKmS,EAC/C,CACA,SAAS2W,GAAgBnQ,GAEvB,UADAA,EAAYA,EAAUlyB,aACEkyB,EAAUyiB,iBACpC,CACA,SAASzpB,GAAqB1nB,EAASynB,GACrC,IAAIvpB,EAAiB8B,EAAQxB,UAkC7B,OAjCA,OAASN,IACHA,EAAiB6rB,GACjB/pB,EAAQhC,IACRypB,EACAznB,EAAQ+V,IACR/V,EAAQkoB,OAEME,YAAcpoB,EAAQooB,YACrClqB,EAAe1D,KAAOwF,EAAQxF,KAC9B0D,EAAesJ,UAAYxH,EAAQwH,UACnCtJ,EAAeM,UAAYwB,EAC3BA,EAAQxB,UAAYN,IACnBA,EAAeupB,aAAeA,EAC/BvpB,EAAe1D,KAAOwF,EAAQxF,KAC9B0D,EAAeO,MAAQ,EACvBP,EAAeukC,aAAe,EAC9BvkC,EAAeipB,UAAY,MAChCjpB,EAAeO,MAAwB,SAAhBuB,EAAQvB,MAC/BP,EAAeujB,WAAazhB,EAAQyhB,WACpCvjB,EAAe2F,MAAQ7D,EAAQ6D,MAC/B3F,EAAec,MAAQgB,EAAQhB,MAC/Bd,EAAe4lB,cAAgB9jB,EAAQ8jB,cACvC5lB,EAAeU,cAAgBoB,EAAQpB,cACvCV,EAAe2wB,YAAc7uB,EAAQ6uB,YACrCpH,EAAeznB,EAAQoI,aACvBlK,EAAekK,aACb,OAASqf,EACL,KACA,CAAE5jB,MAAO4jB,EAAa5jB,MAAO0hC,aAAc9d,EAAa8d,cAC9DrnC,EAAee,QAAUe,EAAQf,QACjCf,EAAe2B,MAAQG,EAAQH,MAC/B3B,EAAeqoB,IAAMvmB,EAAQumB,IAC7BroB,EAAe84B,WAAah3B,EAAQg3B,WAC7B94B,CACT,CACA,SAASkzC,GAAoBlzC,EAAgBwG,GAC3CxG,EAAeO,OAAS,SACxB,IAAIuB,EAAU9B,EAAeM,UA4B7B,OA3BA,OAASwB,GACH9B,EAAeujB,WAAa,EAC7BvjB,EAAe2F,MAAQa,EACvBxG,EAAec,MAAQ,KACvBd,EAAeukC,aAAe,EAC9BvkC,EAAe4lB,cAAgB,KAC/B5lB,EAAeU,cAAgB,KAC/BV,EAAe2wB,YAAc,KAC7B3wB,EAAekK,aAAe,KAC9BlK,EAAesJ,UAAY,OAC1BtJ,EAAeujB,WAAazhB,EAAQyhB,WACrCvjB,EAAe2F,MAAQ7D,EAAQ6D,MAC/B3F,EAAec,MAAQgB,EAAQhB,MAC/Bd,EAAeukC,aAAe,EAC9BvkC,EAAeipB,UAAY,KAC3BjpB,EAAe4lB,cAAgB9jB,EAAQ8jB,cACvC5lB,EAAeU,cAAgBoB,EAAQpB,cACvCV,EAAe2wB,YAAc7uB,EAAQ6uB,YACrC3wB,EAAe1D,KAAOwF,EAAQxF,KAC9BkK,EAAc1E,EAAQoI,aACtBlK,EAAekK,aACd,OAAS1D,EACL,KACA,CACEb,MAAOa,EAAYb,MACnB0hC,aAAc7gC,EAAY6gC,eAE/BrnC,CACT,CACA,SAASoqB,GACP9tB,EACAub,EACA0R,EACA4pB,EACAnpB,EACArkB,GAEA,IAAIytC,EAAW,EAEf,GADAD,EAAQ72C,EACJ,oBAAsBA,EAAMqkC,GAAgBrkC,KAAU82C,EAAW,QAChE,GAAI,kBAAoB92C,EAC3B82C,EAojJJ,SAA6B92C,EAAMmU,EAAO4iC,GACxC,GAAI,IAAMA,GAAe,MAAQ5iC,EAAM6iC,SAAU,OAAO,EACxD,OAAQh3C,GACN,IAAK,OACL,IAAK,QACH,OAAO,EACT,IAAK,QACH,GACE,kBAAoBmU,EAAM8iC,YAC1B,kBAAoB9iC,EAAMgO,MAC1B,KAAOhO,EAAMgO,KAEb,MACF,OAAO,EACT,IAAK,OACH,GACE,kBAAoBhO,EAAM41B,KAC1B,kBAAoB51B,EAAMgO,MAC1B,KAAOhO,EAAMgO,MACbhO,EAAM+iC,QACN/iC,EAAMgjC,QAEN,MACF,MACO,eADChjC,EAAM41B,MAGP/pC,EAAOmU,EAAMrC,SACd,kBAAoBqC,EAAM8iC,YAAc,MAAQj3C,GAKxD,IAAK,SACH,GACEmU,EAAMijC,OACN,oBAAsBjjC,EAAMijC,OAC5B,kBAAoBjjC,EAAMijC,QACzBjjC,EAAM+iC,SACN/iC,EAAMgjC,SACPhjC,EAAM+1B,KACN,kBAAoB/1B,EAAM+1B,IAE1B,OAAO,EAEb,OAAO,CACT,CAjmJemN,CACTr3C,EACAitB,EACArnB,EAAmBJ,SAEjB,GACA,SAAWxF,GAAQ,SAAWA,GAAQ,SAAWA,EAC/C,GACA,OAENoU,EAAG,OAAQpU,GACT,KAAKnB,EACH,OAAOuvB,GAAwBnB,EAAahb,SAAUyb,EAAMrkB,EAAOkS,GACrE,KAAKzc,EACHg4C,EAAW,EACXppB,GAAQ,GACR,MACF,KAAK3uB,EACH,OACGiB,EAAOuvB,GAAqB,GAAItC,EAAc1R,EAAY,EAAPmS,IAC9CE,YAAc7uB,EACnBiB,EAAKqJ,MAAQA,EACdrJ,EAEJ,KAAKZ,EACH,OACGY,EAAOuvB,GAAqB,GAAItC,EAAc1R,EAAKmS,IAC9CE,YAAcxuB,EACnBY,EAAKqJ,MAAQA,EACdrJ,EAEJ,KAAKX,EACH,OACGW,EAAOuvB,GAAqB,GAAItC,EAAc1R,EAAKmS,IAC9CE,YAAcvuB,EACnBW,EAAKqJ,MAAQA,EACdrJ,EAEJ,KAAKR,EACH,OAAO4oC,GAAyBnb,EAAcS,EAAMrkB,EAAOkS,GAC7D,QACE,GAAI,kBAAoBvb,GAAQ,OAASA,EACvC,OAAQA,EAAKC,UACX,KAAKjB,EACL,KAAKE,EACH43C,EAAW,GACX,MAAM1iC,EACR,KAAKnV,EACH63C,EAAW,EACX,MAAM1iC,EACR,KAAKjV,EACH23C,EAAW,GACX,MAAM1iC,EACR,KAAK9U,EACHw3C,EAAW,GACX,MAAM1iC,EACR,KAAK7U,EACHu3C,EAAW,GACXD,EAAQ,KACR,MAAMziC,EAEZ0iC,EAAW,GACX7pB,EAAehsB,MACbnD,EAAuB,IAAK,OAASkC,EAAO,cAAgBA,EAAM,KAEpE62C,EAAQ,KAMd,OAJAt7B,EAAMgU,GAAqBunB,EAAU7pB,EAAc1R,EAAKmS,IACpDE,YAAc5tB,EAClBub,EAAIvb,KAAO62C,EACXt7B,EAAIlS,MAAQA,EACLkS,CACT,CACA,SAAS6S,GAAwBkpB,EAAU5pB,EAAMrkB,EAAOkS,GAGtD,OAFA+7B,EAAW/nB,GAAqB,EAAG+nB,EAAU/7B,EAAKmS,IACzCrkB,MAAQA,EACViuC,CACT,CACA,SAASlP,GAAyBnb,EAAcS,EAAMrkB,EAAOkS,IAC3D0R,EAAesC,GAAqB,GAAItC,EAAc1R,EAAKmS,IAC9CE,YAAcpuB,EAC3BytB,EAAa5jB,MAAQA,EACrB,IAAIkuC,EAAuB,CACzBrwB,YAAa,EACb2d,mBAAoB,EACpB2S,gBAAiB,KACjBpG,YAAa,KACbqG,aAAc,KACdvE,SAAU,KACVwE,OAAQ,WACN,IAAIn0C,EAAQg0C,EAAqBrE,SACjC,GAAI,OAAS3vC,EAAO,MAAMtC,MAAMnD,EAAuB,MACvD,GAAI,KAAiD,EAA1Cy5C,EAAqB1S,oBAAyB,CACvD,IAAIr7B,EAAOqd,GAA+BtjB,EAAO,GACjD,OAASiG,IACL+tC,EAAqB1S,oBAAsB,EAC7C3L,GAAsB1vB,EAAMjG,EAAO,GACvC,CACF,EACAo0C,OAAQ,WACN,IAAIp0C,EAAQg0C,EAAqBrE,SACjC,GAAI,OAAS3vC,EAAO,MAAMtC,MAAMnD,EAAuB,MACvD,GAAI,KAAiD,EAA1Cy5C,EAAqB1S,oBAAyB,CACvD,IAAIr7B,EAAOqd,GAA+BtjB,EAAO,GACjD,OAASiG,IACL+tC,EAAqB1S,qBAAuB,EAC9C3L,GAAsB1vB,EAAMjG,EAAO,GACvC,CACF,GAGF,OADA0pB,EAAajgB,UAAYuqC,EAClBtqB,CACT,CACA,SAASQ,GAAoB8kB,EAAS7kB,EAAMrkB,GAG1C,OAFAkpC,EAAUhjB,GAAqB,EAAGgjB,EAAS,KAAM7kB,IACzCrkB,MAAQA,EACTkpC,CACT,CACA,SAASrkB,GAAsBF,EAAQN,EAAMrkB,GAa3C,OAZAqkB,EAAO6B,GACL,EACA,OAASvB,EAAO/b,SAAW+b,EAAO/b,SAAW,GAC7C+b,EAAOzS,IACPmS,IAEGrkB,MAAQA,EACbqkB,EAAK1gB,UAAY,CACf+U,cAAeiM,EAAOjM,cACtB61B,gBAAiB,KACjB3pB,eAAgBD,EAAOC,gBAElBP,CACT,CACA,SAASmqB,GAAWn0C,GAClBA,EAAeO,OAAS,CAC1B,CACA,SAAS6zC,GAAkCp0C,EAAgBmxC,GACzD,GAAI,eAAiBA,EAAS70C,MAAQ,KAAgC,EAAzB60C,EAASlkB,MAAMukB,SAC1DxxC,EAAeO,QAAU,cACtB,GAAMP,EAAeO,OAAS,UAAY8zC,GAAgBlD,GAAY,CAEzE,GACE,QAFFA,EAAW5kB,GAA2BzqB,YAGF,QAAhC8xB,MACFA,GACI,OAASpH,IACyB,SAAhCoH,MACAA,IACA,KAAuC,UAAhCA,KACTud,IAAa3kB,IAEjB,MACIzE,GAAoBd,GACtBD,GAEJhnB,EAAeO,OAAS,IAC1B,CACF,CACA,SAAS+zC,GAAoBt0C,EAAgB2vC,GAC3C,OAASA,IAAe3vC,EAAeO,OAAS,GACzB,MAAvBP,EAAeO,QACXovC,EACA,KAAO3vC,EAAeF,IAAM+G,KAAuB,UACpD7G,EAAe2F,OAASgqC,EACxB4E,IAAqC5E,EAC1C,CACA,SAAS6E,GAAmBrP,EAAasP,GACvC,IAAK9mC,GACH,OAAQw3B,EAAYD,UAClB,IAAK,SACHuP,EAA2BtP,EAAYH,KACvC,IAAK,IAAI0P,EAAe,KAAM,OAASD,GACrC,OAASA,EAAyBn0C,YAC/Bo0C,EAAeD,GACfA,EAA2BA,EAAyB1zC,QACzD,OAAS2zC,EACJvP,EAAYH,KAAO,KACnB0P,EAAa3zC,QAAU,KAC5B,MACF,IAAK,YACH2zC,EAAevP,EAAYH,KAC3B,IAAK,IAAI2P,EAAmB,KAAM,OAASD,GACzC,OAASA,EAAap0C,YAAcq0C,EAAmBD,GACpDA,EAAeA,EAAa3zC,QACjC,OAAS4zC,EACLF,GAA4B,OAAStP,EAAYH,KAC9CG,EAAYH,KAAO,KACnBG,EAAYH,KAAKjkC,QAAU,KAC7B4zC,EAAiB5zC,QAAU,KAExC,CACA,SAAS6zC,GAAiBC,GACxB,IAAIC,EACA,OAASD,EAAcv0C,WACvBu0C,EAAcv0C,UAAUQ,QAAU+zC,EAAc/zC,MAClDi0C,EAAgB,EAChBxQ,EAAe,EACjB,GAAIuQ,EACF,IAAK,IAAIE,EAAYH,EAAc/zC,MAAO,OAASk0C,GAChDD,GAAiBC,EAAUrvC,MAAQqvC,EAAUzxB,WAC3CghB,GAAyC,SAAzByQ,EAAUzQ,aAC1BA,GAAkC,SAAlByQ,EAAUz0C,MAC1By0C,EAAU90C,OAAS20C,EACnBG,EAAYA,EAAUj0C,aAE3B,IAAKi0C,EAAYH,EAAc/zC,MAAO,OAASk0C,GAC5CD,GAAiBC,EAAUrvC,MAAQqvC,EAAUzxB,WAC3CghB,GAAgByQ,EAAUzQ,aAC1BA,GAAgByQ,EAAUz0C,MAC1By0C,EAAU90C,OAAS20C,EACnBG,EAAYA,EAAUj0C,QAG7B,OAFA8zC,EAActQ,cAAgBA,EAC9BsQ,EAActxB,WAAawxB,EACpBD,CACT,CACA,SAASG,GAAanzC,EAAS9B,EAAgBwG,GAC7C,IAAIq3B,EAAW79B,EAAeupB,aAE9B,OADArE,GAAellB,GACPA,EAAeF,KACrB,KAAK,GACL,KAAK,GACL,KAAK,EACL,KAAK,GACL,KAAK,EACL,KAAK,EACL,KAAK,GACL,KAAK,EACL,KAAK,GAEL,KAAK,EACH,OAAO80C,GAAiB50C,GAAiB,KAC3C,KAAK,EAsBH,OArBAwG,EAAcxG,EAAesJ,UAC7Bu0B,EAAW,KACX,OAAS/7B,IAAY+7B,EAAW/7B,EAAQpB,cAAc0tB,OACtDpuB,EAAeU,cAAc0tB,QAAUyP,IACpC79B,EAAeO,OAAS,MAC3BymC,GAAYrZ,IACZ7qB,KACA0D,EAAY0uC,iBACR1uC,EAAYxD,QAAUwD,EAAY0uC,eACnC1uC,EAAY0uC,eAAiB,MAC5B,OAASpzC,GAAW,OAASA,EAAQhB,QACvC0lB,GAAkBxmB,GACdm0C,GAAWn0C,GACX,OAAS8B,GACRA,EAAQpB,cAAcmlC,cACrB,KAA8B,IAAvB7lC,EAAeO,SACtBP,EAAeO,OAAS,KAC1B,OAAS8kB,KACN8vB,GAAuB9vB,IACvBA,GAAkB,QAC3BuvB,GAAiB50C,GACV,KACT,KAAK,GACH,OACGwG,EAAcxG,EAAeU,cAC9B,OAASoB,GACJqyC,GAAWn0C,GACZ,OAASwG,GACJouC,GAAiB50C,GAClBo0C,GAAkCp0C,EAAgBwG,KACjDouC,GAAiB50C,GACjBA,EAAeO,QAAU,WAC9BiG,EACEA,IAAgB1E,EAAQpB,eACrByzC,GAAWn0C,GACZ40C,GAAiB50C,GACjBo0C,GAAkCp0C,EAAgBwG,KACjDouC,GAAiB50C,GACjBA,EAAeO,QAAU,WAC3BuB,EAAQ8jB,gBAAkBiY,GAAYsW,GAAWn0C,GAClD40C,GAAiB50C,GAChBA,EAAeO,QAAU,UAChC,KAEJ,KAAK,GACH2C,GAAelD,GACfwG,EAAcpE,EAAwBN,QACtC,IAAIxF,EAAO0D,EAAe1D,KAC1B,GAAI,OAASwF,GAAW,MAAQ9B,EAAesJ,UAC7CxH,EAAQ8jB,gBAAkBiY,GAAYsW,GAAWn0C,OAC9C,CACH,IAAK69B,EAAU,CACb,GAAI,OAAS79B,EAAesJ,UAC1B,MAAM/L,MAAMnD,EAAuB,MAErC,OADAw6C,GAAiB50C,GACV,IACT,CACA8B,EAAUI,EAAmBJ,QAC7B0kB,GAAkBxmB,GACd0lB,GAA6B1lB,IAC3B8B,EAAUmkC,GAAyB3pC,EAAMuhC,EAAUr3B,GACpDxG,EAAesJ,UAAYxH,EAC5BqyC,GAAWn0C,GACjB,CAEA,OADA40C,GAAiB50C,GACV,KACT,KAAK,EAGH,GAFAkD,GAAelD,GACfwG,EAAcxG,EAAe1D,KACzB,OAASwF,GAAW,MAAQ9B,EAAesJ,UAC7CxH,EAAQ8jB,gBAAkBiY,GAAYsW,GAAWn0C,OAC9C,CACH,IAAK69B,EAAU,CACb,GAAI,OAAS79B,EAAesJ,UAC1B,MAAM/L,MAAMnD,EAAuB,MAErC,OADAw6C,GAAiB50C,GACV,IACT,CAEA,GADA8B,EAAUI,EAAmBJ,QACzB0kB,GAAkBxmB,GACpB0lB,GAA6B1lB,OAC1B,CAIH,OAHA1D,EAAOypC,GACL3jC,EAAwBN,SAElBA,GACN,KAAK,EACHA,EAAUxF,EAAK84C,gBACb,6BACA5uC,GAEF,MACF,KAAK,EACH1E,EAAUxF,EAAK84C,gBACb,qCACA5uC,GAEF,MACF,QACE,OAAQA,GACN,IAAK,MACH1E,EAAUxF,EAAK84C,gBACb,6BACA5uC,GAEF,MACF,IAAK,OACH1E,EAAUxF,EAAK84C,gBACb,qCACA5uC,GAEF,MACF,IAAK,UACH1E,EAAUxF,EAAKiO,cAAc,QACrB8qC,UAAY,qBACpBvzC,EAAUA,EAAQirC,YAAYjrC,EAAQ6M,YACtC,MACF,IAAK,SACH7M,EACE,kBAAoB+7B,EAAS5gB,GACzB3gB,EAAKiO,cAAc,SAAU,CAAE0S,GAAI4gB,EAAS5gB,KAC5C3gB,EAAKiO,cAAc,UACzBszB,EAAS/vB,SACJhM,EAAQgM,UAAW,EACpB+vB,EAAS9K,OAASjxB,EAAQixB,KAAO8K,EAAS9K,MAC9C,MACF,QACEjxB,EACE,kBAAoB+7B,EAAS5gB,GACzB3gB,EAAKiO,cAAc/D,EAAa,CAAEyW,GAAI4gB,EAAS5gB,KAC/C3gB,EAAKiO,cAAc/D,IAGjC1E,EAAQwG,IAAuBtI,EAC/B8B,EAAQyG,IAAoBs1B,EAC5BntB,EAAG,IAAKpU,EAAO0D,EAAec,MAAO,OAASxE,GAAQ,CACpD,GAAI,IAAMA,EAAKwD,KAAO,IAAMxD,EAAKwD,IAC/BgC,EAAQspC,YAAY9uC,EAAKgN,gBACtB,GAAI,IAAMhN,EAAKwD,KAAO,KAAOxD,EAAKwD,KAAO,OAASxD,EAAKwE,MAAO,CACjExE,EAAKwE,MAAMZ,OAAS5D,EACpBA,EAAOA,EAAKwE,MACZ,QACF,CACA,GAAIxE,IAAS0D,EAAgB,MAAM0Q,EACnC,KAAO,OAASpU,EAAKyE,SAAW,CAC9B,GAAI,OAASzE,EAAK4D,QAAU5D,EAAK4D,SAAWF,EAC1C,MAAM0Q,EACRpU,EAAOA,EAAK4D,MACd,CACA5D,EAAKyE,QAAQb,OAAS5D,EAAK4D,OAC3B5D,EAAOA,EAAKyE,OACd,CACAf,EAAesJ,UAAYxH,EAC3B4O,EAAG,OACAs1B,GAAqBlkC,EAAS0E,EAAaq3B,GAAWr3B,GAEvD,IAAK,SACL,IAAK,QACL,IAAK,SACL,IAAK,WACH1E,IAAY+7B,EAASkM,UACrB,MAAMr5B,EACR,IAAK,MACH5O,GAAU,EACV,MAAM4O,EACR,QACE5O,GAAU,EAEdA,GAAWqyC,GAAWn0C,EACxB,CACF,CAGA,OAFA40C,GAAiB50C,GACjBA,EAAeO,QAAU,SAClB,KACT,KAAK,EACH,GAAIuB,GAAW,MAAQ9B,EAAesJ,UACpCxH,EAAQ8jB,gBAAkBiY,GAAYsW,GAAWn0C,OAC9C,CACH,GAAI,kBAAoB69B,GAAY,OAAS79B,EAAesJ,UAC1D,MAAM/L,MAAMnD,EAAuB,MAErC,GADA0H,EAAUM,EAAwBN,QAC9B0kB,GAAkBxmB,GAAiB,CAKrC,GAJA8B,EAAU9B,EAAesJ,UACzB9C,EAAcxG,EAAe4lB,cAC7BiY,EAAW,KAEP,QADJvhC,EAAO6oB,IAEL,OAAQ7oB,EAAKwD,KACX,KAAK,GACL,KAAK,EACH+9B,EAAWvhC,EAAKspB,cAEtB9jB,EAAQwG,IAAuBtI,GAC/B8B,KACEA,EAAQ+M,YAAcrI,GACrB,OAASq3B,IAAY,IAAOA,EAAS9X,0BACtCC,GAAsBlkB,EAAQ+M,UAAWrI,MAGhCgf,GAAyBxlB,EACtC,MACG8B,EACCikC,GAAkCjkC,GAASwzC,eACzCzX,IAEOv1B,IAAuBtI,EAC/BA,EAAesJ,UAAYxH,CAClC,CAEA,OADA8yC,GAAiB50C,GACV,KACT,KAAK,GAEH,GADA69B,EAAW79B,EAAeU,cAExB,OAASoB,GACR,OAASA,EAAQpB,eAChB,OAASoB,EAAQpB,cAAcC,WACjC,CAEA,GADArE,EAAOkqB,GAAkBxmB,GACrB,OAAS69B,GAAY,OAASA,EAASl9B,WAAY,CACrD,GAAI,OAASmB,EAAS,CACpB,IAAKxF,EAAM,MAAMiB,MAAMnD,EAAuB,MAG9C,KADAkC,EAAO,QADPA,EAAO0D,EAAeU,eACCpE,EAAKqE,WAAa,MAC9B,MAAMpD,MAAMnD,EAAuB,MAC9CkC,EAAKgM,IAAuBtI,CAC9B,MACE6mB,KACE,KAA8B,IAAvB7mB,EAAeO,SACnBP,EAAeU,cAAgB,MACjCV,EAAeO,OAAS,EAC7Bq0C,GAAiB50C,GACjB1D,GAAO,CACT,MACE,OAAS+oB,KACN8vB,GAAuB9vB,IAAmBA,GAAkB,MAC5D/oB,GAAO,EACZ,IAAKA,EACH,OAA2B,IAAvB0D,EAAeO,OACVusB,GAAmB9sB,GAAiBA,IAC7C8sB,GAAmB9sB,GACZ,KAEX,CAEA,GADA8sB,GAAmB9sB,GACf,KAA8B,IAAvBA,EAAeO,OACxB,OAAQP,EAAe2F,MAAQa,EAAcxG,EAG/C,GAFAwG,EAAc,OAASq3B,EACvB/7B,EAAU,OAASA,GAAW,OAASA,EAAQpB,cAC3C8F,EAAa,CAEflK,EAAO,KACP,QAFAuhC,EAAW79B,EAAec,OAERR,WAChB,OAASu9B,EAASv9B,UAAUI,eAC5B,OAASm9B,EAASv9B,UAAUI,cAAc4gC,YACzChlC,EAAOuhC,EAASv9B,UAAUI,cAAc4gC,UAAU/R,MACrD,IAAIgmB,EAAY,KAChB,OAAS1X,EAASn9B,eAChB,OAASm9B,EAASn9B,cAAc4gC,YAC/BiU,EAAY1X,EAASn9B,cAAc4gC,UAAU/R,MAChDgmB,IAAcj5C,IAASuhC,EAASt9B,OAAS,KAC3C,CAMA,OALAiG,IAAgB1E,GACd0E,IACCxG,EAAec,MAAMP,OAAS,MACjC+zC,GAAoBt0C,EAAgBA,EAAe2wB,aACnDikB,GAAiB50C,GACV,KACT,KAAK,EACH,OACE8C,KACA,OAAShB,GACP0zC,GAA2Bx1C,EAAesJ,UAAU+U,eACtDu2B,GAAiB50C,GACjB,KAEJ,KAAK,GACH,OACEgnC,GAAYhnC,EAAe1D,MAAOs4C,GAAiB50C,GAAiB,KAExE,KAAK,GAGH,GAFA+B,EAAI4qB,IAEA,QADJrwB,EAAO0D,EAAeU,eACH,OAAOk0C,GAAiB50C,GAAiB,KAG5D,GAFA69B,EAAW,KAA8B,IAAvB79B,EAAeO,OAE7B,QADJg1C,EAAYj5C,EAAK8oC,WAEf,GAAIvH,EAAU2W,GAAmBl4C,GAAM,OAClC,CACH,GACE,IAAMm5C,IACL,OAAS3zC,GAAW,KAAuB,IAAhBA,EAAQvB,OAEpC,IAAKuB,EAAU9B,EAAec,MAAO,OAASgB,GAAW,CAEvD,GAAI,QADJyzC,EAAYxoB,GAAmBjrB,IACP,CAQtB,IAPA9B,EAAeO,OAAS,IACxBi0C,GAAmBl4C,GAAM,GACzBwF,EAAUyzC,EAAU5kB,YACpB3wB,EAAe2wB,YAAc7uB,EAC7BwyC,GAAoBt0C,EAAgB8B,GACpC9B,EAAeukC,aAAe,EAC9BziC,EAAU0E,EACLA,EAAcxG,EAAec,MAAO,OAAS0F,GAChD0sC,GAAoB1sC,EAAa1E,GAC9B0E,EAAcA,EAAYzF,QAK/B,OAJAkB,EACE0qB,GAC+B,EAA9BA,GAAoB7qB,QAAe,GAE/B9B,EAAec,KACxB,CACAgB,EAAUA,EAAQf,OACpB,CACF,OAASzE,EAAK0oC,MACZlhC,KAAQ4xC,KACN11C,EAAeO,OAAS,IACzBs9B,GAAW,EACZ2W,GAAmBl4C,GAAM,GACxB0D,EAAe2F,MAAQ,QAC5B,KACG,CACH,IAAKk4B,EACH,GAAgD,QAA1C/7B,EAAUirB,GAAmBwoB,KACjC,GACIv1C,EAAeO,OAAS,IACzBs9B,GAAW,EACX/7B,EAAUA,EAAQ6uB,YAClB3wB,EAAe2wB,YAAc7uB,EAC9BwyC,GAAoBt0C,EAAgB8B,GACpC0yC,GAAmBl4C,GAAM,GACzB,OAASA,EAAK0oC,MACZ,WAAa1oC,EAAK4oC,WACjBqQ,EAAUj1C,YACVqN,GAEH,OAAOinC,GAAiB50C,GAAiB,UAE3C,EAAI8D,KAAQxH,EAAK+oC,mBACfqQ,IACA,YAAclvC,IACZxG,EAAeO,OAAS,IACzBs9B,GAAW,EACZ2W,GAAmBl4C,GAAM,GACxB0D,EAAe2F,MAAQ,SAC9BrJ,EAAKyoC,aACCwQ,EAAUx0C,QAAUf,EAAec,MACpCd,EAAec,MAAQy0C,IAExB,QADEzzC,EAAUxF,EAAK46B,MAEZp1B,EAAQf,QAAUw0C,EAClBv1C,EAAec,MAAQy0C,EAC3Bj5C,EAAK46B,KAAOqe,EACnB,CACA,OAAI,OAASj5C,EAAK0oC,MAEbhlC,EAAiB1D,EAAK0oC,KACtB1oC,EAAK8oC,UAAYplC,EACjB1D,EAAK0oC,KAAOhlC,EAAee,QAC3BzE,EAAK+oC,mBAAqBvhC,KAC1B9D,EAAee,QAAU,KACzBe,EAAU6qB,GAAoB7qB,QAC/BG,EAAK0qB,GAAqBkR,EAAsB,EAAV/7B,EAAe,EAAc,EAAVA,GACzD9B,IAEJ40C,GAAiB50C,GACV,MACT,KAAK,GACL,KAAK,GACH,OACE8sB,GAAmB9sB,GACnBssB,KACCuR,EAAW,OAAS79B,EAAeU,cACpC,OAASoB,EACJ,OAASA,EAAQpB,gBAAmBm9B,IACpC79B,EAAeO,OAAS,MACzBs9B,IAAa79B,EAAeO,OAAS,MACzCs9B,EACI,KAAqB,UAAdr3B,IACP,KAA8B,IAAvBxG,EAAeO,SACrBq0C,GAAiB50C,GACY,EAA9BA,EAAeukC,eAAqBvkC,EAAeO,OAAS,OAC5Dq0C,GAAiB50C,GAErB,QADCwG,EAAcxG,EAAe2wB,cAE5B2jB,GAAoBt0C,EAAgBwG,EAAYmpC,YACjDnpC,EAAc,KACf,OAAS1E,GACP,OAASA,EAAQpB,eACjB,OAASoB,EAAQpB,cAAc4gC,YAC9B96B,EAAc1E,EAAQpB,cAAc4gC,UAAU/R,MAChDsO,EAAW,KACZ,OAAS79B,EAAeU,eACtB,OAASV,EAAeU,cAAc4gC,YACrCzD,EAAW79B,EAAeU,cAAc4gC,UAAU/R,MACrDsO,IAAar3B,IAAgBxG,EAAeO,OAAS,MACrD,OAASuB,GAAWC,EAAIitB,IACxB,KAEJ,KAAK,GACH,OACGxoB,EAAc,KACf,OAAS1E,IAAY0E,EAAc1E,EAAQpB,cAAc0tB,OACzDpuB,EAAeU,cAAc0tB,QAAU5nB,IACpCxG,EAAeO,OAAS,MAC3BymC,GAAYrZ,IACZinB,GAAiB50C,GACjB,KAEJ,KAAK,GACH,OAAO,KAEX,MAAMzC,MAAMnD,EAAuB,IAAK4F,EAAeF,KACzD,CACA,SAAS61C,GAAW7zC,EAAS9B,GAE3B,OADAklB,GAAellB,GACPA,EAAeF,KACrB,KAAK,EACH,OAEY,OADTgC,EAAU9B,EAAeO,QAEpBP,EAAeO,OAAoB,MAAXuB,EAAoB,IAAM9B,GACpD,KAER,KAAK,EACH,OACEgnC,GAAYrZ,IACZ7qB,KAEA,KAAiB,OADhBhB,EAAU9B,EAAeO,SACC,KAAiB,IAAVuB,IAC5B9B,EAAeO,OAAoB,MAAXuB,EAAoB,IAAM9B,GACpD,KAER,KAAK,GACL,KAAK,GACL,KAAK,EACH,OAAOkD,GAAelD,GAAiB,KACzC,KAAK,GAGH,GAFA8sB,GAAmB9sB,GAEf,QADJ8B,EAAU9B,EAAeU,gBACD,OAASoB,EAAQnB,WAAY,CACnD,GAAI,OAASX,EAAeM,UAC1B,MAAM/C,MAAMnD,EAAuB,MACrCysB,IACF,CAEA,OAAiB,OADjB/kB,EAAU9B,EAAeO,QAEnBP,EAAeO,OAAoB,MAAXuB,EAAoB,IAAM9B,GACpD,KACN,KAAK,GACH,OAAO+B,EAAI4qB,IAAsB,KACnC,KAAK,EACH,OAAO7pB,KAAoB,KAC7B,KAAK,GACH,OAAOkkC,GAAYhnC,EAAe1D,MAAO,KAC3C,KAAK,GACL,KAAK,GACH,OACEwwB,GAAmB9sB,GACnBssB,KACA,OAASxqB,GAAWC,EAAIitB,IAEd,OADTltB,EAAU9B,EAAeO,QAEpBP,EAAeO,OAAoB,MAAXuB,EAAoB,IAAM9B,GACpD,KAER,KAAK,GACH,OAAOgnC,GAAYrZ,IAAe,KAGpC,QACE,OAAO,KAEb,CACA,SAASioB,GAAsB9zC,EAAS+zC,GAEtC,OADA3wB,GAAe2wB,GACPA,EAAgB/1C,KACtB,KAAK,EACHknC,GAAYrZ,IACZ7qB,KACA,MACF,KAAK,GACL,KAAK,GACL,KAAK,EACHI,GAAe2yC,GACf,MACF,KAAK,EACH/yC,KACA,MACF,KAAK,GACHgqB,GAAmB+oB,GACnB,MACF,KAAK,GACH9zC,EAAI4qB,IACJ,MACF,KAAK,GACHqa,GAAY6O,EAAgBv5C,MAC5B,MACF,KAAK,GACL,KAAK,GACHwwB,GAAmB+oB,GACnBvpB,KACA,OAASxqB,GAAWC,EAAIitB,IACxB,MACF,KAAK,GACHgY,GAAYrZ,IAElB,CACA,IAAImoB,GAAyB,CACzBC,gBAAiB,SAAUC,GACzB,IAAI5nB,EAAQyE,GAAYlF,IACtBsoB,EAAe7nB,EAAM7sB,KAAK0K,IAAI+pC,GAIhC,YAHA,IAAWC,IACPA,EAAeD,IACjB5nB,EAAM7sB,KAAKhD,IAAIy3C,EAAcC,IACxBA,CACT,GAEFC,GAAkB,oBAAsBpyB,QAAUA,QAAUpa,IAC5Dw+B,GAAmB,EACnBxgB,GAAqB,KACrB1nB,GAAiB,KACjB4zB,GAAgC,EAChCuiB,GAAgC,EAChCC,GAA4B,KAC5BC,IAA6C,EAC7CC,IAAmC,EACnCC,IAA0C,EAC1CpqB,GAAuB,EACvBspB,GAA+B,EAC/BzhB,GAAiC,EACjCwiB,GAA4C,EAC5CC,GAAgC,EAChCrT,GAA6B,EAC7BmR,GAAoC,EACpCmC,GAAqC,KACrCC,GAAsC,KACtCC,IAAoD,EACpDrH,GAA+B,EAC/BmG,GAAqCmB,IACrCC,GAA4B,KAC5B5W,GAAyC,KACzC6W,IAA6B,EAC7BC,GAAgC,KAChCC,GAA6B,EAC7BC,GAAsC,EACtCC,GAA4B,KAC5BzzB,GAAoB,EACpBC,GAAwB,KAC1B,SAASwW,KACP,GAAI,KAA0B,EAAnB+N,KAAyB,IAAMtU,GACxC,OAAOA,IAAiCA,GAC1C,GAAI,OAAS12B,EAAqBo5B,EAAG,CAEnC,OAAO,IADe/H,MAC2BM,IACnD,CACA,OAAOjnB,IACT,CACA,SAAS4xB,KACP,IAAM4J,KACHA,GACC,KAAuC,UAAhCxP,KAA8CjmB,GACjD/G,KACA,WACR,IAAIwwC,EAAkB7qB,GAA2BzqB,QAEjD,OADA,OAASs1C,IAAoBA,EAAgB72C,OAAS,IAC/C6iC,EACT,CACA,SAAS5N,GAAsB1vB,EAAMjG,EAAO6G,IAEvCZ,IAAS4hB,IAAsB,IAAMyuB,IACtC,OAASrwC,EAAKuxC,uBAEdC,GAAkBxxC,EAAM,GACtByxC,GACEzxC,EACA8tB,GACAwP,IACA,IAENn8B,GAAkBnB,EAAMY,GACpB,KAA0B,EAAnBwhC,KAAyBpiC,IAAS4hB,KAC3C5hB,IAAS4hB,KACN,KAA0B,EAAnBwgB,MACLsO,IAA6C9vC,GAChD,IAAM+uC,IACJ8B,GACEzxC,EACA8tB,GACAwP,IACA,IAEJoU,GAAsB1xC,GAC5B,CACA,SAAS2xC,GAAkBzJ,EAAeroC,EAAO+xC,GAC/C,GAAI,KAA0B,EAAnBxP,IAAuB,MAAM3qC,MAAMnD,EAAuB,MAUrE,IATA,IAAIu9C,GACED,GACA,KAAe,GAAR/xC,IACP,KAAOA,EAAQqoC,EAAc4J,eAC/BrxC,GAA0BynC,EAAeroC,GAC3CkyC,EAAaF,EA4cjB,SAA8B7xC,EAAMH,GAClC,IAAImyC,EAAuB5P,GAC3BA,IAAoB,EACpB,IAAI6P,EAAiBC,KACnBC,EAAsBC,KACxBxwB,KAAuB5hB,GAAQ8tB,KAAkCjuB,GAC3DmxC,GAA4B,KAC7BpB,GAAqC5xC,KAAQ,IAC9CwzC,GAAkBxxC,EAAMH,IACvB2wC,GAAmC/vC,GAClCT,EACAH,GAEN+K,EAAG,WAEC,GAAI,IAAMylC,IAAiC,OAASn2C,GAAgB,CAClE2F,EAAQ3F,GACR,IAAIm4C,EAAc/B,GAClBnlC,EAAG,OAAQklC,IACT,KAAK,EACHA,GAAgC,EAChCC,GAA4B,KAC5BgC,GAAuBtyC,EAAMH,EAAOwyC,EAAa,GACjD,MACF,KAAK,EACH,GAAIhxB,GAAmBgxB,GAAc,CACnChC,GAAgC,EAChCC,GAA4B,KAC5BiC,GAA0B1yC,GAC1B,KACF,CACAA,EAAQ,WACN,IAAMwwC,IACJzuB,KAAuB5hB,IACtBqwC,GAAgC,GACnCqB,GAAsB1xC,EACxB,EACAqyC,EAAYjxB,KAAKvhB,EAAOA,GACxB,MAAM+K,EACR,KAAK,EACHylC,GAAgC,EAChC,MAAMzlC,EACR,KAAK,EACHylC,GAAgC,EAChC,MAAMzlC,EACR,KAAK,EACHyW,GAAmBgxB,IACbhC,GAAgC,EACjCC,GAA4B,KAC7BiC,GAA0B1yC,KACxBwwC,GAAgC,EACjCC,GAA4B,KAC7BgC,GAAuBtyC,EAAMH,EAAOwyC,EAAa,IACrD,MACF,KAAK,EACH,IAAIhH,EAAW,KACf,OAAQnxC,GAAeF,KACrB,KAAK,GACHqxC,EAAWnxC,GAAeU,cAC5B,KAAK,EACL,KAAK,GACH,IAAI43C,EAAYt4C,GAChB,IAAImxC,GAAWkD,GAAgBlD,GAAe,CAC5CgF,GAAgC,EAChCC,GAA4B,KAC5B,IAAIr1C,EAAUu3C,EAAUv3C,QACxB,GAAI,OAASA,EAASf,GAAiBe,MAClC,CACH,IAAIwnB,EAAc+vB,EAAUp4C,OAC5B,OAASqoB,GACHvoB,GAAiBuoB,EACnBgwB,GAAmBhwB,IAClBvoB,GAAiB,IACxB,CACA,MAAMiR,CACR,EAEJklC,GAAgC,EAChCC,GAA4B,KAC5BgC,GAAuBtyC,EAAMH,EAAOwyC,EAAa,GACjD,MACF,KAAK,EACHhC,GAAgC,EAChCC,GAA4B,KAC5BgC,GAAuBtyC,EAAMH,EAAOwyC,EAAa,GACjD,MACF,KAAK,EACHK,KACA/C,GAA+B,EAC/B,MAAM/kC,EACR,QACE,MAAMnT,MAAMnD,EAAuB,MAEzC,CACAq+C,KACA,KACF,CAAE,MAAOC,GACPC,GAAY7yC,EAAM4yC,EACpB,CAMF,OAJA5R,GAAwBD,GAA0B,KAClD3pC,EAAqB0zB,EAAImnB,EACzB76C,EAAqB07C,EAAIX,EACzB/P,GAAmB4P,EACf,OAAS93C,GAAuB,GACpC0nB,GAAqB,KACrBkM,GAAgC,EAChClR,KACO+yB,GACT,CAxjBQoD,CAAqB7K,EAAeroC,GACpCmzC,GAAe9K,EAAeroC,GAAO,GACzCozC,EAAsBpB,IACrB,CACD,GAAI,IAAME,EAAY,CACpBvB,KACGqB,GACDJ,GAAkBvJ,EAAeroC,EAAO,GAAG,GAC7C,KACF,CAAO,GAAI,IAAMkyC,EACfN,GACEvJ,EACAroC,EACA,GACC0wC,QAEA,CAEH,GADAqB,EAAY1J,EAAclsC,QAAQxB,UAEhCy4C,IACCC,GAAqCtB,GACtC,CACAG,EAAaiB,GAAe9K,EAAeroC,GAAO,GAClDozC,GAAsB,EACtB,QACF,CACA,GAAI,IAAMlB,EAAY,CAEpB,GADAkB,EAAsBpzC,EAClBqoC,EAAciL,2BAA6BF,EAC7C,IAAI91C,EAA2B,OAG5BA,EACC,KAFHA,GAAyD,UAA9B+qC,EAAchoC,cAGlC/C,EAC2B,UAA3BA,EACE,UACA,EACZ,GAAI,IAAMA,EAA0B,CAClC0C,EAAQ1C,EACRyN,EAAG,CACD,IAAI5K,EAAOkoC,EACX6J,EAAanB,GACb,IAAIwC,EAAoBpzC,EAAKhE,QAAQpB,cAAcmlC,aAQnD,GAPAqT,IACG5B,GAAkBxxC,EAAM7C,GAA0B1C,OAAS,KAM1D,KALJ0C,EAA2B61C,GACzBhzC,EACA7C,GACA,IAEkC,CAClC,GACEszC,KACC2C,EACD,CACApzC,EAAKmzC,4BAA8BF,EACnCvC,IACEuC,EACFlB,EAAa,EACb,MAAMnnC,CACR,CACAqoC,EAAsBpC,GACtBA,GAAsCkB,EACtC,OAASkB,GACP5D,GAAuB4D,EAC3B,CACAlB,EAAa50C,CACf,CAEA,GADA81C,GAAsB,EAClB,IAAMlB,EAAY,QACxB,CACF,CACA,GAAI,IAAMA,EAAY,CACpBP,GAAkBtJ,EAAe,GACjCuJ,GAAkBvJ,EAAeroC,EAAO,GAAG,GAC3C,KACF,CACA+K,EAAG,CAED,OADAinC,EAAkB3J,EACV6J,GACN,KAAK,EACL,KAAK,EACH,MAAMt6C,MAAMnD,EAAuB,MACrC,KAAK,EACH,IAAa,QAARuL,KAAqBA,EAAO,CAC/B4xC,GACEI,EACAhyC,EACAy9B,IACCiT,IAEH,MAAM3lC,CACR,CACA,MACF,KAAK,EACHimC,GAAsC,KACtC,MACF,KAAK,EACL,KAAK,EACH,MACF,QACE,MAAMp5C,MAAMnD,EAAuB,MAIvC,GAFAu9C,EAAgB1O,aAAeyO,EAC/BC,EAAgBtxC,cAAgBV,GAErB,SAARA,KAAsBA,GAEvB,IADEozC,EAAsBxJ,GAA+B,IAAMzrC,MAF/D,CAWE,GANAyzC,GACEI,EACAhyC,EACAy9B,IACCiT,IAEC,IAAMxwC,GAAa8xC,EAAiB,GAAI,MAAMjnC,EAClDinC,EAAgBwB,cAAgBC,GAC9BC,GAAoBxkB,KAClB,KACA8iB,EACAD,EACAf,GACAG,GACAF,GACAjxC,EACAy9B,GACAoT,GACAjC,GACA8B,GACA,GACC,EACD,GAEF0C,EAGJ,MACAM,GACE1B,EACAD,EACAf,GACAG,GACAF,GACAjxC,EACAy9B,GACAoT,GACAjC,GACA8B,GACA,GACC,EACD,EAEJ,CACF,CACA,KACF,CACAmB,GAAsBxJ,EACxB,CACA,SAASmH,GAAuBmE,GAC9B,OAAS3C,GACJA,GAAsC2C,EACvC3C,GAAoC10C,KAAKs3C,MACvC5C,GACA2C,EAER,CACA,SAASD,GACPvzC,EACAmjC,EACAuQ,EACAC,EACAC,EACA/zC,EACAyB,EACAuyC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,IAAIzV,EAAe0E,EAAa1E,aAChC,IAAmB,KAAfA,GAAuB,YAA6B,SAAfA,MAEnC6M,GAAiB,CAAEiB,YAAa,KAAMvF,MAAO,EAAGmN,UAAWC,IAC7DhJ,GAAiCjI,GAEjC,QADCA,EA+pHP,WACE,GAAI,OAASmI,GAAgB,MAAM7zC,MAAMnD,EAAuB,MAChE,IAAI6yB,EAAQmkB,GAIZ,OAHAnkB,EAAMolB,aACJ,IAAMplB,EAAM6f,OACZqN,GAA2BltB,EAAOA,EAAMolB,aACnC,EAAIplB,EAAM6f,MACb,SAAUsN,GACR,IAAIC,EAAkB9a,YAAW,WAG/B,GAFAtS,EAAMolB,aACJ8H,GAA2BltB,EAAOA,EAAMolB,aACtCplB,EAAMgtB,UAAW,CACnB,IAAIA,EAAYhtB,EAAMgtB,UACtBhtB,EAAMgtB,UAAY,KAClBA,GACF,CACF,GAAG,KAEH,OADAhtB,EAAMgtB,UAAYG,EACX,WACLntB,EAAMgtB,UAAY,KAClBK,aAAaD,EACf,CACF,EACA,IACN,CAvrHsBE,KAmBhB,OAhBAz0C,EAAKuxC,oBAAsBpO,EACzBuR,GAAW3lB,KACT,KACA/uB,EACA0zC,EACAC,EACAC,EACAtyC,EACAuyC,EACAC,EACA,EACAG,EACAC,SAGJzC,GAAkBzxC,EAAMH,EAAOyB,GAAcyyC,GAGjDW,GACE10C,EACA0zC,EACAC,EACAC,EACAtyC,EACAuyC,EACAC,EACAE,EACAC,EACAC,EAEJ,CACA,SAAShB,GAAqC/P,GAC5C,IAAK,IAAIruC,EAAOquC,IAAkB,CAChC,IAAInpC,EAAMlF,EAAKkF,IACf,IACG,IAAMA,GAAO,KAAOA,GAAO,KAAOA,IACtB,MAAblF,EAAK2F,QAEL,QADET,EAAMlF,EAAK+1B,cACwB,QAAnB7wB,EAAMA,EAAI0xB,SAE5B,IAAK,IAAI92B,EAAI,EAAGA,EAAIoF,EAAItF,OAAQE,IAAK,CACnC,IAAI+/C,EAAQ36C,EAAIpF,GACd65B,EAAckmB,EAAMlmB,YACtBkmB,EAAQA,EAAMv7C,MACd,IACE,IAAK8d,GAASuX,IAAekmB,GAAQ,OAAO,CAC9C,CAAE,MAAO3zB,GACP,OAAO,CACT,CACF,CAEF,GADAhnB,EAAMlF,EAAKkG,MACa,MAApBlG,EAAK2pC,cAAwB,OAASzkC,EACvCA,EAAII,OAAStF,EAAQA,EAAOkF,MAC1B,CACH,GAAIlF,IAASquC,EAAc,MAC3B,KAAO,OAASruC,EAAKmG,SAAW,CAC9B,GAAI,OAASnG,EAAKsF,QAAUtF,EAAKsF,SAAW+oC,EAAc,OAAO,EACjEruC,EAAOA,EAAKsF,MACd,CACAtF,EAAKmG,QAAQb,OAAStF,EAAKsF,OAC3BtF,EAAOA,EAAKmG,OACd,CACF,CACA,OAAO,CACT,CACA,SAASw2C,GACPzxC,EACAI,EACAkB,EACAszC,GAEAx0C,IAAmBuwC,GACnBvwC,IAAmBswC,GACnB1wC,EAAKI,gBAAkBA,EACvBJ,EAAKK,cAAgBD,EACrBw0C,IAAyB50C,EAAKM,WAAaF,GAC3Cw0C,EAAuB50C,EAAK60C,gBAC5B,IAAK,IAAIh1C,EAAQO,EAAgB,EAAIP,GAAS,CAC5C,IAAIi1C,EAAU,GAAKv1C,GAAMM,GACvBe,EAAO,GAAKk0C,EACdF,EAAqBE,IAAY,EACjCj1C,IAAUe,CACZ,CACA,IAAMU,GACJD,GAAwBrB,EAAMsB,EAAalB,EAC/C,CACA,SAASgL,KACP,OAAO,KAA0B,EAAnBg3B,MACT2S,GAA8B,GAAG,IAAK,EAE7C,CACA,SAASrC,KACP,GAAI,OAASx4C,GAAgB,CAC3B,GAAI,IAAMm2C,GACR,IAAIN,EAAkB71C,GAAeE,YAGlC4mC,GAAwBD,GAA0B,KACnD1U,GAFD0jB,EAAkB71C,IAGhBioB,GAAkB,KAClBC,GAAyB,EACzB2tB,EAAkB71C,GACvB,KAAO,OAAS61C,GACdD,GAAsBC,EAAgBv1C,UAAWu1C,GAC9CA,EAAkBA,EAAgB31C,OACvCF,GAAiB,IACnB,CACF,CACA,SAASs3C,GAAkBxxC,EAAMH,GAC/BG,EAAKmjC,aAAe,KACpBnjC,EAAKO,cAAgB,EACrB,IAAI8yC,EAAgBrzC,EAAKqzC,eACxB,IAAMA,IACHrzC,EAAKqzC,eAAiB,EAAI2B,GAAc3B,IAE5C,QADAA,EAAgBrzC,EAAKuxC,uBAEjBvxC,EAAKuxC,oBAAsB,KAAO8B,KACtCX,KACA9wB,GAAqB5hB,EACrB9F,GAAiBm5C,EAAgB3vB,GAAqB1jB,EAAKhE,QAAS,MACpE8xB,GAAgCjuB,EAChCwwC,GAAgC,EAChCC,GAA4B,KAC5BC,IAA6C,EAC7CC,GAAmC/vC,GAA0BT,EAAMH,GACnE4wC,IAA0C,EAC1ChC,GACEnR,GACAqT,GACAD,GACAxiB,GACAyhB,GACE,EACJkB,GAAsCD,GACpC,KACFE,IAAoD,EACpD,KAAe,EAARjxC,KAAeA,GAAiB,GAARA,GAC/B,IAAIo1C,EAAoBj1C,EAAKuB,eAC7B,GAAI,IAAM0zC,EACR,IACEj1C,EAAOA,EAAKyB,cAAewzC,GAAqBp1C,EAChD,EAAIo1C,GAEJ,CACA,IAAIC,EAAU,GAAK31C,GAAM01C,GACvBr0C,EAAO,GAAKs0C,EACdr1C,GAASG,EAAKk1C,GACdD,IAAsBr0C,CACxB,CAGF,OAFAylB,GAAuBxmB,EACvB+c,KACOy2B,CACT,CACA,SAASR,GAAY7yC,EAAMqyC,GACzBzoB,GAA4B,KAC5BxyB,EAAqB0zB,EAAIK,GACzBknB,IAAgBpxB,IACVoxB,EAAcnwB,KACfmuB,GAAgC,GACjCgC,IAAgBnxB,IACZmxB,EAAcnwB,KACfmuB,GAAgC,GAChCA,GACCgC,IAAgBhY,GACZ,EACA,OAASgY,GACP,kBAAoBA,GACpB,oBAAsBA,EAAYjxB,KAClC,EACA,EACdkvB,GAA4B+B,EAC5B,OAASn4C,KACLy1C,GAA+B,EACjCvW,GACEp5B,EACAie,GAA2Bo0B,EAAaryC,EAAKhE,UAEnD,CACA,SAASk2C,KACP,IAAID,EAAiB76C,EAAqB0zB,EAE1C,OADA1zB,EAAqB0zB,EAAIK,GAClB,OAAS8mB,EAAiB9mB,GAAwB8mB,CAC3D,CACA,SAASG,KACP,IAAID,EAAsB/6C,EAAqB07C,EAE/C,OADA17C,EAAqB07C,EAAI9C,GAClBmC,CACT,CACA,SAAS7T,KACPqR,GAA+B,EAC/BY,KACoC,QAAhCziB,MACAA,IACA,OAASrH,GAA2BzqB,UACrCw0C,IAAmC,GACrC,KAAwC,UAAjCtiB,KACN,KAAmD,UAA5CwiB,KACP,OAAS9uB,IACT6vB,GACE7vB,GACAkM,GACAwP,IACA,EAEN,CACA,SAAS0V,GAAehzC,EAAMH,EAAOs1C,GACnC,IAAInD,EAAuB5P,GAC3BA,IAAoB,EACpB,IAAI6P,EAAiBC,KACnBC,EAAsBC,KACpBxwB,KAAuB5hB,GAAQ8tB,KAAkCjuB,IAClEmxC,GAA4B,KAAOQ,GAAkBxxC,EAAMH,IAC9DA,GAAQ,EACR,IAAIkyC,EAAapC,GACjB/kC,EAAG,WAEC,GAAI,IAAMylC,IAAiC,OAASn2C,GAAgB,CAClE,IAAIk7C,EAAal7C,GACfm4C,EAAc/B,GAChB,OAAQD,IACN,KAAK,EACHqC,KACAX,EAAa,EACb,MAAMnnC,EACR,KAAK,EACL,KAAK,EACL,KAAK,EACH,OAAS6b,GAA2BzqB,UAAY6D,GAAQ,GACxD,IAAI8hB,EAAS0uB,GAIb,GAHAA,GAAgC,EAChCC,GAA4B,KAC5BgC,GAAuBtyC,EAAMo1C,EAAY/C,EAAa1wB,GAEpDwzB,GACA3E,GACA,CACAuB,EAAa,EACb,MAAMnnC,CACR,CACA,MACF,QACG+W,EAAS0uB,GACPA,GAAgC,EAChCC,GAA4B,KAC7BgC,GAAuBtyC,EAAMo1C,EAAY/C,EAAa1wB,GAE9D,CACA0zB,KACAtD,EAAapC,GACb,KACF,CAAE,MAAO2F,GACPzC,GAAY7yC,EAAMs1C,EACpB,CAWF,OATAz1C,GAASG,EAAK6hB,sBACdmf,GAAwBD,GAA0B,KAClDqB,GAAmB4P,EACnB56C,EAAqB0zB,EAAImnB,EACzB76C,EAAqB07C,EAAIX,EACzB,OAASj4C,KACL0nB,GAAqB,KACtBkM,GAAgC,EACjClR,MACKm1B,CACT,CACA,SAASsD,KACP,KAAO,OAASn7C,IAAkBq7C,GAAkBr7C,GACtD,CA+GA,SAASy4C,KACP,KAAO,OAASz4C,KAAmB0D,MACjC23C,GAAkBr7C,GACtB,CACA,SAASq7C,GAAkBH,GACzB,IAAIp4B,EAAOyiB,GAAU2V,EAAW56C,UAAW46C,EAAY/uB,IACvD+uB,EAAWt1B,cAAgBs1B,EAAW3xB,aACtC,OAASzG,EAAOy1B,GAAmB2C,GAAel7C,GAAiB8iB,CACrE,CACA,SAASu1B,GAA0B6C,GACjC,IAAIp4B,EAAOo4B,EACPp5C,EAAUghB,EAAKxiB,UACnB,OAAQwiB,EAAKhjB,KACX,KAAK,GACL,KAAK,EACHgjB,EAAO2e,GACL3/B,EACAghB,EACAA,EAAKyG,aACLzG,EAAKxmB,UACL,EACAs3B,IAEF,MACF,KAAK,GACH9Q,EAAO2e,GACL3/B,EACAghB,EACAA,EAAKyG,aACLzG,EAAKxmB,KAAKM,OACVkmB,EAAKuF,IACLuL,IAEF,MACF,KAAK,EACHzB,GAAmBrP,GACrB,QACE8yB,GAAsB9zC,EAASghB,GAG5BA,EAAOyiB,GAAUzjC,EAFjBghB,EAAO9iB,GACNkzC,GAAoBpwB,EAAMqJ,IACKA,IAEvC+uB,EAAWt1B,cAAgBs1B,EAAW3xB,aACtC,OAASzG,EAAOy1B,GAAmB2C,GAAel7C,GAAiB8iB,CACrE,CACA,SAASs1B,GACPtyC,EACAo1C,EACA/C,EACAmD,GAEAxU,GAAwBD,GAA0B,KAClD1U,GAAmB+oB,GACnBjzB,GAAkB,KAClBC,GAAyB,EACzB,IAAIK,EAAc2yB,EAAWh7C,OAC7B,IACE,GA5hLJ,SACE4F,EACAyiB,EACAnF,EACAlkB,EACAq8C,GAGA,GADAn4B,EAAY7iB,OAAS,MAEnB,OAASrB,GACT,kBAAoBA,GACpB,oBAAsBA,EAAMgoB,KAC5B,CAUA,GARA,QADAqB,EAAcnF,EAAY9iB,YAExBkhC,GACEjZ,EACAnF,EACAm4B,GACA,GAGA,QADJn4B,EAAcmJ,GAA2BzqB,SACf,CACxB,OAAQshB,EAAYtjB,KAClB,KAAK,GACH,OACE,OAAS0sB,GACL4X,KACA,OAAShhB,EAAY9iB,WACrB,IAAMm1C,KACLA,GAA+B,GACnCryB,EAAY7iB,QAAU,IACtB6iB,EAAY7iB,OAAS,MACrB6iB,EAAYzd,MAAQ41C,EACrBr8C,IAAU+nB,GACL7D,EAAY7iB,OAAS,OAEtB,QADEgoB,EAAcnF,EAAYuN,aAEvBvN,EAAYuN,YAAc,IAAI7mB,IAAI,CAAC5K,IACpCqpB,EAAYne,IAAIlL,GACpBs8C,GAAmB11C,EAAM5G,EAAOq8C,KACpC,EAEJ,KAAK,GACH,OACGn4B,EAAY7iB,OAAS,MACtBrB,IAAU+nB,GACL7D,EAAY7iB,OAAS,OAEtB,QADEgoB,EAAcnF,EAAYuN,cAEtBpI,EAAc,CACdkxB,YAAa,KACbgC,gBAAiB,KACjB9L,WAAY,IAAI7lC,IAAI,CAAC5K,KAEtBkkB,EAAYuN,YAAcpI,GAE3B,QADEnF,EAAcmF,EAAYonB,YAEvBpnB,EAAYonB,WAAa,IAAI7lC,IAAI,CAAC5K,IACnCkkB,EAAYhZ,IAAIlL,GACxBs8C,GAAmB11C,EAAM5G,EAAOq8C,KACpC,EAGN,MAAMh+C,MAAMnD,EAAuB,IAAKgpB,EAAYtjB,KACtD,CAGA,OAFA07C,GAAmB11C,EAAM5G,EAAOq8C,GAChCnX,MACO,CACT,CACA,GAAIz2B,GACF,OAEE,QADC4a,EAAcgE,GAA2BzqB,UAErC,KAA2B,MAApBymB,EAAYhoB,SAAmBgoB,EAAYhoB,OAAS,KAC3DgoB,EAAYhoB,OAAS,MACrBgoB,EAAY5iB,MAAQ41C,EACrBr8C,IAAUqmB,IAERE,GAAoB1B,GADlBje,EAAOvI,MAAMnD,EAAuB,KAAM,CAAEshD,MAAOx8C,IACAkkB,MACtDlkB,IAAUqmB,IAITE,GACE1B,GAJAwE,EAAchrB,MAAMnD,EAAuB,KAAM,CACjDshD,MAAOx8C,IAGiCkkB,KAE3Ctd,EAAOA,EAAKhE,QAAQxB,WACfC,OAAS,MACdg7C,IAAoBA,EACpBz1C,EAAKH,OAAS41C,EACdr8C,EAAQ6kB,GAA2B7kB,EAAOkkB,GAM3C+kB,GAAsBriC,EALrBy1C,EAAkB1b,GACjB/5B,EAAKwD,UACLpK,EACAq8C,IAGF,IAAM9F,KACHA,GAA+B,KACtC,EAEJ,IAAIkG,EAAep+C,MAAMnD,EAAuB,KAAM,CAAEshD,MAAOx8C,IAM/D,GALAy8C,EAAe53B,GAA2B43B,EAAcv4B,GACxD,OAASszB,GACJA,GAAqC,CAACiF,GACvCjF,GAAmCz0C,KAAK05C,GAC5C,IAAMlG,KAAiCA,GAA+B,GAClE,OAASltB,EAAa,OAAO,EACjCrpB,EAAQ6kB,GAA2B7kB,EAAOkkB,GAC1CA,EAAcmF,EACd,EAAG,CACD,OAAQnF,EAAYtjB,KAClB,KAAK,EACH,OACGsjB,EAAY7iB,OAAS,MACrBuF,EAAOy1C,GAAmBA,EAC1Bn4B,EAAYzd,OAASG,EAEtBqiC,GAAsB/kB,EADrBtd,EAAO+5B,GAAsBzc,EAAY9Z,UAAWpK,EAAO4G,KAE5D,EAEJ,KAAK,EACH,GACIyiB,EAAcnF,EAAY9mB,KAC3Bq/C,EAAev4B,EAAY9Z,UAC5B,KAA2B,IAApB8Z,EAAY7iB,SAChB,oBAAsBgoB,EAAYyX,0BAChC,OAAS2b,GACR,oBAAsBA,EAAa1b,oBAClC,OAASC,KACPA,GAAuC7wB,IAAIssC,KAEpD,OACGv4B,EAAY7iB,OAAS,MACrBg7C,IAAoBA,EACpBn4B,EAAYzd,OAAS41C,EAEtBxb,GADCwb,EAAkBzb,GAAuByb,GAGxCz1C,EACAsd,EACAlkB,GAEFipC,GAAsB/kB,EAAam4B,IACnC,EAGRn4B,EAAcA,EAAYljB,MAC5B,OAAS,OAASkjB,GAClB,OAAO,CACT,CAs4KMw4B,CACE91C,EACAyiB,EACA2yB,EACA/C,EACAvkB,IASF,OANA6hB,GAA+B,EAC/BvW,GACEp5B,EACAie,GAA2Bo0B,EAAaryC,EAAKhE,eAE/C9B,GAAiB,KAGrB,CAAE,MAAO8mB,GACP,GAAI,OAASyB,EAAa,MAAQvoB,GAAiBuoB,EAAczB,EAOjE,OANA2uB,GAA+B,EAC/BvW,GACEp5B,EACAie,GAA2Bo0B,EAAaryC,EAAKhE,eAE/C9B,GAAiB,KAEnB,CACuB,MAAnBk7C,EAAW36C,OACToN,IAAe,IAAM2tC,EAAiBx1C,GAAO,EAE/CwwC,IACA,KAAuC,UAAhC1iB,IAEP9tB,GAAO,GAELuwC,GAA6CvwC,GAAO,GACtD,IAAMw1C,GAAmB,IAAMA,GAAmB,IAAMA,KAGtD,QADDA,EAAkB/uB,GAA2BzqB,UAE1C,KAAOw5C,EAAgBx7C,MACtBw7C,EAAgB/6C,OAAS,SAChCs7C,GAAiBX,EAAYp1C,IACxByyC,GAAmB2C,EAC5B,CACA,SAAS3C,GAAmB2C,GAC1B,IAAIrG,EAAgBqG,EACpB,EAAG,CACD,GAAI,KAA6B,MAAtBrG,EAAct0C,OAKvB,YAJAs7C,GACEhH,EACAwB,IAIJ6E,EAAarG,EAAc30C,OAC3B,IAAI4iB,EAAOmyB,GACTJ,EAAcv0C,UACdu0C,EACA1oB,IAEF,GAAI,OAASrJ,EAEX,YADA9iB,GAAiB8iB,GAInB,GAAI,QADJ+xB,EAAgBA,EAAc9zC,SAG5B,YADAf,GAAiB60C,GAGnB70C,GAAiB60C,EAAgBqG,CACnC,OAAS,OAASrG,GAClB,IAAMY,KAAiCA,GAA+B,EACxE,CACA,SAASoG,GAAiBX,EAAYY,GACpC,EAAG,CACD,IAAIh5B,EAAO6yB,GAAWuF,EAAW56C,UAAW46C,GAC5C,GAAI,OAASp4B,EAGX,OAFAA,EAAKviB,OAAS,WACdP,GAAiB8iB,GAMnB,GAFA,QADAA,EAAOo4B,EAAWh7C,UAEd4iB,EAAKviB,OAAS,MAASuiB,EAAKyhB,aAAe,EAAKzhB,EAAKmG,UAAY,OAElE6yB,GACmC,QAAlCZ,EAAaA,EAAWn6C,SAG1B,YADAf,GAAiBk7C,GAGnBl7C,GAAiBk7C,EAAap4B,CAChC,OAAS,OAASo4B,GAClBzF,GAA+B,EAC/Bz1C,GAAiB,IACnB,CACA,SAASw6C,GACP10C,EACA0zC,EACAC,EACAC,EACAtyC,EACAuyC,EACAC,EACAE,EACAC,EACAC,GAEA,IAAIvjB,EAAiBv5B,EAAqBo5B,EACxCylB,EAA6B56C,EAAwB2G,EACvD,IACG3G,EAAwB2G,EAAI,EAC1B5K,EAAqBo5B,EAAI,KAmBhC,SACExwB,EACA0zC,EACAC,EACAC,EACAsC,EACA50C,EACAuyC,EACAC,GAEA,GAAGqC,WACI,OAASjF,IAChB,GAAI,KAA0B,EAAnB9O,IAAuB,MAAM3qC,MAAMnD,EAAuB,MACrE,IAAI6uC,EAAenjC,EAAKmjC,aAExB,GADAyQ,EAA8B5zC,EAAKO,cAC/B,OAAS4iC,EAAc,OAAO,KAGlC,GAFAnjC,EAAKmjC,aAAe,KACpBnjC,EAAKO,cAAgB,EACjB4iC,IAAiBnjC,EAAKhE,QAAS,MAAMvE,MAAMnD,EAAuB,MACtE0L,EAAKo2C,aAAe,KACpBp2C,EAAKq2C,iBAAmB,EACxBr2C,EAAKuxC,oBAAsB,KAC3B,IAAI+E,EAAiBnT,EAAatjC,MAAQsjC,EAAa1lB,WAoDvD,GA3qUF,SACEzd,EACAO,EACA+1C,EACAh1C,EACAuyC,EACAC,GAEA,IAAIyC,EAAyBv2C,EAAKE,aAClCF,EAAKE,aAAeo2C,EACpBt2C,EAAKI,eAAiB,EACtBJ,EAAKK,YAAc,EACnBL,EAAKM,UAAY,EACjBN,EAAK8xC,cAAgBwE,EACrBt2C,EAAKuB,gBAAkB+0C,EACvBt2C,EAAKmzC,4BAA8BmD,EACnCt2C,EAAK6hB,oBAAsB,EAC3B,IAAIpgB,EAAgBzB,EAAKyB,cACvBozC,EAAkB70C,EAAK60C,gBACvBl3B,EAAgB3d,EAAK2d,cACvB,IACE24B,EAAiBC,GAA0BD,EAC3C,EAAIA,GAEJ,CACA,IAAIE,EAAU,GAAKj3C,GAAM+2C,GACvB11C,EAAO,GAAK41C,EACd/0C,EAAc+0C,GAAW,EACzB3B,EAAgB2B,IAAY,EAC5B,IAAIC,EAAuB94B,EAAc64B,GACzC,GAAI,OAASC,EACX,IACE94B,EAAc64B,GAAW,KAAMA,EAAU,EACzCA,EAAUC,EAAqB/hD,OAC/B8hD,IACA,CACA,IAAIz5B,EAAS05B,EAAqBD,GAClC,OAASz5B,IAAWA,EAAOnc,OAAS,UACtC,CACF01C,IAAmB11C,CACrB,CACA,IAAMU,GAAeD,GAAwBrB,EAAMsB,EAAa,GAChE,IAAMwyC,GACJ,IAAMD,GACN,IAAM7zC,EAAKhG,MACVgG,EAAKI,gBACJ0zC,IAAwByC,GAA0Bh2C,GACxD,CA0kUEm2C,CACE12C,EACA4zC,EAHF0C,GAAkB35B,GAKhBrb,EACAuyC,EACAC,GAEF9zC,IAAS4hB,KACL1nB,GAAiB0nB,GAAqB,KACvCkM,GAAgC,GAClC,KAAmC,MAA5BqV,EAAa1E,eACnB,KAA4B,MAArB0E,EAAa1oC,QACpBw2C,KACEA,IAA6B,EAC9BG,GAAsCkF,EACtCjF,GAA4BsC,EA2NjC,SAA4BgD,EAAetjB,GAClC71B,GAAmBm5C,EAAetjB,EAC3C,CA5NIujB,CAAmBp4C,IAAkB,WAEnC,OADA23C,KACO,IACT,KACFxC,EAAc,KAA4B,MAArBxQ,EAAa1oC,OAClC,KAAmC,MAA5B0oC,EAAa1E,eAAyBkV,GACvCA,EAAcv8C,EAAqBo5B,EACpCp5B,EAAqBo5B,EAAI,KACzBlvB,EAAcjG,EAAwB2G,EACtC3G,EAAwB2G,EAAI,EAC5B6xC,EAAezR,GACfA,IAAoB,EA5zG3B,SAAqCpiC,EAAM6I,GAIzC,GAHA7I,EAAOA,EAAKuY,cACZs+B,GAAgBC,GAEZl+B,GADJ5Y,EAAOsY,GAAqBtY,IACQ,CAClC,GAAI,mBAAoBA,EACtB,IAAI2gB,EAAkB,CACpB/U,MAAO5L,EAAKoZ,eACZvN,IAAK7L,EAAKqZ,mBAGZzO,EAAG,CAKD,IAAImsC,GAJJp2B,GACIA,EAAkB3gB,EAAK8H,gBACvB6Y,EAAgBnI,aAClBvW,QAEgBsX,cAAgBoH,EAAgBpH,eAClD,GAAIw9B,GAAa,IAAMA,EAAUr9B,WAAY,CAC3CiH,EAAkBo2B,EAAUp9B,WAC5B,IAAIC,EAAem9B,EAAUn9B,aAC3BC,EAAYk9B,EAAUl9B,UACxBk9B,EAAYA,EAAUj9B,YACtB,IACE6G,EAAgB5rB,SAAU8kB,EAAU9kB,QACtC,CAAE,MAAOiiD,GACPr2B,EAAkB,KAClB,MAAM/V,CACR,CACA,IAAIlW,EAAS,EACXkX,GAAS,EACTC,GAAO,EACPorC,EAAoB,EACpBC,EAAmB,EACnBpiD,EAAOkL,EACPnD,EAAa,KACfsO,EAAG,OAAS,CACV,IAAK,IAAI6R,EACPloB,IAAS6rB,GACN,IAAM/G,GAAgB,IAAM9kB,EAAKC,WACjC6W,EAAQlX,EAASklB,GACpB9kB,IAAS+kB,GACN,IAAMk9B,GAAa,IAAMjiD,EAAKC,WAC9B8W,EAAMnX,EAASqiD,GAClB,IAAMjiD,EAAKC,WAAaL,GAAUI,EAAKiU,UAAUrU,QAC7C,QAAUsoB,EAAOloB,EAAK+T,aAC1BhM,EAAa/H,EACbA,EAAOkoB,EAET,OAAS,CACP,GAAIloB,IAASkL,EAAM,MAAMmL,EAOzB,GANAtO,IAAe8jB,KACXs2B,IAAsBr9B,IACvBhO,EAAQlX,GACXmI,IAAegd,KACXq9B,IAAqBH,IACtBlrC,EAAMnX,GACL,QAAUsoB,EAAOloB,EAAKkjB,aAAc,MAExCnb,GADA/H,EAAO+H,GACWA,UACpB,CACA/H,EAAOkoB,CACT,CACA2D,GACG,IAAM/U,IAAU,IAAMC,EAAM,KAAO,CAAED,MAAOA,EAAOC,IAAKA,EAC7D,MAAO8U,EAAkB,IAC3B,CACFA,EAAkBA,GAAmB,CAAE/U,MAAO,EAAGC,IAAK,EACxD,MAAO8U,EAAkB,KAGzB,IAFAw2B,GAAuB,CAAEl+B,YAAajZ,EAAMmZ,eAAgBwH,GAC5Dm2B,IAAW,EACNhR,GAAaj9B,EAAY,OAASi9B,IACrC,GAEG9lC,GADC6I,EAAai9B,IACI9qC,MACnB,KAAiC,KAA1B6N,EAAW41B,eAAwB,OAASz+B,EAElDA,EAAK5F,OAASyO,EAAci9B,GAAa9lC,OAE1C,KAAO,OAAS8lC,IAAc,CAI5B,OAFAjsB,GADAhR,EAAai9B,IACUtrC,UACvBwF,EAAO6I,EAAWpO,MACVoO,EAAW7O,KACjB,KAAK,EAEL,KAAK,GACL,KAAK,GAgDL,KAAK,EACL,KAAK,GACL,KAAK,GACL,KAAK,EACL,KAAK,EACL,KAAK,GACH,MApDF,KAAK,EACH,GAAI,KAAc,KAAPgG,IAAgB,OAAS6Z,EAAW,CAC7C7Z,OAAO,EACP2gB,EAAkB9X,EAClB+Q,EAAeC,EAAUiG,cACzBjG,EAAYA,EAAUjf,cACtBm8C,EAAYp2B,EAAgBnd,UAC5B,IACE,IAAI4zC,EAAoB9e,GACtB3X,EAAgBnqB,KAChBojB,GACA+G,EAAgByD,YAAgBzD,EAAgBnqB,OAElDwJ,EAAO+2C,EAAU9a,wBACfmb,EACAv9B,GAEFk9B,EAAU5Q,oCAAsCnmC,CAClD,CAAE,MAAOghB,GACPqiB,GACE1iB,EACAA,EAAgBvmB,OAChB4mB,EAEJ,CACF,CACA,MACF,KAAK,EACH,GAAI,KAAc,KAAPhhB,GACT,GAGE,KADC2gB,GADC3gB,EAAO6I,EAAWrF,UAAU+U,eACNxjB,UAGxBsiD,GAAwBr3C,QACrB,GAAI,IAAM2gB,EACb,OAAQ3gB,EAAK4F,UACX,IAAK,OACL,IAAK,OACL,IAAK,OACHyxC,GAAwBr3C,GACxB,MACF,QACEA,EAAK0I,YAAc,GAE3B,MAQF,QACE,GAAI,KAAc,KAAP1I,GAAc,MAAMvI,MAAMnD,EAAuB,MAGhE,GAAI,QADJ0L,EAAO6I,EAAW5N,SACC,CACjB+E,EAAK5F,OAASyO,EAAWzO,OACzB0rC,GAAa9lC,EACb,KACF,CACA8lC,GAAaj9B,EAAWzO,MAC1B,CACJg9C,EAAoBrR,GACpBA,IAAoC,CAEtC,CAiqGMuR,CAA4Bt3C,EAAMmjC,GAClCiF,GAA6BjF,EAAcnjC,GAC3C8Y,GAAiBq+B,GAAsBn3C,EAAKuY,eAC3Cu+B,KAAaD,GACbM,GAAuBN,GAAgB,KACvC72C,EAAKhE,QAAUmnC,EAChB6C,GAA0BhmC,EAAMmjC,EAAa3oC,UAAW2oC,GACxDrlC,KACCskC,GAAmByR,EACnBx4C,EAAwB2G,EAAIV,EAC5BlK,EAAqBo5B,EAAImjB,GACzB3zC,EAAKhE,QAAUmnC,EACpB8N,IACMA,IAA6B,EAC9BC,GAAgClxC,EAChCmxC,GAA6ByC,GAC9B2D,GAAuBv3C,EAAMs2C,GACjCA,EAAiBt2C,EAAKE,aACtB,IAAMo2C,IAAmBlc,GAAyC,MAv2UpE,SAAsBp6B,GACpB,GAAId,IAAgB,oBAAsBA,GAAas4C,kBACrD,IACEt4C,GAAas4C,kBACXv4C,GACAe,OACA,EACA,OAA8B,IAArBA,EAAKhE,QAAQvB,OAE1B,CAAE,MAAO6E,GAAM,CACnB,CA81UEm4C,CAAatU,EAAa3/B,WAC1BkuC,GAAsB1xC,GAClB,OAAS0zC,EACX,IACEwC,EAAsBl2C,EAAK03C,mBAAoBvU,EAAe,EAC9DA,EAAeuQ,EAAkBh/C,OACjCyuC,IAECmT,EAAiB5C,EAAkBvQ,GAClC+S,EAAoBI,EAAel9C,MAAO,CACxCmgC,eAAgB+c,EAAe3+C,QAEvC,KAAoC,EAA7Bw5C,KAAmCgF,KAC1CG,EAAiBt2C,EAAKE,aACtB,KAAqC,QAA9B0zC,IAA0C,KAAwB,GAAjB0C,GACpDt2C,IAAS6d,GACPD,MACEA,GAAoB,EAAKC,GAAwB7d,GACpD4d,GAAoB,EACzBm3B,GAA8B,GAAG,EAEnC,CA/GM4C,CACE33C,EACA0zC,EACAC,EACAC,EACAqC,EACA30C,EACAuyC,EACAC,EAKN,CAAE,QACC18C,EAAqBo5B,EAAIG,EACvBt1B,EAAwB2G,EAAIi0C,CACjC,CACF,CA+FA,SAASsB,GAAuBv3C,EAAMs2C,GACpC,KAAOt2C,EAAK6gC,kBAAoByV,KAE9B,OADEA,EAAiBt2C,EAAKqpB,eAEpBrpB,EAAKqpB,YAAc,KAAOhB,GAAaiuB,IAC/C,CACA,SAASH,KACP,GAAI,OAASjF,GAA+B,CAC1C,IAAI0G,EAAW1G,GACboF,EAAiBlF,GACnBA,GAAsC,EACtC,IAAIyG,EAAiBh2C,GAAqBsvC,IACxCxgB,EAAiBv5B,EAAqBo5B,EACtCwD,EAAmB34B,EAAwB2G,EAC7C,IAGE,GAFA3G,EAAwB2G,EAAI,GAAK61C,EAAiB,GAAKA,EACvDzgD,EAAqBo5B,EAAI,KACrB,OAAS0gB,GACX,IAAI/zC,GAA2B,MAC5B,CACH06C,EAAiBxG,GACjBA,GAA4B,KAC5B,IAAIrxC,EAAOkxC,GACTrxC,EAAQsxC,GAGV,GAFAD,GAAgC,KAChCC,GAA6B,EACzB,KAA0B,EAAnB/O,IACT,MAAM3qC,MAAMnD,EAAuB,MACrC,IAAI09C,EAAuB5P,GAM3B,GALAA,IAAoB,EACpB2K,GAA4B/sC,EAAKhE,SACjC0uC,GAA0B1qC,EAAMA,EAAKhE,QAAS6D,EAAOg4C,GACrDzV,GAAmB4P,EACnB+C,GAA8B,GAAG,GAE/B71C,IACA,oBAAsBA,GAAa44C,sBAEnC,IACE54C,GAAa44C,sBAAsB74C,GAAYe,EACjD,CAAE,MAAOV,GAAM,CACjBnC,GAA2B,CAC7B,CACA,OAAOA,CACT,CAAE,QACC9B,EAAwB2G,EAAIgyB,EAC1B58B,EAAqBo5B,EAAIG,EAC1B4mB,GAAuBK,EAAUtB,EACrC,CACF,CACA,OAAO,CACT,CACA,SAASyB,GAA8BC,EAAW16B,EAAa0D,GAC7D1D,EAAcW,GAA2B+C,EAAO1D,GAGhD,QADA06B,EAAY5iB,GAAc4iB,EAD1B16B,EAAcyc,GAAsBie,EAAUx0C,UAAW8Z,EAAa,GACpB,MAE/Cnc,GAAkB62C,EAAW,GAAItG,GAAsBsG,GAC5D,CACA,SAAS3U,GAAwB/lB,EAAakmB,EAAwBxiB,GACpE,GAAI,IAAM1D,EAAYtjB,IACpB+9C,GAA8Bz6B,EAAaA,EAAa0D,QAExD,KAAO,OAASwiB,GAA0B,CACxC,GAAI,IAAMA,EAAuBxpC,IAAK,CACpC+9C,GACEvU,EACAlmB,EACA0D,GAEF,KACF,CAAO,GAAI,IAAMwiB,EAAuBxpC,IAAK,CAC3C,IAAI6lB,EAAW2jB,EAAuBhgC,UACtC,GACE,oBACSggC,EAAuBhtC,KAAK0jC,0BACpC,oBAAsBra,EAASsa,oBAC7B,OAASC,KACPA,GAAuC7wB,IAAIsW,IAChD,CACAvC,EAAcW,GAA2B+C,EAAO1D,GAGhD,QADAuC,EAAWuV,GAAcoO,EADzBxiB,EAAQgZ,GAAuB,GACyB,MAErDC,GACCjZ,EACAnB,EACA2jB,EACAlmB,GAEFnc,GAAkB0e,EAAU,GAC5B6xB,GAAsB7xB,IACxB,KACF,CACF,CACA2jB,EAAyBA,EAAuBppC,MAClD,CACJ,CACA,SAASs7C,GAAmB11C,EAAM8nC,EAAUjoC,GAC1C,IAAIo4C,EAAYj4C,EAAKi4C,UACrB,GAAI,OAASA,EAAW,CACtBA,EAAYj4C,EAAKi4C,UAAY,IAAI7H,GACjC,IAAI8H,EAAY,IAAIl0C,IACpBi0C,EAAUx/C,IAAIqvC,EAAUoQ,EAC1B,WAEI,KADDA,EAAYD,EAAU9xC,IAAI2hC,MAErBoQ,EAAY,IAAIl0C,IAAQi0C,EAAUx/C,IAAIqvC,EAAUoQ,IACxDA,EAAU3uC,IAAI1J,KACV4wC,IAA0C,EAC5CyH,EAAU5zC,IAAIzE,GACbG,EAAOm4C,GAAkBppB,KAAK,KAAM/uB,EAAM8nC,EAAUjoC,GACrDioC,EAAS1mB,KAAKphB,EAAMA,GACxB,CACA,SAASm4C,GAAkBn4C,EAAM8nC,EAAUznC,GACzC,IAAI43C,EAAYj4C,EAAKi4C,UACrB,OAASA,GAAaA,EAAUzyB,OAAOsiB,GACvC9nC,EAAKK,aAAeL,EAAKI,eAAiBC,EAC1CL,EAAKM,YAAcD,EACnBuhB,KAAuB5hB,IACpB8tB,GAAgCztB,KAAiBA,IACjD,IAAMsvC,IACN,IAAMA,KAC4B,SAAhC7hB,MACCA,IACF,IAAM9vB,KAAQyrC,GACZ,KAA0B,EAAnBrH,KAAyBoP,GAAkBxxC,EAAM,GACvD2wC,IAAiCtwC,EACtCouC,KAAsC3gB,KACnC2gB,GAAoC,IACzCiD,GAAsB1xC,EACxB,CACA,SAASo4C,GAAsBC,EAAenb,GAC5C,IAAMA,IAAcA,EAAYn8B,MAEhC,QADAs3C,EAAgBh7B,GAA+Bg7B,EAAenb,MAE3D/7B,GAAkBk3C,EAAenb,GAClCwU,GAAsB2G,GAC1B,CACA,SAAS9Z,GAAgC8Z,GACvC,IAAI19C,EAAgB09C,EAAcz9C,cAChCsiC,EAAY,EACd,OAASviC,IAAkBuiC,EAAYviC,EAAcuiC,WACrDkb,GAAsBC,EAAenb,EACvC,CACA,SAAS8K,GAAqBqQ,EAAevQ,GAC3C,IAAI5K,EAAY,EAChB,OAAQmb,EAAcr+C,KACpB,KAAK,GACH,IAAI2tC,EAAa0Q,EAAc70C,UAC3B7I,EAAgB09C,EAAcz9C,cAClC,OAASD,IAAkBuiC,EAAYviC,EAAcuiC,WACrD,MACF,KAAK,GACHyK,EAAa0Q,EAAc70C,UAC3B,MACF,KAAK,GACHmkC,EAAa0Q,EAAc70C,UAAUokC,YACrC,MACF,QACE,MAAMnwC,MAAMnD,EAAuB,MAEvC,OAASqzC,GAAcA,EAAWniB,OAAOsiB,GACzCsQ,GAAsBC,EAAenb,EACvC,CAIA,IAAIob,GAAqB,KACvBC,GAAoB,KACpBC,IAAuB,EACvBC,IAA2B,EAC3BC,IAAiB,EACjBC,GAA6B,EAC/B,SAASjH,GAAsB1xC,GAyK/B,IAA+B44C,EAxK7B54C,IAASu4C,IACP,OAASv4C,EAAKgd,OACb,OAASu7B,GACLD,GAAqBC,GAAoBv4C,EACzCu4C,GAAoBA,GAAkBv7B,KAAOhd,GACpDy4C,IAA2B,EAC3BD,KACIA,IAAuB,EAiKEI,EAhKLC,GAiKxBC,IAAkB,WAChB,KAA0B,EAAnB1W,IACH5kC,GAAmBY,GAAmBw6C,GACtCA,GACN,IApKF,CACA,SAAS7D,GAA8BgE,EAAqBC,GAC1D,IAAKN,IAAkBD,GAA0B,CAC/CC,IAAiB,EACjB,GAEE,IADA,IAAIO,GAAqB,EAChBC,EAAWZ,GAAoB,OAASY,GAAY,CAC3D,IAAKF,EACH,GAAI,IAAMD,EAAqB,CAC7B,IAAI74C,EAAeg5C,EAASh5C,aAC5B,GAAI,IAAMA,EAAc,IAAI/C,EAA2B,MAClD,CACH,IAAIiD,EAAiB84C,EAAS94C,eAC5BC,EAAc64C,EAAS74C,YACzBlD,GACG,GAAM,GAAKoC,GAAM,GAAKw5C,GAAuB,GAAM,EAGtD57C,EAC6B,WAH7BA,GACE+C,IAAiBE,GAAkBC,IAGH,UAA3BlD,EAAwC,EACzCA,EAC6B,EAA3BA,EACA,CACV,CACA,IAAMA,IACF87C,GAAqB,EACvBE,GAAsBD,EAAU/7C,GACpC,MACGA,EAA2B2wB,GAK1B,KAAkC,GAJjC3wB,EAA2B4C,GAC1Bm5C,EACAA,IAAat3B,GAAqBzkB,EAA2B,MAG7DsD,GAA0By4C,EAAU/7C,KAClC87C,GAAqB,EACvBE,GAAsBD,EAAU/7C,IACxC+7C,EAAWA,EAASl8B,IACtB,QACOi8B,GACTP,IAAiB,CACnB,CACF,CACA,SAASG,KACPJ,GAA2BD,IAAuB,EAClD,IAAIO,EAAsB,EAC1B,IAAMJ,KAq7DR,WACE,IAAIz2C,EAAQD,OAAOC,MACnB,GAAIA,GAAS,aAAeA,EAAM1L,KAChC,OAAI0L,IAAUk3C,KACdA,GAAiCl3C,GAC1B,GAGT,OADAk3C,GAAiC,MAC1B,CACT,CA77DKC,KACEN,EAAsBJ,IACxBA,GAA6B,GAChC,IACE,IAAI93C,EAAc7C,KAAOs7C,EAAO,KAAMt5C,EAAOs4C,GAC7C,OAASt4C,GAET,CACA,IAAIgd,EAAOhd,EAAKgd,KACd7c,EAAYo5C,GAAmCv5C,EAAMa,GACnD,IAAMV,GACPH,EAAKgd,KAAO,KACX,OAASs8B,EAAQhB,GAAqBt7B,EAASs8B,EAAKt8B,KAAOA,EAC3D,OAASA,IAASu7B,GAAoBe,KAEtCA,EAAOt5C,GAAO,IAAM+4C,GAAuB,KAAmB,EAAZ54C,MAEpDs4C,IAA2B,IAC7Bz4C,EAAOgd,CACT,CACA+3B,GAA8BgE,GAAqB,EACrD,CACA,SAASQ,GAAmCv5C,EAAMa,GAChD,IACE,IAAIT,EAAiBJ,EAAKI,eACxBC,EAAcL,EAAKK,YACnBw0C,EAAkB70C,EAAK60C,gBACvBh1C,GAA6B,SAArBG,EAAKE,aACf,EAAIL,GAEJ,CACA,IAAI25C,EAAU,GAAKj6C,GAAMM,GACvBe,EAAO,GAAK44C,EACZC,EAAiB5E,EAAgB2E,IAC9B,IAAMC,EACL,KAAO74C,EAAOR,IAAmB,KAAOQ,EAAOP,KACjDw0C,EAAgB2E,GAAW74C,GAAsBC,EAAMC,IACpD44C,GAAkB54C,IAAgBb,EAAK8xC,cAAgBlxC,GAC9Df,IAAUe,CACZ,CAQA,GANAR,EAAiB0tB,GACjB1tB,EAAiBL,GACfC,EACAA,KAJFa,EAAc+gB,IAIWxhB,EAAiB,GAE1CC,EAAcL,EAAKo2C,aAEjB,IAAMh2C,GACLJ,IAASa,GAAe,IAAMwvC,IAC/B,OAASrwC,EAAKuxC,oBAEd,OACE,OAASlxC,GACP,OAASA,GACT3C,GAAiB2C,GAClBL,EAAKo2C,aAAe,KACpBp2C,EAAKq2C,iBAAmB,EAE7B,GACE,KAAwB,EAAjBj2C,IACPK,GAA0BT,EAAMI,GAChC,CAEA,IADAS,EAAcT,GAAkBA,KACZJ,EAAKq2C,iBAAkB,OAAOx1C,EAElD,OADA,OAASR,GAAe3C,GAAiB2C,GACjCwB,GAAqBzB,IAC3B,KAAK,EACL,KAAK,EACHA,EAAiB9B,GACjB,MACF,KAAK,GAML,QACE8B,EAAiB5B,SAJnB,KAAK,UACH4B,EAAiBxB,GASrB,OAJAyB,EAAcq5C,GAAkC3qB,KAAK,KAAM/uB,GAC3DI,EAAiB5C,GAAmB4C,EAAgBC,GACpDL,EAAKq2C,iBAAmBx1C,EACxBb,EAAKo2C,aAAeh2C,EACbS,CACT,CAIA,OAHA,OAASR,GAAe,OAASA,GAAe3C,GAAiB2C,GACjEL,EAAKq2C,iBAAmB,EACxBr2C,EAAKo2C,aAAe,KACb,CACT,CACA,SAASsD,GAAkC15C,EAAM25C,GAC/C,IAAIC,EAAuB55C,EAAKo2C,aAChC,GAAID,MAAyBn2C,EAAKo2C,eAAiBwD,EACjD,OAAO,KACT,IAAIC,EAAyC/rB,GAK7C,OAAI,KAJJ+rB,EAAyC95C,GACvCC,EACAA,IAAS4hB,GAAqBi4B,EAAyC,IAEhB,MACzDlI,GAAkB3xC,EAAM65C,EAAwCF,GAChEJ,GAAmCv5C,EAAMhC,MAClC,MAAQgC,EAAKo2C,cAAgBp2C,EAAKo2C,eAAiBwD,EACtDF,GAAkC3qB,KAAK,KAAM/uB,GAC7C,KACN,CACA,SAASm5C,GAAsBn5C,EAAMH,GACnC,GAAIs2C,KAAuB,OAAO,KAClCxE,GAAkB3xC,EAAMH,GAAO,EACjC,CAQA,SAASkpB,KAGP,OAFA,IAAM4vB,KACHA,GAA6B73C,MACzB63C,EACT,CACA,SAASmB,GAAqBC,GAC5B,OAAO,MAAQA,GACb,kBAAoBA,GACpB,mBAAqBA,EACnB,KACA,oBAAsBA,EACpBA,EACA/vC,GAAY,GAAK+vC,EACzB,CACA,SAASC,GAA4BjvC,EAAMkvC,GACzC,IAAIC,EAAOD,EAAUnyC,cAAcrD,cAAc,SAOjD,OANAy1C,EAAKvjD,KAAOsjD,EAAUtjD,KACtBujD,EAAK9gD,MAAQ6gD,EAAU7gD,MACvB2R,EAAK8yB,IAAMqc,EAAK90C,aAAa,OAAQ2F,EAAK8yB,IAC1Coc,EAAUp9C,WAAWwoC,aAAa6U,EAAMD,GACxClvC,EAAO,IAAIovC,SAASpvC,GACpBmvC,EAAKr9C,WAAWoqC,YAAYiT,GACrBnvC,CACT,CA4EA,IACE,IAAIqvC,GAAuB,EAC3BA,GAAuB79B,GAAwB7nB,OAC/C0lD,KACA,CACA,IAAIC,GACA99B,GAAwB69B,IAM5B59B,GAJI69B,GAA6Bl1C,cAM/B,MAJEk1C,GAA6B,GAAGC,cAChCD,GAA6B93C,MAAM,IAKzC,CACAia,GAAoBT,GAAe,kBACnCS,GAAoBR,GAAqB,wBACzCQ,GAAoBP,GAAiB,oBACrCO,GAAoB,WAAY,iBAChCA,GAAoB,UAAW,WAC/BA,GAAoB,WAAY,UAChCA,GAAoBN,GAAgB,mBACpCM,GAAoBL,GAAkB,qBACtCK,GAAoBJ,GAAmB,sBACvCI,GAAoBH,GAAgB,mBACpChY,GAAoB,eAAgB,CAAC,WAAY,cACjDA,GAAoB,eAAgB,CAAC,WAAY,cACjDA,GAAoB,iBAAkB,CAAC,aAAc,gBACrDA,GAAoB,iBAAkB,CAAC,aAAc,gBACrDH,GACE,WACA,oEAAoEzK,MAAM,MAE5EyK,GACE,WACA,uFAAuFzK,MACrF,MAGJyK,GAAsB,gBAAiB,CACrC,iBACA,WACA,YACA,UAEFA,GACE,mBACA,2DAA2DzK,MAAM,MAEnEyK,GACE,qBACA,6DAA6DzK,MAAM,MAErEyK,GACE,sBACA,8DAA8DzK,MAAM,MAEtE,IAAIumB,GACA,6NAA6NvmB,MAC3N,KAEJ8gD,GAAqB,IAAIv2C,IACvB,iEACGvK,MAAM,KACNy5B,OAAOlT,KAEd,SAAS9J,GAAqBN,EAAe4kC,GAC3CA,EAAmB,KAA0B,EAAnBA,GAC1B,IAAK,IAAI5lD,EAAI,EAAGA,EAAIghB,EAAclhB,OAAQE,IAAK,CAC7C,IAAI6lD,EAAmB7kC,EAAchhB,GACnCsN,EAAQu4C,EAAiBv4C,MAC3Bu4C,EAAmBA,EAAiB3kC,UACpClL,EAAG,CACD,IAAI8vC,OAAmB,EACvB,GAAIF,EACF,IACE,IAAIG,EAAaF,EAAiB/lD,OAAS,EAC3C,GAAKimD,EACLA,IACA,CACA,IAAIC,EAAuBH,EAAiBE,GAC1C96B,EAAW+6B,EAAqB/6B,SAChC5S,EAAgB2tC,EAAqB3tC,cAEvC,GADA2tC,EAAuBA,EAAqBnzB,SACxC5H,IAAa66B,GAAoBx4C,EAAMmL,uBACzC,MAAMzC,EACR8vC,EAAmBE,EACnB14C,EAAM+K,cAAgBA,EACtB,IACEytC,EAAiBx4C,EACnB,CAAE,MAAO8e,GACP0X,GAAkB1X,EACpB,CACA9e,EAAM+K,cAAgB,KACtBytC,EAAmB76B,CACrB,MAEA,IACE86B,EAAa,EACbA,EAAaF,EAAiB/lD,OAC9BimD,IACA,CAKA,GAHA96B,GADA+6B,EAAuBH,EAAiBE,IACR96B,SAChC5S,EAAgB2tC,EAAqB3tC,cACrC2tC,EAAuBA,EAAqBnzB,SACxC5H,IAAa66B,GAAoBx4C,EAAMmL,uBACzC,MAAMzC,EACR8vC,EAAmBE,EACnB14C,EAAM+K,cAAgBA,EACtB,IACEytC,EAAiBx4C,EACnB,CAAE,MAAO8e,GACP0X,GAAkB1X,EACpB,CACA9e,EAAM+K,cAAgB,KACtBytC,EAAmB76B,CACrB,CACJ,CACF,CACF,CACA,SAASE,GAA0BrL,EAAcmmC,GAC/C,IAAI19C,EAA2B09C,EAAcl4C,SAC7C,IAAWxF,IACRA,EAA2B09C,EAAcl4C,IACxC,IAAIqB,KACR,IAAI82C,EAAiBpmC,EAAe,WACpCvX,EAAyBoM,IAAIuxC,KAC1BC,GAAwBF,EAAenmC,EAAc,GAAG,GACzDvX,EAAyBmH,IAAIw2C,GACjC,CACA,SAASE,GAAoBtmC,EAAcumC,EAAwB7wC,GACjE,IAAIowC,EAAmB,EACvBS,IAA2BT,GAAoB,GAC/CO,GACE3wC,EACAsK,EACA8lC,EACAS,EAEJ,CACA,IAAIC,GAAkB,kBAAoB17C,KAAK6C,SAASC,SAAS,IAAIC,MAAM,GAC3E,SAASmtC,GAA2ByL,GAClC,IAAKA,EAAqBD,IAAkB,CAC1CC,EAAqBD,KAAmB,EACxCn3C,GAAgB0hB,SAAQ,SAAU/Q,GAChC,oBAAsBA,IACnB6lC,GAAmBhxC,IAAImL,IACtBsmC,GAAoBtmC,GAAc,EAAIymC,GACxCH,GAAoBtmC,GAAc,EAAIymC,GAC1C,IACA,IAAIrzC,EACF,IAAMqzC,EAAqBpmD,SACvBomD,EACAA,EAAqBrzC,cAC3B,OAASA,GACPA,EAAcozC,MACZpzC,EAAcozC,KAAmB,EACnCF,GAAoB,mBAAmB,EAAIlzC,GAC/C,CACF,CACA,SAASizC,GACPK,EACA1mC,EACA8lC,EACAS,GAEA,OAAQ94C,GAAiBuS,IACvB,KAAK,EACH,IAAI2mC,EAAkBC,GACtB,MACF,KAAK,EACHD,EAAkBE,GAClB,MACF,QACEF,EAAkBxiB,GAEtB2hB,EAAmBa,EAAgBtsB,KACjC,KACAra,EACA8lC,EACAY,GAEFC,OAAkB,GACjB/vC,IACE,eAAiBoJ,GAChB,cAAgBA,GAChB,UAAYA,IACb2mC,GAAkB,GACrBJ,OACI,IAAWI,EACTD,EAAgB7vC,iBAAiBmJ,EAAc8lC,EAAkB,CAC/DgB,SAAS,EACTC,QAASJ,IAEXD,EAAgB7vC,iBAAiBmJ,EAAc8lC,GAAkB,QACnE,IAAWa,EACTD,EAAgB7vC,iBAAiBmJ,EAAc8lC,EAAkB,CAC/DiB,QAASJ,IAEXD,EAAgB7vC,iBAAiBmJ,EAAc8lC,GAAkB,EACzE,CACA,SAASkB,GACPhnC,EACA8lC,EACArwC,EACAwxC,EACAP,GAEA,IAAIQ,EAAeD,EACnB,GACE,KAA0B,EAAnBnB,IACP,KAA0B,EAAnBA,IACP,OAASmB,EAET/wC,EAAG,OAAS,CACV,GAAI,OAAS+wC,EAAqB,OAClC,IAAIE,EAAUF,EAAoB3hD,IAClC,GAAI,IAAM6hD,GAAW,IAAMA,EAAS,CAClC,IAAIC,EAAYH,EAAoBn4C,UAAU+U,cAC9C,GACEujC,IAAcV,GACb,IAAMU,EAAU/mD,UAAY+mD,EAAUj/C,aAAeu+C,EAEtD,MACF,GAAI,IAAMS,EACR,IAAKA,EAAUF,EAAoBvhD,OAAQ,OAASyhD,GAAW,CAC7D,IAAIE,EAAWF,EAAQ7hD,IACvB,IAAI,IAAM+hD,GAAY,IAAMA,MAEtBA,EAAWF,EAAQr4C,UAAU+U,iBAClB6iC,GACV,IAAMW,EAAShnD,UACdgnD,EAASl/C,aAAeu+C,GAE5B,OACJS,EAAUA,EAAQzhD,MACpB,CACF,KAAO,OAAS0hD,GAAa,CAE3B,GAAI,QADJD,EAAU54C,GAA2B64C,IACf,OAEtB,GACE,KAFFC,EAAWF,EAAQ7hD,MAGjB,IAAM+hD,GACN,KAAOA,GACP,KAAOA,EACP,CACAJ,EAAsBC,EAAeC,EACrC,SAASjxC,CACX,CACAkxC,EAAYA,EAAUj/C,UACxB,CACF,CACA8+C,EAAsBA,EAAoBvhD,MAC5C,CACF8Q,IAAiB,WACf,IAAI/H,EAAay4C,EACf/uC,EAAoB3C,GAAeC,GACnCyL,EAAgB,GAClBhL,EAAG,CACD,IAAI+B,EAAY2P,GAA2BnW,IAAIuO,GAC/C,QAAI,IAAW/H,EAAW,CACxB,IAAIqvC,EAAqB3tC,GACvBzB,EAAiB8H,EACnB,OAAQA,GACN,IAAK,WACH,GAAI,IAAMvI,GAAiBhC,GAAc,MAAMS,EACjD,IAAK,UACL,IAAK,QACHoxC,EAAqBlqC,GACrB,MACF,IAAK,UACHlF,EAAiB,QACjBovC,EAAqB/rC,GACrB,MACF,IAAK,WACHrD,EAAiB,OACjBovC,EAAqB/rC,GACrB,MACF,IAAK,aACL,IAAK,YACH+rC,EAAqB/rC,GACrB,MACF,IAAK,QACH,GAAI,IAAM9F,EAAYoF,OAAQ,MAAM3E,EACtC,IAAK,WACL,IAAK,WACL,IAAK,YACL,IAAK,YACL,IAAK,UACL,IAAK,WACL,IAAK,YACL,IAAK,cACHoxC,EAAqBlsC,GACrB,MACF,IAAK,OACL,IAAK,UACL,IAAK,YACL,IAAK,WACL,IAAK,YACL,IAAK,WACL,IAAK,YACL,IAAK,OACHksC,EAAqBjsC,GACrB,MACF,IAAK,cACL,IAAK,WACL,IAAK,YACL,IAAK,aACHisC,EAAqB/oC,GACrB,MACF,KAAK8I,GACL,KAAKC,GACL,KAAKC,GACH+/B,EAAqB9rC,GACrB,MACF,KAAKmM,GACH2/B,EAAqB3oC,GACrB,MACF,IAAK,SACL,IAAK,YACH2oC,EAAqBvtC,GACrB,MACF,IAAK,QACHutC,EAAqBzoC,GACrB,MACF,IAAK,OACL,IAAK,MACL,IAAK,QACHyoC,EAAqB1rC,GACrB,MACF,IAAK,oBACL,IAAK,qBACL,IAAK,gBACL,IAAK,cACL,IAAK,cACL,IAAK,aACL,IAAK,cACL,IAAK,YACH0rC,EAAqB1pC,GACrB,MACF,IAAK,SACL,IAAK,eACH0pC,EAAqBjoC,GAEzB,IAAIkoC,EAAiB,KAA0B,EAAnBzB,GAC1B0B,GACGD,IACA,WAAavnC,GAAgB,cAAgBA,GAChDynC,EAAiBF,EACb,OAAStvC,EACPA,EAAY,UACZ,KACFA,EACNsvC,EAAiB,GACjB,IACE,IAA2BG,EAAvBv8B,EAAW1c,EACf,OAAS0c,GAET,CACA,IAAIw8B,EAAYx8B,EAWhB,GAVAu8B,EAAoBC,EAAU74C,UAE7B,KADD64C,EAAYA,EAAUriD,MACF,KAAOqiD,GAAa,KAAOA,GAC7C,OAASD,GACT,OAASD,GAET,OADEE,EAAYhxC,GAAYwU,EAAUs8B,KAElCF,EAAe9/C,KACbmgD,GAAuBz8B,EAAUw8B,EAAWD,IAE9CF,EAAsB,MAC1Br8B,EAAWA,EAASzlB,MACtB,CACA,EAAI6hD,EAAevnD,SACfiY,EAAY,IAAIqvC,EAChBrvC,EACAC,EACA,KACAzC,EACA0C,GAEF+I,EAAczZ,KAAK,CAAE+F,MAAOyK,EAAWmJ,UAAWmmC,IACtD,CACF,CACA,GAAI,KAA0B,EAAnBzB,GAAuB,CAM9B,GAFAwB,EACE,aAAetnC,GAAgB,eAAiBA,KAHlD/H,EACE,cAAgB+H,GAAgB,gBAAkBA,IAKlDvK,IAAgBF,MACf2C,EACCzC,EAAYsF,eAAiBtF,EAAYuF,eAC1CzM,GAA2B2J,KAC1BA,EAAelK,OAGfs5C,GAAsBrvC,KACxBA,EACEE,EAAkB5K,SAAW4K,EACzBA,GACCF,EAAYE,EAAkB/E,eAC7B6E,EAAU6L,aAAe7L,EAAU4vC,aACnCt6C,OACJ+5C,GAICA,EAAqB74C,EAItB,QAHCyJ,GAHCA,EACAzC,EAAYsF,eAAiBtF,EAAYwF,WAGvC1M,GAA2B2J,GAC3B,QAEAsvC,EACA5hD,EAAuBsS,GACxBqvC,EAAiBrvC,EAAe5S,IACjC4S,IAAmBsvC,GAChB,IAAMD,GACL,KAAOA,GACP,IAAMA,KAEZrvC,EAAiB,QACbovC,EAAqB,KAAQpvC,EAAiBzJ,GAClD64C,IAAuBpvC,GAAgB,CAwCzC,GAvCAqvC,EAAiBnsC,GACjBusC,EAAY,eACZF,EAAiB,eACjBt8B,EAAW,QACP,eAAiBnL,GAAgB,gBAAkBA,IACpDunC,EAAiB3pC,GACf+pC,EAAY,iBACZF,EAAiB,iBACjBt8B,EAAW,WAChBq8B,EACE,MAAQF,EACJrvC,EACArJ,GAAoB04C,GAC1BI,EACE,MAAQxvC,EACJD,EACArJ,GAAoBsJ,IAC1BD,EAAY,IAAIsvC,EACdI,EACAx8B,EAAW,QACXm8B,EACA7xC,EACA0C,IAEQzC,OAAS8xC,EACnBvvC,EAAU8C,cAAgB2sC,EAC1BC,EAAY,KACZp5C,GAA2B4J,KAAuB1J,KAC9C84C,EAAiB,IAAIA,EACrBE,EACAt8B,EAAW,QACXjT,EACAzC,EACA0C,IAEczC,OAASgyC,EACxBH,EAAexsC,cAAgBysC,EAC/BG,EAAYJ,GACfC,EAAuBG,EACnBL,GAAsBpvC,EACxBzB,EAAG,CAID,IAFAgxC,EAAiBvvC,EACjBiT,EAAW,EAETu8B,EAJFH,EAAiBD,EAKfI,EACAA,EAAoBI,GAAUJ,GAE9Bv8B,IAEF,IADAu8B,EAAoB,EAElBC,EAAYF,EACZE,EACAA,EAAYG,GAAUH,GAEtBD,IACF,KAAO,EAAIv8B,EAAWu8B,GACnBH,EAAiBO,GAAUP,GAAkBp8B,IAChD,KAAO,EAAIu8B,EAAoBv8B,GAC5Bs8B,EAAiBK,GAAUL,GAC1BC,IACJ,KAAOv8B,KAAc,CACnB,GACEo8B,IAAmBE,GAClB,OAASA,GACRF,IAAmBE,EAAe3hD,UAEpC,MAAM2Q,EACR8wC,EAAiBO,GAAUP,GAC3BE,EAAiBK,GAAUL,EAC7B,CACAF,EAAiB,IACnB,MACGA,EAAiB,KACtB,OAASD,GACPS,GACE7mC,EACAjJ,EACAqvC,EACAC,GACA,GAEJ,OAASrvC,GACP,OAASsvC,GACTO,GACE7mC,EACAsmC,EACAtvC,EACAqvC,GACA,EAEN,CAOF,GACE,YAHFD,GADArvC,EAAYxJ,EAAaG,GAAoBH,GAAclB,QAE/C2D,UAAY+G,EAAU/G,SAAST,gBAGxC,UAAY62C,GAAsB,SAAWrvC,EAAUnW,KAExD,IAAIkmD,EAAoBtmC,QACrB,GAAIV,GAAmB/I,GAC1B,GAAI0J,GACFqmC,EAAoBzlC,OACjB,CACHylC,EAAoB3lC,GACpB,IAAI4lC,EAAkB9lC,EACxB,OAECmlC,EAAqBrvC,EAAU/G,WAE9B,UAAYo2C,EAAmB72C,eAC9B,aAAewH,EAAUnW,MAAQ,UAAYmW,EAAUnW,KACpD2M,GACA0G,GAAgB1G,EAAWihB,eAC1Bs4B,EAAoBtmC,IACpBsmC,EAAoB1lC,GAqB/B,OAnBI0lC,IACCA,EAAoBA,EAAkBhoC,EAAcvR,IAErDwS,GACEC,EACA8mC,EACAvyC,EACA0C,IAIJ8vC,GAAmBA,EAAgBjoC,EAAc/H,EAAWxJ,GAC5D,aAAeuR,GACbvR,GACA,WAAawJ,EAAUnW,MACvB,MAAQ2M,EAAW2c,cAAc1mB,OACjCuO,GAAgBgF,EAAW,SAAUA,EAAUvT,QAEnDujD,EAAkBx5C,EAAaG,GAAoBH,GAAclB,OACzDyS,GACN,IAAK,WAEDgB,GAAmBinC,IACnB,SAAWA,EAAgB9jC,mBAE1B7R,GAAgB21C,EACdjiC,GAAoBvX,EACpBwX,GAAgB,MACrB,MACF,IAAK,WACHA,GAAgBD,GAAoB1T,GAAgB,KACpD,MACF,IAAK,YACH4T,IAAY,EACZ,MACF,IAAK,cACL,IAAK,UACL,IAAK,UACHA,IAAY,EACZC,GAAqBjF,EAAezL,EAAa0C,GACjD,MACF,IAAK,kBACH,GAAI4N,GAA0B,MAChC,IAAK,UACL,IAAK,QACHI,GAAqBjF,EAAezL,EAAa0C,GAErD,IAAI+vC,EACJ,GAAIzoC,GACFhJ,EAAG,CACD,OAAQuJ,GACN,IAAK,mBACH,IAAImoC,EAAY,qBAChB,MAAM1xC,EACR,IAAK,iBACH0xC,EAAY,mBACZ,MAAM1xC,EACR,IAAK,oBACH0xC,EAAY,sBACZ,MAAM1xC,EAEV0xC,OAAY,CACd,MAEAjoC,GACIH,GAAyBC,EAAcvK,KACtC0yC,EAAY,oBACb,YAAcnoC,GACd,MAAQvK,EAAYiC,UACnBywC,EAAY,sBACnBA,IACGvoC,IACC,OAASnK,EAAYiI,SACpBwC,IAAe,uBAAyBioC,EACrC,qBAAuBA,GACvBjoC,KACCgoC,EAAejxC,OAEfF,GAAY,UADXzL,GAAO6M,GACsB7M,GAAK5G,MAAQ4G,GAAK0I,YAChDkM,IAAc,IAErB,GADC+nC,EAAkB9mC,GAA4B1S,EAAY05C,IACvCnoD,SAChBmoD,EAAY,IAAIrsC,GAChBqsC,EACAnoC,EACA,KACAvK,EACA0C,GAEF+I,EAAczZ,KAAK,CAAE+F,MAAO26C,EAAW/mC,UAAW6mC,IAClDC,EACKC,EAAUphD,KAAOmhD,EAElB,QADEA,EAAejoC,GAAuBxK,MACd0yC,EAAUphD,KAAOmhD,MAEhDA,EAAevoC,GA9mUxB,SAAmCK,EAAcvK,GAC/C,OAAQuK,GACN,IAAK,iBACH,OAAOC,GAAuBxK,GAChC,IAAK,WACH,OAAI,KAAOA,EAAYkI,MAAc,MACrCmC,IAAmB,EACZD,IACT,IAAK,YACH,OACGG,EAAevK,EAAY1O,QACX8Y,IAAiBC,GAAmB,KAAOE,EAEhE,QACE,OAAO,KAEb,CA+lUYooC,CAA0BpoC,EAAcvK,GA9lUpD,SAAqCuK,EAAcvK,GACjD,GAAIyK,GACF,MAAO,mBAAqBF,IACxBP,IACAM,GAAyBC,EAAcvK,IACrCuK,EAAe/I,KAChBD,GAAeD,GAAYzL,GAAO,KAClC4U,IAAc,EACfF,GACA,KACN,OAAQA,GACN,IAAK,QAgBL,QACE,OAAO,KAfT,IAAK,WACH,KACIvK,EAAY8E,SAAW9E,EAAYgF,QAAUhF,EAAYiF,UAC1DjF,EAAY8E,SAAW9E,EAAYgF,OACpC,CACA,GAAIhF,EAAY4yC,MAAQ,EAAI5yC,EAAY4yC,KAAKroD,OAC3C,OAAOyV,EAAY4yC,KACrB,GAAI5yC,EAAYkI,MAAO,OAAOL,OAAOC,aAAa9H,EAAYkI,MAChE,CACA,OAAO,KACT,IAAK,iBACH,OAAOiC,IAA8B,OAASnK,EAAYiI,OACtD,KACAjI,EAAY1O,KAItB,CAikUYuhD,CAA4BtoC,EAAcvK,MAG5C,GADD0yC,EAAYhnC,GAA4B1S,EAAY,kBACrCzO,SACVioD,EAAkB,IAAInsC,GACtB,gBACA,cACA,KACArG,EACA0C,GAEF+I,EAAczZ,KAAK,CACjB+F,MAAOy6C,EACP7mC,UAAW+mC,IAEZF,EAAgBlhD,KAAOmhD,IAluBpC,SACEhnC,EACAlB,EACAuoC,EACA9yC,EACA0C,GAEA,GACE,WAAa6H,GACbuoC,GACAA,EAAgBz5C,YAAcqJ,EAC9B,CACA,IAAIlR,EAASm+C,IACRjtC,EAAkBpK,KAAqB,MAAM9G,QAEhDs+C,EAAY9vC,EAAY8vC,UAC1BA,GAIE,QAHEvlC,GAAgBA,EAAeulC,EAAUx3C,KAAqB,MAC5Dq3C,GAAqBplC,EAAawoC,YAClCjD,EAAU3Z,aAAa,iBACA3kC,EAAS+Y,EAAgBulC,EAAY,MAClE,IAAI/3C,EAAQ,IAAImM,GACd,SACA,SACA,KACAlE,EACA0C,GAEF+I,EAAczZ,KAAK,CACjB+F,MAAOA,EACP4T,UAAW,CACT,CACE+J,SAAU,KACV4H,SAAU,WACR,GAAItd,EAAYgD,kBACd,GAAI,IAAMwrC,GAA4B,CACpC,IAAIlkB,EAAWwlB,EACXD,GAA4BntC,EAAmBotC,GAC/C,IAAIE,SAASttC,GACjB0nB,GACE0oB,EACA,CACEzhD,SAAS,EACTC,KAAMg5B,EACN/4B,OAAQmR,EAAkBnR,OAC1BC,OAAQA,GAEV,KACA84B,EAEJ,MAEA,oBAAsB94B,IACnBuG,EAAMoL,iBACNmnB,EAAWwlB,EACRD,GAA4BntC,EAAmBotC,GAC/C,IAAIE,SAASttC,GACjB0nB,GACE0oB,EACA,CACEzhD,SAAS,EACTC,KAAMg5B,EACN/4B,OAAQmR,EAAkBnR,OAC1BC,OAAQA,GAEVA,EACA84B,GAER,EACAxnB,cAAeJ,KAIvB,CACF,CAypBMswC,CACEvnC,EACAlB,EACAvR,EACAgH,EACA0C,EAEJ,CACAqJ,GAAqBN,EAAe4kC,EACtC,GACF,CACA,SAAS8B,GAAuBz8B,EAAU4H,EAAUxa,GAClD,MAAO,CACL4S,SAAUA,EACV4H,SAAUA,EACVxa,cAAeA,EAEnB,CACA,SAAS4I,GAA4BunC,EAAazwC,GAChD,IACE,IAAI0wC,EAAc1wC,EAAY,UAAWmJ,EAAY,GACrD,OAASsnC,GAET,CACA,IAAIE,EAAaF,EACf55C,EAAY85C,EAAW95C,UAExB,KADD85C,EAAaA,EAAWtjD,MACH,KAAOsjD,GAAc,KAAOA,GAC/C,OAAS95C,IAET,OADE85C,EAAajyC,GAAY+xC,EAAaC,KAEtCvnC,EAAUynC,QACRjB,GAAuBc,EAAaE,EAAY95C,IAGpD,OADC85C,EAAajyC,GAAY+xC,EAAazwC,KAErCmJ,EAAU3Z,KACRmgD,GAAuBc,EAAaE,EAAY95C,KAEtD45C,EAAcA,EAAYhjD,MAC5B,CACA,OAAO0b,CACT,CACA,SAAS0mC,GAAUj5C,GACjB,GAAI,OAASA,EAAM,OAAO,KAC1B,GAAGA,EAAOA,EAAKnJ,aACRmJ,GAAQ,IAAMA,EAAKvJ,KAAO,KAAOuJ,EAAKvJ,KAC7C,OAAOuJ,GAAc,IACvB,CACA,SAASk5C,GACP7mC,EACA1T,EACAkI,EACAozC,EACAvB,GAEA,IACE,IAAI93C,EAAmBjC,EAAM6K,WAAY+I,EAAY,GACrD,OAAS1L,GAAUA,IAAWozC,GAE9B,CACA,IAAIC,EAAarzC,EACf5P,EAAYijD,EAAWjjD,UACvBgJ,EAAYi6C,EAAWj6C,UAEzB,GADAi6C,EAAaA,EAAWzjD,IACpB,OAASQ,GAAaA,IAAcgjD,EAAQ,MAC/C,IAAMC,GAAc,KAAOA,GAAc,KAAOA,GAC/C,OAASj6C,IACPhJ,EAAYgJ,EACdy4C,EAEI,OADEz4C,EAAY6H,GAAYjB,EAAQjG,KAEhC2R,EAAUynC,QACRjB,GAAuBlyC,EAAQ5G,EAAWhJ,IAE9CyhD,GAEA,OADEz4C,EAAY6H,GAAYjB,EAAQjG,KAEhC2R,EAAU3Z,KACRmgD,GAAuBlyC,EAAQ5G,EAAWhJ,KAEpD4P,EAASA,EAAOhQ,MAClB,CACA,IAAM0b,EAAUphB,QACdkhB,EAAczZ,KAAK,CAAE+F,MAAOA,EAAO4T,UAAWA,GAClD,CACA,IAAI4nC,GAA2B,SAC7BC,GAAuC,iBACzC,SAASC,GAAkCC,GACzC,OAAQ,kBAAoBA,EAASA,EAAS,GAAKA,GAChDhkD,QAAQ6jD,GAA0B,MAClC7jD,QAAQ8jD,GAAsC,GACnD,CACA,SAASz9B,GAAsB49B,EAAYC,GAEzC,OADAA,EAAaH,GAAkCG,GACxCH,GAAkCE,KAAgBC,CAC3D,CACA,SAASv9B,KAAU,CACnB,SAASikB,GAAQJ,EAAYrqC,EAAK+X,EAAK3Y,EAAOuR,EAAOipB,GACnD,OAAQ7hB,GACN,IAAK,WACH,kBAAoB3Y,EAChB,SAAWY,GACV,aAAeA,GAAO,KAAOZ,GAC9BuP,GAAe07B,EAAYjrC,IAC1B,kBAAoBA,GAAS,kBAAoBA,IAClD,SAAWY,GACX2O,GAAe07B,EAAY,GAAKjrC,GACpC,MACF,IAAK,YACHiM,GAA0Bg/B,EAAY,QAASjrC,GAC/C,MACF,IAAK,WACHiM,GAA0Bg/B,EAAY,WAAYjrC,GAClD,MACF,IAAK,MACL,IAAK,OACL,IAAK,UACL,IAAK,QACL,IAAK,SACHiM,GAA0Bg/B,EAAYtyB,EAAK3Y,GAC3C,MACF,IAAK,QACHoQ,GAAkB66B,EAAYjrC,EAAOw6B,GACrC,MACF,IAAK,OACH,GAAI,WAAa55B,EAAK,CACpBqL,GAA0Bg/B,EAAY,OAAQjrC,GAC9C,KACF,CACF,IAAK,MACL,IAAK,OACH,GAAI,KAAOA,IAAU,MAAQY,GAAO,SAAW+X,GAAM,CACnDsyB,EAAWp/B,gBAAgB8M,GAC3B,KACF,CACA,GACE,MAAQ3Y,GACR,oBAAsBA,GACtB,kBAAoBA,GACpB,mBAAqBA,EACrB,CACAirC,EAAWp/B,gBAAgB8M,GAC3B,KACF,CACA3Y,EAAQ4Q,GAAY,GAAK5Q,GACzBirC,EAAWj/B,aAAa2M,EAAK3Y,GAC7B,MACF,IAAK,SACL,IAAK,aACH,GAAI,oBAAsBA,EAAO,CAC/BirC,EAAWj/B,aACT2M,EACA,wRAEF,KACF,CAgCA,GA/BE,oBAAsB6hB,IACnB,eAAiB7hB,GACb,UAAY/X,GACXyqC,GAAQJ,EAAYrqC,EAAK,OAAQ2Q,EAAMhU,KAAMgU,EAAO,MACtD85B,GACEJ,EACArqC,EACA,cACA2Q,EAAMqzC,YACNrzC,EACA,MAEF85B,GACEJ,EACArqC,EACA,aACA2Q,EAAMszC,WACNtzC,EACA,MAEF85B,GACEJ,EACArqC,EACA,aACA2Q,EAAMuzC,WACNvzC,EACA,QAED85B,GAAQJ,EAAYrqC,EAAK,UAAW2Q,EAAMwzC,QAASxzC,EAAO,MAC3D85B,GAAQJ,EAAYrqC,EAAK,SAAU2Q,EAAMjP,OAAQiP,EAAO,MACxD85B,GAAQJ,EAAYrqC,EAAK,SAAU2Q,EAAMP,OAAQO,EAAO,QAE9D,MAAQvR,GACR,kBAAoBA,GACpB,mBAAqBA,EACrB,CACAirC,EAAWp/B,gBAAgB8M,GAC3B,KACF,CACA3Y,EAAQ4Q,GAAY,GAAK5Q,GACzBirC,EAAWj/B,aAAa2M,EAAK3Y,GAC7B,MACF,IAAK,UACH,MAAQA,IAAUirC,EAAW9jB,QAAUC,IACvC,MACF,IAAK,WACH,MAAQpnB,GAAS2mB,GAA0B,SAAUskB,GACrD,MACF,IAAK,cACH,MAAQjrC,GAAS2mB,GAA0B,YAAaskB,GACxD,MACF,IAAK,0BACH,GAAI,MAAQjrC,EAAO,CACjB,GAAI,kBAAoBA,KAAW,WAAYA,GAC7C,MAAM3B,MAAMnD,EAAuB,KAErC,GAAI,OADJyd,EAAM3Y,EAAMglD,QACK,CACf,GAAI,MAAQzzC,EAAMlC,SAAU,MAAMhR,MAAMnD,EAAuB,KAC/D+vC,EAAWkL,UAAYx9B,CACzB,CACF,CACA,MACF,IAAK,WACHsyB,EAAWr8B,SACT5O,GAAS,oBAAsBA,GAAS,kBAAoBA,EAC9D,MACF,IAAK,QACHirC,EAAWga,MACTjlD,GAAS,oBAAsBA,GAAS,kBAAoBA,EAC9D,MACF,IAAK,iCACL,IAAK,2BACL,IAAK,eACL,IAAK,iBACL,IAAK,YACL,IAAK,MAEL,IAAK,YACH,MACF,IAAK,YACH,GACE,MAAQA,GACR,oBAAsBA,GACtB,mBAAqBA,GACrB,kBAAoBA,EACpB,CACAirC,EAAWp/B,gBAAgB,cAC3B,KACF,CACA8M,EAAM/H,GAAY,GAAK5Q,GACvBirC,EAAW7+B,eACT,+BACA,aACAuM,GAEF,MACF,IAAK,kBACL,IAAK,aACL,IAAK,YACL,IAAK,QACL,IAAK,cACL,IAAK,4BACL,IAAK,YACL,IAAK,gBACH,MAAQ3Y,GAAS,oBAAsBA,GAAS,kBAAoBA,EAChEirC,EAAWj/B,aAAa2M,EAAK,GAAK3Y,GAClCirC,EAAWp/B,gBAAgB8M,GAC/B,MACF,IAAK,QACL,IAAK,kBACL,IAAK,QACL,IAAK,WACL,IAAK,WACL,IAAK,UACL,IAAK,QACL,IAAK,WACL,IAAK,0BACL,IAAK,wBACL,IAAK,iBACL,IAAK,SACL,IAAK,OACL,IAAK,WACL,IAAK,aACL,IAAK,OACL,IAAK,cACL,IAAK,WACL,IAAK,WACL,IAAK,WACL,IAAK,SACL,IAAK,WACL,IAAK,YACH3Y,GAAS,oBAAsBA,GAAS,kBAAoBA,EACxDirC,EAAWj/B,aAAa2M,EAAK,IAC7BsyB,EAAWp/B,gBAAgB8M,GAC/B,MACF,IAAK,UACL,IAAK,YACH,IAAO3Y,EACHirC,EAAWj/B,aAAa2M,EAAK,KAC7B,IAAO3Y,GACL,MAAQA,GACR,oBAAsBA,GACtB,kBAAoBA,EACpBirC,EAAWj/B,aAAa2M,EAAK3Y,GAC7BirC,EAAWp/B,gBAAgB8M,GACjC,MACF,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,OACH,MAAQ3Y,GACR,oBAAsBA,GACtB,kBAAoBA,IACnBklD,MAAMllD,IACP,GAAKA,EACDirC,EAAWj/B,aAAa2M,EAAK3Y,GAC7BirC,EAAWp/B,gBAAgB8M,GAC/B,MACF,IAAK,UACL,IAAK,QACH,MAAQ3Y,GACR,oBAAsBA,GACtB,kBAAoBA,GACpBklD,MAAMllD,GACFirC,EAAWp/B,gBAAgB8M,GAC3BsyB,EAAWj/B,aAAa2M,EAAK3Y,GACjC,MACF,IAAK,UACH2mB,GAA0B,eAAgBskB,GAC1CtkB,GAA0B,SAAUskB,GACpCv/B,GAAqBu/B,EAAY,UAAWjrC,GAC5C,MACF,IAAK,eACHkM,GACE++B,EACA,+BACA,gBACAjrC,GAEF,MACF,IAAK,eACHkM,GACE++B,EACA,+BACA,gBACAjrC,GAEF,MACF,IAAK,YACHkM,GACE++B,EACA,+BACA,aACAjrC,GAEF,MACF,IAAK,YACHkM,GACE++B,EACA,+BACA,aACAjrC,GAEF,MACF,IAAK,aACHkM,GACE++B,EACA,+BACA,cACAjrC,GAEF,MACF,IAAK,YACHkM,GACE++B,EACA,+BACA,aACAjrC,GAEF,MACF,IAAK,UACHkM,GACE++B,EACA,uCACA,WACAjrC,GAEF,MACF,IAAK,UACHkM,GACE++B,EACA,uCACA,WACAjrC,GAEF,MACF,IAAK,WACHkM,GACE++B,EACA,uCACA,YACAjrC,GAEF,MACF,IAAK,KACH0L,GAAqBu/B,EAAY,KAAMjrC,GACvC,MACF,IAAK,YACL,IAAK,cACH,MACF,WAEM,EAAI2Y,EAAIrd,SACT,MAAQqd,EAAI,IAAM,MAAQA,EAAI,IAC9B,MAAQA,EAAI,IAAM,MAAQA,EAAI,KAG7BjN,GAAqBu/B,EADtBtyB,EAAMjI,GAAQ3D,IAAI4L,IAAQA,EACa3Y,GAEhD,CACA,SAAS0rC,GAAuBT,EAAYrqC,EAAK+X,EAAK3Y,EAAOuR,EAAOipB,GAClE,OAAQ7hB,GACN,IAAK,QACHvI,GAAkB66B,EAAYjrC,EAAOw6B,GACrC,MACF,IAAK,0BACH,GAAI,MAAQx6B,EAAO,CACjB,GAAI,kBAAoBA,KAAW,WAAYA,GAC7C,MAAM3B,MAAMnD,EAAuB,KAErC,GAAI,OADJyd,EAAM3Y,EAAMglD,QACK,CACf,GAAI,MAAQzzC,EAAMlC,SAAU,MAAMhR,MAAMnD,EAAuB,KAC/D+vC,EAAWkL,UAAYx9B,CACzB,CACF,CACA,MACF,IAAK,WACH,kBAAoB3Y,EAChBuP,GAAe07B,EAAYjrC,IAC1B,kBAAoBA,GAAS,kBAAoBA,IAClDuP,GAAe07B,EAAY,GAAKjrC,GACpC,MACF,IAAK,WACH,MAAQA,GAAS2mB,GAA0B,SAAUskB,GACrD,MACF,IAAK,cACH,MAAQjrC,GAAS2mB,GAA0B,YAAaskB,GACxD,MACF,IAAK,UACH,MAAQjrC,IAAUirC,EAAW9jB,QAAUC,IACvC,MACF,IAAK,iCACL,IAAK,2BACL,IAAK,YACL,IAAK,MAEL,IAAK,YACL,IAAK,cACH,MACF,QACOvc,GAA6B1G,eAAewU,KAG3C,MAAQA,EAAI,IACZ,MAAQA,EAAI,KACVpH,EAAQoH,EAAIwsC,SAAS,WACtBvkD,EAAM+X,EAAIxP,MAAM,EAAGoI,EAAQoH,EAAIrd,OAAS,OAAI,GAG7C,oBADCk/B,EAAY,OADZA,EAAYyQ,EAAW5hC,KAAqB,MACZmxB,EAAU7hB,GAAO,OAEhDsyB,EAAW74B,oBAAoBxR,EAAK45B,EAAWjpB,GACjD,oBAAsBvR,GAWxB2Y,KAAOsyB,EACFA,EAAWtyB,GAAO3Y,GACnB,IAAOA,EACLirC,EAAWj/B,aAAa2M,EAAK,IAC7BjN,GAAqBu/B,EAAYtyB,EAAK3Y,IAb1C,oBAAsBw6B,GACpB,OAASA,IACR7hB,KAAOsyB,EACHA,EAAWtyB,GAAO,KACnBsyB,EAAWhE,aAAatuB,IACxBsyB,EAAWp/B,gBAAgB8M,IACjCsyB,EAAW94B,iBAAiBvR,EAAKZ,EAAOuR,KAUpD,CACA,SAASu1B,GAAqBmE,EAAYrqC,EAAK2Q,GAC7C,OAAQ3Q,GACN,IAAK,MACL,IAAK,OACL,IAAK,MACL,IAAK,OACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACH,MACF,IAAK,MACH+lB,GAA0B,QAASskB,GACnCtkB,GAA0B,OAAQskB,GAClC,IAEEE,EAFEia,GAAS,EACXC,GAAY,EAEd,IAAKla,KAAW55B,EACd,GAAIA,EAAMpN,eAAegnC,GAAU,CACjC,IAAIt8B,EAAY0C,EAAM45B,GACtB,GAAI,MAAQt8B,EACV,OAAQs8B,GACN,IAAK,MACHia,GAAS,EACT,MACF,IAAK,SACHC,GAAY,EACZ,MACF,IAAK,WACL,IAAK,0BACH,MAAMhnD,MAAMnD,EAAuB,IAAK0F,IAC1C,QACEyqC,GAAQJ,EAAYrqC,EAAKuqC,EAASt8B,EAAW0C,EAAO,MAE5D,CAIF,OAHA8zC,GACEha,GAAQJ,EAAYrqC,EAAK,SAAU2Q,EAAMu5B,OAAQv5B,EAAO,WAC1D6zC,GAAU/Z,GAAQJ,EAAYrqC,EAAK,MAAO2Q,EAAM+1B,IAAK/1B,EAAO,OAE9D,IAAK,QACHoV,GAA0B,UAAWskB,GACrC,IAAItoC,EAAgBwoC,EAAUt8B,EAAYw2C,EAAY,KACpD53C,EAAU,KACVa,EAAiB,KACnB,IAAK82C,KAAU7zC,EACb,GAAIA,EAAMpN,eAAeihD,GAAS,CAChC,IAAIE,EAAgB/zC,EAAM6zC,GAC1B,GAAI,MAAQE,EACV,OAAQF,GACN,IAAK,OACHC,EAAYC,EACZ,MACF,IAAK,OACHz2C,EAAYy2C,EACZ,MACF,IAAK,UACH73C,EAAU63C,EACV,MACF,IAAK,iBACHh3C,EAAiBg3C,EACjB,MACF,IAAK,QACHna,EAAUma,EACV,MACF,IAAK,eACH3iD,EAAe2iD,EACf,MACF,IAAK,WACL,IAAK,0BACH,GAAI,MAAQA,EACV,MAAMjnD,MAAMnD,EAAuB,IAAK0F,IAC1C,MACF,QACEyqC,GAAQJ,EAAYrqC,EAAKwkD,EAAQE,EAAe/zC,EAAO,MAE/D,CAYF,OAXA/C,GACEy8B,EACAE,EACAxoC,EACA8K,EACAa,EACAO,EACAw2C,GACA,QAEF54C,GAAMw+B,GAER,IAAK,SAGH,IAAKoa,KAFL1+B,GAA0B,UAAWskB,GACrCma,EAASv2C,EAAYs8B,EAAU,KACb55B,EAChB,GACEA,EAAMpN,eAAekhD,IACe,OAAlC1iD,EAAe4O,EAAM8zC,IAEvB,OAAQA,GACN,IAAK,QACHla,EAAUxoC,EACV,MACF,IAAK,eACHkM,EAAYlM,EACZ,MACF,IAAK,WACHyiD,EAASziD,EACX,QACE0oC,GAAQJ,EAAYrqC,EAAKykD,EAAW1iD,EAAc4O,EAAO,MAQjE,OANA3Q,EAAMuqC,EACN55B,EAAQ1C,EACRo8B,EAAWr8B,WAAaw2C,OACxB,MAAQxkD,EACJ+N,GAAcs8B,IAAcma,EAAQxkD,GAAK,GACzC,MAAQ2Q,GAAS5C,GAAcs8B,IAAcma,EAAQ7zC,GAAO,IAElE,IAAK,WAGH,IAAK1C,KAFL8X,GAA0B,UAAWskB,GACrCE,EAAUka,EAAYD,EAAS,KACb7zC,EAChB,GACEA,EAAMpN,eAAe0K,IACe,OAAlClM,EAAe4O,EAAM1C,IAEvB,OAAQA,GACN,IAAK,QACHu2C,EAASziD,EACT,MACF,IAAK,eACH0iD,EAAY1iD,EACZ,MACF,IAAK,WACHwoC,EAAUxoC,EACV,MACF,IAAK,0BACH,GAAI,MAAQA,EAAc,MAAMtE,MAAMnD,EAAuB,KAC7D,MACF,QACEmwC,GAAQJ,EAAYrqC,EAAKiO,EAAWlM,EAAc4O,EAAO,MAIjE,OAFAnC,GAAa67B,EAAYma,EAAQC,EAAWla,QAC5C1+B,GAAMw+B,GAER,IAAK,SACH,IAAKx9B,KAAW8D,EACd,GACEA,EAAMpN,eAAesJ,IACO,OAA1B23C,EAAS7zC,EAAM9D,IAEjB,GACO,aADCA,EAEJw9B,EAAWj8B,SACTo2C,GACA,oBAAsBA,GACtB,kBAAoBA,OAGtB/Z,GAAQJ,EAAYrqC,EAAK6M,EAAS23C,EAAQ7zC,EAAO,MAEzD,OACF,IAAK,SACHoV,GAA0B,SAAUskB,GACpCtkB,GAA0B,QAASskB,GACnC,MACF,IAAK,SACL,IAAK,SACHtkB,GAA0B,OAAQskB,GAClC,MACF,IAAK,QACL,IAAK,QACH,IAAKma,EAAS,EAAGA,EAASx+B,GAAgBtrB,OAAQ8pD,IAChDz+B,GAA0BC,GAAgBw+B,GAASna,GACrD,MACF,IAAK,QACHtkB,GAA0B,QAASskB,GACnCtkB,GAA0B,OAAQskB,GAClC,MACF,IAAK,UACHtkB,GAA0B,SAAUskB,GACpC,MACF,IAAK,QACL,IAAK,SACL,IAAK,OACHtkB,GAA0B,QAASskB,GACjCtkB,GAA0B,OAAQskB,GACtC,IAAK,OACL,IAAK,OACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,MACL,IAAK,WACH,IAAK38B,KAAkBiD,EACrB,GACEA,EAAMpN,eAAemK,IACc,OAAjC82C,EAAS7zC,EAAMjD,IAEjB,OAAQA,GACN,IAAK,WACL,IAAK,0BACH,MAAMjQ,MAAMnD,EAAuB,IAAK0F,IAC1C,QACEyqC,GAAQJ,EAAYrqC,EAAK0N,EAAgB82C,EAAQ7zC,EAAO,MAEhE,OACF,QACE,GAAId,GAAgB7P,GAAM,CACxB,IAAK0kD,KAAiB/zC,EACpBA,EAAMpN,eAAemhD,UAEnB,KADEF,EAAS7zC,EAAM+zC,KAEf5Z,GACET,EACArqC,EACA0kD,EACAF,EACA7zC,OACA,IAER,MACF,EAEJ,IAAK5O,KAAgB4O,EACnBA,EAAMpN,eAAexB,KAEnB,OADEyiD,EAAS7zC,EAAM5O,KAEf0oC,GAAQJ,EAAYrqC,EAAK+B,EAAcyiD,EAAQ7zC,EAAO,MAC9D,CA0UA,IAAIksC,GAAgB,KAClBM,GAAuB,KACzB,SAASlX,GAAkCkb,GACzC,OAAO,IAAMA,EAAqBpmD,SAC9BomD,EACAA,EAAqBrzC,aAC3B,CACA,SAASlL,GAAkBD,GACzB,OAAQA,GACN,IAAK,6BACH,OAAO,EACT,IAAK,qCACH,OAAO,EACT,QACE,OAAO,EAEb,CACA,SAASI,GAAwB4hD,EAAiBnoD,GAChD,GAAI,IAAMmoD,EACR,OAAQnoD,GACN,IAAK,MACH,OAAO,EACT,IAAK,OACH,OAAO,EACT,QACE,OAAO,EAEb,OAAO,IAAMmoD,GAAmB,kBAAoBnoD,EAChD,EACAmoD,CACN,CACA,SAAS99B,GAAqBrqB,EAAMmU,GAClC,MACE,aAAenU,GACf,aAAeA,GACf,kBAAoBmU,EAAMlC,UAC1B,kBAAoBkC,EAAMlC,UAC1B,kBAAoBkC,EAAMlC,UACzB,kBAAoBkC,EAAMi0C,yBACzB,OAASj0C,EAAMi0C,yBACf,MAAQj0C,EAAMi0C,wBAAwBR,MAE5C,CACA,IAAIhF,GAAiC,KAWrC,IAAI9F,GAAkB,oBAAsB7Z,WAAaA,gBAAa,EACpEub,GAAgB,oBAAsBR,aAAeA,kBAAe,EACpEqK,GAAe,oBAAsB1S,QAAUA,aAAU,EACzD2M,GACE,oBAAsBgG,eAClBA,eACA,qBAAuBD,GACrB,SAAUxrB,GACR,OAAOwrB,GACJ71B,QAAQ,MACR5H,KAAKiS,GACLt6B,MAAMgmD,GACX,EACAzL,GACV,SAASyL,GAAsB/9B,GAC7ByY,YAAW,WACT,MAAMzY,CACR,GACF,CACA,SAASumB,GAAsByX,EAAgBC,GAC7C,IAAInqD,EAAOmqD,EACTC,EAAQ,EACV,EAAG,CACD,IAAI7V,EAAWv0C,EAAKkjB,YAEpB,GADAgnC,EAAe/X,YAAYnyC,GACvBu0C,GAAY,IAAMA,EAASt0C,SAC7B,GAA6B,QAAvBD,EAAOu0C,EAAS5tC,MAAuB,CAC3C,GAAI,IAAMyjD,EAGR,OAFAF,EAAe/X,YAAYoC,QAC3B7B,GAAiByX,GAGnBC,GACF,KAAQ,MAAQpqD,GAAQ,OAASA,GAAQ,OAASA,GAASoqD,IAC7DpqD,EAAOu0C,CACT,OAASv0C,GACT0yC,GAAiByX,EACnB,CACA,SAAS5H,GAAwByE,GAC/B,IAAIzS,EAAWyS,EAAUjzC,WAEzB,IADAwgC,GAAY,KAAOA,EAASt0C,WAAas0C,EAAWA,EAASrxB,aACtDqxB,GAAY,CACjB,IAAIv0C,EAAOu0C,EAEX,OADAA,EAAWA,EAASrxB,YACZljB,EAAK8Q,UACX,IAAK,OACL,IAAK,OACL,IAAK,OACHyxC,GAAwBviD,GACxBkO,GAAsBlO,GACtB,SACF,IAAK,SACL,IAAK,QACH,SACF,IAAK,OACH,GAAI,eAAiBA,EAAKyrC,IAAIp7B,cAAe,SAEjD22C,EAAU7U,YAAYnyC,EACxB,CACF,CA+EA,SAASgsB,GAAkBhsB,GACzB,KAAO,MAAQA,EAAMA,EAAOA,EAAKkjB,YAAa,CAC5C,IAAIjjB,EAAWD,EAAKC,SACpB,GAAI,IAAMA,GAAY,IAAMA,EAAU,MACtC,GAAI,IAAMA,EAAU,CAElB,GACE,OAFFA,EAAWD,EAAK2G,OAGd,OAAS1G,GACT,OAASA,GACT,OAASA,GACT,MAAQA,EAER,MACF,GAAI,OAASA,EAAU,OAAO,IAChC,CACF,CACA,OAAOD,CACT,CACA,SAASsO,GAA0B+7C,GACjCA,EAAiBA,EAAeC,gBAChC,IAAK,IAAIF,EAAQ,EAAGC,GAAkB,CACpC,GAAI,IAAMA,EAAepqD,SAAU,CACjC,IAAI0G,EAAO0jD,EAAe1jD,KAC1B,GAAI,MAAQA,GAAQ,OAASA,GAAQ,OAASA,EAAM,CAClD,GAAI,IAAMyjD,EAAO,OAAOC,EACxBD,GACF,KAAO,OAASzjD,GAAQyjD,GAC1B,CACAC,EAAiBA,EAAeC,eAClC,CACA,OAAO,IACT,CACA,SAASjf,GAAyB3pC,EAAMmU,EAAO00C,GAE7C,OADA10C,EAAQs1B,GAAkCof,GAClC7oD,GACN,IAAK,OAEH,KADAA,EAAOmU,EAAMjO,iBACF,MAAMjF,MAAMnD,EAAuB,MAC9C,OAAOkC,EACT,IAAK,OAEH,KADAA,EAAOmU,EAAM+9B,MACF,MAAMjxC,MAAMnD,EAAuB,MAC9C,OAAOkC,EACT,IAAK,OAEH,KADAA,EAAOmU,EAAM1D,MACF,MAAMxP,MAAMnD,EAAuB,MAC9C,OAAOkC,EACT,QACE,MAAMiB,MAAMnD,EAAuB,MAEzC,CACA,IAAI03C,GAAkB,IAAIpoC,IACxB07C,GAAiB,IAAIt7C,IACvB,SAASulC,GAAiBuS,GACxB,MAAO,oBAAsBA,EAAUyD,YACnCzD,EAAUyD,cACVzD,EAAUh0C,aAChB,CACA,IAAI03C,GAAqBnkD,EAAwBokD,EACjDpkD,EAAwBokD,EAAI,CAC1BC,EAUF,WACE,IAAIC,EAAuBH,GAAmBE,IAC5CE,EAAex0C,KACjB,OAAOu0C,GAAwBC,CACjC,EAbEC,EAcF,SAA0B90C,GACxB,IAAI+0C,EAAWz8C,GAAoB0H,GACnC,OAAS+0C,GAAY,IAAMA,EAAS9lD,KAAO,SAAW8lD,EAAStpD,KAC3Dm+B,GAAmBmrB,GACnBN,GAAmBK,EAAE90C,EAC3B,EAlBEg1C,EAuCF,SAAqBpnC,GACnB6mC,GAAmBO,EAAEpnC,GACrBqnC,GAAa,eAAgBrnC,EAAM,KACrC,EAzCEsnC,EA0CF,SAAoBtnC,EAAM6nB,GACxBgf,GAAmBS,EAAEtnC,EAAM6nB,GAC3Bwf,GAAa,aAAcrnC,EAAM6nB,EACnC,EA5CE0f,EA6CF,SAAiBvnC,EAAMwnC,EAAIh4C,GACzBq3C,GAAmBU,EAAEvnC,EAAMwnC,EAAIh4C,GAC/B,IAAIL,EAAgBs4C,GACpB,GAAIt4C,GAAiB6Q,GAAQwnC,EAAI,CAC/B,IAAIE,EACF,2BACAj5C,GAA+C+4C,GAC/C,KACF,UAAYA,GACRh4C,GAAWA,EAAQm4C,aACfD,GACA,iBACAj5C,GACEe,EAAQm4C,aAEV,KACF,kBAAoBn4C,EAAQo4C,aACzBF,GACC,gBACAj5C,GACEe,EAAQo4C,YAEV,OAKLF,GACC,UACAj5C,GAA+CuR,GAC/C,KACN,IAAI5G,EAAMsuC,EACV,OAAQF,GACN,IAAK,QACHpuC,EAAM45B,GAAYhzB,GAClB,MACF,IAAK,SACH5G,EAAMyuC,GAAa7nC,GAEvBqzB,GAAgBziC,IAAIwI,KAChB4G,EAAOrhB,EACP,CACEipC,IAAK,UACL5nB,KACE,UAAYwnC,GAAMh4C,GAAWA,EAAQm4C,iBAAc,EAAS3nC,EAC9DwnC,GAAIA,GAENh4C,GAEF6jC,GAAgBvzC,IAAIsZ,EAAK4G,GACzB,OAAS7Q,EAAc6gC,cAAc0X,IAClC,UAAYF,GACXr4C,EAAc6gC,cAAciD,GAA6B75B,KAC1D,WAAaouC,GACZr4C,EAAc6gC,cAAc8X,GAAyB1uC,MAEvDmuB,GADEigB,EAAKr4C,EAAcrD,cAAc,QACV,OAAQkU,GACjC7U,GAAoBq8C,GACpBr4C,EAAc4gC,KAAKpD,YAAY6a,IACrC,CACF,EAxGEO,EAyGF,SAAuB/nC,EAAMxQ,GAC3Bq3C,GAAmBkB,EAAE/nC,EAAMxQ,GAC3B,IAAIL,EAAgBs4C,GACpB,GAAIt4C,GAAiB6Q,EAAM,CACzB,IAAIwnC,EAAKh4C,GAAW,kBAAoBA,EAAQg4C,GAAKh4C,EAAQg4C,GAAK,SAChEE,EACE,iCACAj5C,GAA+C+4C,GAC/C,YACA/4C,GAA+CuR,GAC/C,KACF5G,EAAMsuC,EACR,OAAQF,GACN,IAAK,eACL,IAAK,eACL,IAAK,gBACL,IAAK,eACL,IAAK,SACL,IAAK,SACHpuC,EAAMyuC,GAAa7nC,GAEvB,IACGqzB,GAAgBziC,IAAIwI,KACnB4G,EAAOrhB,EAAO,CAAEipC,IAAK,gBAAiB5nB,KAAMA,GAAQxQ,GACtD6jC,GAAgBvzC,IAAIsZ,EAAK4G,GACzB,OAAS7Q,EAAc6gC,cAAc0X,IACrC,CACA,OAAQF,GACN,IAAK,eACL,IAAK,eACL,IAAK,gBACL,IAAK,eACL,IAAK,SACL,IAAK,SACH,GAAIr4C,EAAc6gC,cAAc8X,GAAyB1uC,IACvD,OAGNmuB,GADAigB,EAAKr4C,EAAcrD,cAAc,QACR,OAAQkU,GACjC7U,GAAoBq8C,GACpBr4C,EAAc4gC,KAAKpD,YAAY6a,EACjC,CACF,CACF,EAnJEQ,EAqMF,SAAuBjgB,EAAKv4B,GAC1Bq3C,GAAmBmB,EAAEjgB,EAAKv4B,GAC1B,IAAIL,EAAgBs4C,GACpB,GAAIt4C,GAAiB44B,EAAK,CACxB,IAAIkgB,EAAUn9C,GAAqBqE,GAAejE,iBAChDkO,EAAMyuC,GAAa9f,GACnB2K,EAAWuV,EAAQz6C,IAAI4L,GACzBs5B,KACIA,EAAWvjC,EAAc6gC,cAAc8X,GAAyB1uC,OAE9D2uB,EAAMppC,EAAO,CAAEopC,IAAKA,EAAKkN,OAAO,GAAMzlC,IACvCA,EAAU6jC,GAAgB7lC,IAAI4L,KAC7B8uC,GAA2BngB,EAAKv4B,GAElCrE,GADCunC,EAAWvjC,EAAcrD,cAAc,WAExCy7B,GAAqBmL,EAAU,OAAQ3K,GACvC54B,EAAc4gC,KAAKpD,YAAY+F,IAChCA,EAAW,CACV70C,KAAM,SACNqpB,SAAUwrB,EACVrE,MAAO,EACP7f,MAAO,MAETy5B,EAAQnoD,IAAIsZ,EAAKs5B,GACrB,CACF,EA7NExiB,EAmJF,SAAsBlQ,EAAM80B,EAAYtlC,GACtCq3C,GAAmB32B,EAAElQ,EAAM80B,EAAYtlC,GACvC,IAAIL,EAAgBs4C,GACpB,GAAIt4C,GAAiB6Q,EAAM,CACzB,IAAIlP,EAAShG,GAAqBqE,GAAenE,gBAC/CoO,EAAM45B,GAAYhzB,GACpB80B,EAAaA,GAAc,UAC3B,IAAIpC,EAAW5hC,EAAOtD,IAAI4L,GAC1B,IAAKs5B,EAAU,CACb,IAAIlkB,EAAQ,CAAEukB,QAAS,EAAGc,QAAS,MACnC,GACGnB,EAAWvjC,EAAc6gC,cACxBiD,GAA6B75B,IAG/BoV,EAAMukB,QAAU,MACb,CACH/yB,EAAOrhB,EACL,CAAEipC,IAAK,aAAc5nB,KAAMA,EAAM,kBAAmB80B,GACpDtlC,IAEDA,EAAU6jC,GAAgB7lC,IAAI4L,KAC7Bk6B,GAA+BtzB,EAAMxQ,GACvC,IAAI24C,EAAQzV,EAAWvjC,EAAcrD,cAAc,QACnDX,GAAoBg9C,GACpB5gB,GAAqB4gB,EAAM,OAAQnoC,GACnCmoC,EAAKjV,GAAK,IAAIM,SAAQ,SAAUnjB,EAASojB,GACvC0U,EAAKzU,OAASrjB,EACd83B,EAAKxU,QAAUF,CACjB,IACA0U,EAAKv1C,iBAAiB,QAAQ,WAC5B4b,EAAMukB,SAAW,CACnB,IACAoV,EAAKv1C,iBAAiB,SAAS,WAC7B4b,EAAMukB,SAAW,CACnB,IACAvkB,EAAMukB,SAAW,EACjBqV,GAAiB1V,EAAUoC,EAAY3lC,EACzC,CACAujC,EAAW,CACT70C,KAAM,aACNqpB,SAAUwrB,EACVrE,MAAO,EACP7f,MAAOA,GAET1d,EAAOhR,IAAIsZ,EAAKs5B,EAClB,CACF,CACF,EAlME2V,EA6NF,SAA6BtgB,EAAKv4B,GAChCq3C,GAAmBwB,EAAEtgB,EAAKv4B,GAC1B,IAAIL,EAAgBs4C,GACpB,GAAIt4C,GAAiB44B,EAAK,CACxB,IAAIkgB,EAAUn9C,GAAqBqE,GAAejE,iBAChDkO,EAAMyuC,GAAa9f,GACnB2K,EAAWuV,EAAQz6C,IAAI4L,GACzBs5B,KACIA,EAAWvjC,EAAc6gC,cAAc8X,GAAyB1uC,OAE9D2uB,EAAMppC,EAAO,CAAEopC,IAAKA,EAAKkN,OAAO,EAAIp3C,KAAM,UAAY2R,IACvDA,EAAU6jC,GAAgB7lC,IAAI4L,KAC7B8uC,GAA2BngB,EAAKv4B,GAElCrE,GADCunC,EAAWvjC,EAAcrD,cAAc,WAExCy7B,GAAqBmL,EAAU,OAAQ3K,GACvC54B,EAAc4gC,KAAKpD,YAAY+F,IAChCA,EAAW,CACV70C,KAAM,SACNqpB,SAAUwrB,EACVrE,MAAO,EACP7f,MAAO,MAETy5B,EAAQnoD,IAAIsZ,EAAKs5B,GACrB,CACF,GAzOA,IAAI+U,GAAiB,qBAAuB57C,SAAW,KAAOA,SAC9D,SAASw7C,GAAazf,EAAK5nB,EAAM6nB,GAC/B,IAAI14B,EAAgBs4C,GACpB,GAAIt4C,GAAiB,kBAAoB6Q,GAAQA,EAAM,CACrD,IAAIsoC,EACF75C,GAA+CuR,GACjDsoC,EACE,aAAe1gB,EAAM,YAAc0gB,EAAqB,KAC1D,kBAAoBzgB,IACjBygB,GAAsB,iBAAmBzgB,EAAc,MAC1D8e,GAAe/1C,IAAI03C,KAChB3B,GAAeh7C,IAAI28C,GACnB1gB,EAAM,CAAEA,IAAKA,EAAKC,YAAaA,EAAa7nB,KAAMA,GACnD,OAAS7Q,EAAc6gC,cAAcsY,KAEnC/gB,GADEvnB,EAAO7Q,EAAcrD,cAAc,QACV,OAAQ87B,GACnCz8B,GAAoB6U,GACpB7Q,EAAc4gC,KAAKpD,YAAY3sB,IACrC,CACF,CAuNA,SAASqnB,GAAYxpC,EAAM0qD,EAAcz9B,EAAc+kB,GACrD,IAwHyB1gC,EAAeiK,EAAKovC,EAAch6B,EAxHvDhqB,GAA4BA,EAC9Bb,EAAwBN,SACtButC,GAAiBpsC,GACjB,KACJ,IAAKA,EAA0B,MAAM1F,MAAMnD,EAAuB,MAClE,OAAQkC,GACN,IAAK,OACL,IAAK,QACH,OAAO,KACT,IAAK,QACH,MAAO,kBAAoBitB,EAAagqB,YACtC,kBAAoBhqB,EAAa9K,MAC7BuoC,EAAevV,GAAYloB,EAAa9K,OAIzC6vB,GAHA/kB,EAAehgB,GACdtG,GACAwG,iBAC8BwC,IAAI+6C,MAEhC1Y,EAAkB,CAClBhyC,KAAM,QACNqpB,SAAU,KACVmnB,MAAO,EACP7f,MAAO,MAET1D,EAAahrB,IAAIyoD,EAAc1Y,IACjCA,GACA,CAAEhyC,KAAM,OAAQqpB,SAAU,KAAMmnB,MAAO,EAAG7f,MAAO,MACvD,IAAK,OACH,GACE,eAAiB1D,EAAa8c,KAC9B,kBAAoB9c,EAAa9K,MACjC,kBAAoB8K,EAAagqB,WACjC,CACAj3C,EAAOm1C,GAAYloB,EAAa9K,MAChC,IAAIyoC,EAAa39C,GACbtG,GACAwG,gBACF09C,EAAeD,EAAWj7C,IAAI3P,GAoChC,GAnCA6qD,IACIlkD,EACAA,EAAyB2K,eAAiB3K,EAC3CkkD,EAAe,CACd7qD,KAAM,aACNqpB,SAAU,KACVmnB,MAAO,EACP7f,MAAO,CAAEukB,QAAS,EAAGc,QAAS,OAEhC4U,EAAW3oD,IAAIjC,EAAM6qD,IACpBD,EAAajkD,EAAyBwrC,cACrCiD,GAA6Bp1C,OAE5B4qD,EAAWvV,KACVwV,EAAaxhC,SAAWuhC,EACzBC,EAAal6B,MAAMukB,QAAU,GAChCM,GAAgBziC,IAAI/S,KAChBitB,EAAe,CACf8c,IAAK,UACL4f,GAAI,QACJxnC,KAAM8K,EAAa9K,KACnB6nB,YAAa/c,EAAa+c,YAC1B8gB,UAAW79B,EAAa69B,UACxB/V,MAAO9nB,EAAa8nB,MACpBgW,SAAU99B,EAAa89B,SACvBC,eAAgB/9B,EAAa+9B,gBAE/BxV,GAAgBvzC,IAAIjC,EAAMitB,GAC1B29B,IAsDet5C,EApDX3K,EAoD0B4U,EAnD1Bvb,EAmD+B2qD,EAlD/B19B,EAkD6C0D,EAjD7Ck6B,EAAal6B,MAkD3Brf,EAAc6gC,cAAc,mCAAqC52B,EAAM,KAClEoV,EAAMukB,QAAU,GACf35B,EAAMjK,EAAcrD,cAAc,QACnC0iB,EAAMqlB,QAAUz6B,EACjBA,EAAIxG,iBAAiB,QAAQ,WAC3B,OAAQ4b,EAAMukB,SAAW,CAC3B,IACA35B,EAAIxG,iBAAiB,SAAS,WAC5B,OAAQ4b,EAAMukB,SAAW,CAC3B,IACAxL,GAAqBnuB,EAAK,OAAQovC,GAClCr9C,GAAoBiO,GACpBjK,EAAc4gC,KAAKpD,YAAYvzB,OA5DzBmvC,GAAgB,OAAS1Y,EAC3B,MAAM/wC,MAAMnD,EAAuB,IAAK,KAC1C,OAAO+sD,CACT,CACA,GAAIH,GAAgB,OAAS1Y,EAC3B,MAAM/wC,MAAMnD,EAAuB,IAAK,KAC1C,OAAO,KACT,IAAK,SACH,OACG4sD,EAAez9B,EAAamqB,MAE7B,kBADCnqB,EAAeA,EAAaid,MAE7BwgB,GACA,oBAAsBA,GACtB,kBAAoBA,GACdA,EAAeV,GAAa/8B,IAI7B+kB,GAHA/kB,EAAehgB,GACdtG,GACA0G,kBAC8BsC,IAAI+6C,MAEhC1Y,EAAkB,CAClBhyC,KAAM,SACNqpB,SAAU,KACVmnB,MAAO,EACP7f,MAAO,MAET1D,EAAahrB,IAAIyoD,EAAc1Y,IACjCA,GACA,CAAEhyC,KAAM,OAAQqpB,SAAU,KAAMmnB,MAAO,EAAG7f,MAAO,MAEzD,QACE,MAAM1vB,MAAMnD,EAAuB,IAAKkC,IAE9C,CACA,SAASm1C,GAAYhzB,GACnB,MAAO,SAAWvR,GAA+CuR,GAAQ,GAC3E,CACA,SAASizB,GAA6B75B,GACpC,MAAO,0BAA4BA,EAAM,GAC3C,CACA,SAASg6B,GAA4B0V,GACnC,OAAOnqD,EAAO,CAAC,EAAGmqD,EAAU,CAC1B,kBAAmBA,EAAShU,WAC5BA,WAAY,MAEhB,CAgBA,SAAS+S,GAAa9f,GACpB,MAAO,SAAWt5B,GAA+Cs5B,GAAO,IAC1E,CACA,SAAS+f,GAAyB1uC,GAChC,MAAO,gBAAkBA,CAC3B,CACA,SAASq3B,GAAgBb,EAAe8C,EAAU1gC,GAEhD,GADA0gC,EAASrE,QACL,OAASqE,EAASxrB,SACpB,OAAQwrB,EAAS70C,MACf,IAAK,QACH,IAAIqpB,EAAW0oB,EAAcI,cAC3B,qBACEvhC,GAA+CuD,EAAMgO,MACrD,MAEJ,GAAIkH,EACF,OACGwrB,EAASxrB,SAAWA,EACrB/b,GAAoB+b,GACpBA,EAEJ,IAAI6hC,EAAapqD,EAAO,CAAC,EAAGqT,EAAO,CACjC,YAAaA,EAAMgO,KACnB,kBAAmBhO,EAAM8iC,WACzB90B,KAAM,KACN80B,WAAY,OAQd,OAHA3pC,GAHA+b,GAAY0oB,EAAczgC,eAAiBygC,GAAe9jC,cACxD,UAGFy7B,GAAqBrgB,EAAU,QAAS6hC,GACxCX,GAAiBlhC,EAAUlV,EAAM8iC,WAAYlF,GACrC8C,EAASxrB,SAAWA,EAC9B,IAAK,aACH6hC,EAAa/V,GAAYhhC,EAAMgO,MAC/B,IAAIgpC,EAAepZ,EAAcI,cAC/BiD,GAA6B8V,IAE/B,GAAIC,EACF,OACGtW,EAASlkB,MAAMukB,SAAW,EAC1BL,EAASxrB,SAAW8hC,EACrB79C,GAAoB69C,GACpBA,EAEJ9hC,EAAWksB,GAA4BphC,IACtC+2C,EAAa1V,GAAgB7lC,IAAIu7C,KAChCzV,GAA+BpsB,EAAU6hC,GAI3C59C,GAHA69C,GACEpZ,EAAczgC,eAAiBygC,GAC/B9jC,cAAc,SAEhB,IAAIynC,EAAeyV,EAQnB,OAPAzV,EAAaL,GAAK,IAAIM,SAAQ,SAAUnjB,EAASojB,GAC/CF,EAAaG,OAASrjB,EACtBkjB,EAAaI,QAAUF,CACzB,IACAlM,GAAqByhB,EAAc,OAAQ9hC,GAC3CwrB,EAASlkB,MAAMukB,SAAW,EAC1BqV,GAAiBY,EAAch3C,EAAM8iC,WAAYlF,GACzC8C,EAASxrB,SAAW8hC,EAC9B,IAAK,SAEH,OADAA,EAAenB,GAAa71C,EAAM+1B,MAE/BghB,EAAanZ,EAAcI,cAC1B8X,GAAyBkB,MAIxBtW,EAASxrB,SAAW6hC,EACrB59C,GAAoB49C,GACpBA,IAEJ7hC,EAAWlV,GACN+2C,EAAa1V,GAAgB7lC,IAAIw7C,KAElCd,GADDhhC,EAAWvoB,EAAO,CAAC,EAAGqT,GACgB+2C,GAGzC59C,GADA49C,GADAnZ,EAAgBA,EAAczgC,eAAiBygC,GACpB9jC,cAAc,WAEzCy7B,GAAqBwhB,EAAY,OAAQ7hC,GACzC0oB,EAAcG,KAAKpD,YAAYoc,GACvBrW,EAASxrB,SAAW6hC,GAC9B,IAAK,OACH,OAAO,KACT,QACE,MAAMjqD,MAAMnD,EAAuB,IAAK+2C,EAAS70C,WAGrD,eAAiB60C,EAAS70C,MACxB,KAAgC,EAAzB60C,EAASlkB,MAAMukB,WACpB7rB,EAAWwrB,EAASxrB,SACrBwrB,EAASlkB,MAAMukB,SAAW,EAC3BqV,GAAiBlhC,EAAUlV,EAAM8iC,WAAYlF,IACjD,OAAO8C,EAASxrB,QAClB,CACA,SAASkhC,GAAiBlhC,EAAU4tB,EAAYztC,GAC9C,IACE,IAAI4hD,EAAQ5hD,EAAK6K,iBACb,kEAEFumB,EAAOwwB,EAAMltD,OAASktD,EAAMA,EAAMltD,OAAS,GAAK,KAChDmtD,EAAQzwB,EACRx8B,EAAI,EACNA,EAAIgtD,EAAMltD,OACVE,IACA,CACA,IAAIE,EAAO8sD,EAAMhtD,GACjB,GAAIE,EAAKqpC,QAAQsP,aAAeA,EAAYoU,EAAQ/sD,OAC/C,GAAI+sD,IAAUzwB,EAAM,KAC3B,CACAywB,EACIA,EAAMhlD,WAAWwoC,aAAaxlB,EAAUgiC,EAAM7pC,cAC5Cy1B,EAAa,IAAMztC,EAAKjL,SAAWiL,EAAK0oC,KAAO1oC,GACtCqlC,aAAaxlB,EAAU4tB,EAAW5kC,WACnD,CACA,SAASojC,GAA+B6V,EAAiBX,GACvD,MAAQW,EAAgBthB,cACrBshB,EAAgBthB,YAAc2gB,EAAa3gB,aAC9C,MAAQshB,EAAgBN,iBACrBM,EAAgBN,eAAiBL,EAAaK,gBACjD,MAAQM,EAAgBrhB,QAAUqhB,EAAgBrhB,MAAQ0gB,EAAa1gB,MACzE,CACA,SAASogB,GAA2BkB,EAAaZ,GAC/C,MAAQY,EAAYvhB,cACjBuhB,EAAYvhB,YAAc2gB,EAAa3gB,aAC1C,MAAQuhB,EAAYP,iBACjBO,EAAYP,eAAiBL,EAAaK,gBAC7C,MAAQO,EAAYT,YACjBS,EAAYT,UAAYH,EAAaG,UAC1C,CACA,IAAIhY,GAAY,KAChB,SAAST,GAA4BryC,EAAMwrD,EAAcl6C,GACvD,GAAI,OAASwhC,GAAW,CACtB,IAAIhhB,EAAQ,IAAI1kB,IACZq+C,EAAU3Y,GAAY,IAAI1lC,IAC9Bq+C,EAAOxpD,IAAIqP,EAAewgB,EAC5B,MAEKA,GADF25B,EAAS3Y,IACQnjC,IAAI2B,MACTwgB,EAAQ,IAAI1kB,IAAQq+C,EAAOxpD,IAAIqP,EAAewgB,IAC7D,GAAIA,EAAM/e,IAAI/S,GAAO,OAAO8xB,EAG5B,IAFAA,EAAM7vB,IAAIjC,EAAM,MAChBsR,EAAgBA,EAAc2gC,qBAAqBjyC,GAC9CyrD,EAAS,EAAGA,EAASn6C,EAAcpT,OAAQutD,IAAU,CACxD,IAAIntD,EAAOgT,EAAcm6C,GACzB,KAEIntD,EAAKiO,KACLjO,EAAK0N,KACJ,SAAWhM,GAAQ,eAAiB1B,EAAKwrC,aAAa,SAEzD,+BAAiCxrC,EAAK6H,aACtC,CACA,IAAIulD,EAAUptD,EAAKwrC,aAAa0hB,IAAiB,GACjDE,EAAU1rD,EAAO0rD,EACjB,IAAI/jC,EAAWmK,EAAMniB,IAAI+7C,GACzB/jC,EAAWA,EAAShiB,KAAKrH,GAAQwzB,EAAM7vB,IAAIypD,EAAS,CAACptD,GACvD,CACF,CACA,OAAOwzB,CACT,CACA,SAAS6gB,GAAeZ,EAAe/xC,EAAMqpB,IAC3C0oB,EAAgBA,EAAczgC,eAAiBygC,GACjCG,KAAKrD,aACjBxlB,EACA,UAAYrpB,EAAO+xC,EAAcI,cAAc,gBAAkB,KAErE,CA+CA,SAAS4F,GAAgBlD,GACvB,MAAO,eAAiBA,EAAS70C,MAAQ,KAAgC,EAAzB60C,EAASlkB,MAAMukB,QAGjE,CACA,IAAIJ,GAAiB,KACrB,SAAS8I,KAAQ,CA6EjB,SAAStI,KAEP,GADA1lC,KAAK4gC,QACD,IAAM5gC,KAAK4gC,MACb,GAAI5gC,KAAKmmC,YAAa8H,GAA2BjuC,KAAMA,KAAKmmC,kBACvD,GAAInmC,KAAK+tC,UAAW,CACvB,IAAIA,EAAY/tC,KAAK+tC,UACrB/tC,KAAK+tC,UAAY,KACjBA,GACF,CACJ,CACA,IAAIgO,GAAoB,KACxB,SAAS9N,GAA2BltB,EAAOzjB,GACzCyjB,EAAMolB,YAAc,KACpB,OAASplB,EAAMgtB,YACZhtB,EAAM6f,QACNmb,GAAoB,IAAIv+C,IACzBF,EAAU+hB,QAAQ28B,GAA0Bj7B,GAC3Cg7B,GAAoB,KACrBrW,GAAYlzC,KAAKuuB,GACrB,CACA,SAASi7B,GAAyBpiD,EAAMqrC,GACtC,KAA+B,EAAzBA,EAASlkB,MAAMukB,SAAc,CACjC,IAAI2W,EAAcF,GAAkBh8C,IAAInG,GACxC,GAAIqiD,EAAa,IAAIjxB,EAAOixB,EAAYl8C,IAAI,UACvC,CACHk8C,EAAc,IAAIz+C,IAClBu+C,GAAkB1pD,IAAIuH,EAAMqiD,GAC5B,IACE,IAAIT,EAAQ5hD,EAAK6K,iBACb,gDAEFjW,EAAI,EACNA,EAAIgtD,EAAMltD,OACVE,IACA,CACA,IAAIE,EAAO8sD,EAAMhtD,GAEf,SAAWE,EAAK8Q,UAChB,YAAc9Q,EAAKwrC,aAAa,WAEhC+hB,EAAY5pD,IAAI3D,EAAKqpC,QAAQsP,WAAY34C,GAAQs8B,EAAOt8B,EAC5D,CACAs8B,GAAQixB,EAAY5pD,IAAI,KAAM24B,EAChC,CAEAt8B,GADA8sD,EAAQvW,EAASxrB,UACJygB,aAAa,oBAC1B1rC,EAAIytD,EAAYl8C,IAAIrR,IAASs8B,KACvBA,GAAQixB,EAAY5pD,IAAI,KAAMmpD,GACpCS,EAAY5pD,IAAI3D,EAAM8sD,GACtBx7C,KAAK4gC,QACL5V,EAAO0a,GAAY/c,KAAK3oB,MACxBw7C,EAAMr2C,iBAAiB,OAAQ6lB,GAC/BwwB,EAAMr2C,iBAAiB,QAAS6lB,GAChCx8B,EACIA,EAAEiI,WAAWwoC,aAAauc,EAAOhtD,EAAEojB,cACjChY,EAAO,IAAMA,EAAKjL,SAAWiL,EAAK0oC,KAAO1oC,GACtCqlC,aAAauc,EAAO5hD,EAAK6I,YAClCwiC,EAASlkB,MAAMukB,SAAW,CAC5B,CACF,CACA,IAAIruC,GAAwB,CAC1B5G,SAAUf,EACVqyB,SAAU,KACVD,SAAU,KACVxqB,cAAe/B,EACfysB,eAAgBzsB,EAChB0sB,aAAc,GAEhB,SAASq6B,GACP/pC,EACAve,EACAuoD,EACAvrB,EACAsC,EACAM,EACA8d,EACAjmB,GAEArrB,KAAKpM,IAAM,EACXoM,KAAKmS,cAAgBA,EACrBnS,KAAK+8B,aACH/8B,KAAK6xC,UACL7xC,KAAKpK,QACLoK,KAAKgoC,gBACH,KACJhoC,KAAKitC,eAAiB,EACtBjtC,KAAKgwC,aACHhwC,KAAK4W,KACL5W,KAAKgpC,eACLhpC,KAAKlJ,QACLkJ,KAAKmrC,oBACH,KACJnrC,KAAKiwC,iBAAmB,EACxBjwC,KAAKyuC,gBAAkB7zC,IAAe,GACtCoF,KAAK7E,eACH6E,KAAKyb,oBACLzb,KAAK+sC,2BACL/sC,KAAK7F,cACL6F,KAAK0rC,aACL1rC,KAAK9F,UACL8F,KAAK/F,YACL+F,KAAKhG,eACLgG,KAAKlG,aACH,EACJkG,KAAK3E,cAAgBT,GAAc,GACnCoF,KAAKuX,cAAgB3c,GAAc,MACnCoF,KAAK4wB,iBAAmBA,EACxB5wB,KAAKkzB,gBAAkBA,EACvBlzB,KAAKwzB,cAAgBA,EACrBxzB,KAAKsxC,mBAAqBA,EAC1BtxC,KAAKijB,YAAc,KACnBjjB,KAAKy6B,iBAAmB,EACxBz6B,KAAKqrB,UAAYA,EACjBrrB,KAAKo8C,sBAAwB,IAAI5+C,GACnC,CACA,SAAS6+C,GACPlqC,EACAve,EACAuoD,EACAG,EACAC,EACAC,EACA5rB,EACAsC,EACAM,EACA8d,EACAmL,EACApxB,GA2BA,OAzBAlZ,EAAgB,IAAI+pC,GAClB/pC,EACAve,EACAuoD,EACAvrB,EACAsC,EACAM,EACA8d,EACAjmB,GAEFz3B,EAAM,GACN,IAAO4oD,IAAiB5oD,GAAO,IAC/B4oD,EAAe78B,GAAqB,EAAG,KAAM,KAAM/rB,GACnDue,EAAcvc,QAAU4mD,EACxBA,EAAap/C,UAAY+U,GACzBve,EAAMkuB,MACFE,WACJ7P,EAAc8Q,YAAcrvB,EAC5BA,EAAIouB,WACJw6B,EAAahoD,cAAgB,CAC3B4M,QAASk7C,EACT3iB,aAAcwiB,EACdj6B,MAAOtuB,GAETgiC,GAAsB4mB,GACfrqC,CACT,CACA,SAASuqC,GAAqBC,GAC5B,OAAKA,EACLA,EAAkBjlC,GADWA,EAG/B,CACA,SAASklC,GACPhL,EACAp3C,EACA4G,EACAs0C,EACAiH,EACA1vB,GAEA0vB,EAAkBD,GAAqBC,GACvC,OAASjH,EAAU5+C,QACd4+C,EAAU5+C,QAAU6lD,EACpBjH,EAAU1M,eAAiB2T,GAChCjH,EAAYzmB,GAAaz0B,IACfwvB,QAAU,CAAE5oB,QAASA,GAE/B,QADA6rB,OAAW,IAAWA,EAAW,KAAOA,KAClByoB,EAAUzoB,SAAWA,GAE3C,QADA7rB,EAAU4tB,GAAc4iB,EAAW8D,EAAWl7C,MAE3C8uB,GAAsBloB,EAASwwC,EAAWp3C,GAC3C00B,GAAoB9tB,EAASwwC,EAAWp3C,GAC5C,CACA,SAASqiD,GAAkBlpD,EAAOmjC,GAEhC,GAAI,QADJnjC,EAAQA,EAAMa,gBACQ,OAASb,EAAMc,WAAY,CAC/C,IAAI+P,EAAI7Q,EAAMmjC,UACdnjC,EAAMmjC,UAAY,IAAMtyB,GAAKA,EAAIsyB,EAAYtyB,EAAIsyB,CACnD,CACF,CACA,SAASgmB,GAA2BnpD,EAAOmjC,GACzC+lB,GAAkBlpD,EAAOmjC,IACxBnjC,EAAQA,EAAMS,YAAcyoD,GAAkBlpD,EAAOmjC,EACxD,CACA,SAASimB,GAA2BppD,GAClC,GAAI,KAAOA,EAAMC,IAAK,CACpB,IAAIgG,EAAOqd,GAA+BtjB,EAAO,UACjD,OAASiG,GAAQ0vB,GAAsB1vB,EAAMjG,EAAO,UACpDmpD,GAA2BnpD,EAAO,SACpC,CACF,CACA,IAAI+8C,IAAW,EACf,SAASwE,GACP5mC,EACA8lC,EACAsB,EACA3xC,GAEA,IAAIwmB,EAAiBv5B,EAAqBo5B,EAC1Cp5B,EAAqBo5B,EAAI,KACzB,IAAIwD,EAAmB34B,EAAwB2G,EAC/C,IACG3G,EAAwB2G,EAAI,EAC3B62B,GAAcnkB,EAAc8lC,EAAkBsB,EAAW3xC,EAC7D,CAAE,QACC9O,EAAwB2G,EAAIgyB,EAC1B58B,EAAqBo5B,EAAIG,CAC9B,CACF,CACA,SAAS4qB,GACP7mC,EACA8lC,EACAsB,EACA3xC,GAEA,IAAIwmB,EAAiBv5B,EAAqBo5B,EAC1Cp5B,EAAqBo5B,EAAI,KACzB,IAAIwD,EAAmB34B,EAAwB2G,EAC/C,IACG3G,EAAwB2G,EAAI,EAC3B62B,GAAcnkB,EAAc8lC,EAAkBsB,EAAW3xC,EAC7D,CAAE,QACC9O,EAAwB2G,EAAIgyB,EAC1B58B,EAAqBo5B,EAAIG,CAC9B,CACF,CACA,SAASkI,GACPnkB,EACA8lC,EACAY,EACAjxC,GAEA,GAAI2sC,GAAU,CACZ,IAAIsM,EAAYC,GAA0Bl5C,GAC1C,GAAI,OAASi5C,EACX1H,GACEhnC,EACA8lC,EACArwC,EACAm5C,GACAlI,GAEAmI,GAAuB7uC,EAAcvK,QACpC,GA+PT,SACEi5C,EACA1uC,EACA8lC,EACAY,EACAjxC,GAEA,OAAQuK,GACN,IAAK,UACH,OACG8uC,GAAcC,GACbD,GACAJ,EACA1uC,EACA8lC,EACAY,EACAjxC,IAEF,EAEJ,IAAK,YACH,OACGu5C,GAAaD,GACZC,GACAN,EACA1uC,EACA8lC,EACAY,EACAjxC,IAEF,EAEJ,IAAK,YACH,OACGw5C,GAAcF,GACbE,GACAP,EACA1uC,EACA8lC,EACAY,EACAjxC,IAEF,EAEJ,IAAK,cACH,IAAIoI,EAAYpI,EAAYoI,UAY5B,OAXAqxC,GAAenrD,IACb8Z,EACAkxC,GACEG,GAAez9C,IAAIoM,IAAc,KACjC6wC,EACA1uC,EACA8lC,EACAY,EACAjxC,KAGG,EACT,IAAK,oBACH,OACGoI,EAAYpI,EAAYoI,UACzBsxC,GAAsBprD,IACpB8Z,EACAkxC,GACEI,GAAsB19C,IAAIoM,IAAc,KACxC6wC,EACA1uC,EACA8lC,EACAY,EACAjxC,KAGJ,EAGN,OAAO,CACT,CA1UM25C,CACEV,EACA1uC,EACA8lC,EACAY,EACAjxC,GAGFA,EAAYoD,uBACT,GACFg2C,GAAuB7uC,EAAcvK,GACnB,EAAnBqwC,IACG,EAAIuJ,GAAyBlsD,QAAQ6c,GACxC,CACA,KAAO,OAAS0uC,GAAa,CAC3B,IAAIrpD,EAAQsJ,GAAoB+/C,GAChC,GAAI,OAASrpD,EACX,OAAQA,EAAMC,KACZ,KAAK,EAEH,IADAD,EAAQA,EAAMyJ,WACJxH,QAAQpB,cAAcmlC,aAAc,CAC5C,IAAIlgC,EAAQD,GAAwB7F,EAAMmG,cAC1C,GAAI,IAAML,EAAO,CACf,IAAIG,EAAOjG,EAEX,IADAiG,EAAKE,cAAgB,EAChBF,EAAKuB,gBAAkB,EAAG1B,GAAS,CACtC,IAAIe,EAAO,GAAM,GAAKrB,GAAMM,GAC5BG,EAAKyB,cAAc,IAAMb,EACzBf,IAAUe,CACZ,CACA8wC,GAAsB33C,GACtB,KAA0B,EAAnBqoC,MACHwN,GAAqC5xC,KAAQ,IAC/C+2C,GAA8B,GAAG,GACrC,CACF,CACA,MACF,KAAK,GAED,QADD/0C,EAAOqd,GAA+BtjB,EAAO,KAC3B21B,GAAsB1vB,EAAMjG,EAAO,GACpDqR,KACA83C,GAA2BnpD,EAAO,GAW1C,GARA,QADAA,EAAQspD,GAA0Bl5C,KAEhCuxC,GACEhnC,EACA8lC,EACArwC,EACAm5C,GACAlI,GAEArhD,IAAUqpD,EAAW,MACzBA,EAAYrpD,CACd,CACA,OAASqpD,GAAaj5C,EAAYoD,iBACpC,MACEmuC,GACEhnC,EACA8lC,EACArwC,EACA,KACAixC,EAEN,CACF,CACA,SAASiI,GAA0Bl5C,GAEjC,OAAO65C,GADP75C,EAAcD,GAAeC,GAE/B,CACA,IAAIm5C,GAAoB,KACxB,SAASU,GAA2B9gD,GAGlC,GAFAogD,GAAoB,KAEhB,QADJpgD,EAAaD,GAA2BC,IACf,CACvB,IAAI3I,EAAiBD,EAAuB4I,GAC5C,GAAI,OAAS3I,EAAgB2I,EAAa,SACrC,CACH,IAAIlJ,EAAMO,EAAeP,IACzB,GAAI,KAAOA,EAAK,CAEd,GAAI,QADJkJ,EAAaxI,EAA6BH,IACjB,OAAO2I,EAChCA,EAAa,IACf,MAAO,GAAI,IAAMlJ,EAAK,CACpB,GAAIO,EAAeiJ,UAAUxH,QAAQpB,cAAcmlC,aACjD,OAAO,IAAMxlC,EAAeP,IACxBO,EAAeiJ,UAAU+U,cACzB,KACNrV,EAAa,IACf,MAAO3I,IAAmB2I,IAAeA,EAAa,KACxD,CACF,CAEA,OADAogD,GAAoBpgD,EACb,IACT,CACA,SAASf,GAAiBuS,GACxB,OAAQA,GACN,IAAK,eACL,IAAK,SACL,IAAK,QACL,IAAK,QACL,IAAK,cACL,IAAK,OACL,IAAK,MACL,IAAK,WACL,IAAK,WACL,IAAK,UACL,IAAK,YACL,IAAK,OACL,IAAK,UACL,IAAK,WACL,IAAK,QACL,IAAK,UACL,IAAK,UACL,IAAK,WACL,IAAK,QACL,IAAK,YACL,IAAK,UACL,IAAK,QACL,IAAK,QACL,IAAK,OACL,IAAK,gBACL,IAAK,cACL,IAAK,YACL,IAAK,aACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,cACL,IAAK,WACL,IAAK,aACL,IAAK,eACL,IAAK,SACL,IAAK,kBACL,IAAK,YACL,IAAK,mBACL,IAAK,iBACL,IAAK,oBACL,IAAK,aACL,IAAK,YACL,IAAK,cACL,IAAK,OACL,IAAK,mBACL,IAAK,QACL,IAAK,aACL,IAAK,WACL,IAAK,SACL,IAAK,cACH,OAAO,EACT,IAAK,OACL,IAAK,YACL,IAAK,WACL,IAAK,YACL,IAAK,WACL,IAAK,YACL,IAAK,WACL,IAAK,YACL,IAAK,cACL,IAAK,aACL,IAAK,cACL,IAAK,SACL,IAAK,YACL,IAAK,QACL,IAAK,aACL,IAAK,aACL,IAAK,eACL,IAAK,eACH,OAAO,EACT,IAAK,UACH,OAAQxW,MACN,KAAKE,GACH,OAAO,EACT,KAAKE,GACH,OAAO,EACT,KAAKE,GACL,KAAKE,GACH,OAAO,GACT,KAAKE,GACH,OAAO,UACT,QACE,OAAO,GAEb,QACE,OAAO,GAEb,CACA,IAAIqlD,IAA4B,EAC9BT,GAAc,KACdE,GAAa,KACbC,GAAc,KACdC,GAAiB,IAAIhgD,IACrBigD,GAAwB,IAAIjgD,IAC5BsgD,GAAiC,GACjCH,GACE,sPAAsPtqD,MACpP,KAEN,SAAS8pD,GAAuB7uC,EAAcvK,GAC5C,OAAQuK,GACN,IAAK,UACL,IAAK,WACH8uC,GAAc,KACd,MACF,IAAK,YACL,IAAK,YACHE,GAAa,KACb,MACF,IAAK,YACL,IAAK,WACHC,GAAc,KACd,MACF,IAAK,cACL,IAAK,aACHC,GAAep+B,OAAOrb,EAAYoI,WAClC,MACF,IAAK,oBACL,IAAK,qBACHsxC,GAAsBr+B,OAAOrb,EAAYoI,WAE/C,CACA,SAASkxC,GACPU,EACAf,EACA1uC,EACA8lC,EACAY,EACAjxC,GAEA,OACE,OAASg6C,GACTA,EAAoBh6C,cAAgBA,GAGjCg6C,EAAsB,CACrBf,UAAWA,EACX1uC,aAAcA,EACd8lC,iBAAkBA,EAClBrwC,YAAaA,EACbi6C,iBAAkB,CAAChJ,IAErB,OAASgI,IAEP,QADEA,EAAY//C,GAAoB+/C,KACZD,GAA2BC,IACnDe,IAEJA,EAAoB3J,kBAAoBA,EACxC4I,EAAYe,EAAoBC,iBAChC,OAAShJ,IACN,IAAMgI,EAAUvrD,QAAQujD,IACzBgI,EAAUjnD,KAAKi/C,GACV+I,EACT,CA8EA,SAASE,GAA+BC,GACtC,IAAInhD,EAAaF,GAA2BqhD,EAAal6C,QACzD,GAAI,OAASjH,EAAY,CACvB,IAAI5I,EAAiBD,EAAuB6I,GAC5C,GAAI,OAAS5I,EACX,GAAwC,MAAlC4I,EAAa5I,EAAeP,MAChC,GAEE,QADEmJ,EAAazI,EAA6BH,IAa5C,OAVA+pD,EAAalB,UAAYjgD,OA7tbnC,SAAyBohD,EAAUvsD,GACjC,IAAIg8B,EAAmB34B,EAAwB2G,EAC/C,IACE,OAAQ3G,EAAwB2G,EAAIuiD,EAAWvsD,GACjD,CAAE,QACAqD,EAAwB2G,EAAIgyB,CAC9B,CACF,CAutbUwwB,CAAgBF,EAAaC,UAAU,WACrC,GAAI,KAAOhqD,EAAeP,IAAK,CAC7B,IAAI4G,EAAOyzB,KACTr0B,EAAOqd,GAA+B9iB,EAAgBqG,GACxD,OAASZ,GACP0vB,GAAsB1vB,EAAMzF,EAAgBqG,GAC9CsiD,GAA2B3oD,EAAgBqG,EAC7C,CACF,SAGG,GACL,IAAMuC,GACN5I,EAAeiJ,UAAUxH,QAAQpB,cAAcmlC,aAM/C,YAJAukB,EAAalB,UACX,IAAM7oD,EAAeP,IACjBO,EAAeiJ,UAAU+U,cACzB,KAGZ,CACA+rC,EAAalB,UAAY,IAC3B,CACA,SAASqB,GAAmCC,GAC1C,GAAI,OAASA,EAAYtB,UAAW,OAAO,EAC3C,IACE,IAAIgB,EAAmBM,EAAYN,iBACnC,EAAIA,EAAiB1vD,QAErB,CACA,IAAIiwD,EAAgBtB,GAA0BqB,EAAYv6C,aAC1D,GAAI,OAASw6C,EAUX,OAEE,QADCP,EAAmB/gD,GAAoBshD,KAEtCxB,GAA2BiB,GAC5BM,EAAYtB,UAAYuB,GACzB,EAbF,IAAIC,EAAmB,IADvBD,EAAgBD,EAAYv6C,aACalE,YACvC0+C,EAAcnuD,KACdmuD,GAEF16C,GAAwB26C,EACxBD,EAAcv6C,OAAOyuB,cAAc+rB,GACnC36C,GAAwB,KAS1Bm6C,EAAiBS,OACnB,CACA,OAAO,CACT,CACA,SAASC,GAAwCJ,EAAa3yC,EAAKmb,GACjEu3B,GAAmCC,IAAgBx3B,EAAI1H,OAAOzT,EAChE,CACA,SAASgzC,KACPd,IAA4B,EAC5B,OAAST,IACPiB,GAAmCjB,MAClCA,GAAc,MACjB,OAASE,IACPe,GAAmCf,MAClCA,GAAa,MAChB,OAASC,IACPc,GAAmCd,MAClCA,GAAc,MACjBC,GAAen+B,QAAQq/B,IACvBjB,GAAsBp+B,QAAQq/B,GAChC,CACA,SAASE,GAA4BN,EAAaO,GAChDP,EAAYtB,YAAc6B,IACtBP,EAAYtB,UAAY,KAC1Ba,KACIA,IAA4B,EAC9B/vD,EAAUuJ,0BACRvJ,EAAUuK,wBACVsmD,KAER,CACA,IAAIG,GAA2B,KAC/B,SAASC,GAA4BC,GACnCF,KAA6BE,IACzBF,GAA2BE,EAC7BlxD,EAAUuJ,0BACRvJ,EAAUuK,yBACV,WACEymD,KAA6BE,IAC1BF,GAA2B,MAC9B,IAAK,IAAItwD,EAAI,EAAGA,EAAIwwD,EAAmB1wD,OAAQE,GAAK,EAAG,CACrD,IAAImW,EAAOq6C,EAAmBxwD,GAC5BywD,EAAoBD,EAAmBxwD,EAAI,GAC3C6/B,EAAW2wB,EAAmBxwD,EAAI,GACpC,GAAI,oBAAsBywD,EACxB,IAAI,OAASrB,GAA2BqB,GAAqBt6C,GAC3D,SACG,KAAK,CACZ,IAAI+0C,EAAWz8C,GAAoB0H,GACnC,OAAS+0C,IACNsF,EAAmBtc,OAAOl0C,EAAG,GAC7BA,GAAK,EACN2/B,GACEurB,EACA,CACEtkD,SAAS,EACTC,KAAMg5B,EACN/4B,OAAQqP,EAAKrP,OACbC,OAAQ0pD,GAEVA,EACA5wB,GAEN,CACF,IAEN,CACA,SAAS+S,GAAiByd,GACxB,SAASK,EAAQZ,GACf,OAAOM,GAA4BN,EAAaO,EAClD,CACA,OAASzB,IAAewB,GAA4BxB,GAAayB,GACjE,OAASvB,IAAcsB,GAA4BtB,GAAYuB,GAC/D,OAAStB,IAAeqB,GAA4BrB,GAAasB,GACjErB,GAAen+B,QAAQ6/B,GACvBzB,GAAsBp+B,QAAQ6/B,GAC9B,IAAK,IAAI1wD,EAAI,EAAGA,EAAIsvD,GAA+BxvD,OAAQE,IAAK,CAC9D,IAAI0vD,EAAeJ,GAA+BtvD,GAClD0vD,EAAalB,YAAc6B,IAAcX,EAAalB,UAAY,KACpE,CACA,KAEE,EAAIc,GAA+BxvD,QACO,QAAxCE,EAAIsvD,GAA+B,IAAgBd,WAGrDiB,GAA+BzvD,GAC7B,OAASA,EAAEwuD,WAAac,GAA+BW,QAE3D,GAAI,OADJjwD,GAAKqwD,EAAUn9C,eAAiBm9C,GAAWM,mBAEzC,IAAKjB,EAAe,EAAGA,EAAe1vD,EAAEF,OAAQ4vD,GAAgB,EAAG,CACjE,IAAIv5C,EAAOnW,EAAE0vD,GACXe,EAAoBzwD,EAAE0vD,EAAe,GACrCkB,EAAYz6C,EAAKtI,KAAqB,KACxC,GAAI,oBAAsB4iD,EACxBG,GAAaL,GAA4BvwD,QACtC,GAAI4wD,EAAW,CAClB,IAAI7pD,EAAS,KACb,GAAI0pD,GAAqBA,EAAkBhlB,aAAa,eACtD,GACIt1B,EAAOs6C,EACRG,EAAYH,EAAkB5iD,KAAqB,KAEpD9G,EAAS6pD,EAAUtI,gBAEnB,GAAI,OAAS8G,GAA2Bj5C,GAAO,cAE9CpP,EAAS6pD,EAAU7pD,OACxB,oBAAsBA,EACjB/G,EAAE0vD,EAAe,GAAK3oD,GACtB/G,EAAEk0C,OAAOwb,EAAc,GAAKA,GAAgB,GACjDa,GAA4BvwD,EAC9B,CACF,CACJ,CACA,SAAS6wD,GAAaC,GACpBt/C,KAAKu/C,cAAgBD,CACvB,CAqBA,SAASE,GAAsBF,GAC7Bt/C,KAAKu/C,cAAgBD,CACvB,CAtBAE,GAAsBptD,UAAU1B,OAAS2uD,GAAajtD,UAAU1B,OAC9D,SAAU2R,GACR,IAAIzI,EAAOoG,KAAKu/C,cAChB,GAAI,OAAS3lD,EAAM,MAAMvI,MAAMnD,EAAuB,MAGtD0uD,GAFchjD,EAAKhE,QACVq4B,KAC0B5rB,EAAUzI,EAAM,KAAM,KAC3D,EACF4lD,GAAsBptD,UAAUqtD,QAAUJ,GAAajtD,UAAUqtD,QAC/D,WACE,IAAI7lD,EAAOoG,KAAKu/C,cAChB,GAAI,OAAS3lD,EAAM,CACjBoG,KAAKu/C,cAAgB,KACrB,IAAI7J,EAAY97C,EAAKuY,cACrB,IAAMvY,EAAKhG,KAAOm8C,KAClB6M,GAAoBhjD,EAAKhE,QAAS,EAAG,KAAMgE,EAAM,KAAM,MACvDoL,KACA0wC,EAAUp5C,IAAgC,IAC5C,CACF,EAIFkjD,GAAsBptD,UAAUstD,2BAA6B,SAAU17C,GACrE,GAAIA,EAAQ,CACV,IAAIrI,EAAiBD,KACrBsI,EAAS,CAAEg5C,UAAW,KAAMh5C,OAAQA,EAAQm6C,SAAUxiD,GACtD,IACE,IAAInN,EAAI,EACRA,EAAIsvD,GAA+BxvD,QACnC,IAAMqN,GACNA,EAAiBmiD,GAA+BtvD,GAAG2vD,SACnD3vD,KAEFsvD,GAA+Bpb,OAAOl0C,EAAG,EAAGwV,GAC5C,IAAMxV,GAAKyvD,GAA+Bj6C,EAC5C,CACF,EACA,IAAI27C,GAAmD3xD,EAAM4xD,QAC7D,GACE,WACAD,GAEA,MAAMtuD,MACJnD,EACE,IACAyxD,GACA,WAGN1qD,EAAwB4qD,YAAc,SAAUC,GAC9C,IAAInsD,EAAQmsD,EAAmBzuB,gBAC/B,QAAI,IAAW19B,EAAO,CACpB,GAAI,oBAAsBmsD,EAAmBpvD,OAC3C,MAAMW,MAAMnD,EAAuB,MAErC,MADA4xD,EAAqB3uD,OAAOkgB,KAAKyuC,GAAoBvjC,KAAK,KACpDlrB,MAAMnD,EAAuB,IAAK4xD,GAC1C,CAQA,OAPAA,EAp4cF,SAAuCnsD,GACrC,IAAIS,EAAYT,EAAMS,UACtB,IAAKA,EAAW,CAEd,GAAI,QADJA,EAAYF,EAAuBP,IACX,MAAMtC,MAAMnD,EAAuB,MAC3D,OAAOkG,IAAcT,EAAQ,KAAOA,CACtC,CACA,IAAK,IAAI6Q,EAAI7Q,EAAOoR,EAAI3Q,IAAe,CACrC,IAAI2rD,EAAUv7C,EAAExQ,OAChB,GAAI,OAAS+rD,EAAS,MACtB,IAAIC,EAAUD,EAAQ3rD,UACtB,GAAI,OAAS4rD,EAAS,CAEpB,GAAI,QADJj7C,EAAIg7C,EAAQ/rD,QACI,CACdwQ,EAAIO,EACJ,QACF,CACA,KACF,CACA,GAAIg7C,EAAQnrD,QAAUorD,EAAQprD,MAAO,CACnC,IAAKorD,EAAUD,EAAQnrD,MAAOorD,GAAW,CACvC,GAAIA,IAAYx7C,EAAG,OAAO9P,EAAgBqrD,GAAUpsD,EACpD,GAAIqsD,IAAYj7C,EAAG,OAAOrQ,EAAgBqrD,GAAU3rD,EACpD4rD,EAAUA,EAAQnrD,OACpB,CACA,MAAMxD,MAAMnD,EAAuB,KACrC,CACA,GAAIsW,EAAExQ,SAAW+Q,EAAE/Q,OAASwQ,EAAIu7C,EAAWh7C,EAAIi7C,MAC1C,CACH,IAAK,IAAIC,GAAe,EAAIC,EAAUH,EAAQnrD,MAAOsrD,GAAW,CAC9D,GAAIA,IAAY17C,EAAG,CACjBy7C,GAAe,EACfz7C,EAAIu7C,EACJh7C,EAAIi7C,EACJ,KACF,CACA,GAAIE,IAAYn7C,EAAG,CACjBk7C,GAAe,EACfl7C,EAAIg7C,EACJv7C,EAAIw7C,EACJ,KACF,CACAE,EAAUA,EAAQrrD,OACpB,CACA,IAAKorD,EAAc,CACjB,IAAKC,EAAUF,EAAQprD,MAAOsrD,GAAW,CACvC,GAAIA,IAAY17C,EAAG,CACjBy7C,GAAe,EACfz7C,EAAIw7C,EACJj7C,EAAIg7C,EACJ,KACF,CACA,GAAIG,IAAYn7C,EAAG,CACjBk7C,GAAe,EACfl7C,EAAIi7C,EACJx7C,EAAIu7C,EACJ,KACF,CACAG,EAAUA,EAAQrrD,OACpB,CACA,IAAKorD,EAAc,MAAM5uD,MAAMnD,EAAuB,KACxD,CACF,CACA,GAAIsW,EAAEpQ,YAAc2Q,EAAG,MAAM1T,MAAMnD,EAAuB,KAC5D,CACA,GAAI,IAAMsW,EAAE5Q,IAAK,MAAMvC,MAAMnD,EAAuB,MACpD,OAAOsW,EAAEpH,UAAUxH,UAAY4O,EAAI7Q,EAAQS,CAC7C,CAi0cuB+rD,CAA8BxsD,GAKnDmsD,EACE,QALFA,EACE,OAASA,EACLnrD,EAAyBmrD,GACzB,MAE0B,KAAOA,EAAmB1iD,SAE5D,EACA,IAAIgjD,GAA+B,CACjCC,WAAY,EACZT,QAAS,SACTU,oBAAqB,YACrBC,qBAAsBvvD,EACtBwvD,wBAAyB3jD,GACzB4jD,kBAAmB,UAErB,GAAI,qBAAuBC,+BAAgC,CACzD,IAAIC,GAA0BD,+BAC9B,IACGC,GAAwBC,YACzBD,GAAwBE,cAExB,IACGhoD,GAAa8nD,GAAwBG,OACpCV,IAECtnD,GAAe6nD,EACpB,CAAE,MAAOznD,IAAM,CACnB,CACA6nD,EAAQC,WAAa,SAAUtL,EAAW3zC,GACxC,IAAKtT,EAAiBinD,GAAY,MAAMrkD,MAAMnD,EAAuB,MACrE,IAAIsuD,GAAe,EACjB5rB,EAAmB,GACnBsC,EAAkBL,GAClBW,EAAgBV,GAChBwe,EAAqBve,GAgCvB,OA9BA,OAAShxB,QACP,IAAWA,KACV,IAAOA,EAAQk/C,sBAAwBzE,GAAe,QACvD,IAAWz6C,EAAQ6uB,mBAChBA,EAAmB7uB,EAAQ6uB,uBAC9B,IAAW7uB,EAAQmxB,kBAChBA,EAAkBnxB,EAAQmxB,sBAC7B,IAAWnxB,EAAQyxB,gBAAkBA,EAAgBzxB,EAAQyxB,oBAC7D,IAAWzxB,EAAQuvC,qBAChBA,EAAqBvvC,EAAQuvC,yBAChC,IAAWvvC,EAAQm/C,8BACMn/C,EAAQm/C,8BACnCn/C,EAAUs6C,GACR3G,EACA,GACA,EACA,KACA,EACA8G,EACA5rB,EACAsC,EACAM,EACA8d,EACAmL,EACA,MAEF/G,EAAUp5C,IAAgCyF,EAAQnM,QAClD0zC,GACE,IAAMoM,EAAU/mD,SAAW+mD,EAAUj/C,WAAai/C,GAE7C,IAAI2J,GAAat9C,EAC1B,EACAg/C,EAAQI,YAAc,SAAUzL,EAAW4G,EAAiBv6C,GAC1D,IAAKtT,EAAiBinD,GAAY,MAAMrkD,MAAMnD,EAAuB,MACrE,IAAIsuD,GAAe,EACjB5rB,EAAmB,GACnBsC,EAAkBL,GAClBW,EAAgBV,GAChBwe,EAAqBve,GAErB1H,EAAY,KAuCd,OAtCA,OAAStpB,QACP,IAAWA,KACV,IAAOA,EAAQk/C,sBAAwBzE,GAAe,QACvD,IAAWz6C,EAAQ6uB,mBAChBA,EAAmB7uB,EAAQ6uB,uBAC9B,IAAW7uB,EAAQmxB,kBAChBA,EAAkBnxB,EAAQmxB,sBAC7B,IAAWnxB,EAAQyxB,gBAAkBA,EAAgBzxB,EAAQyxB,oBAC7D,IAAWzxB,EAAQuvC,qBAChBA,EAAqBvvC,EAAQuvC,yBAChC,IAAWvvC,EAAQm/C,8BACMn/C,EAAQm/C,kCACjC,IAAWn/C,EAAQspB,YAAcA,EAAYtpB,EAAQspB,aACvDixB,EAAkBD,GAChB3G,EACA,GACA,EACA4G,EACA,EACAE,EACA5rB,EACAsC,EACAM,EACA8d,EACAmL,EACApxB,IAEcv0B,QAAU4lD,GAAqB,MAC/C36C,EAAUu6C,EAAgB1mD,SAE1Bg7B,EAAmB3B,GADnButB,EAAevuB,OAEEhB,SAAW,KAC5B+B,GAAcjtB,EAAS6uB,EAAkB4rB,GACzCF,EAAgB1mD,QAAQ6D,MAAQ+iD,EAChCzhD,GAAkBuhD,EAAiBE,GACnClR,GAAsBgR,GACtB5G,EAAUp5C,IAAgCggD,EAAgB1mD,QAC1D0zC,GAA2BoM,GACpB,IAAI8J,GAAsBlD,EACnC,EACAyE,EAAQnB,QAAU,uBCz0dhBwB,EAAOL,QAAU,EAAjBK,kBCQF,IAAIryD,EAAqBF,OAAOC,IAAI,8BAClCE,EAAoBH,OAAOC,IAAI,gBAC/BG,EAAsBJ,OAAOC,IAAI,kBACjCI,EAAyBL,OAAOC,IAAI,qBACpCK,EAAsBN,OAAOC,IAAI,kBACjCO,EAAsBR,OAAOC,IAAI,kBACjCQ,EAAqBT,OAAOC,IAAI,iBAChCS,EAAyBV,OAAOC,IAAI,qBACpCU,EAAsBX,OAAOC,IAAI,kBACjCY,EAAkBb,OAAOC,IAAI,cAC7Ba,EAAkBd,OAAOC,IAAI,cAC7BgB,EAAwBjB,OAAOkB,SAQjC,IAAIsxD,EAAuB,CACvBlwB,UAAW,WACT,OAAO,CACT,EACAK,mBAAoB,WAAa,EACjCD,oBAAqB,WAAa,EAClCD,gBAAiB,WAAa,GAEhCpgC,EAASC,OAAOD,OAChBowD,EAAc,CAAC,EACjB,SAASh9B,EAAU/f,EAAOzN,EAAS4+B,GACjC11B,KAAKuE,MAAQA,EACbvE,KAAKlJ,QAAUA,EACfkJ,KAAK21B,KAAO2rB,EACZthD,KAAK01B,QAAUA,GAAW2rB,CAC5B,CAgBA,SAASE,IAAkB,CAE3B,SAASC,EAAcj9C,EAAOzN,EAAS4+B,GACrC11B,KAAKuE,MAAQA,EACbvE,KAAKlJ,QAAUA,EACfkJ,KAAK21B,KAAO2rB,EACZthD,KAAK01B,QAAUA,GAAW2rB,CAC5B,CAtBA/8B,EAAUlyB,UAAU20C,iBAAmB,CAAC,EACxCziB,EAAUlyB,UAAU23B,SAAW,SAAU03B,EAAcx0B,GACrD,GACE,kBAAoBw0B,GACpB,oBAAsBA,GACtB,MAAQA,EAER,MAAMpwD,MACJ,0GAEJ2O,KAAK01B,QAAQpE,gBAAgBtxB,KAAMyhD,EAAcx0B,EAAU,WAC7D,EACA3I,EAAUlyB,UAAUsvD,YAAc,SAAUz0B,GAC1CjtB,KAAK01B,QAAQlE,mBAAmBxxB,KAAMitB,EAAU,cAClD,EAEAs0B,EAAenvD,UAAYkyB,EAAUlyB,UAOrC,IAAIuvD,EAA0BH,EAAcpvD,UAAY,IAAImvD,EAC5DI,EAAuB9hD,YAAc2hD,EACrCtwD,EAAOywD,EAAwBr9B,EAAUlyB,WACzCuvD,EAAuB7vB,sBAAuB,EAC9C,IAAIh9B,EAAcC,MAAMC,QACtBhE,EAAuB,CAAE0zB,EAAG,KAAMgoB,EAAG,KAAMtiB,EAAG,KAAM3H,EAAG,MACvDtrB,EAAiBhG,OAAOiB,UAAU+E,eACpC,SAASyqD,EAAaxxD,EAAMub,EAAKk2C,EAAM/pC,EAAQmvB,EAAO1iC,GAEpD,OADAs9C,EAAOt9C,EAAM4X,IACN,CACL9rB,SAAUtB,EACVqB,KAAMA,EACNub,IAAKA,EACLwQ,SAAK,IAAW0lC,EAAOA,EAAO,KAC9Bt9C,MAAOA,EAEX,CAWA,SAASu9C,EAAeC,GACtB,MACE,kBAAoBA,GACpB,OAASA,GACTA,EAAO1xD,WAAatB,CAExB,CAUA,IAAIizD,EAA6B,OACjC,SAASC,EAAc7gD,EAAS3L,GAC9B,MAAO,kBAAoB2L,GAAW,OAASA,GAAW,MAAQA,EAAQuK,IAX5E,SAAgBA,GACd,IAAIu2C,EAAgB,CAAE,IAAK,KAAM,IAAK,MACtC,MACE,IACAv2C,EAAIlY,QAAQ,SAAS,SAAUnC,GAC7B,OAAO4wD,EAAc5wD,EACvB,GAEJ,CAIM6wD,CAAO,GAAK/gD,EAAQuK,KACpBlW,EAAMyG,SAAS,GACrB,CACA,SAASke,IAAU,CAiCnB,SAASgoC,EAAa//C,EAAU0kB,EAAOs7B,EAAeC,EAAWr1B,GAC/D,IAAI78B,SAAciS,EACd,cAAgBjS,GAAQ,YAAcA,IAAMiS,EAAW,MAC3D,IApE0BkgD,EAAYC,EAoElCC,GAAiB,EACrB,GAAI,OAASpgD,EAAUogD,GAAiB,OAEtC,OAAQryD,GACN,IAAK,SACL,IAAK,SACL,IAAK,SACHqyD,GAAiB,EACjB,MACF,IAAK,SACH,OAAQpgD,EAAShS,UACf,KAAKtB,EACL,KAAKC,EACHyzD,GAAiB,EACjB,MACF,KAAK9yD,EACH,OAEEyyD,GADCK,EAAiBpgD,EAASzR,OAEVyR,EAAS1R,UACxBo2B,EACAs7B,EACAC,EACAr1B,IAKd,GAAIw1B,EACF,OACGx1B,EAAWA,EAAS5qB,GACpBogD,EACC,KAAOH,EAAY,IAAML,EAAc5/C,EAAU,GAAKigD,EACxDxtD,EAAYm4B,IACNo1B,EAAgB,GAClB,MAAQI,IACLJ,EACCI,EAAehvD,QAAQuuD,EAA4B,OAAS,KAChEI,EAAan1B,EAAUlG,EAAOs7B,EAAe,IAAI,SAAU7qB,GACzD,OAAOA,CACT,KACA,MAAQvK,IACP60B,EAAe70B,KA9GEs1B,EAgHdt1B,EAhH0Bu1B,EAiH1BH,GACG,MAAQp1B,EAASthB,KACjBtJ,GAAYA,EAASsJ,MAAQshB,EAASthB,IACnC,IACC,GAAKshB,EAASthB,KAAKlY,QAClBuuD,EACA,OACE,KACRS,EAVHx1B,EA9GJ20B,EACLW,EAAWnyD,KACXoyD,OACA,EACA,EACA,EACAD,EAAWh+C,QAoHLwiB,EAAMhxB,KAAKk3B,IACf,EAEJw1B,EAAiB,EACjB,IA9LqBxyD,EA8LjByyD,EAAiB,KAAOJ,EAAY,IAAMA,EAAY,IAC1D,GAAIxtD,EAAYuN,GACd,IAAK,IAAI7T,EAAI,EAAGA,EAAI6T,EAAS/T,OAAQE,IAGhCi0D,GAAkBL,EAFpBE,EAAYjgD,EAAS7T,GAIlBu4B,EACAs7B,EAJDjyD,EAAOsyD,EAAiBT,EAAcK,EAAW9zD,GAMhDy+B,QAEH,GAAoC,oBAA9Bz+B,EAzMP,QADiByB,EA0MQoS,IAzMC,kBAAoBpS,EAAsB,KAIjE,oBAHPA,EACGH,GAAyBG,EAAcH,IACxCG,EAAc,eAC6BA,EAAgB,MAsM3D,IACEoS,EAAW7T,EAAEgE,KAAK6P,GAAW7T,EAAI,IAC/B8zD,EAAYjgD,EAASuU,QAAQ4I,MAK5BijC,GAAkBL,EAFpBE,EAAYA,EAAUtvD,MAInB+zB,EACAs7B,EAJDjyD,EAAOsyD,EAAiBT,EAAcK,EAAW9zD,KAMhDy+B,QAEH,GAAI,WAAa78B,EAAM,CAC1B,GAAI,oBAAsBiS,EAAS2Y,KACjC,OAAOonC,EA3Hb,SAAyBlnC,GACvB,OAAQA,EAASC,QACf,IAAK,YACH,OAAOD,EAASloB,MAClB,IAAK,WACH,MAAMkoB,EAASK,OACjB,QACE,OACG,kBAAoBL,EAASC,OAC1BD,EAASF,KAAKZ,EAAQA,IACpBc,EAASC,OAAS,UACpBD,EAASF,MACP,SAAUU,GACR,YAAcR,EAASC,SACnBD,EAASC,OAAS,YACnBD,EAASloB,MAAQ0oB,EACtB,IACA,SAAUd,GACR,YAAcM,EAASC,SACnBD,EAASC,OAAS,WAAcD,EAASK,OAASX,EACxD,KAENM,EAASC,QAET,IAAK,YACH,OAAOD,EAASloB,MAClB,IAAK,WACH,MAAMkoB,EAASK,QAGvB,MAAML,CACR,CA6FQynC,CAAgBtgD,GAChB0kB,EACAs7B,EACAC,EACAr1B,GAGJ,MADAlG,EAAQnb,OAAOvJ,GACThR,MACJ,mDACG,oBAAsB01B,EACnB,qBAAuB51B,OAAOkgB,KAAKhP,GAAUka,KAAK,MAAQ,IAC1DwK,GACJ,4EAEN,CACA,OAAO07B,CACT,CACA,SAASG,EAAYvgD,EAAUwgD,EAAM/rD,GACnC,GAAI,MAAQuL,EAAU,OAAOA,EAC7B,IAAIyrB,EAAS,GACX8S,EAAQ,EAIV,OAHAwhB,EAAa//C,EAAUyrB,EAAQ,GAAI,IAAI,SAAUl5B,GAC/C,OAAOiuD,EAAKrwD,KAAKsE,EAASlC,EAAOgsC,IACnC,IACO9S,CACT,CACA,SAASg1B,EAAgB94B,GACvB,IAAK,IAAMA,EAAQ+4B,QAAS,CAC1B,IAAIhyB,EAAO/G,EAAQg5B,SACnBjyB,EAAOA,KACF/V,MACH,SAAUioC,GACJ,IAAMj5B,EAAQ+4B,UAAY,IAAM/4B,EAAQ+4B,UACzC/4B,EAAQ+4B,QAAU,EAAK/4B,EAAQg5B,QAAUC,EAC9C,IACA,SAAUroC,GACJ,IAAMoP,EAAQ+4B,UAAY,IAAM/4B,EAAQ+4B,UACzC/4B,EAAQ+4B,QAAU,EAAK/4B,EAAQg5B,QAAUpoC,EAC9C,KAED,IAAMoP,EAAQ+4B,UAAa/4B,EAAQ+4B,QAAU,EAAK/4B,EAAQg5B,QAAUjyB,EACvE,CACA,GAAI,IAAM/G,EAAQ+4B,QAAS,OAAO/4B,EAAQg5B,QAAQE,QAClD,MAAMl5B,EAAQg5B,OAChB,CACA,IAAI1wB,EACF,oBAAsBC,YAClBA,YACA,SAAU3X,GACR,GACE,kBAAoB/e,QACpB,oBAAsBA,OAAO22B,WAC7B,CACA,IAAI12B,EAAQ,IAAID,OAAO22B,WAAW,QAAS,CACzC5qB,SAAS,EACTC,YAAY,EACZ5T,QACE,kBAAoB2mB,GACpB,OAASA,GACT,kBAAoBA,EAAM3mB,QACtB2X,OAAOgP,EAAM3mB,SACb2X,OAAOgP,GACbA,MAAOA,IAET,IAAK/e,OAAO42B,cAAc32B,GAAQ,MACpC,MAAO,GACL,kBAAoB42B,SACpB,oBAAsBA,QAAQC,KAG9B,YADAD,QAAQC,KAAK,oBAAqB/X,GAGpCgY,QAAQhY,MAAMA,EAChB,EACN,SAASozB,IAAQ,CACjB+S,EAAQoC,SAAW,CACjBr8B,IAAK87B,EACLvjC,QAAS,SAAUhd,EAAU+gD,EAAaC,GACxCT,EACEvgD,GACA,WACE+gD,EAAY/V,MAAMrtC,KAAM3R,UAC1B,GACAg1D,EAEJ,EACAziB,MAAO,SAAUv+B,GACf,IAAIihD,EAAI,EAIR,OAHAV,EAAYvgD,GAAU,WACpBihD,GACF,IACOA,CACT,EACAC,QAAS,SAAUlhD,GACjB,OACEugD,EAAYvgD,GAAU,SAAUzN,GAC9B,OAAOA,CACT,KAAM,EAEV,EACA4uD,KAAM,SAAUnhD,GACd,IAAKy/C,EAAez/C,GAClB,MAAMhR,MACJ,yEAEJ,OAAOgR,CACT,GAEF0+C,EAAQz8B,UAAYA,EACpBy8B,EAAQ0C,SAAWx0D,EACnB8xD,EAAQ2C,SAAWv0D,EACnB4xD,EAAQS,cAAgBA,EACxBT,EAAQ4C,WAAaz0D,EACrB6xD,EAAQ6C,SAAWp0D,EACnBuxD,EAAQ9vD,gEACND,EACF+vD,EAAQ8C,IAAM,WACZ,MAAMxyD,MAAM,2DACd,EACA0vD,EAAQ7+B,MAAQ,SAAUtwB,GACxB,OAAO,WACL,OAAOA,EAAGy7C,MAAM,KAAMh/C,UACxB,CACF,EACA0yD,EAAQ+C,aAAe,SAAU1iD,EAAS2iD,EAAQ1hD,GAChD,GAAI,OAASjB,QAAW,IAAWA,EACjC,MAAM/P,MACJ,wDAA0D+P,EAAU,KAExE,IAAImD,EAAQrT,EAAO,CAAC,EAAGkQ,EAAQmD,OAC7BoH,EAAMvK,EAAQuK,IAEhB,GAAI,MAAQo4C,EACV,IAAKr9C,UAAa,IAAWq9C,EAAO5nC,UAAgB,OACpD,IAAW4nC,EAAOp4C,MAAQA,EAAM,GAAKo4C,EAAOp4C,KAC5Co4C,GACG5sD,EAAe3E,KAAKuxD,EAAQr9C,IAC3B,QAAUA,GACV,WAAaA,GACb,aAAeA,GACd,QAAUA,QAAY,IAAWq9C,EAAO5nC,MACxC5X,EAAMmC,GAAYq9C,EAAOr9C,IAChC,IAAIA,EAAWrY,UAAUC,OAAS,EAClC,GAAI,IAAMoY,EAAUnC,EAAMlC,SAAWA,OAChC,GAAI,EAAIqE,EAAU,CACrB,IAAK,IAAIs9C,EAAajvD,MAAM2R,GAAWlY,EAAI,EAAGA,EAAIkY,EAAUlY,IAC1Dw1D,EAAWx1D,GAAKH,UAAUG,EAAI,GAChC+V,EAAMlC,SAAW2hD,CACnB,CACA,OAAOpC,EAAaxgD,EAAQhR,KAAMub,OAAK,EAAQ,EAAQs7B,EAAO1iC,EAChE,EACAw8C,EAAQkD,cAAgB,SAAUtuD,GAchC,OAbAA,EAAe,CACbtF,SAAUf,EACV4H,cAAevB,EACfisB,eAAgBjsB,EAChBksB,aAAc,EACdF,SAAU,KACVD,SAAU,OAECC,SAAWhsB,EACxBA,EAAa+rB,SAAW,CACtBrxB,SAAUhB,EACVmB,SAAUmF,GAELA,CACT,EACAorD,EAAQ1iD,cAAgB,SAAUjO,EAAM2zD,EAAQ1hD,GAC9C,IAAIqE,EACFnC,EAAQ,CAAC,EACToH,EAAM,KACR,GAAI,MAAQo4C,EACV,IAAKr9C,UAAa,IAAWq9C,EAAOp4C,MAAQA,EAAM,GAAKo4C,EAAOp4C,KAAMo4C,EAClE5sD,EAAe3E,KAAKuxD,EAAQr9C,IAC1B,QAAUA,GACV,WAAaA,GACb,aAAeA,IACdnC,EAAMmC,GAAYq9C,EAAOr9C,IAChC,IAAIw9C,EAAiB71D,UAAUC,OAAS,EACxC,GAAI,IAAM41D,EAAgB3/C,EAAMlC,SAAWA,OACtC,GAAI,EAAI6hD,EAAgB,CAC3B,IAAK,IAAIF,EAAajvD,MAAMmvD,GAAiB11D,EAAI,EAAGA,EAAI01D,EAAgB11D,IACtEw1D,EAAWx1D,GAAKH,UAAUG,EAAI,GAChC+V,EAAMlC,SAAW2hD,CACnB,CACA,GAAI5zD,GAAQA,EAAKgiC,aACf,IAAK1rB,KAAcw9C,EAAiB9zD,EAAKgiC,kBACvC,IAAW7tB,EAAMmC,KACdnC,EAAMmC,GAAYw9C,EAAex9C,IACxC,OAAOk7C,EAAaxxD,EAAMub,OAAK,EAAQ,EAAQ,EAAMpH,EACvD,EACAw8C,EAAQoD,UAAY,WAClB,MAAO,CAAEvuD,QAAS,KACpB,EACAmrD,EAAQqD,WAAa,SAAU1zD,GAC7B,MAAO,CAAEL,SAAUd,EAAwBmB,OAAQA,EACrD,EACAqwD,EAAQe,eAAiBA,EACzBf,EAAQsD,KAAO,SAAUtzB,GACvB,MAAO,CACL1gC,SAAUV,EACVgB,SAAU,CAAEoyD,SAAU,EAAGC,QAASjyB,GAClCngC,MAAOkyD,EAEX,EACA/B,EAAQuD,KAAO,SAAUl0D,EAAMskC,GAC7B,MAAO,CACLrkC,SAAUX,EACVU,KAAMA,EACNskC,aAAS,IAAWA,EAAU,KAAOA,EAEzC,EACAqsB,EAAQtzB,gBAAkB,SAAU82B,GAClC,IAAIh6B,EAAiBv5B,EAAqBo5B,EACxCI,EAAoB,CAAC,EACvBx5B,EAAqBo5B,EAAII,EACzB,IACE,IAAIxjB,EAAcu9C,IAChB95B,EAA0Bz5B,EAAqByxB,EACjD,OAASgI,GACPA,EAAwBD,EAAmBxjB,GAC7C,kBAAoBA,GAClB,OAASA,GACT,oBAAsBA,EAAYgU,MAClChU,EAAYgU,KAAKgzB,EAAM1b,EAC3B,CAAE,MAAO1X,GACP0X,EAAkB1X,EACpB,CAAE,QACA5pB,EAAqBo5B,EAAIG,CAC3B,CACF,EACAw2B,EAAQyD,yBAA2B,WACjC,OAAOxzD,EAAqB0zB,EAAE6L,iBAChC,EACAwwB,EAAQt6B,IAAM,SAAUC,GACtB,OAAO11B,EAAqB0zB,EAAE+B,IAAIC,EACpC,EACAq6B,EAAQtwB,eAAiB,SAAUl7B,EAAQi0B,EAAci7B,GACvD,OAAOzzD,EAAqB0zB,EAAE+L,eAAel7B,EAAQi0B,EAAci7B,EACrE,EACA1D,EAAQtxB,YAAc,SAAUxC,EAAUf,GACxC,OAAOl7B,EAAqB0zB,EAAE+K,YAAYxC,EAAUf,EACtD,EACA60B,EAAQrxB,WAAa,SAAUg1B,GAC7B,OAAO1zD,EAAqB0zB,EAAEgL,WAAWg1B,EAC3C,EACA3D,EAAQ7wB,cAAgB,WAAa,EACrC6wB,EAAQ5wB,iBAAmB,SAAUn9B,EAAOq6B,GAC1C,OAAOr8B,EAAqB0zB,EAAEyL,iBAAiBn9B,EAAOq6B,EACxD,EACA0zB,EAAQpxB,UAAY,SAAU1D,EAAQC,GACpC,OAAOl7B,EAAqB0zB,EAAEiL,UAAU1D,EAAQC,EAClD,EACA60B,EAAQzwB,MAAQ,WACd,OAAOt/B,EAAqB0zB,EAAE4L,OAChC,EACAywB,EAAQnxB,oBAAsB,SAAUzT,EAAK8P,EAAQC,GACnD,OAAOl7B,EAAqB0zB,EAAEkL,oBAAoBzT,EAAK8P,EAAQC,EACjE,EACA60B,EAAQjxB,mBAAqB,SAAU7D,EAAQC,GAC7C,OAAOl7B,EAAqB0zB,EAAEoL,mBAAmB7D,EAAQC,EAC3D,EACA60B,EAAQlxB,gBAAkB,SAAU5D,EAAQC,GAC1C,OAAOl7B,EAAqB0zB,EAAEmL,gBAAgB5D,EAAQC,EACxD,EACA60B,EAAQhxB,QAAU,SAAU9D,EAAQC,GAClC,OAAOl7B,EAAqB0zB,EAAEqL,QAAQ9D,EAAQC,EAChD,EACA60B,EAAQrwB,cAAgB,SAAU/G,EAAazC,GAC7C,OAAOl2B,EAAqB0zB,EAAEgM,cAAc/G,EAAazC,EAC3D,EACA65B,EAAQ/wB,WAAa,SAAU9I,EAASyJ,EAAYjU,GAClD,OAAO1rB,EAAqB0zB,EAAEsL,WAAW9I,EAASyJ,EAAYjU,EAChE,EACAqkC,EAAQ9wB,OAAS,SAAU5C,GACzB,OAAOr8B,EAAqB0zB,EAAEuL,OAAO5C,EACvC,EACA0zB,EAAQn7B,SAAW,SAAU4D,GAC3B,OAAOx4B,EAAqB0zB,EAAEkB,SAAS4D,EACzC,EACAu3B,EAAQ1wB,qBAAuB,SAC7BjI,EACAC,EACAC,GAEA,OAAOt3B,EAAqB0zB,EAAE2L,qBAC5BjI,EACAC,EACAC,EAEJ,EACAy4B,EAAQ3wB,cAAgB,WACtB,OAAOp/B,EAAqB0zB,EAAE0L,eAChC,EACA2wB,EAAQnB,QAAU,sBC3gBlB,MAAM+E,EAAmB,wCAcnBC,EAAoB,kCAyBpBC,EACJ,sFASIC,EAAkB,kCAElBC,EAAa5zD,OAAOiB,UAAU8J,SAE9B8oD,EAA6B,MACjC,MAAMnL,EAAI,WAAa,EAEvB,OADAA,EAAEznD,UAAYjB,OAAO86B,OAAO,MACrB4tB,CACR,EAJkC,GA0EnC,SAASoL,EAAWC,EAAazvD,EAAe0vD,GAC9C,EAAG,CACD,MAAMh3D,EAAO+2D,EAAIhkD,WAAWzL,GAC5B,GAAa,KAATtH,GAAkC,IAATA,EAAwB,OAAOsH,CAC9D,SAAWA,EAAQ0vD,GACnB,OAAOA,CACT,CAEA,SAAS1uC,EAASyuC,EAAazvD,EAAeyd,GAC5C,KAAOzd,EAAQyd,GAAK,CAClB,MAAM/kB,EAAO+2D,EAAIhkD,aAAazL,GAC9B,GAAa,KAATtH,GAAkC,IAATA,EAAwB,OAAOsH,EAAQ,CACtE,CACA,OAAOyd,CACT,CA8MA,SAASkyC,EAAOF,GACd,IAA0B,IAAtBA,EAAIzzD,QAAQ,KAAa,OAAOyzD,EAEpC,IACE,OAAOG,mBAAmBH,EAC5B,CAAE,MAAOpkD,GACP,OAAOokD,CACT,CACF,kBC/WA,SAASI,IAEP,GAC4C,qBAAnC5E,gCAC4C,oBAA5CA,+BAA+B4E,SAcxC,IAEE5E,+BAA+B4E,SAASA,EAC1C,CAAE,MAAOpsD,GAGP05B,QAAQhY,MAAM1hB,EAChB,CACF,CAKEosD,GACAlE,EAAOL,QAAU,EAAjBK,kBC/BAA,EAAOL,QAAU,EAAjBK,oBCQF,IAAIpzD,EAAQD,EAAQ,IACpB,SAASG,EAAuBC,GAC9B,IAAIC,EAAM,4BAA8BD,EACxC,GAAI,EAAIE,UAAUC,OAAQ,CACxBF,GAAO,WAAaG,mBAAmBF,UAAU,IACjD,IAAK,IAAIG,EAAI,EAAGA,EAAIH,UAAUC,OAAQE,IACpCJ,GAAO,WAAaG,mBAAmBF,UAAUG,GACrD,CACA,MACE,yBACAL,EACA,WACAC,EACA,gHAEJ,CACA,SAAS4/C,IAAQ,CACjB,IAAIuX,EAAY,CACZlM,EAAG,CACDC,EAAGtL,EACHyL,EAAG,WACD,MAAMpoD,MAAMnD,EAAuB,KACrC,EACAyrD,EAAG3L,EACH6L,EAAG7L,EACH8L,EAAG9L,EACHsM,EAAGtM,EACHuM,EAAGvM,EACHvrB,EAAGurB,EACH4M,EAAG5M,GAELpyC,EAAG,EACHikD,YAAa,MAEf7wD,EAAoBH,OAAOC,IAAI,gBAYjC,IAAIkC,EACFhD,EAAMiD,gEACR,SAASu0D,EAAuBzL,EAAI0L,GAClC,MAAI,SAAW1L,EAAW,GACtB,kBAAoB0L,EACf,oBAAsBA,EAAQA,EAAQ,QAD/C,CAEF,CACA1E,EAAQ7rD,6DACNqwD,EACFxE,EAAQ2E,aAAe,SAAUrjD,EAAUqzC,GACzC,IAAI/pC,EACF,EAAItd,UAAUC,aAAU,IAAWD,UAAU,GAAKA,UAAU,GAAK,KACnE,IACGqnD,GACA,IAAMA,EAAU/mD,UACf,IAAM+mD,EAAU/mD,UAChB,KAAO+mD,EAAU/mD,SAEnB,MAAM0C,MAAMnD,EAAuB,MACrC,OA9BF,SAAwBmU,EAAU8P,EAAekM,GAC/C,IAAI1S,EACF,EAAItd,UAAUC,aAAU,IAAWD,UAAU,GAAKA,UAAU,GAAK,KACnE,MAAO,CACLgC,SAAUrB,EACV2c,IAAK,MAAQA,EAAM,KAAO,GAAKA,EAC/BtJ,SAAUA,EACV8P,cAAeA,EACfkM,eAAgBA,EAEpB,CAoBSsnC,CAAetjD,EAAUqzC,EAAW,KAAM/pC,EACnD,EACAo1C,EAAQ6E,UAAY,SAAUh0D,GAC5B,IAAIi0D,EAAqB70D,EAAqBo5B,EAC5C07B,EAAyBP,EAAU3pD,EACrC,IACE,GAAM5K,EAAqBo5B,EAAI,KAAQm7B,EAAU3pD,EAAI,EAAIhK,EAAK,OAAOA,GACvE,CAAE,QACCZ,EAAqBo5B,EAAIy7B,EACvBN,EAAU3pD,EAAIkqD,EACfP,EAAUlM,EAAEC,GAChB,CACF,EACAyH,EAAQgF,WAAa,SAAUxzC,EAAMxQ,GACnC,kBAAoBwQ,IACjBxQ,EAEIA,EACC,kBAFAA,EAAUA,EAAQq4B,aAGd,oBAAsBr4B,EACpBA,EACA,QACF,EACLA,EAAU,KACfwjD,EAAUlM,EAAEQ,EAAEtnC,EAAMxQ,GACxB,EACAg/C,EAAQiF,YAAc,SAAUzzC,GAC9B,kBAAoBA,GAAQgzC,EAAUlM,EAAEM,EAAEpnC,EAC5C,EACAwuC,EAAQkF,QAAU,SAAU1zC,EAAMxQ,GAChC,GAAI,kBAAoBwQ,GAAQxQ,GAAW,kBAAoBA,EAAQg4C,GAAI,CACzE,IAAIA,EAAKh4C,EAAQg4C,GACf3f,EAAcorB,EAAuBzL,EAAIh4C,EAAQq4B,aACjD8gB,EACE,kBAAoBn5C,EAAQm5C,UAAYn5C,EAAQm5C,eAAY,EAC9DgL,EACE,kBAAoBnkD,EAAQmkD,cACxBnkD,EAAQmkD,mBACR,EACR,UAAYnM,EACRwL,EAAUlM,EAAE52B,EACVlQ,EACA,kBAAoBxQ,EAAQslC,WAAatlC,EAAQslC,gBAAa,EAC9D,CACEjN,YAAaA,EACb8gB,UAAWA,EACXgL,cAAeA,IAGnB,WAAanM,GACbwL,EAAUlM,EAAEkB,EAAEhoC,EAAM,CAClB6nB,YAAaA,EACb8gB,UAAWA,EACXgL,cAAeA,EACfC,MAAO,kBAAoBpkD,EAAQokD,MAAQpkD,EAAQokD,WAAQ,GAEnE,CACF,EACApF,EAAQqF,cAAgB,SAAU7zC,EAAMxQ,GACtC,GAAI,kBAAoBwQ,EACtB,GAAI,kBAAoBxQ,GAAW,OAASA,GAC1C,GAAI,MAAQA,EAAQg4C,IAAM,WAAah4C,EAAQg4C,GAAI,CACjD,IAAI3f,EAAcorB,EAChBzjD,EAAQg4C,GACRh4C,EAAQq4B,aAEVmrB,EAAUlM,EAAEuB,EAAEroC,EAAM,CAClB6nB,YAAaA,EACb8gB,UACE,kBAAoBn5C,EAAQm5C,UAAYn5C,EAAQm5C,eAAY,EAC9DiL,MAAO,kBAAoBpkD,EAAQokD,MAAQpkD,EAAQokD,WAAQ,GAE/D,OACK,MAAQpkD,GAAWwjD,EAAUlM,EAAEuB,EAAEroC,EAC5C,EACAwuC,EAAQ3a,QAAU,SAAU7zB,EAAMxQ,GAChC,GACE,kBAAoBwQ,GACpB,kBAAoBxQ,GACpB,OAASA,GACT,kBAAoBA,EAAQg4C,GAC5B,CACA,IAAIA,EAAKh4C,EAAQg4C,GACf3f,EAAcorB,EAAuBzL,EAAIh4C,EAAQq4B,aACnDmrB,EAAUlM,EAAES,EAAEvnC,EAAMwnC,EAAI,CACtB3f,YAAaA,EACb8gB,UACE,kBAAoBn5C,EAAQm5C,UAAYn5C,EAAQm5C,eAAY,EAC9DiL,MAAO,kBAAoBpkD,EAAQokD,MAAQpkD,EAAQokD,WAAQ,EAC3D/1D,KAAM,kBAAoB2R,EAAQ3R,KAAO2R,EAAQ3R,UAAO,EACxD81D,cACE,kBAAoBnkD,EAAQmkD,cACxBnkD,EAAQmkD,mBACR,EACN9K,eACE,kBAAoBr5C,EAAQq5C,eACxBr5C,EAAQq5C,oBACR,EACNlB,YACE,kBAAoBn4C,EAAQm4C,YAAcn4C,EAAQm4C,iBAAc,EAClEC,WACE,kBAAoBp4C,EAAQo4C,WAAap4C,EAAQo4C,gBAAa,EAChEhV,MAAO,kBAAoBpjC,EAAQojC,MAAQpjC,EAAQojC,WAAQ,GAE/D,CACF,EACA4b,EAAQsF,cAAgB,SAAU9zC,EAAMxQ,GACtC,GAAI,kBAAoBwQ,EACtB,GAAIxQ,EAAS,CACX,IAAIq4B,EAAcorB,EAAuBzjD,EAAQg4C,GAAIh4C,EAAQq4B,aAC7DmrB,EAAUlM,EAAEiB,EAAE/nC,EAAM,CAClBwnC,GACE,kBAAoBh4C,EAAQg4C,IAAM,WAAah4C,EAAQg4C,GACnDh4C,EAAQg4C,QACR,EACN3f,YAAaA,EACb8gB,UACE,kBAAoBn5C,EAAQm5C,UAAYn5C,EAAQm5C,eAAY,GAElE,MAAOqK,EAAUlM,EAAEiB,EAAE/nC,EACzB,EACAwuC,EAAQuF,iBAAmB,SAAU3hD,GACnC4gD,EAAUlM,EAAEI,EAAE90C,EAChB,EACAo8C,EAAQwF,wBAA0B,SAAU30D,EAAI4S,GAC9C,OAAO5S,EAAG4S,EACZ,EACAu8C,EAAQvwB,aAAe,SAAUj7B,EAAQi0B,EAAci7B,GACrD,OAAOzzD,EAAqB0zB,EAAE8L,aAAaj7B,EAAQi0B,EAAci7B,EACnE,EACA1D,EAAQyF,cAAgB,WACtB,OAAOx1D,EAAqB0zB,EAAEgK,yBAChC,EACAqyB,EAAQnB,QAAU,sBCtMlB,IAAI7wD,EAAqBF,OAAOC,IAAI,8BAClCG,EAAsBJ,OAAOC,IAAI,kBACnC,SAAS23D,EAAQr2D,EAAM2zD,EAAQ2C,GAC7B,IAAI/6C,EAAM,KAGV,QAFA,IAAW+6C,IAAa/6C,EAAM,GAAK+6C,QACnC,IAAW3C,EAAOp4C,MAAQA,EAAM,GAAKo4C,EAAOp4C,KACxC,QAASo4C,EAEX,IAAK,IAAIr9C,KADTggD,EAAW,CAAC,EACS3C,EACnB,QAAUr9C,IAAaggD,EAAShgD,GAAYq9C,EAAOr9C,SAChDggD,EAAW3C,EAElB,OADAA,EAAS2C,EAASvqC,IACX,CACL9rB,SAAUtB,EACVqB,KAAMA,EACNub,IAAKA,EACLwQ,SAAK,IAAW4nC,EAASA,EAAS,KAClCx/C,MAAOmiD,EAEX,CACA3F,EAAQ0C,SAAWx0D,EACnB8xD,EAAQ4F,IAAMF,EACd1F,EAAQ6F,KAAOH,iBC9BbrF,EAAOL,QAAU,EAAjBK,kBCQF,SAASrrD,EAAK8wD,EAAMn4D,GAClB,IAAI+G,EAAQoxD,EAAKv4D,OACjBu4D,EAAK9wD,KAAKrH,GACV8V,EAAG,KAAO,EAAI/O,GAAS,CACrB,IAAIqxD,EAAerxD,EAAQ,IAAO,EAChC2hB,EAASyvC,EAAKC,GAChB,KAAI,EAAIpyB,EAAQtd,EAAQ1oB,IAEnB,MAAM8V,EADRqiD,EAAKC,GAAep4D,EAAQm4D,EAAKpxD,GAAS2hB,EAAU3hB,EAAQqxD,CAEjE,CACF,CACA,SAASC,EAAKF,GACZ,OAAO,IAAMA,EAAKv4D,OAAS,KAAOu4D,EAAK,EACzC,CACA,SAAShxD,EAAIgxD,GACX,GAAI,IAAMA,EAAKv4D,OAAQ,OAAO,KAC9B,IAAI04D,EAAQH,EAAK,GACf77B,EAAO67B,EAAKhxD,MACd,GAAIm1B,IAASg8B,EAAO,CAClBH,EAAK,GAAK77B,EACVxmB,EAAG,IACD,IAAI/O,EAAQ,EAAGnH,EAASu4D,EAAKv4D,OAAQ24D,EAAa34D,IAAW,EAC7DmH,EAAQwxD,GAER,CACA,IAAIC,EAAY,GAAKzxD,EAAQ,GAAK,EAChCue,EAAO6yC,EAAKK,GACZC,EAAaD,EAAY,EACzBE,EAAQP,EAAKM,GACf,GAAI,EAAIzyB,EAAQ1gB,EAAMgX,GACpBm8B,EAAa74D,GAAU,EAAIomC,EAAQ0yB,EAAOpzC,IACpC6yC,EAAKpxD,GAAS2xD,EACfP,EAAKM,GAAcn8B,EACnBv1B,EAAQ0xD,IACPN,EAAKpxD,GAASue,EACf6yC,EAAKK,GAAal8B,EAClBv1B,EAAQyxD,OACV,MAAIC,EAAa74D,GAAU,EAAIomC,EAAQ0yB,EAAOp8B,IAE9C,MAAMxmB,EADRqiD,EAAKpxD,GAAS2xD,EAASP,EAAKM,GAAcn8B,EAAQv1B,EAAQ0xD,CACjD,CACd,CACF,CACA,OAAOH,CACT,CACA,SAAStyB,EAAQlwB,EAAGO,GAClB,IAAIsiD,EAAO7iD,EAAE8iD,UAAYviD,EAAEuiD,UAC3B,OAAO,IAAMD,EAAOA,EAAO7iD,EAAEizB,GAAK1yB,EAAE0yB,EACtC,CAEA,GADAspB,EAAQlpD,kBAAe,EACnB,kBAAoB0vD,aAAe,oBAAsBA,YAAY3vD,IAAK,CAC5E,IAAI4vD,EAAmBD,YACvBxG,EAAQlpD,aAAe,WACrB,OAAO2vD,EAAiB5vD,KAC1B,CACF,KAAO,CACL,IAAI6vD,EAAY1/C,KACd2/C,EAAcD,EAAU7vD,MAC1BmpD,EAAQlpD,aAAe,WACrB,OAAO4vD,EAAU7vD,MAAQ8vD,CAC3B,CACF,CACA,IAAIC,EAAY,GACdC,EAAa,GACbC,EAAgB,EAChBC,EAAc,KACdC,EAAuB,EACvBC,GAAmB,EACnBC,GAA0B,EAC1BC,GAAyB,EACzBC,EAAkB,oBAAsB90B,WAAaA,WAAa,KAClE+0B,EAAoB,oBAAsBha,aAAeA,aAAe,KACxEia,EAAoB,qBAAuBC,aAAeA,aAAe,KAC3E,SAASC,EAAc9tD,GACrB,IAAK,IAAI+tD,EAAQzB,EAAKa,GAAa,OAASY,GAAS,CACnD,GAAI,OAASA,EAAMv7B,SAAUp3B,EAAI+xD,OAC5B,MAAIY,EAAMC,WAAahuD,GAIvB,MAHH5E,EAAI+xD,GACDY,EAAMlB,UAAYkB,EAAMnV,eACzBt9C,EAAK4xD,EAAWa,EACV,CACVA,EAAQzB,EAAKa,EACf,CACF,CACA,SAASc,EAAcjuD,GAGrB,GAFAytD,GAAyB,EACzBK,EAAc9tD,IACTwtD,EACH,GAAI,OAASlB,EAAKY,GACfM,GAA0B,EAAKU,QAC7B,CACH,IAAIC,EAAa7B,EAAKa,GACtB,OAASgB,GACPC,EAAmBH,EAAeE,EAAWH,UAAYhuD,EAC7D,CACJ,CACA,IA6EIquD,EA7EAC,GAAuB,EACzBC,GAAiB,EACjBC,EAAgB,EAChBR,GAAa,EACf,SAASS,IACP,QAAOnI,EAAQlpD,eAAiB4wD,EAAYQ,EAC9C,CACA,SAASE,IACP,GAAIJ,EAAsB,CACxB,IAAItuD,EAAcsmD,EAAQlpD,eAC1B4wD,EAAYhuD,EACZ,IAAI2uD,GAAc,EAClB,IACE5kD,EAAG,CACDyjD,GAA0B,EAC1BC,IACIA,GAAyB,EAC3BE,EAAkBY,GACjBA,GAAiB,GACpBhB,GAAmB,EACnB,IAAIqB,EAAwBtB,EAC5B,IACEhjD,EAAG,CAED,IADAwjD,EAAc9tD,GAEZqtD,EAAcf,EAAKY,GACnB,OAASG,KAEPA,EAAYzU,eAAiB54C,GAAeyuD,MAG9C,CACA,IAAIj8B,EAAW66B,EAAY76B,SAC3B,GAAI,oBAAsBA,EAAU,CAClC66B,EAAY76B,SAAW,KACvB86B,EAAuBD,EAAYvX,cACnC,IAAI+Y,EAAuBr8B,EACzB66B,EAAYzU,gBAAkB54C,GAGhC,GADAA,EAAcsmD,EAAQlpD,eAClB,oBAAsByxD,EAAsB,CAC9CxB,EAAY76B,SAAWq8B,EACvBf,EAAc9tD,GACd2uD,GAAc,EACd,MAAMrkD,CACR,CACA+iD,IAAgBf,EAAKY,IAAc9xD,EAAI8xD,GACvCY,EAAc9tD,EAChB,MAAO5E,EAAI8xD,GACXG,EAAcf,EAAKY,EACrB,CACA,GAAI,OAASG,EAAasB,GAAc,MACnC,CACH,IAAIR,EAAa7B,EAAKa,GACtB,OAASgB,GACPC,EACEH,EACAE,EAAWH,UAAYhuD,GAE3B2uD,GAAc,CAChB,CACF,CACA,MAAM5kD,CACR,CAAE,QACCsjD,EAAc,KACZC,EAAuBsB,EACvBrB,GAAmB,CACxB,CACAoB,OAAc,CAChB,CACF,CAAE,QACAA,EACIN,IACCC,GAAuB,CAC9B,CACF,CACF,CAEA,GAAI,oBAAsBV,EACxBS,EAAmC,WACjCT,EAAkBc,EACpB,OACG,GAAI,qBAAuBI,eAAgB,CAC9C,IAAIC,EAAU,IAAID,eAChBE,EAAOD,EAAQE,MACjBF,EAAQG,MAAMC,UAAYT,EAC1BL,EAAmC,WACjCW,EAAKI,YAAY,KACnB,CACF,MACEf,EAAmC,WACjCX,EAAgBgB,EAA0B,EAC5C,EACF,SAASR,IACPI,IACIA,GAAuB,EAAKD,IAClC,CACA,SAASD,EAAmB57B,EAAU68B,GACpCd,EAAgBb,GAAgB,WAC9Bl7B,EAAS8zB,EAAQlpD,eACnB,GAAGiyD,EACL,CACA/I,EAAQtoD,sBAAwB,EAChCsoD,EAAQ9oD,2BAA6B,EACrC8oD,EAAQxoD,qBAAuB,EAC/BwoD,EAAQ1oD,wBAA0B,EAClC0oD,EAAQgJ,mBAAqB,KAC7BhJ,EAAQ5oD,8BAAgC,EACxC4oD,EAAQxpD,wBAA0B,SAAUyyD,GAC1CA,EAAK/8B,SAAW,IAClB,EACA8zB,EAAQkJ,2BAA6B,WACnChC,GACED,IACEC,GAA0B,EAAKU,IACrC,EACA5H,EAAQmJ,wBAA0B,SAAUC,GAC1C,EAAIA,GAAO,IAAMA,EACbv3B,QAAQhY,MACN,mHAEDquC,EAAgB,EAAIkB,EAAM/wD,KAAKgxD,MAAM,IAAMD,GAAO,CACzD,EACApJ,EAAQhpD,iCAAmC,WACzC,OAAOgwD,CACT,EACAhH,EAAQsJ,8BAAgC,WACtC,OAAOtD,EAAKY,EACd,EACA5G,EAAQuJ,cAAgB,SAAUC,GAChC,OAAQxC,GACN,KAAK,EACL,KAAK,EACL,KAAK,EACH,IAAIxX,EAAgB,EACpB,MACF,QACEA,EAAgBwX,EAEpB,IAAIsB,EAAwBtB,EAC5BA,EAAuBxX,EACvB,IACE,OAAOga,GACT,CAAE,QACAxC,EAAuBsB,CACzB,CACF,EACAtI,EAAQyJ,wBAA0B,WAAa,EAC/CzJ,EAAQppD,sBAAwB,WAAa,EAC7CopD,EAAQ0J,yBAA2B,SAAUla,EAAega,GAC1D,OAAQha,GACN,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACH,MACF,QACEA,EAAgB,EAEpB,IAAI8Y,EAAwBtB,EAC5BA,EAAuBxX,EACvB,IACE,OAAOga,GACT,CAAE,QACAxC,EAAuBsB,CACzB,CACF,EACAtI,EAAQ1pD,0BAA4B,SAClCk5C,EACAtjB,EACAlrB,GAEA,IAAItH,EAAcsmD,EAAQlpD,eAQ1B,OAPA,kBAAoBkK,GAAW,OAASA,EAEnCA,EACC,kBAFAA,EAAUA,EAAQ2oD,QAEa,EAAI3oD,EAC/BtH,EAAcsH,EACdtH,EACLsH,EAAUtH,EACP81C,GACN,KAAK,EACH,IAAIoa,GAAW,EACf,MACF,KAAK,EACHA,EAAU,IACV,MACF,KAAK,EACHA,EAAU,WACV,MACF,KAAK,EACHA,EAAU,IACV,MACF,QACEA,EAAU,IAyBd,OAtBApa,EAAgB,CACd9Y,GAAIowB,IACJ56B,SAAUA,EACVsjB,cAAeA,EACfkY,UAAW1mD,EACXsxC,eANFsX,EAAU5oD,EAAU4oD,EAOlBrD,WAAY,GAEdvlD,EAAUtH,GACJ81C,EAAc+W,UAAYvlD,EAC5BhM,EAAK6xD,EAAYrX,GACjB,OAASwW,EAAKY,IACZpX,IAAkBwW,EAAKa,KACtBM,GACIE,EAAkBY,GAAiBA,GAAiB,GACpDd,GAAyB,EAC9BW,EAAmBH,EAAe3mD,EAAUtH,MAC5C81C,EAAc+W,UAAYqD,EAC5B50D,EAAK4xD,EAAWpX,GAChB0X,GACED,IACEC,GAA0B,EAAKU,MAChCpY,CACT,EACAwQ,EAAQtpD,qBAAuByxD,EAC/BnI,EAAQ6J,sBAAwB,SAAU39B,GACxC,IAAI49B,EAAsB9C,EAC1B,OAAO,WACL,IAAIsB,EAAwBtB,EAC5BA,EAAuB8C,EACvB,IACE,OAAO59B,EAASogB,MAAMrtC,KAAM3R,UAC9B,CAAE,QACA05D,EAAuBsB,CACzB,CACF,CACF,kBClVA,SAAS/D,IAEP,GAC4C,qBAAnC5E,gCAC4C,oBAA5CA,+BAA+B4E,SAcxC,IAEE5E,+BAA+B4E,SAASA,EAC1C,CAAE,MAAOpsD,GAGP05B,QAAQhY,MAAM1hB,EAChB,CACF,CAKEosD,GACAlE,EAAOL,QAAU,EAAjBK,OCjCE0J,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAalK,QAGrB,IAAIK,EAAS0J,EAAyBE,GAAY,CAGjDjK,QAAS,CAAC,GAOX,OAHAoK,EAAoBH,GAAU5J,EAAQA,EAAOL,QAASgK,GAG/C3J,EAAOL,OACf,CCrBAgK,EAAoB1R,EAAI,CAAC0H,EAASqK,KACjC,IAAI,IAAIz/C,KAAOy/C,EACXL,EAAoBM,EAAED,EAAYz/C,KAASo/C,EAAoBM,EAAEtK,EAASp1C,IAC5Exa,OAAOgB,eAAe4uD,EAASp1C,EAAK,CAAE1L,YAAY,EAAMF,IAAKqrD,EAAWz/C,IAE1E,ECNDo/C,EAAoBM,EAAI,CAACC,EAAKC,IAAUp6D,OAAOiB,UAAU+E,eAAe3E,KAAK84D,EAAKC,GCClFR,EAAoBtR,EAAKsH,IACH,qBAAXlyD,QAA0BA,OAAO28D,aAC1Cr6D,OAAOgB,eAAe4uD,EAASlyD,OAAO28D,YAAa,CAAEx4D,MAAO,WAE7D7B,OAAOgB,eAAe4uD,EAAS,aAAc,CAAE/tD,OAAO,GAAO,gHCmB1Dy4D,UAAoB,YAiGxB,SAASC,IAcP,OAAOC,GAbP,SAA+BC,EAASC,GACtC,IAAI,SAAEC,EAAQ,OAAE58C,EAAM,KAAE68C,GAASH,EAAQ9/C,SACzC,OAAOkgD,EACL,GACA,CAAEF,WAAU58C,SAAQ68C,QAEpBF,EAAc9qC,OAAS8qC,EAAc9qC,MAAMkrC,KAAO,KAClDJ,EAAc9qC,OAAS8qC,EAAc9qC,MAAMpV,KAAO,UAEtD,IACA,SAA2BigD,EAASM,GAClC,MAAqB,kBAAPA,EAAkBA,EAAKC,EAAWD,EAClD,GAIE,KAjBiC79D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,CAAC,EAoBzC,CA4CA,SAAS+9D,EAAUp5D,EAAOiB,GACxB,IAAc,IAAVjB,GAA6B,OAAVA,GAAmC,qBAAVA,EAC9C,MAAM,IAAI3B,MAAM4C,EAEpB,CACA,SAASo4D,EAAQC,EAAMr4D,GACrB,IAAKq4D,EAAM,CACc,qBAAZ15B,SAAyBA,QAAQ25B,KAAKt4D,GACjD,IACE,MAAM,IAAI5C,MAAM4C,EAClB,CAAE,MAAO6M,GACT,CACF,CACF,CAIA,SAAS0rD,EAAgB1gD,EAAUrW,GACjC,MAAO,CACLw2D,IAAKngD,EAASiV,MACdpV,IAAKG,EAASH,IACd8gD,IAAKh3D,EAET,CACA,SAASu2D,EAAep2D,EAASs2D,GAAuB,IAAnBnrC,EAAK1yB,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,KAAMsd,EAAGtd,UAAAC,OAAA,EAAAD,UAAA,QAAA68D,EAapD,MAZe,CACbY,SAA6B,kBAAZl2D,EAAuBA,EAAUA,EAAQk2D,SAC1D58C,OAAQ,GACR68C,KAAM,MACW,kBAAPG,EAAkBQ,EAAUR,GAAMA,EAC5CnrC,QAKApV,IAAKugD,GAAMA,EAAGvgD,KAAOA,GApBhBvS,KAAK6C,SAASC,SAAS,IAAIywD,UAAU,EAAG,IAuBjD,CACA,SAASR,EAAUS,GAIhB,IAJiB,SAClBd,EAAW,IAAG,OACd58C,EAAS,GAAE,KACX68C,EAAO,IACRa,EAKC,OAJI19C,GAAqB,MAAXA,IACZ48C,GAAiC,MAArB58C,EAAO29C,OAAO,GAAa39C,EAAS,IAAMA,GACpD68C,GAAiB,MAATA,IACVD,GAA+B,MAAnBC,EAAKc,OAAO,GAAad,EAAO,IAAMA,GAC7CD,CACT,CACA,SAASY,EAAUI,GACjB,IAAIC,EAAa,CAAC,EAClB,GAAID,EAAM,CACR,IAAIE,EAAYF,EAAKr7D,QAAQ,KACzBu7D,GAAa,IACfD,EAAWhB,KAAOe,EAAKH,UAAUK,GACjCF,EAAOA,EAAKH,UAAU,EAAGK,IAE3B,IAAIC,EAAcH,EAAKr7D,QAAQ,KAC3Bw7D,GAAe,IACjBF,EAAW79C,OAAS49C,EAAKH,UAAUM,GACnCH,EAAOA,EAAKH,UAAU,EAAGM,IAEvBH,IACFC,EAAWjB,SAAWgB,EAE1B,CACA,OAAOC,CACT,CACA,SAASpB,EAAmBuB,EAAaC,EAAaC,GAAgC,IAAdrrD,EAAO1T,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,CAAC,GAC3EwN,OAAQ+vD,EAAUxtD,SAASgU,YAAW,SAAEi7C,GAAW,GAAUtrD,EAC/D8pD,EAAgBD,EAAQ0B,QACxB/3D,EAAS,MACT8rB,EAAW,KACX5rB,EAAQ83D,IAKZ,SAASA,IAEP,OADY1B,EAAc9qC,OAAS,CAAE0rC,IAAK,OAC7BA,GACf,CACA,SAASe,IACPj4D,EAAS,MACT,IAAIk4D,EAAYF,IACZG,EAAqB,MAAbD,EAAoB,KAAOA,EAAYh4D,EACnDA,EAAQg4D,EACJpsC,GACFA,EAAS,CAAE9rB,SAAQuW,SAAUwhD,EAAQxhD,SAAU4hD,SAEnD,CAgCA,SAASC,EAAUzB,GACjB,IAAI0B,EAAmC,SAA5BhC,EAAQ9/C,SAAS+hD,OAAoBjC,EAAQ9/C,SAAS+hD,OAASjC,EAAQ9/C,SAASyG,KACvFu7C,EAAsB,kBAAP5B,EAAkBA,EAAKC,EAAWD,GAMrD,OALA4B,EAAQA,EAAMr6D,QAAQ,KAAM,OAC5B24D,EACEwB,EACA,sEAAsEE,KAEjE,IAAIC,IAAID,EAAOF,EACxB,CAzDa,MAATn4D,IACFA,EAAQ,EACRo2D,EAAcmC,aAAa,IAAKnC,EAAc9qC,MAAO0rC,IAAKh3D,GAAS,KAwDrE,IAAI63D,EAAU,CACZ,UAAI/3D,GACF,OAAOA,CACT,EACA,YAAIuW,GACF,OAAOohD,EAAYtB,EAASC,EAC9B,EACAoC,MAAAA,CAAOr8D,GACL,GAAIyvB,EACF,MAAM,IAAIhwB,MAAM,8CAIlB,OAFAu6D,EAAQzmD,iBAAiBsmD,EAAmB+B,GAC5CnsC,EAAWzvB,EACJ,KACLg6D,EAAQxmD,oBAAoBqmD,EAAmB+B,GAC/CnsC,EAAW,IAAI,CAEnB,EACA6sC,WAAWhC,GACFiB,EAAYvB,EAASM,GAE9ByB,YACAQ,cAAAA,CAAejC,GACb,IAAI99D,EAAMu/D,EAAUzB,GACpB,MAAO,CACLJ,SAAU19D,EAAI09D,SACd58C,OAAQ9gB,EAAI8gB,OACZ68C,KAAM39D,EAAI29D,KAEd,EACAh2D,KAvEF,SAAcm2D,EAAInrC,GAChBxrB,EAAS,OACT,IAAIuW,EAAWkgD,EAAesB,EAAQxhD,SAAUogD,EAAInrC,GAChDqsC,GAAkBA,EAAiBthD,EAAUogD,GACjDz2D,EAAQ83D,IAAa,EACrB,IAAIa,EAAe5B,EAAgB1gD,EAAUrW,GACzCrH,EAAMk/D,EAAQY,WAAWpiD,GAC7B,IACE+/C,EAAcwC,UAAUD,EAAc,GAAIhgE,EAC5C,CAAE,MAAOwsB,GACP,GAAIA,aAAiB0zC,cAA+B,mBAAf1zC,EAAMrqB,KACzC,MAAMqqB,EAERgxC,EAAQ9/C,SAAS5a,OAAO9C,EAC1B,CACIi/D,GAAYhsC,GACdA,EAAS,CAAE9rB,SAAQuW,SAAUwhD,EAAQxhD,SAAU4hD,MAAO,GAE1D,EAsDEj6D,QArDF,SAAkBy4D,EAAInrC,GACpBxrB,EAAS,UACT,IAAIuW,EAAWkgD,EAAesB,EAAQxhD,SAAUogD,EAAInrC,GAChDqsC,GAAkBA,EAAiBthD,EAAUogD,GACjDz2D,EAAQ83D,IACR,IAAIa,EAAe5B,EAAgB1gD,EAAUrW,GACzCrH,EAAMk/D,EAAQY,WAAWpiD,GAC7B+/C,EAAcmC,aAAaI,EAAc,GAAIhgE,GACzCi/D,GAAYhsC,GACdA,EAAS,CAAE9rB,SAAQuW,SAAUwhD,EAAQxhD,SAAU4hD,MAAO,GAE1D,EA2CEa,GAAGjL,GACMuI,EAAc0C,GAAGjL,IAG5B,OAAOgK,CACT,CA6BO,IAAI11C,QAoDX,SAAS42C,EAAYC,EAAQC,GAC3B,OAAOC,EAAgBF,EAAQC,EADiBrgE,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,KACG,EACxD,CACA,SAASsgE,EAAgBF,EAAQC,EAAaE,EAAUC,GACtD,IACI/C,EAAWgD,GADuB,kBAAhBJ,EAA2BhC,EAAUgC,GAAeA,GACpC5C,UAAY,IAAK8C,GACvD,GAAgB,MAAZ9C,EACF,OAAO,KAET,IAAIiD,EAAWC,EAAcP,IA4F/B,SAA2BM,GACzBA,EAASE,MACP,CAACzqD,EAAGO,IAAMP,EAAE0qD,QAAUnqD,EAAEmqD,MAAQnqD,EAAEmqD,MAAQ1qD,EAAE0qD,MA2BhD,SAAwB1qD,EAAGO,GACzB,IAAIoqD,EAAW3qD,EAAElW,SAAWyW,EAAEzW,QAAUkW,EAAErI,MAAM,GAAI,GAAGizD,OAAM,CAAC9L,EAAG90D,IAAM80D,IAAMv+C,EAAEvW,KAC/E,OAAO2gE,EAKL3qD,EAAEA,EAAElW,OAAS,GAAKyW,EAAEA,EAAEzW,OAAS,GAI/B,CAEJ,CAxCwD+gE,CAClD7qD,EAAE8qD,WAAWxoC,KAAKyoC,GAASA,EAAKC,gBAChCzqD,EAAEuqD,WAAWxoC,KAAKyoC,GAASA,EAAKC,kBAGtC,CAlGEC,CAAkBV,GAClB,IAAI1pB,EAAU,KACd,IAAK,IAAI72C,EAAI,EAAc,MAAX62C,GAAmB72C,EAAIugE,EAASzgE,SAAUE,EAAG,CAC3D,IAAIkhE,EAAUC,EAAW7D,GACzBzmB,EAAUuqB,EACRb,EAASvgE,GACTkhE,EACAb,EAEJ,CACA,OAAOxpB,CACT,CAWA,SAAS2pB,EAAcP,GAA0D,IAAlDM,EAAQ1gE,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,GAAIwhE,EAAWxhE,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,GAAIyhE,EAAUzhE,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,GACvE0hE,EAAeA,CAACC,EAAOv6D,EAAOw6D,KAChC,IAAIV,EAAO,CACTU,kBAA+B,IAAjBA,EAA0BD,EAAMlD,MAAQ,GAAKmD,EAC3DC,eAAuC,IAAxBF,EAAME,cACrBV,cAAe/5D,EACfu6D,SAEET,EAAKU,aAAaE,WAAW,OAC/B/D,EACEmD,EAAKU,aAAaE,WAAWL,GAC7B,wBAAwBP,EAAKU,oCAAoCH,6GAEnEP,EAAKU,aAAeV,EAAKU,aAAa9zD,MAAM2zD,EAAWxhE,SAEzD,IAAIw+D,EAAOsD,EAAU,CAACN,EAAYP,EAAKU,eACnCX,EAAaO,EAAY/iC,OAAOyiC,GAChCS,EAAM3tD,UAAY2tD,EAAM3tD,SAAS/T,OAAS,IAC5C89D,GAGkB,IAAhB4D,EAAMv6D,MACN,4FAA4Fq3D,OAE9FkC,EAAcgB,EAAM3tD,SAAU0sD,EAAUO,EAAYxC,KAEpC,MAAdkD,EAAMlD,MAAiBkD,EAAMv6D,QAGjCs5D,EAASh5D,KAAK,CACZ+2D,OACAoC,MAAOmB,EAAavD,EAAMkD,EAAMv6D,OAChC65D,cACA,EAWJ,OATAb,EAAOpvC,SAAQ,CAAC2wC,EAAOv6D,KACrB,GAAmB,KAAfu6D,EAAMlD,MAAgBkD,EAAMlD,MAAMv5D,SAAS,KAG7C,IAAK,IAAI+8D,KAAYC,EAAwBP,EAAMlD,MACjDiD,EAAaC,EAAOv6D,EAAO66D,QAH7BP,EAAaC,EAAOv6D,EAKtB,IAEKs5D,CACT,CACA,SAASwB,EAAwBzD,GAC/B,IAAI0D,EAAW1D,EAAKz5D,MAAM,KAC1B,GAAwB,IAApBm9D,EAASliE,OAAc,MAAO,GAClC,IAAK04D,KAAUyJ,GAAQD,EACnBE,EAAa1J,EAAM7O,SAAS,KAC5BwY,EAAW3J,EAAMvzD,QAAQ,MAAO,IACpC,GAAoB,IAAhBg9D,EAAKniE,OACP,OAAOoiE,EAAa,CAACC,EAAU,IAAM,CAACA,GAExC,IAAIC,EAAeL,EAAwBE,EAAKl0C,KAAK,MACjDuR,EAAS,GASb,OARAA,EAAO/3B,QACF66D,EAAa9pC,KACb+pC,GAAwB,KAAZA,EAAiBF,EAAW,CAACA,EAAUE,GAASt0C,KAAK,QAGlEm0C,GACF5iC,EAAO/3B,QAAQ66D,GAEV9iC,EAAOhH,KACXwpC,GAAaxD,EAAKqD,WAAW,MAAqB,KAAbG,EAAkB,IAAMA,GAElE,CASA,IAAIQ,EAAU,YACVC,EAAsB,EACtBC,EAAkB,EAClBC,EAAoB,EACpBC,EAAqB,GACrBC,GAAgB,EAChBC,EAAWC,GAAY,MAANA,EACrB,SAAShB,EAAavD,EAAMr3D,GAC1B,IAAI+6D,EAAW1D,EAAKz5D,MAAM,KACtBi+D,EAAed,EAASliE,OAO5B,OANIkiE,EAASe,KAAKH,KAChBE,GAAgBH,GAEd17D,IACF67D,GAAgBN,GAEXR,EAASgB,QAAQH,IAAOD,EAAQC,KAAII,QACzC,CAACvC,EAAOwC,IAAYxC,GAAS4B,EAAQlyD,KAAK8yD,GAAWX,EAAkC,KAAZW,EAAiBT,EAAoBC,IAChHI,EAEJ,CAeA,SAAS1B,EAAiB+B,EAAQ7F,GAAgC,IAAtB+C,EAAYxgE,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,IAAAA,UAAA,IAClD,WAAEihE,GAAeqC,EACjBC,EAAgB,CAAC,EACjBC,EAAkB,IAClBxsB,EAAU,GACd,IAAK,IAAI72C,EAAI,EAAGA,EAAI8gE,EAAWhhE,SAAUE,EAAG,CAC1C,IAAI+gE,EAAOD,EAAW9gE,GAClBiX,EAAMjX,IAAM8gE,EAAWhhE,OAAS,EAChCwjE,EAAwC,MAApBD,EAA0B/F,EAAWA,EAAS3vD,MAAM01D,EAAgBvjE,SAAW,IACnGgD,EAAQygE,EACV,CAAEjF,KAAMyC,EAAKU,aAAcC,cAAeX,EAAKW,cAAezqD,OAC9DqsD,GAEE9B,EAAQT,EAAKS,MAWjB,IAVK1+D,GAASmU,GAAOopD,IAAiBS,EAAWA,EAAWhhE,OAAS,GAAG0hE,MAAMv6D,QAC5EnE,EAAQygE,EACN,CACEjF,KAAMyC,EAAKU,aACXC,cAAeX,EAAKW,cACpBzqD,KAAK,GAEPqsD,KAGCxgE,EACH,OAAO,KAETH,OAAOD,OAAO0gE,EAAetgE,EAAM0gE,QACnC3sB,EAAQtvC,KAAK,CAEXi8D,OAAQJ,EACR9F,SAAUsE,EAAU,CAACyB,EAAiBvgE,EAAMw6D,WAC5CmG,aAAcC,EACZ9B,EAAU,CAACyB,EAAiBvgE,EAAM2gE,gBAEpCjC,UAEyB,MAAvB1+D,EAAM2gE,eACRJ,EAAkBzB,EAAU,CAACyB,EAAiBvgE,EAAM2gE,eAExD,CACA,OAAO5sB,CACT,CA6BA,SAAS0sB,EAAUI,EAASrG,GACH,kBAAZqG,IACTA,EAAU,CAAErF,KAAMqF,EAASjC,eAAe,EAAOzqD,KAAK,IAExD,IAAK2sD,EAASC,GAiChB,SAAqBvF,GAAyC,IAAnCoD,EAAa7hE,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,IAAAA,UAAA,GAAUoX,IAAGpX,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,KAAAA,UAAA,GACnDg+D,EACW,MAATS,IAAiBA,EAAK3U,SAAS,MAAQ2U,EAAK3U,SAAS,MACrD,eAAe2U,qCAAwCA,EAAKr5D,QAAQ,MAAO,8IAA8Iq5D,EAAKr5D,QAAQ,MAAO,WAE/O,IAAIu+D,EAAS,GACTM,EAAe,IAAMxF,EAAKr5D,QAAQ,UAAW,IAAIA,QAAQ,OAAQ,KAAKA,QAAQ,qBAAsB,QAAQA,QAC9G,qBACA,CAAC8+D,EAAGC,EAAW9B,KACbsB,EAAOj8D,KAAK,CAAEy8D,YAAW9B,WAA0B,MAAdA,IAC9BA,EAAa,eAAiB,gBAGrC5D,EAAK3U,SAAS,MAChB6Z,EAAOj8D,KAAK,CAAEy8D,UAAW,MACzBF,GAAyB,MAATxF,GAAyB,OAATA,EAAgB,QAAU,qBACjDrnD,EACT6sD,GAAgB,QACE,KAATxF,GAAwB,MAATA,IACxBwF,GAAgB,iBAGlB,IAAIF,EAAU,IAAI7zD,OAAO+zD,EAAcpC,OAAgB,EAAS,KAChE,MAAO,CAACkC,EAASJ,EACnB,CAzDkCS,CAC9BN,EAAQrF,KACRqF,EAAQjC,cACRiC,EAAQ1sD,KAENnU,EAAQw6D,EAASx6D,MAAM8gE,GAC3B,IAAK9gE,EAAO,OAAO,KACnB,IAAIugE,EAAkBvgE,EAAM,GACxB2gE,EAAeJ,EAAgBp+D,QAAQ,UAAW,MAClDi/D,EAAgBphE,EAAM6K,MAAM,GAC5B61D,EAASK,EAAeZ,QAC1B,CAACkB,EAAKC,EAA6Bn9D,KAAU,IAArC,UAAE+8D,EAAS,WAAE9B,GAAYkC,EAC/B,GAAkB,MAAdJ,EAAmB,CACrB,IAAIK,EAAaH,EAAcj9D,IAAU,GACzCw8D,EAAeJ,EAAgB11D,MAAM,EAAG01D,EAAgBvjE,OAASukE,EAAWvkE,QAAQmF,QAAQ,UAAW,KACzG,CACA,MAAMT,EAAQ0/D,EAAcj9D,GAM5B,OAJEk9D,EAAMH,GADJ9B,IAAe19D,OACE,GAECA,GAAS,IAAIS,QAAQ,OAAQ,KAE5Ck/D,CAAK,GAEd,CAAC,GAEH,MAAO,CACLX,SACAlG,SAAU+F,EACVI,eACAE,UAEJ,CA0BA,SAASxC,EAAW38D,GAClB,IACE,OAAOA,EAAMK,MAAM,KAAKyzB,KAAKgsC,GAAMzN,mBAAmByN,GAAGr/D,QAAQ,MAAO,SAAQ8oB,KAAK,IACvF,CAAE,MAAO3B,GAKP,OAJAyxC,GACE,EACA,iBAAiBr5D,kHAAsH4nB,OAElI5nB,CACT,CACF,CACA,SAAS87D,EAAchD,EAAU8C,GAC/B,GAAiB,MAAbA,EAAkB,OAAO9C,EAC7B,IAAKA,EAAS/sD,cAAcoxD,WAAWvB,EAAS7vD,eAC9C,OAAO,KAET,IAAIkmD,EAAa2J,EAASzW,SAAS,KAAOyW,EAAStgE,OAAS,EAAIsgE,EAAStgE,OACrEykE,EAAWjH,EAASe,OAAO5H,GAC/B,OAAI8N,GAAyB,MAAbA,EACP,KAEFjH,EAAS3vD,MAAM8oD,IAAe,GACvC,CA0BA,SAAS+N,EAAoBrc,EAAMsc,EAAOC,EAAMpG,GAC9C,MAAO,qBAAqBnW,6CAAgDsc,cAAkBE,KAAKC,UACjGtG,4CACyCoG,6HAC7C,CACA,SAASG,EAA2BhuB,GAClC,OAAOA,EAAQmsB,QACb,CAAClgE,EAAOmE,IAAoB,IAAVA,GAAenE,EAAM0+D,MAAMlD,MAAQx7D,EAAM0+D,MAAMlD,KAAKx+D,OAAS,GAEnF,CACA,SAASglE,EAAoBjuB,GAC3B,IAAIkuB,EAAcF,EAA2BhuB,GAC7C,OAAOkuB,EAAYzsC,KACjB,CAACx1B,EAAOm7D,IAAQA,IAAQ8G,EAAYjlE,OAAS,EAAIgD,EAAMw6D,SAAWx6D,EAAM2gE,cAE5E,CACA,SAASuB,EAAUC,EAAOC,EAAgBC,GAA0C,IAC9EzH,EADsD0H,EAAcvlE,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,IAAAA,UAAA,GAEnD,kBAAVolE,EACTvH,EAAKQ,EAAU+G,IAEfvH,EAAK,IAAKuH,GACVrH,GACGF,EAAGJ,WAAaI,EAAGJ,SAASv4D,SAAS,KACtCy/D,EAAoB,IAAK,WAAY,SAAU9G,IAEjDE,GACGF,EAAGJ,WAAaI,EAAGJ,SAASv4D,SAAS,KACtCy/D,EAAoB,IAAK,WAAY,OAAQ9G,IAE/CE,GACGF,EAAGh9C,SAAWg9C,EAAGh9C,OAAO3b,SAAS,KAClCy/D,EAAoB,IAAK,SAAU,OAAQ9G,KAG/C,IAEI2H,EAFAC,EAAwB,KAAVL,GAAgC,KAAhBvH,EAAGJ,SACjCiI,EAAaD,EAAc,IAAM5H,EAAGJ,SAExC,GAAkB,MAAdiI,EACFF,EAAOF,MACF,CACL,IAAIK,EAAqBN,EAAeplE,OAAS,EACjD,IAAKslE,GAAkBG,EAAW5D,WAAW,MAAO,CAClD,IAAI8D,EAAaF,EAAW1gE,MAAM,KAClC,KAAyB,OAAlB4gE,EAAW,IAChBA,EAAWxV,QACXuV,GAAsB,EAExB9H,EAAGJ,SAAWmI,EAAW13C,KAAK,IAChC,CACAs3C,EAAOG,GAAsB,EAAIN,EAAeM,GAAsB,GACxE,CACA,IAAIlH,EA7EN,SAAqBZ,GAAwB,IAApBgI,EAAY7lE,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,KAEpCy9D,SAAUiI,EAAU,OACpB7kD,EAAS,GAAE,KACX68C,EAAO,IACS,kBAAPG,EAAkBQ,EAAUR,GAAMA,EACzCJ,EAAWiI,EAAaA,EAAW5D,WAAW,KAAO4D,EAO3D,SAAyB9D,EAAciE,GACrC,IAAI1D,EAAW0D,EAAazgE,QAAQ,OAAQ,IAAIJ,MAAM,KAStD,OARuB48D,EAAa58D,MAAM,KACzBgsB,SAASqyC,IACR,OAAZA,EACElB,EAASliE,OAAS,GAAGkiE,EAAS36D,MACb,MAAZ67D,GACTlB,EAASz6D,KAAK27D,EAChB,IAEKlB,EAASliE,OAAS,EAAIkiE,EAASj0C,KAAK,KAAO,GACpD,CAlBwE43C,CAAgBJ,EAAYG,GAAgBA,EAClH,MAAO,CACLpI,WACA58C,OAAQklD,EAAgBllD,GACxB68C,KAAMsI,EAActI,GAExB,CAiEauI,CAAYpI,EAAI2H,GACvBU,EAA2BR,GAA6B,MAAfA,GAAsBA,EAAW5b,SAAS,KACnFqc,GAA2BV,GAA8B,MAAfC,IAAuBJ,EAAiBxb,SAAS,KAI/F,OAHK2U,EAAKhB,SAAS3T,SAAS,OAASoc,IAA4BC,IAC/D1H,EAAKhB,UAAY,KAEZgB,CACT,CACA,IAAIsD,EAAaqE,GAAUA,EAAMl4C,KAAK,KAAK9oB,QAAQ,SAAU,KACzDy+D,EAAqBpG,GAAaA,EAASr4D,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,KAC/E2gE,EAAmBllD,GAAYA,GAAqB,MAAXA,EAAsBA,EAAOihD,WAAW,KAAOjhD,EAAS,IAAMA,EAA7C,GAC1DmlD,EAAiBtI,GAAUA,GAAiB,MAATA,EAAoBA,EAAKoE,WAAW,KAAOpE,EAAO,IAAMA,EAAzC,GAgDtD,SAAS2I,EAAqB95C,GAC5B,OAAgB,MAATA,GAAyC,kBAAjBA,EAAMO,QAAmD,kBAArBP,EAAM+5C,YAAqD,mBAAnB/5C,EAAMg6C,UAA0B,SAAUh6C,CACvJ,CAGA,IAAIi6C,EAA0B,CAC5B,OACA,MACA,QACA,UAKEC,GAHuB,IAAIl3D,IAC7Bi3D,GAE2B,CAC3B,SACGA,IAEqB,IAAIj3D,IAAIk3D,GAkCNjmE,OAAO,mBAi4GnC,IAAIkmE,EAAoB/mE,EAAAA,cAAoB,MAC5C+mE,EAAkBzkE,YAAc,aAChC,IAAI0kE,EAAyBhnE,EAAAA,cAAoB,MACjDgnE,EAAuB1kE,YAAc,kBACrC,IAAI2kE,EAAwBjnE,EAAAA,cAAoB,CAC9CknE,iBAAiB,IAEnBD,EAAsB3kE,YAAc,iBACpC,IAAI6kE,EAAkBnnE,EAAAA,cACJ,IAAIwP,KAEtB23D,EAAgB7kE,YAAc,WAC9B,IAAI8kE,EAAepnE,EAAAA,cAAoB,MACvConE,EAAa9kE,YAAc,QAC3B,IAAI+kE,EAAoBrnE,EAAAA,cACtB,MAEFqnE,EAAkB/kE,YAAc,aAChC,IAAIglE,EAAkBtnE,EAAAA,cACpB,MAEFsnE,EAAgBhlE,YAAc,WAC9B,IAAIilE,EAAevnE,EAAAA,cAAoB,CACrCwnE,OAAQ,KACRnwB,QAAS,GACTowB,aAAa,IAEfF,EAAajlE,YAAc,QAC3B,IAAIolE,EAAoB1nE,EAAAA,cAAoB,MAC5C0nE,EAAkBplE,YAAc,aAoBhC,SAASqlE,IACP,OAA6C,MAAtCC,EAAAA,WAAkBN,EAC3B,CACA,SAASO,IAOP,OANAzJ,EACEuJ,IAGA,0EAEKC,EAAAA,WAAkBN,GAAiBxpD,QAC5C,CAiBA,IAAIgqD,EAAwB,gGAC5B,SAASC,GAA0BvjB,GAClBojB,EAAAA,WAAkBP,GAAmBW,QAElDJ,EAAAA,gBAAuBpjB,EAE3B,CACA,SAASyjB,KACP,IAAI,YAAER,GAAgBG,EAAAA,WAAkBL,GACxC,OAAOE,EA0eT,WACE,IAAI,OAAES,GAAWC,GAAqB,eAClC1+B,EAAK2+B,GAAkB,eACvBC,EAAYT,EAAAA,QAAc,GAC9BG,IAA0B,KACxBM,EAAUzgE,SAAU,CAAI,IAE1B,IAAI0gE,EAAWV,EAAAA,aACbpuB,eAAO0kB,GAAqB,IAAjBnqD,EAAO1T,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,CAAC,EACpBg+D,EAAQgK,EAAUzgE,QAASkgE,GACtBO,EAAUzgE,UACG,kBAAPs2D,EACTgK,EAAOI,SAASpK,SAEVgK,EAAOI,SAASpK,EAAI,CAAEqK,YAAa9+B,KAAO11B,IAEpD,GACA,CAACm0D,EAAQz+B,IAEX,OAAO6+B,CACT,CA9fuBE,GAEvB,WACEpK,EACEuJ,IAGA,0EAEF,IAAIc,EAAoBb,EAAAA,WAAkBb,IACtC,SAAEnG,EAAU8H,UAAWC,GAAef,EAAAA,WAAkBP,IACxD,QAAEhwB,GAAYuwB,EAAAA,WAAkBL,IAC9BzJ,SAAU6H,GAAqBkC,IACjCe,EAAqBzD,KAAKC,UAAUE,EAAoBjuB,IACxDgxB,EAAYT,EAAAA,QAAc,GAC9BG,IAA0B,KACxBM,EAAUzgE,SAAU,CAAI,IAE1B,IAAI0gE,EAAWV,EAAAA,aACb,SAAC1J,GAAqB,IAAjBnqD,EAAO1T,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,CAAC,EAEd,GADAg+D,EAAQgK,EAAUzgE,QAASkgE,IACtBO,EAAUzgE,QAAS,OACxB,GAAkB,kBAAPs2D,EAET,YADAyK,EAAWpI,GAAGrC,GAGhB,IAAIY,EAAO0G,EACTtH,EACAiH,KAAK0D,MAAMD,GACXjD,EACqB,SAArB5xD,EAAQ+0D,UAEe,MAArBL,GAA0C,MAAb7H,IAC/B9B,EAAKhB,SAA6B,MAAlBgB,EAAKhB,SAAmB8C,EAAWwB,EAAU,CAACxB,EAAU9B,EAAKhB,aAE5E/pD,EAAQtO,QAAUkjE,EAAWljE,QAAUkjE,EAAW5gE,MACnD+2D,EACA/qD,EAAQgf,MACRhf,EAEJ,GACA,CACE6sD,EACA+H,EACAC,EACAjD,EACA8C,IAGJ,OAAOH,CACT,CAlD6CS,EAC7C,CAkDoBnB,EAAAA,cAAqB,MAgBzC,SAASoB,GAAgB9K,GAAuB,IAAnB,SAAE4K,GAAUzoE,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,CAAC,GACvC,QAAEg3C,GAAYuwB,EAAAA,WAAkBL,IAC9BzJ,SAAU6H,GAAqBkC,IACjCe,EAAqBzD,KAAKC,UAAUE,EAAoBjuB,IAC5D,OAAOuwB,EAAAA,SACL,IAAMpC,EACJtH,EACAiH,KAAK0D,MAAMD,GACXjD,EACa,SAAbmD,IAEF,CAAC5K,EAAI0K,EAAoBjD,EAAkBmD,GAE/C,CAIA,SAASG,GAAcxI,EAAQC,EAAawI,EAAiBC,GAC3D/K,EACEuJ,IAGA,wEAEF,IAAMe,UAAWC,EAAYX,OAAQoB,GAAaxB,EAAAA,WAAkBP,IAC9DhwB,QAASgyB,GAAkBzB,EAAAA,WAAkBL,GAC/C+B,EAAaD,EAAcA,EAAc/oE,OAAS,GAClDipE,EAAeD,EAAaA,EAAWtF,OAAS,CAAC,EACjDwF,EAAiBF,EAAaA,EAAWxL,SAAW,IACpD2L,EAAqBH,EAAaA,EAAWrF,aAAe,IAC5DyF,EAAcJ,GAAcA,EAAWtH,MAClB,CACvB,IAAIF,EAAa4H,GAAeA,EAAY5K,MAAQ,GACpD6K,GACEH,GACCE,GAAe5H,EAAW3X,SAAS,MAAQ2X,EAAW3X,SAAS,MAChE,oEAAoEqf,0BAAuC1H,oNAEzEA,uBAA+C,MAAfA,EAAqB,IAAM,GAAGA,WAEpG,CACA,IACIhkD,EADA8rD,EAAsB/B,IAE1B,GAAInH,EAAa,CACf,IAAImJ,EAA2C,kBAAhBnJ,EAA2BhC,EAAUgC,GAAeA,EACnFtC,EACyB,MAAvBqL,GAA8BI,EAAkB/L,UAAUqE,WAAWsH,GACrE,2OAA2OA,oBAAqCI,EAAkB/L,iDAEpShgD,EAAW+rD,CACb,MACE/rD,EAAW8rD,EAEb,IAAI9L,EAAWhgD,EAASggD,UAAY,IAChCgG,EAAoBhG,EACxB,GAA2B,MAAvB2L,EAA4B,CAC9B,IAAIK,EAAiBL,EAAmBhkE,QAAQ,MAAO,IAAIJ,MAAM,KAEjEy+D,EAAoB,IADLhG,EAASr4D,QAAQ,MAAO,IAAIJ,MAAM,KACd8I,MAAM27D,EAAexpE,QAAQiuB,KAAK,IACvE,CACA,IAAI8oB,GAAW+xB,GAAYF,GAAmBA,EAAgB7xB,SAAW6xB,EAAgB7xB,QAAQ/2C,OAAS,EAAI4oE,EAAgB7xB,QAAUmpB,EAAYC,EAAQ,CAAE3C,SAAUgG,IAEtKzF,EACEqL,GAA0B,MAAXryB,EACf,+BAA+Bv5B,EAASggD,WAAWhgD,EAASoD,SAASpD,EAASigD,UAEhFM,EACa,MAAXhnB,QAAiE,IAA9CA,EAAQA,EAAQ/2C,OAAS,GAAG0hE,MAAM5uD,cAAsE,IAAhDikC,EAAQA,EAAQ/2C,OAAS,GAAG0hE,MAAM1rC,gBAAmE,IAA3C+gB,EAAQA,EAAQ/2C,OAAS,GAAG0hE,MAAM3L,KACvK,mCAAmCv4C,EAASggD,WAAWhgD,EAASoD,SAASpD,EAASigD,mJAGtF,IAAIgM,EAAkBC,GACpB3yB,GAAWA,EAAQve,KAChBx1B,GAAUH,OAAOD,OAAO,CAAC,EAAGI,EAAO,CAClC0gE,OAAQ7gE,OAAOD,OAAO,CAAC,EAAGqmE,EAAcjmE,EAAM0gE,QAC9ClG,SAAUsE,EAAU,CAClBqH,EAEAd,EAAWxI,eAAiBwI,EAAWxI,eAAe78D,EAAMw6D,UAAUA,SAAWx6D,EAAMw6D,WAEzFmG,aAAqC,MAAvB3gE,EAAM2gE,aAAuBwF,EAAqBrH,EAAU,CACxEqH,EAEAd,EAAWxI,eAAiBwI,EAAWxI,eAAe78D,EAAM2gE,cAAcnG,SAAWx6D,EAAM2gE,mBAIjGoF,EACAH,EACAC,GAEF,OAAIzI,GAAeqJ,EACMnC,EAAAA,cACrBN,EAAgB3zC,SAChB,CACE3uB,MAAO,CACL8Y,SAAU,CACRggD,SAAU,IACV58C,OAAQ,GACR68C,KAAM,GACNhrC,MAAO,KACPpV,IAAK,aACFG,GAELmsD,eAAgB,QAGpBF,GAGGA,CACT,CACA,SAASG,KACP,IAAIt9C,EAAQu9C,KACRlkE,EAAUygE,EAAqB95C,GAAS,GAAGA,EAAMO,UAAUP,EAAM+5C,aAAe/5C,aAAiBvpB,MAAQupB,EAAM3mB,QAAUk/D,KAAKC,UAAUx4C,GACxIrpB,EAAQqpB,aAAiBvpB,MAAQupB,EAAMrpB,MAAQ,KAC/C6mE,EAAY,yBACZC,EAAY,CAAEC,QAAS,SAAUC,gBAAiBH,GAClDI,EAAa,CAAEF,QAAS,UAAWC,gBAAiBH,GACpDK,EAAU,KAQd,OANE7lC,QAAQhY,MACN,uDACAA,GAEF69C,EAA0B7C,EAAAA,cAAqBA,EAAAA,SAAiB,KAAsBA,EAAAA,cAAqB,IAAK,KAAM,2CAAsDA,EAAAA,cAAqB,IAAK,KAAM,+FAAgHA,EAAAA,cAAqB,OAAQ,CAAE9yD,MAAO01D,GAAc,iBAAkB,MAAO,IAAqB5C,EAAAA,cAAqB,OAAQ,CAAE9yD,MAAO01D,GAAc,gBAAiB,yBAE9c5C,EAAAA,cAAqBA,EAAAA,SAAiB,KAAsBA,EAAAA,cAAqB,KAAM,KAAM,iCAAkDA,EAAAA,cAAqB,KAAM,CAAE9yD,MAAO,CAAE41D,UAAW,WAAczkE,GAAU1C,EAAwBqkE,EAAAA,cAAqB,MAAO,CAAE9yD,MAAOu1D,GAAa9mE,GAAS,KAAMknE,EAC1U,CACA,IAAIE,GAAsC/C,EAAAA,cAAqBsC,GAAuB,MAClFU,GAAsB,cAAchD,EAAAA,UACtC/1D,WAAAA,CAAY0E,GACVs0D,MAAMt0D,GACNvE,KAAK+gB,MAAQ,CACXjV,SAAUvH,EAAMuH,SAChBgtD,aAAcv0D,EAAMu0D,aACpBl+C,MAAOrW,EAAMqW,MAEjB,CACA,+BAAOkZ,CAAyBlZ,GAC9B,MAAO,CAAEA,QACX,CACA,+BAAOoW,CAAyBzsB,EAAOwc,GACrC,OAAIA,EAAMjV,WAAavH,EAAMuH,UAAmC,SAAvBiV,EAAM+3C,cAAkD,SAAvBv0D,EAAMu0D,aACvE,CACLl+C,MAAOrW,EAAMqW,MACb9O,SAAUvH,EAAMuH,SAChBgtD,aAAcv0D,EAAMu0D,cAGjB,CACLl+C,WAAuB,IAAhBrW,EAAMqW,MAAmBrW,EAAMqW,MAAQmG,EAAMnG,MACpD9O,SAAUiV,EAAMjV,SAChBgtD,aAAcv0D,EAAMu0D,cAAgB/3C,EAAM+3C,aAE9C,CACA/kC,iBAAAA,CAAkBnZ,EAAOqY,GACvBL,QAAQhY,MACN,wDACAA,EACAqY,EAEJ,CACAviC,MAAAA,GACE,YAA4B,IAArBsP,KAAK+gB,MAAMnG,MAAmCg7C,EAAAA,cAAqBL,EAAa5zC,SAAU,CAAE3uB,MAAOgN,KAAKuE,MAAMw0D,cAAgCnD,EAAAA,cACnJF,EAAkB/zC,SAClB,CACE3uB,MAAOgN,KAAK+gB,MAAMnG,MAClBvY,SAAUrC,KAAKuE,MAAM6sB,aAEpBpxB,KAAKuE,MAAMlC,QAClB,GAEF,SAAS22D,GAAaC,GAAoC,IAAnC,aAAEF,EAAY,MAAEznE,EAAK,SAAE+Q,GAAU42D,EAClDxC,EAAoBb,EAAAA,WAAkBb,GAI1C,OAHI0B,GAAqBA,EAAkBT,QAAUS,EAAkByC,gBAAkB5nE,EAAM0+D,MAAMmJ,cAAgB7nE,EAAM0+D,MAAMoJ,iBAC/H3C,EAAkByC,cAAcG,2BAA6B/nE,EAAM0+D,MAAMv4B,IAEpDm+B,EAAAA,cAAqBL,EAAa5zC,SAAU,CAAE3uB,MAAO+lE,GAAgB12D,EAC9F,CACA,SAAS21D,GAAe3yB,GAAoE,IAA3DgyB,EAAahpE,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,GAAI6oE,EAAe7oE,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,KACrE,GAAe,MAAXg3C,EAAiB,CACnB,IAAK6xB,EACH,OAAO,KAET,GAAIA,EAAgB9pB,OAClB/H,EAAU6xB,EAAgB7xB,YACrB,IAA6B,IAAzBgyB,EAAc/oE,QAAiB4oE,EAAgBoC,eAAepC,EAAgB7xB,QAAQ/2C,OAAS,GAGxG,OAAO,KAFP+2C,EAAU6xB,EAAgB7xB,OAG5B,CACF,CACA,IAAI0yB,EAAkB1yB,EAClB+H,EAAS8pB,GAAiB9pB,OAC9B,GAAc,MAAVA,EAAgB,CAClB,IAAImsB,EAAaxB,EAAgByB,WAC9Blf,GAAMA,EAAE0V,MAAMv4B,SAA+B,IAAzB2V,IAASkN,EAAE0V,MAAMv4B,MAExC20B,EACEmN,GAAc,EACd,4DAA4DpoE,OAAOkgB,KACjE+7B,GACA7wB,KAAK,QAETw7C,EAAkBA,EAAgB57D,MAChC,EACA/C,KAAK8Z,IAAI6kD,EAAgBzpE,OAAQirE,EAAa,GAElD,CACA,IAAIE,GAAiB,EACjBC,GAAiB,EACrB,GAAIxC,EACF,IAAK,IAAI1oE,EAAI,EAAGA,EAAIupE,EAAgBzpE,OAAQE,IAAK,CAC/C,IAAI8C,EAAQymE,EAAgBvpE,GAI5B,IAHI8C,EAAM0+D,MAAM2J,iBAAmBroE,EAAM0+D,MAAM4J,0BAC7CF,EAAgBlrE,GAEd8C,EAAM0+D,MAAMv4B,GAAI,CAClB,IAAI,WAAEoiC,EAAYzsB,OAAQ0sB,GAAY5C,EAClC6C,EAAmBzoE,EAAM0+D,MAAMgK,SAAWH,EAAW1iE,eAAe7F,EAAM0+D,MAAMv4B,OAASqiC,QAAuC,IAA5BA,EAAQxoE,EAAM0+D,MAAMv4B,KAC5H,GAAInmC,EAAM0+D,MAAM3L,MAAQ0V,EAAkB,CACxCN,GAAiB,EAEf1B,EADE2B,GAAiB,EACD3B,EAAgB57D,MAAM,EAAGu9D,EAAgB,GAEzC,CAAC3B,EAAgB,IAErC,KACF,CACF,CACF,CAEF,OAAOA,EAAgBkC,aAAY,CAACzE,EAAQlkE,EAAOmE,KACjD,IAAImlB,EACAs/C,GAA8B,EAC9Bf,EAAe,KACfS,EAAyB,KACzB1C,IACFt8C,EAAQwyB,GAAU97C,EAAM0+D,MAAMv4B,GAAK2V,EAAO97C,EAAM0+D,MAAMv4B,SAAM,EAC5D0hC,EAAe7nE,EAAM0+D,MAAMmJ,cAAgBR,GACvCc,IACEC,EAAgB,GAAe,IAAVjkE,GACvBkiE,GACE,kBACA,EACA,4EAEFuC,GAA8B,EAC9BN,EAAyB,MAChBF,IAAkBjkE,IAC3BykE,GAA8B,EAC9BN,EAAyBtoE,EAAM0+D,MAAM4J,wBAA0B,QAIrE,IAAIO,EAAW9C,EAAcvqC,OAAOirC,EAAgB57D,MAAM,EAAG1G,EAAQ,IACjE2kE,EAAcA,KAChB,IAAI/3D,EAYJ,OAVEA,EADEuY,EACSu+C,EACFe,EACEN,EACFtoE,EAAM0+D,MAAM1rC,UACMsxC,EAAAA,cAAqBtkE,EAAM0+D,MAAM1rC,UAAW,MAC9DhzB,EAAM0+D,MAAM5uD,QACV9P,EAAM0+D,MAAM5uD,QAEZo0D,EAEUI,EAAAA,cACrBoD,GACA,CACE1nE,QACAynE,aAAc,CACZvD,SACAnwB,QAAS80B,EACT1E,YAAgC,MAAnByB,GAEf70D,YAEH,EAEH,OAAO60D,IAAoB5lE,EAAM0+D,MAAMoJ,eAAiB9nE,EAAM0+D,MAAMmJ,cAA0B,IAAV1jE,GAA+BmgE,EAAAA,cACjHgD,GACA,CACE9sD,SAAUorD,EAAgBprD,SAC1BgtD,aAAc5B,EAAgB4B,aAC9B1nC,UAAW+nC,EACXv+C,QACAvY,SAAU+3D,IACVrB,aAAc,CAAEvD,OAAQ,KAAMnwB,QAAS80B,EAAU1E,aAAa,KAE9D2E,GAAa,GAChB,KACL,CACA,SAASC,GAA0BC,GACjC,MAAO,GAAGA,qGACZ,CACA,SAASnE,GAAqBmE,GAC5B,IAAIC,EAAM3E,EAAAA,WAAkBb,GAE5B,OADA3I,EAAUmO,EAAKF,GAA0BC,IAClCC,CACT,CACA,SAASC,GAAmBF,GAC1B,IAAIv5C,EAAQ60C,EAAAA,WAAkBZ,GAE9B,OADA5I,EAAUrrC,EAAOs5C,GAA0BC,IACpCv5C,CACT,CAMA,SAASq1C,GAAkBkE,GACzB,IAAItK,EANN,SAAyBsK,GACvB,IAAItK,EAAQ4F,EAAAA,WAAkBL,GAE9B,OADAnJ,EAAU4D,EAAOqK,GAA0BC,IACpCtK,CACT,CAEcyK,CAAgBH,GACxBI,EAAY1K,EAAM3qB,QAAQ2qB,EAAM3qB,QAAQ/2C,OAAS,GAKrD,OAJA89D,EACEsO,EAAU1K,MAAMv4B,GAChB,GAAG6iC,2DAEEI,EAAU1K,MAAMv4B,EACzB,CA4CA,SAAS0gC,KACP,IAAIv9C,EAAQg7C,EAAAA,WAAkBF,GAC1B30C,EAAQy5C,GAAmB,iBAC3BG,EAAUvE,GAAkB,iBAChC,YAAc,IAAVx7C,EACKA,EAEFmG,EAAMqsB,SAASutB,EACxB,CAsEA,IAAIC,GAAgB,CAAC,EACrB,SAASjD,GAAYhsD,EAAK2gD,EAAMr4D,GACzBq4D,GAASsO,GAAcjvD,KAC1BivD,GAAcjvD,IAAO,EACrB0gD,GAAQ,EAAOp4D,GAEnB,CA2QyB4mE,EAAAA,MACzB,SAAmBC,GAIhB,IAJiB,OAClBrM,EAAM,OACN0I,EAAM,MACNp2C,GACD+5C,EACC,OAAO7D,GAAcxI,OAAQ,EAAQ1tC,EAAOo2C,EAC9C,IAyEA,SAAS4D,GAAMC,GACb5O,GACE,EACA,uIAEJ,CACA,SAAS6O,GAAMC,GAOZ,IANDtM,SAAUuM,EAAe,IAAG,SAC5B94D,EAAW,KACXyJ,SAAUsvD,EAAY,eACtBnD,EAAiB,MACjBvB,UAAWC,EACXX,OAAQqF,GAAa,GACtBH,EACC9O,GACGuJ,IACD,0GAEF,IAAI/G,EAAWuM,EAAa1nE,QAAQ,OAAQ,KACxC6nE,EAAoBT,EAAAA,SACtB,KAAM,CACJjM,WACA8H,UAAWC,EACXX,OAAQqF,EACRlE,OAAQ,CAAC,KAEX,CAACvI,EAAU+H,EAAY0E,IAEG,kBAAjBD,IACTA,EAAe1O,EAAU0O,IAE3B,IAAI,SACFtP,EAAW,IAAG,OACd58C,EAAS,GAAE,KACX68C,EAAO,GAAE,MACThrC,EAAQ,KAAI,IACZpV,EAAM,WACJyvD,EACAG,EAAkBV,EAAAA,SAAe,KACnC,IAAIW,EAAmB1M,EAAchD,EAAU8C,GAC/C,OAAwB,MAApB4M,EACK,KAEF,CACL1vD,SAAU,CACRggD,SAAU0P,EACVtsD,SACA68C,OACAhrC,QACApV,OAEFssD,iBACD,GACA,CAACrJ,EAAU9C,EAAU58C,EAAQ68C,EAAMhrC,EAAOpV,EAAKssD,IAKlD,OAJA5L,EACqB,MAAnBkP,EACA,qBAAqB3M,qCAA4C9C,IAAW58C,IAAS68C,0FAEhE,MAAnBwP,EACK,KAEcV,EAAAA,cAAqBxF,EAAkB1zC,SAAU,CAAE3uB,MAAOsoE,GAAqCT,EAAAA,cAAqBvF,EAAgB3zC,SAAU,CAAEtf,WAAUrP,MAAOuoE,IAC1L,CACA,SAASE,GAAMC,GAGZ,IAHa,SACdr5D,EAAQ,SACRyJ,GACD4vD,EACC,OAj1BOzE,GAi1BU0E,GAAyBt5D,GAAWyJ,EACvD,CAQuC+uD,EAAAA,UA6DvC,SAASc,GAAyBt5D,GAA2B,IAAjBytD,EAAUzhE,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,GACnDogE,EAAS,GA+Cb,OA9CAoM,EAAAA,SAAgBx7C,QAAQhd,GAAU,CAACjB,EAAS3L,KAC1C,IAAKolE,EAAAA,eAAsBz5D,GACzB,OAEF,IAAIw6D,EAAW,IAAI9L,EAAYr6D,GAC/B,GAAI2L,EAAQhR,OAASyqE,EAAAA,SAKnB,YAJApM,EAAO14D,KAAKs3C,MACVohB,EACAkN,GAAyBv6D,EAAQmD,MAAMlC,SAAUu5D,IAIrDxP,EACEhrD,EAAQhR,OAAS2qE,GACjB,IAA4B,kBAAjB35D,EAAQhR,KAAoBgR,EAAQhR,KAAOgR,EAAQhR,KAAKG,8GAErE67D,GACGhrD,EAAQmD,MAAM9O,QAAU2L,EAAQmD,MAAMlC,SACvC,4CAEF,IAAI2tD,EAAQ,CACVv4B,GAAIr2B,EAAQmD,MAAMkzB,IAAMmkC,EAASr/C,KAAK,KACtC2zC,cAAe9uD,EAAQmD,MAAM2rD,cAC7B9uD,QAASA,EAAQmD,MAAMnD,QACvBkjB,UAAWljB,EAAQmD,MAAM+f,UACzB7uB,MAAO2L,EAAQmD,MAAM9O,MACrBq3D,KAAM1rD,EAAQmD,MAAMuoD,KACpBkN,OAAQ54D,EAAQmD,MAAMy1D,OACtBzkE,OAAQ6L,EAAQmD,MAAMhP,OACtBqkE,uBAAwBx4D,EAAQmD,MAAMq1D,uBACtCD,gBAAiBv4D,EAAQmD,MAAMo1D,gBAC/BR,aAAc/3D,EAAQmD,MAAM40D,aAC5BC,cAAeh4D,EAAQmD,MAAM60D,cAC7ByC,kBAAqD,IAAnCz6D,EAAQmD,MAAMs3D,kBAA4D,MAA/Bz6D,EAAQmD,MAAM60D,eAAuD,MAA9Bh4D,EAAQmD,MAAM40D,aAClH2C,iBAAkB16D,EAAQmD,MAAMu3D,iBAChCC,OAAQ36D,EAAQmD,MAAMw3D,OACtB1X,KAAMjjD,EAAQmD,MAAM8/C,MAElBjjD,EAAQmD,MAAMlC,WAChB2tD,EAAM3tD,SAAWs5D,GACfv6D,EAAQmD,MAAMlC,SACdu5D,IAGJnN,EAAO14D,KAAKi6D,EAAM,IAEbvB,CACT,CAUA,IAAIuN,GAAgB,MAChBC,GAAiB,oCACrB,SAASC,GAAcna,GACrB,OAAiB,MAAVA,GAA4C,kBAAnBA,EAAOrrD,OACzC,CAyCA,IAAIylE,GAA6B,KAgBjC,IAAIC,GAAwC,IAAIx+D,IAAI,CAClD,oCACA,sBACA,eAEF,SAASy+D,GAAetkB,GACtB,OAAe,MAAXA,GAAoBqkB,GAAsBj5D,IAAI40C,GAO3CA,GANLsU,GACE,EACA,IAAItU,wFAA8FkkB,OAE7F,KAGX,CACA,SAASK,GAAsBt4D,EAAQ4qD,GACrC,IAAIt5D,EACAC,EACAwiD,EACA1pB,EACAxtB,EACJ,GAzEOq7D,GADcna,EA0EH/9C,IAzE+C,SAAjC+9C,EAAOrrD,QAAQqI,cAyEpB,CACzB,IAAIw9D,EAAOv4D,EAAOk2B,aAAa,UAC/B3kC,EAASgnE,EAAOzN,EAAcyN,EAAM3N,GAAY,KAChDt5D,EAAS0O,EAAOk2B,aAAa,WAAa8hC,GAC1CjkB,EAAUskB,GAAer4D,EAAOk2B,aAAa,aAAe+hC,GAC5D5tC,EAAW,IAAI0lB,SAAS/vC,EAC1B,MAAO,GAnFT,SAAyB+9C,GACvB,OAAOma,GAAcna,IAA4C,WAAjCA,EAAOrrD,QAAQqI,aACjD,CAiFay9D,CAAgBx4D,IA7E7B,SAAwB+9C,GACtB,OAAOma,GAAcna,IAA4C,UAAjCA,EAAOrrD,QAAQqI,aACjD,CA2EwC09D,CAAez4D,KAA4B,WAAhBA,EAAO5T,MAAqC,UAAhB4T,EAAO5T,MAAmB,CACrH,IAAIuU,EAAOX,EAAOW,KAClB,GAAY,MAARA,EACF,MAAM,IAAItT,MACR,sEAGJ,IAAIkrE,EAAOv4D,EAAOk2B,aAAa,eAAiBv1B,EAAKu1B,aAAa,UAKlE,GAJA3kC,EAASgnE,EAAOzN,EAAcyN,EAAM3N,GAAY,KAChDt5D,EAAS0O,EAAOk2B,aAAa,eAAiBv1B,EAAKu1B,aAAa,WAAa8hC,GAC7EjkB,EAAUskB,GAAer4D,EAAOk2B,aAAa,iBAAmBmiC,GAAe13D,EAAKu1B,aAAa,aAAe+hC,GAChH5tC,EAAW,IAAI0lB,SAASpvC,EAAMX,IArDlC,WACE,GAAmC,OAA/Bm4D,GACF,IACE,IAAIpoB,SACF31C,SAASC,cAAc,QAEvB,GAEF89D,IAA6B,CAC/B,CAAE,MAAOr7D,GACPq7D,IAA6B,CAC/B,CAEF,OAAOA,EACT,CAwCSO,GAAgC,CACnC,IAAI,KAAEnsE,EAAI,KAAEH,EAAI,MAAE4C,GAAUgR,EAC5B,GAAa,UAAT5T,EAAkB,CACpB,IAAIU,EAASP,EAAO,GAAGA,KAAU,GACjC89B,EAASsuC,OAAO,GAAG7rE,KAAW,KAC9Bu9B,EAASsuC,OAAO,GAAG7rE,KAAW,IAChC,MAAWP,GACT89B,EAASsuC,OAAOpsE,EAAMyC,EAE1B,CACF,KAAO,IAAIkpE,GAAcl4D,GACvB,MAAM,IAAI3S,MACR,sFAGFiE,EAAS0mE,GACTzmE,EAAS,KACTwiD,EAAUkkB,GACVp7D,EAAOmD,CACT,CA/GF,IAAuB+9C,EAoHrB,OAJI1zB,GAAwB,eAAZ0pB,IACdl3C,EAAOwtB,EACPA,OAAW,GAEN,CAAE94B,SAAQD,OAAQA,EAAOyJ,cAAeg5C,UAAS1pB,WAAUxtB,OACpE,CAMA,SAAS+7D,GAAW5pE,EAAOiB,GACzB,IAAc,IAAVjB,GAA6B,OAAVA,GAAmC,qBAAVA,EAC9C,MAAM,IAAI3B,MAAM4C,EAEpB,CAGAuzC,eAAeq1B,GAAgB7M,EAAO8M,GACpC,GAAI9M,EAAMv4B,MAAMqlC,EACd,OAAOA,EAAkB9M,EAAMv4B,IAEjC,IACE,IAAIslC,QAAoBC,OAGtBhN,EAAM5O,QAGR,OADA0b,EAAkB9M,EAAMv4B,IAAMslC,EACvBA,CACT,CAAE,MAAOniD,GAUP,OATAgY,QAAQhY,MACN,gCAAgCo1C,EAAM5O,+BAExCxuB,QAAQhY,MAAMA,GACV/e,OAAOohE,sBAAwBphE,OAAOohE,qBAAqBC,UAI/DrhE,OAAOiQ,SAASqxD,SACT,IAAIp3B,SAAQ,QAErB,CACF,CAuEA,SAASq3B,GAAqBrb,GAC5B,OAAiB,MAAVA,GAAyC,kBAAhBA,EAAOsb,IACzC,CACA,SAASC,GAAqBvb,GAC5B,OAAc,MAAVA,IAGe,MAAfA,EAAOxvC,KACa,YAAfwvC,EAAO5nB,KAAmD,kBAAvB4nB,EAAO7H,aAAyD,kBAAtB6H,EAAO5H,WAEhE,kBAAf4H,EAAO5nB,KAA2C,kBAAhB4nB,EAAOxvC,KACzD,CAkBA,SAASgrD,GAAsBF,EAAMG,EAAaC,EAAgBC,EAAU5xD,EAAUgS,GACpF,IAAI6/C,EAAQA,CAACrsE,EAAOmE,KACbgoE,EAAehoE,IACbnE,EAAM0+D,MAAMv4B,KAAOgmC,EAAehoE,GAAOu6D,MAAMv4B,GAEpDmmC,EAAmBA,CAACtsE,EAAOmE,IAG3BgoE,EAAehoE,GAAOq2D,WAAax6D,EAAMw6D,UAEzC2R,EAAehoE,GAAOu6D,MAAMlD,MAAM3U,SAAS,MAAQslB,EAAehoE,GAAOu8D,OAAO,OAAS1gE,EAAM0gE,OAAO,KAG1G,MAAa,WAATl0C,EACK0/C,EAAYhM,QACjB,CAAClgE,EAAOmE,IAAUkoE,EAAMrsE,EAAOmE,IAAUmoE,EAAiBtsE,EAAOmE,KAGxD,SAATqoB,EACK0/C,EAAYhM,QAAO,CAAClgE,EAAOmE,KAChC,IAAIooE,EAAgBH,EAASjP,OAAOn9D,EAAM0+D,MAAMv4B,IAChD,IAAKomC,IAAkBA,EAAcC,UACnC,OAAO,EAET,GAAIH,EAAMrsE,EAAOmE,IAAUmoE,EAAiBtsE,EAAOmE,GACjD,OAAO,EAET,GAAInE,EAAM0+D,MAAM8L,iBAAkB,CAChC,IAAIiC,EAAczsE,EAAM0+D,MAAM8L,iBAAiB,CAC7CkC,WAAY,IAAIjQ,IACdjiD,EAASggD,SAAWhgD,EAASoD,OAASpD,EAASigD,KAC/ClwD,OAAOgyD,QAEToQ,cAAeR,EAAe,IAAIzL,QAAU,CAAC,EAC7CkM,QAAS,IAAInQ,IAAIsP,EAAMxhE,OAAOgyD,QAC9BsQ,WAAY7sE,EAAM0gE,OAClBoM,yBAAyB,IAE3B,GAA2B,mBAAhBL,EACT,OAAOA,CAEX,CACA,OAAO,CAAI,IAGR,EACT,CACA,SAASM,GAAmBh5B,EAASq4B,GAA2C,IAAjC,uBAAEY,GAAwBjwE,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,CAAC,EAC3E,OAqBmBkwE,EApBjBl5B,EAAQve,KAAKx1B,IACX,IAAI0+D,EAAQ0N,EAASjP,OAAOn9D,EAAM0+D,MAAMv4B,IACxC,IAAKu4B,EAAO,MAAO,GACnB,IAAIuO,EAAQ,CAACvO,EAAM5O,QAanB,OAZI4O,EAAMwO,qBACRD,EAAQA,EAAMzxC,OAAOkjC,EAAMwO,qBAEzBxO,EAAMyO,qBACRF,EAAQA,EAAMzxC,OAAOkjC,EAAMyO,qBAEzBH,GAA0BtO,EAAM0O,wBAClCH,EAAQA,EAAMzxC,OAAOkjC,EAAM0O,wBAEzB1O,EAAM2O,UACRJ,EAAQA,EAAMzxC,OAAOkjC,EAAM2O,UAEtBJ,CAAK,IACXK,KAAK,GAIH,IAAI,IAAIhhE,IAAI2gE,IADrB,IAAqBA,CADrB,CAYA,SAASM,GAAsBC,EAAaC,GAC1C,IAAI1sE,EAAsB,IAAIuL,IAC1BohE,EAAc,IAAIphE,IAAImhE,GAC1B,OAAOD,EAAYrN,QAAO,CAACwN,EAASr/D,KAElC,GAD2Bm/D,IAAa3B,GAAqBx9D,IAAiC,WAAlBA,EAAWm6C,IAAmBn6C,EAAW2S,MAAQysD,EAAY77D,IAAIvD,EAAW2S,MAEtJ,OAAO0sD,EAET,IAAItzD,EAAMwnD,KAAKC,UAhBnB,SAAkB9H,GAChB,IAAI4T,EAAS,CAAC,EACV7tD,EAAOlgB,OAAOkgB,KAAKi6C,GAAK2D,OAC5B,IAAK,IAAItjD,KAAO0F,EACd6tD,EAAOvzD,GAAO2/C,EAAI3/C,GAEpB,OAAOuzD,CACT,CAS6BC,CAASv/D,IAKlC,OAJKvN,EAAI8Q,IAAIwI,KACXtZ,EAAI6L,IAAIyN,GACRszD,EAAQlpE,KAAK,CAAE4V,MAAK+uC,KAAM96C,KAErBq/D,CAAO,GACb,GACL,CAwBA,SAASG,GAAWC,GAClB,MAAO,CAAErnB,OAAQqnB,EACnB,CA4BgCxwE,OAAO,uBAqRvC,SAASywE,GAAeC,EAAQ3Q,GAC9B,IAAIxgE,EAAwB,kBAAXmxE,EAAsB,IAAIxR,IACzCwR,EAGkB,qBAAX1jE,OAAyB,wBAA0BA,OAAOiQ,SAAS+hD,QACxE0R,EAQJ,MAPqB,MAAjBnxE,EAAI09D,SACN19D,EAAI09D,SAAW,aACN8C,GAAsD,MAA1CE,EAAc1gE,EAAI09D,SAAU8C,GACjDxgE,EAAI09D,SAAW,GAAG8C,EAASn7D,QAAQ,MAAO,iBAE1CrF,EAAI09D,SAAW,GAAG19D,EAAI09D,SAASr4D,QAAQ,MAAO,WAEzCrF,CACT,CAuHuCoxE,EAAAA,UA4BvC,SAASC,GAA6BC,GAGnC,IAHoC,MACrC9kD,EAAK,kBACL+kD,GACDD,EACC9sC,QAAQhY,MAAMA,GACd,IAeIglD,EAfAC,EAA+BL,EAAAA,cACjC,SACA,CACEhnB,wBAAyB,CACvBR,OAAQ,6OAQd,GAAI0c,EAAqB95C,GACvB,OAAuB4kD,EAAAA,cAAqBM,GAAe,CAAEzlC,MAAO,8BAAgDmlC,EAAAA,cAAqB,KAAM,CAAE18D,MAAO,CAAEi9D,SAAU,SAAYnlD,EAAMO,OAAQ,IAAKP,EAAM+5C,YAAakL,GAGxN,GAAIjlD,aAAiBvpB,MACnBuuE,EAAgBhlD,MACX,CACL,IAAIolD,EAAuB,MAATplD,EAAgB,gBAAmC,kBAAVA,GAAsB,aAAcA,EAAQA,EAAM1e,WAAai3D,KAAKC,UAAUx4C,GACzIglD,EAAgB,IAAIvuE,MAAM2uE,EAC5B,CACA,OAAuBR,EAAAA,cACrBM,GACA,CACEzlC,MAAO,qBACPslC,qBAEcH,EAAAA,cAAqB,KAAM,CAAE18D,MAAO,CAAEi9D,SAAU,SAAY,qBAC5DP,EAAAA,cACd,MACA,CACE18D,MAAO,CACLw1D,QAAS,OACT2H,WAAY,0BACZvxD,MAAO,MACPgpB,SAAU,SAGdkoC,EAAcruE,OAEhBsuE,EAEJ,CACA,SAASC,GAAaI,GAKnB,IALoB,MACrB7lC,EAAK,cACL8lC,EAAa,kBACbR,EAAiB,SACjBt9D,GACD69D,GACK,aAAEE,GAAiBC,KACvB,OAAID,EAAaxmE,MAAM0mE,SAAWX,EACzBt9D,EAEcm9D,EAAAA,cAAqB,OAAQ,CAAEe,KAAM,MAAwBf,EAAAA,cAAqB,OAAQ,KAAsBA,EAAAA,cAAqB,OAAQ,CAAE18B,QAAS,UAA4B08B,EAAAA,cACzM,OACA,CACEjvE,KAAM,WACNoyC,QAAS,0DAEM68B,EAAAA,cAAqB,QAAS,KAAMnlC,IAAyBmlC,EAAAA,cAAqB,OAAQ,KAAsBA,EAAAA,cAAqB,OAAQ,CAAE18D,MAAO,CAAE09D,WAAY,wBAAyBlI,QAAS,SAAYj2D,EAAU89D,EAAgCX,EAAAA,cAAqBiB,GAAS,MAAQ,OACvT,CA4aA,SAASC,GAAkBC,GACzB,OAAe,IAARA,CACT,CAqLA,SAASC,KACP,IAAI9pE,EAAU+pE,EAAAA,WAAkB9L,GAKhC,OAJA6H,GACE9lE,EACA,8EAEKA,CACT,CACA,SAASgqE,KACP,IAAIhqE,EAAU+pE,EAAAA,WAAkB7L,GAKhC,OAJA4H,GACE9lE,EACA,mFAEKA,CACT,CACA,IAAIiqE,GAAmBF,EAAAA,mBAAqB,GAE5C,SAASR,KACP,IAAIvpE,EAAU+pE,EAAAA,WAAkBE,IAKhC,OAJAnE,GACE9lE,EACA,kEAEKA,CACT,CA2DA,SAASkqE,GAAqBC,EAAcC,GAC1C,OAAQplE,IACNmlE,GAAgBA,EAAanlE,GACxBA,EAAMiL,kBACTm6D,EAAWplE,EACb,CAEJ,CACA,SAASqlE,GAAiB97B,EAAS+H,EAAQ8vB,GACzC,GAAIA,IAAckE,GAChB,MAAO,CAAC/7B,EAAQ,IAElB,GAAI+H,EAAQ,CACV,IAAIi0B,EAAWh8B,EAAQm0B,WAAWlf,QAA6B,IAAvBlN,EAAOkN,EAAE0V,MAAMv4B,MACvD,OAAO4N,EAAQlpC,MAAM,EAAGklE,EAAW,EACrC,CACA,OAAOh8B,CACT,CAaA,SAASi8B,GAAiBC,GAGvB,IAHwB,KACzBlE,KACGmE,GACJD,GACK,OAAErL,GAAW0K,KACbv7B,EAAUw7B,EAAAA,SACZ,IAAMrS,EAAY0H,EAAOzH,OAAQ4O,EAAMnH,EAAOtH,WAC9C,CAACsH,EAAOzH,OAAQ4O,EAAMnH,EAAOtH,WAE/B,OAAKvpB,EAGkBw7B,EAAAA,cAAqBY,GAAuB,CAAEpE,OAAMh4B,aAAYm8B,IAF9E,IAGX,CACA,SAASE,GAAsBr8B,GAC7B,IAAI,SAAEq4B,EAAQ,aAAE0C,GAAiBC,MAC5BsB,EAAoBC,GAAyBf,EAAAA,SAAgB,IAclE,OAbAA,EAAAA,WAAiB,KACf,IAAIgB,GAAc,EAQlB,OA94CJr6B,eAAqCnC,EAASq4B,EAAU0C,GAWtD,OAAOvB,UAVW94B,QAAQ+7B,IACxBz8B,EAAQve,KAAI0gB,UACV,IAAIwoB,EAAQ0N,EAASjP,OAAOn9D,EAAM0+D,MAAMv4B,IACxC,GAAIu4B,EAAO,CACT,IAAI+R,QAAYlF,GAAgB7M,EAAOoQ,GACvC,OAAO2B,EAAIC,MAAQD,EAAIC,QAAU,EACnC,CACA,MAAO,EAAE,MAILpD,KAAK,GAAGpN,OAAO8L,IAAsB9L,QAAQ9W,GAAsB,eAAbA,EAAKvgB,KAAqC,YAAbugB,EAAKvgB,MAAmBrT,KAC9G4zB,GAAsB,eAAbA,EAAKvgB,IAAuB,IAAKugB,EAAMvgB,IAAK,WAAY4f,GAAI,SAAY,IAAKW,EAAMvgB,IAAK,cAGxG,CAu3CS8nC,CAAsB58B,EAASq4B,EAAU0C,GAAcplD,MACzDgnD,IACMH,GACHD,EAAsBI,EACxB,IAGG,KACLH,GAAc,CAAI,CACnB,GACA,CAACx8B,EAASq4B,EAAU0C,IAChBuB,CACT,CACA,SAASF,GAAqBS,GAI3B,IAJ4B,KAC7B7E,EACAh4B,QAASm4B,KACN2E,GACJD,EACKp2D,EAAW+pD,KACX,SAAE6H,EAAQ,aAAE0C,GAAiBC,MAC7B,SAAEzR,GAAagS,MACf,WAAE/G,EAAU,QAAEx0B,GAAYy7B,KAC1BsB,EAAoBvB,EAAAA,SACtB,IAAMtD,GACJF,EACAG,EACAn4B,EACAq4B,EACA5xD,EACA,SAEF,CAACuxD,EAAMG,EAAan4B,EAASq4B,EAAU5xD,IAErCu2D,EAAsBxB,EAAAA,SACxB,IAAMtD,GACJF,EACAG,EACAn4B,EACAq4B,EACA5xD,EACA,WAEF,CAACuxD,EAAMG,EAAan4B,EAASq4B,EAAU5xD,IAErCw2D,EAAYzB,EAAAA,SAAe,KAC7B,GAAIxD,IAASvxD,EAASggD,SAAWhgD,EAASoD,OAASpD,EAASigD,KAC1D,MAAO,GAET,IAAIwW,EAA+B,IAAI3kE,IACnC4kE,GAAmB,EAcvB,GAbAhF,EAAYn+C,SAASi7B,IACnB,IAAIujB,EAAgBH,EAASjP,OAAOnU,EAAE0V,MAAMv4B,IACvComC,GAAkBA,EAAcC,aAGhCsE,EAAkB7Q,MAAMkR,GAAOA,EAAGzS,MAAMv4B,KAAO6iB,EAAE0V,MAAMv4B,MAAO6iB,EAAE0V,MAAMv4B,MAAMoiC,GAAcuG,EAAa9lB,EAAE0V,MAAMv4B,KAAKqkC,kBAE9G+B,EAAc6E,gBADvBF,GAAmB,EAInBD,EAAarkE,IAAIo8C,EAAE0V,MAAMv4B,IAC3B,IAEwB,IAAtB8qC,EAAa17C,KACf,MAAO,GAET,IAAIz4B,EAAMkxE,GAAejC,EAAMzO,GAO/B,OANI4T,GAAoBD,EAAa17C,KAAO,GAC1Cz4B,EAAIu0E,aAAatwE,IACf,UACAmrE,EAAYhM,QAAQlX,GAAMioB,EAAap/D,IAAIm3C,EAAE0V,MAAMv4B,MAAK3Q,KAAKwzB,GAAMA,EAAE0V,MAAMv4B,KAAIlb,KAAK,MAGjF,CAACnuB,EAAI09D,SAAW19D,EAAI8gB,OAAO,GACjC,CACD0/C,EACAiL,EACA/tD,EACA4xD,EACA0E,EACA5E,EACAH,EACA+C,IAEEwC,EAAc/B,EAAAA,SAChB,IAAMxC,GAAmBgE,EAAqB3E,IAC9C,CAAC2E,EAAqB3E,IAEpBiE,EAAqBD,GAAsBW,GAC/C,OAAuBxB,EAAAA,cAAqBA,EAAAA,SAAiB,KAAMyB,EAAUx7C,KAAKgnC,GAA0B+S,EAAAA,cAAqB,OAAQ,CAAEl1D,IAAKmiD,EAAO3zB,IAAK,WAAY4f,GAAI,QAASxnC,KAAMu7C,KAAUqU,MAAeS,EAAY97C,KAAKgnC,GAA0B+S,EAAAA,cAAqB,OAAQ,CAAEl1D,IAAKmiD,EAAO3zB,IAAK,gBAAiB5nB,KAAMu7C,KAAUqU,MAAeR,EAAmB76C,KAAI+7C,IAAA,IAAC,IAAEl3D,EAAG,KAAE+uC,GAAMmoB,EAAA,OAGlXhC,EAAAA,cAAqB,OAAQ,CAAEl1D,SAAQ+uC,GAAO,IAElE,CAlNAqmB,GAAiBzwE,YAAc,mBAwT/B,IAAI8wE,IAAa,EACjB,SAASX,GAAQl8D,GACf,IAAI,SAAEm5D,EAAQ,oBAAEoF,EAAmB,UAAE5F,EAAS,IAAEyD,EAAG,WAAEoC,GAAe1C,MAChE,OAAEnK,EAAQF,OAAQoB,EAAQ,cAAE8B,GAAkB0H,MAC5Cv7B,QAAS29B,GAAkBlC,KAC7BmC,EAAiBvC,GAAkBC,GACnCoC,IACFA,EAAWG,kBAAmB,GAEhC,IAAI79B,EAAU87B,GAAiB6B,EAAe,KAAM9F,GACpD2D,EAAAA,WAAiB,KACfO,IAAa,CAAI,GAChB,IACH,IAAI+B,EAAiBtC,EAAAA,SAAe,KAClC,IACIuC,EAAgBlK,EAAgB,iCAAiC4J,mLAAwC,IACzGO,EAAsBjM,EAAiB,GAAGsG,EAAS4F,KAAKC,QAAU,UAAUpQ,KAAKC,UAAUsK,EAAS4F,IAAIC,YAAc,KAAMN,EAA4D,GAA3C,UAAU9P,KAAKC,UAAUsK,EAAStvE,YACrLi3C,EAAQve,KAAI,CAACx1B,EAAOkyE,KAChB,IAAIC,EAAe,QAAQD,IACvBE,EAAgBhG,EAASjP,OAAOn9D,EAAM0+D,MAAMv4B,IAChDmlC,GAAW8G,EAAe,SAASpyE,EAAM0+D,MAAMv4B,4BAC/C,IAAI,mBACF+mC,EAAkB,mBAClBC,EAAkB,sBAClBC,EAAqB,OACrBtd,GACEsiB,EACAC,EAAS,IACRnF,EAAqB,CACtB,CACEpd,OAAQod,EACRoF,QAAS,GAAGH,mBAEZ,MACDhF,EAAqB,CACtB,CACErd,OAAQqd,EACRmF,QAAS,GAAGH,mBAEZ,MACD/E,EAAwB,CACzB,CACEtd,OAAQsd,EACRkF,QAAS,GAAGH,sBAEZ,GACJ,CAAEriB,SAAQwiB,QAAS,GAAGH,WAExB,OAAsB,IAAlBE,EAAOr1E,OACF,eAAem1E,UAAqBtQ,KAAKC,UAAUhS,MAIrD,CAFmBuiB,EAAO78C,KAAK+8C,GAAU,eAAeA,EAAMD,iBAAiBC,EAAMziB,aAAY7kC,KAAK,MACnF,SAASknD,QAAmBE,EAAO78C,KAAK+8C,GAAU,MAAMA,EAAMD,YAAWrnD,KAAK,UACtDA,KAAK,KAAK,IAC3DA,KAAK,YACR0mD,EAEE,kCAAkC9P,KAAKC,UAtjB7C,SAA4BsK,EAAUxH,GACpC,IAAI4N,EAAW,IAAIlmE,IAAIs4D,EAAOn1C,MAAMskB,QAAQve,KAAKwzB,GAAMA,EAAE0V,MAAMv4B,MAC3D+4B,EAAW0F,EAAOn1C,MAAMjV,SAASggD,SAASz4D,MAAM,KAAKm+D,OAAOuS,SAC5DtP,EAAQ,CAAC,KAEb,IADAjE,EAAS36D,MACF26D,EAASliE,OAAS,GACvBmmE,EAAM1+D,KAAK,IAAIy6D,EAASj0C,KAAK,QAC7Bi0C,EAAS36D,MAEX4+D,EAAMp1C,SAASytC,IACb,IAAIznB,EAAUmpB,EAAY0H,EAAOzH,OAAQ3B,EAAMoJ,EAAOtH,UAClDvpB,GACFA,EAAQhmB,SAASi7B,GAAMwpB,EAAS5lE,IAAIo8C,EAAE0V,MAAMv4B,KAC9C,IAEF,IAAIusC,EAAgB,IAAIF,GAAUrS,QAChC,CAACwS,EAAKxsC,IAAOtmC,OAAOD,OAAO+yE,EAAK,CAAE,CAACxsC,GAAKimC,EAASjP,OAAOh3B,MACxD,CAAC,GAEH,MAAO,IACFimC,EACHjP,OAAQuV,EAEZ,CAgiBQE,CAAmBxG,EAAUxH,GAC7B,KACA,MAEA,6CACgC7wB,EAAQve,KAAI,CAACx1B,EAAOmE,IAAU,GAAG09D,KAAKC,UAAU9hE,EAAM0+D,MAAMv4B,YAAYhiC,MAAS8mB,KAAK,oBAErH42C,KAAKC,UAAUsK,EAASyG,MAAM/iB,YAjDE,IAkDrC,OAAuByf,EAAAA,cAAqBA,EAAAA,SAAiB,KAAsBA,EAAAA,cACjF,SACA,IACKt8D,EACHsV,0BAA0B,EAC1B2+B,wBAAyB4mB,GAAWgE,GACpChzE,UAAM,IAESywE,EAAAA,cACjB,SACA,IACKt8D,EACHsV,0BAA0B,EAC1B2+B,wBAAyB4mB,GAAWiE,GACpCjzE,KAAM,SACNo3C,OAAO,IAET,GACD,IACCu3B,EAAWqC,GAAa,GAAK1D,EAASyG,MAAMxF,QAAQ7xC,OACtDuxC,GAAmBh5B,EAASq4B,EAAU,CACpCY,wBAAwB,KAG5B,OAAO8C,GAAa,KAAuBP,EAAAA,cAAqBA,EAAAA,SAAiB,KAAOoC,EAOpF,KAPqHpC,EAAAA,cACvH,OACA,CACE1mC,IAAK,gBACL5nB,KAAMmrD,EAAStvE,IACfgsC,YAAa71B,EAAM61B,cAEGymC,EAAAA,cACxB,OACA,CACE1mC,IAAK,gBACL5nB,KAAMmrD,EAASyG,MAAM/iB,OACrBhnB,YAAa71B,EAAM61B,eAYTrT,EAVJg4C,EAWH,IAAI,IAAInhE,IAAImpB,KAXCD,KAAKgmC,GAAyB+T,EAAAA,cAChD,OACA,CACEl1D,IAAKmhD,EACL3yB,IAAK,gBACL5nB,KAAMu6C,EACN1yB,YAAa71B,EAAM61B,gBAEnB+oC,GAEN,IAAgBp8C,CADhB,CAIA,SAASq9C,KAAmB,QAAAC,EAAAh2E,UAAAC,OAANqnC,EAAI,IAAA5gC,MAAAsvE,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ3uC,EAAI2uC,GAAAj2E,UAAAi2E,GACxB,OAAQtxE,IACN2iC,EAAKtW,SAASlD,IACO,oBAARA,EACTA,EAAInpB,GACY,MAAPmpB,IACTA,EAAIvmB,QAAU5C,EAChB,GACA,CAEN,CAGA,IAAIuxE,GAA8B,qBAAX1oE,QAAqD,qBAApBA,OAAOuC,UAAqE,qBAAlCvC,OAAOuC,SAASC,cAClH,IACMkmE,KACF1oE,OAAO2oE,qBAAuB,QAElC,CAAE,MAAO1jE,IACT,CA0EA,SAAS2jE,GAAaC,GAInB,IAJoB,SACrB9V,EAAQ,SACRvsD,EACAxG,OAAQ+vD,GACT8Y,EACKC,EAAaC,EAAAA,SACS,MAAtBD,EAAW/uE,UACb+uE,EAAW/uE,QAAU81D,EAAqB,CAAE7vD,OAAQ+vD,EAASyB,UAAU,KAEzE,IAAIC,EAAUqX,EAAW/uE,SACpBmrB,EAAO8jD,GAAgBD,EAAAA,SAAiB,CAC3CrvE,OAAQ+3D,EAAQ/3D,OAChBuW,SAAUwhD,EAAQxhD,WAEhBie,EAAW66C,EAAAA,aACZh3D,IACCg3D,EAAAA,iBAAwB,IAAMC,EAAaj3D,IAAU,GAEvD,CAACi3D,IAGH,OADAD,EAAAA,iBAAwB,IAAMtX,EAAQW,OAAOlkC,IAAW,CAACujC,EAASvjC,IAC3C66C,EAAAA,cACrB3J,GACA,CACErM,WACAvsD,WACAyJ,SAAUiV,EAAMjV,SAChBmsD,eAAgBl3C,EAAMxrB,OACtBmhE,UAAWpJ,GAGjB,CAyDA,IAAIwX,GAAsB,gCACtBC,GAAOH,EAAAA,YACT,SAAoBI,EAajBC,GAAc,IAGXC,GAhBe,QACnBhrD,EAAO,SACPirD,EAAW,SAAQ,SACnBC,EAAW,OAAM,SACjBtO,EAAQ,eACRuO,EACA5xE,QAAS6xE,EAAQ,MACjBvkD,EAAK,OACL/c,EAAM,GACNkoD,EAAE,mBACFqZ,EAAkB,eAClBC,KACG/U,GACJuU,GACK,SAAEpW,GAAagW,EAAAA,WAAmBvP,GAClCoQ,EAA2B,kBAAPvZ,GAAmB4Y,GAAoBlmE,KAAKstD,GAEhEwZ,GAAa,EACjB,GAAkB,kBAAPxZ,GAAmBuZ,IAC5BP,EAAehZ,EACXqY,IACF,IACE,IAAIvG,EAAa,IAAIjQ,IAAIlyD,OAAOiQ,SAASyG,MACrCozD,EAAYzZ,EAAGiE,WAAW,MAAQ,IAAIpC,IAAIiQ,EAAW4H,SAAW1Z,GAAM,IAAI6B,IAAI7B,GAC9EY,EAAOgC,EAAc6W,EAAU7Z,SAAU8C,GACzC+W,EAAU9X,SAAWmQ,EAAWnQ,QAAkB,MAARf,EAC5CZ,EAAKY,EAAO6Y,EAAUz2D,OAASy2D,EAAU5Z,KAEzC2Z,GAAa,CAEjB,CAAE,MAAO5kE,IACPurD,GACE,EACA,aAAaH,0GAEjB,CAGJ,IAAI4B,EA3uGR,SAAiB5B,GAAuB,IAAnB,SAAE4K,GAAUzoE,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,CAAC,EACnC+9D,EACEuJ,IAGA,sEAEF,IAAI,SAAE/G,EAAU8H,UAAWC,GAAef,EAAAA,WAAkBP,IACxD,KAAEtJ,EAAI,SAAED,EAAQ,OAAE58C,GAAW8nD,GAAgB9K,EAAI,CAAE4K,aACnD+O,EAAiB/Z,EAIrB,MAHiB,MAAb8C,IACFiX,EAA8B,MAAb/Z,EAAmB8C,EAAWwB,EAAU,CAACxB,EAAU9C,KAE/D6K,EAAWzI,WAAW,CAAEpC,SAAU+Z,EAAgB32D,SAAQ68C,QACnE,CA6tGgB+Z,CAAQ5Z,EAAI,CAAE4K,cACrBiP,EAAgBC,EAAaC,GAloBtC,SAA6Bb,EAAUc,GACrC,IAAIC,EAAmBtF,EAAAA,WAAkBE,KACpCqF,EAAeC,GAAoBxF,EAAAA,UAAgB,IACnDkF,EAAgBO,GAAqBzF,EAAAA,UAAgB,IACtD,QAAE0F,EAAO,OAAEC,EAAM,aAAEC,EAAY,aAAEC,EAAY,aAAEC,GAAiBT,EAChE/pD,EAAM0kD,EAAAA,OAAc,MACxBA,EAAAA,WAAiB,KAIf,GAHiB,WAAbuE,GACFkB,GAAkB,GAEH,aAAblB,EAAyB,CAC3B,IAKIwB,EAAW,IAAIC,sBALHC,IACdA,EAAQznD,SAAS8kD,IACfmC,EAAkBnC,EAAM4C,eAAe,GACvC,GAE8C,CAAEC,UAAW,KAE/D,OADI7qD,EAAIvmB,SAASgxE,EAASK,QAAQ9qD,EAAIvmB,SAC/B,KACLgxE,EAASM,YAAY,CAEzB,IACC,CAAC9B,IACJvE,EAAAA,WAAiB,KACf,GAAIuF,EAAe,CACjB,IAAI3uC,EAAKpE,YAAW,KAClBizC,GAAkB,EAAK,GACtB,KACH,MAAO,KACLl4B,aAAa3W,EAAG,CAEpB,IACC,CAAC2uC,IACJ,IAAIe,EAAYA,KACdd,GAAiB,EAAK,EAEpBe,EAAeA,KACjBf,GAAiB,GACjBC,GAAkB,EAAM,EAE1B,OAAKH,EAGY,WAAbf,EACK,CAACW,EAAgB5pD,EAAK,CAAC,GAEzB,CACL4pD,EACA5pD,EACA,CACEoqD,QAASvF,GAAqBuF,EAASY,GACvCX,OAAQxF,GAAqBwF,EAAQY,GACrCX,aAAczF,GAAqByF,EAAcU,GACjDT,aAAc1F,GAAqB0F,EAAcU,GACjDT,aAAc3F,GAAqB2F,EAAcQ,KAb5C,EAAC,EAAOhrD,EAAK,CAAC,EAgBzB,CAykB0DkrD,CACpDjC,EACA3U,GAEE6W,EA8NR,SAA6Bpb,GAOrB,IAPyB,OAC/BloD,EACAvQ,QAAS8zE,EAAW,MACpBxmD,EAAK,mBACLwkD,EAAkB,SAClBzO,EAAQ,eACR0O,GACDn3E,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,CAAC,EACCioE,EAAWL,KACXnqD,EAAW+pD,IACX/I,EAAOkK,GAAgB9K,EAAI,CAAE4K,aACjC,OAAO8N,EAAAA,aACJ9oE,IACC,GAl3EN,SAAgCA,EAAOkI,GACrC,OAAwB,IAAjBlI,EAAMqN,UACXnF,GAAqB,UAAXA,KALd,SAAyBlI,GACvB,SAAUA,EAAMkN,SAAWlN,EAAMiN,QAAUjN,EAAM+M,SAAW/M,EAAMgN,SACpE,CAIG0+D,CAAgB1rE,EACnB,CA82EU2rE,CAAuB3rE,EAAOkI,GAAS,CACzClI,EAAMoL,iBACN,IAAIo+D,OAA2B,IAAhBiC,EAAyBA,EAAcpb,EAAWrgD,KAAcqgD,EAAWW,GAC1FwJ,EAASpK,EAAI,CACXz4D,QAAS6xE,EACTvkD,QACAwkD,qBACAzO,WACA0O,kBAEJ,IAEF,CACE15D,EACAwqD,EACAxJ,EACAya,EACAxmD,EACA/c,EACAkoD,EACAqZ,EACAzO,EACA0O,GAGN,CApQ0BkC,CAAoBxb,EAAI,CAC5Cz4D,QAAS6xE,EACTvkD,QACA/c,SACAuhE,qBACAzO,WACA0O,mBAQF,IAAI9qB,EAEckqB,EAAAA,cACd,IACA,IACKnU,KACAwV,EACH1zD,KAAM2yD,GAAgBpX,EACtB5zC,QAASwrD,GAAcL,EAAiBnrD,EAd9C,SAAqBpe,GACfoe,GAASA,EAAQpe,GAChBA,EAAMiL,kBACTugE,EAAgBxrE,EAEpB,EAUMqgB,IAAKioD,GAAUa,EAAce,GAC7BhiE,SACA,gBAAkByhE,GAA2B,WAAbN,OAAiC,EAAT,SAI9D,OAAOY,IAAmBN,EAA6Bb,EAAAA,cAAsBA,EAAAA,SAAkB,KAAMlqB,EAAsBkqB,EAAAA,cAAsBtD,GAAmB,CAAEjE,KAAMvP,KAAYpT,CAC1L,IAEFqqB,GAAKz0E,YAAc,OACnB,IAAIq3E,GAAU/C,EAAAA,YACZ,SAAuBgD,EAUpBzrD,GAAK,IATN,eAAgB0rD,EAAkB,OAAM,cACxC3X,GAAgB,EAChB4X,UAAWC,EAAgB,GAAE,IAC7BtiE,GAAM,EACN3C,MAAO6R,EAAS,GAChBu3C,EAAE,eACFsZ,EAAc,SACdnjE,KACGouD,GACJmX,EACK9a,EAAOkK,GAAgB9K,EAAI,CAAE4K,SAAUrG,EAAKqG,WAC5ChrD,EAAW+pD,IACXmS,EAAcpD,EAAAA,WAAmB5P,IAC/B0B,UAAWC,EAAU,SAAE/H,GAAagW,EAAAA,WAAmBvP,GACzDH,EAAiC,MAAf8S,GAghB1B,SAAgC9b,GAAe,IAAX+b,EAAI55E,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,CAAC,EACtC65E,EAAYtD,EAAAA,WAAmB3P,GACnC7I,EACe,MAAb8b,EACA,0JAEF,IAAI,SAAEtZ,GAAauZ,GACjB,0BAEErb,EAAOkK,GAAgB9K,EAAI,CAAE4K,SAAUmR,EAAKnR,WAChD,IAAKoR,EAAUhT,gBACb,OAAO,EAET,IAAIkT,EAActZ,EAAcoZ,EAAUG,gBAAgBvc,SAAU8C,IAAasZ,EAAUG,gBAAgBvc,SACvGwc,EAAWxZ,EAAcoZ,EAAUK,aAAazc,SAAU8C,IAAasZ,EAAUK,aAAazc,SAClG,OAA6C,MAAtCiG,EAAUjF,EAAKhB,SAAUwc,IAA8D,MAAzCvW,EAAUjF,EAAKhB,SAAUsc,EAChF,CA9hBII,CAAuB1b,KAA4B,IAAnB0Y,EAC5BzR,EAAa4C,EAAWxI,eAAiBwI,EAAWxI,eAAerB,GAAMhB,SAAWgB,EAAKhB,SACzF6H,EAAmB7nD,EAASggD,SAC5B2c,EAAuBT,GAAeA,EAAYU,YAAcV,EAAYU,WAAW58D,SAAWk8D,EAAYU,WAAW58D,SAASggD,SAAW,KAC5IoE,IACHyD,EAAmBA,EAAiB50D,cACpC0pE,EAAuBA,EAAuBA,EAAqB1pE,cAAgB,KACnFg1D,EAAaA,EAAWh1D,eAEtB0pE,GAAwB7Z,IAC1B6Z,EAAuB3Z,EAAc2Z,EAAsB7Z,IAAa6Z,GAE1E,MAAME,EAAkC,MAAf5U,GAAsBA,EAAW5b,SAAS,KAAO4b,EAAWzlE,OAAS,EAAIylE,EAAWzlE,OAC7G,IAQIw5E,EARAc,EAAWjV,IAAqBI,IAAetuD,GAAOkuD,EAAiBxD,WAAW4D,IAA6D,MAA9CJ,EAAiB9G,OAAO8b,GACzHE,EAAoC,MAAxBJ,IAAiCA,IAAyB1U,IAAetuD,GAAOgjE,EAAqBtY,WAAW4D,IAAkE,MAAnD0U,EAAqB5b,OAAOkH,EAAWzlE,SAClLw6E,EAAc,CAChBF,WACAC,YACA3T,mBAEE6T,EAAcH,EAAWf,OAAkB,EAG7CC,EAD2B,oBAAlBC,EACGA,EAAce,GAEd,CACVf,EACAa,EAAW,SAAW,KACtBC,EAAY,UAAY,KACxB3T,EAAkB,gBAAkB,MACpC1D,OAAOuS,SAASxnD,KAAK,KAEzB,IAAIzZ,EAA6B,oBAAd6R,EAA2BA,EAAUm0D,GAAen0D,EACvE,OAAuBiwD,EAAAA,cACrBG,GACA,IACKtU,EACH,eAAgBsY,EAChBjB,YACA3rD,MACArZ,QACAopD,KACAsZ,kBAEkB,oBAAbnjE,EAA0BA,EAASymE,GAAezmE,EAE7D,IAEFslE,GAAQr3E,YAAc,UACtB,IAAI04E,GAAOpE,EAAAA,YACT,CAAAqE,EAcGhE,KAAiB,IAdnB,SACCE,EAAW,SAAQ,WACnB+D,EAAU,SACV5S,EAAQ,eACR+O,EACA5xE,QAAS6xE,EAAQ,MACjBvkD,EAAK,OACLzrB,EAAS0mE,GAAa,OACtBzmE,EAAM,SACN4zE,EAAQ,SACRrS,EAAQ,mBACRyO,EAAkB,eAClBC,KACGjhE,GACJ0kE,EACKG,EAASC,KACTvyB,EAyNR,SAAuBvhD,GAA2B,IAAnB,SAAEuhE,GAAUzoE,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,CAAC,GACzC,SAAEugE,GAAagW,EAAAA,WAAmBvP,GAClC0D,EAAe6L,EAAAA,WAAmBrP,GACtCnJ,EAAU2M,EAAc,oDACxB,IAAKznE,GAASynE,EAAa1zB,QAAQlpC,OAAO,GACtC2wD,EAAO,IAAKkK,GAAgBzhE,GAAkB,IAAK,CAAEuhE,cACrDhrD,EAAW+pD,IACf,GAAc,MAAVtgE,EAAgB,CAClBu3D,EAAK59C,OAASpD,EAASoD,OACvB,IAAI8iD,EAAS,IAAIsX,gBAAgBxc,EAAK59C,QAClCq6D,EAAcvX,EAAOwX,OAAO,SAC5BC,EAAqBF,EAAYhY,MAAMuB,GAAY,KAANA,IACjD,GAAI2W,EAAoB,CACtBzX,EAAO5yC,OAAO,SACdmqD,EAAY/X,QAAQsB,GAAMA,IAAGzzC,SAASyzC,GAAMd,EAAO2K,OAAO,QAAS7J,KACnE,IAAI4W,EAAK1X,EAAO91D,WAChB4wD,EAAK59C,OAASw6D,EAAK,IAAIA,IAAO,EAChC,CACF,CACMn0E,GAAqB,MAAXA,IAAmBjE,EAAM0+D,MAAMv6D,QAC7Cq3D,EAAK59C,OAAS49C,EAAK59C,OAAS49C,EAAK59C,OAAOzb,QAAQ,MAAO,WAAa,UAErD,MAAbm7D,IACF9B,EAAKhB,SAA6B,MAAlBgB,EAAKhB,SAAmB8C,EAAWwB,EAAU,CAACxB,EAAU9B,EAAKhB,YAE/E,OAAOK,EAAWW,EACpB,CAnPqB6c,CAAcp0E,EAAQ,CAAEuhE,aACrCjf,EAAsC,QAAzBviD,EAAOyJ,cAA0B,MAAQ,OACtD0mE,EAA+B,kBAAXlwE,GAAuBuvE,GAAoBlmE,KAAKrJ,GAkBxE,OAAuBqvE,EAAAA,cACrB,OACA,CACEzoD,IAAK8oD,EACL3vE,OAAQuiD,EACRtiD,OAAQuhD,EACRqyB,SAAU9D,EAAiB8D,EAvBVrtE,IAEnB,GADAqtE,GAAYA,EAASrtE,GACjBA,EAAMiL,iBAAkB,OAC5BjL,EAAMoL,iBACN,IAAI2sC,EAAY/3C,EAAMiI,YAAY8vC,UAC9B+1B,EAAe/1B,GAAW3Z,aAAa,eAAiB5kC,EAC5D8zE,EAAOv1B,GAAa/3C,EAAM+K,cAAe,CACvCqiE,aACA5zE,OAAQs0E,EACRtT,WACA7iE,QAAS6xE,EACTvkD,QACA+1C,WACAyO,qBACAC,kBACA,KASGjhE,EACH,gBAAkBkhE,GAA2B,WAAbN,OAAiC,EAAT,QAE3D,IA8DL,SAAS0E,GAA2BvP,GAClC,MAAO,GAAGA,qGACZ,CACA,SAAS6N,GAAsB7N,GAC7B,IAAIC,EAAMqK,EAAAA,WAAmB7P,GAE7B,OADA3I,EAAUmO,EAAKsP,GAA2BvP,IACnCC,CACT,CAlEAyO,GAAK14E,YAAc,OAgJnB,IAAIw5E,GAAY,EACZC,GAAqBA,IAAM,KAAKn+D,SAASk+D,QAC7C,SAAST,KACP,IAAI,OAAEnT,GAAWiS,GAAsB,cACnC,SAAEvZ,GAAagW,EAAAA,WAAmBvP,GAClC2U,EAhmGG5T,GAAkB,cAimGzB,OAAOwO,EAAAA,aACLp9B,eAAOxjC,GAAyB,IAAjBjC,EAAO1T,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,CAAC,GACpB,OAAEkH,EAAM,OAAED,EAAM,QAAEyiD,EAAO,SAAE1pB,EAAQ,KAAExtB,GAASy7D,GAChDt4D,EACA4qD,GAEF,IAAyB,IAArB7sD,EAAQu0D,SAAoB,CAC9B,IAAI3qD,EAAM5J,EAAQmnE,YAAca,WAC1B7T,EAAO+T,MAAMt+D,EAAKq+D,EAAgBjoE,EAAQxM,QAAUA,EAAQ,CAChEgwE,mBAAoBxjE,EAAQwjE,mBAC5Bl3C,WACAxtB,OACAg3C,WAAY91C,EAAQzM,QAAUA,EAC9BsiD,YAAa71C,EAAQg2C,SAAWA,EAChC6N,UAAW7jD,EAAQ6jD,WAEvB,YACQsQ,EAAOI,SAASv0D,EAAQxM,QAAUA,EAAQ,CAC9CgwE,mBAAoBxjE,EAAQwjE,mBAC5Bl3C,WACAxtB,OACAg3C,WAAY91C,EAAQzM,QAAUA,EAC9BsiD,YAAa71C,EAAQg2C,SAAWA,EAChCtkD,QAASsO,EAAQtO,QACjBstB,MAAOhf,EAAQgf,MACfw1C,YAAayT,EACbpkB,UAAW7jD,EAAQ6jD,UACnB4f,eAAgBzjE,EAAQyjE,gBAG9B,GACA,CAACtP,EAAQtH,EAAUob,GAEvB,CAgsBc,IAAIE,YC5jRlB,MAAMC,GAAeh5E,OAAO86B,OAAO,MACnCk+C,GAAmB,KAAI,IACvBA,GAAoB,MAAI,IACxBA,GAAmB,KAAI,IACvBA,GAAmB,KAAI,IACvBA,GAAsB,QAAI,IAC1BA,GAAsB,QAAI,IAC1BA,GAAmB,KAAI,IACvB,MAAMC,GAAuBj5E,OAAO86B,OAAO,MAC3C96B,OAAOkgB,KAAK84D,IAAc9qD,SAAS1T,IAC/By+D,GAAqBD,GAAax+D,IAAQA,CAAG,IAEjD,MAAM0+D,GAAe,CAAEj6E,KAAM,QAASiF,KAAM,gBCXtCi1E,GAAiC,oBAATC,MACT,qBAATA,MACqC,6BAAzCp5E,OAAOiB,UAAU8J,SAAS1J,KAAK+3E,MACjCC,GAA+C,oBAAhBC,YAE/BC,GAAUpf,GACyB,oBAAvBmf,YAAYC,OACpBD,YAAYC,OAAOpf,GACnBA,GAAOA,EAAIqf,kBAAkBF,YAEjCG,GAAeA,CAAAhe,EAAiBie,EAAgB59C,KAAa,IAA7C,KAAE78B,EAAI,KAAEiF,GAAMu3D,EAChC,OAAI0d,IAAkBj1E,aAAgBk1E,KAC9BM,EACO59C,EAAS53B,GAGTy1E,GAAmBz1E,EAAM43B,GAG/Bu9C,KACJn1E,aAAgBo1E,aAAeC,GAAOr1E,IACnCw1E,EACO59C,EAAS53B,GAGTy1E,GAAmB,IAAIP,KAAK,CAACl1E,IAAQ43B,GAI7CA,EAASk9C,GAAa/5E,IAASiF,GAAQ,IAAI,EAEhDy1E,GAAqBA,CAACz1E,EAAM43B,KAC9B,MAAM89C,EAAa,IAAIC,WAKvB,OAJAD,EAAW9kC,OAAS,WAChB,MAAMtD,EAAUooC,EAAWj9C,OAAOz6B,MAAM,KAAK,GAC7C45B,EAAS,KAAO0V,GAAW,IAC/B,EACOooC,EAAWE,cAAc51E,EAAK,EAEzC,SAASkuD,GAAQluD,GACb,OAAIA,aAAgB61E,WACT71E,EAEFA,aAAgBo1E,YACd,IAAIS,WAAW71E,GAGf,IAAI61E,WAAW71E,EAAKs1E,OAAQt1E,EAAK81E,WAAY91E,EAAK+1E,WAEjE,CACA,IAAIC,GClDJ,MAAMC,GAAQ,mEAERC,GAA+B,qBAAfL,WAA6B,GAAK,IAAIA,WAAW,KACvE,IAAK,IAAI18E,GAAI,EAAGA,GAAI88E,GAAc98E,KAC9B+8E,GAAOD,GAAMpqE,WAAW1S,KAAMA,GAE3B,MCLDg8E,GAA+C,oBAAhBC,YACxBe,GAAeA,CAACC,EAAeC,KACxC,GAA6B,kBAAlBD,EACP,MAAO,CACHr7E,KAAM,UACNiF,KAAMs2E,GAAUF,EAAeC,IAGvC,MAAMt7E,EAAOq7E,EAAc5e,OAAO,GAClC,GAAa,MAATz8D,EACA,MAAO,CACHA,KAAM,UACNiF,KAAMu2E,GAAmBH,EAAc9e,UAAU,GAAI+e,IAI7D,OADmBtB,GAAqBh6E,GAIjCq7E,EAAcn9E,OAAS,EACxB,CACE8B,KAAMg6E,GAAqBh6E,GAC3BiF,KAAMo2E,EAAc9e,UAAU,IAEhC,CACEv8D,KAAMg6E,GAAqBh6E,IARxBi6E,EASN,EAEHuB,GAAqBA,CAACv2E,EAAMq2E,KAC9B,GAAIlB,GAAuB,CACvB,MAAM9a,EDTSmc,KACnB,IAA8Dr9E,EAAUs9E,EAAUC,EAAUC,EAAUC,EAAlGC,EAA+B,IAAhBL,EAAOv9E,OAAe69E,EAAMN,EAAOv9E,OAAWsN,EAAI,EACnC,MAA9BiwE,EAAOA,EAAOv9E,OAAS,KACvB49E,IACkC,MAA9BL,EAAOA,EAAOv9E,OAAS,IACvB49E,KAGR,MAAME,EAAc,IAAI3B,YAAYyB,GAAeG,EAAQ,IAAInB,WAAWkB,GAC1E,IAAK59E,EAAI,EAAGA,EAAI29E,EAAK39E,GAAK,EACtBs9E,EAAWP,GAAOM,EAAO3qE,WAAW1S,IACpCu9E,EAAWR,GAAOM,EAAO3qE,WAAW1S,EAAI,IACxCw9E,EAAWT,GAAOM,EAAO3qE,WAAW1S,EAAI,IACxCy9E,EAAWV,GAAOM,EAAO3qE,WAAW1S,EAAI,IACxC69E,EAAMzwE,KAAQkwE,GAAY,EAAMC,GAAY,EAC5CM,EAAMzwE,MAAoB,GAAXmwE,IAAkB,EAAMC,GAAY,EACnDK,EAAMzwE,MAAoB,EAAXowE,IAAiB,EAAiB,GAAXC,EAE1C,OAAOG,CAAW,ECTEhnB,CAAO/vD,GACvB,OAAOs2E,GAAUjc,EAASgc,EAC9B,CAEI,MAAO,CAAEG,QAAQ,EAAMx2E,OAC3B,EAEEs2E,GAAYA,CAACt2E,EAAMq2E,IAEZ,SADDA,EAEIr2E,aAAgBk1E,KAETl1E,EAIA,IAAIk1E,KAAK,CAACl1E,IAIjBA,aAAgBo1E,YAETp1E,EAIAA,EAAKs1E,OCvDtB2B,GAAY1gE,OAAOC,aAAa,IA4B/B,SAAS0gE,KACZ,OAAO,IAAIC,gBAAgB,CACvBC,SAAAA,CAAUC,EAAQ3qD,IHmBnB,SAA8B2qD,EAAQz/C,GACrCq9C,IAAkBoC,EAAOr3E,gBAAgBk1E,KAClCmC,EAAOr3E,KAAKs3E,cAAc3xD,KAAKuoC,IAASvoC,KAAKiS,GAE/Cu9C,KACJkC,EAAOr3E,gBAAgBo1E,aAAeC,GAAOgC,EAAOr3E,OAC9C43B,EAASs2B,GAAQmpB,EAAOr3E,OAEnCu1E,GAAa8B,GAAQ,GAAQE,IACpBvB,KACDA,GAAe,IAAInB,aAEvBj9C,EAASo+C,GAAawB,OAAOD,GAAS,GAE9C,CGhCYE,CAAqBJ,GAASjB,IAC1B,MAAMsB,EAAgBtB,EAAcn9E,OACpC,IAAI0+E,EAEJ,GAAID,EAAgB,IAChBC,EAAS,IAAI9B,WAAW,GACxB,IAAI+B,SAASD,EAAOrC,QAAQuC,SAAS,EAAGH,QAEvC,GAAIA,EAAgB,MAAO,CAC5BC,EAAS,IAAI9B,WAAW,GACxB,MAAM/iE,EAAO,IAAI8kE,SAASD,EAAOrC,QACjCxiE,EAAK+kE,SAAS,EAAG,KACjB/kE,EAAKglE,UAAU,EAAGJ,EACtB,KACK,CACDC,EAAS,IAAI9B,WAAW,GACxB,MAAM/iE,EAAO,IAAI8kE,SAASD,EAAOrC,QACjCxiE,EAAK+kE,SAAS,EAAG,KACjB/kE,EAAKilE,aAAa,EAAGC,OAAON,GAChC,CAEIL,EAAOr3E,MAA+B,kBAAhBq3E,EAAOr3E,OAC7B23E,EAAO,IAAM,KAEjBjrD,EAAWurD,QAAQN,GACnBjrD,EAAWurD,QAAQ7B,EAAc,GAEzC,GAER,CACA,IAAI8B,GACJ,SAASC,GAAY7J,GACjB,OAAOA,EAAOlS,QAAO,CAACwS,EAAKJ,IAAUI,EAAMJ,EAAMv1E,QAAQ,EAC7D,CACA,SAASm/E,GAAa9J,EAAQ98C,GAC1B,GAAI88C,EAAO,GAAGr1E,SAAWu4B,EACrB,OAAO88C,EAAOllB,QAElB,MAAMksB,EAAS,IAAIO,WAAWrkD,GAC9B,IAAI6mD,EAAI,EACR,IAAK,IAAIl/E,EAAI,EAAGA,EAAIq4B,EAAMr4B,IACtBm8E,EAAOn8E,GAAKm1E,EAAO,GAAG+J,KAClBA,IAAM/J,EAAO,GAAGr1E,SAChBq1E,EAAOllB,QACPivB,EAAI,GAMZ,OAHI/J,EAAOr1E,QAAUo/E,EAAI/J,EAAO,GAAGr1E,SAC/Bq1E,EAAO,GAAKA,EAAO,GAAGxnE,MAAMuxE,IAEzB/C,CACX,CC/EO,SAASgD,GAAQriB,GACtB,GAAIA,EAAK,OAWX,SAAeA,GACb,IAAK,IAAI3/C,KAAOgiE,GAAQv7E,UACtBk5D,EAAI3/C,GAAOgiE,GAAQv7E,UAAUuZ,GAE/B,OAAO2/C,CACT,CAhBkBsiB,CAAMtiB,EACxB,CA0BAqiB,GAAQv7E,UAAUy7E,GAClBF,GAAQv7E,UAAU+S,iBAAmB,SAASrJ,EAAOlK,GAInD,OAHAoO,KAAK8tE,WAAa9tE,KAAK8tE,YAAc,CAAC,GACrC9tE,KAAK8tE,WAAW,IAAMhyE,GAASkE,KAAK8tE,WAAW,IAAMhyE,IAAU,IAC7D/F,KAAKnE,GACDoO,IACT,EAYA2tE,GAAQv7E,UAAU27E,KAAO,SAASjyE,EAAOlK,GACvC,SAASi8E,IACP7tE,KAAKguE,IAAIlyE,EAAO+xE,GAChBj8E,EAAGy7C,MAAMrtC,KAAM3R,UACjB,CAIA,OAFAw/E,EAAGj8E,GAAKA,EACRoO,KAAK6tE,GAAG/xE,EAAO+xE,GACR7tE,IACT,EAYA2tE,GAAQv7E,UAAU47E,IAClBL,GAAQv7E,UAAU67E,eAClBN,GAAQv7E,UAAU87E,mBAClBP,GAAQv7E,UAAUgT,oBAAsB,SAAStJ,EAAOlK,GAItD,GAHAoO,KAAK8tE,WAAa9tE,KAAK8tE,YAAc,CAAC,EAGlC,GAAKz/E,UAAUC,OAEjB,OADA0R,KAAK8tE,WAAa,CAAC,EACZ9tE,KAIT,IAUIwyC,EAVAzW,EAAY/7B,KAAK8tE,WAAW,IAAMhyE,GACtC,IAAKigC,EAAW,OAAO/7B,KAGvB,GAAI,GAAK3R,UAAUC,OAEjB,cADO0R,KAAK8tE,WAAW,IAAMhyE,GACtBkE,KAKT,IAAK,IAAIxR,EAAI,EAAGA,EAAIutC,EAAUztC,OAAQE,IAEpC,IADAgkD,EAAKzW,EAAUvtC,MACJoD,GAAM4gD,EAAG5gD,KAAOA,EAAI,CAC7BmqC,EAAU2G,OAAOl0C,EAAG,GACpB,KACF,CASF,OAJyB,IAArButC,EAAUztC,eACL0R,KAAK8tE,WAAW,IAAMhyE,GAGxBkE,IACT,EAUA2tE,GAAQv7E,UAAUugC,KAAO,SAAS72B,GAChCkE,KAAK8tE,WAAa9tE,KAAK8tE,YAAc,CAAC,EAKtC,IAHA,IAAIK,EAAO,IAAIp5E,MAAM1G,UAAUC,OAAS,GACpCytC,EAAY/7B,KAAK8tE,WAAW,IAAMhyE,GAE7BtN,EAAI,EAAGA,EAAIH,UAAUC,OAAQE,IACpC2/E,EAAK3/E,EAAI,GAAKH,UAAUG,GAG1B,GAAIutC,EAEG,CAAIvtC,EAAI,EAAb,IAAK,IAAW29E,GADhBpwC,EAAYA,EAAU5/B,MAAM,IACI7N,OAAQE,EAAI29E,IAAO39E,EACjDutC,EAAUvtC,GAAG6+C,MAAMrtC,KAAMmuE,EADK7/E,CAKlC,OAAO0R,IACT,EAGA2tE,GAAQv7E,UAAUg8E,aAAeT,GAAQv7E,UAAUugC,KAUnDg7C,GAAQv7E,UAAUsd,UAAY,SAAS5T,GAErC,OADAkE,KAAK8tE,WAAa9tE,KAAK8tE,YAAc,CAAC,EAC/B9tE,KAAK8tE,WAAW,IAAMhyE,IAAU,EACzC,EAUA6xE,GAAQv7E,UAAUi8E,aAAe,SAASvyE,GACxC,QAAUkE,KAAK0P,UAAU5T,GAAOxN,MAClC,ECxKO,MAAMggF,GACqC,oBAAZvoC,SAAqD,oBAApBA,QAAQnjB,QAE/D4vB,GAAOzM,QAAQnjB,UAAU5H,KAAKw3B,GAG/B,CAACA,EAAI+7B,IAAiBA,EAAa/7B,EAAI,GAGzCg8B,GACW,qBAAT3sB,KACAA,KAEgB,qBAAXhmD,OACLA,OAGA4yE,SAAS,cAATA,GChBR,SAASC,GAAKpjB,GAAc,QAAAqjB,EAAAtgF,UAAAC,OAANiuE,EAAI,IAAAxnE,MAAA45E,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJrS,EAAIqS,EAAA,GAAAvgF,UAAAugF,GAC7B,OAAOrS,EAAK9K,QAAO,CAACwS,EAAK4K,KACjBvjB,EAAIn0D,eAAe03E,KACnB5K,EAAI4K,GAAKvjB,EAAIujB,IAEV5K,IACR,CAAC,EACR,CAEA,MAAM6K,GAAqBC,GAAW17C,WAChC27C,GAAuBD,GAAW3gC,aACjC,SAAS6gC,GAAsB3jB,EAAK2c,GACnCA,EAAKiH,iBACL5jB,EAAIijB,aAAeO,GAAmBnmD,KAAKomD,IAC3CzjB,EAAI6jB,eAAiBH,GAAqBrmD,KAAKomD,MAG/CzjB,EAAIijB,aAAeQ,GAAW17C,WAAW1K,KAAKomD,IAC9CzjB,EAAI6jB,eAAiBJ,GAAW3gC,aAAazlB,KAAKomD,IAE1D,CAkCO,SAASK,KACZ,OAAQrnE,KAAKnQ,MAAMsE,SAAS,IAAIywD,UAAU,GACtCvzD,KAAK6C,SAASC,SAAS,IAAIywD,UAAU,EAAG,EAChD,CCtDO,MAAM0iB,WAAuBh+E,MAChCwO,WAAAA,CAAY0b,EAAQ+zD,EAAax4E,GAC7B+hE,MAAMt9C,GACNvb,KAAKsvE,YAAcA,EACnBtvE,KAAKlJ,QAAUA,EACfkJ,KAAK5P,KAAO,gBAChB,EAEG,MAAMm/E,WAAkB5B,GAO3B9tE,WAAAA,CAAYooE,GACRpP,QACA74D,KAAKwvE,UAAW,EAChBP,GAAsBjvE,KAAMioE,GAC5BjoE,KAAKioE,KAAOA,EACZjoE,KAAKyvE,MAAQxH,EAAKwH,MAClBzvE,KAAK0vE,OAASzH,EAAKyH,OACnB1vE,KAAK6qE,gBAAkB5C,EAAK0H,WAChC,CAUApoC,OAAAA,CAAQhsB,EAAQ+zD,EAAax4E,GAEzB,OADA+hE,MAAMuV,aAAa,QAAS,IAAIiB,GAAe9zD,EAAQ+zD,EAAax4E,IAC7DkJ,IACX,CAIA4vE,IAAAA,GAGI,OAFA5vE,KAAK6vE,WAAa,UAClB7vE,KAAK8vE,SACE9vE,IACX,CAIA+vE,KAAAA,GAKI,MAJwB,YAApB/vE,KAAK6vE,YAAgD,SAApB7vE,KAAK6vE,aACtC7vE,KAAKgwE,UACLhwE,KAAKiwE,WAEFjwE,IACX,CAMAkwE,IAAAA,CAAKC,GACuB,SAApBnwE,KAAK6vE,YACL7vE,KAAKowE,MAAMD,EAKnB,CAMAE,MAAAA,GACIrwE,KAAK6vE,WAAa,OAClB7vE,KAAKwvE,UAAW,EAChB3W,MAAMuV,aAAa,OACvB,CAOAkC,MAAAA,CAAOj7E,GACH,MAAMq3E,EAASlB,GAAan2E,EAAM2K,KAAK0vE,OAAOhE,YAC9C1rE,KAAKuwE,SAAS7D,EAClB,CAMA6D,QAAAA,CAAS7D,GACL7T,MAAMuV,aAAa,SAAU1B,EACjC,CAMAuD,OAAAA,CAAQO,GACJxwE,KAAK6vE,WAAa,SAClBhX,MAAMuV,aAAa,QAASoC,EAChC,CAMAC,KAAAA,CAAMC,GAAW,CACjBC,SAAAA,CAAUC,GAAoB,IAAZnB,EAAKphF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,CAAC,EACvB,OAAQuiF,EACJ,MACA5wE,KAAK6wE,YACL7wE,KAAK8wE,QACL9wE,KAAKioE,KAAKnb,KACV9sD,KAAK+wE,OAAOtB,EACpB,CACAoB,SAAAA,GACI,MAAMG,EAAWhxE,KAAKioE,KAAK+I,SAC3B,OAAkC,IAA3BA,EAASv/E,QAAQ,KAAcu/E,EAAW,IAAMA,EAAW,GACtE,CACAF,KAAAA,GACI,OAAI9wE,KAAKioE,KAAKxe,OACRzpD,KAAKioE,KAAKgJ,QAAUC,OAA0B,MAAnBlxE,KAAKioE,KAAKxe,QACjCzpD,KAAKioE,KAAKgJ,QAAqC,KAA3BC,OAAOlxE,KAAKioE,KAAKxe,OACpC,IAAMzpD,KAAKioE,KAAKxe,KAGhB,EAEf,CACAsnB,MAAAA,CAAOtB,GACH,MAAM0B,EClIP,SAAgB7lB,GACnB,IAAIpG,EAAM,GACV,IAAK,IAAI12D,KAAK88D,EACNA,EAAIn0D,eAAe3I,KACf02D,EAAI52D,SACJ42D,GAAO,KACXA,GAAO32D,mBAAmBC,GAAK,IAAMD,mBAAmB+8D,EAAI98D,KAGpE,OAAO02D,CACX,CDwH6B2nB,CAAO4C,GAC5B,OAAO0B,EAAa7iF,OAAS,IAAM6iF,EAAe,EACtD,EEzIG,MAAMC,WAAgB7B,GACzB1vE,WAAAA,GACIg5D,SAASxqE,WACT2R,KAAKqxE,UAAW,CACpB,CACA,QAAI9gF,GACA,MAAO,SACX,CAOAu/E,MAAAA,GACI9vE,KAAKsxE,OACT,CAOAb,KAAAA,CAAMC,GACF1wE,KAAK6vE,WAAa,UAClB,MAAMY,EAAQA,KACVzwE,KAAK6vE,WAAa,SAClBa,GAAS,EAEb,GAAI1wE,KAAKqxE,WAAarxE,KAAKwvE,SAAU,CACjC,IAAI+B,EAAQ,EACRvxE,KAAKqxE,WACLE,IACAvxE,KAAK+tE,KAAK,gBAAgB,aACpBwD,GAASd,GACf,KAECzwE,KAAKwvE,WACN+B,IACAvxE,KAAK+tE,KAAK,SAAS,aACbwD,GAASd,GACf,IAER,MAEIA,GAER,CAMAa,KAAAA,GACItxE,KAAKqxE,UAAW,EAChBrxE,KAAKwxE,SACLxxE,KAAKouE,aAAa,OACtB,CAMAkC,MAAAA,CAAOj7E,GN/CWo8E,EAACC,EAAgBhG,KACnC,MAAMiG,EAAiBD,EAAer+E,MAAMi5E,IACtC6D,EAAU,GAChB,IAAK,IAAI3hF,EAAI,EAAGA,EAAImjF,EAAerjF,OAAQE,IAAK,CAC5C,MAAMojF,EAAgBpG,GAAamG,EAAenjF,GAAIk9E,GAEtD,GADAyE,EAAQp6E,KAAK67E,GACc,UAAvBA,EAAcxhF,KACd,KAER,CACA,OAAO+/E,CAAO,EMoDVsB,CAAcp8E,EAAM2K,KAAK0vE,OAAOhE,YAAYrsD,SAd1BqtD,IAMd,GAJI,YAAc1sE,KAAK6vE,YAA8B,SAAhBnD,EAAOt8E,MACxC4P,KAAKqwE,SAGL,UAAY3D,EAAOt8E,KAEnB,OADA4P,KAAKiwE,QAAQ,CAAEX,YAAa,oCACrB,EAGXtvE,KAAKuwE,SAAS7D,EAAO,IAKrB,WAAa1sE,KAAK6vE,aAElB7vE,KAAKqxE,UAAW,EAChBrxE,KAAKouE,aAAa,gBACd,SAAWpuE,KAAK6vE,YAChB7vE,KAAKsxE,QAKjB,CAMAtB,OAAAA,GACI,MAAMD,EAAQA,KACV/vE,KAAKowE,MAAM,CAAC,CAAEhgF,KAAM,UAAW,EAE/B,SAAW4P,KAAK6vE,WAChBE,IAKA/vE,KAAK+tE,KAAK,OAAQgC,EAE1B,CAOAK,KAAAA,CAAMD,GACFnwE,KAAKwvE,UAAW,ENnHFqC,EAAC1B,EAASljD,KAE5B,MAAM3+B,EAAS6hF,EAAQ7hF,OACjBqjF,EAAiB,IAAI58E,MAAMzG,GACjC,IAAIsyC,EAAQ,EACZuvC,EAAQ9wD,SAAQ,CAACqtD,EAAQl+E,KAErBo8E,GAAa8B,GAAQ,GAAQjB,IACzBkG,EAAenjF,GAAKi9E,IACd7qC,IAAUtyC,GACZ2+B,EAAS0kD,EAAep1D,KAAK+vD,IACjC,GACF,GACJ,EMuGEuF,CAAc1B,GAAU96E,IACpB2K,KAAK8xE,QAAQz8E,GAAM,KACf2K,KAAKwvE,UAAW,EAChBxvE,KAAKouE,aAAa,QAAQ,GAC5B,GAEV,CAMA2D,GAAAA,GACI,MAAMnB,EAAS5wE,KAAKioE,KAAKgJ,OAAS,QAAU,OACtCxB,EAAQzvE,KAAKyvE,OAAS,CAAC,EAQ7B,OANI,IAAUzvE,KAAKioE,KAAK+J,oBACpBvC,EAAMzvE,KAAKioE,KAAKgK,gBAAkB7C,MAEjCpvE,KAAK6qE,gBAAmB4E,EAAMyC,MAC/BzC,EAAM0C,IAAM,GAETnyE,KAAK2wE,UAAUC,EAAQnB,EAClC,EC9IJ,IAAIz8E,IAAQ,EACZ,IACIA,GAAkC,qBAAnBo/E,gBACX,oBAAqB,IAAIA,cACjC,CACA,MAAOl5E,IAEH,CAEG,MAAMm5E,GAAUr/E,GCLvB,SAASs/E,KAAU,CACZ,MAAMC,WAAgBnB,GAOzBvxE,WAAAA,CAAYooE,GAER,GADApP,MAAMoP,GACkB,qBAAbn8D,SAA0B,CACjC,MAAM0mE,EAAQ,WAAa1mE,SAAS85D,SACpC,IAAInc,EAAO39C,SAAS29C,KAEfA,IACDA,EAAO+oB,EAAQ,MAAQ,MAE3BxyE,KAAKyyE,GACoB,qBAAb3mE,UACJm8D,EAAK+I,WAAallE,SAASklE,UAC3BvnB,IAASwe,EAAKxe,IAC1B,CACJ,CAQAqoB,OAAAA,CAAQz8E,EAAMzD,GACV,MAAM8gF,EAAM1yE,KAAK2yE,QAAQ,CACrBr9E,OAAQ,OACRD,KAAMA,IAEVq9E,EAAI7E,GAAG,UAAWj8E,GAClB8gF,EAAI7E,GAAG,SAAS,CAAC+E,EAAW97E,KACxBkJ,KAAKunC,QAAQ,iBAAkBqrC,EAAW97E,EAAQ,GAE1D,CAMA06E,MAAAA,GACI,MAAMkB,EAAM1yE,KAAK2yE,UACjBD,EAAI7E,GAAG,OAAQ7tE,KAAKswE,OAAO3nD,KAAK3oB,OAChC0yE,EAAI7E,GAAG,SAAS,CAAC+E,EAAW97E,KACxBkJ,KAAKunC,QAAQ,iBAAkBqrC,EAAW97E,EAAQ,IAEtDkJ,KAAK6yE,QAAUH,CACnB,EAEG,MAAMI,WAAgBnF,GAOzB9tE,WAAAA,CAAYkzE,EAAehB,EAAK9J,GAC5BpP,QACA74D,KAAK+yE,cAAgBA,EACrB9D,GAAsBjvE,KAAMioE,GAC5BjoE,KAAKgzE,MAAQ/K,EACbjoE,KAAKizE,QAAUhL,EAAK3yE,QAAU,MAC9B0K,KAAKkzE,KAAOnB,EACZ/xE,KAAKmzE,WAAQjoB,IAAc+c,EAAK5yE,KAAO4yE,EAAK5yE,KAAO,KACnD2K,KAAKozE,SACT,CAMAA,OAAAA,GACI,IAAIC,EACJ,MAAMpL,EAAOyG,GAAK1uE,KAAKgzE,MAAO,QAAS,MAAO,MAAO,aAAc,OAAQ,KAAM,UAAW,qBAAsB,aAClH/K,EAAKqL,UAAYtzE,KAAKgzE,MAAMP,GAC5B,MAAMc,EAAOvzE,KAAKwzE,KAAOxzE,KAAK+yE,cAAc9K,GAC5C,IACIsL,EAAI3D,KAAK5vE,KAAKizE,QAASjzE,KAAKkzE,MAAM,GAClC,IACI,GAAIlzE,KAAKgzE,MAAMS,aAAc,CAEzBF,EAAIG,uBAAyBH,EAAIG,uBAAsB,GACvD,IAAK,IAAIllF,KAAKwR,KAAKgzE,MAAMS,aACjBzzE,KAAKgzE,MAAMS,aAAat8E,eAAe3I,IACvC+kF,EAAII,iBAAiBnlF,EAAGwR,KAAKgzE,MAAMS,aAAajlF,GAG5D,CACJ,CACA,MAAOsS,IAAK,CACZ,GAAI,SAAWd,KAAKizE,QAChB,IACIM,EAAII,iBAAiB,eAAgB,2BACzC,CACA,MAAO7yE,IAAK,CAEhB,IACIyyE,EAAII,iBAAiB,SAAU,MACnC,CACA,MAAO7yE,IAAK,CACoB,QAA/BuyE,EAAKrzE,KAAKgzE,MAAMY,iBAA8B,IAAPP,GAAyBA,EAAGQ,WAAWN,GAE3E,oBAAqBA,IACrBA,EAAIO,gBAAkB9zE,KAAKgzE,MAAMc,iBAEjC9zE,KAAKgzE,MAAMe,iBACXR,EAAI5oB,QAAU3qD,KAAKgzE,MAAMe,gBAE7BR,EAAIS,mBAAqB,KACrB,IAAIX,EACmB,IAAnBE,EAAI1D,aAC4B,QAA/BwD,EAAKrzE,KAAKgzE,MAAMY,iBAA8B,IAAPP,GAAyBA,EAAGY,aAEpEV,EAAIW,kBAAkB,gBAEtB,IAAMX,EAAI1D,aAEV,MAAQ0D,EAAIp4D,QAAU,OAASo4D,EAAIp4D,OACnCnb,KAAKm0E,UAKLn0E,KAAKuuE,cAAa,KACdvuE,KAAKo0E,SAA+B,kBAAfb,EAAIp4D,OAAsBo4D,EAAIp4D,OAAS,EAAE,GAC/D,GACP,EAEJo4D,EAAIrD,KAAKlwE,KAAKmzE,MAClB,CACA,MAAOryE,IAOH,YAHAd,KAAKuuE,cAAa,KACdvuE,KAAKo0E,SAAStzE,GAAE,GACjB,EAEP,CACwB,qBAAb1C,WACP4B,KAAKq0E,OAASvB,GAAQwB,gBACtBxB,GAAQyB,SAASv0E,KAAKq0E,QAAUr0E,KAExC,CAMAo0E,QAAAA,CAASl7E,GACL8G,KAAKouE,aAAa,QAASl1E,EAAK8G,KAAKwzE,MACrCxzE,KAAKw0E,UAAS,EAClB,CAMAA,QAAAA,CAASC,GACL,GAAI,qBAAuBz0E,KAAKwzE,MAAQ,OAASxzE,KAAKwzE,KAAtD,CAIA,GADAxzE,KAAKwzE,KAAKQ,mBAAqB1B,GAC3BmC,EACA,IACIz0E,KAAKwzE,KAAKlyD,OACd,CACA,MAAOxgB,IAAK,CAEQ,qBAAb1C,iBACA00E,GAAQyB,SAASv0E,KAAKq0E,QAEjCr0E,KAAKwzE,KAAO,IAXZ,CAYJ,CAMAW,OAAAA,GACI,MAAM9+E,EAAO2K,KAAKwzE,KAAKkB,aACV,OAATr/E,IACA2K,KAAKouE,aAAa,OAAQ/4E,GAC1B2K,KAAKouE,aAAa,WAClBpuE,KAAKw0E,WAEb,CAMAlzD,KAAAA,GACIthB,KAAKw0E,UACT,EASJ,GAPA1B,GAAQwB,cAAgB,EACxBxB,GAAQyB,SAAW,CAAC,EAMI,qBAAbn2E,SAEP,GAA2B,oBAAhBsS,YAEPA,YAAY,WAAYikE,SAEvB,GAAgC,oBAArBxvE,iBAAiC,CAE7CA,iBADyB,eAAgB,GAAa,WAAa,SAChCwvE,IAAe,EACtD,CAEJ,SAASA,KACL,IAAK,IAAInmF,KAAKskF,GAAQyB,SACdzB,GAAQyB,SAASp9E,eAAe3I,IAChCskF,GAAQyB,SAAS/lF,GAAG8yB,OAGhC,CACA,MAAMszD,GAAW,WACb,MAAMrB,EAAMsB,GAAW,CACnBvB,SAAS,IAEb,OAAOC,GAA4B,OAArBA,EAAIuB,YACtB,CALiB,GAwBjB,SAASD,GAAW5M,GAChB,MAAMqL,EAAUrL,EAAKqL,QAErB,IACI,GAAI,qBAAuBlB,kBAAoBkB,GAAWjB,IACtD,OAAO,IAAID,cAEnB,CACA,MAAOtxE,IAAK,CACZ,IAAKwyE,EACD,IACI,OAAO,IAAIvE,GAAW,CAAC,UAAUjiD,OAAO,UAAUvQ,KAAK,OAAM,oBACjE,CACA,MAAOzb,IAAK,CAEpB,CCzQA,MAAMi0E,GAAqC,qBAAdre,WACI,kBAAtBA,UAAUse,SACmB,gBAApCte,UAAUse,QAAQj2E,cACf,MAAMk2E,WAAe1F,GACxB,QAAIh/E,GACA,MAAO,WACX,CACAu/E,MAAAA,GACI,MAAMiC,EAAM/xE,KAAK+xE,MACXmD,EAAYl1E,KAAKioE,KAAKiN,UAEtBjN,EAAO8M,GACP,CAAC,EACDrG,GAAK1uE,KAAKioE,KAAM,QAAS,oBAAqB,MAAO,MAAO,aAAc,OAAQ,KAAM,UAAW,qBAAsB,eAAgB,kBAAmB,SAAU,aAAc,SAAU,uBAChMjoE,KAAKioE,KAAKwL,eACVxL,EAAKkN,QAAUn1E,KAAKioE,KAAKwL,cAE7B,IACIzzE,KAAKo1E,GAAKp1E,KAAKq1E,aAAatD,EAAKmD,EAAWjN,EAChD,CACA,MAAO/uE,IACH,OAAO8G,KAAKouE,aAAa,QAASl1E,GACtC,CACA8G,KAAKo1E,GAAG1J,WAAa1rE,KAAK0vE,OAAOhE,WACjC1rE,KAAKs1E,mBACT,CAMAA,iBAAAA,GACIt1E,KAAKo1E,GAAGG,OAAS,KACTv1E,KAAKioE,KAAKuN,WACVx1E,KAAKo1E,GAAGK,QAAQC,QAEpB11E,KAAKqwE,QAAQ,EAEjBrwE,KAAKo1E,GAAGO,QAAWC,GAAe51E,KAAKiwE,QAAQ,CAC3CX,YAAa,8BACbx4E,QAAS8+E,IAEb51E,KAAKo1E,GAAGxrB,UAAaisB,GAAO71E,KAAKswE,OAAOuF,EAAGxgF,MAC3C2K,KAAKo1E,GAAGlvC,QAAWplC,GAAMd,KAAKunC,QAAQ,kBAAmBzmC,EAC7D,CACAsvE,KAAAA,CAAMD,GACFnwE,KAAKwvE,UAAW,EAGhB,IAAK,IAAIhhF,EAAI,EAAGA,EAAI2hF,EAAQ7hF,OAAQE,IAAK,CACrC,MAAMk+E,EAASyD,EAAQ3hF,GACjBsnF,EAAatnF,IAAM2hF,EAAQ7hF,OAAS,EAC1Cs8E,GAAa8B,EAAQ1sE,KAAK6qE,gBAAiBx1E,IAIvC,IACI2K,KAAK8xE,QAAQpF,EAAQr3E,EACzB,CACA,MAAOyL,IACP,CACIg1E,GAGAxH,IAAS,KACLtuE,KAAKwvE,UAAW,EAChBxvE,KAAKouE,aAAa,QAAQ,GAC3BpuE,KAAKuuE,aACZ,GAER,CACJ,CACAyB,OAAAA,GAC2B,qBAAZhwE,KAAKo1E,KACZp1E,KAAKo1E,GAAGlvC,QAAU,OAClBlmC,KAAKo1E,GAAGrF,QACR/vE,KAAKo1E,GAAK,KAElB,CAMArD,GAAAA,GACI,MAAMnB,EAAS5wE,KAAKioE,KAAKgJ,OAAS,MAAQ,KACpCxB,EAAQzvE,KAAKyvE,OAAS,CAAC,EAS7B,OAPIzvE,KAAKioE,KAAK+J,oBACVvC,EAAMzvE,KAAKioE,KAAKgK,gBAAkB7C,MAGjCpvE,KAAK6qE,iBACN4E,EAAM0C,IAAM,GAETnyE,KAAK2wE,UAAUC,EAAQnB,EAClC,EAEJ,MAAMsG,GAAgBhH,GAAWiH,WAAajH,GAAWkH,aCpGlD,MAAMC,GAAa,CACtBC,UD6GG,cAAiBlB,GACpBI,YAAAA,CAAatD,EAAKmD,EAAWjN,GACzB,OAAQ8M,GAIF,IAAIgB,GAAchE,EAAKmD,EAAWjN,GAHlCiN,EACI,IAAIa,GAAchE,EAAKmD,GACvB,IAAIa,GAAchE,EAEhC,CACAD,OAAAA,CAAQsE,EAAS/gF,GACb2K,KAAKo1E,GAAGlF,KAAK76E,EACjB,GCtHAghF,aCMG,cAAiB9G,GACpB,QAAIh/E,GACA,MAAO,cACX,CACAu/E,MAAAA,GACI,IAEI9vE,KAAKs2E,WAAa,IAAIC,aAAav2E,KAAK2wE,UAAU,SAAU3wE,KAAKioE,KAAKuO,iBAAiBx2E,KAAKzP,MAChG,CACA,MAAO2I,IACH,OAAO8G,KAAKouE,aAAa,QAASl1E,GACtC,CACA8G,KAAKs2E,WAAWG,OACXz7D,MAAK,KACNhb,KAAKiwE,SAAS,IAEbt9E,OAAOuG,IACR8G,KAAKunC,QAAQ,qBAAsBruC,EAAI,IAG3C8G,KAAKs2E,WAAWI,MAAM17D,MAAK,KACvBhb,KAAKs2E,WAAWK,4BAA4B37D,MAAM47D,IAC9C,MAAMC,EXqDf,SAAmCC,EAAYpL,GAC7C6B,KACDA,GAAe,IAAIwJ,aAEvB,MAAMpT,EAAS,GACf,IAAI5iD,EAAQ,EACRi2D,GAAkB,EAClBC,GAAW,EACf,OAAO,IAAIzK,gBAAgB,CACvBC,SAAAA,CAAU5I,EAAO9hD,GAEb,IADA4hD,EAAO5tE,KAAK8tE,KACC,CACT,GAAc,IAAV9iD,EAAqC,CACrC,GAAIysD,GAAY7J,GAAU,EACtB,MAEJ,MAAMqJ,EAASS,GAAa9J,EAAQ,GACpCsT,EAAkC,OAAV,IAAZjK,EAAO,IACnBgK,EAA6B,IAAZhK,EAAO,GAEpBjsD,EADAi2D,EAAiB,IACT,EAEgB,MAAnBA,EACG,EAGA,CAEhB,MACK,GAAc,IAAVj2D,EAAiD,CACtD,GAAIysD,GAAY7J,GAAU,EACtB,MAEJ,MAAMuT,EAAczJ,GAAa9J,EAAQ,GACzCqT,EAAiB,IAAI/J,SAASiK,EAAYvM,OAAQuM,EAAY/L,WAAY+L,EAAY5oF,QAAQ6oF,UAAU,GACxGp2D,EAAQ,CACZ,MACK,GAAc,IAAVA,EAAiD,CACtD,GAAIysD,GAAY7J,GAAU,EACtB,MAEJ,MAAMuT,EAAczJ,GAAa9J,EAAQ,GACnCx7D,EAAO,IAAI8kE,SAASiK,EAAYvM,OAAQuM,EAAY/L,WAAY+L,EAAY5oF,QAC5Eg1D,EAAIn7C,EAAKivE,UAAU,GACzB,GAAI9zB,EAAIlqD,KAAKi+E,IAAI,EAAG,IAAW,EAAG,CAE9Bt1D,EAAWurD,QAAQjD,IACnB,KACJ,CACA2M,EAAiB1zB,EAAIlqD,KAAKi+E,IAAI,EAAG,IAAMlvE,EAAKivE,UAAU,GACtDr2D,EAAQ,CACZ,KACK,CACD,GAAIysD,GAAY7J,GAAUqT,EACtB,MAEJ,MAAM3hF,EAAOo4E,GAAa9J,EAAQqT,GAClCj1D,EAAWurD,QAAQ9B,GAAayL,EAAW5hF,EAAOk4E,GAAanoB,OAAO/vD,GAAOq2E,IAC7E3qD,EAAQ,CACZ,CACA,GAAuB,IAAnBi2D,GAAwBA,EAAiBF,EAAY,CACrD/0D,EAAWurD,QAAQjD,IACnB,KACJ,CACJ,CACJ,GAER,CWxHsCiN,CAA0BpG,OAAOqG,iBAAkBv3E,KAAK0vE,OAAOhE,YAC/E8L,EAASZ,EAAOa,SAASC,YAAYb,GAAec,YACpDC,EAAgBrL,KACtBqL,EAAcH,SAASI,OAAOjB,EAAOpH,UACrCxvE,KAAK83E,QAAUF,EAAcpI,SAASuI,YACtC,MAAMC,EAAOA,KACTR,EACKQ,OACAh9D,MAAK4xC,IAAqB,IAApB,KAAEptC,EAAI,MAAExsB,GAAO45D,EAClBptC,IAGJxf,KAAKuwE,SAASv9E,GACdglF,IAAM,IAELrlF,OAAOuG,OACV,EAEN8+E,IACA,MAAMtL,EAAS,CAAEt8E,KAAM,QACnB4P,KAAKyvE,MAAMyC,MACXxF,EAAOr3E,KAAO,WAAW2K,KAAKyvE,MAAMyC,SAExClyE,KAAK83E,QAAQ1H,MAAM1D,GAAQ1xD,MAAK,IAAMhb,KAAKqwE,UAAS,GACtD,GAEV,CACAD,KAAAA,CAAMD,GACFnwE,KAAKwvE,UAAW,EAChB,IAAK,IAAIhhF,EAAI,EAAGA,EAAI2hF,EAAQ7hF,OAAQE,IAAK,CACrC,MAAMk+E,EAASyD,EAAQ3hF,GACjBsnF,EAAatnF,IAAM2hF,EAAQ7hF,OAAS,EAC1C0R,KAAK83E,QAAQ1H,MAAM1D,GAAQ1xD,MAAK,KACxB86D,GACAxH,IAAS,KACLtuE,KAAKwvE,UAAW,EAChBxvE,KAAKouE,aAAa,QAAQ,GAC3BpuE,KAAKuuE,aACZ,GAER,CACJ,CACAyB,OAAAA,GACI,IAAIqD,EACuB,QAA1BA,EAAKrzE,KAAKs2E,kBAA+B,IAAPjD,GAAyBA,EAAGtD,OACnE,GDxEAkI,QF8OG,cAAkB1F,GACrB1yE,WAAAA,CAAYooE,GACRpP,MAAMoP,GACN,MAAM0H,EAAc1H,GAAQA,EAAK0H,YACjC3vE,KAAK6qE,eAAiB+J,KAAYjF,CACtC,CACAgD,OAAAA,GAAmB,IAAX1K,EAAI55E,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,CAAC,EAEZ,OADA8C,OAAOD,OAAO+2E,EAAM,CAAEwK,GAAIzyE,KAAKyyE,IAAMzyE,KAAKioE,MACnC,IAAI6K,GAAQ+B,GAAY70E,KAAK+xE,MAAO9J,EAC/C,II1OEiQ,GAAK,sPACLC,GAAQ,CACV,SAAU,WAAY,YAAa,WAAY,OAAQ,WAAY,OAAQ,OAAQ,WAAY,OAAQ,YAAa,OAAQ,QAAS,UAElI,SAASthB,GAAM3R,GAClB,GAAIA,EAAI52D,OAAS,IACb,KAAM,eAEV,MAAMgsC,EAAM4qB,EAAKngD,EAAImgD,EAAIzzD,QAAQ,KAAMqP,EAAIokD,EAAIzzD,QAAQ,MAC7C,GAANsT,IAAiB,GAANjE,IACXokD,EAAMA,EAAIyH,UAAU,EAAG5nD,GAAKmgD,EAAIyH,UAAU5nD,EAAGjE,GAAGrN,QAAQ,KAAM,KAAOyxD,EAAIyH,UAAU7rD,EAAGokD,EAAI52D,SAE9F,IAAIgsD,EAAI49B,GAAGE,KAAKlzB,GAAO,IAAK6sB,EAAM,CAAC,EAAGvjF,EAAI,GAC1C,KAAOA,KACHujF,EAAIoG,GAAM3pF,IAAM8rD,EAAE9rD,IAAM,GAU5B,OARU,GAANuW,IAAiB,GAANjE,IACXixE,EAAIj6D,OAASwiB,EACby3C,EAAIsG,KAAOtG,EAAIsG,KAAK1rB,UAAU,EAAGolB,EAAIsG,KAAK/pF,OAAS,GAAGmF,QAAQ,KAAM,KACpEs+E,EAAIuG,UAAYvG,EAAIuG,UAAU7kF,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,KAAM,KAC9Es+E,EAAIwG,SAAU,GAElBxG,EAAIyG,UAIR,SAAmBltB,EAAKwB,GACpB,MAAM2rB,EAAO,WAAYC,EAAQ5rB,EAAKr5D,QAAQglF,EAAM,KAAKplF,MAAM,KACvC,KAApBy5D,EAAK3wD,MAAM,EAAG,IAA6B,IAAhB2wD,EAAKx+D,QAChCoqF,EAAMh2C,OAAO,EAAG,GAEE,KAAlBoqB,EAAK3wD,OAAO,IACZu8E,EAAMh2C,OAAOg2C,EAAMpqF,OAAS,EAAG,GAEnC,OAAOoqF,CACX,CAboBF,CAAUzG,EAAKA,EAAU,MACzCA,EAAI4G,SAaR,SAAkB5G,EAAKtC,GACnB,MAAMp6E,EAAO,CAAC,EAMd,OALAo6E,EAAMh8E,QAAQ,6BAA6B,SAAUmlF,EAAIC,EAAIC,GACrDD,IACAxjF,EAAKwjF,GAAMC,EAEnB,IACOzjF,CACX,CArBmBsjF,CAAS5G,EAAKA,EAAW,OACjCA,CACX,CCrCA,MAAMgH,GAAiD,oBAArB5zE,kBACC,oBAAxBC,oBACL4zE,GAA0B,GAC5BD,IAGA5zE,iBAAiB,WAAW,KACxB6zE,GAAwB35D,SAASgC,GAAaA,KAAW,IAC1D,GAyBA,MAAM43D,WAA6BtL,GAOtC9tE,WAAAA,CAAYkyE,EAAK9J,GAiBb,GAhBApP,QACA74D,KAAK0rE,WX7BoB,cW8BzB1rE,KAAKk5E,YAAc,GACnBl5E,KAAKm5E,eAAiB,EACtBn5E,KAAKo5E,eAAiB,EACtBp5E,KAAKq5E,cAAgB,EACrBr5E,KAAKs5E,aAAe,EAKpBt5E,KAAKu5E,iBAAmB5uC,IACpBonC,GAAO,kBAAoBA,IAC3B9J,EAAO8J,EACPA,EAAM,MAENA,EAAK,CACL,MAAMyH,EAAY3iB,GAAMkb,GACxB9J,EAAK+I,SAAWwI,EAAUnB,KAC1BpQ,EAAKgJ,OACsB,UAAvBuI,EAAU5T,UAA+C,QAAvB4T,EAAU5T,SAChDqC,EAAKxe,KAAO+vB,EAAU/vB,KAClB+vB,EAAU/J,QACVxH,EAAKwH,MAAQ+J,EAAU/J,MAC/B,MACSxH,EAAKoQ,OACVpQ,EAAK+I,SAAWna,GAAMoR,EAAKoQ,MAAMA,MAErCpJ,GAAsBjvE,KAAMioE,GAC5BjoE,KAAKixE,OACD,MAAQhJ,EAAKgJ,OACPhJ,EAAKgJ,OACe,qBAAbnlE,UAA4B,WAAaA,SAAS85D,SAC/DqC,EAAK+I,WAAa/I,EAAKxe,OAEvBwe,EAAKxe,KAAOzpD,KAAKixE,OAAS,MAAQ,MAEtCjxE,KAAKgxE,SACD/I,EAAK+I,WACoB,qBAAbllE,SAA2BA,SAASklE,SAAW,aAC/DhxE,KAAKypD,KACDwe,EAAKxe,OACoB,qBAAb39C,UAA4BA,SAAS29C,KACvC39C,SAAS29C,KACTzpD,KAAKixE,OACD,MACA,MAClBjxE,KAAKk2E,WAAa,GAClBl2E,KAAKy5E,kBAAoB,CAAC,EAC1BxR,EAAKiO,WAAW72D,SAASq6D,IACrB,MAAMC,EAAgBD,EAAEtnF,UAAU7B,KAClCyP,KAAKk2E,WAAWngF,KAAK4jF,GACrB35E,KAAKy5E,kBAAkBE,GAAiBD,CAAC,IAE7C15E,KAAKioE,KAAO92E,OAAOD,OAAO,CACtB47D,KAAM,aACN8sB,OAAO,EACP9F,iBAAiB,EACjB+F,SAAS,EACT5H,eAAgB,IAChB6H,iBAAiB,EACjBC,kBAAkB,EAClBC,oBAAoB,EACpBC,kBAAmB,CACfjT,UAAW,MAEfwP,iBAAkB,CAAC,EACnB0D,qBAAqB,GACtBjS,GACHjoE,KAAKioE,KAAKnb,KACN9sD,KAAKioE,KAAKnb,KAAKr5D,QAAQ,MAAO,KACzBuM,KAAKioE,KAAK8R,iBAAmB,IAAM,IACb,kBAApB/5E,KAAKioE,KAAKwH,QACjBzvE,KAAKioE,KAAKwH,MRhGf,SAAgB/F,GACnB,IAAIyQ,EAAM,CAAC,EACPC,EAAQ1Q,EAAGr2E,MAAM,KACrB,IAAK,IAAI7E,EAAI,EAAG6rF,EAAID,EAAM9rF,OAAQE,EAAI6rF,EAAG7rF,IAAK,CAC1C,IAAI8rF,EAAOF,EAAM5rF,GAAG6E,MAAM,KAC1B8mF,EAAI90B,mBAAmBi1B,EAAK,KAAOj1B,mBAAmBi1B,EAAK,GAC/D,CACA,OAAOH,CACX,CQwF8B/0B,CAAOplD,KAAKioE,KAAKwH,QAEnCsJ,KACI/4E,KAAKioE,KAAKiS,sBAIVl6E,KAAKu6E,2BAA6B,KAC1Bv6E,KAAKw6E,YAELx6E,KAAKw6E,UAAUtM,qBACfluE,KAAKw6E,UAAUzK,QACnB,EAEJ5qE,iBAAiB,eAAgBnF,KAAKu6E,4BAA4B,IAEhD,cAAlBv6E,KAAKgxE,WACLhxE,KAAKy6E,sBAAwB,KACzBz6E,KAAK06E,SAAS,kBAAmB,CAC7BpL,YAAa,2BACf,EAEN0J,GAAwBjjF,KAAKiK,KAAKy6E,yBAGtCz6E,KAAKioE,KAAK6L,kBACV9zE,KAAK26E,gBAAaC,GAEtB56E,KAAK66E,OACT,CAQAC,eAAAA,CAAgBvqF,GACZ,MAAMk/E,EAAQt+E,OAAOD,OAAO,CAAC,EAAG8O,KAAKioE,KAAKwH,OAE1CA,EAAMsL,IbPU,EaShBtL,EAAM+K,UAAYjqF,EAEdyP,KAAKy3B,KACLg4C,EAAMyC,IAAMlyE,KAAKy3B,IACrB,MAAMwwC,EAAO92E,OAAOD,OAAO,CAAC,EAAG8O,KAAKioE,KAAM,CACtCwH,QACAC,OAAQ1vE,KACRgxE,SAAUhxE,KAAKgxE,SACfC,OAAQjxE,KAAKixE,OACbxnB,KAAMzpD,KAAKypD,MACZzpD,KAAKioE,KAAKuO,iBAAiBjmF,IAC9B,OAAO,IAAIyP,KAAKy5E,kBAAkBlpF,GAAM03E,EAC5C,CAMA4S,KAAAA,GACI,GAA+B,IAA3B76E,KAAKk2E,WAAW5nF,OAKhB,YAHA0R,KAAKuuE,cAAa,KACdvuE,KAAKouE,aAAa,QAAS,0BAA0B,GACtD,GAGP,MAAMuL,EAAgB35E,KAAKioE,KAAK6R,iBAC5Bb,GAAqB+B,wBACqB,IAA1Ch7E,KAAKk2E,WAAWzkF,QAAQ,aACtB,YACAuO,KAAKk2E,WAAW,GACtBl2E,KAAK6vE,WAAa,UAClB,MAAM2K,EAAYx6E,KAAK86E,gBAAgBnB,GACvCa,EAAU5K,OACV5vE,KAAKi7E,aAAaT,EACtB,CAMAS,YAAAA,CAAaT,GACLx6E,KAAKw6E,WACLx6E,KAAKw6E,UAAUtM,qBAGnBluE,KAAKw6E,UAAYA,EAEjBA,EACK3M,GAAG,QAAS7tE,KAAKk7E,SAASvyD,KAAK3oB,OAC/B6tE,GAAG,SAAU7tE,KAAKm7E,UAAUxyD,KAAK3oB,OACjC6tE,GAAG,QAAS7tE,KAAKo0E,SAASzrD,KAAK3oB,OAC/B6tE,GAAG,SAAUtyD,GAAWvb,KAAK06E,SAAS,kBAAmBn/D,IAClE,CAMA80D,MAAAA,GACIrwE,KAAK6vE,WAAa,OAClBoJ,GAAqB+B,sBACjB,cAAgBh7E,KAAKw6E,UAAUjqF,KACnCyP,KAAKouE,aAAa,QAClBpuE,KAAKo7E,OACT,CAMAD,SAAAA,CAAUzO,GACN,GAAI,YAAc1sE,KAAK6vE,YACnB,SAAW7vE,KAAK6vE,YAChB,YAAc7vE,KAAK6vE,WAInB,OAHA7vE,KAAKouE,aAAa,SAAU1B,GAE5B1sE,KAAKouE,aAAa,aACV1B,EAAOt8E,MACX,IAAK,OACD4P,KAAKq7E,YAAYloB,KAAK0D,MAAM6V,EAAOr3E,OACnC,MACJ,IAAK,OACD2K,KAAKs7E,YAAY,QACjBt7E,KAAKouE,aAAa,QAClBpuE,KAAKouE,aAAa,QAClBpuE,KAAKu7E,oBACL,MACJ,IAAK,QACD,MAAMriF,EAAM,IAAI7H,MAAM,gBAEtB6H,EAAI/K,KAAOu+E,EAAOr3E,KAClB2K,KAAKo0E,SAASl7E,GACd,MACJ,IAAK,UACD8G,KAAKouE,aAAa,OAAQ1B,EAAOr3E,MACjC2K,KAAKouE,aAAa,UAAW1B,EAAOr3E,MAMpD,CAOAgmF,WAAAA,CAAYhmF,GACR2K,KAAKouE,aAAa,YAAa/4E,GAC/B2K,KAAKy3B,GAAKpiC,EAAK68E,IACflyE,KAAKw6E,UAAU/K,MAAMyC,IAAM78E,EAAK68E,IAChClyE,KAAKo5E,cAAgB/jF,EAAKmmF,aAC1Bx7E,KAAKq5E,aAAehkF,EAAKomF,YACzBz7E,KAAKs5E,YAAcjkF,EAAKyhF,WACxB92E,KAAKqwE,SAED,WAAarwE,KAAK6vE,YAEtB7vE,KAAKu7E,mBACT,CAMAA,iBAAAA,GACIv7E,KAAKmvE,eAAenvE,KAAK07E,mBACzB,MAAMhxB,EAAQ1qD,KAAKo5E,cAAgBp5E,KAAKq5E,aACxCr5E,KAAKu5E,iBAAmBxxE,KAAKnQ,MAAQ8yD,EACrC1qD,KAAK07E,kBAAoB17E,KAAKuuE,cAAa,KACvCvuE,KAAK06E,SAAS,eAAe,GAC9BhwB,GACC1qD,KAAKioE,KAAKuN,WACVx1E,KAAK07E,kBAAkBhG,OAE/B,CAMAwF,QAAAA,GACIl7E,KAAKk5E,YAAYx2C,OAAO,EAAG1iC,KAAKm5E,gBAIhCn5E,KAAKm5E,eAAiB,EAClB,IAAMn5E,KAAKk5E,YAAY5qF,OACvB0R,KAAKouE,aAAa,SAGlBpuE,KAAKo7E,OAEb,CAMAA,KAAAA,GACI,GAAI,WAAap7E,KAAK6vE,YAClB7vE,KAAKw6E,UAAUhL,WACdxvE,KAAK27E,WACN37E,KAAKk5E,YAAY5qF,OAAQ,CACzB,MAAM6hF,EAAUnwE,KAAK47E,sBACrB57E,KAAKw6E,UAAUtK,KAAKC,GAGpBnwE,KAAKm5E,eAAiBhJ,EAAQ7hF,OAC9B0R,KAAKouE,aAAa,QACtB,CACJ,CAOAwN,mBAAAA,GAII,KAH+B57E,KAAKs5E,aACR,YAAxBt5E,KAAKw6E,UAAUjqF,MACfyP,KAAKk5E,YAAY5qF,OAAS,GAE1B,OAAO0R,KAAKk5E,YAEhB,IAAI2C,EAAc,EAClB,IAAK,IAAIrtF,EAAI,EAAGA,EAAIwR,KAAKk5E,YAAY5qF,OAAQE,IAAK,CAC9C,MAAM6G,EAAO2K,KAAKk5E,YAAY1qF,GAAG6G,KAIjC,GAHIA,IACAwmF,GVxUO,kBADIvwB,EUyUej2D,GVlU1C,SAAoB6vD,GAChB,IAAI1tB,EAAI,EAAGlpC,EAAS,EACpB,IAAK,IAAIE,EAAI,EAAG6rF,EAAIn1B,EAAI52D,OAAQE,EAAI6rF,EAAG7rF,IACnCgpC,EAAI0tB,EAAIhkD,WAAW1S,GACfgpC,EAAI,IACJlpC,GAAU,EAELkpC,EAAI,KACTlpC,GAAU,EAELkpC,EAAI,OAAUA,GAAK,MACxBlpC,GAAU,GAGVE,IACAF,GAAU,GAGlB,OAAOA,CACX,CAxBewtF,CAAWxwB,GAGflyD,KAAK2iF,KAPQ,MAOFzwB,EAAI8f,YAAc9f,EAAIzkC,QUsU5Br4B,EAAI,GAAKqtF,EAAc77E,KAAKs5E,YAC5B,OAAOt5E,KAAKk5E,YAAY/8E,MAAM,EAAG3N,GAErCqtF,GAAe,CACnB,CV/UD,IAAoBvwB,EUgVnB,OAAOtrD,KAAKk5E,WAChB,CAUc8C,eAAAA,GACV,IAAKh8E,KAAKu5E,iBACN,OAAO,EACX,MAAM0C,EAAal0E,KAAKnQ,MAAQoI,KAAKu5E,iBAOrC,OANI0C,IACAj8E,KAAKu5E,iBAAmB,EACxBjL,IAAS,KACLtuE,KAAK06E,SAAS,eAAe,GAC9B16E,KAAKuuE,eAEL0N,CACX,CASA7L,KAAAA,CAAM8L,EAAKn6E,EAASnQ,GAEhB,OADAoO,KAAKs7E,YAAY,UAAWY,EAAKn6E,EAASnQ,GACnCoO,IACX,CASAkwE,IAAAA,CAAKgM,EAAKn6E,EAASnQ,GAEf,OADAoO,KAAKs7E,YAAY,UAAWY,EAAKn6E,EAASnQ,GACnCoO,IACX,CAUAs7E,WAAAA,CAAYlrF,EAAMiF,EAAM0M,EAASnQ,GAS7B,GARI,oBAAsByD,IACtBzD,EAAKyD,EACLA,OAAO61D,GAEP,oBAAsBnpD,IACtBnQ,EAAKmQ,EACLA,EAAU,MAEV,YAAc/B,KAAK6vE,YAAc,WAAa7vE,KAAK6vE,WACnD,QAEJ9tE,EAAUA,GAAW,CAAC,GACdo6E,UAAW,IAAUp6E,EAAQo6E,SACrC,MAAMzP,EAAS,CACXt8E,KAAMA,EACNiF,KAAMA,EACN0M,QAASA,GAEb/B,KAAKouE,aAAa,eAAgB1B,GAClC1sE,KAAKk5E,YAAYnjF,KAAK22E,GAClB96E,GACAoO,KAAK+tE,KAAK,QAASn8E,GACvBoO,KAAKo7E,OACT,CAIArL,KAAAA,GACI,MAAMA,EAAQA,KACV/vE,KAAK06E,SAAS,gBACd16E,KAAKw6E,UAAUzK,OAAO,EAEpBqM,EAAkBA,KACpBp8E,KAAKguE,IAAI,UAAWoO,GACpBp8E,KAAKguE,IAAI,eAAgBoO,GACzBrM,GAAO,EAELsM,EAAiBA,KAEnBr8E,KAAK+tE,KAAK,UAAWqO,GACrBp8E,KAAK+tE,KAAK,eAAgBqO,EAAgB,EAqB9C,MAnBI,YAAcp8E,KAAK6vE,YAAc,SAAW7vE,KAAK6vE,aACjD7vE,KAAK6vE,WAAa,UACd7vE,KAAKk5E,YAAY5qF,OACjB0R,KAAK+tE,KAAK,SAAS,KACX/tE,KAAK27E,UACLU,IAGAtM,GACJ,IAGC/vE,KAAK27E,UACVU,IAGAtM,KAGD/vE,IACX,CAMAo0E,QAAAA,CAASl7E,GAEL,GADA+/E,GAAqB+B,uBAAwB,EACzCh7E,KAAKioE,KAAKqU,kBACVt8E,KAAKk2E,WAAW5nF,OAAS,GACL,YAApB0R,KAAK6vE,WAEL,OADA7vE,KAAKk2E,WAAWz3B,QACTz+C,KAAK66E,QAEhB76E,KAAKouE,aAAa,QAASl1E,GAC3B8G,KAAK06E,SAAS,kBAAmBxhF,EACrC,CAMAwhF,QAAAA,CAASn/D,EAAQ+zD,GACb,GAAI,YAActvE,KAAK6vE,YACnB,SAAW7vE,KAAK6vE,YAChB,YAAc7vE,KAAK6vE,WAAY,CAS/B,GAPA7vE,KAAKmvE,eAAenvE,KAAK07E,mBAEzB17E,KAAKw6E,UAAUtM,mBAAmB,SAElCluE,KAAKw6E,UAAUzK,QAEf/vE,KAAKw6E,UAAUtM,qBACX6K,KACI/4E,KAAKu6E,4BACLn1E,oBAAoB,eAAgBpF,KAAKu6E,4BAA4B,GAErEv6E,KAAKy6E,uBAAuB,CAC5B,MAAMjsF,EAAIwqF,GAAwBvnF,QAAQuO,KAAKy6E,wBACpC,IAAPjsF,GACAwqF,GAAwBt2C,OAAOl0C,EAAG,EAE1C,CAGJwR,KAAK6vE,WAAa,SAElB7vE,KAAKy3B,GAAK,KAEVz3B,KAAKouE,aAAa,QAAS7yD,EAAQ+zD,GAGnCtvE,KAAKk5E,YAAc,GACnBl5E,KAAKm5E,eAAiB,CAC1B,CACJ,EAEJF,GAAqBrT,SbhYG,EawZjB,MAAM2W,WAA0BtD,GACnCp5E,WAAAA,GACIg5D,SAASxqE,WACT2R,KAAKw8E,UAAY,EACrB,CACAnM,MAAAA,GAEI,GADAxX,MAAMwX,SACF,SAAWrwE,KAAK6vE,YAAc7vE,KAAKioE,KAAK4R,QACxC,IAAK,IAAIrrF,EAAI,EAAGA,EAAIwR,KAAKw8E,UAAUluF,OAAQE,IACvCwR,KAAKy8E,OAAOz8E,KAAKw8E,UAAUhuF,GAGvC,CAOAiuF,MAAAA,CAAOlsF,GACH,IAAIiqF,EAAYx6E,KAAK86E,gBAAgBvqF,GACjCmsF,GAAS,EACbzD,GAAqB+B,uBAAwB,EAC7C,MAAM2B,EAAkBA,KAChBD,IAEJlC,EAAUtK,KAAK,CAAC,CAAE9/E,KAAM,OAAQiF,KAAM,WACtCmlF,EAAUzM,KAAK,UAAWmO,IACtB,IAAIQ,EAEJ,GAAI,SAAWR,EAAI9rF,MAAQ,UAAY8rF,EAAI7mF,KAAM,CAG7C,GAFA2K,KAAK27E,WAAY,EACjB37E,KAAKouE,aAAa,YAAaoM,IAC1BA,EACD,OACJvB,GAAqB+B,sBACjB,cAAgBR,EAAUjqF,KAC9ByP,KAAKw6E,UAAU/J,OAAM,KACbiM,GAEA,WAAa18E,KAAK6vE,aAEtB+M,IACA58E,KAAKi7E,aAAaT,GAClBA,EAAUtK,KAAK,CAAC,CAAE9/E,KAAM,aACxB4P,KAAKouE,aAAa,UAAWoM,GAC7BA,EAAY,KACZx6E,KAAK27E,WAAY,EACjB37E,KAAKo7E,QAAO,GAEpB,KACK,CACD,MAAMliF,EAAM,IAAI7H,MAAM,eAEtB6H,EAAIshF,UAAYA,EAAUjqF,KAC1ByP,KAAKouE,aAAa,eAAgBl1E,EACtC,KACF,EAEN,SAAS2jF,IACDH,IAGJA,GAAS,EACTE,IACApC,EAAUzK,QACVyK,EAAY,KAChB,CAEA,MAAMt0C,EAAWhtC,IACb,MAAM0hB,EAAQ,IAAIvpB,MAAM,gBAAkB6H,GAE1C0hB,EAAM4/D,UAAYA,EAAUjqF,KAC5BssF,IACA78E,KAAKouE,aAAa,eAAgBxzD,EAAM,EAE5C,SAASkiE,IACL52C,EAAQ,mBACZ,CAEA,SAASyvC,IACLzvC,EAAQ,gBACZ,CAEA,SAAS62C,EAAU7wB,GACXsuB,GAAatuB,EAAG37D,OAASiqF,EAAUjqF,MACnCssF,GAER,CAEA,MAAMD,EAAUA,KACZpC,EAAUvM,eAAe,OAAQ0O,GACjCnC,EAAUvM,eAAe,QAAS/nC,GAClCs0C,EAAUvM,eAAe,QAAS6O,GAClC98E,KAAKguE,IAAI,QAAS2H,GAClB31E,KAAKguE,IAAI,YAAa+O,EAAU,EAEpCvC,EAAUzM,KAAK,OAAQ4O,GACvBnC,EAAUzM,KAAK,QAAS7nC,GACxBs0C,EAAUzM,KAAK,QAAS+O,GACxB98E,KAAK+tE,KAAK,QAAS4H,GACnB31E,KAAK+tE,KAAK,YAAagP,IACyB,IAA5C/8E,KAAKw8E,UAAU/qF,QAAQ,iBACd,iBAATlB,EAEAyP,KAAKuuE,cAAa,KACTmO,GACDlC,EAAU5K,MACd,GACD,KAGH4K,EAAU5K,MAElB,CACAyL,WAAAA,CAAYhmF,GACR2K,KAAKw8E,UAAYx8E,KAAKg9E,gBAAgB3nF,EAAK4nF,UAC3CpkB,MAAMwiB,YAAYhmF,EACtB,CAOA2nF,eAAAA,CAAgBC,GACZ,MAAMC,EAAmB,GACzB,IAAK,IAAI1uF,EAAI,EAAGA,EAAIyuF,EAAS3uF,OAAQE,KAC5BwR,KAAKk2E,WAAWzkF,QAAQwrF,EAASzuF,KAClC0uF,EAAiBnnF,KAAKknF,EAASzuF,IAEvC,OAAO0uF,CACX,EAqBG,MAAMC,WAAeZ,GACxB18E,WAAAA,CAAYkyE,GACR,MAAM1mB,EAAmB,kBAAR0mB,EAAmBA,EADnB1jF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,CAAC,IAEhBg9D,EAAE6qB,YACF7qB,EAAE6qB,YAAyC,kBAApB7qB,EAAE6qB,WAAW,MACrC7qB,EAAE6qB,YAAc7qB,EAAE6qB,YAAc,CAAC,UAAW,YAAa,iBACpDpvD,KAAK6yD,GAAkByD,GAAmBzD,KAC1CnoB,QAAQkoB,KAAQA,KAEzB7gB,MAAMkZ,EAAK1mB,EACf,ECrtBJ,MAAMmf,GAA+C,oBAAhBC,YAM/BvuE,GAAW/K,OAAOiB,UAAU8J,SAC5BouE,GAAiC,oBAATC,MACT,qBAATA,MACoB,6BAAxBruE,GAAS1J,KAAK+3E,MAChB8S,GAAiC,oBAATC,MACT,qBAATA,MACoB,6BAAxBphF,GAAS1J,KAAK8qF,MAMf,SAASrG,GAAS3rB,GACrB,OAASkf,KAA0Blf,aAAemf,aAlBtCnf,IACyB,oBAAvBmf,YAAYC,OACpBD,YAAYC,OAAOpf,GACnBA,EAAIqf,kBAAkBF,YAeqCC,CAAOpf,KACnEgf,IAAkBhf,aAAeif,MACjC8S,IAAkB/xB,aAAegyB,IAC1C,CACO,SAASC,GAAUjyB,EAAKkyB,GAC3B,IAAKlyB,GAAsB,kBAARA,EACf,OAAO,EAEX,GAAIv2D,MAAMC,QAAQs2D,GAAM,CACpB,IAAK,IAAI98D,EAAI,EAAG6rF,EAAI/uB,EAAIh9D,OAAQE,EAAI6rF,EAAG7rF,IACnC,GAAI+uF,GAAUjyB,EAAI98D,IACd,OAAO,EAGf,OAAO,CACX,CACA,GAAIyoF,GAAS3rB,GACT,OAAO,EAEX,GAAIA,EAAIkyB,QACkB,oBAAflyB,EAAIkyB,QACU,IAArBnvF,UAAUC,OACV,OAAOivF,GAAUjyB,EAAIkyB,UAAU,GAEnC,IAAK,MAAM7xE,KAAO2/C,EACd,GAAIn6D,OAAOiB,UAAU+E,eAAe3E,KAAK84D,EAAK3/C,IAAQ4xE,GAAUjyB,EAAI3/C,IAChE,OAAO,EAGf,OAAO,CACX,CCzCO,SAAS8xE,GAAkB/Q,GAC9B,MAAMgR,EAAU,GACVC,EAAajR,EAAOr3E,KACpBuoF,EAAOlR,EAGb,OAFAkR,EAAKvoF,KAAOwoF,GAAmBF,EAAYD,GAC3CE,EAAKE,YAAcJ,EAAQpvF,OACpB,CAAEo+E,OAAQkR,EAAMF,QAASA,EACpC,CACA,SAASG,GAAmBxoF,EAAMqoF,GAC9B,IAAKroF,EACD,OAAOA,EACX,GAAI4hF,GAAS5hF,GAAO,CAChB,MAAM0oF,EAAc,CAAEC,cAAc,EAAMC,IAAKP,EAAQpvF,QAEvD,OADAovF,EAAQ3nF,KAAKV,GACN0oF,CACX,CACK,GAAIhpF,MAAMC,QAAQK,GAAO,CAC1B,MAAM6oF,EAAU,IAAInpF,MAAMM,EAAK/G,QAC/B,IAAK,IAAIE,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAC7B0vF,EAAQ1vF,GAAKqvF,GAAmBxoF,EAAK7G,GAAIkvF,GAE7C,OAAOQ,CACX,CACK,GAAoB,kBAAT7oF,KAAuBA,aAAgB0S,MAAO,CAC1D,MAAMm2E,EAAU,CAAC,EACjB,IAAK,MAAMvyE,KAAOtW,EACVlE,OAAOiB,UAAU+E,eAAe3E,KAAK6C,EAAMsW,KAC3CuyE,EAAQvyE,GAAOkyE,GAAmBxoF,EAAKsW,GAAM+xE,IAGrD,OAAOQ,CACX,CACA,OAAO7oF,CACX,CASO,SAAS8oF,GAAkBzR,EAAQgR,GAGtC,OAFAhR,EAAOr3E,KAAO+oF,GAAmB1R,EAAOr3E,KAAMqoF,UACvChR,EAAOoR,YACPpR,CACX,CACA,SAAS0R,GAAmB/oF,EAAMqoF,GAC9B,IAAKroF,EACD,OAAOA,EACX,GAAIA,IAA8B,IAAtBA,EAAK2oF,aAAuB,CAIpC,GAHyC,kBAAb3oF,EAAK4oF,KAC7B5oF,EAAK4oF,KAAO,GACZ5oF,EAAK4oF,IAAMP,EAAQpvF,OAEnB,OAAOovF,EAAQroF,EAAK4oF,KAGpB,MAAM,IAAI5sF,MAAM,sBAExB,CACK,GAAI0D,MAAMC,QAAQK,GACnB,IAAK,IAAI7G,EAAI,EAAGA,EAAI6G,EAAK/G,OAAQE,IAC7B6G,EAAK7G,GAAK4vF,GAAmB/oF,EAAK7G,GAAIkvF,QAGzC,GAAoB,kBAATroF,EACZ,IAAK,MAAMsW,KAAOtW,EACVlE,OAAOiB,UAAU+E,eAAe3E,KAAK6C,EAAMsW,KAC3CtW,EAAKsW,GAAOyyE,GAAmB/oF,EAAKsW,GAAM+xE,IAItD,OAAOroF,CACX,CC5EA,MAAMgpF,GAAkB,CACpB,UACA,gBACA,aACA,gBACA,cACA,kBAOSzY,GAAW,EACjB,IAAI0Y,IACX,SAAWA,GACPA,EAAWA,EAAoB,QAAI,GAAK,UACxCA,EAAWA,EAAuB,WAAI,GAAK,aAC3CA,EAAWA,EAAkB,MAAI,GAAK,QACtCA,EAAWA,EAAgB,IAAI,GAAK,MACpCA,EAAWA,EAA0B,cAAI,GAAK,gBAC9CA,EAAWA,EAAyB,aAAI,GAAK,eAC7CA,EAAWA,EAAuB,WAAI,GAAK,YAC9C,CARD,CAQGA,KAAeA,GAAa,CAAC,IAIzB,MAAMC,GAMT1+E,WAAAA,CAAY2+E,GACRx+E,KAAKw+E,SAAWA,CACpB,CAOA3R,MAAAA,CAAOvhB,GACH,OAAIA,EAAIl7D,OAASkuF,GAAWG,OAASnzB,EAAIl7D,OAASkuF,GAAWI,MACrDnB,GAAUjyB,GAWX,CAACtrD,KAAK2+E,eAAerzB,IAVbtrD,KAAK4+E,eAAe,CACvBxuF,KAAMk7D,EAAIl7D,OAASkuF,GAAWG,MACxBH,GAAWO,aACXP,GAAWQ,WACjBC,IAAKzzB,EAAIyzB,IACT1pF,KAAMi2D,EAAIj2D,KACVoiC,GAAI6zB,EAAI7zB,IAKxB,CAIAknD,cAAAA,CAAerzB,GAEX,IAAIpG,EAAM,GAAKoG,EAAIl7D,KAmBnB,OAjBIk7D,EAAIl7D,OAASkuF,GAAWO,cACxBvzB,EAAIl7D,OAASkuF,GAAWQ,aACxB55B,GAAOoG,EAAIwyB,YAAc,KAIzBxyB,EAAIyzB,KAAO,MAAQzzB,EAAIyzB,MACvB75B,GAAOoG,EAAIyzB,IAAM,KAGjB,MAAQzzB,EAAI7zB,KACZytB,GAAOoG,EAAI7zB,IAGX,MAAQ6zB,EAAIj2D,OACZ6vD,GAAOiO,KAAKC,UAAU9H,EAAIj2D,KAAM2K,KAAKw+E,WAElCt5B,CACX,CAMA05B,cAAAA,CAAetzB,GACX,MAAM0zB,EAAiBvB,GAAkBnyB,GACnCsyB,EAAO59E,KAAK2+E,eAAeK,EAAetS,QAC1CgR,EAAUsB,EAAetB,QAE/B,OADAA,EAAQvmC,QAAQymC,GACTF,CACX,EAGJ,SAASuB,GAASjsF,GACd,MAAiD,oBAA1C7B,OAAOiB,UAAU8J,SAAS1J,KAAKQ,EAC1C,CAMO,MAAMksF,WAAgBvR,GAMzB9tE,WAAAA,CAAYs/E,GACRtmB,QACA74D,KAAKm/E,QAAUA,CACnB,CAMAjhF,GAAAA,CAAIotD,GACA,IAAIohB,EACJ,GAAmB,kBAARphB,EAAkB,CACzB,GAAItrD,KAAKo/E,cACL,MAAM,IAAI/tF,MAAM,mDAEpBq7E,EAAS1sE,KAAKq/E,aAAa/zB,GAC3B,MAAMg0B,EAAgB5S,EAAOt8E,OAASkuF,GAAWO,aAC7CS,GAAiB5S,EAAOt8E,OAASkuF,GAAWQ,YAC5CpS,EAAOt8E,KAAOkvF,EAAgBhB,GAAWG,MAAQH,GAAWI,IAE5D1+E,KAAKo/E,cAAgB,IAAIG,GAAoB7S,GAElB,IAAvBA,EAAOoR,aACPjlB,MAAMuV,aAAa,UAAW1B,IAKlC7T,MAAMuV,aAAa,UAAW1B,EAEtC,KACK,KAAIuK,GAAS3rB,KAAQA,EAAIugB,OAe1B,MAAM,IAAIx6E,MAAM,iBAAmBi6D,GAbnC,IAAKtrD,KAAKo/E,cACN,MAAM,IAAI/tF,MAAM,oDAGhBq7E,EAAS1sE,KAAKo/E,cAAcI,eAAel0B,GACvCohB,IAEA1sE,KAAKo/E,cAAgB,KACrBvmB,MAAMuV,aAAa,UAAW1B,GAM1C,CACJ,CAOA2S,YAAAA,CAAan6B,GACT,IAAI12D,EAAI,EAER,MAAMoN,EAAI,CACNxL,KAAM8gF,OAAOhsB,EAAI2H,OAAO,KAE5B,QAA2B3B,IAAvBozB,GAAW1iF,EAAExL,MACb,MAAM,IAAIiB,MAAM,uBAAyBuK,EAAExL,MAG/C,GAAIwL,EAAExL,OAASkuF,GAAWO,cACtBjjF,EAAExL,OAASkuF,GAAWQ,WAAY,CAClC,MAAMt5E,EAAQhX,EAAI,EAClB,KAA2B,MAApB02D,EAAI2H,SAASr+D,IAAcA,GAAK02D,EAAI52D,SAC3C,MAAMmxF,EAAMv6B,EAAIyH,UAAUnnD,EAAOhX,GACjC,GAAIixF,GAAOvO,OAAOuO,IAA0B,MAAlBv6B,EAAI2H,OAAOr+D,GACjC,MAAM,IAAI6C,MAAM,uBAEpBuK,EAAEkiF,YAAc5M,OAAOuO,EAC3B,CAEA,GAAI,MAAQv6B,EAAI2H,OAAOr+D,EAAI,GAAI,CAC3B,MAAMgX,EAAQhX,EAAI,EAClB,OAASA,GAAG,CAER,GAAI,MADM02D,EAAI2H,OAAOr+D,GAEjB,MACJ,GAAIA,IAAM02D,EAAI52D,OACV,KACR,CACAsN,EAAEmjF,IAAM75B,EAAIyH,UAAUnnD,EAAOhX,EACjC,MAEIoN,EAAEmjF,IAAM,IAGZ,MAAMnoE,EAAOsuC,EAAI2H,OAAOr+D,EAAI,GAC5B,GAAI,KAAOooB,GAAQs6D,OAAOt6D,IAASA,EAAM,CACrC,MAAMpR,EAAQhX,EAAI,EAClB,OAASA,GAAG,CACR,MAAMgpC,EAAI0tB,EAAI2H,OAAOr+D,GACrB,GAAI,MAAQgpC,GAAK05C,OAAO15C,IAAMA,EAAG,GAC3BhpC,EACF,KACJ,CACA,GAAIA,IAAM02D,EAAI52D,OACV,KACR,CACAsN,EAAE67B,GAAKy5C,OAAOhsB,EAAIyH,UAAUnnD,EAAOhX,EAAI,GAC3C,CAEA,GAAI02D,EAAI2H,SAASr+D,GAAI,CACjB,MAAMw7B,EAAUhqB,KAAK0/E,SAASx6B,EAAIy6B,OAAOnxF,IACzC,IAAI0wF,GAAQU,eAAehkF,EAAExL,KAAM45B,GAI/B,MAAM,IAAI34B,MAAM,mBAHhBuK,EAAEvG,KAAO20B,CAKjB,CACA,OAAOpuB,CACX,CACA8jF,QAAAA,CAASx6B,GACL,IACI,OAAOiO,KAAK0D,MAAM3R,EAAKllD,KAAKm/E,QAChC,CACA,MAAOr+E,IACH,OAAO,CACX,CACJ,CACA,qBAAO8+E,CAAexvF,EAAM45B,GACxB,OAAQ55B,GACJ,KAAKkuF,GAAWuB,QACZ,OAAOZ,GAASj1D,GACpB,KAAKs0D,GAAWwB,WACZ,YAAmB50B,IAAZlhC,EACX,KAAKs0D,GAAWyB,cACZ,MAA0B,kBAAZ/1D,GAAwBi1D,GAASj1D,GACnD,KAAKs0D,GAAWG,MAChB,KAAKH,GAAWO,aACZ,OAAQ9pF,MAAMC,QAAQg1B,KACK,kBAAfA,EAAQ,IACW,kBAAfA,EAAQ,KAC6B,IAAzCq0D,GAAgB5sF,QAAQu4B,EAAQ,KAChD,KAAKs0D,GAAWI,IAChB,KAAKJ,GAAWQ,WACZ,OAAO/pF,MAAMC,QAAQg1B,GAEjC,CAIAlB,OAAAA,GACQ9oB,KAAKo/E,gBACLp/E,KAAKo/E,cAAcY,yBACnBhgF,KAAKo/E,cAAgB,KAE7B,EAUJ,MAAMG,GACF1/E,WAAAA,CAAY6sE,GACR1sE,KAAK0sE,OAASA,EACd1sE,KAAK09E,QAAU,GACf19E,KAAKigF,UAAYvT,CACrB,CASA8S,cAAAA,CAAeU,GAEX,GADAlgF,KAAK09E,QAAQ3nF,KAAKmqF,GACdlgF,KAAK09E,QAAQpvF,SAAW0R,KAAKigF,UAAUnC,YAAa,CAEpD,MAAMpR,EAASyR,GAAkBn+E,KAAKigF,UAAWjgF,KAAK09E,SAEtD,OADA19E,KAAKggF,yBACEtT,CACX,CACA,OAAO,IACX,CAIAsT,sBAAAA,GACIhgF,KAAKigF,UAAY,KACjBjgF,KAAK09E,QAAU,EACnB,ECrTG,SAAS7P,GAAGviB,EAAKuqB,EAAIjkF,GAExB,OADA05D,EAAIuiB,GAAGgI,EAAIjkF,GACJ,WACH05D,EAAI0iB,IAAI6H,EAAIjkF,EAChB,CACJ,CCEA,MAAMysF,GAAkBltF,OAAOgvF,OAAO,CAClCC,QAAS,EACTC,cAAe,EACfnZ,WAAY,EACZoZ,cAAe,EAEfC,YAAa,EACbtS,eAAgB,IA0Bb,MAAMkP,WAAexP,GAIxB9tE,WAAAA,CAAY2gF,EAAIzB,EAAK9W,GACjBpP,QAeA74D,KAAKygF,WAAY,EAKjBzgF,KAAK0gF,WAAY,EAIjB1gF,KAAK2gF,cAAgB,GAIrB3gF,KAAK4gF,WAAa,GAOlB5gF,KAAK6gF,OAAS,GAKd7gF,KAAK8gF,UAAY,EACjB9gF,KAAK+gF,IAAM,EAwBX/gF,KAAKghF,KAAO,CAAC,EACbhhF,KAAK3L,MAAQ,CAAC,EACd2L,KAAKwgF,GAAKA,EACVxgF,KAAK++E,IAAMA,EACP9W,GAAQA,EAAKgZ,OACbjhF,KAAKihF,KAAOhZ,EAAKgZ,MAErBjhF,KAAKgzE,MAAQ7hF,OAAOD,OAAO,CAAC,EAAG+2E,GAC3BjoE,KAAKwgF,GAAGU,cACRlhF,KAAK4vE,MACb,CAeA,gBAAIuR,GACA,OAAQnhF,KAAKygF,SACjB,CAMAW,SAAAA,GACI,GAAIphF,KAAKqhF,KACL,OACJ,MAAMb,EAAKxgF,KAAKwgF,GAChBxgF,KAAKqhF,KAAO,CACRxT,GAAG2S,EAAI,OAAQxgF,KAAKu1E,OAAO5sD,KAAK3oB,OAChC6tE,GAAG2S,EAAI,SAAUxgF,KAAKshF,SAAS34D,KAAK3oB,OACpC6tE,GAAG2S,EAAI,QAASxgF,KAAKkmC,QAAQvd,KAAK3oB,OAClC6tE,GAAG2S,EAAI,QAASxgF,KAAK21E,QAAQhtD,KAAK3oB,OAE1C,CAkBA,UAAIuhF,GACA,QAASvhF,KAAKqhF,IAClB,CAWAjB,OAAAA,GACI,OAAIpgF,KAAKygF,YAETzgF,KAAKohF,YACAphF,KAAKwgF,GAAkB,eACxBxgF,KAAKwgF,GAAG5Q,OACR,SAAW5vE,KAAKwgF,GAAGgB,aACnBxhF,KAAKu1E,UALEv1E,IAOf,CAIA4vE,IAAAA,GACI,OAAO5vE,KAAKogF,SAChB,CAgBAlQ,IAAAA,GAAc,QAAAvB,EAAAtgF,UAAAC,OAAN6/E,EAAI,IAAAp5E,MAAA45E,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJT,EAAIS,GAAAvgF,UAAAugF,GAGR,OAFAT,EAAKh3B,QAAQ,WACbn3C,KAAK2yB,KAAK0a,MAAMrtC,KAAMmuE,GACfnuE,IACX,CAkBA2yB,IAAAA,CAAKkjD,GACD,IAAIxC,EAAIoO,EAAIC,EACZ,GAAIrD,GAAgBlnF,eAAe0+E,GAC/B,MAAM,IAAIxkF,MAAM,IAAMwkF,EAAG35E,WAAa,8BACzC,QAAAylF,EAAAtzF,UAAAC,OAJO6/E,EAAI,IAAAp5E,MAAA4sF,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJzT,EAAIyT,EAAA,GAAAvzF,UAAAuzF,GAMZ,GADAzT,EAAKh3B,QAAQ0+B,GACT71E,KAAKgzE,MAAM6O,UAAY7hF,KAAK3L,MAAMytF,YAAc9hF,KAAK3L,MAAM0tF,SAE3D,OADA/hF,KAAKgiF,YAAY7T,GACVnuE,KAEX,MAAM0sE,EAAS,CACXt8E,KAAMkuF,GAAWG,MACjBppF,KAAM84E,EAEVzB,QAAiB,CAAC,GAGlB,GAFAA,EAAO3qE,QAAQo6E,UAAmC,IAAxBn8E,KAAK3L,MAAM8nF,SAEjC,oBAAsBhO,EAAKA,EAAK7/E,OAAS,GAAI,CAC7C,MAAMmpC,EAAKz3B,KAAK+gF,MACVkB,EAAM9T,EAAKt4E,MACjBmK,KAAKkiF,qBAAqBzqD,EAAIwqD,GAC9BvV,EAAOj1C,GAAKA,CAChB,CACA,MAAM0qD,EAAyG,QAAlFV,EAA+B,QAAzBpO,EAAKrzE,KAAKwgF,GAAG4B,cAA2B,IAAP/O,OAAgB,EAASA,EAAGmH,iBAA8B,IAAPiH,OAAgB,EAASA,EAAGjS,SAC7I6S,EAAcriF,KAAKygF,aAAyC,QAAzBiB,EAAK1hF,KAAKwgF,GAAG4B,cAA2B,IAAPV,OAAgB,EAASA,EAAG1F,mBAYtG,OAXsBh8E,KAAK3L,MAAM0tF,WAAaI,IAGrCE,GACLriF,KAAKsiF,wBAAwB5V,GAC7B1sE,KAAK0sE,OAAOA,IAGZ1sE,KAAK4gF,WAAW7qF,KAAK22E,IAEzB1sE,KAAK3L,MAAQ,CAAC,EACP2L,IACX,CAIAkiF,oBAAAA,CAAqBzqD,EAAIwqD,GAAK,IACtB5O,EADsBkP,EAAA,KAE1B,MAAM53B,EAAwC,QAA7B0oB,EAAKrzE,KAAK3L,MAAMs2D,eAA4B,IAAP0oB,EAAgBA,EAAKrzE,KAAKgzE,MAAMwP,WACtF,QAAgBt3B,IAAZP,EAEA,YADA3qD,KAAKghF,KAAKvpD,GAAMwqD,GAIpB,MAAMz5B,EAAQxoD,KAAKwgF,GAAGjS,cAAa,YACxBvuE,KAAKghF,KAAKvpD,GACjB,IAAK,IAAIjpC,EAAI,EAAGA,EAAIwR,KAAK4gF,WAAWtyF,OAAQE,IACpCwR,KAAK4gF,WAAWpyF,GAAGipC,KAAOA,GAC1Bz3B,KAAK4gF,WAAWl+C,OAAOl0C,EAAG,GAGlCyzF,EAAIzvF,KAAKwN,KAAM,IAAI3O,MAAM,2BAA2B,GACrDs5D,GACG/4D,EAAK,WAEP2wF,EAAK/B,GAAGrR,eAAe3mB,GAAO,QAAA6b,EAAAh2E,UAAAC,OAFnB6/E,EAAI,IAAAp5E,MAAAsvE,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ6J,EAAI7J,GAAAj2E,UAAAi2E,GAGf2d,EAAI50C,MAAMk1C,EAAMpU,EACpB,EACAv8E,EAAG6wF,WAAY,EACfziF,KAAKghF,KAAKvpD,GAAM7lC,CACpB,CAiBA8wF,WAAAA,CAAY7M,GAAa,QAAA8M,EAAAt0F,UAAAC,OAAN6/E,EAAI,IAAAp5E,MAAA4tF,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJzU,EAAIyU,EAAA,GAAAv0F,UAAAu0F,GACnB,OAAO,IAAI78C,SAAQ,CAACnjB,EAASojB,KACzB,MAAMp0C,EAAKA,CAACixF,EAAMC,IACPD,EAAO78C,EAAO68C,GAAQjgE,EAAQkgE,GAEzClxF,EAAG6wF,WAAY,EACftU,EAAKp4E,KAAKnE,GACVoO,KAAK2yB,KAAKkjD,KAAO1H,EAAK,GAE9B,CAMA6T,WAAAA,CAAY7T,GAAM,IAAA4U,EAAA,KACd,IAAId,EACiC,oBAA1B9T,EAAKA,EAAK7/E,OAAS,KAC1B2zF,EAAM9T,EAAKt4E,OAEf,MAAM62E,EAAS,CACXj1C,GAAIz3B,KAAK8gF,YACTkC,SAAU,EACV5tF,SAAS,EACT+4E,OACA95E,MAAOlD,OAAOD,OAAO,CAAE4wF,WAAW,GAAQ9hF,KAAK3L,QAEnD85E,EAAKp4E,MAAK,SAACmD,GACP,GAAIwzE,IAAWqW,EAAKlC,OAAO,GAEvB,OAGJ,GADyB,OAAR3nF,EAETwzE,EAAOsW,SAAWD,EAAK/P,MAAM6O,UAC7BkB,EAAKlC,OAAOpiC,QACRwjC,GACAA,EAAI/oF,SAMZ,GADA6pF,EAAKlC,OAAOpiC,QACRwjC,EAAK,SAAAgB,EAAA50F,UAAAC,OAhBE40F,EAAY,IAAAnuF,MAAAkuF,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAZD,EAAYC,EAAA,GAAA90F,UAAA80F,GAiBnBlB,EAAI,QAASiB,EACjB,CAGJ,OADAxW,EAAOt3E,SAAU,EACV2tF,EAAKK,aAChB,IACApjF,KAAK6gF,OAAO9qF,KAAK22E,GACjB1sE,KAAKojF,aACT,CAOAA,WAAAA,GAA2B,IAAfC,EAAKh1F,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,IAAAA,UAAA,GACb,IAAK2R,KAAKygF,WAAoC,IAAvBzgF,KAAK6gF,OAAOvyF,OAC/B,OAEJ,MAAMo+E,EAAS1sE,KAAK6gF,OAAO,GACvBnU,EAAOt3E,UAAYiuF,IAGvB3W,EAAOt3E,SAAU,EACjBs3E,EAAOsW,WACPhjF,KAAK3L,MAAQq4E,EAAOr4E,MACpB2L,KAAK2yB,KAAK0a,MAAMrtC,KAAM0sE,EAAOyB,MACjC,CAOAzB,MAAAA,CAAOA,GACHA,EAAOqS,IAAM/+E,KAAK++E,IAClB/+E,KAAKwgF,GAAGpK,QAAQ1J,EACpB,CAMA6I,MAAAA,GAC4B,mBAAbv1E,KAAKihF,KACZjhF,KAAKihF,MAAM5rF,IACP2K,KAAKsjF,mBAAmBjuF,EAAK,IAIjC2K,KAAKsjF,mBAAmBtjF,KAAKihF,KAErC,CAOAqC,kBAAAA,CAAmBjuF,GACf2K,KAAK0sE,OAAO,CACRt8E,KAAMkuF,GAAWuB,QACjBxqF,KAAM2K,KAAKujF,KACLpyF,OAAOD,OAAO,CAAEsyF,IAAKxjF,KAAKujF,KAAM7xE,OAAQ1R,KAAKyjF,aAAepuF,GAC5DA,GAEd,CAOA6wC,OAAAA,CAAQhtC,GACC8G,KAAKygF,WACNzgF,KAAKouE,aAAa,gBAAiBl1E,EAE3C,CAQAy8E,OAAAA,CAAQp6D,EAAQ+zD,GACZtvE,KAAKygF,WAAY,SACVzgF,KAAKy3B,GACZz3B,KAAKouE,aAAa,aAAc7yD,EAAQ+zD,GACxCtvE,KAAK0jF,YACT,CAOAA,UAAAA,GACIvyF,OAAOkgB,KAAKrR,KAAKghF,MAAM3hE,SAASoY,IAE5B,IADmBz3B,KAAK4gF,WAAWrvB,MAAMmb,GAAW9gE,OAAO8gE,EAAOj1C,MAAQA,IACzD,CAEb,MAAMwqD,EAAMjiF,KAAKghF,KAAKvpD,UACfz3B,KAAKghF,KAAKvpD,GACbwqD,EAAIQ,WACJR,EAAIzvF,KAAKwN,KAAM,IAAI3O,MAAM,gCAEjC,IAER,CAOAiwF,QAAAA,CAAS5U,GAEL,GADsBA,EAAOqS,MAAQ/+E,KAAK++E,IAG1C,OAAQrS,EAAOt8E,MACX,KAAKkuF,GAAWuB,QACRnT,EAAOr3E,MAAQq3E,EAAOr3E,KAAK68E,IAC3BlyE,KAAK2jF,UAAUjX,EAAOr3E,KAAK68E,IAAKxF,EAAOr3E,KAAKmuF,KAG5CxjF,KAAKouE,aAAa,gBAAiB,IAAI/8E,MAAM,8LAEjD,MACJ,KAAKitF,GAAWG,MAChB,KAAKH,GAAWO,aACZ7+E,KAAK4jF,QAAQlX,GACb,MACJ,KAAK4R,GAAWI,IAChB,KAAKJ,GAAWQ,WACZ9+E,KAAK6jF,MAAMnX,GACX,MACJ,KAAK4R,GAAWwB,WACZ9/E,KAAK8jF,eACL,MACJ,KAAKxF,GAAWyB,cACZ//E,KAAK8oB,UACL,MAAM5vB,EAAM,IAAI7H,MAAMq7E,EAAOr3E,KAAKpB,SAElCiF,EAAI7D,KAAOq3E,EAAOr3E,KAAKA,KACvB2K,KAAKouE,aAAa,gBAAiBl1E,GAG/C,CAOA0qF,OAAAA,CAAQlX,GACJ,MAAMyB,EAAOzB,EAAOr3E,MAAQ,GACxB,MAAQq3E,EAAOj1C,IACf02C,EAAKp4E,KAAKiK,KAAKiiF,IAAIvV,EAAOj1C,KAE1Bz3B,KAAKygF,UACLzgF,KAAK+jF,UAAU5V,GAGfnuE,KAAK2gF,cAAc5qF,KAAK5E,OAAOgvF,OAAOhS,GAE9C,CACA4V,SAAAA,CAAU5V,GACN,GAAInuE,KAAKgkF,eAAiBhkF,KAAKgkF,cAAc11F,OAAQ,CACjD,MAAMohB,EAAY1P,KAAKgkF,cAAc7nF,QACrC,IAAK,MAAMklB,KAAY3R,EACnB2R,EAASgsB,MAAMrtC,KAAMmuE,EAE7B,CACAtV,MAAMlmC,KAAK0a,MAAMrtC,KAAMmuE,GACnBnuE,KAAKujF,MAAQpV,EAAK7/E,QAA2C,kBAA1B6/E,EAAKA,EAAK7/E,OAAS,KACtD0R,KAAKyjF,YAActV,EAAKA,EAAK7/E,OAAS,GAE9C,CAMA2zF,GAAAA,CAAIxqD,GACA,MAAMoqB,EAAO7hD,KACb,IAAIikF,GAAO,EACX,OAAO,WAEH,IAAIA,EAAJ,CAEAA,GAAO,EAAK,QAAAC,EAAA71F,UAAAC,OAJI6/E,EAAI,IAAAp5E,MAAAmvF,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJhW,EAAIgW,GAAA91F,UAAA81F,GAKpBtiC,EAAK6qB,OAAO,CACRt8E,KAAMkuF,GAAWI,IACjBjnD,GAAIA,EACJpiC,KAAM84E,GALA,CAOd,CACJ,CAOA0V,KAAAA,CAAMnX,GACF,MAAMuV,EAAMjiF,KAAKghF,KAAKtU,EAAOj1C,IACV,oBAARwqD,WAGJjiF,KAAKghF,KAAKtU,EAAOj1C,IAEpBwqD,EAAIQ,WACJ/V,EAAOr3E,KAAK8hD,QAAQ,MAGxB8qC,EAAI50C,MAAMrtC,KAAM0sE,EAAOr3E,MAC3B,CAMAsuF,SAAAA,CAAUlsD,EAAI+rD,GACVxjF,KAAKy3B,GAAKA,EACVz3B,KAAK0gF,UAAY8C,GAAOxjF,KAAKujF,OAASC,EACtCxjF,KAAKujF,KAAOC,EACZxjF,KAAKygF,WAAY,EACjBzgF,KAAKokF,eACLpkF,KAAKouE,aAAa,WAClBpuE,KAAKojF,aAAY,EACrB,CAMAgB,YAAAA,GACIpkF,KAAK2gF,cAActhE,SAAS8uD,GAASnuE,KAAK+jF,UAAU5V,KACpDnuE,KAAK2gF,cAAgB,GACrB3gF,KAAK4gF,WAAWvhE,SAASqtD,IACrB1sE,KAAKsiF,wBAAwB5V,GAC7B1sE,KAAK0sE,OAAOA,EAAO,IAEvB1sE,KAAK4gF,WAAa,EACtB,CAMAkD,YAAAA,GACI9jF,KAAK8oB,UACL9oB,KAAK21E,QAAQ,uBACjB,CAQA7sD,OAAAA,GACQ9oB,KAAKqhF,OAELrhF,KAAKqhF,KAAKhiE,SAASglE,GAAeA,MAClCrkF,KAAKqhF,UAAOn2B,GAEhBlrD,KAAKwgF,GAAa,SAAExgF,KACxB,CAiBAknE,UAAAA,GAUI,OATIlnE,KAAKygF,WACLzgF,KAAK0sE,OAAO,CAAEt8E,KAAMkuF,GAAWwB,aAGnC9/E,KAAK8oB,UACD9oB,KAAKygF,WAELzgF,KAAK21E,QAAQ,wBAEV31E,IACX,CAMA+vE,KAAAA,GACI,OAAO/vE,KAAKknE,YAChB,CAUAiV,QAAAA,CAASA,GAEL,OADAn8E,KAAK3L,MAAM8nF,SAAWA,EACfn8E,IACX,CAUA,YAAI+hF,GAEA,OADA/hF,KAAK3L,MAAM0tF,UAAW,EACf/hF,IACX,CAcA2qD,OAAAA,CAAQA,GAEJ,OADA3qD,KAAK3L,MAAMs2D,QAAUA,EACd3qD,IACX,CAYAskF,KAAAA,CAAMjjE,GAGF,OAFArhB,KAAKgkF,cAAgBhkF,KAAKgkF,eAAiB,GAC3ChkF,KAAKgkF,cAAcjuF,KAAKsrB,GACjBrhB,IACX,CAYAukF,UAAAA,CAAWljE,GAGP,OAFArhB,KAAKgkF,cAAgBhkF,KAAKgkF,eAAiB,GAC3ChkF,KAAKgkF,cAAc7sC,QAAQ91B,GACpBrhB,IACX,CAmBAwkF,MAAAA,CAAOnjE,GACH,IAAKrhB,KAAKgkF,cACN,OAAOhkF,KAEX,GAAIqhB,EAAU,CACV,MAAM3R,EAAY1P,KAAKgkF,cACvB,IAAK,IAAIx1F,EAAI,EAAGA,EAAIkhB,EAAUphB,OAAQE,IAClC,GAAI6yB,IAAa3R,EAAUlhB,GAEvB,OADAkhB,EAAUgzB,OAAOl0C,EAAG,GACbwR,IAGnB,MAEIA,KAAKgkF,cAAgB,GAEzB,OAAOhkF,IACX,CAKAykF,YAAAA,GACI,OAAOzkF,KAAKgkF,eAAiB,EACjC,CAcAU,aAAAA,CAAcrjE,GAGV,OAFArhB,KAAK2kF,sBAAwB3kF,KAAK2kF,uBAAyB,GAC3D3kF,KAAK2kF,sBAAsB5uF,KAAKsrB,GACzBrhB,IACX,CAcA4kF,kBAAAA,CAAmBvjE,GAGf,OAFArhB,KAAK2kF,sBAAwB3kF,KAAK2kF,uBAAyB,GAC3D3kF,KAAK2kF,sBAAsBxtC,QAAQ91B,GAC5BrhB,IACX,CAmBA6kF,cAAAA,CAAexjE,GACX,IAAKrhB,KAAK2kF,sBACN,OAAO3kF,KAEX,GAAIqhB,EAAU,CACV,MAAM3R,EAAY1P,KAAK2kF,sBACvB,IAAK,IAAIn2F,EAAI,EAAGA,EAAIkhB,EAAUphB,OAAQE,IAClC,GAAI6yB,IAAa3R,EAAUlhB,GAEvB,OADAkhB,EAAUgzB,OAAOl0C,EAAG,GACbwR,IAGnB,MAEIA,KAAK2kF,sBAAwB,GAEjC,OAAO3kF,IACX,CAKA8kF,oBAAAA,GACI,OAAO9kF,KAAK2kF,uBAAyB,EACzC,CAQArC,uBAAAA,CAAwB5V,GACpB,GAAI1sE,KAAK2kF,uBAAyB3kF,KAAK2kF,sBAAsBr2F,OAAQ,CACjE,MAAMohB,EAAY1P,KAAK2kF,sBAAsBxoF,QAC7C,IAAK,MAAMklB,KAAY3R,EACnB2R,EAASgsB,MAAMrtC,KAAM0sE,EAAOr3E,KAEpC,CACJ,ECr2BG,SAAS0vF,GAAQ9c,GACpBA,EAAOA,GAAQ,CAAC,EAChBjoE,KAAK8pD,GAAKme,EAAK/0D,KAAO,IACtBlT,KAAKmlD,IAAM8iB,EAAK9iB,KAAO,IACvBnlD,KAAKglF,OAAS/c,EAAK+c,QAAU,EAC7BhlF,KAAKilF,OAAShd,EAAKgd,OAAS,GAAKhd,EAAKgd,QAAU,EAAIhd,EAAKgd,OAAS,EAClEjlF,KAAKklF,SAAW,CACpB,CAOAH,GAAQ3yF,UAAU+yF,SAAW,WACzB,IAAIr7B,EAAK9pD,KAAK8pD,GAAK1wD,KAAKi+E,IAAIr3E,KAAKglF,OAAQhlF,KAAKklF,YAC9C,GAAIllF,KAAKilF,OAAQ,CACb,IAAIG,EAAOhsF,KAAK6C,SACZopF,EAAYjsF,KAAKgxD,MAAMg7B,EAAOplF,KAAKilF,OAASn7B,GAChDA,EAAoC,IAAN,EAAxB1wD,KAAKgxD,MAAa,GAAPg7B,IAAuBt7B,EAAKu7B,EAAYv7B,EAAKu7B,CAClE,CACA,OAAgC,EAAzBjsF,KAAK8Z,IAAI42C,EAAI9pD,KAAKmlD,IAC7B,EAMA4/B,GAAQ3yF,UAAUyxC,MAAQ,WACtB7jC,KAAKklF,SAAW,CACpB,EAMAH,GAAQ3yF,UAAUkzF,OAAS,SAAUpyE,GACjClT,KAAK8pD,GAAK52C,CACd,EAMA6xE,GAAQ3yF,UAAUmzF,OAAS,SAAUpgC,GACjCnlD,KAAKmlD,IAAMA,CACf,EAMA4/B,GAAQ3yF,UAAUozF,UAAY,SAAUP,GACpCjlF,KAAKilF,OAASA,CAClB,EC3DO,MAAMQ,WAAgB9X,GACzB9tE,WAAAA,CAAYkyE,EAAK9J,GACb,IAAIoL,EACJxa,QACA74D,KAAK0lF,KAAO,CAAC,EACb1lF,KAAKqhF,KAAO,GACRtP,GAAO,kBAAoBA,IAC3B9J,EAAO8J,EACPA,OAAM7mB,IAEV+c,EAAOA,GAAQ,CAAC,GACXnb,KAAOmb,EAAKnb,MAAQ,aACzB9sD,KAAKioE,KAAOA,EACZgH,GAAsBjvE,KAAMioE,GAC5BjoE,KAAK2lF,cAAmC,IAAtB1d,EAAK0d,cACvB3lF,KAAK4lF,qBAAqB3d,EAAK2d,sBAAwBj7C,KACvD3qC,KAAK6lF,kBAAkB5d,EAAK4d,mBAAqB,KACjD7lF,KAAK8lF,qBAAqB7d,EAAK6d,sBAAwB,KACvD9lF,KAAK+lF,oBAAwD,QAAnC1S,EAAKpL,EAAK8d,2BAAwC,IAAP1S,EAAgBA,EAAK,IAC1FrzE,KAAKgmF,QAAU,IAAIjB,GAAQ,CACvB7xE,IAAKlT,KAAK6lF,oBACV1gC,IAAKnlD,KAAK8lF,uBACVb,OAAQjlF,KAAK+lF,wBAEjB/lF,KAAK2qD,QAAQ,MAAQsd,EAAKtd,QAAU,IAAQsd,EAAKtd,SACjD3qD,KAAKwhF,YAAc,SACnBxhF,KAAK+xE,IAAMA,EACX,MAAMkU,EAAUhe,EAAKie,QAAUA,EAC/BlmF,KAAKmmF,QAAU,IAAIF,EAAQ1H,QAC3Bv+E,KAAKomF,QAAU,IAAIH,EAAQ/G,QAC3Bl/E,KAAKkhF,cAAoC,IAArBjZ,EAAKoe,YACrBrmF,KAAKkhF,cACLlhF,KAAK4vE,MACb,CACA+V,YAAAA,CAAa7yB,GACT,OAAKzkE,UAAUC,QAEf0R,KAAKsmF,gBAAkBxzB,EAClBA,IACD9yD,KAAKumF,eAAgB,GAElBvmF,MALIA,KAAKsmF,aAMpB,CACAV,oBAAAA,CAAqB9yB,GACjB,YAAU5H,IAAN4H,EACO9yD,KAAKwmF,uBAChBxmF,KAAKwmF,sBAAwB1zB,EACtB9yD,KACX,CACA6lF,iBAAAA,CAAkB/yB,GACd,IAAIugB,EACJ,YAAUnoB,IAAN4H,EACO9yD,KAAKymF,oBAChBzmF,KAAKymF,mBAAqB3zB,EACF,QAAvBugB,EAAKrzE,KAAKgmF,eAA4B,IAAP3S,GAAyBA,EAAGiS,OAAOxyB,GAC5D9yD,KACX,CACA+lF,mBAAAA,CAAoBjzB,GAChB,IAAIugB,EACJ,YAAUnoB,IAAN4H,EACO9yD,KAAK0mF,sBAChB1mF,KAAK0mF,qBAAuB5zB,EACJ,QAAvBugB,EAAKrzE,KAAKgmF,eAA4B,IAAP3S,GAAyBA,EAAGmS,UAAU1yB,GAC/D9yD,KACX,CACA8lF,oBAAAA,CAAqBhzB,GACjB,IAAIugB,EACJ,YAAUnoB,IAAN4H,EACO9yD,KAAK2mF,uBAChB3mF,KAAK2mF,sBAAwB7zB,EACL,QAAvBugB,EAAKrzE,KAAKgmF,eAA4B,IAAP3S,GAAyBA,EAAGkS,OAAOzyB,GAC5D9yD,KACX,CACA2qD,OAAAA,CAAQmI,GACJ,OAAKzkE,UAAUC,QAEf0R,KAAK4mF,SAAW9zB,EACT9yD,MAFIA,KAAK4mF,QAGpB,CAOAC,oBAAAA,IAES7mF,KAAK8mF,eACN9mF,KAAKsmF,eACqB,IAA1BtmF,KAAKgmF,QAAQd,UAEbllF,KAAK+mF,WAEb,CAQAnX,IAAAA,CAAKh+E,GACD,IAAKoO,KAAKwhF,YAAY/vF,QAAQ,QAC1B,OAAOuO,KACXA,KAAKoiF,OAAS,IAAI4E,GAAOhnF,KAAK+xE,IAAK/xE,KAAKioE,MACxC,MAAMyH,EAAS1vE,KAAKoiF,OACdvgC,EAAO7hD,KACbA,KAAKwhF,YAAc,UACnBxhF,KAAKumF,eAAgB,EAErB,MAAMU,EAAiBpZ,GAAG6B,EAAQ,QAAQ,WACtC7tB,EAAK0zB,SACL3jF,GAAMA,GACV,IACM21C,EAAWruC,IACb8G,KAAK48E,UACL58E,KAAKwhF,YAAc,SACnBxhF,KAAKouE,aAAa,QAASl1E,GACvBtH,EACAA,EAAGsH,GAIH8G,KAAK6mF,sBACT,EAGEK,EAAWrZ,GAAG6B,EAAQ,QAASnoC,GACrC,IAAI,IAAUvnC,KAAK4mF,SAAU,CACzB,MAAMj8B,EAAU3qD,KAAK4mF,SAEfp+B,EAAQxoD,KAAKuuE,cAAa,KAC5B0Y,IACA1/C,EAAQ,IAAIl2C,MAAM,YAClBq+E,EAAOK,OAAO,GACfplB,GACC3qD,KAAKioE,KAAKuN,WACVhtB,EAAMktB,QAEV11E,KAAKqhF,KAAKtrF,MAAK,KACXiK,KAAKmvE,eAAe3mB,EAAM,GAElC,CAGA,OAFAxoD,KAAKqhF,KAAKtrF,KAAKkxF,GACfjnF,KAAKqhF,KAAKtrF,KAAKmxF,GACRlnF,IACX,CAOAogF,OAAAA,CAAQxuF,GACJ,OAAOoO,KAAK4vE,KAAKh+E,EACrB,CAMA2jF,MAAAA,GAEIv1E,KAAK48E,UAEL58E,KAAKwhF,YAAc,OACnBxhF,KAAKouE,aAAa,QAElB,MAAMsB,EAAS1vE,KAAKoiF,OACpBpiF,KAAKqhF,KAAKtrF,KAAK83E,GAAG6B,EAAQ,OAAQ1vE,KAAKmnF,OAAOx+D,KAAK3oB,OAAQ6tE,GAAG6B,EAAQ,OAAQ1vE,KAAKonF,OAAOz+D,KAAK3oB,OAAQ6tE,GAAG6B,EAAQ,QAAS1vE,KAAKkmC,QAAQvd,KAAK3oB,OAAQ6tE,GAAG6B,EAAQ,QAAS1vE,KAAK21E,QAAQhtD,KAAK3oB,OAE3L6tE,GAAG7tE,KAAKomF,QAAS,UAAWpmF,KAAKqnF,UAAU1+D,KAAK3oB,OACpD,CAMAmnF,MAAAA,GACInnF,KAAKouE,aAAa,OACtB,CAMAgZ,MAAAA,CAAO/xF,GACH,IACI2K,KAAKomF,QAAQloF,IAAI7I,EACrB,CACA,MAAOyL,IACHd,KAAK21E,QAAQ,cAAe70E,GAChC,CACJ,CAMAumF,SAAAA,CAAU3a,GAEN4B,IAAS,KACLtuE,KAAKouE,aAAa,SAAU1B,EAAO,GACpC1sE,KAAKuuE,aACZ,CAMAroC,OAAAA,CAAQhtC,GACJ8G,KAAKouE,aAAa,QAASl1E,EAC/B,CAOAw2E,MAAAA,CAAOqP,EAAK9W,GACR,IAAIyH,EAAS1vE,KAAK0lF,KAAK3G,GAQvB,OAPKrP,EAII1vE,KAAKkhF,eAAiBxR,EAAO6R,QAClC7R,EAAO0Q,WAJP1Q,EAAS,IAAIyN,GAAOn9E,KAAM++E,EAAK9W,GAC/BjoE,KAAK0lF,KAAK3G,GAAOrP,GAKdA,CACX,CAOA4X,QAAAA,CAAS5X,GACL,MAAMgW,EAAOv0F,OAAOkgB,KAAKrR,KAAK0lF,MAC9B,IAAK,MAAM3G,KAAO2G,EAAM,CAEpB,GADe1lF,KAAK0lF,KAAK3G,GACdwC,OACP,MAER,CACAvhF,KAAKunF,QACT,CAOAnR,OAAAA,CAAQ1J,GACJ,MAAMiF,EAAiB3xE,KAAKmmF,QAAQtZ,OAAOH,GAC3C,IAAK,IAAIl+E,EAAI,EAAGA,EAAImjF,EAAerjF,OAAQE,IACvCwR,KAAKoiF,OAAOhS,MAAMuB,EAAenjF,GAAIk+E,EAAO3qE,QAEpD,CAMA66E,OAAAA,GACI58E,KAAKqhF,KAAKhiE,SAASglE,GAAeA,MAClCrkF,KAAKqhF,KAAK/yF,OAAS,EACnB0R,KAAKomF,QAAQt9D,SACjB,CAMAy+D,MAAAA,GACIvnF,KAAKumF,eAAgB,EACrBvmF,KAAK8mF,eAAgB,EACrB9mF,KAAK21E,QAAQ,eACjB,CAMAzO,UAAAA,GACI,OAAOlnE,KAAKunF,QAChB,CAUA5R,OAAAA,CAAQp6D,EAAQ+zD,GACZ,IAAI+D,EACJrzE,KAAK48E,UACkB,QAAtBvJ,EAAKrzE,KAAKoiF,cAA2B,IAAP/O,GAAyBA,EAAGtD,QAC3D/vE,KAAKgmF,QAAQniD,QACb7jC,KAAKwhF,YAAc,SACnBxhF,KAAKouE,aAAa,QAAS7yD,EAAQ+zD,GAC/BtvE,KAAKsmF,gBAAkBtmF,KAAKumF,eAC5BvmF,KAAK+mF,WAEb,CAMAA,SAAAA,GACI,GAAI/mF,KAAK8mF,eAAiB9mF,KAAKumF,cAC3B,OAAOvmF,KACX,MAAM6hD,EAAO7hD,KACb,GAAIA,KAAKgmF,QAAQd,UAAYllF,KAAKwmF,sBAC9BxmF,KAAKgmF,QAAQniD,QACb7jC,KAAKouE,aAAa,oBAClBpuE,KAAK8mF,eAAgB,MAEpB,CACD,MAAMp8B,EAAQ1qD,KAAKgmF,QAAQb,WAC3BnlF,KAAK8mF,eAAgB,EACrB,MAAMt+B,EAAQxoD,KAAKuuE,cAAa,KACxB1sB,EAAK0kC,gBAETvmF,KAAKouE,aAAa,oBAAqBvsB,EAAKmkC,QAAQd,UAEhDrjC,EAAK0kC,eAET1kC,EAAK+tB,MAAM12E,IACHA,GACA2oD,EAAKilC,eAAgB,EACrBjlC,EAAKklC,YACL/mF,KAAKouE,aAAa,kBAAmBl1E,IAGrC2oD,EAAK2lC,aACT,IACF,GACH98B,GACC1qD,KAAKioE,KAAKuN,WACVhtB,EAAMktB,QAEV11E,KAAKqhF,KAAKtrF,MAAK,KACXiK,KAAKmvE,eAAe3mB,EAAM,GAElC,CACJ,CAMAg/B,WAAAA,GACI,MAAMC,EAAUznF,KAAKgmF,QAAQd,SAC7BllF,KAAK8mF,eAAgB,EACrB9mF,KAAKgmF,QAAQniD,QACb7jC,KAAKouE,aAAa,YAAaqZ,EACnC,ECvWJ,MAAMvlE,GAAQ,CAAC,EACf,SAASqpD,GAAOwG,EAAK9J,GACE,kBAAR8J,IACP9J,EAAO8J,EACPA,OAAM7mB,GAGV,MAAMw8B,ECHH,SAAa3V,GAAqB,IAAhBjlB,EAAIz+D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAG,GAAIs5F,EAAGt5F,UAAAC,OAAA,EAAAD,UAAA,QAAA68D,EAC/BI,EAAMymB,EAEV4V,EAAMA,GAA4B,qBAAb77E,UAA4BA,SAC7C,MAAQimE,IACRA,EAAM4V,EAAI/hB,SAAW,KAAO+hB,EAAItP,MAEjB,kBAARtG,IACH,MAAQA,EAAIllB,OAAO,KAEfklB,EADA,MAAQA,EAAIllB,OAAO,GACb86B,EAAI/hB,SAAWmM,EAGf4V,EAAItP,KAAOtG,GAGpB,sBAAsBnzE,KAAKmzE,KAExBA,EADA,qBAAuB4V,EACjBA,EAAI/hB,SAAW,KAAOmM,EAGtB,WAAaA,GAI3BzmB,EAAMuL,GAAMkb,IAGXzmB,EAAI7B,OACD,cAAc7qD,KAAK0sD,EAAIsa,UACvBta,EAAI7B,KAAO,KAEN,eAAe7qD,KAAK0sD,EAAIsa,YAC7Bta,EAAI7B,KAAO,QAGnB6B,EAAIwB,KAAOxB,EAAIwB,MAAQ,IACvB,MACMurB,GADkC,IAA3B/sB,EAAI+sB,KAAK5mF,QAAQ,KACV,IAAM65D,EAAI+sB,KAAO,IAAM/sB,EAAI+sB,KAS/C,OAPA/sB,EAAI7zB,GAAK6zB,EAAIsa,SAAW,MAAQyS,EAAO,IAAM/sB,EAAI7B,KAAOqD,EAExDxB,EAAI/4C,KACA+4C,EAAIsa,SACA,MACAyS,GACCsP,GAAOA,EAAIl+B,OAAS6B,EAAI7B,KAAO,GAAK,IAAM6B,EAAI7B,MAChD6B,CACX,CD7CmBl9D,CAAI2jF,GADnB9J,EAAOA,GAAQ,CAAC,GACanb,MAAQ,cAC/Bh1C,EAAS4vE,EAAO5vE,OAChB2f,EAAKiwD,EAAOjwD,GACZq1B,EAAO46B,EAAO56B,KACd86B,EAAgB1lE,GAAMuV,IAAOq1B,KAAQ5qC,GAAMuV,GAAU,KAK3D,IAAI+oD,EAaJ,OAjBsBvY,EAAK4f,UACvB5f,EAAK,0BACL,IAAUA,EAAK6f,WACfF,EAGApH,EAAK,IAAIiF,GAAQ3tE,EAAQmwD,IAGpB/lD,GAAMuV,KACPvV,GAAMuV,GAAM,IAAIguD,GAAQ3tE,EAAQmwD,IAEpCuY,EAAKt+D,GAAMuV,IAEXiwD,EAAOjY,QAAUxH,EAAKwH,QACtBxH,EAAKwH,MAAQiY,EAAO/O,UAEjB6H,EAAG9Q,OAAOgY,EAAO56B,KAAMmb,EAClC,CAGA92E,OAAOD,OAAOq6E,GAAQ,CAClBka,QAAO,GACPtI,OAAM,GACNqD,GAAIjV,GACJ6U,QAAS7U,KEzCb,MAEA,GAFeiV,GAAG,8CCGH,SAASuH,KAEf3pF,SAAS4pF,eAAe,QAC3BC,QAAS,EAEd,MAAOC,EAAMC,IAAWviE,EAAAA,EAAAA,UAAS,CAAEwiE,UAAU,EAAO93F,YAAa,GAAImnC,GAAI,MAEzE9H,EAAAA,EAAAA,YAAU,KACTs6C,MAAM,uCAAwC,CAC7C30E,OAAQ,MACRwoB,KAAM,OACNuqE,YAAa,YACXrtE,MAAKstE,GAAOA,EAAIC,SACjBvtE,MAAK3lB,IACL8yF,EAAQ9yF,EAAK,GACZ,GACD,IAsBD,OACDmzF,EAAAA,GAAAA,KAAAC,GAAAA,SAAA,CAAApmF,SApBI6lF,EAAKE,UACRM,aAAY,KACXhZ,GAAO/8C,KAAK,QAAS+8C,GAAOj4C,GAAIywD,EAAK53F,YAAa43F,EAAKzwD,GAAG,GACxD,MAEH+wD,EAAAA,GAAAA,KAAA,OAAK/wD,GAAG,OAAMp1B,UACbsmF,EAAAA,GAAAA,MAAA,OAAAtmF,SAAA,CAAK,gBAAc,GAAK6lF,EAAK53F,mBAK7Bk4F,EAAAA,GAAAA,KAAA,OAAK/wD,GAAG,OAAMp1B,UACbmmF,EAAAA,GAAAA,KAACzjB,GAAI,CAACjiE,MAAO,CAAE8lF,eAAgB,OAAQl6E,MAAO,SAAW+oB,GAAG,aAAay0B,GAAG,SAAQ7pD,SAAC,aAY1F,CChDe,SAASwmF,KACZzqF,SAAS4pF,eAAe,QAC9BC,QAAS,EAQX,OACEO,EAAAA,GAAAA,KAAAC,GAAAA,SAAA,CAAApmF,UACEmmF,EAAAA,GAAAA,KAAA,QAAMrf,SARYroE,IAClBA,EAAEoG,iBAEFrL,OAAO+zE,KADK,2CACK,QAAQ,EAKIvtE,UACzBmmF,EAAAA,GAAAA,KAAA,SAAOp4F,KAAK,SAAS4C,MAAM,aAIvC,CCfO,MAAM81F,GAAiBja,IACtBA,EAAEziE,QAAU,KAAQyiE,EAAExiE,SAAW,IACjCwiE,EAAEka,YAAY,IAEdla,EAAEka,YAAY,EAClB,EAGSC,GAAeA,CAACna,EAAcoa,KACvCpa,EAAEqa,MACEra,EAAEsa,YACFF,EACA,IACCG,GAAWva,EAAEwa,UAAUD,IACxBva,EAAEya,QAAQC,OACb,EC8EL,MAAMC,GAAe3a,IAEjB,MAAM4a,EAAY,IAAI5a,EAAE6a,KAAK7a,EAAE8a,KAAK,GAAI,IAAO,IAC/C9a,EAAE3wE,IAAI,CACF2wE,EAAErsE,KAAK,QAAS,CAAEqkB,KAAM,GAAI+iE,KAAM,UAClC/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAGg+E,EAAEib,SAAS94E,EAAI,KACnC69D,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGlB,IAAIs7E,EAAWnb,EAAE8a,KAAK9a,EAAEib,SAASj5F,EAAGg+E,EAAEib,SAAS94E,EAAI,KAC/Ci5E,EAAapb,EAAE3wE,IAAI,CACnB2wE,EAAErsE,KAAK,GAAI,CAAEqkB,KAAM,GAAI+iE,KAAM,UAC7B/a,EAAEqb,KAAK,CAAEC,MAAOV,IAChB5a,EAAEub,WAAU,EAAM,IAClBvb,EAAEgb,IAAIG,GACNnb,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAEwb,MAAM,KAGZxb,EAAE3wE,IAAI,CACF2wE,EAAEyb,KAAKb,EAAUr9E,MAAOq9E,EAAUp9E,OAAQ,CAACk+E,MAAM,IACjD1b,EAAEgb,IAAIG,GACNnb,EAAE2b,QAAQ,EAAG3b,EAAE4b,IAAI,EAAG,EAAG,IACzB5b,EAAEkb,OAAO,YAIb,MAAMW,EAAkB7b,EAAE8a,KAAK9a,EAAEib,SAASj5F,EAAI,GAAIg+E,EAAEib,SAAS94E,EAAI,KACjE69D,EAAE3wE,IAAI,CACF2wE,EAAErsE,KAAK,gBAAiB,CAAEqkB,KAAM,GAAI+iE,KAAM,UAC1C/a,EAAEgb,IAAIa,GACN7b,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGlBmgE,EAAE3wE,IAAI,CACF2wE,EAAE8b,QAAQ,CACN9b,EAAE8a,KAAK,EAAG,GACV9a,EAAE8a,KAAK,IAAK,IACZ9a,EAAE8a,KAAK,GAAI,IACR,CAAEY,MAAM,IACf1b,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAI,IAAK65F,EAAgB15E,EAAI,IAC9C69D,EAAEkb,OAAO,UACTlb,EAAEqb,OACFrb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAE2b,QAAQ,GACV,eAGJ3b,EAAE3wE,IAAI,CACF2wE,EAAE8b,QAAQ,CACN9b,EAAE8a,KAAK,EAAG,GACV9a,EAAE8a,KAAK,GAAI,IACX9a,EAAE8a,KAAK,GAAI,IACR,CAAEY,MAAM,IACf1b,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAI,IAAK65F,EAAgB15E,EAAI,IAC9C69D,EAAEkb,OAAO,UACTlb,EAAEqb,OACFrb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAE2b,QAAQ,GACV,iBAGJ,IAAII,EAAe/b,EAAE3wE,IAAI,CACrB2wE,EAAErsE,KAAK,IAAK,CAAEqkB,KAAM,GAAI+iE,KAAM,UAC9B/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAI,IAAK65F,EAAgB15E,GAC1C69D,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,KAKlB,MAAMm8E,EAAiBhc,EAAE8a,KAAK9a,EAAEib,SAASj5F,EAAI,GAAIg+E,EAAEib,SAAS94E,EAAI,IAChE69D,EAAE3wE,IAAI,CACF2wE,EAAErsE,KAAK,gBAAiB,CAAEqkB,KAAM,GAAI+iE,KAAM,UAC1C/a,EAAEgb,IAAIgB,GACNhc,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGlBmgE,EAAE3wE,IAAI,CACF2wE,EAAE8b,QAAQ,CACN9b,EAAE8a,KAAK,EAAG,GACV9a,EAAE8a,KAAK,IAAK,IACZ9a,EAAE8a,KAAK,GAAI,IACR,CAAEY,MAAM,IACf1b,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAI,IAAKg6F,EAAe75E,EAAI,IAC7C69D,EAAEkb,OAAO,UACTlb,EAAEqb,OACFrb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAE2b,QAAQ,GACV,YAGJ3b,EAAE3wE,IAAI,CACF2wE,EAAE8b,QAAQ,CACN9b,EAAE8a,KAAK,EAAG,GACV9a,EAAE8a,KAAK,GAAI,IACX9a,EAAE8a,KAAK,GAAI,IACR,CAAEY,MAAM,IACf1b,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAI,IAAKg6F,EAAe75E,EAAI,IAC7C69D,EAAEkb,OAAO,UACTlb,EAAEqb,OACFrb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAE2b,QAAQ,GACV,cAGJ,IAAIM,EAAajc,EAAE3wE,IAAI,CACnB2wE,EAAErsE,KAAK,MAAO,CAAEqkB,KAAM,GAAI+iE,KAAM,UAChC/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAI,IAAKg6F,EAAe75E,GACzC69D,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,KAIlB,MAAMq8E,EAAiBlc,EAAE8a,KAAK9a,EAAEib,SAASj5F,EAAI,GAAIg+E,EAAEib,SAAS94E,EAAI,KAChE69D,EAAE3wE,IAAI,CACF2wE,EAAErsE,KAAK,cAAe,CAAEqkB,KAAM,GAAI+iE,KAAM,UACxC/a,EAAEgb,IAAIkB,GACNlc,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGlBmgE,EAAE3wE,IAAI,CACF2wE,EAAE8b,QAAQ,CACN9b,EAAE8a,KAAK,EAAG,GACV9a,EAAE8a,KAAK,IAAK,IACZ9a,EAAE8a,KAAK,GAAI,IACR,CAAEY,MAAM,IACf1b,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAI,IAAKk6F,EAAe/5E,EAAI,IAC7C69D,EAAEkb,OAAO,UACTlb,EAAEqb,OACFrb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAE2b,QAAQ,GACV,aAGJ3b,EAAE3wE,IAAI,CACF2wE,EAAE8b,QAAQ,CACN9b,EAAE8a,KAAK,EAAG,GACV9a,EAAE8a,KAAK,GAAI,IACX9a,EAAE8a,KAAK,GAAI,IACR,CAAEY,MAAM,IACf1b,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAI,IAAKk6F,EAAe/5E,EAAI,IAC7C69D,EAAEkb,OAAO,UACTlb,EAAEqb,OACFrb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAE2b,QAAQ,GACV,eAGJ,IAAIQ,EAAanc,EAAE3wE,IAAI,CACnB2wE,EAAErsE,KAAK,MAAO,CAAEqkB,KAAM,GAAI+iE,KAAM,UAChC/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAI,IAAKk6F,EAAe/5E,GACzC69D,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,KAiDlB,OA9CAu7E,EAAW/vE,SAAQ,KACf,IAAI1X,EAAOyoF,OAAO,uBACL,OAATzoF,IACJynF,EAAWznF,KAAOA,EAAI,IAG1BqsE,EAAE30D,QAAQ,cAAc,KACpB,IAAI0mB,EAAQsqD,SAASN,EAAapoF,MAC9Bo+B,EAAQ,IAAIA,IAChBgqD,EAAapoF,KAAOo+B,EAAM1kC,UAAU,IAGxC2yE,EAAE30D,QAAQ,gBAAgB,KACtB,IAAI0mB,EAAQsqD,SAASN,EAAapoF,MAC9Bo+B,EAAQ,GAAGA,IACfgqD,EAAapoF,KAAOo+B,EAAM1kC,UAAU,IAGxC2yE,EAAE30D,QAAQ,WAAW,KACjB,IAAI9K,EAAO87E,SAASJ,EAAWtoF,MAC3B4M,EAAO,MAAKA,GAAQ,IACxB,IAAI+7E,EAAc/7E,EAAKlT,WAAa,IACpC4uF,EAAWtoF,KAAO2oF,CAAW,IAGjCtc,EAAE30D,QAAQ,aAAa,KACnB,IAAI9K,EAAO87E,SAASJ,EAAWtoF,MAC3B4M,EAAO,KAAIA,GAAQ,IACvB,IAAI+7E,EAAc/7E,EAAKlT,WAAa,IACpC4uF,EAAWtoF,KAAO2oF,CAAW,IAGjCtc,EAAE30D,QAAQ,YAAY,KAClB,IAAI2M,EAAOqkE,SAASF,EAAWxoF,KAAKnP,MAAM,KAAK,IAC3CwzB,EAAO,GAAGA,IACd,IAAIukE,EAAcvkE,EAAK3qB,WAAa,IAAM2qB,EAAK3qB,WAC/C8uF,EAAWxoF,KAAO4oF,CAAW,IAGjCvc,EAAE30D,QAAQ,cAAc,KACpB,IAAI2M,EAAOqkE,SAASF,EAAWxoF,KAAKnP,MAAM,KAAK,IAC3CwzB,EAAO,GAAGA,IACd,IAAIukE,EAAcvkE,EAAK3qB,WAAa,IAAM2qB,EAAK3qB,WAC/C8uF,EAAWxoF,KAAO4oF,CAAW,IAGzB,CAACnB,EAAYW,EAAcE,EAAYE,EAAW,gbCpSjDK,GAAN,MAAM3R,EAAM,cAAAroB,GAAA,iBAEf5X,EAAY,IAEZ6xC,EAAY,IAEZvmF,EAAY,IAEZlF,WAAAA,CAAYiB,EAAWwiD,EAAW7J,GAC9Bz5C,KAAKy5C,EAAI8xC,GAAMzqF,EAAG,EAAG,KACrBd,KAAKsrF,EAAIC,GAAMjoC,EAAG,EAAG,KACrBtjD,KAAK+E,EAAIwmF,GAAM9xC,EAAG,EAAG,IACzB,CAGA,gBAAO+xC,CAAU1qF,GACb,OAAO,IAAI44E,EAAM54E,EAAI,GAAIA,EAAI,GAAIA,EAAI,GACzC,CAcA,cAAO2qF,CAAQ3qF,GACX,GAAmB,iBAARA,EACP,OAAO,IAAI44E,EACN54E,GAAO,GAAM,IACbA,GAAO,EAAK,IACA,IAAZA,GAGJ,GAAmB,iBAARA,EAAkB,CAC9B,IAAMwiD,EAAS,4CAA4C80B,KACvDt3E,GAGJ,IAAKwiD,EAAQ,MAAM,IAAIjyD,MAAM,4BAE7B,OAAO,IAAIqoF,EACPwR,SAAS5nC,EAAO,GAAI,IACpB4nC,SAAS5nC,EAAO,GAAI,IACpB4nC,SAAS5nC,EAAO,GAAI,IAE5B,CAEI,MAAM,IAAIjyD,MAAM,2BAExB,CAGA,cAAOq6F,CAAQ5qF,EAAWwiD,EAAW7J,GACjC,GAAS,GAAL6J,EACA,OAAO,IAAIo2B,EAAM,IAAMjgC,EAAG,IAAMA,EAAG,IAAMA,GAG7C,IAAM4R,EAAUgG,IAAC,CAAAhY,EAAWQ,EAAWj+C,KAC/BA,EAAI,IAAGA,GAAK,GACZA,EAAI,IAAGA,GAAK,GACZA,EAAI,EAAI,EAAUy9C,EAAc,GAATQ,EAAIR,GAASz9C,EACpCA,EAAI,GAAci+C,EAClBj+C,EAAI,EAAI,EAAUy9C,GAAKQ,EAAIR,IAAM,EAAI,EAAIz9C,GAAK,EAC3Cy9C,IANK,WASV7qD,EAAIirD,EAAI,GAAMA,GAAK,EAAI6J,GAAK7J,EAAI6J,EAAI7J,EAAI6J,EACxC9+C,EAAI,EAAIi1C,EAAIjrD,EACZ6rF,EAAIhvB,EAAQ7mD,EAAGhW,EAAGsS,EAAI,EAAI,GAC1B6qF,EAAItgC,EAAQ7mD,EAAGhW,EAAGsS,GAClBw5C,EAAI+Q,EAAQ7mD,EAAGhW,EAAGsS,EAAI,EAAI,GAEhC,OAAO,IAAI44E,EACPtgF,KAAKwyF,MAAU,IAAJvR,GACXjhF,KAAKwyF,MAAU,IAAJD,GACXvyF,KAAKwyF,MAAU,IAAJtxC,GAEnB,CAEA0b,WAAO,KAAM,IAAI0jB,EAAM,IAAK,EAAG,GAAxB,GACP1jB,aAAO,KAAQ,IAAI0jB,EAAM,EAAG,IAAK,GAA1B,GACP1jB,YAAO,KAAO,IAAI0jB,EAAM,EAAG,EAAG,KAAvB,GACP1jB,cAAO,KAAS,IAAI0jB,EAAM,IAAK,IAAK,GAA7B,GACP1jB,eAAO,KAAU,IAAI0jB,EAAM,IAAK,EAAG,KAA5B,GACP1jB,YAAO,KAAO,IAAI0jB,EAAM,EAAG,IAAK,KAAzB,GACP1jB,aAAO,KAAQ,IAAI0jB,EAAM,IAAK,IAAK,KAA5B,GACP1jB,aAAO,KAAQ,IAAI0jB,EAAM,EAAG,EAAG,GAAxB,GAEPr9C,KAAAA,GACI,OAAO,IAAIq9C,EAAM15E,KAAKy5C,EAAGz5C,KAAKsrF,EAAGtrF,KAAK+E,EAC1C,CAGA8mF,OAAAA,CAAQ/qF,GACJ,OAAO,IAAI44E,EAAM15E,KAAKy5C,EAAI34C,EAAGd,KAAKsrF,EAAIxqF,EAAGd,KAAK+E,EAAIjE,EACtD,CAGAgrF,MAAAA,CAAOhrF,GACH,OAAOd,KAAK6rF,SAAS/qF,EACzB,CAEAirF,MAAAA,GACI,OAAO,IAAIrS,EAAM,IAAM15E,KAAKy5C,EAAG,IAAMz5C,KAAKsrF,EAAG,IAAMtrF,KAAK+E,EAC5D,CAEAinF,IAAAA,CAAKlrF,GACD,OAAO,IAAI44E,EACP15E,KAAKy5C,EAAI34C,EAAM24C,EAAI,IACnBz5C,KAAKsrF,EAAIxqF,EAAMwqF,EAAI,IACnBtrF,KAAK+E,EAAIjE,EAAMiE,EAAI,IAE3B,CAOAknF,IAAAA,CAAKnrF,EAAawiD,GACd,OAAO,IAAIo2B,EACPwS,GAAKlsF,KAAKy5C,EAAG34C,EAAK24C,EAAG6J,GACrB4oC,GAAKlsF,KAAKsrF,EAAGxqF,EAAKwqF,EAAGhoC,GACrB4oC,GAAKlsF,KAAK+E,EAAGjE,EAAKiE,EAAGu+C,GAE7B,CAOA6oC,KAAAA,GACI,IAAMrrF,EAAId,KAAKy5C,EAAI,IACb6J,EAAItjD,KAAKsrF,EAAI,IACb7xC,EAAIz5C,KAAK+E,EAAI,IACbsmD,EAAMjyD,KAAK+rD,IAAIrkD,EAAGwiD,EAAG7J,GAAIjrD,EAAM4K,KAAK8Z,IAAIpS,EAAGwiD,EAAG7J,GAChDj1C,GAAK6mD,EAAM78D,GAAO,EAClB6rF,EAAI71E,EACFmnF,EAAInnF,EACV,GAAI6mD,GAAO78D,EACPgW,EAAI61E,EAAI,MAEP,CACD,IAAM//B,EAAI+Q,EAAM78D,EAEhB,OADA6rF,EAAIsR,EAAI,GAAMrxC,GAAK,EAAI+Q,EAAM78D,GAAO8rD,GAAK+Q,EAAM78D,GACvC68D,GACJ,KAAKvqD,EACD0D,GAAK8+C,EAAI7J,GAAKa,GAAKgJ,EAAI7J,EAAI,EAAI,GAC/B,MACJ,KAAK6J,EACD9+C,GAAKi1C,EAAI34C,GAAKw5C,EAAI,EAClB,MACJ,KAAKb,EACDj1C,GAAK1D,EAAIwiD,GAAKhJ,EAAI,EAG1B91C,GAAK,CACT,CACA,MAAO,CAACA,EAAG61E,EAAGsR,EAClB,CAEAS,EAAAA,CAAGtrF,GACC,OAAOd,KAAKy5C,IAAM34C,EAAM24C,GACjBz5C,KAAKsrF,IAAMxqF,EAAMwqF,GACjBtrF,KAAK+E,IAAMjE,EAAMiE,CAC5B,CAEA7I,QAAAA,GACI,MAAO,OAAO8D,KAAKy5C,MAAMz5C,KAAKsrF,MAAMtrF,KAAK+E,IAC7C,CAOAsnF,KAAAA,GACI,MAAO,MACC,GAAK,KAAOrsF,KAAKy5C,GAAK,KAAOz5C,KAAKsrF,GAAK,GAAKtrF,KAAK+E,GAAG7I,SAAS,IAC5DC,MAAM,EACnB,CAOAonD,OAAAA,GACI,MAAO,CAACvjD,KAAKy5C,EAAGz5C,KAAKsrF,EAAGtrF,KAAK+E,EACjC,GA2BG,SAASunF,KAA+B,QAAA3d,EAAAtgF,UAAAC,OAAxBorF,EAAA,IAAA3kF,MAAA45E,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAA8K,EAAA9K,GAAAvgF,UAAAugF,GACnB,GAAoB,IAAhB8K,EAAKprF,OACL,OAAO,IAAI+8F,GAAM,IAAK,IAAK,KAE1B,GAAoB,IAAhB3R,EAAKprF,OAAc,CACxB,GAAIorF,EAAK,aAAc2R,GAEnB,OAAO3R,EAAK,GAAGr9C,QAEd,GAAuB,iBAAZq9C,EAAK,GAEjB,OAAO2R,GAAMI,QAAQ/R,EAAK,IAEzB,GAAI3kF,MAAMC,QAAQ0kF,EAAK,KAA0B,IAAnBA,EAAK,GAAGprF,OAEvC,OAAO+8F,GAAMG,UAAU9R,EAAK,GAEpC,SACyB,IAAhBA,EAAKprF,QACV,GAAIorF,EAAK,aAAc2R,GACnB,OAAO3R,EAAK,GAAGr9C,aAAM,GAGJ,IAAhBq9C,EAAKprF,QAAgC,IAAhBorF,EAAKprF,OAC/B,OAAO,IAAI+8F,GAAM3R,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAG5C,MAAM,IAAIroF,MAAM,0BACpB,CA5BgBggE,GAAAi7B,GAAA,OA8BT,IAAMC,GAAUl7B,IAAC,CAAAqoB,EAAW54E,EAAWwiD,IAC1C+nC,GAAMK,QAAQhS,EAAG54E,EAAGwiD,IADD,WCxPhB,SAASkpC,GAAQ9S,GACpB,OAAOA,EAAMtgF,KAAKqzF,GAAK,GAC3B,CAEO,SAASC,GAAQhT,GACpB,OAAa,IAANA,EAAYtgF,KAAKqzF,EAC5B,CAEO,SAASlB,GACZ7R,EACA54E,EACAwiD,GAEA,OAAIxiD,EAAMwiD,EACCioC,GAAM7R,EAAKp2B,EAAKxiD,GAEpB1H,KAAK8Z,IAAI9Z,KAAK+rD,IAAIu0B,EAAK54E,GAAMwiD,EACxC,CAEO,SAAS4oC,GACZxS,EACA54E,EACAwiD,GAEA,GAAiB,iBAANo2B,GAA+B,iBAAN54E,EAChC,OAAO44E,GAAK54E,EAAI44E,GAAKp2B,EAEpB,GAAIo2B,aAAaiT,IAAQ7rF,aAAa6rF,GACvC,OAAOjT,EAAEuS,KAAKnrF,EAAGwiD,GAEhB,GAAIo2B,aAAa2R,IAASvqF,aAAauqF,GACxC,OAAO3R,EAAEuS,KAAKnrF,EAAGwiD,GAErB,MAAM,IAAIjyD,MACN,yBAAyBqoF,MAAM54E,+CAEvC,CAEO,SAAS8rF,GACZlT,EACA54E,EACAwiD,EACA7J,EACA4R,GAEA,OAAO5R,GAAMigC,EAAI54E,IAAOwiD,EAAKxiD,IAAOuqD,EAAK5R,EAC7C,CAEO,SAASozC,GACZnT,EACA54E,EACAwiD,EACA7J,EACA4R,GAEA,OAAOkgC,GAAMqB,GAAIlT,EAAG54E,EAAIwiD,EAAI7J,EAAI4R,GAAK5R,EAAI4R,EAC7C,CAxDgBgG,GAAAm7B,GAAA,WAIAn7B,GAAAq7B,GAAA,WAIAr7B,GAAAk6B,GAAA,SAWAl6B,GAAA66B,GAAA,QAmBA76B,GAAAu7B,GAAA,OAUAv7B,GAAAw7B,GAAA,QAwBT,IAAMF,GAAN,MAAMjT,EAAK,cAAAroB,GAAA,gBAEdxgE,EAAY,EAEZmgB,EAAY,EAEZnR,WAAAA,GAA0C,IAA9BiB,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAY,EAAGi1D,EAAAj1D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAYyS,EACnCd,KAAKnP,EAAIiQ,EACTd,KAAKgR,EAAIsyC,CACb,CAGA,gBAAOwpC,CAAUhsF,GACb,IAAMwiD,EAAQkpC,GAAQ1rF,GACtB,OAAO,IAAI44E,EAAKtgF,KAAK2zF,IAAIzpC,GAAQlqD,KAAK4zF,IAAI1pC,GAC9C,CAGA,gBAAOkoC,CAAU1qF,GACb,OAAO,IAAI44E,EAAK54E,EAAI,GAAIA,EAAI,GAChC,CAGAk1D,YAAO,KAAO,IAAI0jB,EAAK,EAAG,GAAnB,GAEP1jB,WAAO,KAAM,IAAI0jB,EAAK,EAAG,GAAlB,GAEP1jB,YAAO,KAAO,IAAI0jB,GAAM,EAAG,GAApB,GAEP1jB,aAAO,KAAQ,IAAI0jB,EAAK,EAAG,GAApB,GAEP1jB,UAAO,KAAK,IAAI0jB,EAAK,GAAI,GAAlB,GAEP1jB,YAAO,KAAO,IAAI0jB,EAAK,EAAG,GAAnB,GAGPr9C,KAAAA,GACI,OAAO,IAAIq9C,EAAK15E,KAAKnP,EAAGmP,KAAKgR,EACjC,CAGA9S,GAAAA,GACI,IAAMolD,EAAKwP,MAAKzkE,WAChB,OAAO,IAAIqrF,EAAK15E,KAAKnP,EAAIyyD,EAAGzyD,EAAGmP,KAAKgR,EAAIsyC,EAAGtyC,EAC/C,CAGAi8E,GAAAA,GACI,IAAM3pC,EAAKwP,MAAKzkE,WAChB,OAAO,IAAIqrF,EAAK15E,KAAKnP,EAAIyyD,EAAGzyD,EAAGmP,KAAKgR,EAAIsyC,EAAGtyC,EAC/C,CAGAq5E,KAAAA,GACI,IAAM/mC,EAAIwP,MAAKzkE,WACf,OAAO,IAAIqrF,EAAK15E,KAAKnP,EAAIyyD,EAAEzyD,EAAGmP,KAAKgR,EAAIsyC,EAAEtyC,EAC7C,CAGAk8E,IAAAA,GACI,IAAM5pC,EAAKwP,MAAKzkE,WAChB,OAAO2R,KAAKitF,IAAI3pC,GAAI6oB,KACxB,CAGAghB,KAAAA,GACI,IAAM7pC,EAAKwP,MAAKzkE,WAChB,OAAO2R,KAAKitF,IAAI3pC,GAAI8pC,MACxB,CAQA,YAAOD,CAAMrsF,EAASwiD,GAClB,IAAM7J,EAAI34C,EAAEjQ,EAAIyyD,EAAMzyD,EAChBw6D,EAAIvqD,EAAEkQ,EAAIsyC,EAAMtyC,EACtB,OAAOyoC,EAAIA,EAAI4R,EAAIA,CACvB,CAOA8gB,GAAAA,GACI,OAAO/yE,KAAKi0F,KAAKrtF,KAAKstF,IAAIttF,MAC9B,CAOAotF,IAAAA,GACI,OAAOptF,KAAKstF,IAAIttF,KACpB,CAKAutF,IAAAA,GACI,IAAMzsF,EAAMd,KAAKmsE,MACjB,OAAe,IAARrrE,EAAY,IAAI44E,EAAK,GAAK15E,KAAKqqF,MAAM,EAAIvpF,EACpD,CAKA0sF,MAAAA,GACI,OAAO,IAAI9T,EAAK15E,KAAKgR,GAAIhR,KAAKnP,EAClC,CAOA48F,OAAAA,CAAQ3sF,GACJ,OAAOd,KAAKitF,IAAInsF,EAAOupF,MAAM,EAAIrqF,KAAKstF,IAAIxsF,IAC9C,CAOA4sF,OAAAA,CAAQ5sF,GACJ,OAAOA,EAAGupF,MAAMvpF,EAAGwsF,IAAIttF,MAAQc,EAAGqrE,MACtC,CAOAnmC,MAAAA,CAAOllC,GACH,OAAOd,KAAKitF,IAAIjtF,KAAK0tF,QAAQ5sF,GACjC,CAKAwsF,GAAAA,CAAIxsF,GACA,OAAOd,KAAKnP,EAAIiQ,EAAGjQ,EAAImP,KAAKgR,EAAIlQ,EAAGkQ,CACvC,CAOA,UAAOs8E,CAAIxsF,EAASwiD,GAChB,OAAOxiD,EAAEjQ,EAAIiQ,EAAEjQ,EAAIiQ,EAAEkQ,EAAIlQ,EAAEkQ,CAC/B,CAOA28E,KAAAA,CAAM7sF,GACF,OAAOd,KAAKnP,EAAIiQ,EAAGkQ,EAAIhR,KAAKgR,EAAIlQ,EAAGjQ,CACvC,CAOA,YAAO88F,CAAM7sF,EAASwiD,GAClB,OAAOxiD,EAAEjQ,EAAIyyD,EAAMtyC,EAAIlQ,EAAEkQ,EAAIsyC,EAAMzyD,CACvC,CAKA+8F,KAAAA,GACI,IAAMtqC,EAAKwP,MAAKzkE,WAChB,OAAOq+F,GAAQtzF,KAAKy0F,MAAM7tF,KAAKgR,EAAIsyC,EAAGtyC,EAAGhR,KAAKnP,EAAIyyD,EAAGzyD,GACzD,CAOAi9F,YAAAA,GACI,IAAMxqC,EAAKwP,MAAKzkE,WAChB,OAAOq+F,GAAQtzF,KAAKy0F,MAAM7tF,KAAK2tF,MAAMrqC,GAAKtjD,KAAKstF,IAAIhqC,IACvD,CAKA2oC,IAAAA,CAAKnrF,EAAYwiD,GACb,OAAO,IAAIo2B,EAAKwS,GAAKlsF,KAAKnP,EAAGiQ,EAAKjQ,EAAGyyD,GAAI4oC,GAAKlsF,KAAKgR,EAAGlQ,EAAKkQ,EAAGsyC,GAClE,CAOAyqC,KAAAA,CAAMjtF,EAAYwiD,GACd,IAAM7J,EAAMz5C,KAAKstF,IAAIxsF,GACfuqD,EAAMrrD,KAAK2tF,MAAM7sF,GACjBtS,EAAQ4K,KAAKy0F,MAAMxiC,EAAK5R,GAC9B,OAAOz5C,KACFqqF,MAAMjxF,KAAK4zF,KAAK,EAAI1pC,GAAK90D,IACzB0P,IAAI4C,EAAKupF,MAAMjxF,KAAK4zF,IAAI1pC,EAAI90D,KAC5B67F,MAAM,EAAIh/B,EACnB,CAOA2iC,MAAAA,GACI,OAAkB,IAAXhuF,KAAKnP,GAAsB,IAAXmP,KAAKgR,CAChC,CAKAi9E,OAAAA,CAAQntF,GACJ,OAAO,IAAI44E,EAAKxI,OAAOlxE,KAAKnP,EAAEo9F,QAAQntF,IAAKowE,OAAOlxE,KAAKgR,EAAEi9E,QAAQntF,IACrE,CAOA2rE,SAAAA,CAAU3rE,GACN,OAAOA,EAAEotF,SAASluF,KACtB,CAOAosF,EAAAA,CAAGtrF,GACC,OAAOd,KAAKnP,IAAMiQ,EAAMjQ,GAAKmP,KAAKgR,IAAMlQ,EAAMkQ,CAClD,CAKAm9E,IAAAA,GACI,OAAO,IAAIC,GAAKpuF,KAAM,EAAG,EAC7B,CAGA9D,QAAAA,GACI,MAAO,QAAQ8D,KAAKnP,EAAEo9F,QAAQ,OAAOjuF,KAAKgR,EAAEi9E,QAAQ,KACxD,CAKA1qC,OAAAA,GACI,MAAO,CAACvjD,KAAKnP,EAAGmP,KAAKgR,EACzB,GAGG,SAAS8hD,KAA8B,QAAA6uB,EAAAtzF,UAAAC,OAAtBorF,EAAA,IAAA3kF,MAAA4sF,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAAlI,EAAAkI,GAAAvzF,UAAAuzF,GACpB,GAAoB,IAAhBlI,EAAKprF,OAAc,CACnB,GAAIorF,EAAK,aAAciT,GACnB,OAAO,IAAIA,GAAKjT,EAAK,GAAG7oF,EAAG6oF,EAAK,GAAG1oE,GAElC,GAAIjc,MAAMC,QAAQ0kF,EAAK,KAA0B,IAAnBA,EAAK,GAAGprF,OACvC,OAAO,IAAIq+F,MAAQjT,EAAK,GAEhC,CAEA,OAAO,IAAIiT,MAAQjT,EACvB,CAXgBroB,GAAAyB,GAAA,QAgBT,IAAMu7B,GAAN,MAAM3U,EAAK,cAAAroB,GAAA,gBACdxgE,EAAY,EACZmgB,EAAY,EACZs9E,EAAY,EACZC,EAAY,EACZ1uF,WAAAA,CAAYiB,EAAWwiD,EAAW7J,EAAW4R,GACzCrrD,KAAKnP,EAAIiQ,EACTd,KAAKgR,EAAIsyC,EACTtjD,KAAKsuF,EAAI70C,EACTz5C,KAAKuuF,EAAIljC,CACb,CACAg/B,KAAAA,CAAMvpF,GACF,OAAO,IAAI44E,EACP15E,KAAKnP,EAAImP,KAAKsuF,EAAIxtF,EAAMjQ,EACxBmP,KAAKgR,EAAIhR,KAAKuuF,EAAIztF,EAAMkQ,EACxBhR,KAAKsuF,EAAIxtF,EAAMwtF,EACftuF,KAAKuuF,EAAIztF,EAAMytF,EAEvB,CACA1E,GAAAA,GACI,OAAO,IAAI8C,GAAK3sF,KAAKnP,EAAGmP,KAAKgR,EACjC,CACAqrB,KAAAA,GACI,OAAO,IAAIq9C,EAAK15E,KAAKnP,EAAGmP,KAAKgR,EAAGhR,KAAKsuF,EAAGtuF,KAAKuuF,EACjD,CACAnC,EAAAA,CAAGtrF,GACC,OAAOd,KAAKnP,IAAMiQ,EAAMjQ,GACjBmP,KAAKgR,IAAMlQ,EAAMkQ,GACjBhR,KAAKsuF,IAAMxtF,EAAMwtF,GACjBtuF,KAAKuuF,IAAMztF,EAAMytF,CAC5B,CACAryF,QAAAA,GACI,MAAO,QAAQ8D,KAAKnP,MAAMmP,KAAKgR,MAAMhR,KAAKsuF,MAAMtuF,KAAKuuF,IACzD,GAGG,SAASC,GAAK9U,EAAW54E,EAAWwiD,EAAW7J,GAClD,OAAO,IAAI40C,GAAK3U,EAAG54E,EAAGwiD,EAAG7J,EAC7B,CAFgB4X,GAAAm9B,GAAA,QAKhB,IAAMC,GAAN,MAAM/U,EAAK,cAAAroB,GAAA,gBAEP7sD,EACAO,EACAyyB,EACA6hB,EAEAx5C,WAAAA,CAAYiB,EAAWwiD,EAAW7J,EAAW4R,GACzCrrD,KAAKwE,EAAI1D,EACTd,KAAK+E,EAAIu+C,EACTtjD,KAAKw3B,EAAIiiB,EACTz5C,KAAKq5C,EAAIgS,CACb,CAEAqjC,GAAAA,CAAI5tF,GACA,OAAO,IAAI44E,EACP15E,KAAKwE,EAAI1D,EAAM0D,EAAIxE,KAAK+E,EAAIjE,EAAM02B,EAClCx3B,KAAKwE,EAAI1D,EAAMiE,EAAI/E,KAAK+E,EAAIjE,EAAMu4C,EAClCr5C,KAAKw3B,EAAI12B,EAAM0D,EAAIxE,KAAKq5C,EAAIv4C,EAAM02B,EAClCx3B,KAAKw3B,EAAI12B,EAAMiE,EAAI/E,KAAKq5C,EAAIv4C,EAAMu4C,EAE1C,CAEAozB,SAAAA,CAAU3rE,GACN,OAAOgyD,GACH9yD,KAAKwE,EAAI1D,EAAMjQ,EAAImP,KAAK+E,EAAIjE,EAAMkQ,EAClChR,KAAKw3B,EAAI12B,EAAMjQ,EAAImP,KAAKq5C,EAAIv4C,EAAMkQ,EAE1C,CAEA,WAAI29E,GACA,IAAM7tF,EAAMd,KAAK4uF,IACjB,OAAO,IAAIlV,EACP15E,KAAKq5C,EAAIv4C,GACRd,KAAK+E,EAAIjE,GACTd,KAAKw3B,EAAI12B,EACVd,KAAKwE,EAAI1D,EAEjB,CAEA,aAAI+tF,GACA,OAAO,IAAInV,EACP15E,KAAKwE,EACLxE,KAAKw3B,EACLx3B,KAAK+E,EACL/E,KAAKq5C,EAEb,CAEA,eAAIy1C,GACA,IAAMhuF,EAAId,KAAK+uF,MAAQ,EACjBzrC,EAAItjD,KAAK4uF,IAGf,MAAO,CAFI9tF,EAAI1H,KAAKi0F,KAAKvsF,EAAIA,EAAIwiD,GACtBxiD,EAAI1H,KAAKi0F,KAAKvsF,EAAIA,EAAIwiD,GAErC,CAEA0rC,YAAAA,CAAaluF,EAAYwiD,GACrB,OAAc,GAAVtjD,KAAKw3B,EACE,CAAC,CAAC12B,EAAKd,KAAKq5C,EAAGr5C,KAAKw3B,GAAI,CAAC8rB,EAAKtjD,KAAKq5C,EAAGr5C,KAAKw3B,IAEnC,GAAVx3B,KAAK+E,EACH,CAAC,CAAC/E,KAAK+E,EAAGjE,EAAKd,KAAKwE,GAAI,CAACxE,KAAK+E,EAAGu+C,EAAKtjD,KAAKwE,IAG9CpL,KAAK61F,IAAIjvF,KAAKysE,UAAU3Z,GAAK,EAAG,IAAIjiE,EAAIiQ,GAAMowE,OAAOge,QAC9C,CAAC,CAAC,EAAG,GAAI,CAAC,EAAG,IAGb,CAAC,CAAC,EAAG,GAAI,CAAC,EAAG,GAGhC,CAEA,OAAIN,GACA,OAAO5uF,KAAKwE,EAAIxE,KAAKq5C,EAAIr5C,KAAK+E,EAAI/E,KAAKw3B,CAC3C,CAEA,SAAIu3D,GACA,OAAO/uF,KAAKwE,EAAIxE,KAAKq5C,CACzB,CAEA,eAAO81C,CAASruF,GACZ,IAAMwiD,EAAIlqD,KAAK2zF,IAAIjsF,GACb24C,EAAIrgD,KAAK4zF,IAAIlsF,GACnB,OAAO,IAAI44E,EACPp2B,EACA7J,GACCA,EACD6J,EAER,CAEA,YAAO+mC,CAAMvpF,EAAWwiD,GACpB,OAAO,IAAIo2B,EAAK54E,EAAG,EAAG,EAAGwiD,EAC7B,GAuIE8rC,GAAN,MAAM1V,EAAK,cAAAroB,GAAA,gBAIPg+B,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IAEAhwF,WAAAA,CACIiB,EACAwiD,EACA7J,EACA4R,EACA78D,EACAgW,EACA61E,EACAsR,EACArxC,GAEAt6C,KAAKqvF,IAAMvuF,EACXd,KAAKsvF,IAAMhsC,EACXtjD,KAAKuvF,IAAM91C,EACXz5C,KAAKwvF,IAAMnkC,EACXrrD,KAAKyvF,IAAMjhG,EACXwR,KAAK0vF,IAAMlrF,EACXxE,KAAK2vF,IAAMtV,EACXr6E,KAAK4vF,IAAMjE,EACX3rF,KAAK6vF,IAAMv1C,CACf,CAEA,eAAOw1C,CAAShvF,GACZ,OAAO,IAAI44E,EACP54E,EAAE0D,EACF1D,EAAEiE,EACF,EACAjE,EAAE02B,EACF12B,EAAEu4C,EACF,EACA,EACA,EACA,EAER,CAEA02C,MAAAA,GACI,OAAO,IAAItB,GACPzuF,KAAKqvF,IACLrvF,KAAKsvF,IACLtvF,KAAKwvF,IACLxvF,KAAKyvF,IAEb,CAEAf,GAAAA,CAAI5tF,GACA,OAAO,IAAI44E,EACP15E,KAAKqvF,IAAMvuF,EAAMuuF,IAAMrvF,KAAKsvF,IAAMxuF,EAAM0uF,IAAMxvF,KAAKuvF,IAAMzuF,EAAM6uF,IAC/D3vF,KAAKqvF,IAAMvuF,EAAMwuF,IAAMtvF,KAAKsvF,IAAMxuF,EAAM2uF,IAAMzvF,KAAKuvF,IAAMzuF,EAAM8uF,IAC/D5vF,KAAKqvF,IAAMvuF,EAAMyuF,IAAMvvF,KAAKsvF,IAAMxuF,EAAM4uF,IAAM1vF,KAAKuvF,IAAMzuF,EAAM+uF,IAC/D7vF,KAAKwvF,IAAM1uF,EAAMuuF,IAAMrvF,KAAKyvF,IAAM3uF,EAAM0uF,IAAMxvF,KAAK0vF,IAAM5uF,EAAM6uF,IAC/D3vF,KAAKwvF,IAAM1uF,EAAMwuF,IAAMtvF,KAAKyvF,IAAM3uF,EAAM2uF,IAAMzvF,KAAK0vF,IAAM5uF,EAAM8uF,IAC/D5vF,KAAKwvF,IAAM1uF,EAAMyuF,IAAMvvF,KAAKyvF,IAAM3uF,EAAM4uF,IAAM1vF,KAAK0vF,IAAM5uF,EAAM+uF,IAC/D7vF,KAAK2vF,IAAM7uF,EAAMuuF,IAAMrvF,KAAK4vF,IAAM9uF,EAAM0uF,IAAMxvF,KAAK6vF,IAAM/uF,EAAM6uF,IAC/D3vF,KAAK2vF,IAAM7uF,EAAMwuF,IAAMtvF,KAAK4vF,IAAM9uF,EAAM2uF,IAAMzvF,KAAK6vF,IAAM/uF,EAAM8uF,IAC/D5vF,KAAK2vF,IAAM7uF,EAAMyuF,IAAMvvF,KAAK4vF,IAAM9uF,EAAM4uF,IAAM1vF,KAAK6vF,IAAM/uF,EAAM+uF,IAEvE,CAEA,OAAIjB,GACA,OAAO5uF,KAAKqvF,IAAMrvF,KAAKyvF,IAAMzvF,KAAK6vF,IAAM7vF,KAAKsvF,IAAMtvF,KAAK0vF,IAAM1vF,KAAK2vF,IAC7D3vF,KAAKuvF,IAAMvvF,KAAKwvF,IAAMxvF,KAAK4vF,IAAM5vF,KAAKuvF,IAAMvvF,KAAKyvF,IAAMzvF,KAAK2vF,IAC5D3vF,KAAKsvF,IAAMtvF,KAAKwvF,IAAMxvF,KAAK6vF,IAAM7vF,KAAKqvF,IAAMrvF,KAAK0vF,IAAM1vF,KAAK4vF,GACtE,CAEAI,MAAAA,CAAOlvF,GACH,IAAMwiD,EAAIlqD,KAAK2zF,IAAIjsF,GACb24C,EAAIrgD,KAAK4zF,IAAIlsF,GACbuqD,EAAOrrD,KAAKqvF,IACZ7gG,EAAOwR,KAAKsvF,IAClB,OAAAtvF,KAAKqvF,IAAM/rC,EAAItjD,KAAKqvF,IAAM51C,EAAIz5C,KAAKwvF,IACnCxvF,KAAKsvF,IAAMhsC,EAAItjD,KAAKsvF,IAAM71C,EAAIz5C,KAAKyvF,IACnCzvF,KAAKwvF,IAAMlsC,EAAItjD,KAAKwvF,IAAM/1C,EAAI4R,EAC9BrrD,KAAKyvF,IAAMnsC,EAAItjD,KAAKyvF,IAAMh2C,EAAIjrD,EACvBwR,IACX,CAEAqqF,KAAAA,CAAMvpF,EAAWwiD,GACb,OAAAtjD,KAAKqvF,KAAOvuF,EACZd,KAAKsvF,KAAOxuF,EACZd,KAAKwvF,KAAOlsC,EACZtjD,KAAKyvF,KAAOnsC,EACLtjD,IACX,CAEA,WAAI2uF,GACA,IAAM7tF,EAAMd,KAAK4uF,IACjB,OAAO,IAAIlV,GACN15E,KAAKyvF,IAAMzvF,KAAK6vF,IAAM7vF,KAAK0vF,IAAM1vF,KAAK4vF,KAAO9uF,GAC7Cd,KAAKuvF,IAAMvvF,KAAK4vF,IAAM5vF,KAAKsvF,IAAMtvF,KAAK6vF,KAAO/uF,GAC7Cd,KAAKsvF,IAAMtvF,KAAK0vF,IAAM1vF,KAAKuvF,IAAMvvF,KAAKyvF,KAAO3uF,GAC7Cd,KAAK0vF,IAAM1vF,KAAK2vF,IAAM3vF,KAAKwvF,IAAMxvF,KAAK6vF,KAAO/uF,GAC7Cd,KAAKqvF,IAAMrvF,KAAK6vF,IAAM7vF,KAAKuvF,IAAMvvF,KAAK2vF,KAAO7uF,GAC7Cd,KAAKuvF,IAAMvvF,KAAKwvF,IAAMxvF,KAAKqvF,IAAMrvF,KAAK0vF,KAAO5uF,GAC7Cd,KAAKwvF,IAAMxvF,KAAK4vF,IAAM5vF,KAAKyvF,IAAMzvF,KAAK2vF,KAAO7uF,GAC7Cd,KAAKsvF,IAAMtvF,KAAK2vF,IAAM3vF,KAAKqvF,IAAMrvF,KAAK4vF,KAAO9uF,GAC7Cd,KAAKqvF,IAAMrvF,KAAKyvF,IAAMzvF,KAAKsvF,IAAMtvF,KAAKwvF,KAAO1uF,EAEtD,CAEA,aAAI+tF,GACA,OAAO,IAAInV,EACP15E,KAAKqvF,IACLrvF,KAAKwvF,IACLxvF,KAAK2vF,IACL3vF,KAAKsvF,IACLtvF,KAAKyvF,IACLzvF,KAAK4vF,IACL5vF,KAAKuvF,IACLvvF,KAAK0vF,IACL1vF,KAAK6vF,IAEb,GAMSI,GAAN,MAAMvW,EAAK,cAAAroB,GAAA,gBACd/W,EAAc,CACV,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAGJz6C,WAAAA,CAAYiB,GACJA,IACAd,KAAKs6C,EAAIx5C,EAEjB,CAEA,gBAAOovF,CAAUpvF,GACb,OAAO,IAAI44E,EAAK,CACZ,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA54E,EAAEjQ,EACFiQ,EAAEkQ,EACF,EACA,GAER,CAEA,YAAOq5E,CAAMvpF,GACT,OAAO,IAAI44E,EAAK,CACZ54E,EAAEjQ,EACF,EACA,EACA,EACA,EACAiQ,EAAEkQ,EACF,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAER,CAEA,cAAOm/E,CAAQrvF,GACXA,EAAI0rF,IAAS1rF,GACb,IAAMwiD,EAAIlqD,KAAK2zF,IAAIjsF,GACb24C,EAAIrgD,KAAK4zF,IAAIlsF,GACnB,OAAO,IAAI44E,EAAK,CACZ,EACA,EACA,EACA,EACA,EACAp2B,GACC7J,EACD,EACA,EACAA,EACA6J,EACA,EACA,EACA,EACA,EACA,GAER,CAEA,cAAO8sC,CAAQtvF,GACXA,EAAI0rF,IAAS1rF,GACb,IAAMwiD,EAAIlqD,KAAK2zF,IAAIjsF,GACb24C,EAAIrgD,KAAK4zF,IAAIlsF,GACnB,OAAO,IAAI44E,EAAK,CACZp2B,EACA,EACA7J,EACA,EACA,EACA,EACA,EACA,GACCA,EACD,EACA6J,EACA,EACA,EACA,EACA,EACA,GAER,CAEA,cAAO+sC,CAAQvvF,GACXA,EAAI0rF,IAAS1rF,GACb,IAAMwiD,EAAIlqD,KAAK2zF,IAAIjsF,GACb24C,EAAIrgD,KAAK4zF,IAAIlsF,GACnB,OAAO,IAAI44E,EAAK,CACZp2B,GACC7J,EACD,EACA,EACAA,EACA6J,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAER,CAEA4sC,SAAAA,CAAUpvF,GACN,OAAAd,KAAKs6C,EAAE,KAAOt6C,KAAKs6C,EAAE,GAAKx5C,EAAEjQ,EAAImP,KAAKs6C,EAAE,GAAKx5C,EAAEkQ,EAC9ChR,KAAKs6C,EAAE,KAAOt6C,KAAKs6C,EAAE,GAAKx5C,EAAEjQ,EAAImP,KAAKs6C,EAAE,GAAKx5C,EAAEkQ,EAC9ChR,KAAKs6C,EAAE,KAAOt6C,KAAKs6C,EAAE,GAAKx5C,EAAEjQ,EAAImP,KAAKs6C,EAAE,GAAKx5C,EAAEkQ,EAC9ChR,KAAKs6C,EAAE,KAAOt6C,KAAKs6C,EAAE,GAAKx5C,EAAEjQ,EAAImP,KAAKs6C,EAAE,GAAKx5C,EAAEkQ,EACvChR,IACX,CAEAqqF,KAAAA,CAAMvpF,GACF,OAAAd,KAAKs6C,EAAE,IAAMx5C,EAAEjQ,EACfmP,KAAKs6C,EAAE,IAAMx5C,EAAEkQ,EACfhR,KAAKs6C,EAAE,IAAMx5C,EAAEjQ,EACfmP,KAAKs6C,EAAE,IAAMx5C,EAAEkQ,EACfhR,KAAKs6C,EAAE,IAAMx5C,EAAEjQ,EACfmP,KAAKs6C,EAAE,IAAMx5C,EAAEkQ,EACfhR,KAAKs6C,EAAE,IAAMx5C,EAAEjQ,EACfmP,KAAKs6C,EAAE,IAAMx5C,EAAEkQ,EACRhR,IACX,CAEAgwF,MAAAA,CAAOlvF,GACHA,EAAI0rF,IAAS1rF,GACb,IAAMwiD,EAAIlqD,KAAK2zF,IAAIjsF,GACb24C,EAAIrgD,KAAK4zF,IAAIlsF,GACbuqD,EAAKrrD,KAAKs6C,EAAE,GACZ9rD,EAAKwR,KAAKs6C,EAAE,GACZ91C,EAAKxE,KAAKs6C,EAAE,GACZ+/B,EAAKr6E,KAAKs6C,EAAE,GAClB,OAAAt6C,KAAKs6C,EAAE,GAAK+Q,EAAK/H,EAAI90D,EAAKirD,EAC1Bz5C,KAAKs6C,EAAE,IAAM+Q,EAAK5R,EAAIjrD,EAAK80D,EAC3BtjD,KAAKs6C,EAAE,GAAK91C,EAAK8+C,EAAI+2B,EAAK5gC,EAC1Bz5C,KAAKs6C,EAAE,IAAM91C,EAAKi1C,EAAI4gC,EAAK/2B,EACpBtjD,IACX,CAGAgsF,IAAAA,CAAKlrF,GACD,IAAMwiD,EAAM,GACZ,IAAK,IAAI7J,EAAI,EAAGA,EAAI,EAAGA,IACnB,IAAK,IAAI4R,EAAI,EAAGA,EAAI,EAAGA,IACnB/H,EAAQ,EAAJ7J,EAAQ4R,GAAKrrD,KAAKs6C,EAAE,EAAQ+Q,GAAKvqD,EAAMw5C,EAAM,EAAJb,EAAQ,GAC/Cz5C,KAAKs6C,EAAE,EAAQ+Q,GAAKvqD,EAAMw5C,EAAM,EAAJb,EAAQ,GACpCz5C,KAAKs6C,EAAE,EAAQ+Q,GAAKvqD,EAAMw5C,EAAM,EAAJb,EAAQ,GACpCz5C,KAAKs6C,EAAE,GAAQ+Q,GAAKvqD,EAAMw5C,EAAM,EAAJb,EAAQ,GAGlD,OAAO,IAAIigC,EAAKp2B,EACpB,CAEA4qC,QAAAA,CAASptF,GACL,OAAO,IAAI6rF,GACP7rF,EAAEjQ,EAAImP,KAAKs6C,EAAE,GAAKx5C,EAAEkQ,EAAIhR,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAC3Cx5C,EAAEjQ,EAAImP,KAAKs6C,EAAE,GAAKx5C,EAAEkQ,EAAIhR,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAEnD,CAEAg2C,cAAAA,GACI,OAAO,IAAI3D,GAAK3sF,KAAKs6C,EAAE,IAAKt6C,KAAKs6C,EAAE,IACvC,CAEAi2C,QAAAA,GACI,GAAiB,GAAbvwF,KAAKs6C,EAAE,IAAwB,GAAbt6C,KAAKs6C,EAAE,GAAS,CAClC,IAAMx5C,EAAMd,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GACjDgJ,EAAIlqD,KAAKi0F,KAAKrtF,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAC/D,OAAO,IAAIqyC,GAAKrpC,EAAGxiD,EAAMwiD,EAC7B,IACsB,GAAbtjD,KAAKs6C,EAAE,IAAwB,GAAbt6C,KAAKs6C,EAAE,GAAS,CACvC,IAAMx5C,EAAMd,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GACjDgJ,EAAIlqD,KAAKi0F,KAAKrtF,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAC/D,OAAO,IAAIqyC,GAAK7rF,EAAMwiD,EAAGA,EAC7B,CAEI,OAAO,IAAIqpC,GAAK,EAAG,EAE3B,CAEA6D,WAAAA,GACI,GAAiB,GAAbxwF,KAAKs6C,EAAE,IAAwB,GAAbt6C,KAAKs6C,EAAE,GAAS,CAClC,IAAMx5C,EAAI1H,KAAKi0F,KAAKrtF,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAC/D,OAAOoyC,GACH1sF,KAAKs6C,EAAE,GAAK,EACNlhD,KAAKq3F,KAAKzwF,KAAKs6C,EAAE,GAAKx5C,IACrB1H,KAAKq3F,KAAKzwF,KAAKs6C,EAAE,GAAKx5C,GAErC,IACsB,GAAbd,KAAKs6C,EAAE,IAAwB,GAAbt6C,KAAKs6C,EAAE,GAAS,CACvC,IAAMx5C,EAAI1H,KAAKi0F,KAAKrtF,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAC/D,OAAOoyC,GACHtzF,KAAKqzF,GAAK,GAAKzsF,KAAKs6C,EAAE,GAAK,EACrBlhD,KAAKq3F,MAAMzwF,KAAKs6C,EAAE,GAAKx5C,IACtB1H,KAAKq3F,KAAKzwF,KAAKs6C,EAAE,GAAKx5C,IAErC,CAEI,OAAO,CAEf,CAEA4vF,OAAAA,GACI,GAAiB,GAAb1wF,KAAKs6C,EAAE,IAAwB,GAAbt6C,KAAKs6C,EAAE,GAAS,CAClC,IAAMx5C,EAAI1H,KAAKi0F,KAAKrtF,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAC/D,OAAO,IAAIqyC,GACPvzF,KAAKu3F,KAAK3wF,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,KAC9Cx5C,EAAIA,GACX,EAER,IACsB,GAAbd,KAAKs6C,EAAE,IAAwB,GAAbt6C,KAAKs6C,EAAE,GAAS,CACvC,IAAMx5C,EAAI1H,KAAKi0F,KAAKrtF,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAC/D,OAAO,IAAIqyC,GACP,EACAvzF,KAAKu3F,KAAK3wF,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,KAC9Cx5C,EAAIA,GAEnB,CAEI,OAAO,IAAI6rF,GAAK,EAAG,EAE3B,CAEAZ,MAAAA,GACI,IAAMjrF,EAAM,GAENwiD,EAAMtjD,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IACpDb,EAAMz5C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IACnD+Q,EAAMrrD,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IACnD9rD,EAAMwR,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IACnD91C,EAAMxE,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IACnD+/B,EAAMr6E,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,GACnDqxC,EAAM3rF,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,GACnDA,EAAMt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,GACnDjB,EAAMr5C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,GACnDT,EAAM75C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,GACnD1+C,EAAMoE,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,GACnDv1C,EAAM/E,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,GACnDhB,EAAMt5C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,GACnDs2C,EAAM5wF,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,GACnDgxC,EAAMtrF,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAClDtpC,EAAMhR,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAClDu2C,EAAM7wF,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAClD5N,EAAM1sC,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,IAAMt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAClDX,EAAM35C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAAKt6C,KAAKs6C,EAAE,GAEvDx5C,EAAI,GAAKd,KAAKs6C,EAAE,GAAKgJ,EAAMtjD,KAAKs6C,EAAE,GAAKb,EAAMz5C,KAAKs6C,EAAE,GAAK+Q,EACzDvqD,EAAI,KAAOd,KAAKs6C,EAAE,GAAKgJ,EAAMtjD,KAAKs6C,EAAE,GAAK9rD,EAAMwR,KAAKs6C,EAAE,GAAK91C,GAC3D1D,EAAI,GAAKd,KAAKs6C,EAAE,GAAKb,EAAMz5C,KAAKs6C,EAAE,GAAK9rD,EAAMwR,KAAKs6C,EAAE,GAAK+/B,EACzDv5E,EAAI,MAAQd,KAAKs6C,EAAE,GAAK+Q,EAAMrrD,KAAKs6C,EAAE,GAAK91C,EAAMxE,KAAKs6C,EAAE,GAAK+/B,GAE5Dv5E,EAAI,KAAOd,KAAKs6C,EAAE,GAAKgJ,EAAMtjD,KAAKs6C,EAAE,GAAKb,EAAMz5C,KAAKs6C,EAAE,GAAK+Q,GAC3DvqD,EAAI,GAAKd,KAAKs6C,EAAE,GAAKgJ,EAAMtjD,KAAKs6C,EAAE,GAAK9rD,EAAMwR,KAAKs6C,EAAE,GAAK91C,EACzD1D,EAAI,KAAOd,KAAKs6C,EAAE,GAAKb,EAAMz5C,KAAKs6C,EAAE,GAAK9rD,EAAMwR,KAAKs6C,EAAE,GAAK+/B,GAC3Dv5E,EAAI,IAAMd,KAAKs6C,EAAE,GAAK+Q,EAAMrrD,KAAKs6C,EAAE,GAAK91C,EAAMxE,KAAKs6C,EAAE,GAAK+/B,EAE1Dv5E,EAAI,GAAKd,KAAKs6C,EAAE,GAAKqxC,EAAM3rF,KAAKs6C,EAAE,GAAKA,EAAMt6C,KAAKs6C,EAAE,GAAKjB,EACzDv4C,EAAI,KAAOd,KAAKs6C,EAAE,GAAKqxC,EAAM3rF,KAAKs6C,EAAE,GAAKT,EAAM75C,KAAKs6C,EAAE,GAAK1+C,GAC3DkF,EAAI,IAAMd,KAAKs6C,EAAE,GAAKv1C,EAAM/E,KAAKs6C,EAAE,GAAKT,EAAM75C,KAAKs6C,EAAE,GAAKhB,EAC1Dx4C,EAAI,MAAQd,KAAKs6C,EAAE,GAAKjB,EAAMr5C,KAAKs6C,EAAE,GAAK1+C,EAAMoE,KAAKs6C,EAAE,GAAKhB,GAE5Dx4C,EAAI,KAAOd,KAAKs6C,EAAE,GAAKs2C,EAAM5wF,KAAKs6C,EAAE,GAAKgxC,EAAMtrF,KAAKs6C,EAAE,GAAKtpC,GAC3DlQ,EAAI,GAAKd,KAAKs6C,EAAE,GAAKs2C,EAAM5wF,KAAKs6C,EAAE,GAAKu2C,EAAM7wF,KAAKs6C,EAAE,GAAK5N,EACzD5rC,EAAI,MAAQd,KAAKs6C,EAAE,GAAKgxC,EAAMtrF,KAAKs6C,EAAE,GAAKu2C,EAAM7wF,KAAKs6C,EAAE,GAAKX,GAC5D74C,EAAI,IAAMd,KAAKs6C,EAAE,GAAKtpC,EAAMhR,KAAKs6C,EAAE,GAAK5N,EAAM1sC,KAAKs6C,EAAE,GAAKX,EAE1D,IAAMm3C,EAAM9wF,KAAKs6C,EAAE,GAAKx5C,EAAI,GACtBd,KAAKs6C,EAAE,GAAKx5C,EAAI,GAChBd,KAAKs6C,EAAE,GAAKx5C,EAAI,GAChBd,KAAKs6C,EAAE,GAAKx5C,EAAI,IAEtB,IAAK,IAAIjQ,EAAI,EAAGA,EAAI,EAAGA,IACnB,IAAK,IAAIy9F,EAAI,EAAGA,EAAI,EAAGA,IACnBxtF,EAAQ,EAAJjQ,EAAQy9F,IAAM,EAAMwC,EAIhC,OAAO,IAAIpX,EAAK54E,EACpB,CAEAu7B,KAAAA,GACI,OAAO,IAAIq9C,EAAK,IAAI15E,KAAKs6C,GAC7B,CAEAp+C,QAAAA,GACI,OAAO8D,KAAKs6C,EAAEp+C,UAClB,GAGG,SAAS60F,GACZrX,EACA54E,EACAwiD,GAGA,OAAOo2B,IAFPrrF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAKg9D,IAAejyD,KAAK2zF,IAAI1hC,IAEd/H,GAAK,GAAK,GAAKxiD,EAAK44E,EACvC,CAPgBroB,GAAA0/B,GAAA,QAUhB,IAEMC,GAAI,WAKGC,GAAN,MAAU,cAAA5/B,GAAA,eACb6/B,KACArxF,WAAAA,CAAYiB,GACRd,KAAKkxF,KAAOpwF,CAChB,CACAqwF,GAAAA,GACI,OAAAnxF,KAAKkxF,MAbH,WAaelxF,KAAKkxF,KAZpB,OAYgCF,GAC3BhxF,KAAKkxF,KAAOF,EACvB,CACAI,SAAAA,CAAUtwF,EAAWwiD,GACjB,OAAOxiD,EAAId,KAAKmxF,OAAS7tC,EAAIxiD,EACjC,CACAuwF,OAAAA,CAAQvwF,EAASwiD,GACb,OAAO,IAAIqpC,GACP3sF,KAAKoxF,UAAUtwF,EAAEjQ,EAAGyyD,EAAEzyD,GACtBmP,KAAKoxF,UAAUtwF,EAAEkQ,EAAGsyC,EAAEtyC,GAE9B,CACAsgF,QAAAA,CAASxwF,EAAUwiD,GACf,OAAO,IAAI+nC,GACPrrF,KAAKoxF,UAAUtwF,EAAE24C,EAAG6J,EAAE7J,GACtBz5C,KAAKoxF,UAAUtwF,EAAEwqF,EAAGhoC,EAAEgoC,GACtBtrF,KAAKoxF,UAAUtwF,EAAEiE,EAAGu+C,EAAEv+C,GAE9B,CACAwsF,MAAAA,GACI,GAAoB,IAAhBljG,UAAKC,OACL,OAAO0R,KAAKmxF,MAEX,GAAoB,IAAhB9iG,UAAKC,OAAc,CACxB,GAAuB,iBAAnBD,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,IACA,OAAO2R,KAAKoxF,UAAU,EAAA/iG,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,IAErB,IAAIA,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,cAAmBs+F,GACxB,OAAO3sF,KAAKqxF,QAAQv+B,GAAK,EAAG,GAACzkE,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,IAE5B,IAAIA,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,cAAmBg9F,GACxB,OAAOrrF,KAAKsxF,SAAShF,GAAI,EAAG,EAAG,GAACj+F,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,GAExC,SACyB,IAAhBA,UAAKC,OAAc,CACxB,GAAuB,iBAAnBD,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,KAAkD,iBAAnBA,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,IAC/B,OAAO2R,KAAKoxF,UAAA/iG,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,GAAAA,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,IAEX,IAAIA,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,cAAmBs+F,KAAQt+F,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,cAAmBs+F,GACnD,OAAO3sF,KAAKqxF,QAAAhjG,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,GAAAA,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,IAEX,IAAIA,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,cAAmBg9F,KAASh9F,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,cAAmBg9F,GACpD,OAAOrrF,KAAKsxF,SAAAjjG,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,GAAAA,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,GAEpB,CAEA,MAAM,IAAIgD,MAAM,sCACpB,GAIEmgG,GAAS,IAAIP,GAAIlpF,KAAKnQ,OAErB,SAAS65F,GAAS/X,GACrB,OAAY,MAARA,IACA8X,GAAON,KAAOxX,GAEX8X,GAAON,IAClB,CAEO,SAASQ,KACZ,OAAOF,GAAOD,UAAOljG,UACzB,CAEO,SAASsjG,KAAiD,QAAAttB,EAAAh2E,UAAAC,OAAxCorF,EAAA,IAAA3kF,MAAAsvE,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAAoV,EAAApV,GAAAj2E,UAAAi2E,GACrB,OAAOlrE,KAAKgxD,MAAMsnC,MAAShY,EAAKprF,OAAS,EAAIorF,EAAO,CAAC,IACzD,CAEO,SAASkY,GAAOlY,GACnB,OAAOgY,MAAUhY,CACrB,CAEO,SAASmY,GAAWnY,GACvB,IAAK,IAAI54E,EAAI44E,EAAKprF,OAAS,EAAGwS,EAAI,EAAGA,IAAK,CACtC,IAAMwiD,EAAIlqD,KAAKgxD,MAAMhxD,KAAK6C,UAAY6E,EAAI,KACzC44E,EAAK54E,GAAI44E,EAAKp2B,IAAM,CAACo2B,EAAKp2B,GAAIo2B,EAAK54E,GACxC,CACA,OAAO44E,CACX,CAEO,SAASoY,GAAkBpY,EAAW54E,GACzC,OAAO44E,EAAKprF,QAAUwS,EAChB44E,EAAKv9E,QACL01F,GAAQnY,EAAKv9E,SAASA,MAAM,EAAG2E,EACzC,CAEO,SAASixF,GAAUrY,GACtB,OAAOA,EAAKiY,GAAMjY,EAAKprF,QAC3B,CAUO,SAAS0jG,GAAatY,EAAU54E,GACnC,OAAO44E,EAAGmQ,IAAIh5F,EAAI6oF,EAAGttE,MAAQtL,EAAG+oF,IAAIh5F,GAC7B6oF,EAAGmQ,IAAIh5F,EAAIiQ,EAAG+oF,IAAIh5F,EAAIiQ,EAAGsL,OACzBstE,EAAGmQ,IAAI74E,EAAI0oE,EAAGrtE,OAASvL,EAAG+oF,IAAI74E,GAC9B0oE,EAAGmQ,IAAI74E,EAAIlQ,EAAG+oF,IAAI74E,EAAIlQ,EAAGuL,MACpC,CAGO,SAAS4lF,GAAcvY,EAAU54E,GACpC,GACK44E,EAAGwY,GAAGrhG,IAAM6oF,EAAGyY,GAAGthG,GAAK6oF,EAAGwY,GAAGlhF,IAAM0oE,EAAGyY,GAAGnhF,GACtClQ,EAAGoxF,GAAGrhG,IAAMiQ,EAAGqxF,GAAGthG,GAAKiQ,EAAGoxF,GAAGlhF,IAAMlQ,EAAGqxF,GAAGnhF,EAE7C,OAAO,KAGX,IAAMsyC,GAASxiD,EAAGqxF,GAAGnhF,EAAIlQ,EAAGoxF,GAAGlhF,IAAM0oE,EAAGyY,GAAGthG,EAAI6oF,EAAGwY,GAAGrhG,IAC9CiQ,EAAGqxF,GAAGthG,EAAIiQ,EAAGoxF,GAAGrhG,IAAM6oF,EAAGyY,GAAGnhF,EAAI0oE,EAAGwY,GAAGlhF,GAG7C,GAAc,IAAVsyC,EACA,OAAO,KAGX,IAAM7J,IAAO34C,EAAGqxF,GAAGthG,EAAIiQ,EAAGoxF,GAAGrhG,IAAM6oF,EAAGwY,GAAGlhF,EAAIlQ,EAAGoxF,GAAGlhF,IAC5ClQ,EAAGqxF,GAAGnhF,EAAIlQ,EAAGoxF,GAAGlhF,IAAM0oE,EAAGwY,GAAGrhG,EAAIiQ,EAAGoxF,GAAGrhG,IAAMyyD,EAC7C+H,IAAOquB,EAAGyY,GAAGthG,EAAI6oF,EAAGwY,GAAGrhG,IAAM6oF,EAAGwY,GAAGlhF,EAAIlQ,EAAGoxF,GAAGlhF,IAC5C0oE,EAAGyY,GAAGnhF,EAAI0oE,EAAGwY,GAAGlhF,IAAM0oE,EAAGwY,GAAGrhG,EAAIiQ,EAAGoxF,GAAGrhG,IAAMyyD,EAGnD,OAAI7J,EAAK,GAAKA,EAAK,GAAK4R,EAAK,GAAKA,EAAK,EAC5B,KAGJ5R,CACX,CAEO,SAAS24C,GAAa1Y,EAAU54E,GACnC,IAAMwiD,EAAI2uC,GAAcvY,EAAI54E,GAC5B,OAAKwiD,EACEwP,GACH4mB,EAAGwY,GAAGrhG,EAAIyyD,GAAKo2B,EAAGyY,GAAGthG,EAAI6oF,EAAGwY,GAAGrhG,GAC/B6oF,EAAGwY,GAAGlhF,EAAIsyC,GAAKo2B,EAAGyY,GAAGnhF,EAAI0oE,EAAGwY,GAAGlhF,IAHpB,IAKnB,CAEO,SAASqhF,GAAa3Y,EAAS54E,GASlC,IAAMwiD,EAAMxiD,EAAEqxF,GAAGlF,IAAInsF,EAAEoxF,IACnBz4C,EAAOy3B,OAAOohB,kBAAmBjnC,EAAO6lB,OAAOqhB,kBAEnD,GAAa,GAATjvC,EAAIzyD,EAAU,CACd,IAAMrC,GAAOkrF,EAAEmQ,IAAIh5F,EAAIiQ,EAAEoxF,GAAGrhG,GAAKyyD,EAAIzyD,EAC/B2T,GAAOk1E,EAAEmQ,IAAIh5F,EAAI6oF,EAAEttE,MAAQtL,EAAEoxF,GAAGrhG,GAAKyyD,EAAIzyD,EAE/C4oD,EAAOrgD,KAAK+rD,IAAI1L,EAAMrgD,KAAK8Z,IAAI1kB,EAAKgW,IACpC6mD,EAAOjyD,KAAK8Z,IAAIm4C,EAAMjyD,KAAK+rD,IAAI32D,EAAKgW,GACxC,CAEA,GAAa,GAAT8+C,EAAItyC,EAAU,CACd,IAAMxiB,GAAOkrF,EAAEmQ,IAAI74E,EAAIlQ,EAAEoxF,GAAGlhF,GAAKsyC,EAAItyC,EAC/BxM,GAAOk1E,EAAEmQ,IAAI74E,EAAI0oE,EAAErtE,OAASvL,EAAEoxF,GAAGlhF,GAAKsyC,EAAItyC,EAEhDyoC,EAAOrgD,KAAK+rD,IAAI1L,EAAMrgD,KAAK8Z,IAAI1kB,EAAKgW,IACpC6mD,EAAOjyD,KAAK8Z,IAAIm4C,EAAMjyD,KAAK+rD,IAAI32D,EAAKgW,GACxC,CAEA,OAAO6mD,GAAQ5R,GAAQ4R,GAAQ,GAAK5R,GAAQ,CAChD,CASO,SAAS+4C,GAAc9Y,EAAS54E,GACnC,OAAOA,EAAGjQ,EAAI6oF,EAAEmQ,IAAIh5F,GACbiQ,EAAGjQ,EAAI6oF,EAAEmQ,IAAIh5F,EAAI6oF,EAAEttE,OACnBtL,EAAGkQ,EAAI0oE,EAAEmQ,IAAI74E,GACblQ,EAAGkQ,EAAI0oE,EAAEmQ,IAAI74E,EAAI0oE,EAAErtE,MAC9B,CAEO,SAASomF,GAAe/Y,EAAS54E,GAIpC,OADqBgyD,GAFV15D,KAAK+rD,IAAIu0B,EAAEmQ,IAAIh5F,EAAGuI,KAAK8Z,IAAIpS,EAAEgpF,OAAOj5F,EAAG6oF,EAAEmQ,IAAIh5F,EAAI6oF,EAAEttE,QACnDhT,KAAK+rD,IAAIu0B,EAAEmQ,IAAI74E,EAAG5X,KAAK8Z,IAAIpS,EAAEgpF,OAAO94E,EAAG0oE,EAAEmQ,IAAI74E,EAAI0oE,EAAErtE,UAE1C8gF,MAAMrsF,EAAEgpF,SAAWhpF,EAAE4xF,OAAS5xF,EAAE4xF,MACxD,CAEO,SAASC,GAAgBjZ,EAAS54E,GACrC,OAAO8xF,GAAmB9xF,EAAG,IAAI+xF,GAAQnZ,EAAEoZ,UAC/C,CAEO,SAASC,GAAcrZ,EAAS54E,GACnC,IAAMwiD,EAAKxiD,EAAGmsF,IAAIvT,EAAEwY,IACdz4C,EAAKigC,EAAEyY,GAAGlF,IAAIvT,EAAEwY,IAItB,GAAI94F,KAAK61F,IAAI3rC,EAAGqqC,MAAMl0C,IAAOy3B,OAAOge,QAChC,OAAO,EAIX,IAAM7jC,EAAI/H,EAAGgqC,IAAI7zC,GAAMA,EAAG6zC,IAAI7zC,GAG9B,OAAO4R,GAAK,GAAKA,GAAK,CAC1B,CAEO,SAAS2nC,GAAetZ,EAAS54E,GACpC,IAAMwiD,EAAIo2B,EAAEyY,GAAGlF,IAAIvT,EAAEwY,IACfz4C,EAAI6J,EAAEgqC,IAAIhqC,GACV+H,EAAiBquB,EAAEwY,GAAGjF,IAAInsF,EAAOgpF,QACjCt7F,EAAI,EAAI80D,EAAEgqC,IAAIjiC,GAIdgvB,EAAM7rF,EAAIA,EAAI,EAAIirD,GAHd4R,EAAeiiC,IAAIjiC,GACvBvqD,EAAO4xF,OAAS5xF,EAAO4xF,QAK7B,GAAKj5C,GAAKy3B,OAAOge,SAAa7U,EAAM,EAChC,OAAO,EAGN,GAAW,GAAPA,EAAU,CACf,IAAMsR,GAAKn9F,GAAK,EAAIirD,GACpB,GAAIkyC,GAAK,GAAKA,GAAK,EACf,OAAO,CAEf,KAEK,CACD,IAAMA,IAAOn9F,EAAI4K,KAAKi0F,KAAKhT,KAAS,EAAI5gC,GAClCa,IAAO9rD,EAAI4K,KAAKi0F,KAAKhT,KAAS,EAAI5gC,GACxC,GAAKkyC,GAAM,GAAKA,GAAM,GAAOrxC,GAAM,GAAKA,GAAM,EAC1C,OAAO,CAEf,CAIA,OAAO24C,GAAgBnyF,EAAQ44E,EAAEwY,GACrC,CAEO,SAASgB,GAAgBxZ,EAAS54E,GAErC,GAAIqyF,GAAiBryF,EAAG44E,EAAEwY,KAAOiB,GAAiBryF,EAAG44E,EAAEyY,IACnD,OAAO,EAIX,IAAK,IAAI7uC,EAAI,EAAGA,EAAIxiD,EAAEsyF,IAAI9kG,OAAQg1D,IAAK,CACnC,IAAM7J,EAAK34C,EAAEsyF,IAAI9vC,GACX+H,EAAKvqD,EAAEsyF,KAAK9vC,EAAI,GAAKxiD,EAAEsyF,IAAI9kG,QACjC,GAAI8jG,GAAa1Y,EAAG,IAAI2Z,GAAK55C,EAAI4R,IAC7B,OAAO,CAEf,CAEA,OAAO,CACX,CAEO,SAAS4nC,GAAgBvZ,EAAW54E,GACvC,OAAO44E,EAAEoQ,OAAOqD,MAAMrsF,GAAK44E,EAAEgZ,OAAShZ,EAAEgZ,MAC5C,CAEO,SAASY,GAAiB5Z,EAAY54E,GACzC,OAAO44E,EAAGoQ,OAAOqD,MAAMrsF,EAAGgpF,SACnBpQ,EAAGgZ,OAAS5xF,EAAG4xF,SAAWhZ,EAAGgZ,OAAS5xF,EAAG4xF,OACpD,CAEO,SAASa,GAAkB7Z,EAAW54E,GAEzC,IAAIwiD,EAAOxiD,EAAEsyF,IAAItyF,EAAEsyF,IAAI9kG,OAAS,GAChC,IAAK,IAAMmrD,KAAO34C,EAAEsyF,IAAK,CACrB,GAAIJ,GAAe,IAAIK,GAAK/vC,EAAM7J,GAAMigC,GACpC,OAAO,EAEXp2B,EAAO7J,CACX,CAIA,QAAIw5C,GAAgBvZ,EAAG54E,EAAEsyF,IAAI,KAKtBD,GAAiBryF,EAAG44E,EAAEoQ,OACjC,CAEO,SAAS8I,GAAmBlZ,EAAa54E,GAC5C,IAAK,IAAIwiD,EAAI,EAAGA,EAAIo2B,EAAG0Z,IAAI9kG,OAAQg1D,IAC/B,GACI4vC,GACI,IAAIG,GAAK3Z,EAAG0Z,IAAI9vC,GAAIo2B,EAAG0Z,KAAK9vC,EAAI,GAAKo2B,EAAG0Z,IAAI9kG,SAC5CwS,GAGJ,OAAO,EAIf,SACI44E,EAAG0Z,IAAI7hC,MAAKjO,GAAK6vC,GAAiBryF,EAAIwiD,OACnCxiD,EAAGsyF,IAAI7hC,MAAKjO,GAAK6vC,GAAiBzZ,EAAIp2B,KAKjD,CAGO,SAAS6vC,GAAiBzZ,EAAe54E,GAC5C,IAAIwiD,GAAI,EACF7J,EAAIigC,EAAK0Z,IAEf,IAAK,IAAI/nC,EAAI,EAAG78D,EAAIirD,EAAEnrD,OAAS,EAAG+8D,EAAI5R,EAAEnrD,OAAQE,EAAI68D,IAE1C5R,EAAE4R,GAAGr6C,EAAIlQ,EAAGkQ,GAAOyoC,EAAEjrD,GAAGwiB,EAAIlQ,EAAGkQ,GAC7BlQ,EAAGjQ,GACA4oD,EAAEjrD,GAAGqC,EAAI4oD,EAAE4R,GAAGx6D,IAAMiQ,EAAGkQ,EAAIyoC,EAAE4R,GAAGr6C,IAAMyoC,EAAEjrD,GAAGwiB,EAAIyoC,EAAE4R,GAAGr6C,GACjDyoC,EAAE4R,GAAGx6D,IAEfyyD,GAAKA,GAIb,OAAOA,CACX,CAEO,SAASkwC,GAAiB9Z,EAAkB54E,GAE/CA,EAAKA,EAAGmsF,IAAIvT,EAAQoQ,QACpB,IAAMxmC,EAAQkpC,GAAQ9S,EAAQkU,OACxBn0C,EAAIrgD,KAAK2zF,IAAIzpC,GACb+H,EAAIjyD,KAAK4zF,IAAI1pC,GACb90D,EAAKsS,EAAGjQ,EAAI4oD,EAAI34C,EAAGkQ,EAAIq6C,EACvB7mD,GAAM1D,EAAGjQ,EAAIw6D,EAAIvqD,EAAGkQ,EAAIyoC,EAC9B,OAAOjrD,EAAKA,GAAMkrF,EAAQ+Z,QAAU/Z,EAAQ+Z,SAClCjvF,EAAKA,GAAMk1E,EAAQga,QAAUha,EAAQga,SAAW,CAC9D,CAEO,SAASC,GAAkBja,EAAkB54E,GAGhD,IAAMwiD,EAASxiD,EAAOgpF,OAAOmD,IAAIvT,EAAQoQ,QACnCrwC,EAAQ+yC,GAAQ9S,EAAQkU,OACxBviC,EAAIjyD,KAAK2zF,IAAItzC,GACbjrD,EAAI4K,KAAK4zF,IAAIvzC,GACbj1C,EAAK8+C,EAAOzyD,EAAIw6D,EAAI/H,EAAOtyC,EAAIxiB,EAC/B6rF,GAAM/2B,EAAOzyD,EAAIrC,EAAI80D,EAAOtyC,EAAIq6C,EAEtC,OAAOmoC,GACH,IAAII,GACA9gC,KACA4mB,EAAQ+Z,QAAU3yF,EAAO4xF,OACzBhZ,EAAQga,QAAU5yF,EAAO4xF,OACzB,GAEJ5/B,GAAKtuD,EAAI61E,GAEjB,CAEO,SAASwZ,GAAgBna,EAAkB54E,GAE9C,IAAMwiD,EAAIo2B,EAAQqW,SAASpB,QAC3B,OAIOqE,GAJPlyF,EAAO,IAAIuyF,GACP/vC,EAAEmpB,UAAU3rE,EAAKoxF,GAAGjF,IAAIvT,EAAQoQ,SAChCxmC,EAAEmpB,UAAU3rE,EAAKqxF,GAAGlF,IAAIvT,EAAQoQ,UAER,IAAIgK,GAAOhhC,KAAQ,GACnD,CAEO,SAASihC,GACZra,EACA54E,GAGA,GAAI44E,EAAS+Z,UAAY/Z,EAASga,QAC9B,OAAOC,GACH7yF,EACA,IAAIgzF,GAAOpa,EAASoQ,OAAQpQ,EAAS+Z,UAGxC,GAAI3yF,EAAS2yF,UAAY3yF,EAAS4yF,QACnC,OAAOC,GACHja,EACA,IAAIoa,GAAOhzF,EAASgpF,OAAQhpF,EAAS2yF,UAO7C,IAAMnwC,EAAK,IAAI8rC,GACX,EAAI1V,EAAS+Z,SAAW,EACxB,EACA,EACA,EACA,EAAI/Z,EAASga,SAAW,EACxB,EACA,EACA,GACC,GAECj6C,EAAK,IAAI21C,GACX,EAAItuF,EAAS2yF,SAAW,EACxB,EACA,EACA,EACA,EAAI3yF,EAAS4yF,SAAW,EACxB,EACA,EACA,GACC,GAGCroC,EAAKquB,EAASoQ,OAAOj5F,EACrBrC,EAAKkrF,EAASoQ,OAAO94E,EACrBxM,EAAK1D,EAASgpF,OAAOj5F,EACrBwpF,EAAKv5E,EAASgpF,OAAO94E,EACrB26E,EAASa,GAAQ9S,EAASkU,OAC1BtzC,EAASkyC,GAAQ1rF,EAAS8sF,OAE1Bv0C,EAAK,IAAI+1C,GACXh2F,KAAK2zF,IAAIpB,IACRvyF,KAAK4zF,IAAIrB,GACVtgC,EACAjyD,KAAK4zF,IAAIrB,GACTvyF,KAAK2zF,IAAIpB,GACTn9F,EACA,EACA,EACA,GAEEqrD,EAAK,IAAIu1C,GACXh2F,KAAK2zF,IAAIzyC,IACRlhD,KAAK4zF,IAAI1yC,GACV91C,EACApL,KAAK4zF,IAAI1yC,GACTlhD,KAAK2zF,IAAIzyC,GACT+/B,EACA,EACA,EACA,GAEEz+E,EAAQy9C,EAAGs1C,QACX5pF,EAAQ80C,EAAG80C,QAEXr1C,EAAI19C,EAAMizF,UAAUH,IAAIprC,GAAIorC,IAAI9yF,GAChCg1F,EAAI7rF,EAAM8pF,UAAUH,IAAIj1C,GAAIi1C,IAAI3pF,GAEhCumF,EAAMhyC,EAAE+1C,IACRr+E,EAAMsoC,EAAEg2C,IACRuB,EAAMv3C,EAAEi2C,IACR7iD,EAAM4M,EAAEk2C,IACR71C,EAAML,EAAEm2C,IACRqB,EAAMx3C,EAAEo2C,IACR7+F,EAAMyoD,EAAEq2C,IACRrB,EAAMh1C,EAAEs2C,IACRntE,EAAM62B,EAAEu2C,IAERj1C,EAAMg2C,EAAEvB,IACR2E,EAAMpD,EAAEtB,IACR2E,EAAMrD,EAAErB,IACR7hB,EAAMkjB,EAAEpB,IACR9qE,EAAMksE,EAAEnB,IACRyE,EAAMtD,EAAElB,IACRyE,EAAMvD,EAAEjB,IACRyE,EAAMxD,EAAEhB,IACR/gB,EAAM+hB,EAAEf,IAERwE,EAAS/I,EAAM3xC,EAAMl3B,EAAM6oE,EAAMwF,EAAMxC,EAAMt9E,EAAM07B,EAAMjqB,EACzDzR,EAAM8/E,EAAMjgG,EAAMggG,EAAMnkD,EAAM4hD,EAAMuC,EAAMl3C,EAAM9oD,EAChD0pD,GACD+wC,EAAM3xC,EAAMk1B,EAAMyc,EAAMwF,EAAMsD,EAAM9I,EAAMgD,EAAM4F,EAAM5I,EAAM7oE,EAAMiC,EAC7D1T,EAAM07B,EAAMmiC,EAAM79D,EAAM8/E,EAAMqD,EAAMnjF,EAAMngB,EAAMqjG,EAChDljF,EAAMyR,EAAMirD,EAAMmjB,EAAMnkD,EAAM0nD,EAAMvD,EAAMl3C,EAAMw6C,EAChDtD,EAAMhgG,EAAM6zB,EAAMmsE,EAAMvC,EAAM5gB,EAAMhhC,EAAM4hD,EAAM2F,EAChDvnD,EAAMjqB,EAAMuxE,EAAMr6C,EAAM9oD,EAAMojG,EAAMt6C,EAAMl3B,EAAMm4B,EAChDk2C,EAAMjgG,EAAMmjG,EAAMlD,EAAMxC,EAAM1zC,GAAOy5C,EACzCC,GACDhJ,EAAM5mE,EAAMmqD,EAAMyc,EAAM4I,EAAME,EAAMpjF,EAAM08D,EAAMmB,EAAM79D,EAAMkjF,EAAMC,EAC7DtD,EAAMnjB,EAAM0mB,EAAMvD,EAAMnsE,EAAMyvE,EAAMznD,EAAMsnD,EAAMnlB,EAChDniC,EAAMunD,EAAMG,EAAMz6C,EAAMiB,EAAMi0B,EAAMl1B,EAAMs6C,EAAME,EAChDrD,EAAMl2C,EAAMw5C,EAAMtD,EAAMkD,EAAMG,EAAMtjG,EAAMmjG,EAAME,EAChDrjG,EAAMojG,EAAMvvE,EAAM4pE,EAAM1zC,EAAMs5C,EAAM5F,EAAM2F,EAAMvmB,EAChDjrD,EAAMm4B,EAAMl2B,EAAMjC,EAAMuxE,EAAMtmB,GAAO2mB,EACzCE,GACD35C,EAAMl2B,EAAMmqD,EAAMj0B,EAAMs5C,EAAME,EAAMJ,EAAMtmB,EAAMmB,EAAMmlB,EAAME,EAAMC,EAC7DF,EAAMvmB,EAAM0mB,EAAMH,EAAMvvE,EAAMyvE,GAAOE,EAE/C,GAAI95C,GAAK,EAAG,CAKR,SAJoB,EAAI+5C,EAAI/5C,GAAK,EAIhB,GAHE,EAAIA,EAAIg6C,EAAID,EAAI/5C,GAAK,EAAI,EAAI+5C,GAAK,EAGlB,IAFf,GAAKC,GAAK,EAAI,GAAKA,EAAIh6C,EAAI+5C,EAAI/5C,GAAK,EAAI+5C,GAAK,EAC3D,EAAI/5C,GAAK,EAAIg6C,EAAI,EAAID,GAAK,EACqB,EAMzD,CAKI,SAHoB,EAAIA,EAAI/5C,GAAK,EAGhB,IAFG,GAAKg6C,GAAK,EAAI,GAAKA,EAAIh6C,EAAI+5C,EAAI/5C,GAAK,EAAI+5C,GAAK,EAC3D,EAAI/5C,GAAK,EAAIg6C,EAAI,EAAID,GAAK,EACG,EAO3C,CAEO,SAASE,GAAgB9a,EAAkB54E,GAC9C,OAAO2zF,GAAmB/a,EAAS,IAAImZ,GAAQ/xF,EAAKgyF,UACxD,CAEO,SAAS2B,GAAmB/a,EAAkB54E,GAEjD,IAAMwiD,EAAIo2B,EAAQqW,SAASpB,QAC3B,OAAA7tF,EAAO,IAAI+xF,GAAQ/xF,EAAKsyF,IAAItsE,KAAI2yB,GAAK6J,EAAEmpB,UAAUhzB,EAAEwzC,IAAIvT,EAAQoQ,YACxDyJ,GAAkB,IAAIO,GAAOhhC,KAAQ,GAAIhyD,EACpD,CAEO,SAAS4zF,GAAehb,EAAU54E,GACrC,OAAO44E,EAAG7oF,IAAMiQ,EAAGjQ,GAAK6oF,EAAG1oE,IAAMlQ,EAAGkQ,CACxC,CAOO,SAAS2jF,GAAejb,EAAc54E,GACzC,OAAIA,aAAiB6rF,GACV+H,GAAe5zF,EAAe44E,EAAMkb,IAEtC9zF,aAAiBgzF,GACfb,GAAgBnyF,EAAiB44E,EAAMkb,IAEzC9zF,aAAiBuyF,GACfN,GAAcjyF,EAAe44E,EAAMkb,IAErC9zF,aAAiBstF,GACfoE,GAAc1xF,EAAe44E,EAAMkb,IAErC9zF,aAAiB+xF,GACfM,GAAiBryF,EAAkB44E,EAAMkb,IAE3C9zF,aAAiB8yF,IACfJ,GAAiB1yF,EAAkB44E,EAAMkb,GAKxD,CAEO,SAASC,GAAcnb,EAAY54E,GACtC,OAAIA,aAAiB6rF,GACVoG,GAAcrZ,EAAM54E,GAEtBA,aAAiBgzF,GACfd,GAAetZ,EAAM54E,GAEvBA,aAAiBuyF,GACsB,MAArCjB,GAAa1Y,EAAM54E,GAErBA,aAAiBstF,GACfiE,GAAavxF,EAAe44E,GAE9B54E,aAAiB+xF,GACfK,GAAgBxZ,EAAM54E,GAExBA,aAAiB8yF,IACfC,GAAgB/yF,EAAkB44E,EAKjD,CAEO,SAASob,GACZpb,EACA54E,GAEA,OAAIA,aAAiB6rF,GACVsG,GAAgBvZ,EAAQ54E,GAE1BA,aAAiBgzF,GACfR,GAAiB5Z,EAAQ54E,GAE3BA,aAAiBuyF,GACfL,GAAelyF,EAAe44E,GAEhC54E,aAAiBstF,GACfqE,GAAe3xF,EAAe44E,GAEhC54E,aAAiB+xF,GACfU,GAAkB7Z,EAAQ54E,GAE5BA,aAAiB8yF,IACfD,GAAkB7yF,EAAkB44E,EAKnD,CAEO,SAASqb,GAAcrb,EAAY54E,GACtC,OAAIA,aAAiB6rF,GACV6F,GAAc9Y,EAAM54E,GAEtBA,aAAiBgzF,GACfrB,GAAe/Y,EAAM54E,GAEvBA,aAAiBuyF,GACfhB,GAAa3Y,EAAM54E,GAErBA,aAAiBstF,GACf4D,GAAatY,EAAM54E,GAErBA,aAAiB+xF,GACfF,GAAgBjZ,EAAM54E,GAExBA,aAAiB8yF,IACfY,GAAgB1zF,EAAkB44E,EAKjD,CAEO,SAASsb,GACZtb,EACA54E,GAEA,OAAIA,aAAiB6rF,GACVwG,GAAiBzZ,EAAS54E,GAE5BA,aAAiBgzF,GACfP,GAAkBzyF,EAAiB44E,GAErC54E,aAAiBuyF,GACfH,GAAgBpyF,EAAe44E,GAEjC54E,aAAiBstF,GACfuE,GAAgB7xF,EAAe44E,GAEjC54E,aAAiB+xF,GACfD,GAAmB9xF,EAAkB44E,GAEvC54E,aAAiB8yF,IACfa,GAAmB3zF,EAAkB44E,EAKpD,CAEO,SAASub,GAAiBvb,EAAkB54E,GAC/C,OAAIA,aAAiB6rF,GACV6G,GAAiB9Z,EAAS54E,GAE5BA,aAAiBgzF,GACfH,GAAkBja,EAAS54E,GAE7BA,aAAiBuyF,GACfQ,GAAgBna,EAAS54E,GAE3BA,aAAiBstF,GACfoG,GAAgB9a,EAAS54E,GAE3BA,aAAiB+xF,GACf4B,GAAmB/a,EAAS54E,GAE9BA,aAAiB8yF,IACfG,GAAmBjzF,EAAkB44E,EAKpD,CA0CA,SAASwb,GAAYxb,EAAc54E,EAAiBwiD,GAChD,IAAM7J,EAAIigC,EACJruB,EAAI/H,EAAK4uC,GAET1tF,EAAK1D,EACLu5E,EAFI/2B,EAAK6uC,GAEFlF,IAAI5hC,GACXsgC,EAAQnnF,EAAGmpF,MAAMtT,GAEvB,GAAIjhF,KAAK61F,IAAItD,GAASza,OAAOge,QACzB,OAAO,KAEX,IAAM50C,EAAK+Q,EAAE4hC,IAAIxzC,GACXJ,EAAIiB,EAAGqzC,MAAMtT,GAAMsR,EAEzB,GAAItyC,GAAK,GAAKA,GAAK,EACf,OAAO,KAGX,IAAMQ,EAAIS,EAAGqzC,MAAMnpF,GAAMmnF,EACzB,GAAI9xC,GAAK,GAAKA,GAAK,EACf,OAAO,KAGX,IAAMj+C,EAASy+E,EAAGmT,SAASD,OAC3B,OAAIzsF,EAAUwsF,IAAI1xF,GAAU,IACxBA,EAAO/K,IAAM,EACb+K,EAAOoV,IAAM,GAGV,CACHmkF,MAAO17C,EAAEv7C,IAAIsG,EAAG6lF,MAAMhxC,IACtBm0C,OAAQ5xF,EACRw5F,SAAU/7C,EAElB,CAEA,SAASg8C,GAAY3b,EAAc54E,EAAiBwiD,GAChD,IACI90D,EADAirD,EAAOy3B,OAAOohB,kBAAmBjnC,EAAO6lB,OAAOqhB,kBAGnD,GAAgB,GAAZ7Y,EAAO7oF,EAAU,CACjB,IAAM2T,GAAO8+C,EAAKumC,IAAIh5F,EAAI6oF,EAAO7oF,GAAKiQ,EAAUjQ,EAC1CwpF,GAAO/2B,EAAKumC,IAAIh5F,EAAIyyD,EAAKl3C,MAAQstE,EAAO7oF,GAAKiQ,EAAUjQ,EAE7DrC,EAASskE,IAAM15D,KAAKk8F,KAAKx0F,EAAUjQ,GAAI,GAEvC4oD,EAAOrgD,KAAK+rD,IAAI1L,EAAMrgD,KAAK8Z,IAAI1O,EAAK61E,IACpChvB,EAAOjyD,KAAK8Z,IAAIm4C,EAAMjyD,KAAK+rD,IAAI3gD,EAAK61E,GACxC,CAEA,GAAgB,GAAZX,EAAO1oE,EAAU,CACjB,IAAMxM,GAAO8+C,EAAKumC,IAAI74E,EAAI0oE,EAAO1oE,GAAKlQ,EAAUkQ,EAC1CqpE,GAAO/2B,EAAKumC,IAAI74E,EAAIsyC,EAAKj3C,OAASqtE,EAAO1oE,GAAKlQ,EAAUkQ,EAE1D5X,KAAK8Z,IAAI1O,EAAK61E,GAAO5gC,IACrBjrD,EAASskE,GAAK,GAAI15D,KAAKk8F,KAAKx0F,EAAUkQ,KAG1CyoC,EAAOrgD,KAAK+rD,IAAI1L,EAAMrgD,KAAK8Z,IAAI1O,EAAK61E,IACpChvB,EAAOjyD,KAAK8Z,IAAIm4C,EAAMjyD,KAAK+rD,IAAI3gD,EAAK61E,GACxC,CAEA,OAAIhvB,GAAQ5R,GAAQA,GAAQ,GAAKA,GAAQ,EAG9B,CACH07C,MAHUzb,EAAOx7E,IAAI4C,EAAUupF,MAAM5wC,IAIrC+zC,OAAQh/F,EACR4mG,SAAU37C,GAIP,IAEf,CAEA,SAAS87C,GACL7b,EACA54E,EACAwiD,GAEA,IAAM7J,EAAIigC,EACJruB,EAAI/H,EAAOwmC,OACXt7F,EAAKsS,EACL0D,EAAIhW,EAAG8+F,IAAI9+F,GACX6rF,EAAiB5gC,EAAEwzC,IAAI5hC,GACvBsgC,EAAI,EAAIn9F,EAAG8+F,IAAIjT,GAIfhhC,EAAOsyC,EAAIA,EAAI,EAAInnF,GAHf61E,EAAeiT,IAAIjT,GACvB/2B,EAAOovC,OAASpvC,EAAOovC,QAI7B,GAAKluF,GAAK0sE,OAAOge,SAAa71C,EAAO,EACjC,OAAO,KAGN,GAAY,GAARA,EAAW,CAChB,IAAMQ,GAAK8xC,GAAK,EAAInnF,GACpB,GAAIq1C,GAAK,GAAKA,GAAK,EAAG,CAClB,IAAMj+C,EAAQ69C,EAAEv7C,IAAI1P,EAAG67F,MAAMxwC,IAC7B,MAAO,CACHs7C,MAAOv5F,EACP4xF,OAAQ5xF,EAAMqxF,IAAI5hC,GAClB+pC,SAAUv7C,EAElB,CACJ,KAEK,CACD,IAAMA,IAAO8xC,EAAIvyF,KAAKi0F,KAAKh0C,KAAU,EAAI70C,GACnC5I,IAAO+vF,EAAIvyF,KAAKi0F,KAAKh0C,KAAU,EAAI70C,GACrCO,EAAI,KAOR,GANI80C,GAAM,GAAKA,GAAM,IACjB90C,EAAI80C,GAEJj+C,GAAM,GAAKA,GAAM,IACjBmJ,EAAI3L,KAAK8Z,IAAItX,EAAImJ,GAAKnJ,IAEjB,MAALmJ,EAAW,CACX,IAAMu0C,EAAQG,EAAEv7C,IAAI1P,EAAG67F,MAAMtlF,IAC7B,MAAO,CACHowF,MAAO77C,EACPk0C,OAAQl0C,EAAM2zC,IAAI5hC,GAAGkiC,OACrB6H,SAAUrwF,EAElB,CACJ,CAEA,OAAO,IACX,CAEA,SAASywF,GACL9b,EACA54E,EACAwiD,GAEA,IAAM7J,EAAS6J,EAAQ8vC,IACnB/nC,EAAS,KAET78D,EAAOirD,EAAOA,EAAOnrD,OAAS,GAClC,IAAK,IAAIkW,EAAI,EAAGA,EAAIi1C,EAAOnrD,OAAQkW,IAAK,CACpC,IAAM61E,EAAM5gC,EAAOj1C,GACbmnF,EAAMuJ,GAAYxb,EAAQ54E,EAAW,IAAIuyF,GAAK7kG,EAAM6rF,IACtDsR,KAAStgC,GAAUA,EAAO+pC,SAAWzJ,EAAIyJ,YACzC/pC,EAASsgC,GAEbn9F,EAAO6rF,CACX,CAEA,OAAOhvB,CACX,CAEA,SAASoqC,GACL/b,EACA54E,EACAwiD,GAGA,IAAM7J,EAAI6J,EAAQysC,SAEZ1kC,EAAK5R,EAAEk1C,QAKPtU,EAASkb,GAHClqC,EAAGohB,UAAUiN,EAAOuT,IAAI3pC,EAAQwmC,SAC7Bz+B,EAAGohB,UAAU3rE,GAEkB,IAAIgzF,GAAOhhC,KAAQ,IACrE,GAAIunB,EAAQ,CACR,IAAMsR,EAAI8C,GAAKU,SAAS3C,IAASlpC,EAAQsqC,QAGnCv0C,EAFIo1C,GAAKpE,MAAM/mC,EAAQmwC,QAASnwC,EAAQowC,SAElCjnB,UAAU4N,EAAO8a,OAEvBt7C,EAAQJ,EAAEgzB,UAAU4N,EAAO8a,OAAOj3F,IAAIolD,EAAQwmC,QAC9CluF,EAAWi+C,EAAMqzC,KAAKxT,GAAU54E,EAAUqrE,MAChD,MAAO,CACHgpB,MAAOt7C,EAEP2zC,OAAQ7B,EAAElf,UACN3Z,GAAKxP,EAAQowC,SAAW,EAAIr6C,EAAExoD,EAAGyyD,EAAQmwC,SAAW,EAAIp6C,EAAEroC,IAC5Du8E,OACF6H,SAAAx5F,EAER,CACA,OAAOy+E,CACX,CAEO,SAASqb,GACZhc,EACA54E,EACAwiD,GAEoB,IADpB7J,EAAAprD,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAsB,GAEhBg9D,EAAMquB,EACNlrF,EAAMsS,EAAUqrE,MAChB3nE,EAAM1D,EAAUupF,MAAM,EAAI77F,GAC5B6rF,EAAI,EACFsR,EAAU74B,GAAK15D,KAAKgxD,MAAMsvB,EAAO7oF,GAAIuI,KAAKgxD,MAAMsvB,EAAO1oE,IACvDspC,EAAOwY,GAAKtuD,EAAI3T,EAAI,EAAI,GAAK,EAAG2T,EAAIwM,EAAI,EAAI,GAAK,GACjDqoC,EAASyZ,GAAK15D,KAAK61F,IAAI,EAAIzqF,EAAI3T,GAAIuI,KAAK61F,IAAI,EAAIzqF,EAAIwM,IACpD6oC,EAAOiZ,GACRxY,EAAKzpD,EAAI,EAAM86F,EAAQ96F,EAAI,EAAI6oF,EAAO7oF,EAAM6oF,EAAO7oF,EAAI86F,EAAQ96F,EAC/DypD,EAAKtpC,EAAI,EAAM26E,EAAQ36E,EAAI,EAAI0oE,EAAO1oE,EAAM0oE,EAAO1oE,EAAI26E,EAAQ36E,GAE9DpV,EAAOk3D,GACRzZ,EAAOxoD,EAAI,IAAYwoD,EAAOxoD,EAAIgpD,EAAKhpD,EAAI,IAC3CwoD,EAAOroC,EAAI,IAAYqoC,EAAOroC,EAAI6oC,EAAK7oC,EAAI,KAE5CjM,GAAgB,EACpB,KAAOs1E,GAAK5gC,GAAa,CACrB,IAAMH,EAAMgK,EAAWqoC,GACvB,IAAY,IAARryC,EACA,MAAO,CACH67C,MAAO9pC,EAAIntD,IAAIsG,EAAI6lF,MAAMhQ,IACzBmT,OAAQ16B,GACa,IAAjB/tD,GAAsBu1C,EAAKzpD,EAAI,EACd,IAAjBkU,GAAsBu1C,EAAKtpC,EAAI,GAEnCokF,SAAU/a,EAAI7rF,EACdmnG,QAAAhK,GAGH,GAAIryC,EACL,OAAOA,EAEP19C,EAAK/K,EAAI+K,EAAKoV,GACd26E,EAAQ96F,GAAKypD,EAAKzpD,EAClBwpF,EAAIz+E,EAAK/K,EACT+K,EAAK/K,GAAKwoD,EAAOxoD,EACjBkU,EAAe,IAGf4mF,EAAQ36E,GAAKspC,EAAKtpC,EAClBqpE,EAAIz+E,EAAKoV,EACTpV,EAAKoV,GAAKqoC,EAAOroC,EACjBjM,EAAe,EAEvB,CAEA,OAAO,IACX,CA15BgBssD,GAAAogC,GAAA,YAOApgC,GAAAqgC,GAAA,QAIArgC,GAAAsgC,GAAA,SAIAtgC,GAAAugC,GAAA,UAIAvgC,GAAAwgC,GAAA,WAQAxgC,GAAAygC,GAAA,kBAMAzgC,GAAA0gC,GAAA,UAYA1gC,GAAA2gC,GAAA,gBAQA3gC,GAAA4gC,GAAA,iBA6BA5gC,GAAA+gC,GAAA,gBASA/gC,GAAAghC,GAAA,gBAsCAhhC,GAAAmhC,GAAA,iBAOAnhC,GAAAohC,GAAA,kBAOAphC,GAAAshC,GAAA,mBAIAthC,GAAA0hC,GAAA,iBAiBA1hC,GAAA2hC,GAAA,kBAmCA3hC,GAAA6hC,GAAA,mBAkBA7hC,GAAA4hC,GAAA,mBAIA5hC,GAAAiiC,GAAA,oBAKAjiC,GAAAkiC,GAAA,qBAoBAliC,GAAAuhC,GAAA,sBAsBAvhC,GAAA8hC,GAAA,oBAkBA9hC,GAAAmiC,GAAA,oBAYAniC,GAAAsiC,GAAA,qBAqBAtiC,GAAAwiC,GAAA,mBAUAxiC,GAAA0iC,GAAA,sBAgJA1iC,GAAAmjC,GAAA,mBAIAnjC,GAAAojC,GAAA,sBAOApjC,GAAAqjC,GAAA,kBASArjC,GAAAsjC,GAAA,kBAwBAtjC,GAAAwjC,GAAA,iBAwBAxjC,GAAAyjC,GAAA,mBA2BAzjC,GAAA0jC,GAAA,iBAwBA1jC,GAAA2jC,GAAA,oBA2BA3jC,GAAA4jC,GAAA,oBAgEP5jC,GAAA6jC,GAAA,eAoCA7jC,GAAAgkC,GAAA,eAwCAhkC,GAAAkkC,GAAA,iBAuDAlkC,GAAAmkC,GAAA,kBAqBAnkC,GAAAokC,GAAA,kBAkCOpkC,GAAAqkC,GAAA,eAuDT,IAAME,GAAN,MAAMlc,EAAM,cAAAroB,GAAA,iBACfujC,GACA/0F,WAAAA,CAAYiB,GACRd,KAAK40F,GAAK9zF,EAAGu7B,OACjB,CACAowC,SAAAA,CAAU3rE,GACN,OAAO,IAAI44E,EAAM54E,EAAEotF,SAASluF,KAAK40F,IACrC,CACAzG,IAAAA,GACI,OAAO,IAAIC,GAAKpuF,KAAK40F,GAAI,EAAG,EAChC,CACA1K,IAAAA,GACI,OAAO,CACX,CACA7tD,KAAAA,GACI,OAAO,IAAIq9C,EAAM15E,KAAK40F,GAC1B,CACAiB,QAAAA,CAAS/0F,GACL,OAAO6zF,GAAe30F,KAAMc,EAChC,CACAkR,QAAAA,CAASlR,GACL,OAAOd,KAAK40F,GAAGxI,GAAGtrF,EACtB,CACAg1F,OAAAA,CAAQh1F,EAAcwiD,GAClB,OAAO,IACX,CACArnD,MAAAA,GACI,OAAO+D,KAAK40F,GAAGv4D,OACnB,GAMSg3D,GAAN,MAAM3Z,EAAK,cAAAroB,GAAA,gBACd6gC,GACAC,GACAtyF,WAAAA,CAAYiB,EAAUwiD,GAClBtjD,KAAKkyF,GAAKpxF,EAAGu7B,QACbr8B,KAAKmyF,GAAK7uC,EAAGjnB,OACjB,CACAowC,SAAAA,CAAU3rE,GACN,OAAO,IAAI44E,EAAK54E,EAAEotF,SAASluF,KAAKkyF,IAAKpxF,EAAEotF,SAASluF,KAAKmyF,IACzD,CACAhE,IAAAA,GACI,OAAOC,GAAK2H,WAAW/1F,KAAKkyF,GAAIlyF,KAAKmyF,GACzC,CACAjI,IAAAA,GACI,OAAOlqF,KAAKkyF,GAAGhF,KAAKltF,KAAKmyF,GAC7B,CACA91D,KAAAA,GACI,OAAO,IAAIq9C,EAAK15E,KAAKkyF,GAAIlyF,KAAKmyF,GAClC,CACA0D,QAAAA,CAAS/0F,GACL,OAAO+zF,GAAc70F,KAAMc,EAC/B,CACAkR,QAAAA,CAASlR,GACL,OAAOd,KAAK61F,SAAS/0F,EACzB,CACAg1F,OAAAA,CAAQh1F,EAAcwiD,GAClB,OAAO4xC,GAAYp0F,EAAQwiD,EAAWtjD,KAC1C,CACA/D,MAAAA,GACI,OAAO+D,KAAKkyF,GAAGh0F,IAAI8B,KAAKmyF,GAAGlF,IAAIjtF,KAAKkyF,IAAI7H,MAAMqH,GAAK,IACvD,GAOStD,GAAN,MAAM1U,EAAK,cAAAroB,GAAA,gBACdw4B,IACAz9E,MACAC,OACAxM,WAAAA,CAAYiB,EAAWwiD,EAAe7J,GAClCz5C,KAAK6pF,IAAM/oF,EAAIu7B,QACfr8B,KAAKoM,MAAQk3C,EACbtjD,KAAKqM,OAASotC,CAClB,CACA,iBAAOs8C,CAAWj1F,EAAUwiD,GACxB,OAAO,IAAIo2B,EAAK54E,EAAGu7B,QAASinB,EAAGzyD,EAAIiQ,EAAGjQ,EAAGyyD,EAAGtyC,EAAIlQ,EAAGkQ,EACvD,CACA84E,MAAAA,GACI,OAAO,IAAI6C,GACP3sF,KAAK6pF,IAAIh5F,EAAImP,KAAKoM,MAAQ,EAC1BpM,KAAK6pF,IAAI74E,EAAIhR,KAAKqM,OAAS,EAEnC,CACAymF,MAAAA,GACI,MAAO,CACH9yF,KAAK6pF,IACL7pF,KAAK6pF,IAAI3rF,IAAI8B,KAAKoM,MAAO,GACzBpM,KAAK6pF,IAAI3rF,IAAI8B,KAAKoM,MAAOpM,KAAKqM,QAC9BrM,KAAK6pF,IAAI3rF,IAAI,EAAG8B,KAAKqM,QAE7B,CACAogE,SAAAA,CAAU3rE,GACN,OAAO,IAAI+xF,GAAQ7yF,KAAK8yF,SAAShsE,KAAKw8B,GAAOxiD,EAAEotF,SAAS5qC,KAC5D,CACA6qC,IAAAA,GACI,OAAOnuF,KAAKq8B,OAChB,CACA6tD,IAAAA,GACI,OAAOlqF,KAAKoM,MAAQpM,KAAKqM,MAC7B,CACAgwB,KAAAA,GACI,OAAO,IAAIq9C,EAAK15E,KAAK6pF,IAAIxtD,QAASr8B,KAAKoM,MAAOpM,KAAKqM,OACvD,CACA2pF,WAAAA,CAAYl1F,GACR,OAAO1H,KAAKi0F,KAAKrtF,KAAKi2F,aAAan1F,GACvC,CACAm1F,YAAAA,CAAan1F,GACT,IAAMwiD,EAAMtjD,KAAK6pF,IACXpwC,EAAMz5C,KAAK6pF,IAAI3rF,IAAI8B,KAAKoM,MAAOpM,KAAKqM,QACpCg/C,EAAKjyD,KAAK+rD,IAAI7B,EAAIzyD,EAAIiQ,EAAEjQ,EAAG,EAAGiQ,EAAEjQ,EAAI4oD,EAAI5oD,GACxCrC,EAAK4K,KAAK+rD,IAAI7B,EAAItyC,EAAIlQ,EAAEkQ,EAAG,EAAGlQ,EAAEkQ,EAAIyoC,EAAIzoC,GAC9C,OAAOq6C,EAAKA,EAAK78D,EAAKA,CAC1B,CACAqnG,QAAAA,CAAS/0F,GACL,OAAOi0F,GAAc/0F,KAAMc,EAC/B,CACAkR,QAAAA,CAASlR,GACL,OAAOd,KAAK61F,SAAS/0F,EACzB,CACAg1F,OAAAA,CAAQh1F,EAAcwiD,GAGlB,OAAO+xC,GAAYv0F,EAAQwiD,EAAWtjD,KAC1C,CACA/D,MAAAA,GACI,OAAO+D,KAAK6pF,IAAI3rF,IAAIwzF,GAAK1xF,KAAKoM,OAAQslF,GAAK1xF,KAAKqM,QACpD,GAMSynF,GAAN,MAAMpa,EAAO,cAAAroB,GAAA,kBAChBy4B,OACA4I,OACA7yF,WAAAA,CAAYiB,EAAcwiD,GACtBtjD,KAAK8pF,OAAShpF,EAAOu7B,QACrBr8B,KAAK0yF,OAASpvC,CAClB,CACAmpB,SAAAA,CAAU3rE,GACN,OAAO,IAAI8yF,GAAQ5zF,KAAK8pF,OAAQ9pF,KAAK0yF,OAAQ1yF,KAAK0yF,QAAQjmB,UAAU3rE,EACxE,CACAqtF,IAAAA,GACI,OAAOC,GAAK2H,WACR/1F,KAAK8pF,OAAOmD,IAAIn6B,GAAK9yD,KAAK0yF,SAC1B1yF,KAAK8pF,OAAO5rF,IAAI40D,GAAK9yD,KAAK0yF,SAElC,CACAxI,IAAAA,GACI,OAAOlqF,KAAK0yF,OAAS1yF,KAAK0yF,OAASt5F,KAAKqzF,EAC5C,CACApwD,KAAAA,GACI,OAAO,IAAIq9C,EAAO15E,KAAK8pF,OAAQ9pF,KAAK0yF,OACxC,CACAmD,QAAAA,CAAS/0F,GACL,OAAOg0F,GAAgB90F,KAAMc,EACjC,CACAkR,QAAAA,CAASlR,GACL,OAAOd,KAAK61F,SAAS/0F,EACzB,CACAg1F,OAAAA,CAAQh1F,EAAcwiD,GAClB,OAAOiyC,GAAcz0F,EAAQwiD,EAAWtjD,KAC5C,CACA/D,MAAAA,GAEI,OAAO+D,KAAK8pF,OAAO5rF,IACfyuF,GAAKG,UAAU4E,GAAK,MAAMrH,MAAMqH,GAAK1xF,KAAK0yF,SAElD,GAMSkB,GAAN,MAAMla,EAAQ,cAAAroB,GAAA,mBACjBy4B,OACA2J,QACAC,QACA9F,MACA/tF,WAAAA,CAAYiB,EAAcwiD,EAAY7J,GAAiC,IAArB4R,EAAAh9D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAkB,EAChE2R,KAAK8pF,OAAShpF,EAAOu7B,QACrBr8B,KAAKyzF,QAAUnwC,EACftjD,KAAK0zF,QAAUj6C,EACfz5C,KAAK4tF,MAAQviC,CACjB,CACA,eAAOykC,CAAShvF,GACZ,IAAMwiD,EAAMxiD,EAAG6tF,QACTl1C,EAAI6J,EAAIurC,UAAUH,IAAIprC,IACrB+H,EAAI78D,GAAMirD,EAAEq1C,aACZtqF,EAAI61E,GAAM5gC,EAAEu1C,aAAa3jC,EAAI78D,IAE7Bm9F,EAAGrxC,GAAK,CAAC,EAAIlhD,KAAKi0F,KAAKhiC,GAAK,EAAIjyD,KAAKi0F,KAAK7+F,IAGjD,OAAIm9F,EAAIrxC,EACG,IAAIo/B,EACP5mB,KACA64B,EACArxC,EACAoyC,GAAQtzF,KAAKy0F,OAAOrpF,EAAG,GAAIA,EAAG,MAI3B,IAAIk1E,EACP5mB,KACAxY,EACAqxC,EACAe,GAAQtzF,KAAKy0F,OAAOxT,EAAG,GAAIA,EAAG,KAG1C,CACA0V,MAAAA,GACI,IAAMjvF,EAAI0rF,GAAQxsF,KAAK4tF,OACjBtqC,EAAIlqD,KAAK2zF,IAAIjsF,GACb24C,EAAIrgD,KAAK4zF,IAAIlsF,GACnB,OAAO,IAAI2tF,GACPnrC,EAAItjD,KAAKyzF,SACRh6C,EAAIz5C,KAAK0zF,QACVj6C,EAAIz5C,KAAKyzF,QACTnwC,EAAItjD,KAAK0zF,QAEjB,CACAjnB,SAAAA,CAAU3rE,GACN,GAAkB,GAAdd,KAAK4tF,OAAkC,GAApB9sF,EAAG0vF,cAEtB,OAAO,IAAI9W,EACP54E,EAAGotF,SAASluF,KAAK8pF,QACjBhpF,EAAGw5C,EAAE,GAAKt6C,KAAKyzF,QACf3yF,EAAGw5C,EAAE,GAAKt6C,KAAK0zF,SAGlB,CAID,IAAIpwC,EAAItjD,KAAK+vF,SAEPt2C,EAAQ34C,EAAG0vF,cACXnlC,EAAQvqD,EAAGyvF,WAEjBjtC,EADU8rC,GAAKU,SAASxsC,GAAG+mC,MAAMh/B,EAAMx6D,EAAGw6D,EAAMr6C,GAAGg/E,OAAOv2C,GACpDs2C,SAEN,IAAMvrF,EAAUk1E,EAAQoW,SAASxsC,GACjC,OAAA9+C,EAAQslF,OAAShpF,EAAGotF,SAASluF,KAAK8pF,QAC3BtlF,CACX,CACJ,CACA2pF,IAAAA,GACI,GAAkB,GAAdnuF,KAAK4tF,MAEL,OAAOQ,GAAK2H,WACR/1F,KAAK8pF,OAAOmD,IAAIn6B,GAAK9yD,KAAKyzF,QAASzzF,KAAK0zF,UACxC1zF,KAAK8pF,OAAO5rF,IAAI40D,GAAK9yD,KAAKyzF,QAASzzF,KAAK0zF,WAG3C,CAGD,IAAM5yF,EAAQ0rF,GAAQxsF,KAAK4tF,OACrBtqC,EAAIlqD,KAAK2zF,IAAIjsF,GACb24C,EAAIrgD,KAAK4zF,IAAIlsF,GACbuqD,EAAKrrD,KAAKyzF,QAAUnwC,EACpB90D,EAAKwR,KAAKyzF,QAAUh6C,EACpBj1C,EAAKxE,KAAK0zF,QAAUj6C,EACpB4gC,EAAKr6E,KAAK0zF,QAAUpwC,EAEpBqoC,EAAYvyF,KAAKi0F,KAAKhiC,EAAKA,EAAK7mD,EAAKA,GACrC81C,EAAalhD,KAAKi0F,KAAK7+F,EAAKA,EAAK6rF,EAAKA,GAE5C,OAAO+T,GAAK2H,WACR/1F,KAAK8pF,OAAOmD,IAAIn6B,GAAK64B,EAAWrxC,IAChCt6C,KAAK8pF,OAAO5rF,IAAI40D,GAAK64B,EAAWrxC,IAExC,CACJ,CACA4vC,IAAAA,GACI,OAAOlqF,KAAKyzF,QAAUzzF,KAAK0zF,QAAUt6F,KAAKqzF,EAC9C,CACApwD,KAAAA,GACI,OAAO,IAAIq9C,EAAQ15E,KAAK8pF,OAAQ9pF,KAAKyzF,QAASzzF,KAAK0zF,QAAS1zF,KAAK4tF,MACrE,CACAiI,QAAAA,CAAS/0F,GACL,OAAOm0F,GAAiBj1F,KAAMc,EAClC,CACAkR,QAAAA,CAASlR,GAMLA,EAAQA,EAAMmsF,IAAIjtF,KAAK8pF,QACvB,IAAMxmC,EAAQkpC,GAAQxsF,KAAK4tF,OACrBn0C,EAAIrgD,KAAK2zF,IAAIzpC,GACb+H,EAAIjyD,KAAK4zF,IAAI1pC,GACb90D,EAAKsS,EAAMjQ,EAAI4oD,EAAI34C,EAAMkQ,EAAIq6C,EAC7B7mD,GAAM1D,EAAMjQ,EAAIw6D,EAAIvqD,EAAMkQ,EAAIyoC,EACpC,OAAOjrD,EAAKA,GAAMwR,KAAKyzF,QAAUzzF,KAAKyzF,SAC5BjvF,EAAKA,GAAMxE,KAAK0zF,QAAU1zF,KAAK0zF,SAAW,CACxD,CACAoC,OAAAA,CAAQh1F,EAAcwiD,GAClB,OAAOmyC,GAAe30F,EAAQwiD,EAAWtjD,KAC7C,CACA/D,MAAAA,GACI,OAAO+D,KAAK8pF,MAChB,GAGJ,SAASoM,GAAwBxc,EAAS54E,EAASwiD,EAAS7J,GACxD,IAAM4R,EAAKvqD,EAAEmsF,IAAIvT,GACXlrF,EAAKirD,EAAEwzC,IAAI3pC,GACb9+C,EAAI6mD,EAAGsiC,MAAMn/F,GAIjB,OAHIgW,EAAI,MAAWA,GAAK,OAExBA,EADW8+C,EAAE2pC,IAAIvT,GACViU,MAAMn/F,GAAMgW,EACfA,EAAI,GAAKA,EAAI,GAAU,KACpBk1E,EAAEx7E,IAAImtD,EAAGg/B,MAAM7lF,GAC1B,CATS6sD,GAAA6kC,GAAA,2BAcF,IAAMrD,GAAN,MAAMnZ,EAAQ,cAAAroB,GAAA,mBACjB+hC,IACAvzF,WAAAA,CAAYiB,GACR,GAAIA,EAAIxS,OAAS,EACb,MAAM,IAAI+C,MAAM,4CAEpB2O,KAAKozF,IAAMtyF,CACf,CACA2rE,SAAAA,CAAU3rE,GACN,OAAO,IAAI44E,EAAQ15E,KAAKozF,IAAItsE,KAAKw8B,GAAOxiD,EAAEotF,SAAS5qC,KACvD,CACA6qC,IAAAA,GACI,IAAMrtF,EAAKgyD,GAAKoe,OAAOilB,WACjB7yC,EAAKwP,IAAMoe,OAAOilB,WACxB,IAAK,IAAM18C,KAAMz5C,KAAKozF,IAClBtyF,EAAGjQ,EAAIuI,KAAK8Z,IAAIpS,EAAGjQ,EAAG4oD,EAAG5oD,GACzByyD,EAAGzyD,EAAIuI,KAAK+rD,IAAI7B,EAAGzyD,EAAG4oD,EAAG5oD,GACzBiQ,EAAGkQ,EAAI5X,KAAK8Z,IAAIpS,EAAGkQ,EAAGyoC,EAAGzoC,GACzBsyC,EAAGtyC,EAAI5X,KAAK+rD,IAAI7B,EAAGtyC,EAAGyoC,EAAGzoC,GAE7B,OAAOo9E,GAAK2H,WAAWj1F,EAAIwiD,EAC/B,CACA4mC,IAAAA,GACI,IAAIppF,EAAQ,EACNwiD,EAAItjD,KAAKozF,IAAI9kG,OACnB,IAAK,IAAImrD,EAAI,EAAGA,EAAI6J,EAAG7J,IAAK,CACxB,IAAM4R,EAAKrrD,KAAKozF,IAAI35C,GACdjrD,EAAKwR,KAAKozF,KAAK35C,EAAI,GAAK6J,GAC9BxiD,GAASuqD,EAAGx6D,EAAIrC,EAAGwiB,EAAI,GACvBlQ,GAAStS,EAAGqC,EAAIw6D,EAAGr6C,EAAI,EAC3B,CACA,OAAO5X,KAAK61F,IAAInuF,EACpB,CACAu7B,KAAAA,GACI,OAAO,IAAIq9C,EAAQ15E,KAAKozF,IAAItsE,KAAKhmB,GAAOA,EAAGu7B,UAC/C,CACAw5D,QAAAA,CAAS/0F,GACL,OAAOk0F,GAAiBh1F,KAAMc,EAClC,CACAkR,QAAAA,CAASlR,GACL,OAAOd,KAAK61F,SAAS/0F,EACzB,CACAg1F,OAAAA,CAAQh1F,EAAcwiD,GAClB,OAAOkyC,GAAe10F,EAAQwiD,EAAWtjD,KAC7C,CACA/D,MAAAA,GAOI,OAAO62D,IACX,CACAsjC,GAAAA,CAAIt1F,EAASwiD,GACW,IAAI+vC,GAAKvyF,EAAGwiD,GAAhC,IACM+H,EAAoB,GACpB78D,EAAqB,GACrBgW,EAAK8+C,EAAE2pC,IAAInsF,GACbu5E,EAAOr6E,KAAKozF,IAAIpzF,KAAKozF,IAAI9kG,OAAS,GAClCq9F,EAAKtR,EAAK4S,IAAInsF,GACdw5C,EAAU91C,EAAGmpF,MAAMhC,GAAM,EAC7B,OAAA3rF,KAAKozF,IAAI/zE,SAAQg6B,IACbsyC,EAAKtyC,EAAE4zC,IAAInsF,GACX,IAAM+4C,EAASr1C,EAAGmpF,MAAMhC,GAAM,EAC9B,GAAIrxC,GAAWT,EAAQ,CAEnB,IAAMj+C,EAAes6F,GAAwB7b,EAAMhhC,EAAGv4C,EAAGwiD,GACzD+H,EAAKt1D,KAAK6F,GACVpN,EAAMuH,KAAK6F,GACX0+C,EAAUT,CACd,EACCA,EAASwR,EAAO78D,GAAOuH,KAAKsjD,GAC7BghC,EAAOhhC,CACX,IACO,CACHgS,EAAK/8D,OAAS,IAAIorF,EAAQruB,GAAQ,KAClC78D,EAAMF,OAAS,IAAIorF,EAAQlrF,GAAS,KAE5C,GAGG,SAAS6nG,GACZ3c,EACA54E,EACAwiD,EACA7J,GAEA,IAAM4R,EAAK5R,EAAIA,EACTjrD,EAAK,EAAIirD,EACTj1C,EAAMhW,EAAKA,EACjB,OAAOkrF,EAAI2Q,MAAM7lF,GAAKtG,IAAI4C,EAAIupF,MAAM,EAAI77F,EAAKirD,IAAIv7C,IAC7ColD,EAAI+mC,MAAMh/B,GAElB,CAEO,SAASirC,GACZ5c,EACA54E,EACAwiD,EACA7J,GAEA,IAAM4R,EAAK,EAAI5R,EACf,OAAO34C,EAAImsF,IAAIvT,GAAK2Q,MAAM,EAAIh/B,GAAIntD,IAAIolD,EAAI2pC,IAAInsF,GAAKupF,MAAM,EAAI5wC,GACjE,CAEO,SAAS88C,GACZ7c,EACA54E,EACAwiD,EACA7J,GAEA,OAAO6J,EAAI2pC,IAAInsF,EAAIupF,MAAM,IAAInsF,IAAIw7E,GAAK2Q,MAAM,EAChD,CAEO,SAASmM,GACZ9c,EACA54E,EACAwiD,EACA7J,EACA4R,GAEA,IAAM78D,EAAK68D,EAAIA,EACT7mD,EAAKhW,EAAK68D,EACVgvB,EAAK,EAAIhvB,EACTsgC,EAAMtR,EAAKA,EACX//B,EAAMqxC,EAAMtR,EAClB,OAAOX,EAAI2Q,MAAM/vC,GAAKp8C,IAAI4C,EAAIupF,MAAM,EAAIsB,EAAMtgC,IAAIntD,IAC9ColD,EAAI+mC,MAAM,EAAIhQ,EAAK7rF,IACrB0P,IAAIu7C,EAAI4wC,MAAM7lF,GACpB,CAEO,SAASiyF,GACZ/c,EACA54E,EACAwiD,EACA7J,EACA4R,GAEA,IAAM78D,EAAK68D,EAAIA,EACT7mD,EAAK,EAAI6mD,EACTgvB,EAAM71E,EAAKA,EACjB,OAAO1D,EAAImsF,IAAIvT,GAAK2Q,MAAM,EAAIhQ,GAAKn8E,IAAIolD,EAAI2pC,IAAInsF,GAAKupF,MAAM,EAAI7lF,EAAK6mD,IAAIntD,IACnEu7C,EAAIwzC,IAAI3pC,GAAK+mC,MAAM,EAAI77F,GAE/B,CAEO,SAASkoG,GACZhd,EACA54E,EACAwiD,EACA7J,EACA4R,GAEA,IAAM78D,EAAK,EAAI68D,EACf,OAAO/H,EAAI2pC,IAAInsF,EAAIupF,MAAM,IAAInsF,IAAIw7E,GAAK2Q,MAAM,EAAI77F,GAAI0P,IAChDu7C,EAAIwzC,IAAI3pC,EAAI+mC,MAAM,IAAInsF,IAAI4C,GAAKupF,MAAM,EAAIh/B,GAEjD,CAEO,SAASsrC,GACZjd,EACA54E,EACAwiD,EACA7J,EACA4R,GAEA,IAAM78D,IAAkB,EAAJ68D,GAASA,EAAI,GAAKA,EAA5B,GACJ7mD,EAAI,KAAS,EAAI6mD,EAAI,GAAKA,EAAKA,EAAI,GACnCgvB,KAAc,EAAIhvB,EAAI,GAAKA,EAAI,GAAKA,EAAhC,GACJsgC,GAAatgC,EAAI,GAAKA,EAAKA,EAAvB,GACV,OAAOquB,EAAI2Q,MAAM77F,GAAG0P,IAAI4C,EAAIupF,MAAM7lF,IAAItG,IAAIolD,EAAI+mC,MAAMhQ,IAAIn8E,IAAIu7C,EAAI4wC,MAAMsB,GAC1E,CAEO,SAASiL,GACZld,EACA54E,EACAwiD,EACA7J,EACA4R,GAEA,IAAM78D,EAAI,MAAS,EAAI68D,EAAI,GAAKA,EAAI,GAC9B7mD,GAAY,EAAI6mD,EAAI,IAAMA,EAAtB,GACJgvB,EAAI,MAAS,EAAIhvB,EAAI,GAAKA,EAAI,GAC9BsgC,GAAY,EAAItgC,EAAI,GAAKA,EAArB,GACV,OAAOquB,EAAI2Q,MAAM77F,GAAG0P,IAAI4C,EAAIupF,MAAM7lF,IAAItG,IAAIolD,EAAI+mC,MAAMhQ,IAAIn8E,IAAIu7C,EAAI4wC,MAAMsB,GAC1E,CAEO,SAASkL,GAAgBnd,GAC5B,IAAM54E,EAAcg2F,GAAyBpd,GACvCp2B,EAASxiD,EAAY,GAC3B,OAAQ24C,IACJ,IACMjrD,EAAIsS,EADA24C,EAAI6J,GACW,GACzB,OAAOo2B,EAAMlrF,EACjB,CACJ,CAEO,SAASsoG,GACZpd,GAGF,IAFE54E,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAkB,GAClBi1D,EAAAj1D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAiB,GAEXorD,EAAO,CAAC,GACR4R,EAAO,CAAC,GAER7mD,EADK,GAAK1D,EAAU,GACTwiD,EACb+2B,EAAS,EACTsR,EAAKjS,EAAM,GACXp/B,EAAI,EACR,IAAK,IAAIjB,EAAI,EAAGA,EAAIv4C,EAASu4C,IAAK,CAC9B,IAAK,IAAIQ,EAAI,EAAGA,EAAIyJ,EAAQzJ,IAAK,CAC7BS,GAAK91C,EACL,IAAM5I,EAAI89E,EAAMp/B,GACVv1C,EAAInJ,EAAEsxF,KAAKvB,GACjBtR,GAAUt1E,EACV4mF,EAAK/vF,CACT,CACA69C,EAAKJ,GAAKghC,EACVhvB,EAAKhS,GAAKiB,CACd,CACA,OAAA+Q,EAAKvqD,EAAU,GAAK,EACb,SAACu4C,GACJ,GADehrD,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,IAAAA,UAAA,GACF,CACT,IAAMuN,EAAIy9C,EACV,GAAIz9C,GAAK,EAAG,OAAO,EACnB,GAAIA,GAAKy+E,EAAQ,OAAO,EACxB,IAAIt1E,EAAQ,EACZ,KAAO00C,EAAK10C,EAAQ,GAAKnJ,GAAGmJ,IAC5B,IAAMu0C,EAAK+R,EAAKtmD,GACV6rF,EAAKvlC,EAAKtmD,EAAQ,GAClBumF,EAAK7xC,EAAK10C,GAGhB,OAAOu0C,GAAMs3C,EAAKt3C,KADP19C,EAAI0vF,IADJ7xC,EAAK10C,EAAQ,GACGumF,GAE/B,CACK,CACD,GAAIjyC,GAAK,EAAG,OAAO,EACnB,GAAIA,GAAK,EAAG,OAAOI,EAAK34C,EAAU,GAClC,IAAIlF,EAAQ,EACZ,KAAOyvD,EAAKzvD,EAAQ,GAAKy9C,GAAGz9C,IAC5B,IAAMmJ,EAAKsmD,EAAKzvD,GACV09C,EAAK+R,EAAKzvD,EAAQ,GAClBg1F,EAAKn3C,EAAK79C,GAGhB,OAAOg1F,GAFIn3C,EAAK79C,EAAQ,GAENg1F,KADPv3C,EAAIt0C,IAAOu0C,EAAKv0C,GAE/B,CACJ,CACJ,CAUO,SAASgyF,GAAQrd,EAAa54E,EAAYwiD,EAAY7J,GACzD,IAAM4R,EAAI,EAAIquB,EAAM54E,EAAK,EAAI24C,EAAM6J,EAC7B90D,GAAK,EAAIkrF,EAAM,EAAIjgC,EAAM,EAAI34C,EAAKwiD,EAClC9+C,EAAI1D,EACJu5E,EAAIX,EAEV,OAAQiS,IACJ,IAAMrxC,EAAKqxC,EAAIA,EAEf,OAAOtgC,GADI/Q,EAAKqxC,GACAn9F,EAAI8rD,EAAK91C,EAAImnF,EAAItR,CACrC,CACJ,CAYO,SAAS2c,GACZtd,EACA54E,EACAwiD,EACA7J,EACA4R,GAEF,IADE78D,EAAAH,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAI0oG,GAEEvyF,EAAKhW,EACPsS,EAAIjQ,GACH,EAAIw6D,IAAY/H,EAAIzyD,EAAI6oF,EAAI7oF,IAC5B,EAAIw6D,IAAY5R,EAAI5oD,EAAIiQ,EAAIjQ,GAC7ByyD,EAAIzyD,GAEFwpF,EAAK7rF,EACPsS,EAAIkQ,GACH,EAAIq6C,IAAY/H,EAAItyC,EAAI0oE,EAAI1oE,IAC5B,EAAIq6C,IAAY5R,EAAIzoC,EAAIlQ,EAAIkQ,GAC7BsyC,EAAItyC,GAER,OAAQ26E,GACG,IAAIgB,GAAKnoF,EAAGmnF,GAAItR,EAAGsR,GAElC,CAUO,SAASsL,GACZvd,EACA54E,EACAwiD,EACA7J,GAIA,OAAOu9C,GAAStd,EAAK54E,EAAKwiD,EAAK7J,EAAK,GAHpCprD,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAI0oG,GAIR,CAUO,SAASG,GACZxd,EACA54E,EACAwiD,EACA7J,GAEF,IADE4R,EAAAh9D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAI0oG,GAGJ,OAAOE,GACHx9C,EAAIv7C,IAAIw7E,EAAIuT,IAAInsF,GAAKupF,MAAM,IAC3B3Q,EACAjgC,EACAigC,EAAIx7E,IAAIu7C,EAAIwzC,IAAI3pC,GAAK+mC,MAAM,IAC3Bh/B,EAER,CAaO,SAAS8rC,GACZzd,EACA54E,EACAwiD,EACA7J,EACA4R,EACA78D,EACAgW,GAEF,IADE61E,EAAAhsF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAI0oG,GAEEpL,EAAKtR,EACPv5E,EAAIjQ,EACJ,IAAO,EAAIw6D,IAAY,EAAI7mD,IAAS,EAAIhW,IAAesS,EAAIjQ,EAAI6oF,EAAI7oF,GAC7D,IAAO,EAAIw6D,IAAY,EAAI7mD,IAAS,EAAIhW,IACnC80D,EAAIzyD,EAAIiQ,EAAIjQ,GACvB,IAAO,EAAIw6D,IAAY,EAAI7mD,IAAS,EAAIhW,IAAe80D,EAAIzyD,EAAIiQ,EAAIjQ,GAC7D,IAAO,EAAIw6D,IAAY,EAAI7mD,IAAS,EAAIhW,IACnCirD,EAAI5oD,EAAIyyD,EAAIzyD,GACvByyD,EAAIzyD,GAEFypD,EAAK+/B,EACPv5E,EAAIkQ,EACJ,IAAO,EAAIq6C,IAAY,EAAI7mD,IAAS,EAAIhW,IAAesS,EAAIkQ,EAAI0oE,EAAI1oE,GAC7D,IAAO,EAAIq6C,IAAY,EAAI7mD,IAAS,EAAIhW,IACnC80D,EAAItyC,EAAIlQ,EAAIkQ,GACvB,IAAO,EAAIq6C,IAAY,EAAI7mD,IAAS,EAAIhW,IAAe80D,EAAItyC,EAAIlQ,EAAIkQ,GAC7D,IAAO,EAAIq6C,IAAY,EAAI7mD,IAAS,EAAIhW,IACnCirD,EAAIzoC,EAAIsyC,EAAItyC,GACvBsyC,EAAItyC,GAER,OAAQqoC,GACG,IAAIszC,GAAKhB,EAAGtyC,GAAIiB,EAAGjB,GAElC,CAUO,SAAS+9C,GACZ1d,EACA54E,EACAwiD,EACA7J,GAEA,IAAM4R,EAAI,EAAIquB,EAAM54E,EAAK,EAAI24C,EAAM6J,EAC7B90D,GAAK,EAAIkrF,EAAM,EAAIjgC,EAAM,EAAI34C,EAAKwiD,EAClC9+C,EAAI1D,EAEV,OAAQu5E,GAEG,EAAIhvB,GADAgvB,EAAIA,GACK,EAAI7rF,EAAI6rF,EAAI71E,CAExC,CAGA,SAAS6yF,GAAgB3d,GACrB,OAAO,GAAKA,GAAKA,GAAK,CAC1B,CAGA,SAAS4d,GAAc5d,EAAW54E,GAC9B,OAAO1H,KAAK61F,IAAIvV,EAAI54E,IAAMowE,OAAOge,OACrC,CAGA,SAASqI,GAAS7d,GACd,OAAIA,EAAI,GACItgF,KAAKi+E,KAAKqC,EAAG,EAAI,GAGlBtgF,KAAKi+E,IAAIqC,EAAG,EAAI,EAE/B,CAGA,SAAS8d,GAAc9d,EAAY54E,EAAYwiD,EAAY7J,GACvD,IAAI4R,EAAI,EAAIquB,EAAK,EAAI54E,EAAK,EAAIwiD,EAC1B90D,GAAK,EAAIkrF,EAAK,EAAI54E,EAClB0D,EAAIk1E,EACJW,EAAU,EAAIv5E,EAAT44E,EAAc,EAAIp2B,EAAK7J,EAEhC,GAAI69C,GAAcjd,EAAG,GAAI,CACrB,GAAIid,GAAcjsC,EAAG,GACjB,OAAIisC,GAAc9oG,EAAG,GACV,GAEJ,EAAEgW,EAAIhW,GAAGgjE,OAAO6lC,IAE3B,IAAMrmF,EAAI5X,KAAKi0F,KAAK7+F,EAAIA,EAAI,EAAI68D,EAAI7mD,GAC9BqsF,EAAK,EAAIxlC,EACf,MAAO,EAAEr6C,EAAIxiB,GAAKqiG,IAAMriG,EAAIwiB,GAAK6/E,GAAIr/B,OAAO6lC,GAChD,CAEAhsC,GAAKgvB,EACL7rF,GAAK6rF,EACL71E,GAAK61E,EAEL,IAAMsR,GAAK,EAAIn9F,EAAI68D,EAAIA,GAAK,EACtB/Q,EAAKqxC,EAAI,EACTtyC,GAAK,EAAIgS,EAAIA,EAAIA,EAAI,EAAIA,EAAI78D,EAAI,GAAKgW,GAAK,GAC3Cq1C,EAAKR,EAAI,EACTz9C,EAAei+C,EAAKA,EAAKS,EAAKA,EAAKA,EAEzC,GAAI1+C,EAAe,EAAG,CAClB,IAAMoV,GAAO26E,EAAI,EACXkF,EAAO7/E,EAAMA,EAAMA,EACnB07B,EAAItzC,KAAKi0F,KAAKwD,GACdl3C,GAAKN,GAAK,EAAI3M,GACdokD,EAASn3C,GAAK,GAAK,EAAIA,EAAI,EAAI,EAAIA,EACnC9oD,EAAMuI,KAAKq3F,KAAKK,GAEhBruE,EAAK,EADE80E,GAAS7qD,GAKtB,MAAO,CAHOjqB,EAAKrpB,KAAK2zF,IAAIl8F,EAAM,GAAKw6D,EAAI,EAC7B5oC,EAAKrpB,KAAK2zF,KAAKl8F,EAAM,EAAIuI,KAAKqzF,IAAM,GAAKphC,EAAI,EAC7C5oC,EAAKrpB,KAAK2zF,KAAKl8F,EAAM,EAAIuI,KAAKqzF,IAAM,GAAKphC,EAAI,GAC9BmG,OAAO6lC,GACxC,CAEA,GAAqB,IAAjBz7F,EAAoB,CACpB,IAAMoV,EAAK6oC,EAAK,EAAI09C,IAAU19C,IAAO09C,GAAS19C,GAG9C,MAAO,CAFO,EAAI7oC,EAAKq6C,EAAI,GACZr6C,EAAKq6C,EAAI,GACFmG,OAAO6lC,GACjC,CAEA,IAAMtyF,EAAK3L,KAAKi0F,KAAKzxF,GAIrB,MAAO,CAHI27F,GAASxyF,EAAK80C,GACd09C,GAASxyF,EAAK80C,GACDwR,EAAI,GACbmG,OAAO6lC,GAC1B,CAGA,SAASI,GAAiB/d,EAAS54E,EAASwiD,EAAS7J,EAAS4R,GAE1D,IAAM78D,EAAIgpG,GAAc9d,EAAE7oF,EAAIw6D,EAAGvqD,EAAEjQ,EAAIw6D,EAAG/H,EAAEzyD,EAAIw6D,EAAG5R,EAAE5oD,EAAIw6D,GACzD,OAAI78D,EAAEF,OAAS,EAEJkoG,GAAe9c,EAAG54E,EAAGwiD,EAAG7J,EAAGjrD,EAAE,IAAIwiB,EAErC0mF,GACX,CAEO,SAASC,GAAaje,GACzB,IAAKA,GAAuB,GAAfA,EAAKprF,OACd,MAAM,IAAI+C,MACN,6CAGR,IAAMyP,EAAM44E,EAAKprF,OACjB,OAAQg1D,IAEJ,GAAIA,GAAK,GAAoB,GAAfo2B,EAAKprF,QAAeg1D,GAAKo2B,EAAK,GAAG7oF,EAC3C,OAAO6oF,EAAK,GAAG1oE,EAEnB,IAAK,IAAIyoC,EAAI,EAAGA,EAAI34C,EAAK24C,IACrB,GAAIigC,EAAKjgC,GAAG5oD,GAAKyyD,EAEb,OAAOspC,GACHtpC,EACAo2B,EAAKjgC,EAAI,GAAG5oD,EACZ6oF,EAAKjgC,GAAG5oD,EACR6oF,EAAKjgC,EAAI,GAAGzoC,EACZ0oE,EAAKjgC,GAAGzoC,GAKpB,OAAO0oE,EAAKA,EAAKprF,OAAS,GAAG0iB,CACjC,CACJ,CAEO,SAAS4mF,GAAkBle,EAAU54E,GACxC,OAAQwiD,GACGm0C,GAAiB3kC,GAAK,EAAG,GAAI4mB,EAAI54E,EAAIgyD,GAAK,EAAG,GAAIxP,EAEhE,CAQO,SAASu0C,GACZne,GAEF,IADE54E,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAyB,WAEnBi1D,EAAQ,EAAIo2B,EAGZlrF,EAAQ,GAAKkrF,GADS,YAAZ54E,GAAsC,aAAZA,EACJ,EAAI,IACpC0D,EAHwB,cAAZ1D,GAAwC,aAAZA,EAGnBtS,EAAQ,EACnC,OAAQ6rF,IACJ,IAAMsR,EAAOvyF,KAAKgxD,MAAMiwB,EAAI/2B,GAC5B,OAAO9+C,EAASmnF,EAAOn9F,CAC3B,CACJ,CAOO,SAASspG,GAAIpe,EAAa54E,GAC7B,IAAIwiD,EAAU4tB,OAAOilB,UACjB18C,EAAoB,CAAE+zC,OAAQ16B,GAAK,GAAIilC,SAAU,GACrD,IAAK,IAAM1sC,IAAQ,CAACquB,EAAI54E,GACpB,IAAK,IAAItS,EAAI,EAAGA,EAAI68D,EAAK+nC,IAAI9kG,OAAQE,IAAK,CACtC,IAAMgW,EAAI6mD,EAAK+nC,IAAI5kG,GAEbm9F,EADItgC,EAAK+nC,KAAK5kG,EAAI,GAAK68D,EAAK+nC,IAAI9kG,QACnB2+F,IAAIzoF,GAAGgpF,SAASD,OAC/BjzC,EAAO42B,OAAOilB,UACd98C,GAAQ63B,OAAOilB,UACnB,IAAK,IAAI78C,EAAI,EAAGA,EAAIogC,EAAG0Z,IAAI9kG,OAAQgrD,IAAK,CACpC,IAAMs3C,EAAIlX,EAAG0Z,IAAI95C,GAAGg0C,IAAI3B,GACxBrxC,EAAOlhD,KAAK8Z,IAAIonC,EAAMs2C,GACtBv3C,EAAOjgD,KAAK+rD,IAAI9L,EAAMu3C,EAC1B,CACA,IAAI/2C,EAAOq3B,OAAOilB,UACdv6F,GAAQs1E,OAAOilB,UACnB,IAAK,IAAI78C,EAAI,EAAGA,EAAIx4C,EAAGsyF,IAAI9kG,OAAQgrD,IAAK,CACpC,IAAMs3C,EAAI9vF,EAAGsyF,IAAI95C,GAAGg0C,IAAI3B,GACxB9xC,EAAOzgD,KAAK8Z,IAAI2mC,EAAM+2C,GACtBh1F,EAAOxC,KAAK+rD,IAAIvpD,EAAMg1F,EAC1B,CACA,IAAM7rF,EAAI3L,KAAK8Z,IAAImmC,EAAMz9C,GAAQxC,KAAK+rD,IAAI7K,EAAMT,GAChD,GAAI90C,EAAI,EACJ,OAAO,KAEX,GAAIA,EAAI3L,KAAK61F,IAAI3rC,GAAU,CACvB,IAAMhK,EAAK19C,EAAO0+C,EACZs2C,EAAK/2C,EAAOR,EAClBiK,EAAUlqD,KAAK61F,IAAI31C,GAAMlgD,KAAK61F,IAAI2B,GAAMt3C,EAAKs3C,EAC7Cn3C,EAAO+zC,OAAS7B,EAChBlyC,EAAOs+C,SAAWz0C,CACtB,CACJ,CAEJ,OAAO7J,CACX,CAGA,SAASu+C,GAActe,EAAS54E,EAASwiD,GAErC,OAASxiD,EAAEjQ,EAAI6oF,EAAE7oF,IAAMyyD,EAAEtyC,EAAI0oE,EAAE1oE,IAAMlQ,EAAEkQ,EAAI0oE,EAAE1oE,IAAMsyC,EAAEzyD,EAAI6oF,EAAE7oF,IAAO,CACtE,CAGA,SAASonG,GAAqBve,GAC1B,IAAI54E,EAAQ,EACRwiD,EAAao2B,EAAQA,EAAQprF,OAAS,GAC1C,IAAK,IAAImrD,EAAI,EAAGA,EAAIigC,EAAQprF,OAAQmrD,IAChC34C,IAAU44E,EAAQjgC,GAAG5oD,EAAIyyD,EAAKzyD,IAAM6oF,EAAQjgC,GAAGzoC,EAAIsyC,EAAKtyC,GACxDsyC,EAAOo2B,EAAQjgC,GAEnB,OAAO34C,EAAQ,CACnB,CAGA,SAASo3F,GAAWxe,EAAS54E,EAASwiD,EAAS7J,GAC3C,IAAM4R,EAAK5R,EAAE5oD,EAAIyyD,EAAEzyD,EAAGrC,EAAKirD,EAAEzoC,EAAIsyC,EAAEtyC,EAInC,OAFUq6C,GAAMquB,EAAE1oE,EAAIsyC,EAAEtyC,GAAKxiB,GAAMkrF,EAAE7oF,EAAIyyD,EAAEzyD,KACjCw6D,GAAMvqD,EAAEkQ,EAAIsyC,EAAEtyC,GAAKxiB,GAAMsS,EAAEjQ,EAAIyyD,EAAEzyD,KAC3B,CACpB,CAGA,SAASsnG,GAAgBze,EAAS54E,EAASwiD,EAAS7J,GAChD,OAAOy+C,GAAWxe,EAAG54E,EAAGwiD,EAAG7J,IAAMy+C,GAAWxe,EAAGp2B,EAAGxiD,EAAG24C,IAC9Cy+C,GAAWxe,EAAGjgC,EAAG34C,EAAGwiD,EAC/B,CAGA,SAAS80C,GAAe1e,EAAkB54E,EAASwiD,EAAS7J,GACxD,IAAK,IAAM4R,KAAKquB,EACZ,GACKruB,IAAMvqD,GAAOuqD,IAAM/H,GAAO+H,IAAM5R,GAAM0+C,GAAgB9sC,EAAGvqD,EAAGwiD,EAAG7J,GAEhE,OAAO,EAIf,OAAO,CACX,CAGA,SAAS4+C,GAAM3e,EAAS54E,EAASwiD,EAAS7J,GACtC,OAAOu+C,GAActe,EAAG54E,EAAGwiD,KAAO80C,GAAe3+C,EAAUigC,EAAG54E,EAAGwiD,EACrE,CAEO,SAASg1C,GAAY5e,GACxB,GAAIA,EAAIprF,OAAS,EACb,MAAO,GAEX,GAAkB,GAAdorF,EAAIprF,OACJ,MAAO,CAACorF,GAKZ,IAAI54E,EAAU,GACVwiD,EAAU,GACV7J,EAAM,EACV,IAAK,IAAII,EAAI,EAAGA,EAAI6/B,EAAIprF,OAAQurD,IAAK,CACjC,IAAMj+C,EAAK89E,EAAIjgC,GACT10C,EAAK20E,EAAI7/B,GACX90C,EAAGlU,EAAI+K,EAAG/K,GAAMkU,EAAGlU,GAAK+K,EAAG/K,IAAKkU,EAAGiM,EAAIpV,EAAGoV,GAG9ClQ,EAAQ+4C,GAAKA,EAAI,EACjByJ,EAAQzJ,GAAKA,EAAI,CACrB,CACA/4C,EAAQA,EAAQxS,OAAS,GAAK,EAC9Bg1D,EAAQ,GAAKA,EAAQh1D,OAAS,EAGzB2pG,GAAqBve,MACrB54E,EAASwiD,GAAW,CAACA,EAASxiD,IAGnC,IAAMuqD,EAAkB,GACxB,IAAK,IAAIxR,EAAI,EAAGA,EAAI6/B,EAAIprF,SAAUurD,EACzBm+C,GAActe,EAAIp2B,EAAQzJ,IAAK6/B,EAAI7/B,GAAI6/B,EAAI54E,EAAQ+4C,MACpDwR,EAAgBt1D,KAAK2jF,EAAI7/B,IAIjC,IAIIS,EACAjB,EALE7qD,EAAY,GACdgW,EAAYk1E,EAAIprF,OAChB+rF,EAAU,EACVsR,EAAU,EAGd,KAAOnnF,EAAY,GAAG,CAClB81C,EAAOx5C,EAAQu5E,GACfhhC,EAAOiK,EAAQ+2B,GACf,IAAMxgC,EAAI6/B,EAAIrgC,GACRz9C,EAAI89E,EAAIW,GACRt1E,EAAI20E,EAAIp/B,GACd,GAAI+9C,GAAMx+C,EAAGj+C,EAAGmJ,EAAGsmD,GACf78D,EAAUuH,KAAK,CAAC8jD,EAAGj+C,EAAGmJ,IACtBjE,EAAQu4C,GAAQiB,EAChBgJ,EAAQhJ,GAAQjB,EAChBgS,EAAgB3oB,OAAO2oB,EAAgB55D,QAAQmK,GAAI,KACjD4I,EACFmnF,EAAU,YAEHA,EAAUnnF,EACjB,MAAO,GAEX61E,EAAU//B,CACd,CACA,OAAAA,EAAOx5C,EAAQu5E,GACfhhC,EAAOiK,EAAQ+2B,GACf7rF,EAAUuH,KAAK,CAAC2jF,EAAIrgC,GAAOqgC,EAAIW,GAAUX,EAAIp/B,KAEtC9rD,CACX,CAEO,SAAS+pG,GAAS7e,GACrB,GAAIA,EAAIprF,OAAS,EACb,OAAO,EAMX,IAAIwS,EAAI44E,EAAIprF,OAAS,EACjBg1D,EAAIo2B,EAAIprF,OAAS,EACjBmrD,EAAI,EACJ4R,EAAIquB,EAAIp2B,GAAG2pC,IAAIvT,EAAI54E,IACnBtS,EAAIkrF,EAAIjgC,GAAGwzC,IAAIvT,EAAIp2B,IACnB9+C,EAAU6mD,EAAEsiC,MAAMn/F,GAEtB,KAAOirD,EAAI,EAAIigC,EAAIprF,QAOf,GANAwS,EAAIwiD,EACJA,EAAI7J,EACJA,IACA4R,EAAIquB,EAAIp2B,GAAG2pC,IAAIvT,EAAI54E,IACnBtS,EAAIkrF,EAAIjgC,GAAGwzC,IAAIvT,EAAIp2B,IAEf+H,EAAEsiC,MAAMn/F,GAAKgW,EAAU,EACvB,OAAO,EAGf,OAAO,CACX,CAjqBgB6sD,GAAAglC,GAAA,qBAcAhlC,GAAAilC,GAAA,oCAUAjlC,GAAAklC,GAAA,qCASAllC,GAAAmlC,GAAA,kBAiBAnlC,GAAAolC,GAAA,iCAeAplC,GAAAqlC,GAAA,kCAaArlC,GAAAslC,GAAA,sBAcAtlC,GAAAulC,GAAA,qCAcAvlC,GAAAwlC,GAAA,mBAUAxlC,GAAAylC,GAAA,4BA6DAzlC,GAAA0lC,GAAA,WAuBA1lC,GAAA2lC,GAAA,YAiCA3lC,GAAA4lC,GAAA,cAmBA5lC,GAAA6lC,GAAA,UA4BA7lC,GAAA8lC,GAAA,mBA2CA9lC,GAAA+lC,GAAA,0BAiBP/lC,GAAAgmC,GAAA,mBAKAhmC,GAAAimC,GAAA,iBAKAjmC,GAAAkmC,GAAA,YAUAlmC,GAAAmmC,GAAA,iBA0DAnmC,GAAAomC,GAAA,oBAUOpmC,GAAAsmC,GAAA,gBA6BAtmC,GAAAumC,GAAA,qBAYAvmC,GAAAwmC,GAAA,eAoBAxmC,GAAAymC,GAAA,OAuCPzmC,GAAA2mC,GAAA,iBAMA3mC,GAAA4mC,GAAA,wBAWA5mC,GAAA6mC,GAAA,cASA7mC,GAAA8mC,GAAA,mBAMA9mC,GAAA+mC,GAAA,kBAaA/mC,GAAAgnC,GAAA,SAIOhnC,GAAAinC,GAAA,eAqEAjnC,GAAAknC,GAAA,YCplGT,IAAMC,GACZ,oGACYC,GAAa,UAGbC,GAAW,YAWXC,GAAkB,SAGlBC,GAAgB,CAC5B,CAAEroG,KAAM,QAASs2B,KAAM,GACvB,CAAEt2B,KAAM,OAAQs2B,KAAM,GACtB,CAAEt2B,KAAM,UAAWs2B,KAAM,IAIbgyE,GAAoBC,KAFlBF,GAAcnnC,QAAO,CAACioB,EAAK54E,IAAM44E,EAAM54E,EAAE+lB,MAAM,GAKjDkzB,GAAgB,8VAwBhBg/C,GAAgB,8YAwBhBC,GAAW,0EAMXC,GAAW,yFAKXC,GAAY,IAAIt7F,IAAI,CAAC,KAAM,YAC3Bu7F,GAAc,IAAIv7F,IAAI,CAClC,MACA,cACA,SACA,OACA,UACA,UACA,gBAMYw7F,GAAsBvqG,OAAOC,IAAI,iBCrGjCuqG,GAAN,cAA0B77F,IAAe,cAAA6zD,GAAA,oBACpCioC,OAAiB,EACzBvjG,IAAAA,CAAK+K,GACD,IAAMwiD,EAAKtjD,KAAKs5F,OAChB,OAAAt5F,KAAK3N,IAAIixD,EAAIxiD,GACbd,KAAKs5F,SACEh2C,CACX,CACAi2C,KAAAA,CAAMz4F,GACF,IAAMwiD,EAAKtjD,KAAKjK,KAAK+K,GACrB,MAAO,IAAMd,KAAKof,OAAOkkC,EAC7B,GAsBSk2C,GAAN,MAAM9f,EAAiB,cAAAroB,GAAA,4BAE1BooC,QAAkB,EAElBC,OAEA75F,WAAAA,CAAYiB,GACRd,KAAK05F,OAAS54F,CAClB,CACA,WAAOyb,CAAKzb,GACR,IAAMwiD,EAAK,IAAIo2B,GAAiB,IAC5B54E,EAAOue,SAASo6B,GAAMA,EAAEigD,aAE5B,OAAAvoG,OAAOgB,eAAemxD,EAAI,SAAU,CAChCvjD,IAAKsxD,IAAC,IAAKvwD,EAAO,GAAG24F,QAAhB,OACLpnG,IAAKg/D,IAAC5X,GAAe34C,EAAOue,SAASgsC,GAAMA,EAAEouC,OAAShgD,KAAjD,SAET6J,EAAGm2C,QAAS,EACLn2C,CACX,CACA,cAAO7vD,CAAQqN,EAAyBwiD,GACpC,OAAAxiD,EAAM44F,OAAS,IAAMp2C,EAAMo2C,SAC3Bp2C,EAAMm2C,OAAS34F,EAAM24F,OACrBtoG,OAAOgB,eAAe2O,EAAO,SAAU,CACnCf,IAAKsxD,IAAC,IAAK/N,EAAMm2C,QAAZ,OACLpnG,IAAKg/D,IAAC5X,GAAe6J,EAAMm2C,OAAShgD,GAA/B,SAGF34C,CACX,GAGS64F,GAAN,MAAyC,cAAAtoC,GAAA,kBACpCuoC,WAAA,KACJ,IAAIhiF,QADA,GAEAiiF,SAAA,KAAiD,IAAIR,GAArD,GAERn7F,GAAAA,CAAI4C,GACA,SAASwiD,IACL,IAAI+H,EAAGouC,OACP,OAAO34F,KAAOzS,UAClB,CAHSgjE,GAAA/N,EAAA,WAKT,IAAM7J,EAASz5C,KAAK65F,SAASN,MAAMj2C,GAC7B+H,EAAK,IAAImuC,GAAiB//C,GAChC,OAAAz5C,KAAK45F,WAAWvnG,IAAIixD,EAAS7J,GACtB4R,CACX,CACAyuC,OAAAA,CACIh5F,GAEA,IAAMwiD,EAAKtjD,KAAK9B,KAAI,WAChBolD,EAAGo2C,SACH54F,KAAOzS,UACX,IACA,OAAOi1D,CACX,CACA1sC,IAAAA,GACI,OAAO,IAAImvB,SAASjlC,GAAQd,KAAK85F,QAAQh5F,IAC7C,CACAi5F,OAAAA,GAAuB,QAAApX,EAAAt0F,UAAAC,OAAZwS,EAAA,IAAA/L,MAAA4tF,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAA9hF,EAAA8hF,GAAAv0F,UAAAu0F,GACP5iF,KAAK65F,SAASx6E,SAASikC,IACnB,IACI+H,EADW/H,KAAUxiD,KAIVs4F,KACP/tC,EAASrrD,KAAK45F,WAAW75F,IAAIujD,KAEjC+H,GAER,GACJ,CACA2uC,YAAAA,GACI,OAAOh6F,KAAK65F,SAAShzE,IACzB,CACAozE,KAAAA,GACIj6F,KAAK65F,SAASI,OAClB,GAISC,GAAN,MAA4D,cAAA7oC,GAAA,yBACvDwoC,SAIJ,CAAC,EACLM,UAMI,CAAC,EACLtsB,EAAAA,CACI/sE,EACAwiD,GAEA,OAAKtjD,KAAK65F,SAAS/4F,KACfd,KAAK65F,SAAS/4F,GAAQ,IAAI64F,IAEvB35F,KAAK65F,SAAS/4F,GAAM5C,IAAIolD,EACnC,CACA82C,MAAAA,CACIt5F,EACAwiD,GAEA,IAAM7J,EAAKz5C,KAAK6tE,GAAG/sE,GAAM,WACrB24C,EAAGigD,SACHp2C,KAAOj1D,UACX,IACA,OAAOorD,CACX,CACA7iC,IAAAA,CAAkC9V,GAC9B,OAAO,IAAIilC,SAASud,IAEhBtjD,KAAKo6F,OAAOt5F,GAAM,kBAA6BwiD,EAAAj1D,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,GAAY,GAC/D,GACJ,CACA0rG,OAAAA,CAAqCj5F,GAAqC,QAAAmiF,EAAA50F,UAAAC,OAAtBg1D,EAAA,IAAAvuD,MAAAkuF,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAA7/B,EAAA6/B,EAAA,GAAA90F,UAAA80F,GAC5CnjF,KAAK65F,SAAS/4F,IACdd,KAAK65F,SAAS/4F,GAAMi5F,WAAWz2C,EAEvC,CACA+2C,MAAAA,CAAoCv5F,UACzBd,KAAK65F,SAAS/4F,EACzB,CACAm5F,KAAAA,GACIj6F,KAAK65F,SAAW,CAAC,CACrB,CACAG,YAAAA,CAA0Cl5F,GACtC,OAAOd,KAAK65F,SAAS/4F,IAAOk5F,gBAAkB,CAClD,GCrKSM,GAAejpC,IAACqoB,GAClBA,EAAI,aAAc2R,IADD,gBAIfkP,GAAclpC,IAACqoB,GACjBA,EAAI,aAAciT,IADF,eAId6N,GAAgBnpC,IAACqoB,GACD,iBAAXA,EAAI,IADO,iBCXhB+gB,GAAN,MAAoB,cAAAppC,GAAA,sBACvBqpC,OACAC,WAMA96F,WAAAA,GAA+C,IAAnCiB,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAY,CAACi1D,EAAM7J,IAAS6J,EAAI7J,EACxCz5C,KAAK26F,WAAa75F,EAClBd,KAAK06F,OAAS,EAClB,CAKAE,MAAAA,CAAO95F,GACHd,KAAK06F,OAAO3kG,KAAK+K,GACjBd,KAAK66F,OAAO76F,KAAK06F,OAAOpsG,OAAS,EACrC,CAMA+rG,MAAAA,GACI,GAA2B,IAAvBr6F,KAAK06F,OAAOpsG,OACZ,OAAO,KAEX,IAAMwS,EAAOd,KAAK06F,OAAO,GACnBp3C,EAAWtjD,KAAK06F,OAAO7kG,MAC7B,OAA2B,IAAvBmK,KAAK06F,OAAOpsG,SACZ0R,KAAK06F,OAAO,GAAKp3C,EACjBtjD,KAAK86F,SAAS,IAEXh6F,CACX,CAKAm5F,KAAAA,GACIj6F,KAAK06F,OAAOh4D,OAAO,EAAG1iC,KAAK06F,OAAOpsG,OACtC,CAEAusG,MAAAA,CAAO/5F,GACH,KAAOA,EAAM,GAAG,CACZ,IAAMwiD,EAASlqD,KAAKgxD,OAAOtpD,EAAM,GAAK,GACtC,IAAKd,KAAK26F,WAAW36F,KAAK06F,OAAO55F,GAAMd,KAAK06F,OAAOp3C,KAC3CtjD,KAAK06F,OAAO55F,IAAQd,KAAK06F,OAAOp3C,GAChC,MAGRtjD,KAAK+6F,KAAKj6F,EAAKwiD,GACfxiD,EAAMwiD,CACV,CACJ,CAEAw3C,QAAAA,CAASh6F,GACL,KAAOA,EAAM1H,KAAKgxD,MAAMpqD,KAAK06F,OAAOpsG,OAAS,IAAI,CAC7C,IAAIg1D,EAAQ,EAAIxiD,EAAM,EAOtB,GALIwiD,EAAQtjD,KAAK06F,OAAOpsG,OAAS,IACzB0R,KAAK26F,WAAW36F,KAAK06F,OAAOp3C,GAAQtjD,KAAK06F,OAAOp3C,EAAQ,OAE1DA,EAEFtjD,KAAK26F,WAAW36F,KAAK06F,OAAO55F,GAAMd,KAAK06F,OAAOp3C,IAC9C,MAEJtjD,KAAK+6F,KAAKj6F,EAAKwiD,GACfxiD,EAAMwiD,CACV,CACJ,CAEAy3C,IAAAA,CAAKj6F,EAAgBwiD,IAChBtjD,KAAK06F,OAAO55F,GAASd,KAAK06F,OAAOp3C,IAAW,CACzCtjD,KAAK06F,OAAOp3C,GACZtjD,KAAK06F,OAAO55F,GAEpB,CAKA,UAAIxS,GACA,OAAO0R,KAAK06F,OAAOpsG,MACvB,GCvFG,SAAS0sG,GAAoBthB,GAChC,IAAM54E,EAASjF,OAAOo/F,KAAKvhB,GACrBp2B,EAAMxiD,EAAOxS,OACbmrD,EAAQ,IAAIyxB,WAAW5nB,GAC7B,IAAK,IAAI+H,EAAI,EAAGA,EAAI/H,EAAK+H,IACrB5R,EAAM4R,GAAKvqD,EAAOI,WAAWmqD,GAEjC,OAAO5R,EAAMkxB,MACjB,CAEO,SAASuwB,GAAqBxhB,GACjC,OAAOshB,GAAoBthB,EAAIrmF,MAAM,KAAK,GAC9C,CAEO,SAAS8nG,GAASzhB,EAAkB54E,GACvC,IAAMwiD,EAAIllD,SAASC,cAAc,KACjCilD,EAAE/wC,KAAOzR,EACTwiD,EAAE83C,SAAW1hB,EACbp2B,EAAE+3C,OACN,CAEO,SAASC,GAAa5hB,EAAkB54E,GAC3Cq6F,GAASzhB,EAAU,iCAAmC54E,EAC1D,CAEO,SAASy6F,GAAa7hB,EAAkB54E,GAC3Cw6F,GAAa5hB,EAAUvmB,KAAKC,UAAUtyD,GAC1C,CAEO,SAAS06F,GAAa9hB,EAAkB54E,GAC3C,IAAMwiD,EAAMyK,IAAI0tC,gBAAgB36F,GAChCq6F,GAASzhB,EAAUp2B,GACnByK,IAAI2tC,gBAAgBp4C,EACxB,CAjCgB+N,GAAA2pC,GAAA,uBAUA3pC,GAAA6pC,GAAA,wBAIA7pC,GAAA8pC,GAAA,YAOA9pC,GAAAiqC,GAAA,gBAIAjqC,GAAAkqC,GAAA,gBAIAlqC,GAAAmqC,GAAA,gBAMT,IAAMG,GAAYtqC,IAACqoB,GAAgBA,EAAIpoF,MAAM,6BAA3B,aAEZsqG,GAAcvqC,IAACqoB,GAAcA,EAAErmF,MAAM,KAAK8I,MAAM,GAAI,GAAGogB,KAAK,MAA9C,eCrCpB,SAASs/E,GAAOniB,EAAS54E,GAC5B,GAAI44E,IAAO54E,EACP,OAAO,EAEX,IAAMwiD,SAAYo2B,EACZjgC,SAAY34C,EAClB,GAAIwiD,IAAO7J,EACP,OAAO,EAEX,GAAW,WAAP6J,GAA0B,WAAP7J,GAA0B,OAAPigC,GAAsB,OAAP54E,EAAa,CAClE,GAAI/L,MAAMC,QAAQ0kF,KAAQ3kF,MAAMC,QAAQ8L,GACpC,OAAO,EAEX,IAAMuqD,EAAKl6D,OAAOkgB,KAAKqoE,GACjBlrF,EAAK2C,OAAOkgB,KAAKvQ,GACvB,GAAIuqD,EAAG/8D,SAAWE,EAAGF,OACjB,OAAO,EAEX,IAAK,IAAMkW,KAAK6mD,EAAI,CAGhB,IAAKwwC,GAFMniB,EAAGl1E,GACH1D,EAAG0D,IAEV,OAAO,CAEf,CACA,OAAO,CACX,CACA,OAAO,CACX,CA5BgB6sD,GAAAwqC,GAAA,UCAhB,IAAMC,GAAS,IAAIl+F,IAENm+F,GAAkB1qC,IAACqoB,GAC3BA,aAAiBroF,MAASqoF,EAAMzlF,QAAU2X,OAAO8tE,IADvB,mBAcxB,SAASsiB,GAAKtiB,GACZoiB,GAAO34F,IAAIu2E,KACZoiB,GAAO59F,IAAIw7E,GACX9mD,QAAQ25B,KAAKmtB,GAErB,CAEO,SAASuiB,GAAaviB,EAAiB54E,GAC1Ck7F,GAAK,GAAGtiB,wBAA8B54E,aAC1C,CCzBO,SAAS+sE,GAAQ6L,EAAW54E,GAC/B,OAAOowE,OAAOwI,EAAEuU,QAAQntF,GAC5B,CCAO,SAASo3E,GACZwB,EACA54E,GAEA,OAAQ,WACJ,IAAM24C,EAAKprD,UAAKC,OAChB,OAAImrD,IAAOigC,EAAIprF,OAAeorF,KAAIrrF,WAC9BorD,IAAO34C,EAAIxS,OAAewS,KAAIzS,gBAAlC,CACJ,CACJ,CFKgBgjE,GAAA2qC,GAAA,QAOA3qC,GAAA4qC,GAAA,gBCvBA5qC,GAAAwc,GAAA,WCEAxc,GAAA6mB,GAAA,aCuBhB,IAAMgkB,GAAY/qG,OAAOgvF,OAAO,CAC5B,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,OASG,SAASgc,GAAMziB,GAClB,GAAsB,iBAAXA,EACP,MAAM,IAAI0iB,UAAU,sCAExB,IAAMt7F,EAAmB,GACrBwiD,EAAI,EACJ7J,EAAY,EAChB,KAAO6J,EAAIo2B,EAAOprF,QACdmrD,GAAa4iD,GAAU/4C,EAAI7J,EAAWigC,GAClC4iB,GAAW5iB,EAAOp2B,EAAI7J,KACtBA,IAEA8iD,GAAoB7iB,EAAOp2B,EAAI7J,KAC/BA,IAEA+iD,GAAkB9iB,EAAOp2B,EAAI7J,KAC7BA,IAEAgjD,GAAkB/iB,EAAOp2B,EAAI7J,IAC7BA,KAGJ34C,EAAO/K,KAAK2jF,EAAO/sB,UAAUrJ,EAAGA,EAAI7J,IACpC6J,GAAK7J,EACLA,EAAY,GAEhB,OAAO34C,CACX,CASA,SAASu7F,GAAU3iB,EAAW54E,GAC1B,IAAMwiD,EAAUxiD,EAAO44E,GAGvB,IAAKgjB,GAAuBp5C,IAAYo2B,IAAM54E,EAAOxS,OAAS,EAC1D,OAAO,EAGX,IAAMmrD,EAAc6J,EAAUxiD,EAAO44E,EAAI,GACnCruB,EAAWvqD,EAAO6rD,UAAU+sB,EAAI,EAAGA,EAAI,GAM7C,OAAItE,GAAoB37B,IAAgB27B,GAAoB/pB,GACjD,EAQPsxC,GAAkBljD,IACfmjD,GAAmCvxC,GAE/BvqD,EAAO3E,MAAMu9E,GAAGjoF,QACnBma,OAAOixF,cAAc,SACrB,EAUJC,GAAsBzxC,GACf,EAEJ,CACX,CAEA,SAASqxC,GAAuBhjB,GAC5B,OAAOA,GACAqjB,GACCrjB,EAAO,GAAGx4E,WAAW,GACrB,MACA,MAEZ,CAEA,SAASk0E,GAAoBsE,GACzB,OAAOqjB,GACHC,GAA2BtjB,GAC3B,OACA,OAER,CAEA,SAASijB,GAAkBjjB,GACvB,OAAOqjB,GACHC,GAA2BtjB,GAC3B,OACA,OAER,CAEA,SAASojB,GAAsBpjB,GAC3B,OAAOqjB,GACHC,GAA2BtjB,GAC3B,OACA,OAER,CAEA,SAAS6iB,GAAoB7iB,GACzB,MAAyB,iBAAXA,GACPqjB,GACCrjB,EAAOx4E,WAAW,GAClB,MACA,MAEZ,CAEA,SAASs7F,GAAkB9iB,GACvB,MAAyB,iBAAXA,GACPqjB,GACCrjB,EAAOx4E,WAAW,GAClB,KACA,KAEZ,CAEA,SAAS07F,GAAmCljB,GACxC,IAAM54E,EAAY44E,EAAOujB,YAAY,GACrC,MAA0B,iBAAXvjB,GAA4C,iBAAd54E,GACtCi8F,GACCj8F,EACA,OACA,OAEZ,CAEA,SAASw7F,GAAW5iB,GAChB,MAAyB,iBAAXA,GACPwiB,GAAU3oG,SAASmmF,EAAOx4E,WAAW,GAChD,CAEA,SAASu7F,GAAkB/iB,GACvB,MAAyB,iBAAXA,GACkB,OAAzBA,EAAOx4E,WAAW,EAC7B,CAEA,SAAS87F,GAA2BtjB,GAGhC,OAFmBA,EAAKx4E,WAAW,GAAK,OAElB,KADJw4E,EAAKx4E,WAAW,GAAK,OACC,KAC5C,CAEA,SAAS67F,GAAiBrjB,EAAe54E,EAAewiD,GACpD,OAAOo2B,GAAS54E,GAAS44E,GAASp2B,CACtC,CAhKgB+N,GAAA8qC,GAAA,SAoCP9qC,GAAAgrC,GAAA,aA6CAhrC,GAAAqrC,GAAA,0BASArrC,GAAA+jB,GAAA,uBAQA/jB,GAAAsrC,GAAA,qBAQAtrC,GAAAyrC,GAAA,yBAQAzrC,GAAAkrC,GAAA,uBASAlrC,GAAAmrC,GAAA,qBASAnrC,GAAAurC,GAAA,sCAUAvrC,GAAAirC,GAAA,cAKAjrC,GAAAorC,GAAA,qBAKAprC,GAAA2rC,GAAA,8BAMA3rC,GAAA0rC,GAAA,oBC7MF,ICiFInI,GDjFEsI,GAAiB7rC,IAAA,CAAIqoB,EAAoB54E,IAC9C/L,MAAMC,QAAQ0kF,GACNA,GAAqBnmF,SAASuN,GAGnC44E,IAAc54E,GALK,kBAQjBq8F,GAAmB9rC,IAAA,CAC5BqoB,EACA54E,IAEI/L,MAAMC,QAAQ8L,GACPA,EAAIywD,MAAMjO,GAAMo2B,EAAIv2E,IAAImgD,KAG5Bo2B,EAAIv2E,IAAIrC,IARa,oBAWnBs8F,GAAe/rC,IAAA,CACxBqoB,EACA54E,EACAwiD,KAEIo2B,EAAIv2E,IAAIrC,GACR44E,EAAI35E,IAAIe,IAAM/K,KAAKutD,GAGnBo2B,EAAIrnF,IAAIyO,EAAK,CAACwiD,GAEtB,GAX4B,gBEnBf+5C,GAAA,MACT,IAAI3jB,EAAK,EACT,MAAO,IAAMA,GAChB,EAHY,GC8BA4jB,GACTjsC,IAAC,IACUujC,GAAS2I,iBADpB,0BAKSC,GAAsBnsC,IAAC,KAChC,IAAMqoB,EAAOkb,GAASxrF,QAEtB,IAAK,IAAMtI,KAAK44E,EAAM,CAClB,IAAMp2B,EAAeo2B,EAAK54E,GAAG28F,UAAY,CAAC/jB,EAAK54E,GAAG28F,UAAU7+B,OACtDnlB,EAAgBigC,EAAK54E,GAAG48F,cACvB,CAAChkB,EAAK54E,GAAG48F,cAAc9+B,OACxBvT,EAAcquB,EAAK54E,GAAG68F,SAAW,CAACjkB,EAAK54E,GAAG68F,SAAS/+B,OACnDpwE,EAAYkrF,EAAK54E,GAAG88F,OAAS,CAAClkB,EAAK54E,GAAG88F,OAAOh/B,OAE/Ctb,GACAA,EAAajkC,SAAS7a,IAClB44F,GAAaxI,GAASiJ,aAAcr5F,EAAG1D,EAC3C,IAGA24C,GACAA,EAAcp6B,SAAS7a,IACnB44F,GAAaxI,GAASkJ,iBAAkBt5F,EAAG1D,EAC/C,IAGAuqD,GACAA,EAAYhsC,SAAS7a,IACjB44F,GAAaxI,GAASmJ,iBAAkBv5F,EAAG1D,EAC/C,IAGAtS,GACAA,EAAU6wB,SAAS7a,IACf44F,GAAaxI,GAASoJ,eAAgBx5F,EAAG1D,EAC7C,GAER,IAjC+B,uBFLtBm9F,GAAN,MAA8B,cAAA5sC,GAAA,uBACjC6sC,QAAA,KAAkB,IAAItgG,IAAI,IAA1B,GACAugG,cAAA,KAAwB,IAAIvgG,IAAI,IAAhC,GACAwgG,SAAA,KAAmB,IAAIxgG,IAAI,IAA3B,GACAygG,KAAA,KAAe,IAAIzgG,IAAI,IAAvB,GACA+Y,MAAAA,GACI3W,KAAKk+F,QAAQjE,QACbj6F,KAAKo+F,SAASnE,QACdj6F,KAAKm+F,cAAclE,OACvB,CACAqE,KAAAA,CAAMx9F,GACFd,KAAKk+F,QAAQhgG,IAAI4C,GACjBd,KAAKm+F,cAAcjgG,IAAI4C,GACvBd,KAAKq+F,KAAKngG,IAAI4C,EAClB,CACAy9F,WAAAA,CAAYz9F,GACRd,KAAKm+F,cAAcjgG,IAAI4C,EAC3B,CACA09F,OAAAA,CAAQ19F,GACJd,KAAKq+F,KAAKj/E,OAAOte,GACjBd,KAAKk+F,QAAQ9+E,OAAOte,GACpBd,KAAKo+F,SAASlgG,IAAI4C,EACtB,GAGE29F,GAAN,MAAmB,cAAAptC,GAAA,wBACfqtC,YAAA,KAA2C,IAAIT,GAA/C,GACAU,WAAA,KAAsC,IAAInhG,IAA1C,IAGEohG,GAAN,MAAiB,cAAAvtC,GAAA,sBACLwtC,IAAgB,GAChBr2C,MAAgB,EACxB2B,IAAc,EACd20C,IAAAA,CAAKh+F,GACDd,KAAK6+F,IAAI9oG,KAAK+K,GACdd,KAAKwoD,OAAS1nD,EACVd,KAAKwoD,OAAS,IACdxoD,KAAKwoD,MAAQ,EACbxoD,KAAKmqD,IAAM/wD,KAAKwyF,MACZ,GAAK5rF,KAAK6+F,IAAIptC,QAAO,CAACnO,EAAG7J,IAAM6J,EAAI7J,IAAKz5C,KAAK6+F,IAAIvwG,SAErD0R,KAAK6+F,IAAM,GAEnB,GAQEE,GGnFN,CACE,4DAA6D,CAC3D31F,QAAW,CACT,EAAK,QACL,EAAK,OACL,EAAK,OACL,EAAK,QACL,EAAK,YACL,EAAK,YACL,EAAK,WACL,EAAK,WACL,EAAK,SACL,EAAK,QACL,GAAM,SACN,GAAM,SACN,GAAM,UACN,GAAM,YACN,GAAM,YACN,GAAM,aACN,GAAM,OACN,GAAM,WAER41F,OAAU,CACRhrF,KAAQ,CAAEnjB,EAAK,EAAGmgB,EAAK,GACvBo2C,MAAS,CAAEv2D,EAAK,EAAGmgB,EAAK,KAG5B,4DAA6D,CAC3D5H,QAAW,CACT,EAAK,QACL,EAAK,OACL,EAAK,OACL,EAAK,QACL,EAAK,YACL,EAAK,YACL,EAAK,SACL,GAAM,SACN,GAAM,SAER41F,OAAU,CACRhrF,KAAQ,CAAEnjB,EAAK,EAAGmgB,EAAK,KAG3B,4DAA6D,CAC3D5H,QAAW,CACT,EAAK,QACL,EAAK,OACL,EAAK,OACL,EAAK,QACL,EAAK,YACL,EAAK,YACL,EAAK,QACL,GAAM,SACN,GAAM,UAER41F,OAAU,CACRhrF,KAAQ,CAAEnjB,EAAK,EAAGmgB,EAAK,KAG3B,+DAAgE,CAC9D5H,QAAW,CACT,EAAK,QACL,EAAK,OACL,EAAK,OACL,EAAK,QACL,EAAK,YACL,EAAK,YACL,EAAK,WACL,EAAK,WACL,EAAK,SACL,EAAK,QACL,GAAM,SACN,GAAM,SACN,GAAM,UACN,GAAM,YACN,GAAM,YACN,GAAM,aACN,GAAM,OACN,GAAM,WAER41F,OAAU,CACRhrF,KAAQ,CAAEnjB,EAAK,EAAGmgB,EAAK,GACvBo2C,MAAS,CAAEv2D,EAAK,EAAGmgB,EAAK,KAG5BkyC,QAAW,CACT95C,QAAW,CACT,EAAK,QACL,EAAK,OACL,EAAK,OACL,EAAK,QACL,EAAK,YACL,EAAK,YACL,EAAK,WACL,EAAK,WACL,EAAK,SACL,EAAK,QACL,GAAM,SACN,GAAM,SACN,GAAM,UACN,GAAM,YACN,GAAM,YACN,GAAM,aACN,GAAM,QAER41F,OAAU,CACRhrF,KAAQ,CAAEnjB,EAAK,EAAGmgB,EAAK,GACvBo2C,MAAS,CAAEv2D,EAAK,EAAGmgB,EAAK,MHtBjBiuF,GAAe5tC,IAACqoB,IAQzB,IAAM54E,EAAU44E,EAAItwE,SAAW,CAAC,EAEhC,MAAO,CACH81F,OAAQxlB,EAAIwlB,OACZ91F,QAAStI,EACT+8F,aAAc,IAAIrgG,IAClBwgG,eAAgB,IAAIxgG,IACpBugG,iBAAkB,IAAIvgG,IACtBsgG,iBAAkB,IAAItgG,IACtB2hG,OAAQ,KACRC,SAAS,EACTC,GAAI,EACJC,QAAS,IACTC,OAAQ,EACRnwF,KAAM,EACNowF,SAAU,EACVC,WAAY,IAAIb,GAChBc,UAAW,EACXC,UAAU,EACVxoF,UAAU,EACVyoF,UAAW,EACXC,SAAU,IAAIlT,GAAK,GACnBmT,cAAe,IAAInT,GAAK,GACxBoT,SAAU,IAAI9B,GACd+B,WAAY,IAAI/B,GAChBgC,mBAAoB,IAAIxB,GACxByB,cAAe,IAAI1iG,IACnB+/F,gBAAiB,KAEjBmB,YAAa,IAAIT,GACjBkC,SAAU,GACVC,aAAc,GACdC,cAAc,EACdC,UAAW5mB,EAAIwlB,OAAOqB,YACtBC,WAAY9mB,EAAIwlB,OAAOuB,aACvBp7E,OAAQ,IAAI60E,GAEpB,GA7C4B,gBA+CfwG,GAAUrvC,IAACqoB,IAQpB,IAAKA,EAAIwlB,OACL,MAAM,IAAI7tG,MAAM,2BAGpB,IAAMyP,EAAQm+F,GAAavlB,GAI3B,SAASp2B,IACL,OAAOxiD,EAAMu+F,GAAKv+F,EAAM4+F,SAC5B,CAEA,SAASjmD,IACL,OAAO34C,EAAMw+F,QAAUx+F,EAAM4+F,SACjC,CAEA,SAASr0C,IACL,OAAOvqD,EAAMy+F,OAASz+F,EAAM4+F,SAChC,CAEA,SAASlxG,IACL,OAAOsS,EAAMqW,QACjB,CAEA,SAAS3S,IACL,OAAO1D,EAAMsO,IACjB,CAEA,SAASirE,IACL,OAAOv5E,EAAM2+F,WAAWt1C,GAC5B,CAEA,SAASwhC,IACL,OAAO7qF,EAAM8+F,SACjB,CAEA,SAAStlD,IACL,OAAOx5C,EAAMo+F,OAAOyB,WACxB,CAEA,SAAStnD,EAAUk1C,GACfztF,EAAMo+F,OAAOp8F,MAAMhN,OAASy4F,CAChC,CAEA,SAAS10C,IACL,OAAO/4C,EAAMo+F,OAAOp8F,MAAMhN,MAC9B,CAEA,SAAS8F,EAAgB2yF,GACrB,GAAIA,EACA,IACI,IAAMnkE,EAAMtpB,EAAMo+F,OACb0B,qBACDx2E,EAAIz3B,OACJy3B,EAAIz3B,OAAOkuG,GAAMjuE,QAAQhY,MAAMimF,IAEvC,CAAE,MAAOz2E,GACLwI,QAAQhY,MAAMwP,EAClB,MAGAhsB,SAAS0iG,iBAEjB,CAEA,SAAS/7F,IACL,QAAS3G,SAAS2iG,kBACtB,CAGA,SAASznD,EAAgBi1C,GACjBA,EAAGyS,kBAAmBzS,EAAGyS,oBAEpBzS,EAAG0S,yBAAyB1S,EAAG0S,yBAC5C,CAEA,SAASrQ,IACDxyF,SAAS8iG,eAAgB9iG,SAAS8iG,iBAE7B9iG,SAAS+iG,sBAAsB/iG,SAAS+iG,sBACrD,CAEA,SAAS7V,MAAcj9F,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,KAAAA,UAAA,GAEfirD,EAAgBx4C,EAAMo+F,QAGtBtO,GAER,CAEA,SAAS5/E,IACL,OAAO5S,SAASgjG,oBAAsBtgG,EAAMo+F,QAErC9gG,SAASijG,0BAA4BvgG,EAAMo+F,MACtD,CAEA,SAASrO,IACL/vF,EAAMs+F,SAAU,EAChB,IAAM7Q,EAAKp9F,OAAO21E,QAAQw6B,IACpBl3E,EAAKj5B,OAAO21E,QAAQy6B,IACpBV,EAAK1vG,OAAO21E,QAAQ06B,IAE1B,IAAK,IAAOC,EAAMC,KAAQnT,EACtBztF,EAAMo+F,OAAO95F,oBAAoBq8F,EAAMC,GAE3C,IAAK,IAAOD,EAAMC,KAAQt3E,EACtBhsB,SAASgH,oBAAoBq8F,EAAMC,GAEvC,IAAK,IAAOD,EAAMC,KAAQb,EACtBhlG,OAAOuJ,oBAAoBq8F,EAAMC,GAErCC,GAAez6B,YACnB,CAEA,SAASx6B,EACL6hD,EACAnkE,GAEqB,OAAjBtpB,EAAMq+F,QACNyC,qBAAqB9gG,EAAMq+F,QAG/B,IAAI0B,EAAqB,EACrBY,EAAgB,EAEdC,EAAQrwC,IAACwwC,IACX,GAAI/gG,EAAMs+F,QAAS,OAGnB,GAAiC,YAA7BhhG,SAAS0jG,gBAET,YADAhhG,EAAMq+F,OAAS4C,sBAAsBL,IAIzC,IAAMM,EAAWH,EAAI,IACfI,EAAS7oG,KAAK8Z,IAAI8uF,EAAWlhG,EAAM0+F,SAAU,KAC7C0C,EAAYxoB,EAAIyoB,OAAS,EAAIzoB,EAAIyoB,OAAS,EAKhD,GAHArhG,EAAM0+F,SAAWwC,EACjBP,GAAiBQ,EAEbR,EAAgBS,EAAW,CAC3B,IAAKphG,EAAM6+F,SAAU,CAIjB,IAHAkB,GAAsBY,EACtB3gG,EAAMu+F,GAAKv+F,EAAMw+F,QACjBx+F,EAAMy+F,OAAS,EACRsB,EAAqB//F,EAAMw+F,SAC9BuB,GAAsB//F,EAAMw+F,QACxBuB,EAAqB//F,EAAMw+F,UAC3Bx+F,EAAMy+F,OAASsB,GAEnBtS,IAEJztF,EAAMy+F,OAASsB,EACf//F,EAAMu+F,GAAKoC,EACX3gG,EAAMsO,MAAQk0C,IACdxiD,EAAM2+F,WAAWX,KAAKh+F,EAAMu+F,GAChC,CACAoC,EAAgB,EAChB3gG,EAAM6+F,UAAW,EACjB7+F,EAAM8+F,YAENx1E,EAAOg4E,GAAcC,GACzB,CAEAvhG,EAAMq+F,OAAS4C,sBAAsBL,EACzC,GAzCc,SA2CdA,EAAM,EACV,CAEA,SAAS/nD,IACL,MAAQ,iBAAkB99C,QAAW66D,UAAU4rC,eAAiB,CACpE,CAEA,SAASxR,IACL,OAAOhwF,EAAM++F,SAASxjE,OAC1B,CAEA,SAASxrC,IACL,OAAOiQ,EAAMg/F,cAAczjE,OAC/B,CAEA,SAASiyD,IAAiD,IAAlCC,EAAAlgG,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAiB,OACrC,OAAOyS,EAAMk/F,WAAW9B,QAAQ/6F,IAAIorF,EACxC,CAEA,SAAS9rE,IAA8C,IAAlC8rE,EAAAlgG,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAiB,OAClC,OAAOyS,EAAMk/F,WAAW3B,KAAKl7F,IAAIorF,EACrC,CAEA,SAAS3zC,IAAkD,IAAlC2zC,EAAAlgG,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAiB,OACtC,OAAOyS,EAAMk/F,WAAW5B,SAASj7F,IAAIorF,EACzC,CAEA,SAASyF,IACL,OAAOlzF,EAAMu/F,YACjB,CAEA,SAASpM,EAAa1F,GAClB,YAAa,IAANA,EACDztF,EAAMi/F,SAAS7B,QAAQr3E,KAAO,EAC9Bs2E,GAAiBr8F,EAAMi/F,SAAS7B,QAAS3P,EACnD,CAEA,SAAS7gB,EAAmB6gB,GACxB,YAAa,IAANA,EACDztF,EAAMi/F,SAAS5B,cAAct3E,KAAO,EACpCs2E,GAAiBr8F,EAAMi/F,SAAS5B,cAAe5P,EACzD,CAEA,SAAS7pE,EAAU6pE,GACf,YAAa,IAANA,EACDztF,EAAMi/F,SAAS1B,KAAKx3E,KAAO,EAC3Bs2E,GAAiBr8F,EAAMi/F,SAAS1B,KAAM9P,EAChD,CAEA,SAAS2F,EAAc3F,GACnB,YAAa,IAANA,EACDztF,EAAMi/F,SAAS3B,SAASv3E,KAAO,EAC/Bs2E,GAAiBr8F,EAAMi/F,SAAS3B,SAAU7P,EACpD,CAEA,SAAS4F,EACL5F,GAEA,YAAe,IAARA,EACDztF,EAAMm/F,mBAAmBvB,YAAYR,QAAQr3E,KAAO,EACpDs2E,GACEr8F,EAAMm/F,mBAAmBvB,YAAYR,QACrC3P,EAEZ,CAEA,SAAS6F,EACL7F,GAEA,YAAe,IAARA,EACDztF,EAAMm/F,mBAAmBvB,YAAYL,KAAKx3E,KAAO,EACjDs2E,GAAiBr8F,EAAMm/F,mBAAmBvB,YAAYL,KAAM9P,EACtE,CAEA,SAAS1f,EACL0f,GAEA,YAAe,IAARA,EACDztF,EAAMm/F,mBAAmBvB,YAAYN,SAASv3E,KAAO,EACrDs2E,GACEr8F,EAAMm/F,mBAAmBvB,YAAYN,SACrC7P,EAEZ,CAEA,SAAS8F,EAAgB9F,GACrB,YAAe,IAARA,EACDztF,EAAM49F,YAAYR,QAAQr3E,KAAO,EACjCs2E,GAAiBr8F,EAAM49F,YAAYR,QAAS3P,EACtD,CAEA,SAASh0C,EAAag0C,GAClB,YAAe,IAARA,EACDztF,EAAM49F,YAAYL,KAAKx3E,KAAO,EAC9Bs2E,GAAiBr8F,EAAM49F,YAAYL,KAAM9P,EACnD,CAEA,SAAS+F,EAAiB/F,GACtB,YAAe,IAARA,EACDztF,EAAM49F,YAAYN,SAASv3E,KAAO,EAClCs2E,GAAiBr8F,EAAM49F,YAAYN,SAAU7P,EACvD,CAEA,SAASgG,EAAUhG,GACf,OAAOztF,EAAMsI,UAAUmlF,EAC3B,CAEA,SAASh8B,EAAUg8B,EAAankE,GAC5BtpB,EAAMsI,QAAQmlF,GAAO,IACdztF,EAAMsI,QAAQmlF,MACdnkE,EAEX,CAEA,SAASm4E,EAAYhU,GACjBztF,EAAM49F,YAAYJ,MAAM/P,GACxBztF,EAAMukB,OAAO00E,QAAQ,cAAexL,EACxC,CAEA,SAASiU,EAAcjU,GACnBztF,EAAM49F,YAAYF,QAAQjQ,GAC1BztF,EAAMukB,OAAO00E,QAAQ,gBAAiBxL,EAC1C,CAEA,SAASkU,EAASlU,GACd,OAAOztF,EAAMukB,OAAOwoD,GAAG,SAAU0gB,EACrC,CAlSAqG,GAAW9zF,EACX08F,KAESnsC,GAAA/N,EAAA,MAIA+N,GAAA5X,EAAA,WAIA4X,GAAAhG,EAAA,UAIAgG,GAAA7iE,EAAA,YAIA6iE,GAAA7sD,EAAA,QAIA6sD,GAAAgpB,EAAA,OAIAhpB,GAAAs6B,EAAA,aAIAt6B,GAAA/W,EAAA,cAIA+W,GAAAhY,EAAA,aAIAgY,GAAAxX,EAAA,aAIAwX,GAAAz1D,EAAA,mBAiBAy1D,GAAAtsD,EAAA,kBAKAssD,GAAA/X,EAAA,mBAMA+X,GAAAu/B,EAAA,kBAMAv/B,GAAAi6B,EAAA,iBASAj6B,GAAArgD,EAAA,gBAMAqgD,GAAAw/B,EAAA,QAkBAx/B,GAAA3kB,EAAA,OAyDA2kB,GAAA1X,EAAA,iBAIA0X,GAAAy/B,EAAA,YAIAz/B,GAAAxgE,EAAA,iBAIAwgE,GAAAi9B,EAAA,kBAIAj9B,GAAA5uC,EAAA,eAIA4uC,GAAAzW,EAAA,mBAIAyW,GAAA2iC,EAAA,gBAIA3iC,GAAA4iC,EAAA,gBAMA5iC,GAAAqc,EAAA,sBAMArc,GAAA3sC,EAAA,aAMA2sC,GAAA6iC,EAAA,iBAMA7iC,GAAA8iC,EAAA,0BAWA9iC,GAAA+iC,EAAA,uBAQA/iC,GAAAwd,EAAA,2BAWAxd,GAAAgjC,EAAA,mBAMAhjC,GAAA9W,EAAA,gBAMA8W,GAAAijC,EAAA,oBAMAjjC,GAAAkjC,EAAA,aAIAljC,GAAAkB,EAAA,aAOAlB,GAAAkxC,EAAA,eAKAlxC,GAAAmxC,EAAA,iBAKAnxC,GAAAoxC,EAAA,YAKT,IAAMC,EAAYxqB,IAAWqW,GAClBztF,EAAMukB,OAAOwoD,GAAG,UAAW0gB,KACnC,CAACA,EAAkBnkE,IACXtpB,EAAMukB,OAAOwoD,GAChB,WACCgzB,GAAM3D,GAAe3O,EAAKsS,IAAMz2E,EAAOy2E,OAK1C8B,EAAazqB,IAAWqW,GACnBztF,EAAMukB,OAAOwoD,GAAG,YAAazjD,GAAMmkE,EAAOnkE,OAClD,CAACmkE,EAAkBnkE,IACXtpB,EAAMukB,OAAOwoD,GAChB,YACCgzB,GAAM3D,GAAe3O,EAAKsS,IAAMz2E,EAAOy2E,OAI1C+B,EAAmB1qB,IAAWqW,GACzBztF,EAAMukB,OAAOwoD,GAAG,iBAAkB0gB,KAC1C,CAACA,EAAkBnkE,IACXtpB,EAAMukB,OAAOwoD,GAChB,kBACCgzB,GAAM3D,GAAe3O,EAAKsS,IAAMz2E,EAAOy2E,OAI1CgC,EAAe3qB,IAAWqW,GACrBztF,EAAMukB,OAAOwoD,GAAG,aAAc0gB,KACtC,CAACA,EAAkBnkE,IACXtpB,EAAMukB,OAAOwoD,GAChB,cACCgzB,GAAM3D,GAAe3O,EAAKsS,IAAMz2E,EAAOy2E,OAI1CiC,EAAc5qB,IAAWqW,GACpBztF,EAAMukB,OAAOwoD,GAAG,aAAczjD,GAAMmkE,EAAOnkE,OACnD,CACCmkE,EACAnkE,IAEOtpB,EAAMukB,OAAOwoD,GAChB,aACCgzB,GAAM3D,GAAe3O,EAAOsS,IAAMz2E,EAAOy2E,OAI5CkC,EAAe7qB,IAAWqW,GACrBztF,EAAMukB,OAAOwoD,GAAG,cAAezjD,GAAMmkE,EAAOnkE,OACpD,CACCmkE,EACAnkE,IAEOtpB,EAAMukB,OAAOwoD,GAChB,cACCgzB,GAAM3D,GAAe3O,EAAOsS,IAAMz2E,EAAOy2E,OAI5CmC,EAAiB9qB,IAAWqW,GACvBztF,EAAMukB,OAAOwoD,GAAG,gBAAiBzjD,GAAMmkE,EAAOnkE,OACtD,CACCmkE,EACAnkE,IAEOtpB,EAAMukB,OAAOwoD,GAAG,gBAAiBgzB,GAAMA,IAAMtS,GAASnkE,EAAOy2E,OAGxE,SAAS/mD,EAAYy0C,GACjB,OAAOztF,EAAMukB,OAAOwoD,GAChB,aACA,IAAM0gB,EAAEuC,IAAYjgG,MAE5B,CAEA,SAASoyG,EAAY1U,GACjB,OAAOztF,EAAMukB,OAAOwoD,GAAG,YAAa0gB,EACxC,CAEA,SAAS2U,EAAa3U,GAClB,OAAOztF,EAAMukB,OAAOwoD,GAAG,aAAc0gB,EACzC,CAEA,SAAS4U,EAAY5U,GACjB,OAAOztF,EAAMukB,OAAOwoD,GAAG,YAAa0gB,EACxC,CAEA,SAAS6U,EAAW7U,GAChB,OAAOztF,EAAMukB,OAAOwoD,GAAG,WAAY0gB,EACvC,CAEA,SAAS8U,GAAS9U,GACd,OAAOztF,EAAMukB,OAAOwoD,GAAG,SAAU0gB,EACrC,CAEA,SAAS+U,GAAO/U,GACZ,OAAOztF,EAAMukB,OAAOwoD,GAAG,OAAQ0gB,EACnC,CAEA,SAASgV,GAAOhV,GACZ,OAAOztF,EAAMukB,OAAOwoD,GAAG,OAAQ0gB,EACnC,CAjCSl9B,GAAAvX,EAAA,eAOAuX,GAAA4xC,EAAA,eAIA5xC,GAAA6xC,EAAA,gBAIA7xC,GAAA8xC,EAAA,eAIA9xC,GAAA+xC,EAAA,cAIA/xC,GAAAgyC,GAAA,YAIAhyC,GAAAiyC,GAAA,UAIAjyC,GAAAkyC,GAAA,UAIT,IAAMC,GAAuBtrB,IACxBqW,GACUztF,EAAMukB,OAAOwoD,GAChB,sBACA,CAACzjD,EAAGy2E,IAAOtS,EAAOnkE,EAAGy2E,OAG7B,CACItS,EACAnkE,IAEOtpB,EAAMukB,OAAOwoD,GAChB,sBACA,CAACgzB,EAAGY,IAAOvE,GAAe3O,EAAKsS,IAAMz2E,EAAOy2E,EAAGY,OAKrDgC,GAAsBvrB,IACvBqW,GACUztF,EAAMukB,OAAOwoD,GAChB,qBACA,CAACzjD,EAAGy2E,IAAOtS,EAAOnkE,EAAGy2E,OAG7B,CACItS,EACAnkE,IAEOtpB,EAAMukB,OAAOwoD,GAChB,qBACA,CAACgzB,EAAGY,IAAOvE,GAAe3O,EAAKsS,IAAMz2E,EAAOy2E,EAAGY,OAKrDiC,GAAyBxrB,IAC1BqW,GACUztF,EAAMukB,OAAOwoD,GAChB,wBACA,CAACzjD,EAAGy2E,IAAOtS,EAAOnkE,EAAGy2E,OAG7B,CACItS,EACAnkE,IAEOtpB,EAAMukB,OAAOwoD,GAChB,wBACA,CAACgzB,EAAGY,IAAOvE,GAAe3O,EAAKsS,IAAMz2E,EAAOy2E,EAAGY,OAK3D,SAASkC,GACLpV,EACAnkE,GAEA,OAAOtpB,EAAMukB,OAAOwoD,GAChB,gBACA,CAACgzB,EAAGY,EAAGC,IAAOb,IAAMtS,GAASnkE,EAAOq3E,EAAGC,IAE/C,CAEA,SAASkC,GAAiBrV,GACtBztF,EAAMukB,OAAOwoD,GAAG,iBAAkB0gB,EACtC,CAEA,SAASsV,GAAoBtV,GACzBztF,EAAMukB,OAAOwoD,GAAG,oBAAqB0gB,EACzC,CAEA,SAASuV,GAAgBvV,GACrB,OAAOztF,EAAMm/F,mBAAmBtB,WAAW5+F,IAAIwuF,IAAU,IAAI5B,GAAK,EACtE,CAEA,SAASoX,KACL,MAAO,IAAIjjG,EAAMs/F,aACrB,CAEA,SAAS4D,KACL,MAAO,IAAIljG,EAAMq/F,SACrB,CA5BS9uC,GAAAsyC,GAAA,kBAUAtyC,GAAAuyC,GAAA,oBAIAvyC,GAAAwyC,GAAA,uBAIAxyC,GAAAyyC,GAAA,mBAIAzyC,GAAA0yC,GAAA,gBAIA1yC,GAAA2yC,GAAA,eAIT,IAAMC,GAAgB/rB,IAAWqW,GACtBztF,EAAMukB,OAAOwoD,GAAG,eAAgBzjD,GAAMmkE,EAAOnkE,OACrD,CAACmkE,EAAsBnkE,IACftpB,EAAMukB,OAAOwoD,GAChB,eACCgzB,GAAM3D,GAAe3O,EAAKsS,IAAMz2E,EAAOy2E,OAI1CqD,GAAehsB,IAAWqW,GACrBztF,EAAMukB,OAAOwoD,GAAG,cAAezjD,GAAMmkE,EAAOnkE,OACpD,CAACmkE,EAAsBnkE,IACftpB,EAAMukB,OAAOwoD,GAChB,cACCgzB,GAAM3D,GAAe3O,EAAKsS,IAAMz2E,EAAOy2E,OAI1CsD,GAAkBjsB,IAAWqW,GACxBztF,EAAMukB,OAAOwoD,GAAG,iBAAkBzjD,GAAMmkE,EAAOnkE,OACvD,CAACmkE,EAAsBnkE,IACftpB,EAAMukB,OAAOwoD,GAChB,iBACCgzB,GAAM3D,GAAe3O,EAAKsS,IAAMz2E,EAAOy2E,OAIhD,SAASuB,KACLthG,EAAMukB,OAAO00E,QAAQ,SACrBj5F,EAAMi/F,SAAS1B,KAAKh/E,SAASkvE,GAAMztF,EAAMukB,OAAO00E,QAAQ,UAAWxL,KACnEztF,EAAMk/F,WAAW3B,KAAKh/E,SAASkvE,GAC3BztF,EAAMukB,OAAO00E,QAAQ,YAAaxL,KAEtCztF,EAAM49F,YAAYL,KAAKh/E,SAASkvE,IAC5BztF,EAAMukB,OAAO00E,QAAQ,aAAcxL,EACvC,IAEA6V,IACJ,CAEA,SAAS/B,KACLvhG,EAAMi/F,SAASppF,SACf7V,EAAMk/F,WAAWrpF,SACjB7V,EAAM49F,YAAY/nF,SAElB7V,EAAMm/F,mBAAmBvB,YAAY/nF,SACrC7V,EAAMm/F,mBAAmBtB,WAAWt/E,SAAQ,CAACkvE,EAAGnkE,KAC5CtpB,EAAMm/F,mBAAmBtB,WAAWtsG,IAAI+3B,EAAG,IAAIuiE,GAAK,GACxD,IAEA7rF,EAAMs/F,aAAe,GACrBt/F,EAAMu/F,cAAe,EACrBv/F,EAAMg/F,cAAgB,IAAInT,GAAK,GAE/B7rF,EAAMo/F,cAAc7gF,SAASkvE,IACzBA,EAAEmQ,YAAY/nF,SACd43E,EAAEoQ,WAAWt/E,SAAQ,CAAC+K,EAAGy2E,KACrBtS,EAAEoQ,WAAWtsG,IAAIwuG,EAAG,IAAIlU,GAAK,GACjC,GACJ,GACJ,CAEA,SAAS0X,GAAgB9V,GACrB,IAAMnkE,EAAoB,CACtB30B,MAAO84F,EAAe94F,MACtB6uG,UAAWjzC,IAACwvC,GACD//F,EAAMo/F,cAAcngG,IAAIwuF,EAAe94F,QACxCipG,YACDR,QAAQ/6F,IAAI09F,KAAQ,GAHlB,aAKX0D,OAAQlzC,IAACwvC,GACE//F,EAAMo/F,cAAcngG,IAAIwuF,EAAe94F,QACxCipG,YACDL,KAAKl7F,IAAI09F,KAAQ,GAHlB,UAKR2D,WAAYnzC,IAACwvC,GACF//F,EAAMo/F,cAAcngG,IAAIwuF,EAAe94F,QACxCipG,YACDN,SAASj7F,IAAI09F,KAAQ,GAHlB,cAKZ4D,SAAUpzC,IAACwvC,GACA//F,EAAMo/F,cAAcngG,IAAIwuF,EAAe94F,QAAQkpG,WACjD5+F,IAAI8gG,IAAU/tC,MAFb,aAMd,OAAAhyD,EAAMq/F,SAASpqG,KAAKq0B,GAEpBtpB,EAAMo/F,cAAc7tG,IAAIk8F,EAAe94F,MAAO,CAC1CipG,YAAa,IAAIT,GACjBU,WAAY,IAAInhG,IAAI,CAChB,CAAC,OAAQ,IAAImvF,GAAK,IAClB,CAAC,QAAS,IAAIA,GAAK,QAIpBviE,CACX,CAEA,SAASs6E,GAAcnW,GACnBztF,EAAMq/F,SAAWr/F,EAAMq/F,SAAS3uC,QAAQpnC,GACpCA,EAAE30B,QAAU84F,EAAQ94F,QAExBqL,EAAMo/F,cAAc9gF,OAAOmvE,EAAQ94F,MACvC,CAGA,SAAS2uG,KACL,IAAK,IAAM7V,KAAkB73B,UAAUiuC,cAE/BpW,IAAmBztF,EAAMo/F,cAAc/8F,IACnCorF,EAAe94F,QAGnB4uG,GAAgB9V,GAIxB,IAAK,IAAMA,KAAWztF,EAAMq/F,SAAU,CAClC,IAAM/1E,EAAiBssC,UAAUiuC,cAAcpW,EAAQ94F,OACvD,IAAK20B,EAAgB,SAGrB,IAAMq3E,GADY/nB,EAAIymB,UAAY,CAAC,GACb/1E,EAAeqN,KAC9BsnE,GAAO30E,EAAeqN,KAAOsnE,GAAO77C,QACrCw+C,EAAe5gG,EAAMo/F,cAAcngG,IAAIwuF,EAAQ94F,OACrD,GAAKisG,EAEL,KAAK,IAAIG,EAAI,EAAGA,EAAIz3E,EAAehhB,QAAQ9a,OAAQuzG,IAAK,CACpD,IAAMG,EAAaP,EAAIr4F,QAAQy4F,GACzBI,EAAoB73E,EAAehhB,QAAQy4F,GAC3CK,EAAsBphG,EAAMi9F,iBAAiB56F,IAC/C6+F,GAGJ,GAAIC,EAAkB/D,QAAS,CAC3B,GAAIwD,EAAahD,YAAYL,KAAKl7F,IAAI6+F,GAAa,CAC/ClhG,EAAMukB,OAAO00E,QACT,oBACAiI,EACAzT,GAGJ,QACJ,CAEAztF,EAAMy8F,gBAAkB,UAEpB2E,GAEAphG,EAAMi9F,iBAAiBh+F,IAAIiiG,IAAa3iF,SACnCulF,IACG9jG,EAAM49F,YAAYJ,MAAMsG,GACxB9jG,EAAMukB,OAAO00E,QAAQ,cAAe6K,EACxC,IAIR9jG,EAAMm/F,mBAAmBvB,YAAYJ,MAAM0D,GAC3CN,EAAahD,YAAYJ,MAAM0D,GAC/BlhG,EAAMukB,OAAO00E,QACT,qBACAiI,EACAzT,EAER,MACSmT,EAAahD,YAAYL,KAAKl7F,IAAI6+F,KACnCE,GACAphG,EAAMi9F,iBAAiBh+F,IAAIiiG,IAAa3iF,SACnCulF,IACG9jG,EAAM49F,YAAYF,QAAQoG,GAC1B9jG,EAAMukB,OAAO00E,QAAQ,gBAAiB6K,EAC1C,IAIR9jG,EAAMm/F,mBAAmBvB,YAAYF,QACjCwD,GAEJN,EAAahD,YAAYF,QAAQwD,GAEjClhG,EAAMukB,OAAO00E,QACT,uBACAiI,EACAzT,GAGZ,CAEA,IAAK,IAAMsT,KAAaJ,EAAIzC,OAAQ,CAChC,IAAMgD,EAAQP,EAAIzC,OAAO6C,GACzB,IAAKG,EAAO,SACZ,IAAMC,EAAQ,IAAItV,GACdviE,EAAey6E,KAAK7C,EAAMnxG,GAC1Bu5B,EAAey6E,KAAK7C,EAAMhxF,IAE9B0wF,EAAa/C,WAAWtsG,IAAIwvG,EAA2BI,GACvDnhG,EAAMm/F,mBAAmBtB,WAAWtsG,IAChCwvG,EACAI,GAEJnhG,EAAMukB,OAAO00E,QAAQ,eAAgB8H,EAAWI,EAAO1T,EAC3D,EACJ,CACJ,CAjLSl9B,GAAA+wC,GAAA,gBAaA/wC,GAAAgxC,GAAA,cAsBAhxC,GAAAgzC,GAAA,mBAqCAhzC,GAAAqzC,GAAA,iBAQArzC,GAAA+yC,GAAA,kBAuGT,IAAM9C,GAA+C,CAAC,EAChDC,GAAyC,CAAC,EAC1CC,GAAuC,CAAC,EAExCsD,GAAKprB,EAAIqrB,cAAgB,EAE/BzD,GAAa0D,UAAazW,IACtB,IAAMnkE,EAAW,IAAIuiE,GAAK4B,EAAE0W,QAAS1W,EAAE2W,SACjCrE,EAAgB,IAAIlU,GAAK4B,EAAE/kF,UAAW+kF,EAAE9kF,WAE9C,GAAIuH,IAAgB,CAChB,IAAMywF,EAAK3gG,EAAMo+F,OAAO9yF,MAAQ04F,GAC1BpD,EAAK5gG,EAAMo+F,OAAO7yF,OAASy4F,GAC3BjD,EAAKhmG,OAAOspG,WACZnD,EAAKnmG,OAAOupG,YAGlB,GAFWvD,EAAKG,EACLP,EAAKC,EACH,CACT,IAAMkD,EAAQ5C,EAAKN,EACb2D,GAAUxD,EAAMJ,EAAKmD,GAAU,EACrCx6E,EAASv5B,EAAI+7F,GAAI2B,EAAE0W,QAAUI,EAAQ,EAAG5D,EAAKmD,EAAO,EAAGnD,GACvDr3E,EAASpZ,EAAI47E,GAAI2B,EAAE2W,QAAS,EAAGxD,EAAKkD,EAAO,EAAGlD,EAClD,KACK,CACD,IAAMkD,EAAQ/C,EAAKJ,EACb4D,GAAUrD,EAAMN,EAAKkD,GAAU,EACrCx6E,EAASv5B,EAAI+7F,GAAI2B,EAAE0W,QAAS,EAAGxD,EAAKmD,EAAO,EAAGnD,GAC9Cr3E,EAASpZ,EAAI47E,GAAI2B,EAAE2W,QAAUG,EAAQ,EAAG3D,EAAKkD,EAAO,EAAGlD,EAC3D,CACJ,CAEA5gG,EAAMukB,OAAO+0E,OAAO,SAAS,KACzBt5F,EAAMu/F,cAAe,EACrBv/F,EAAM++F,SAAWz1E,EACjBtpB,EAAMg/F,cAAgBe,EACtB//F,EAAMukB,OAAO00E,QAAQ,YACzB,GACJ,EAEA,IAAMuL,GAA+B,CACjC,OACA,SACA,QACA,OACA,WAGJhE,GAAaiE,UAAahX,IACtBztF,EAAMukB,OAAO+0E,OAAO,SAAS,KACzB,IAAMhwE,EAAIk7E,GAAc/W,EAAEplF,QACrBihB,IAELtpB,EAAMy8F,gBAAkB,QAEpBz8F,EAAMk9F,eAAe76F,IAAIinB,IACzBtpB,EAAMk9F,eAAej+F,IAAIqqB,IAAI/K,SAASwhF,IAClC//F,EAAM49F,YAAYJ,MAAMuC,GACxB//F,EAAMukB,OAAO00E,QAAQ,cAAe8G,EACxC,IAGJ//F,EAAMk/F,WAAW1B,MAAMl0E,GACvBtpB,EAAMukB,OAAO00E,QAAQ,aAAc3vE,GACvC,GACJ,EAEAk3E,GAAakE,QAAWjX,IACpBztF,EAAMukB,OAAO+0E,OAAO,SAAS,KACzB,IAAMhwE,EAAIk7E,GAAc/W,EAAEplF,QACrBihB,IAEDtpB,EAAMk9F,eAAe76F,IAAIinB,IACzBtpB,EAAMk9F,eAAej+F,IAAIqqB,IAAI/K,SAASwhF,IAClC//F,EAAM49F,YAAYF,QAAQqC,GAC1B//F,EAAMukB,OAAO00E,QAAQ,gBAAiB8G,EAC1C,IAGJ//F,EAAMk/F,WAAWxB,QAAQp0E,GACzBtpB,EAAMukB,OAAO00E,QAAQ,eAAgB3vE,GACzC,GACJ,EAEA,IAAMq7E,GAAuB,IAAI7nG,IAAI,CACjC,IACA,YACA,aACA,UACA,YACA,QAIE8nG,GAAY,CACdC,UAAa,OACbC,WAAc,QACdC,QAAW,KACXC,UAAa,OACb,IAAK,SAGTxE,GAAayE,QAAWxX,IAChBkX,GAAqBtiG,IAAIorF,EAAE5iF,MAC3B4iF,EAAErnF,iBAENpG,EAAMukB,OAAO+0E,OAAO,SAAS,KACzB,IAAMhwE,EAASs7E,GAAUnX,EAAE5iF,MACpB4iF,EAAE5iF,IAAI5M,cACP8hG,EAAOtS,EAAEpgG,KAEf,QAAU,IAANi8B,EAAiB,MAAM,IAAI/4B,MAAM,gBAAgBk9F,EAAE5iF,OACtC,IAAbye,EAAE97B,QACFwS,EAAMukB,OAAO00E,QAAQ,YAAa3vE,GAClCtpB,EAAMs/F,aAAarqG,KAAKq0B,IAEb,UAANA,IACLtpB,EAAMukB,OAAO00E,QAAQ,YAAa,KAClCj5F,EAAMs/F,aAAarqG,KAAK,MAExBw4F,EAAExiF,QACFjL,EAAMi/F,SAASxB,YAAYn0E,GAC3BtpB,EAAMukB,OAAO00E,QAAQ,iBAAkB3vE,KAGvCtpB,EAAMy8F,gBAAkB,WAEpBz8F,EAAM+8F,aAAa16F,IAAIinB,IACvBtpB,EAAM+8F,aAAa99F,IAAIqqB,IAAI/K,SAASoiF,IAChC3gG,EAAM49F,YAAYJ,MAAMmD,GACxB3gG,EAAMukB,OAAO00E,QAAQ,cAAe0H,EACxC,IAGA3gG,EAAMg9F,iBAAiB36F,IAAI09F,IAC3B//F,EAAMg9F,iBAAiB/9F,IAAI8gG,IAAOxhF,SAASoiF,IACvC3gG,EAAM49F,YAAYJ,MAAMmD,GACxB3gG,EAAMukB,OAAO00E,QAAQ,cAAe0H,EACxC,IAGJ3gG,EAAMi/F,SAASzB,MAAMl0E,GACrBtpB,EAAMukB,OAAO00E,QAAQ,iBAAkB3vE,GACvCtpB,EAAMukB,OAAO00E,QAAQ,WAAY3vE,GAEzC,GACJ,EAEAk3E,GAAa0E,MAASzX,IAClBztF,EAAMukB,OAAO+0E,OAAO,SAAS,KACzB,IAAMhwE,EAASs7E,GAAUnX,EAAE5iF,MACpB4iF,EAAE5iF,IAAI5M,cACP8hG,EAAOtS,EAAEpgG,KAEX2S,EAAM+8F,aAAa16F,IAAIinB,IACvBtpB,EAAM+8F,aAAa99F,IAAIqqB,IAAI/K,SAASoiF,IAChC3gG,EAAM49F,YAAYF,QAAQiD,GAC1B3gG,EAAMukB,OAAO00E,QAAQ,gBAAiB0H,EAC1C,IAGA3gG,EAAMg9F,iBAAiB36F,IAAI09F,IAC3B//F,EAAMg9F,iBAAiB/9F,IAAI8gG,IAAOxhF,SAASoiF,IACvC3gG,EAAM49F,YAAYF,QAAQiD,GAC1B3gG,EAAMukB,OAAO00E,QAAQ,gBAAiB0H,EAC1C,IAGJ3gG,EAAMi/F,SAASvB,QAAQp0E,GACvBtpB,EAAMukB,OAAO00E,QAAQ,aAAc3vE,EACvC,GACJ,EAGAk3E,GAAa2E,WAAc1X,IAEvBA,EAAErnF,iBAEFpG,EAAMukB,OAAO+0E,OAAO,SAAS,KACzB,IAAMhwE,EAAU,IAAImkE,EAAEvhF,gBAChB6zF,EAAM//F,EAAMo+F,OAAOgH,yBACA,IAArBxsB,EAAIysB,eACJrlG,EAAM++F,SAAW,IAAIlT,GACjBviE,EAAQ,GAAG3hB,QAAUo4F,EAAIhwG,EACzBu5B,EAAQ,GAAG1hB,QAAUm4F,EAAI7vF,GAG7BlQ,EAAMy8F,gBAAkB,QAEpBz8F,EAAMk9F,eAAe76F,IAAI,SACzBrC,EAAMk9F,eAAej+F,IAAI,SAASsf,SAASoiF,IACvC3gG,EAAM49F,YAAYJ,MAAMmD,GACxB3gG,EAAMukB,OAAO00E,QAAQ,cAAe0H,EACxC,IAGJ3gG,EAAMk/F,WAAW1B,MAAM,QACvBx9F,EAAMukB,OAAO00E,QAAQ,aAAc,SAEvC3vE,EAAQ/K,SAASoiF,IACb3gG,EAAMukB,OAAO00E,QACT,aACA,IAAIpN,GAAK8U,EAAEh5F,QAAUo4F,EAAIhwG,EAAG4wG,EAAE/4F,QAAUm4F,EAAI7vF,GAC5CywF,EAER,GACJ,GACJ,EAEAH,GAAa8E,UAAa7X,IAEtBA,EAAErnF,iBACFpG,EAAMukB,OAAO+0E,OAAO,SAAS,KACzB,IAAMhwE,EAAU,IAAImkE,EAAEvhF,gBAChB6zF,EAAM//F,EAAMo+F,OAAOgH,wBACzB,IAAyB,IAArBxsB,EAAIysB,aAAwB,CAC5B,IAAM1E,EAAe3gG,EAAM++F,SAC3B/+F,EAAM++F,SAAW,IAAIlT,GACjBviE,EAAQ,GAAG3hB,QAAUo4F,EAAIhwG,EACzBu5B,EAAQ,GAAG1hB,QAAUm4F,EAAI7vF,GAE7BlQ,EAAMg/F,cAAgBh/F,EAAM++F,SAAS5S,IAAIwU,GACzC3gG,EAAMukB,OAAO00E,QAAQ,YACzB,CACA3vE,EAAQ/K,SAASoiF,IACb3gG,EAAMukB,OAAO00E,QACT,YACA,IAAIpN,GAAK8U,EAAEh5F,QAAUo4F,EAAIhwG,EAAG4wG,EAAE/4F,QAAUm4F,EAAI7vF,GAC5CywF,EAER,GACJ,GACJ,EAEAH,GAAa+E,SAAY9X,IACrBztF,EAAMukB,OAAO+0E,OAAO,SAAS,KACzB,IAAMhwE,EAAU,IAAImkE,EAAEvhF,gBAChB6zF,EAAM//F,EAAMo+F,OAAOgH,yBACA,IAArBxsB,EAAIysB,eACJrlG,EAAM++F,SAAW,IAAIlT,GACjBviE,EAAQ,GAAG3hB,QAAUo4F,EAAIhwG,EACzBu5B,EAAQ,GAAG1hB,QAAUm4F,EAAI7vF,GAE7BlQ,EAAMg/F,cAAgB,IAAInT,GAAK,EAAG,GAE9B7rF,EAAMk9F,eAAe76F,IAAI,SACzBrC,EAAMk9F,eAAej+F,IAAI,SAASsf,SAASoiF,IACvC3gG,EAAM49F,YAAYF,QAAQiD,GAC1B3gG,EAAMukB,OAAO00E,QAAQ,gBAAiB0H,EAC1C,IAGJ3gG,EAAMk/F,WAAWxB,QAAQ,QACzB19F,EAAMukB,OAAO00E,QAAQ,eAAgB,SAEzC3vE,EAAQ/K,SAASoiF,IACb3gG,EAAMukB,OAAO00E,QACT,WACA,IAAIpN,GAAK8U,EAAEh5F,QAAUo4F,EAAIhwG,EAAG4wG,EAAE/4F,QAAUm4F,EAAI7vF,GAC5CywF,EAER,GACJ,GACJ,EAEAH,GAAagF,YAAe/X,IACxBztF,EAAMukB,OAAO+0E,OAAO,SAAS,KACzB,IAAMhwE,EAAU,IAAImkE,EAAEvhF,gBAChB6zF,EAAM//F,EAAMo+F,OAAOgH,yBACA,IAArBxsB,EAAIysB,eACJrlG,EAAM++F,SAAW,IAAIlT,GACjBviE,EAAQ,GAAG3hB,QAAUo4F,EAAIhwG,EACzBu5B,EAAQ,GAAG1hB,QAAUm4F,EAAI7vF,GAE7BlQ,EAAMk/F,WAAWxB,QAAQ,QACzB19F,EAAMukB,OAAO00E,QAAQ,eAAgB,SAEzC3vE,EAAQ/K,SAASoiF,IACb3gG,EAAMukB,OAAO00E,QACT,WACA,IAAIpN,GAAK8U,EAAEh5F,QAAUo4F,EAAIhwG,EAAG4wG,EAAE/4F,QAAUm4F,EAAI7vF,GAC5CywF,EAER,GACJ,GACJ,EAGAH,GAAaiF,MAAShY,IAClBA,EAAErnF,iBACFpG,EAAMukB,OAAO+0E,OAAO,SAAS,KACzBt5F,EAAMukB,OAAO00E,QAAQ,SAAU,IAAIpN,GAAK4B,EAAEnhF,OAAQmhF,EAAEjhF,QACxD,GACJ,EAEAg0F,GAAakF,YAAejY,GAAMA,EAAErnF,iBAEpCq6F,GAAUkF,iBAAmB,KACQ,YAA7BroG,SAAS0jG,iBAEThhG,EAAM6+F,UAAW,EACjB7+F,EAAMqW,UAAW,EACjBrW,EAAMukB,OAAO00E,QAAQ,UAGrBj5F,EAAMqW,UAAW,EACjBrW,EAAMukB,OAAO00E,QAAQ,QAE7B,EAEAyH,GAAUkF,iBAAoBnY,IAC1B,IAAMnkE,EAAYi6E,GAAgB9V,EAAEoP,SACpC78F,EAAMukB,OAAO+0E,OAAO,SAAS,KACzBt5F,EAAMukB,OAAO00E,QAAQ,iBAAkB3vE,EAC3C,GACJ,EAEAo3E,GAAUmF,oBAAuBpY,IAC7B,IAAMnkE,EACF45E,KAAcxyC,QAAQqvC,GAAMA,EAAEprG,QAAU84F,EAAEoP,QAAQloG,QAAO,GAC7DivG,GAAcnW,EAAEoP,SAChB78F,EAAMukB,OAAO+0E,OAAO,SAAS,KACzBt5F,EAAMukB,OAAO00E,QAAQ,oBAAqB3vE,EAC9C,GACJ,EAEA,IAAK,IAAOmkE,GAAMnkE,MAAQj5B,OAAO21E,QAAQw6B,IACrCxgG,EAAMo+F,OAAO/5F,iBACTopF,GACAnkE,IAIR,IAAK,IAAOmkE,GAAMnkE,MAAQj5B,OAAO21E,QAAQy6B,IACrCnjG,SAAS+G,iBACLopF,GACAnkE,IAIR,IAAK,IAAOmkE,GAAMnkE,MAAQj5B,OAAO21E,QAAQ06B,IACrC3lG,OAAOsJ,iBACHopF,GACAnkE,IAIR,IAAMu3E,GAAiB,IAAIiF,gBAAgBrY,IACvC,IAAK,IAAMnkE,KAASmkE,EAChB,GAAInkE,EAAMpmB,SAAWlD,EAAMo+F,OAC3B,IACIp+F,EAAMw/F,YAAcx/F,EAAMo+F,OAAOqB,aAC9Bz/F,EAAM0/F,aAAe1/F,EAAMo+F,OAAOuB,aACvC,OACF3/F,EAAMw/F,UAAYx/F,EAAMo+F,OAAOqB,YAC/Bz/F,EAAM0/F,WAAa1/F,EAAMo+F,OAAOuB,aAChC3/F,EAAMukB,OAAO+0E,OAAO,SAAS,KACzBt5F,EAAMukB,OAAO00E,QAAQ,SACzB,GAAC,KAIT,OAAA4H,GAAe16B,QAAQnmE,EAAMo+F,QAEtB,CACHn+E,MAAAjgB,EACAu+F,GAAA/7C,EACAg8C,QAAA7lD,EACA8lD,OAAAl0C,EACAj8C,KAAA5K,EACAqiG,IAAAn6D,EACAwyD,OAAQp+F,EAAMo+F,OACd/0C,IAAAkwB,EACAulB,UAAAjU,EACAmb,KAAAjW,EACA15E,SAAA3oB,EACAu4G,cAAAzb,EACA0b,aAAAh2F,EACAi2F,UAAA5tD,EACA6tD,WAAA5sD,EACAqqD,YAAAX,GACAmD,UAAAttD,EACAutD,gBAAAxrG,EACAyrG,eAAAtiG,EACAuiG,cAAA3tD,EACAkmD,SAAA/O,EACAgP,cAAAjvG,EACA02G,UAAA7iF,EACA8iF,aAAAvT,EACAwT,mBAAA/5B,EACAg6B,cAAAxT,EACAyT,YAAAllF,EACAmlF,eAAAtZ,EACAuZ,gBAAAjtD,EACAylD,aAAArM,EACA8T,uBAAA3T,EACA4T,oBAAA3T,EACA4T,wBAAAn5B,EACAo5B,gBAAAnE,GACAoE,gBAAA7T,EACA8T,aAAA5tD,EACA6tD,iBAAA9T,EACA+T,UAAA91C,EACA+1C,UAAA/T,EACAgU,YAAAhG,EACAiG,cAAAhG,EACApC,aAAA2D,GACA0E,SAAAhG,EACAiG,UAAAhG,EACAiG,WAAAhG,EACAiG,iBAAAhG,EACAiG,aAAAhG,EACAiG,YAAAhG,EACAiG,aAAAhG,EACAiG,eAAAhG,EACAiG,YAAAnvD,EACAovD,YAAAjG,EACAt8B,aAAAu8B,EACAiG,YAAAhG,EACAiG,WAAAhG,EACAppF,SAAAqpF,GACAgG,OAAA/F,GACAgG,OAAA/F,GACAgG,oBAAA9F,GACA+F,qBAAAhG,GACAiG,uBAAA/F,GACAgG,eAAA/F,GACAgG,iBAAA/F,GACAgG,oBAAA/F,GACAgG,cAAA5F,GACA6F,aAAA5F,GACA6F,gBAAA5F,GACA6F,uBAAA1M,GACAj4E,OAAQvkB,EAAMukB,OAEtB,GAnnCuB,WIlIhB,SAAS4kF,KACZ,OAAOzyE,GAAG0yE,IAAI7K,IAClB,CAEO,SAAS8K,KACZ,OAAO3yE,GAAG0yE,IAAI5K,SAClB,CAEO,SAAS8K,KACZ,OAAO5yE,GAAG0yE,IAAI3K,QAClB,CAVgBluC,GAAA44C,GAAA,MAIA54C,GAAA84C,GAAA,WAIA94C,GAAA+4C,GAAA,UCNhB,IAAMC,GAAW,IAAI1d,IAAM,GAAI,GACzB2d,GAAM,IAAI3d,GAAK,GAAI,GACnB4d,GAAY,IAAI5d,GAAK,GAAI,GACzB6d,GAAO,IAAI7d,IAAM,EAAG,GACpB8d,GAAS,IAAI9d,GAAK,EAAG,GACrB+d,GAAQ,IAAI/d,GAAK,EAAG,GACpBge,GAAc,IAAIhe,IAAM,EAAG,GAC3Bie,GAAS,IAAIje,GAAK,EAAG,GACrBke,GAAe,IAAIle,GAAK,EAAG,GAG1B,SAASme,GAASpxB,GACrB,OAAQA,GACJ,IAAK,UACD,OAAO2wB,GACX,IAAK,MACD,OAAOC,GACX,IAAK,WACD,OAAOC,GACX,IAAK,OACD,OAAOC,GACX,IAAK,SACD,OAAOC,GACX,IAAK,QACD,OAAOC,GACX,IAAK,UACD,OAAOC,GACX,IAAK,MACD,OAAOC,GACX,IAAK,WACD,OAAOC,GACX,QACI,OAAOnxB,EAEnB,CAEO,SAASqxB,GAAQrxB,GACpB,OAAQA,GACJ,IAAK,OAML,QACI,OAAO,EALX,IAAK,SACD,MAAO,GACX,IAAK,QACD,OAAO,EAInB,CAEO,SAASsxB,GAAuBtxB,GACnC,OAAOA,EAAIuxB,aAAa,EAAG,EAAG,MAClC,CAxCgB55C,GAAAy5C,GAAA,YAyBAz5C,GAAA05C,GAAA,WAaA15C,GAAA25C,GAAA,0BCnDhB,IAAME,GAAK,UACLC,GAAK,QACLC,GAAM,EAAIhyG,KAAKqzF,GAAM,EACrB4e,GAAM,EAAIjyG,KAAKqzF,GAAM,IAErB6e,GAAU,CACZ/hB,OAAQl4B,IAACqoB,GAAcA,GAAf,UACR6xB,WAAYl6C,IAACqoB,GAAc,EAAItgF,KAAK2zF,IAAKrT,EAAItgF,KAAKqzF,GAAM,IAA5C,cACZ+e,YAAan6C,IAACqoB,GAActgF,KAAK4zF,IAAKtT,EAAItgF,KAAKqzF,GAAM,IAAxC,eACbgf,cAAep6C,IAACqoB,KAAgBtgF,KAAK2zF,IAAI3zF,KAAKqzF,GAAK/S,GAAK,GAAK,GAA9C,iBACfgyB,WAAYr6C,IAACqoB,GAAcA,EAAIA,GAAnB,cACZiyB,YAAat6C,IAACqoB,GAAc,GAAK,EAAIA,IAAM,EAAIA,IAAlC,eACbkyB,cAAev6C,IAACqoB,GACZA,EAAI,GAAM,EAAIA,EAAIA,EAAI,EAAItgF,KAAKi+E,KAAK,EAAIqC,EAAI,EAAG,GAAK,GADzC,iBAEfmyB,YAAax6C,IAACqoB,GAAcA,EAAIA,EAAIA,GAAvB,eACboyB,aAAcz6C,IAACqoB,GAAc,EAAItgF,KAAKi+E,IAAI,EAAIqC,EAAG,IAAnC,gBACdqyB,eAAgB16C,IAACqoB,GACbA,EAAI,GAAM,EAAIA,EAAIA,EAAIA,EAAI,EAAItgF,KAAKi+E,KAAK,EAAIqC,EAAI,EAAG,GAAK,GAD5C,kBAEhBsyB,YAAa36C,IAACqoB,GAAcA,EAAIA,EAAIA,EAAIA,GAA3B,eACbuyB,aAAc56C,IAACqoB,GAAc,EAAItgF,KAAKi+E,IAAI,EAAIqC,EAAG,IAAnC,gBACdwyB,eAAgB76C,IAACqoB,GACbA,EAAI,GAAM,EAAIA,EAAIA,EAAIA,EAAIA,EAAI,EAAItgF,KAAKi+E,KAAK,EAAIqC,EAAI,EAAG,GAAK,GADhD,kBAEhByyB,YAAa96C,IAACqoB,GAAcA,EAAIA,EAAIA,EAAIA,EAAIA,GAA/B,eACb0yB,aAAc/6C,IAACqoB,GAAc,EAAItgF,KAAKi+E,IAAI,EAAIqC,EAAG,IAAnC,gBACd2yB,eAAgBh7C,IAACqoB,GACbA,EAAI,GAAM,GAAKA,EAAIA,EAAIA,EAAIA,EAAIA,EAAI,EAAItgF,KAAKi+E,KAAK,EAAIqC,EAAI,EAAG,GAAK,GADrD,kBAEhB4yB,WAAYj7C,IAACqoB,GAAoB,IAANA,EAAU,EAAItgF,KAAKi+E,IAAI,EAAG,GAAKqC,EAAI,KAAlD,cACZ6yB,YAAal7C,IAACqoB,GAAoB,IAANA,EAAU,EAAI,EAAItgF,KAAKi+E,IAAI,GAAI,GAAKqC,IAAnD,eACb8yB,cAAen7C,IAACqoB,GACC,IAANA,EACD,EACM,IAANA,EACA,EACAA,EAAI,GACJtgF,KAAKi+E,IAAI,EAAG,GAAKqC,EAAI,IAAM,GAC1B,EAAItgF,KAAKi+E,IAAI,GAAI,GAAKqC,EAAI,KAAO,GAP7B,iBASf+yB,WAAYp7C,IAACqoB,GAAc,EAAItgF,KAAKi0F,KAAK,EAAIj0F,KAAKi+E,IAAIqC,EAAG,KAA7C,cACZgzB,YAAar7C,IAACqoB,GAActgF,KAAKi0F,KAAK,EAAIj0F,KAAKi+E,IAAIqC,EAAI,EAAG,KAA7C,eACbizB,cAAet7C,IAACqoB,GACLA,EAAI,IACJ,EAAItgF,KAAKi0F,KAAK,EAAIj0F,KAAKi+E,IAAI,EAAIqC,EAAG,KAAO,GACzCtgF,KAAKi0F,KAAK,EAAIj0F,KAAKi+E,KAAK,EAAIqC,EAAI,EAAG,IAAM,GAAK,GAH1C,iBAKfkzB,WAAYv7C,IAACqoB,GAAcyxB,GAAKzxB,EAAIA,EAAIA,EAAI,QAAKA,EAAIA,GAAzC,cACZmzB,YAAax7C,IAACqoB,GACV,EAAIyxB,GAAK/xG,KAAKi+E,IAAIqC,EAAI,EAAG,GAAK,QAAKtgF,KAAKi+E,IAAIqC,EAAI,EAAG,IAD1C,eAEbozB,cAAez7C,IAACqoB,GACLA,EAAI,GACJtgF,KAAKi+E,IAAI,EAAIqC,EAAG,IAAM,SAAeA,EAAIwxB,IAAO,GAChD9xG,KAAKi+E,IAAI,EAAIqC,EAAI,EAAG,KAAOwxB,GAAK,IAAU,EAAJxxB,EAAQ,GAAKwxB,IAAM,GAAK,GAH1D,iBAKf6B,cAAe17C,IAACqoB,GACC,IAANA,EACD,EACM,IAANA,EACA,GACCtgF,KAAKi+E,IAAI,EAAG,GAAKqC,EAAI,IAAMtgF,KAAK4zF,KAAS,GAAJtT,EAAS,OAAS0xB,KALnD,iBAOf4B,eAAgB37C,IAACqoB,GACA,IAANA,EACD,EACM,IAANA,EACA,EACAtgF,KAAKi+E,IAAI,GAAI,GAAKqC,GAAKtgF,KAAK4zF,KAAS,GAAJtT,EAAS,KAAQ0xB,IAAM,GALlD,kBAOhB6B,iBAAkB57C,IAACqoB,GACF,IAANA,EACD,EACM,IAANA,EACA,EACAA,EAAI,IACFtgF,KAAKi+E,IAAI,EAAG,GAAKqC,EAAI,IAAMtgF,KAAK4zF,KAAK,GAAKtT,EAAI,QAAU2xB,IAAO,EAChEjyG,KAAKi+E,IAAI,GAAI,GAAKqC,EAAI,IAAMtgF,KAAK4zF,KAAK,GAAKtT,EAAI,QAAU2xB,IAAO,EAC7D,GARI,oBAUlB6B,aAAc77C,IAACqoB,GAAc,EAAI4xB,GAAQ6B,cAAc,EAAIzzB,IAA7C,gBACdyzB,cAAe97C,IAACqoB,GAGRA,EAAI,EAAI,KACD,OAAKA,EAAIA,EAEXA,EAAI,EAAI,KACN,QAAMA,GAAK,IAAM,MAAMA,EAAI,IAE7BA,EAAI,IAAM,KACR,QAAMA,GAAK,KAAO,MAAMA,EAAI,MAG5B,QAAMA,GAAK,MAAQ,MAAMA,EAAI,SAb7B,iBAgBf0zB,gBAAiB/7C,IAACqoB,GACPA,EAAI,IACJ,EAAI4xB,GAAQ6B,cAAc,EAAI,EAAIzzB,IAAM,GACxC,EAAI4xB,GAAQ6B,cAAc,EAAIzzB,EAAI,IAAM,GAHlC,oBAOd2zB,GAAQ/B,GClFf,SAASgC,GAAU5zB,EAAe54E,EAAcwiD,GAC5C,IAAM7J,EAAO,GACT4R,EAAOvqD,EAEX,IADA24C,EAAK1jD,KAAKs1D,GACHA,IAASquB,GAAO,CAGnB,GADAruB,EAAO/H,EAASvjD,IAAIsrD,GACR,MAARA,EAAmB,OAAO,KAC9B5R,EAAK1jD,KAAKs1D,EACd,CACA,OAAO5R,EAAK8zD,SAChB,CA4EO,SAASC,GACZ9zB,EACA54E,EACAwiD,GAMA,IAAM7J,EAAW,IAAIghD,IAAqB,CAACj2F,EAAG61E,IAAM71E,EAAEipG,KAAOpzB,EAAEozB,OAC/Dh0D,EAASmhD,OAAO,CAAE6S,KAAM,EAAG/+G,KAAMoS,IAEjC,IAAMuqD,EAAW,IAAI7tD,IACrB6tD,EAASh5D,IAAIyO,EAAOA,GACpB,IAAMtS,EAAY,IAAIgP,IAGtB,IAFAhP,EAAU6D,IAAIyO,EAAO,GAEM,IAApB24C,EAASnrD,QAAc,CAC1B,IAAMkW,EAAUi1C,EAAS4gD,UAAU3rG,KAEnC,GAAI8V,IAAY8+C,EACZ,MAIJ,IAAM+2B,EAAaX,EAAMg0B,cAAclpG,GACvC,IAAK,IAAImnF,KAAQtR,EAAY,CACzB,IAAM//B,GAAW9rD,EAAUuR,IAAIyE,IAAa,GACtCk1E,EAAMi0B,QAAQnpG,EAAUmnF,GACxBjS,EAAMk0B,aAAajiB,EAAMroC,KAE1B90D,EAAU2U,IAAIwoF,IACZrxC,EAAU9rD,EAAUuR,IAAI4rF,MAE3Bn9F,EAAU6D,IAAIs5F,EAAMrxC,GACpBb,EAASmhD,OAAO,CAAE6S,KAAMnzD,EAAS5rD,KAAMi9F,IACvCtgC,EAASh5D,IAAIs5F,EAAMnnF,GAE3B,CACJ,CAGA,OAAO8oG,GAAUxsG,EAAOwiD,EAAM+H,EAClC,CAlISgG,GAAAi8C,GAAA,aAuFOj8C,GAAAm8C,GAAA,eCxGhB,IAAMK,GAAN,MAAc,cAAAx8C,GAAA,mBACV7sD,EACAO,EACA4lF,QAEA9qF,WAAAA,CAAYiB,EAASwiD,EAAS7J,GAC1Bz5C,KAAKwE,EAAI1D,EACTd,KAAK+E,EAAIu+C,EACTtjD,KAAK2qF,QAAU,IAAImjB,QAAQr0D,EAC/B,CAEAs0D,MAAAA,CAAOjtG,EAAWwiD,GACd,OAAStjD,KAAK+E,EAAElU,EAAImP,KAAKwE,EAAE3T,IAAMyyD,EAAItjD,KAAKwE,EAAEwM,IACrClQ,EAAId,KAAKwE,EAAE3T,IAAMmP,KAAK+E,EAAEiM,EAAIhR,KAAKwE,EAAEwM,EAC9C,CAEA,UAAIg9F,GACA,OAAOhuG,KAAKwE,EAAEtG,IAAI8B,KAAK+E,GAAGslF,MAAM,GACpC,GAGE4jB,GAAN,MAAiB,cAAA58C,GAAA,sBAGL68C,OACAC,UACAC,IAERvuG,WAAAA,CAAYiB,GACRd,KAAKouG,IAAMttG,CACf,CAEA,MAAI22B,GACA,OAAOz3B,KAAKouG,GAChB,CAEA,SAAIC,CAAMvtG,GACNd,KAAKkuG,OAASptG,EACd,IAAIwiD,EAAU,EACV7J,EAAU,EACV4R,EAAO,EACX,IAAK,IAAI78D,KAAQwR,KAAKkuG,OAAQ,CAC1B1/G,EAAKm8F,QAAU,IAAImjB,QAAQ9tG,MAC3B,IAAMwE,EAAQhW,EAAKgW,EAAE3T,EAAIrC,EAAKuW,EAAEiM,EAAIxiB,EAAKgW,EAAEwM,EAAIxiB,EAAKuW,EAAElU,EACtDyyD,IAAY90D,EAAKgW,EAAE3T,EAAIrC,EAAKuW,EAAElU,GAAK2T,EACnCi1C,IAAYjrD,EAAKgW,EAAEwM,EAAIxiB,EAAKuW,EAAEiM,GAAKxM,EACnC6mD,GAAQ7mD,CACZ,CACA6mD,GAAQ,EACRrrD,KAAKmuG,UAAYr7C,GAAKxP,GAAW,EAAI+H,GAAO5R,GAAW,EAAI4R,GAC/D,CAEA,SAAIgjD,GACA,OAAOruG,KAAKkuG,MAChB,CAEA,YAAII,GACA,OAAOtuG,KAAKmuG,SAChB,CAwBAn8F,QAAAA,CAASlR,GACL,IAAIwiD,GAAI,EAER,IAAK,IAAM7J,KAAKz5C,KAAKquG,MAEX50D,EAAE10C,EAAEiM,EAAIlQ,EAAEkQ,GAAOyoC,EAAEj1C,EAAEwM,EAAIlQ,EAAEkQ,GACzBlQ,EAAEjQ,GACC4oD,EAAEj1C,EAAE3T,EAAI4oD,EAAE10C,EAAElU,IAAMiQ,EAAEkQ,EAAIyoC,EAAE10C,EAAEiM,IAAMyoC,EAAEj1C,EAAEwM,EAAIyoC,EAAE10C,EAAEiM,GAAKyoC,EAAE10C,EAAElU,IAE9DyyD,GAAKA,GAIb,OAAOA,CACX,GAGSirD,GAAN,MAA+B,cAAAl9C,GAAA,mBAC1Bm9C,UACAC,YACAC,WAER7uG,WAAAA,GACIG,KAAKwuG,UAAY,GACjBxuG,KAAKyuG,YAAc,CAAC,EACpBzuG,KAAK0uG,WAAa,CAAC,CACvB,CAEQC,SAAAA,CAAU7tG,GACd,IAAIwiD,EAAQtjD,KAAKyuG,YAAY,GAAG3tG,EAAEjQ,KAAKiQ,EAAEkQ,KACzC,OAAIsyC,IAGJA,EAAQxiD,EAAEu7B,QACVr8B,KAAKyuG,YAAY,GAAG3tG,EAAEjQ,KAAKiQ,EAAEkQ,KAAOsyC,EAC7BA,EACX,CAEQsrD,QAAAA,CAAS9tG,GACb,IAAMwiD,EAAM,GAAGxiD,EAAK0D,EAAE3T,KAAKiQ,EAAK0D,EAAEwM,KAAKlQ,EAAKiE,EAAElU,KAAKiQ,EAAKiE,EAAEiM,IAC1D,OAAAhR,KAAK0uG,WAAWprD,GAAOxiD,EAChBA,CACX,CAEQ+tG,SAAAA,CAAU/tG,EAASwiD,GACvB,IAAM7J,EAAM,GAAG34C,EAAEjQ,KAAKiQ,EAAEkQ,KAAKsyC,EAAEzyD,KAAKyyD,EAAEtyC,IACtC,OAAOhR,KAAK0uG,WAAWj1D,EAC3B,CAEQq1D,eAAAA,CAAgBhuG,EAAewiD,GACnC,IAAK,IAAM7J,KAAQ34C,EAAEutG,MAAO,CACxB,IAAMhjD,EAAIrrD,KAAK6uG,UAAUp1D,EAAK10C,EAAG00C,EAAKj1C,GAEtC,GAAI6mD,GAAKA,EAAEs/B,QAAQokB,QAASt3E,KAAO6rB,EAAE7rB,GACjC,OAAO4zB,CAEf,CACA,OAAO,IACX,CAEA2jD,UAAAA,CAAWluG,GACP,IAAMwiD,EAAU,IAAI2qD,GAAWjuG,KAAKwuG,UAAUlgH,QACxCmrD,EAAQ34C,EAASgmB,KAAI,CAACukC,EAAG78D,IAC3B,IAAIq/G,GAAQxiD,EAAGvqD,GAAUtS,EAAQ,GAAKsS,EAASxS,QAASg1D,KAE5DA,EAAQ+qD,MAAQ50D,EAChBz5C,KAAKwuG,UAAUz4G,KAAKutD,GACpB,IAAK,IAAM+H,KAAQ/H,EAAQ+qD,MACvBruG,KAAK4uG,SAASvjD,GAElB,OAAO/H,CACX,CAEA2rD,OAAAA,CAAQnuG,EAAWwiD,GACf,IAAM7J,EAAIz5C,KAAK2uG,UAAU7tG,GACnBuqD,EAAIrrD,KAAK2uG,UAAU7tG,EAAI5C,IAAIolD,EAAKzyD,EAAG,IACnCrC,EAAIwR,KAAK2uG,UAAU7tG,EAAI5C,IAAIolD,IAC3B9+C,EAAIxE,KAAK2uG,UAAU7tG,EAAI5C,IAAI,EAAGolD,EAAKtyC,IACzC,OAAOhR,KAAKgvG,WAAW,CAACv1D,EAAG4R,EAAG78D,EAAGgW,GACrC,CAEQ0qG,YAAAA,CAAapuG,GACjB,IAAK,IAAIwiD,KAAWtjD,KAAKwuG,UACrB,GAAIlrD,EAAQtxC,SAASlR,GACjB,OAAOwiD,EAGf,OAAO,IACX,CAEAoqD,aAAAA,CAAc5sG,GACV,IAAMwiD,EAAa,GACnB,IAAK,IAAI7J,KAAQz5C,KAAKwuG,UAAU1tG,GAAOutG,MAAO,CAE1C,IAAMhjD,EAAWrrD,KAAK6uG,UAAUp1D,EAAK10C,EAAG00C,EAAKj1C,GAC7C,GAAI6mD,EAAU,CACV,IAAM78D,EAAc68D,EAASs/B,QAAQokB,QACjCvgH,GACA80D,EAAWvtD,KAAKvH,EAAYipC,GAEpC,CACJ,CACA,OAAO6rB,CACX,CAEAqqD,OAAAA,CAAQ7sG,EAAWwiD,GACf,OAAO,CACX,CAEAsqD,YAAAA,CAAa9sG,EAAgBwiD,GACzB,IAAM7J,EAAIz5C,KAAKwuG,UAAU1tG,GACnBuqD,EAAIrrD,KAAKwuG,UAAUlrD,GACnB90D,EAAIirD,EAAE60D,SAASz9G,EAAIw6D,EAAEijD,SAASz9G,EAC9B2T,EAAIi1C,EAAE60D,SAASt9F,EAAIq6C,EAAEijD,SAASt9F,EACpC,OAAO5X,KAAKi0F,KAAK7+F,EAAIA,EAAIgW,EAAIA,EACjC,CAEA2qG,OAAAA,CAAQruG,EAAewiD,GAEnB,YAAc,IAAVxiD,QAAgC,IAATwiD,EAChB,GAIPxiD,IAAUwiD,EACH,CAACxiD,EAAOwiD,GAGZkqD,GAAYxtG,KAAMc,EAAOwiD,EACpC,CAEA8rD,eAAAA,CAAgBtuG,EAAawiD,EAAY7J,GACrC,IAAM4R,EAAO5R,GAAKrpD,MAAQ,YAEpB5B,EAAewR,KAAKkvG,aAAapuG,GACjC0D,EAAcxE,KAAKkvG,aAAa5rD,GAGtC,QAAqB,IAAjB90D,QAA8C,IAAhBgW,EAC9B,MAAO,GAIX,IAAM61E,EAAOr6E,KAAKmvG,QAAQ3gH,EAAcipC,GAAIjzB,EAAaizB,IAGzD,IAAK4iD,EACD,MAAO,GAGX,GAAa,UAAThvB,EAAkB,CAClB,IAAMsgC,EAAQ,GACd,IAAK,IAAIrxC,EAAI,EAAGA,EAAI+/B,EAAK/rF,OAAQgsD,IAAK,CAClC,IAAMjB,EAAKr5C,KAAKwuG,UAAUn0B,EAAK//B,EAAI,IAC7BT,EAAK75C,KAAKwuG,UAAUn0B,EAAK//B,IACzB1+C,EAAOoE,KAAK8uG,gBAAgBz1D,EAAIQ,GAEtC8xC,EAAM51F,KACF6F,EAAMoyG,OAAO9vG,IACT27C,EAAGy0D,SAASrhB,IAAIrxF,EAAMoyG,QAAQzgB,OAAOlD,MAAM,IAGvD,CACA,MAAO,CAACvpF,KAAU6qF,EAAOroC,EAC7B,CAEI,MAAO,CACHxiD,KACGu5E,EAAKl+E,MAAM,GAAI,GAAG2qB,KAAI6kE,GACrB3rF,KAAKwuG,UAAU7iB,GAAO2iB,WAE1BhrD,EAGZ,GC/PG,SAAS+7C,GAAc3lB,GAC1B,IAAM54E,EAAK,IAAImvF,GACf,OAAIvW,EAAImQ,KAAK/oF,EAAGovF,UAAUxW,EAAImQ,KAC1BnQ,EAAI2Q,OAAOvpF,EAAGupF,MAAM3Q,EAAI2Q,OACxB3Q,EAAIkU,OAAO9sF,EAAGkvF,OAAOtW,EAAIkU,OACtBlU,EAAItiE,OAAStW,EAAGkrF,KAAKtS,EAAItiE,OAAOq1D,WAAa3rE,CACxD,CAGO,SAASuuG,GAAW31B,GACvB,OAAO,IAAIiT,GACPjT,EAAG7oF,EAAIy+G,KAAU,EAAI,GACpB51B,EAAG1oE,EAAIu+F,KAAW,EAAI,EAE/B,CAEO,SAASC,GACZ91B,EACA54E,EACAwiD,EACA7J,EACA4R,GAEM,IADN78D,EAAAH,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAc,EAGdorD,EAAQ+yC,GAAQ/yC,EAAQ,MACxB4R,EAAMmhC,GAAQnhC,EAAM,OACT5R,IAAO4R,GAAiB,EAAVjyD,KAAKqzF,IAE9B,IAAMjoF,EAAc,GACd61E,EAASjhF,KAAK2iF,MAAM1wB,EAAM5R,GAAS+yC,GAAQ,GAAKh+F,GAChDm9F,GAAQtgC,EAAM5R,GAAS4gC,EAGzB//B,EAAIwY,GAAK15D,KAAK2zF,IAAItzC,GAAQrgD,KAAK4zF,IAAIvzC,IACjCJ,EAAIyZ,GAAK15D,KAAK2zF,IAAIpB,GAAOvyF,KAAK4zF,IAAIrB,IACxC,IAAK,IAAI9xC,EAAI,EAAGA,GAAKwgC,EAAQxgC,IACzBr1C,EAAIzO,KAAK2jF,EAAIx7E,IAAI4C,EAAUw5C,EAAEzpD,EAAGyyD,EAAUhJ,EAAEtpC,IAG5CspC,EAAIwY,GAAKxY,EAAEzpD,EAAIwoD,EAAExoD,EAAIypD,EAAEtpC,EAAIqoC,EAAEroC,EAAGspC,EAAEzpD,EAAIwoD,EAAEroC,EAAIspC,EAAEtpC,EAAIqoC,EAAExoD,GAGxD,OAAO2T,CACX,CC7CO,SAASirG,KACZ,IAAM3uG,EAAQwrF,MAAIj+F,WACZi1D,GAAQj1D,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,KAAW,EAEzBmpC,GAAGk4E,IAAIC,QAAU7uG,EACjB02B,GAAGk4E,IAAIE,QAAUtsD,EAEjB9rB,GAAGk4E,IAAIG,IAAIC,GAAGC,WACVjvG,EAAM24C,EAAI,IACV34C,EAAMwqF,EAAI,IACVxqF,EAAMiE,EAAI,IACVu+C,EAER,CAEO,SAAS0sD,KACZ,OAAOx4E,GAAGk4E,IAAIC,SAAStzE,WAAa,IACxC,CCjBO,SAAS4zE,KACZ,QAAgB,KAAZ5hH,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,IAAuB,OAE3B,IAAMyS,EAAIgyD,MAAKzkE,WACH,IAARyS,EAAEjQ,GAAmB,IAARiQ,EAAEkQ,GACnBwmB,GAAGk4E,IAAIjjC,UAAUyjB,UAAUpvF,EAC/B,CAEO,SAASovG,KACZ14E,GAAGk4E,IAAIS,eAAep6G,KAAKyhC,GAAGk4E,IAAIjjC,UAAUpwC,QAChD,CAEO,SAAS+zE,GAAW12B,GACvBliD,GAAGk4E,IAAIjjC,UAAYiN,EAAEr9C,OACzB,CAEO,SAASg0E,KAGZ,QAAgB,KAAZhiH,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,IAAuB,OAE3B,IAAMyS,EAAIgyD,MAAKzkE,WACH,IAARyS,EAAEjQ,GAAmB,IAARiQ,EAAEkQ,GACnBwmB,GAAGk4E,IAAIjjC,UAAU4d,MAAMvpF,EAC3B,CAEO,SAASwvG,GAAW52B,GAClBA,GAELliD,GAAGk4E,IAAIjjC,UAAUujB,OAAOtW,EAC5B,CAEO,SAAS62B,KACR/4E,GAAGk4E,IAAIS,eAAe7hH,OAAS,IAE/BkpC,GAAGk4E,IAAIjjC,UAAYj1C,GAAGk4E,IAAIS,eAAet6G,MAEjD,CAEO,SAAS26G,KACZh5E,GAAGk4E,IAAIe,SAASr1B,OACpB,CAGO,SAASk0B,KACZ,OAAO93E,GAAGk4E,IAAItjG,KAClB,CAGO,SAASmjG,KACZ,OAAO/3E,GAAGk4E,IAAIrjG,MAClB,CAEO,SAASqkG,KACZ,OAAQl5E,GAAGk4E,IAAIiB,SAASvkG,MAAQorB,GAAGk4E,IAAIiB,SAAStkG,SACzCmrB,GAAGk4E,IAAItjG,MAAQorB,GAAGk4E,IAAIrjG,OACjC,CAGO,SAASukG,GAAcl3B,GAC1B,OAAO,IAAIiT,GACPjT,EAAG7oF,EAAI2mC,GAAGk4E,IAAIiB,SAASvkG,MAAQorB,GAAGk4E,IAAItjG,MACtCstE,EAAG1oE,EAAIwmB,GAAGk4E,IAAIiB,SAAStkG,OAASmrB,GAAGk4E,IAAIrjG,OAE/C,CAGO,SAASwkG,GAAgBn3B,GAC5B,OAAO,IAAIiT,IACNjT,EAAG7oF,EAAI2mC,GAAGk4E,IAAIiB,SAAS9/G,GAAKy+G,KAAU93E,GAAGk4E,IAAIiB,SAASvkG,OACtDstE,EAAG1oE,EAAIwmB,GAAGk4E,IAAIiB,SAAS3/F,GAAKu+F,KAAW/3E,GAAGk4E,IAAIiB,SAAStkG,OAEhE,CAEO,SAASykG,KACZ,OAAOD,GAAgBr5E,GAAG0yE,IAAIrK,WAClC,CAEO,SAASkR,KACZ,OAAOj+C,GAAKw8C,KAAU,EAAGC,KAAW,EACxC,CF/EgBl+C,GAAAguC,GAAA,iBASAhuC,GAAAg+C,GAAA,cAOAh+C,GAAAm+C,GAAA,aCjBAn+C,GAAAo+C,GAAA,iBAeAp+C,GAAA2+C,GAAA,iBCfA3+C,GAAA4+C,GAAA,iBAQA5+C,GAAA6+C,GAAA,iBAIA7+C,GAAA++C,GAAA,cAIA/+C,GAAAg/C,GAAA,aAUAh/C,GAAAi/C,GAAA,cAMAj/C,GAAAk/C,GAAA,gBAOAl/C,GAAAm/C,GAAA,SAKAn/C,GAAAi+C,GAAA,SAKAj+C,GAAAk+C,GAAA,UAIAl+C,GAAAq/C,GAAA,oBAMAr/C,GAAAu/C,GAAA,iBAQAv/C,GAAAw/C,GAAA,mBAOAx/C,GAAAy/C,GAAA,YAIAz/C,GAAA0/C,GAAA,UC7EhB,IAAqBC,GAArB,MAA+B,cAAA3/C,GAAA,qBACnB4/C,cAAwB,EACxBC,SAAsB,GACtBC,YAAyB,GACzBC,iBAAA,KAIH,IAAI5zG,IAJD,GAKA0hG,OACAmS,IACAxgH,EAAY,EACZmgB,EAAY,EACZsgG,UAAoB,EACpB5B,IACAp3C,QAERz4D,WAAAA,CAAYiB,EAAawiD,EAAW7J,EAAW4R,GAC3CrrD,KAAK0vG,IAAM5uG,EACXd,KAAKk/F,OAAS9gG,SAASC,cAAc,UACrC2B,KAAKk/F,OAAO9yF,MAAQk3C,EACpBtjD,KAAKk/F,OAAO7yF,OAASotC,EACrBz5C,KAAKkxG,SAAW,CAACK,GAAQC,UAAU1wG,EAAKd,KAAKk/F,SAC7Cl/F,KAAKmxG,YAAc,GACnBnxG,KAAKs4D,QAAUjN,EAEf,IAAM78D,EAAYwR,KAAKk/F,OAAOuS,WAAW,MACzC,IAAKjjH,EAAW,MAAM,IAAI6C,MAAM,4BAEhC2O,KAAKqxG,IAAM7iH,CACf,CAEA0P,GAAAA,CAAI4C,GACA,IAAMwiD,EAAcxiD,EAAIsL,MAAuB,EAAfpM,KAAKs4D,QAC/B7e,EAAe34C,EAAIuL,OAAwB,EAAfrM,KAAKs4D,QAEvC,GACIhV,EAActjD,KAAKk/F,OAAO9yF,OAASqtC,EAAez5C,KAAKk/F,OAAO7yF,OAChE,CACE,IAAM7H,EAAM+sG,GAAQC,UAAUxxG,KAAK0vG,IAAK5uG,GACxC,OAAAd,KAAKmxG,YAAYp7G,KAAKyO,GACf,CAACA,EAAK,IAAI6pF,GAAK,EAAG,EAAG,EAAG,GAAI,EACvC,CAGIruF,KAAKnP,EAAIyyD,EAActjD,KAAKk/F,OAAO9yF,QACnCpM,KAAKnP,EAAI,EACTmP,KAAKgR,GAAKhR,KAAKsxG,UACftxG,KAAKsxG,UAAY,GAIjBtxG,KAAKgR,EAAIyoC,EAAez5C,KAAKk/F,OAAO7yF,SACpCrM,KAAKqxG,IAAIK,UAAU,EAAG,EAAG1xG,KAAKk/F,OAAO9yF,MAAOpM,KAAKk/F,OAAO7yF,QACxDrM,KAAKkxG,SAASn7G,KAAKw7G,GAAQC,UAAUxxG,KAAK0vG,IAAK1vG,KAAKk/F,SACpDl/F,KAAKnP,EAAI,EACTmP,KAAKgR,EAAI,EACThR,KAAKsxG,UAAY,GAGrB,IAAMjmD,EAASrrD,KAAKkxG,SAASlxG,KAAKkxG,SAAS5iH,OAAS,GAC9CE,EAAM,IAAIm+F,GAAK3sF,KAAKnP,EAAImP,KAAKs4D,QAASt4D,KAAKgR,EAAIhR,KAAKs4D,SAE1D,OAAAt4D,KAAKnP,GAAKyyD,EAEN7J,EAAez5C,KAAKsxG,YACpBtxG,KAAKsxG,UAAY73D,GAGjB34C,aAAe6wG,UACf3xG,KAAKqxG,IAAIO,aAAa9wG,EAAKtS,EAAIqC,EAAGrC,EAAIwiB,GAGtChR,KAAKqxG,IAAIQ,UAAU/wG,EAAKtS,EAAIqC,EAAGrC,EAAIwiB,GAGvCq6C,EAAO10C,OAAO3W,KAAKk/F,QAEnBl/F,KAAKoxG,iBAAiB/+G,IAAI2N,KAAKixG,cAAe,CAC1Ca,SAAUtjH,EACVq4B,KAAM,IAAI8lE,GAAK7rF,EAAIsL,MAAOtL,EAAIuL,QAC9B0lG,QAAS1mD,IAGbrrD,KAAKixG,gBAEE,CACH5lD,EACA,IAAIgjC,GACA7/F,EAAIqC,EAAImP,KAAKk/F,OAAO9yF,MACpB5d,EAAIwiB,EAAIhR,KAAKk/F,OAAO7yF,OACpBvL,EAAIsL,MAAQpM,KAAKk/F,OAAO9yF,MACxBtL,EAAIuL,OAASrM,KAAKk/F,OAAO7yF,QAE7BrM,KAAKixG,cAAgB,EAE7B,CACAe,IAAAA,GACI,IAAK,IAAMlxG,KAAOd,KAAKkxG,SACnBpwG,EAAIkxG,OAER,IAAK,IAAMlxG,KAAOd,KAAKmxG,YACnBrwG,EAAIkxG,MAEZ,GCzGG,SAASC,GAAUv4B,GACtB,MAAmB,iBAARA,GAAoBiiB,GAAUjiB,GAAaA,EAC/CliD,GAAG06E,OAAOC,UAAYz4B,CACjC,CAHgBroB,GAAA4gD,GAAA,UCYT,IAAMG,GAAN,MAAM14B,EAAS,cAAAroB,GAAA,iBAClBghD,QAAkB,EAClBh9G,KAAiB,KACjBulB,MAAsB,KACd03F,aAAA,KAA4B,IAAI3Y,GAAhC,GACA4Y,cAAA,KAAiC,IAAI5Y,GAArC,GACA6Y,eAAA,KAA6B,IAAI7Y,GAAjC,GACR95F,WAAAA,CAAYiB,GACRA,EAAOka,MAAMsoC,IACTtjD,KAAKqyG,QAAS,EACdryG,KAAK3K,KAAOiuD,EACZtjD,KAAKsyG,aAAavY,QAAQz2C,EAC9B,IAAG3wD,OAAO2wD,IAEN,GADAtjD,KAAK4a,MAAQ0oC,IACTtjD,KAAKuyG,cAAcvY,eAAiB,GAIpC,MAAM12C,EAHNtjD,KAAKuyG,cAAcxY,QAAQz2C,EAKnC,IAAGmvD,SAAQ,KACPzyG,KAAKwyG,eAAezY,UACpB/5F,KAAKqyG,QAAS,CAClB,GACJ,CACA,aAAOA,CAAUvxG,GACb,IAAMwiD,EAAQ,IAAIo2B,EAAM3zC,QAAQnjB,QAAQ9hB,IACxC,OAAAwiD,EAAMjuD,KAAOyL,EACbwiD,EAAM+uD,QAAS,EACR/uD,CACX,CACAhc,MAAAA,CAAOxmC,GACH,OAAId,KAAKqyG,QAAUryG,KAAK3K,KACpByL,EAAOd,KAAK3K,MAGZ2K,KAAKsyG,aAAap0G,IAAI4C,GAEnBd,IACX,CACAunC,OAAAA,CAAQzmC,GACJ,OAAId,KAAKqyG,QAAUryG,KAAK4a,MACpB9Z,EAAOd,KAAK4a,OAGZ5a,KAAKuyG,cAAcr0G,IAAI4C,GAEpBd,IACX,CACA0yG,QAAAA,CAAS5xG,GACL,OAAId,KAAKqyG,OACLvxG,IAGAd,KAAKwyG,eAAet0G,IAAI4C,GAErBd,IACX,CACAgb,IAAAA,CAAKla,GACD,OAAOd,KAAKsnC,OAAOxmC,EACvB,CACAnO,MAAMmO,GACF,OAAOd,KAAKunC,QAAQzmC,EACxB,CACA2xG,QAAQ3xG,GACJ,OAAOd,KAAK0yG,SAAS5xG,EACzB,GAGS6xG,GAAN,MAAqB,cAAAthD,GAAA,uBACxB6gD,OAAA,KAAgC,IAAI10G,IAApC,GACAo1G,QAAkB,EAClB10G,GAAAA,CAAI4C,EAAqBwiD,GAErB,IAAM7J,EAAK34C,GAASd,KAAK4yG,UAAY,GAC/BvnD,EAAQ,IAAI+mD,GAAM9uD,GACxB,OAAAtjD,KAAKkyG,OAAO7/G,IAAIonD,EAAI4R,GACbA,CACX,CACAwnD,SAAAA,CAAU/xG,EAAqBwiD,GAC3B,IAAM7J,EAAK34C,GAASd,KAAK4yG,UAAY,GAC/BvnD,EAAQ+mD,GAAMC,OAAO/uD,GAC3B,OAAAtjD,KAAKkyG,OAAO7/G,IAAIonD,EAAI4R,GACbA,CACX,CAEAtrD,GAAAA,CAAIe,GACA,OAAOd,KAAKkyG,OAAOnyG,IAAIe,EAC3B,CACAgyG,QAAAA,GACI,GAAyB,IAArB9yG,KAAKkyG,OAAOrrF,KACZ,OAAO,EAEX,IAAI/lB,EAAS,EACb,OAAAd,KAAKkyG,OAAO7yF,SAASikC,IACbA,EAAM+uD,QACNvxG,GAER,IACOA,EAASd,KAAKkyG,OAAOrrF,IAChC,CAEAksF,eAAAA,GACI,OAAOh+G,MAAM8+D,KAAK7zD,KAAKkyG,OAAO7gG,QAAQmgD,QAAO1wD,GACX,OAA9Bd,KAAKkyG,OAAOnyG,IAAIe,GAAI8Z,QACtBkM,KAAIhmB,GAAK,CAACA,EAAGd,KAAKkyG,OAAOnyG,IAAIe,KACnC,GAGG,SAASkyG,GAASt5B,GACrB,OAAOzP,MAAMyP,GACR1+D,MAAMla,IACH,IAAKA,EAAImyG,GAAI,MAAM,IAAI5hH,MAAM,oBAAoBqoF,MACjD,OAAO54E,CACX,GACR,CAEO,SAASoyG,GAAUx5B,GACtB,OAAOs5B,GAASt5B,GAAM1+D,MAAMla,GAAQA,EAAIynF,QAC5C,CAEO,SAAS4qB,GAAUz5B,GACtB,OAAOs5B,GAASt5B,GAAM1+D,MAAMla,GAAQA,EAAI0B,QAC5C,CAEO,SAAS4wG,GAAiB15B,GAC7B,OAAOs5B,GAASt5B,GAAM1+D,MAAMla,GAAQA,EAAI6rE,eAC5C,CAGO,SAAS0mC,GAAS35B,GACrB,YAAa,IAATA,IACAliD,GAAG06E,OAAOC,UAAYz4B,GAEnBliD,GAAG06E,OAAOC,SACrB,CAEO,SAASmB,GAAS55B,EAAc54E,GACnC,OAAO02B,GAAG06E,OAAOqB,OAAOr1G,IAAIw7E,EAAMw5B,GAAUjB,GAAOnxG,IACvD,CAGO,SAAS0yG,GAAQ95B,GACpB,IAAM54E,EAAM,IAAI2yG,MAChB,OAAA3yG,EAAIs5B,YAAc,YAClBt5B,EAAIw5B,IAAMo/C,EACH,IAAI3zC,SAA0B,CAACud,EAAS7J,KAC3C34C,EAAImlC,OAAS,IAAMqd,EAAQxiD,GAC3BA,EAAIolC,QAAU,IACVuT,EAAO,IAAIpoD,MAAM,8BAA8BqoF,MACvD,GACJ,CAEO,SAASg6B,KACZ,IAAMh6B,EAAU,CACZliD,GAAG06E,OAAOyB,QACVn8E,GAAG06E,OAAO0B,OACVp8E,GAAG06E,OAAO2B,QACVr8E,GAAG06E,OAAO4B,MACVt8E,GAAG06E,OAAO6B,YACVv8E,GAAG06E,OAAOqB,QAEd,OAAO75B,EAAQjoB,QAAO,CAAC3wD,EAAGwiD,IAAWxiD,EAAIwiD,EAAOwvD,YAAY,GACtDp5B,EAAQprF,MAClB,CAEO,SAAS0lH,KASZ,MARgB,CACZx8E,GAAG06E,OAAOyB,QACVn8E,GAAG06E,OAAO0B,OACVp8E,GAAG06E,OAAO2B,QACVr8E,GAAG06E,OAAO4B,MACVt8E,GAAG06E,OAAO6B,YACVv8E,GAAG06E,OAAOqB,QAEC9hD,QACX,CAAC3wD,EAAOwiD,IAAWxiD,EAAMgsB,OAAOw2B,EAAOyvD,oBACvC,GAER,CACO,SAASkB,GAASv6B,GACrB,OAAOliD,GAAG06E,OAAOqB,OAAOxzG,IAAI25E,IAAS,IACzC,CAGO,SAASw6B,GAAQx6B,GACpB,OAAOliD,GAAG06E,OAAOqB,OAAOr1G,IAAI,KAAMw7E,EACtC,CA9EgBroB,GAAA2hD,GAAA,YAQA3hD,GAAA6hD,GAAA,aAIA7hD,GAAA8hD,GAAA,aAIA9hD,GAAA+hD,GAAA,oBAKA/hD,GAAAgiD,GAAA,YAOAhiD,GAAAiiD,GAAA,YAKAjiD,GAAAmiD,GAAA,WAWAniD,GAAAqiD,GAAA,gBAaAriD,GAAA2iD,GAAA,mBAcA3iD,GAAA4iD,GAAA,YAKA5iD,GAAA6iD,GAAA,QAOT,IAAMxqC,GAAarY,IAAC,CAAAqoB,EAAa54E,KAAA,CAEhCqxG,UAAW,GAEXwB,QAAS,IAAIhB,GACbmB,MAAO,IAAInB,GACXoB,YAAa,IAAIpB,GACjBiB,OAAQ,IAAIjB,GACZkB,QAAS,IAAIlB,GACbY,OAAQ,IAAIZ,GACZwB,MAAO,CAAC,EACRC,OAAQ,IAAIpD,GACRt3B,EACA,KACA,KACA54E,GAGJuxG,QAAQ,KAlBU,cCnHbgC,GAAN,MAAM36B,EAAW,cAAAroB,GAAA,sBACpBijD,IACAC,OAAA,KAAiB,CAAC,IAAIlmB,GAAK,EAAG,EAAG,EAAG,IAApC,GACAmmB,MAAqB,CAAC,EACtBC,OAA2B,KAE3B50G,WAAAA,CACIiB,EACAwiD,GAGF,IAFE7J,EAAAprD,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAqB,CAAC,EACtBg9D,EAAAh9D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAA2B,KAE3B2R,KAAKs0G,IAAMxzG,EACPwiD,IAAQtjD,KAAKu0G,OAASjxD,GAC1BtjD,KAAKw0G,MAAQ/6D,EACbz5C,KAAKy0G,OAASppD,CAClB,CAKA,SAAIj/C,GACA,OAAOpM,KAAKs0G,IAAIloG,MAAQpM,KAAKu0G,OAAO,GAAGjmB,CAC3C,CAEA,UAAIjiF,GACA,OAAOrM,KAAKs0G,IAAIjoG,OAASrM,KAAKu0G,OAAO,GAAGhmB,CAC5C,CAEA,WAAO16B,CACH/yD,GAEmB,IADnBwiD,EAAAj1D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAqB,CAAC,EAEtB,MAAsB,iBAARyS,EACR44E,EAAWg7B,QAAQ5zG,EAAKwiD,GACxBvd,QAAQnjB,QAAQ82D,EAAW83B,UAAU1wG,EAAKwiD,GACpD,CAEA,gBAAOkuD,CACH1wG,GAEU,IADVwiD,EAAAj1D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAqB,CAAC,GAEforD,EAAK4R,GAAQ7zB,GAAG06E,OAAOkC,OAAOl2G,IAAI4C,GACnCtS,EAAS80D,EAAIixD,OACbjxD,EAAIixD,OAAOztF,KAAKtiB,GACd,IAAI6pF,GACAhjC,EAAKx6D,EAAI2T,EAAE3T,EAAIw6D,EAAKijC,EACpBjjC,EAAKr6C,EAAIxM,EAAEwM,EAAIq6C,EAAKkjC,EACpB/pF,EAAE8pF,EAAIjjC,EAAKijC,EACX9pF,EAAE+pF,EAAIljC,EAAKkjC,KAGjBomB,GACErxD,EAAIsxD,QAAU,EACdtxD,EAAIuxD,QAAU,EACdxpD,EAAKx6D,EACLw6D,EAAKr6C,EACLq6C,EAAKijC,EACLjjC,EAAKkjC,GAEb,OAAO,IAAI7U,EAAWjgC,EAAKjrD,EAAQ80D,EAAIkxD,MAAOlxD,EAAImxD,OACtD,CAEA,cAAOC,CACH5zG,GAEmB,IADnBwiD,EAAAj1D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAqB,CAAC,EAEtB,OAAOmlH,GAAQ1yG,GAAKka,MAAMy+B,GAAQigC,EAAW83B,UAAU/3D,EAAK6J,IAChE,GAGG,SAASwxD,GACZp7B,GAEA,GAAmB,iBAARA,EAAkB,CACzB,IAAM54E,EAAMi0G,GAAUr7B,GACtB,GAAI54E,EAEA,OAAOA,EAEN,GAAI4yG,KAAiB,EAEtB,OAAO,KAIP,MAAM,IAAIriH,MAAM,qBAAqBqoF,IAE7C,CACK,GAAIA,aAAe26B,GACpB,OAAOjC,GAAMC,OAAO34B,GAEnB,GAAIA,aAAe04B,GACpB,OAAO14B,EAGP,MAAM,IAAIroF,MAAM,mBAAmBqoF,IAE3C,CAEO,SAASq7B,GAAUr7B,GACtB,OAAOliD,GAAG06E,OAAOyB,QAAQ5zG,IAAI25E,IAAS,IAC1C,CAGO,SAASs7B,GACZt7B,EACA54E,GAMiB,IALjBwiD,EAAAj1D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAqB,CACjBumH,OAAQ,EACRC,OAAQ,EACRL,MAAO,CAAC,GAIZ,OADA1zG,EAAMmxG,GAAOnxG,GACT/L,MAAMC,QAAQ8L,GACVA,EAAIywD,MAAM9X,GAAmB,iBAANA,IAChBjiB,GAAG06E,OAAOyB,QAAQz1G,IACrBw7E,EACA3zC,QAAQ+7B,IAAIhhE,EAAIgmB,KAAK2yB,GACG,iBAANA,EACR+5D,GAAQ/5D,GACR1T,QAAQnjB,QAAQ62B,MACtBz+B,MAAMy+B,GAAWw7D,GAAkBx7D,EAAQ6J,MAI5C9rB,GAAG06E,OAAOyB,QAAQd,UACrBn5B,EACAu7B,GAAkBn0G,EAAsBwiD,IAK7B,iBAARxiD,EACA02B,GAAG06E,OAAOyB,QAAQz1G,IAAIw7E,EAAM26B,GAAWxgD,KAAK/yD,EAAKwiD,IAGjD9rB,GAAG06E,OAAOyB,QAAQd,UACrBn5B,EACA26B,GAAW7C,UAAU1wG,EAAKwiD,GAI1C,CAEO,SAASqxD,KAA0D,IAApDj7B,EAAArrF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAI,EAAGyS,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAI,EAAGi1D,EAAAj1D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAK,EAAGorD,EAAAprD,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAK,EACvCmW,EAAiB,GACjB61E,GAF0ChsF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAI,GAErCqrF,EACTiS,GAHiDt9F,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAI,GAG5CyS,EACf,IAAK,IAAIw5C,EAAI,EAAGA,EAAIx5C,EAAGw5C,IACnB,IAAK,IAAIjB,EAAI,EAAGA,EAAIqgC,EAAGrgC,IACnB70C,EAAOzO,KACH,IAAIs4F,GACA/qC,EAAKjK,EAAIghC,EACT5gC,EAAKa,EAAIqxC,EACTtR,EACAsR,IAKhB,OAAOnnF,CACX,CAIO,SAASywG,GACZv7B,GAEU,IADV54E,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAqB,CAAC,EAEhBi1D,EAASllD,SAASC,cAAc,UAChCo7C,EAAQigC,EAAO,GAAGttE,MAClBi/C,EAASquB,EAAO,GAAGrtE,OACzBi3C,EAAOl3C,MAAQqtC,EAAQigC,EAAOprF,OAC9Bg1D,EAAOj3C,OAASg/C,EAChB,IAAM78D,EAAM80D,EAAOmuD,WAAW,MAC9B,IAAKjjH,EAAK,MAAM,IAAI6C,MAAM,mCAC1BqoF,EAAOr6D,SAAQ,CAACg7D,EAAKsR,KACbtR,aAAes3B,UACfnjH,EAAIojH,aAAav3B,EAAKsR,EAAIlyC,EAAO,GAGjCjrD,EAAIqjH,UAAUx3B,EAAKsR,EAAIlyC,EAAO,EAEtC,IACA,IAAMj1C,EAAShW,EAAI0mH,aAAa,EAAG,EAAGx7B,EAAOprF,OAASmrD,EAAO4R,GAC7D,OAAOgpD,GAAW7C,UAAUhtG,EAAQ,IAC7B1D,EACH8zG,OAAQl7B,EAAOprF,OACfumH,OAAQ,GAEhB,CAEO,SAASM,KACZ,OAAOH,GADc3mH,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAe,OD/Ed,q9BCiF1B,CCrQO,SAAS+mH,GACZ17B,EACA54E,EACAwiD,GAEAxiD,EAASmxG,GAAOnxG,GAChBwiD,EAAU2uD,GAAO3uD,GAEK,iBAAXxiD,IAAwBwiD,IAC/BA,EAAUs4C,GAAY96F,GAAU,SAGpC,IAAM24C,EAAiC,iBAAZ6J,EACrB4vD,GAAU5vD,GACVvd,QAAQnjB,QAAQ0gC,GAEtB,OAAO9rB,GAAG06E,OAAOyB,QAAQz1G,IACrBw7E,EACAjgC,EAAYz+B,MAAMqwC,IACd,IAAM78D,EAAO68D,EAAKkE,KAAK1oC,KACjBriB,EAAS6mD,EAAKkpD,OAAOztF,KAAK6kE,GACrB,IAAI0C,GACP1C,EAAEn4F,MAAM3C,EAAIrC,EAAK8/F,EACjB3C,EAAEn4F,MAAMwd,EAAIxiB,EAAK+/F,EACjB5C,EAAEn4F,MAAM86F,EAAI9/F,EAAK8/F,EACjB3C,EAAEn4F,MAAM+6F,EAAI//F,EAAK+/F,KAGnBlU,EAA6C,CAAC,EAEpD,IAAK,IAAMsR,KAAQtgC,EAAKkE,KAAK8lD,UACrB1pB,EAAK93B,OAAS83B,EAAKz/B,GACnBmuB,EAAMsR,EAAKp7F,MAAQo7F,EAAK93B,KAGxBwmB,EAAMsR,EAAKp7F,MAAQ,CACfsjE,KAAM83B,EAAK93B,KACX3H,GAAIy/B,EAAKz/B,GACTopD,MAAO,GACPC,MAAM,EACNC,SAA6B,aAAnB7pB,EAAK8pB,WAI3B,OAAOpB,GAAWxgD,KAAK/yD,EAAQ,CAC3ByzG,OAAQ/vG,EACRgwG,MAAOn6B,GAEf,IAER,CDsFgBhpB,GAAAyjD,GAAA,iBA6BAzjD,GAAA0jD,GAAA,aAKA1jD,GAAA2jD,GAAA,cAyCA3jD,GAAAsjD,GAAA,SAqBAtjD,GAAA4jD,GAAA,qBA2BA5jD,GAAA8jD,GAAA,YCnQA9jD,GAAA+jD,GAAA,gBCXT,IAAMM,GAAN,MAAe,cAAArkD,GAAA,oBAClBskD,SACAnkD,OAAA,KAAoBmnC,GAApB,GACAnO,QAA0B,KAC1B3jE,KAAe,GACfhnB,WAAAA,CAAYiB,GAAuC,IAAvBwiD,EAAAj1D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAmB,CAAC,EAI5C,GAHA2R,KAAK21G,SAAW70G,EAChBd,KAAKwxD,OAASlO,EAAIkO,QAAUmnC,GAC5B34F,KAAK6mB,KAAOy8B,EAAIz8B,MAAQ,GACpB7mB,KAAK6mB,KAAO,IACZ,MAAM,IAAIx1B,MAAM,sBAEhBiyD,EAAIknC,UACJxqF,KAAKwqF,QAAU,CACXp+E,MAAO,EACPsC,MAAO49E,GAAI,EAAG,EAAG,IAEM,iBAAhBhpC,EAAIknC,QACXxqF,KAAKwqF,QAAQp+E,MAAQk3C,EAAIknC,QAEG,iBAAhBlnC,EAAIknC,UACZlnC,EAAIknC,QAAQp+E,QACZpM,KAAKwqF,QAAQp+E,MAAQk3C,EAAIknC,QAAQp+E,OAEjCk3C,EAAIknC,QAAQ97E,QACZ1O,KAAKwqF,QAAQ97E,MAAQ40C,EAAIknC,QAAQ97E,QAIjD,GAGG,SAASknG,GACZl8B,GAUA,IAAKA,EACD,OAAOk8B,GAAYp+E,GAAGq+E,UAAUjsB,M5BvDhB,a4ByDpB,GAAmB,iBAARlQ,EAAkB,CACzB,IAAM54E,EAAQg1G,GAAcp8B,GACtBp2B,EAAOyyD,GAAQr8B,GACrB,GAAI54E,EACA,OAAOA,EAAMzL,MAAQyL,EAEpB,GAAIwiD,EACL,OAAOA,EAAKjuD,MAAQiuD,EAEnB,GACDllD,SAAS01G,MAAMvlE,MAAM,QAA4BmrC,KAEjD,OAAOA,EAEN,GAAIg6B,KAAiB,EACtB,OAAO,KAGP,MAAM,IAAIriH,MAAM,mBAAmBqoF,IAE3C,QACSA,aAAe04B,IACb14B,EAAIrkF,KAAOqkF,EAAIrkF,KAGnBqkF,CACX,CAEO,SAASq8B,GAAQr8B,GACpB,OAAOliD,GAAG06E,OAAO4B,MAAM/zG,IAAI25E,IAAS,IACxC,CAGO,SAASs8B,GACZt8B,EACA54E,GAEe,IADfwiD,EAAAj1D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAmB,CAAC,EAEdorD,EAAUw4D,GAAOnxG,GACjBuqD,EAAO,IAAI4qD,SACbv8B,EACe,iBAAR54E,EAAmB,OAAO24C,KAAaA,GAElD,OAAAr7C,SAAS01G,MAAM51G,IAAImtD,GAEZ7zB,GAAG06E,OAAO4B,MAAM51G,IACnBw7E,EACAruB,EAAK6qD,OAAOvjH,OAAOnE,IACf,MAAM,IAAI6C,MAAM,6BAA6BooD,OAAajrD,IAC9D,IAAGwsB,MAAMxsB,GAAS,IAAIknH,GAASlnH,EAAM80D,KAE7C,CAEO,SAAS6yD,GACZz8B,EACA54E,EACAwiD,EACA7J,GAEA,IAAM4R,EAAOquB,EAAIttE,MAAQtL,EACnBtS,EAA4B,CAAC,EAC7BgW,EAAUi1C,EAAMpmD,MAAM,IAAIyzE,UAEhC,IAAK,IAAOuT,EAAGsR,KAAOnnF,EAClBhW,EAAIm9F,GAAM,IAAI0C,GACThU,EAAIhvB,EAAQvqD,EACb1H,KAAKgxD,MAAMiwB,EAAIhvB,GAAQ/H,EACvBxiD,EACAwiD,GAIR,MAAO,CACHgxD,IAAK56B,EACL5yD,IAAKt4B,EACLq4B,KAAMy8B,EAEd,CC1HO,SAASwyD,GAAcp8B,GAC1B,OAAOliD,GAAG06E,OAAO6B,YAAYh0G,IAAI25E,IAAS,IAC9C,CAUO,SAAS08B,GACZ18B,EACA54E,EACAwiD,EACA7J,GAEqB,IADrB4R,EAAAh9D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAyB,CAAC,EAEpBG,EAAUyjH,GAAOnxG,GAEvB,OAAO02B,GAAG06E,OAAO6B,YAAY71G,IACzBw7E,EACA85B,GAAQhlH,GACHwsB,MAAMxW,GACI2xG,GACH5E,GAAQC,UAAUh6E,GAAGk4E,IAAIG,IAAKrrG,EAAK6mD,GACnC/H,EACA7J,EACA4R,EAAIigB,OAASktB,MAIjC,CCtCO,SAAS6d,GACZ38B,EACA54E,GAEA,OAAAA,EAAMmxG,GAAOnxG,GAEN02B,GAAG06E,OAAOyB,QAAQz1G,IACrBw7E,EACA,IAAI3zC,SAAQyB,UACR,IAAMiS,EAAsB,iBAAR34C,QACRoyG,GAAUpyG,GAChBA,EACAuqD,QAAetlB,QAAQ+7B,IAAIroB,EAAK86D,OAAOztF,IAAI0sF,KAC3ChlH,EAAS4P,SAASC,cAAc,UACtC7P,EAAO4d,MAAQqtC,EAAKrtC,MACpB5d,EAAO6d,OAASotC,EAAKptC,OAASotC,EAAK86D,OAAOjmH,OAE1C,IAAMkW,EAAMhW,EAAOijH,WAAW,MAC9B,IAAKjtG,EAAK,MAAM,IAAInT,MAAM,mCAE1Bg6D,EAAOhsC,SAAQ,CAACssE,EAAuBrxC,KACnC91C,EAAIqtG,UAAUlmB,EAAK,EAAGrxC,EAAIb,EAAKptC,OACnC,IAOAi3C,QALkB0xD,GAAW,KAAMxmH,EAAQ,CACvCqmH,OAAQp7D,EAAK86D,OAAOjmH,OACpBkmH,MAAO/6D,EAAK+6D,QAIpB,IAER,CFIgBnjD,GAAAukD,GAAA,eA0CAvkD,GAAA0kD,GAAA,WAKA1kD,GAAA2kD,GAAA,YAoBA3kD,GAAA8kD,GAAA,YClGA9kD,GAAAykD,GAAA,iBAYAzkD,GAAA+kD,GAAA,kBCjBA/kD,GAAAglD,GAAA,aCoCT,IAAMC,GAAN,MAAa,cAAAjlD,GAAA,kBAChBkJ,IACAg8C,UAEA12G,WAAAA,CAAYiB,EAAawiD,EAAc7J,EAAc4R,GACjDrrD,KAAKu6D,IAAMz5D,EACXA,EAAI01G,WAAU,IAAMx2G,KAAKgyG,SAEzB,IAAMxjH,EAAKsS,EAAIgvG,GACTtrG,EAAahW,EAAGioH,aAAajoH,EAAGkoH,eAChCr8B,EAAa7rF,EAAGioH,aAAajoH,EAAGmoH,iBAEtC,IAAKnyG,IAAe61E,EAChB,MAAM,IAAIhpF,MAAM,2BAKpB7C,EAAGooH,aAAapyG,EAAY8+C,GAC5B90D,EAAGooH,aAAav8B,EAAY5gC,GAC5BjrD,EAAGqoH,cAAcryG,GACjBhW,EAAGqoH,cAAcx8B,GAEjB,IAAMsR,EAAOn9F,EAAGsoH,gBAUhB,GATA92G,KAAKu2G,UAAY5qB,EAEjBn9F,EAAGuoH,aAAaprB,EAAOnnF,GACvBhW,EAAGuoH,aAAaprB,EAAOtR,GAEvBhvB,EAAQhsC,SAAQ,CAACi7B,EAAQjB,IAAM7qD,EAAGwoH,mBAAmBrrB,EAAOtyC,EAAGiB,KAE/D9rD,EAAGyoH,YAAYtrB,IAEVn9F,EAAG0oH,oBAAoBvrB,EAAOn9F,EAAG2oH,aAAc,CAChD,IAAM78D,EAAY9rD,EAAG4oH,iBAAiB5yG,GACtC,GAAI81C,EAAW,MAAM,IAAIjpD,MAAM,iBAAmBipD,GAClD,IAAMjB,EAAY7qD,EAAG4oH,iBAAiB/8B,GACtC,GAAIhhC,EAAW,MAAM,IAAIhoD,MAAM,mBAAqBgoD,EACxD,CAEA7qD,EAAG6oH,aAAa7yG,GAChBhW,EAAG6oH,aAAah9B,EACpB,CAEA1xD,IAAAA,GACI3oB,KAAKu6D,IAAI+8C,YAAYt3G,KAAKu2G,UAC9B,CAEAgB,MAAAA,GACIv3G,KAAKu6D,IAAIi9C,YACb,CAEAtnC,IAAAA,CAAKpvE,GACD,IAAMwiD,EAAKtjD,KAAKu6D,IAAIu1C,GACpB,IAAK,IAAMr2D,KAAQ34C,EAAS,CACxB,IAAMuqD,EAAMvqD,EAAQ24C,GACdjrD,EAAM80D,EAAGm0D,mBAAmBz3G,KAAKu2G,UAAW98D,GAClD,GAAmB,iBAAR4R,EACP/H,EAAGo0D,UAAUlpH,EAAK68D,QAAG,GAEhBA,aAAe4kC,GACpB3sC,EAAGq0D,iBAAiBnpH,GAAK,EAAO,IAAIopH,aAAavsD,EAAI/Q,SAAE,GAElD+Q,aAAeggC,GACpB/nC,EAAGu0D,UAAUrpH,EAAK68D,EAAI5R,EAAG4R,EAAIigC,EAAGjgC,EAAItmD,QAAC,GAEhCsmD,aAAeshC,GACpBrpC,EAAGw0D,UAAUtpH,EAAK68D,EAAIx6D,EAAGw6D,EAAIr6C,OAAC,KAEzBjc,MAAMC,QAAQq2D,GAcnB,MAAM,IAAIh6D,MAAM,iCAbFg6D,EAAI,GAEdmvC,GAAcnvC,GACd/H,EAAGy0D,WAAWvpH,EAAK68D,GAEdkvC,GAAYlvC,GACjB/H,EAAG00D,WAAWxpH,EAAK68D,EAAIvkC,KAAKuzD,GAAM,CAACA,EAAExpF,EAAGwpF,EAAErpE,KAAI4tD,QAEzC07B,GAAajvC,IAClB/H,EAAG20D,WAAWzpH,EAAK68D,EAAIvkC,KAAIuzD,GAAK,CAACA,EAAE5gC,EAAG4gC,EAAEiR,EAAGjR,EAAEt1E,KAAI65D,OAM7D,EACJ,CAEAozC,IAAAA,GACIhyG,KAAKu6D,IAAIu1C,GAAGoI,cAAcl4G,KAAKu2G,UACnC,GAGG,SAAS4B,GACZz+B,GAGM,IAFN54E,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAyB2qG,GACzB11C,EAAAj1D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAyB4qG,GAEnBx/C,EAAQM,GAActmD,QAAQ,WAAYqN,GAAWk4F,IACrD3tC,EAAQ0tC,GAActlG,QAAQ,WAAY6vD,GAAW21C,IAE3D,IACI,OAAO,IAAIqd,GACP58B,EACAjgC,EACA4R,EACAutC,GAAc9xE,KAAKt4B,GAASA,EAAK+B,OAEzC,CAAE,MAAO/B,GAEL,IAAM6rF,EAAM,yDACNsR,EAAQoQ,GAAgBvtG,GAAG8C,MAAM+oF,GACvC,IAAKsR,GAAOysB,OAAQ,MAAM5pH,EAC1B,IAAM8rD,EAAO42B,OAAOya,EAAMysB,OAAOC,MAAQ,GACnCh/D,EAAMsyC,EAAMysB,OAAOl8B,IAAI1qF,OACvBqoD,EAAK8xC,EAAMysB,OAAOhoH,KAAK2O,cAC7B,MAAM,IAAI1N,MAAM,GAAGwoD,iBAAkBS,MAASjB,IAClD,CACJ,CAEO,SAASi/D,GACZ5+B,GAEA,IAAKA,EACD,OAAOliD,GAAGk4E,IAAI6I,UAElB,GAAmB,iBAAR7+B,EAAkB,CACzB,IAAM54E,EAAS03G,GAAU9+B,GACzB,GAAI54E,EACA,OAAOA,EAAOzL,MAAQyL,EAErB,GAAI4yG,KAAiB,EACtB,OAAO,KAGP,MAAM,IAAIriH,MAAM,qBAAqBqoF,IAE7C,QACSA,aAAe04B,IACb14B,EAAIrkF,KAAOqkF,EAAIrkF,KAGnBqkF,CACX,CAEO,SAAS8+B,GAAU9+B,GACtB,OAAOliD,GAAG06E,OAAO2B,QAAQ9zG,IAAI25E,IAAS,IAC1C,CAEO,SAAS++B,GACZ/+B,EACA54E,EACAwiD,GAEA,OAAO9rB,GAAG06E,OAAO2B,QAAQhB,UACrBn5B,EACAy+B,GAAW3gF,GAAGk4E,IAAIG,IAAK/uG,EAAMwiD,GAErC,CAEO,SAASo1D,GACZh/B,EACA54E,EACAwiD,GAEAxiD,EAAOmxG,GAAOnxG,GACdwiD,EAAO2uD,GAAO3uD,GACd,IAAM7J,EAAa4X,IAAC7iE,GAChBA,EACM2kH,GAAU3kH,GACVu3C,QAAQnjB,QAAQ,OAHP,cAIbyoC,EAAOtlB,QAAQ+7B,IAAI,CAACroB,EAAW34C,GAAO24C,EAAW6J,KAClDtoC,MAAK4xC,IAAA,IAAEp+D,EAAOgW,GAAKooD,EAAA,OACTurD,GAAW3gF,GAAGk4E,IAAIG,IAAKrhH,EAAOgW,EACxC,IACL,OAAOgzB,GAAG06E,OAAO2B,QAAQ31G,IAAIw7E,EAAMruB,EACvC,CAnFgBgG,GAAA8mD,GAAA,cA2BA9mD,GAAAinD,GAAA,iBAyBAjnD,GAAAmnD,GAAA,aAIAnnD,GAAAonD,GAAA,cAWApnD,GAAAqnD,GAAA,iBC3MT,IAAMC,GAAN,MAAMj/B,EAAU,cAAAroB,GAAA,qBACnBouB,IAEA5/E,WAAAA,CAAYiB,GACRd,KAAKy/E,IAAM3+E,CACf,CAEA,sBAAO83G,CAAgB93G,GACnB,OAAO,IAAIilC,SAAQ,CAACud,EAAS7J,IACzBjiB,GAAGqhF,MAAMt+C,IAAIu+C,gBAAgBh4G,EAAKwiD,EAAS7J,KAC7Cz+B,MAAMsoC,GAAQ,IAAIo2B,EAAUp2B,IAClC,CAEA,cAAOoxD,CAAQ5zG,GACX,OAAI66F,GAAU76F,GACH44E,EAAUk/B,gBAAgB1d,GAAqBp6F,IAG/CsyG,GAAiBtyG,GAAKka,MAAMsoC,GAC/Bo2B,EAAUk/B,gBAAgBt1D,IAGtC,GAGG,SAASy1D,GACZr/B,GAEA,GAAmB,iBAARA,EAAkB,CACzB,IAAM54E,EAAMk4G,GAASt/B,GACrB,GAAI54E,EACA,OAAOA,EAEN,GAAI4yG,KAAiB,EACtB,OAAO,KAGP,MAAM,IAAIriH,MAAM,oBAAoBqoF,IAE5C,CACK,GAAIA,aAAei/B,GACpB,OAAOvG,GAAMC,OAAO34B,GAEnB,GAAIA,aAAe04B,GACpB,OAAO14B,EAGP,MAAM,IAAIroF,MAAM,kBAAkBqoF,IAE1C,CAEO,SAASs/B,GAASt/B,GACrB,OAAOliD,GAAG06E,OAAO0B,OAAO7zG,IAAI25E,IAAS,IACzC,CAGO,SAASu/B,GACZv/B,EACA54E,GAEA,OAAAA,EAAMmxG,GAAOnxG,GACN02B,GAAG06E,OAAO0B,OAAO11G,IACpBw7E,EACe,iBAAR54E,EACD63G,GAAUjE,QAAQ5zG,GAClB63G,GAAUC,gBAAgB93G,GAExC,CAEO,SAASo4G,GACZx/B,EACA54E,GAEA,IAAMwiD,EAAW2uD,GAAOnxG,GAExB,OADU,IAAIq4G,MAAM71D,GAClBld,QAAU,OAEL5O,GAAG06E,OAAOiC,MAAMz6B,GAAkBp2B,CAC7C,CC/CO,SAAS81D,GACZ1/B,EACA54E,GAGA,OADA44E,EAAMu4B,GAAOv4B,GAEFw6B,GADS,iBAATpzG,EAEH,IAAIilC,SAAQ,CAACud,EAAK7J,KACdy5D,GAAUpyG,GAAMka,MAAMqwC,IAClB+tD,GAAgB1/B,EAAKruB,GAAMrwC,KAAKsoC,GAAK3wD,MAAM8mD,EAC/C,GACJ,IAIJ46D,GAAWxgD,KAAK6lB,GAAK1+D,MAAMsoC,IACvB,IAAM7J,EAAkC,CAAC,EAEzC,IAAK,IAAM4R,KAAQvqD,EAAM,CACrB,IAAMtS,EAAOsS,EAAKuqD,GACZ7mD,EAAO8+C,EAAMixD,OAAO,GACpBl6B,EAAI,KAAqB71E,EAAK8pF,EAC9B3C,EAAI,KAAsBnnF,EAAK+pF,EAC/Bj0C,EAAS9rD,EAAK+lH,OACd/lH,EAAK+lH,OAAOztF,KAAK+yB,GACf,IAAIw0C,GACA7pF,EAAK3T,GAAKrC,EAAKqC,EAAIgpD,EAAEhpD,GAAKwpF,EAAI71E,EAAK8pF,EACnC9pF,EAAKwM,GAAKxiB,EAAKwiB,EAAI6oC,EAAE7oC,GAAK26E,EAAInnF,EAAK+pF,EACnC10C,EAAEy0C,EAAIjU,EAAI71E,EAAK8pF,EACfz0C,EAAE00C,EAAI5C,EAAInnF,EAAK+pF,KAGrBomB,GACEnmH,EAAKomH,QAAU,EACfpmH,EAAKqmH,QAAU,EACfrwG,EAAK3T,EAAIrC,EAAKqC,EAAIwpF,EAAI71E,EAAK8pF,EAC3B9pF,EAAKwM,EAAIxiB,EAAKwiB,EAAI26E,EAAInnF,EAAK+pF,EAC3B//F,EAAK4d,MAAQiuE,EAAI71E,EAAK8pF,EACtB9/F,EAAK6d,OAASs/E,EAAInnF,EAAK+pF,GAEzBl1C,EAAM,IAAIg7D,GAAW/wD,EAAMgxD,IAAKh6D,EAAQ9rD,EAAKgmH,OACnDh9E,GAAG06E,OAAOyB,QAAQd,UAAUxnD,EAAMhS,GAClCI,EAAI4R,GAAQhS,CAChB,CACA,OAAOI,CACX,IAER,CC7EO,SAAS4/D,GACZ3/B,EACA54E,GAKF,IAJEwiD,EAAAj1D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,IAAAA,UAAA,GAEAg9D,EAAAh9D,UAAAC,OAAA,EAAAD,UAAA,QAAA68D,EACA18D,EAAAH,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAmB,CAAC,EAEdmW,GAJNnW,UAAAC,OAAA,EAAAD,UAAA,QAAA68D,IAIyB1zB,GAAGk4E,IAAI4J,OAE1B3tB,EAAS2sB,GADMjtD,GAAa7zB,GAAGk4E,IAAI6I,WAGzC,IAAK5sB,GAAUA,aAAkBymB,GAC7B,OAGJ,IAAM93D,EAAa9iB,GAAGk4E,IAAI6J,OAASj2D,EAC7B9rB,GAAGk4E,IAAIjjC,UACPj1C,GAAGgiF,KAAKC,IAAIhtC,UAAUuf,KAAKx0D,GAAGk4E,IAAIjjC,WAElCpzB,EAAe,GAErB,IAAK,IAAMQ,KAAK6/B,EAAO,CAEnB,IAAM99E,EAAKyzG,GAAW/0D,EAAU4zC,SAASr0C,EAAEgwC,MAE3CxwC,EAAGtjD,KACC6F,EAAG/K,EACH+K,EAAGoV,EACH6oC,EAAE6/D,GAAG7oH,EACLgpD,EAAE6/D,GAAG1oG,EACL6oC,EAAEnrC,MAAM+qC,EAAI,IACZI,EAAEnrC,MAAM48E,EAAI,IACZzxC,EAAEnrC,MAAM3J,EAAI,IACZ80C,EAAE8/D,QAEV,CAEAniF,GAAGk4E,IAAIe,SAAS16G,KACZyhC,GAAGk4E,IAAIG,IAAIC,GAAG8J,UACdvgE,EACAv4C,EACA6qF,EACAnnF,EACAhW,EAER,CCtCO,SAASqrH,GAAYngC,GACxB,IAAKA,EAAI0Z,IACL,MAAM,IAAI/hG,MAAM,0CAGpB,IAAMyP,EAAO44E,EAAI0Z,IAAI9kG,OAErB,KAAIwS,EAAO,GAUX,IANAovG,KACAD,GAAcv2B,EAAImQ,KAClBwmB,GAAU32B,EAAI2Q,OACdimB,GAAW52B,EAAIkU,OACfqiB,GAAcv2B,EAAIhoE,SAED,IAAbgoE,EAAI6Q,KAAgB,CACpB,IAaIl/B,EAbE/H,EAAQo2B,EAAIhrE,OAAS28E,GAAMyuB,MAE3BrgE,EAAQigC,EAAI0Z,IAAItsE,KAAI,CAACt4B,EAAIgW,KAAA,CAC3BqlF,IAAK,IAAI8C,GAAKn+F,EAAGqC,EAAGrC,EAAGwiB,GACvB0oG,GAAIhgC,EAAIggC,GACFhgC,EAAIggC,GAAGl1G,GACP,IAAImoF,GAAK,EAAG,GAClBj+E,MAAOgrE,EAAIqgC,QACJrgC,EAAIqgC,OAAOv1G,GAAKk1E,EAAIqgC,OAAOv1G,GAAGwnF,KAAK1oC,GACpCA,EACNq2D,QAASjgC,EAAIigC,SAAW,MAQxBtuD,EAHAquB,EAAIsgC,YACc1hB,GAAY5e,EAAI0Z,KAEdtsE,KAAItiB,GAAKA,EAAEsiB,KAAIuzD,GAAKX,EAAI0Z,IAAI3hG,QAAQ4oF,OACnDzb,OAGK,IAAI7pE,MAAM+L,EAAO,GAAGuQ,QACzByV,KAAKt4B,GAAM,CAAC,EAAGA,EAAI,EAAGA,EAAI,KAC1BowE,OAGTy6C,GACI5/D,EACAigC,EAAIugC,SAAW5uD,EACfquB,EAAI6/B,MACJ7/B,EAAIggC,GAAKhgC,EAAI46B,IAAM98E,GAAGk4E,IAAI4J,OAC1B5/B,EAAIwgC,OACJxgC,EAAIygC,cAAW,EAEvB,CAEIzgC,EAAI8Q,SACJ4vB,GAAU,CACNhnB,IAAK,IAAI1Z,EAAI0Z,IAAK1Z,EAAI0Z,IAAI,IAC1BV,OAAQhZ,EAAIgZ,OACZtmF,MAAOstE,EAAI8Q,QAAQp+E,MACnBsC,MAAOgrE,EAAI8Q,QAAQ97E,MACnB6N,KAAMm9D,EAAI8Q,QAAQjuE,KAClB49F,QAASzgC,EAAIygC,QACbZ,MAAO7/B,EAAI6/B,MACXI,QAASjgC,EAAIigC,SAAWjgC,EAAI8Q,QAAQmvB,UAI5CpJ,IAAa,CACjB,CC7EO,SAAS8J,GAAY3gC,GACxB,QAAoB,IAAhBA,EAAI+Z,cAAyC,IAAhB/Z,EAAIga,QACjC,MAAM,IAAIriG,MACN,8DAIR,GAAoB,IAAhBqoF,EAAI+Z,SAAiC,IAAhB/Z,EAAIga,QACzB,OAGJ,IAAM5yF,EAAQ44E,EAAIl0E,OAAS,EACrB89C,EAAMo2B,EAAIj0E,KAAO,IACjBg0C,EAASqxD,GAASpxB,EAAIqQ,QAAU,UAAUM,MAC5C,IAAIsC,IAAMjT,EAAI+Z,SAAU/Z,EAAIga,UAG1BroC,EAAMmkD,GACR/1D,EACAigC,EAAI+Z,QACJ/Z,EAAIga,QACJ5yF,EACAwiD,EACAo2B,EAAI4gC,YAIRjvD,EAAIlU,QAAQsC,GAEZ,IAAMjrD,EAAU2C,OAAOD,OAAO,CAAC,EAAGwoF,EAAK,CACnC0Z,IAAA/nC,EACAqnC,OAAQ,KACJhZ,EAAI6gC,SACF,CACER,OAAQ,CACJrgC,EAAI6gC,SAAS,MACVxlH,MAAMs2D,EAAI/8D,OAAS,GAAGi8F,KAAK7Q,EAAI6gC,SAAS,MAGjD,CAAC,IAIX,GAAIj3D,EAAMxiD,GAAS,KAAO44E,EAAI8Q,QAU1B,OATiB,IAAb9Q,EAAI6Q,MACJsvB,GAAY1oH,OAAOD,OAAO,CAAC,EAAG1C,EAAS,CACnCg8F,QAAS,aAGjBqvB,GAAY1oH,OAAOD,OAAO,CAAC,EAAG1C,EAAS,CACnC4kG,IAAK/nC,EAAIlvD,MAAM,GACfouF,MAAM,KAKdsvB,GAAYrrH,EAChB,CCtBO,SAASgsH,GAAW9gC,GACvB,GAA0B,iBAAfA,EAAIgZ,OACX,MAAM,IAAIrhG,MAAM,4CAGD,IAAfqoF,EAAIgZ,QAIR2nB,GAAYlpH,OAAOD,OAAO,CAAC,EAAGwoF,EAAK,CAC/B+Z,QAAS/Z,EAAIgZ,OACbgB,QAASha,EAAIgZ,OACb9E,MAAO,IAEf,CC9BO,SAAS6sB,GAAS/gC,GACrB,IAAQwY,GAAApxF,EAAIqxF,GAAA7uC,GAAOo2B,EAEnB,IAAK54E,IAAOwiD,EACR,MAAM,IAAIjyD,MACN,iDAIR,IAAMooD,EAAIigC,EAAIttE,OAAS,EAGjBi/C,EAAM/H,EAAG2pC,IAAInsF,GAAIysF,OAAOC,SAASnD,MAAU,GAAJ5wC,GAe7C4/D,GAZc,CACVv4G,EAAGmsF,IAAI5hC,GACPvqD,EAAG5C,IAAImtD,GACP/H,EAAGplD,IAAImtD,GACP/H,EAAG2pC,IAAI5hC,IACTvkC,KAAKtiB,IAAA,CACHqlF,IAAK,IAAI8C,GAAKnoF,EAAE3T,EAAG2T,EAAEwM,GACrB0oG,GAAI,IAAI/sB,GAAK,GACbj+E,MAAOgrE,EAAIhrE,OAAS28E,GAAMyuB,MAC1BH,QAASjgC,EAAIigC,SAAW,MAKxB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAChBjgC,EAAI6/B,MACJ/hF,GAAGk4E,IAAI4J,OACP5/B,EAAIwgC,OACJxgC,EAAIygC,cAAW,EAEvB,CA2CO,SAASO,GAAgBhhC,GAC5B,IAMIl1E,EANE1D,EAAM44E,EAAI0Z,IACV9vC,EAAW,GACX7J,EAA+B,IAAlBigC,EAAIttE,OAAS,GAC1Bi/C,EAASvqD,EAAI,KAAOA,EAAIA,EAAIxS,OAAS,IACpCwS,EAAI,GAAGsrF,GAAGtrF,EAAIA,EAAIxS,OAAS,IAC5BE,EAASkrF,EAAImQ,KAAO/2B,GAAK,EAAG,GAI9BtuD,EADA6mD,EACUvqD,EAAI,GAAGmsF,IAAInsF,EAAIA,EAAIxS,OAAS,IAG5BwS,EAAI,GAAGmsF,IAAInsF,EAAI,IAG7B,IAGIw5C,EAHA+/B,EAAS71E,EAAQ2nE,MACjBwf,EAASnnF,EAAQgpF,SAASnD,OAAO5wC,EAAY4gC,GAG7ChhC,EAAMv4C,EAAI,GAEd,IAAKuqD,EACD,OAAQquB,EAAIihC,KACR,IAAK,SAAU,CACX,IAAMrhE,EAAM90C,EAAQ6lF,OAAO5wC,EAAY4gC,GACvC/2B,EAASvtD,KAAKsjD,EAAIn7C,IAAIo7C,GAAKp7C,IAAIytF,IAC/BroC,EAASvtD,KAAKsjD,EAAIn7C,IAAIo7C,GAAK2zC,IAAItB,IAC/B,KACJ,CACA,IAAK,QAAS,CACV,IAAMryC,EAAIlgD,KAAK+rD,IAAI1L,EAAW,IACxBm3C,EAAQx3F,KAAKqzF,GAAKnzC,EACpBgyC,EAASK,EAAOtB,OAAO,GACrBr5E,EAAK5X,KAAK2zF,IAAI6D,GACdC,EAAKz3F,KAAK4zF,IAAI4D,GACpB,IAAK,IAAIlkD,EAAI,EAAGA,EAAI4M,EAAG5M,IACnB4W,EAASvtD,KAAKsjD,GACdiK,EAASvtD,KAAKsjD,EAAI4zC,IAAI3B,IACtBA,EAASx4B,GACLw4B,EAAOz6F,EAAImgB,EAAKs6E,EAAOt6E,EAAI6/E,EAC3BvF,EAAOz6F,EAAIggG,EAAKvF,EAAOt6E,EAAIA,EAGvC,EAIR,IAAK,IAAIsoC,EAAI,EAAGA,EAAIx4C,EAAIxS,OAAQgrD,IAAK,CACjC,GAAID,IAAQv4C,EAAIw4C,IAAMD,EAAI+yC,GAAGtrF,EAAIw4C,IAAK,SACtCgB,EAAMjB,EACNA,EAAMv4C,EAAIw4C,GAEV,IAAMs3C,EAAcv3C,EAAI4zC,IAAI3yC,GACtBgxC,EAAasF,EAAYzkB,MACzBn7D,EAAa4/E,EAAYpD,SAASnD,OACnC5wC,EAAY6xC,GAGXuF,EAAMrsF,EAAQmpF,MAAMiD,GAE1B,GAAIx3F,KAAK61F,IAAI4B,IAAQxW,EAASiR,GAAc,IAAM,CAE9ChoC,EAASvtD,KAAKukD,EAAIp8C,IAAIytF,IACtBroC,EAASvtD,KAAKukD,EAAI2yC,IAAItB,IAElBnnF,EAAQ8oF,IAAIsD,GAAe,IAC3BttC,EAASvtD,KAAKukD,EAAI2yC,IAAItB,IACtBroC,EAASvtD,KAAKukD,EAAIp8C,IAAIytF,KAG1BnnF,EAAUosF,EACVvW,EAASiR,EACTK,EAAS36E,EACT,QACJ,CAEA,IAAM07B,EAAU17B,EAAWi8E,IAAItB,GAASgC,MAAMiD,GAAeC,EACvDl3C,EAAIgyC,EAAOztF,IAAIsG,EAAQ6lF,MAAM39C,IAE/BmkD,EAAM,GACNvtC,EAASvtD,KAAKukD,EAAIp8C,IAAIy7C,IACtB2J,EAASvtD,KAAKukD,EAAI2yC,IAAItB,IACtBroC,EAASvtD,KAAKukD,EAAIp8C,IAAIy7C,IACtB2J,EAASvtD,KAAKukD,EAAI2yC,IAAIj8E,MAGtBsyC,EAASvtD,KAAKukD,EAAIp8C,IAAIytF,IACtBroC,EAASvtD,KAAKukD,EAAI2yC,IAAItzC,IACtB2J,EAASvtD,KAAKukD,EAAIp8C,IAAI8S,IACtBsyC,EAASvtD,KAAKukD,EAAI2yC,IAAItzC,KAG1Bn1C,EAAUosF,EACVvW,EAASiR,EACTK,EAAS36E,CACb,CAEA,IAAKq6C,EAGD,OAFA/H,EAASvtD,KAAKsjD,EAAIn7C,IAAIytF,IACtBroC,EAASvtD,KAAKsjD,EAAI4zC,IAAItB,IACdjS,EAAIihC,KACR,IAAK,SAAU,CACX,IAAMrhE,EAAM90C,EAAQ6lF,MAAM5wC,EAAY4gC,GACtC/2B,EAASvtD,KAAKsjD,EAAIn7C,IAAIo7C,GAAKp7C,IAAIytF,IAC/BroC,EAASvtD,KAAKsjD,EAAIn7C,IAAIo7C,GAAK2zC,IAAItB,IAC/B,KACJ,CACA,IAAK,QAAS,CACV,IAAMryC,EAAIlgD,KAAK+rD,IAAI1L,EAAW,IACxBm3C,EAAQx3F,KAAKqzF,GAAKnzC,EACpBgyC,EAASK,EAAOtB,MAAM,GACpBr5E,EAAK5X,KAAK2zF,IAAI6D,GACdC,EAAKz3F,KAAK4zF,IAAI4D,GACpB,IAAK,IAAIlkD,EAAI,EAAGA,EAAI4M,EAAG5M,IACnB4+C,EAASx4B,GACLw4B,EAAOz6F,EAAImgB,EAAKs6E,EAAOt6E,EAAI6/E,EAC3BvF,EAAOz6F,EAAIggG,EAAKvF,EAAOt6E,EAAIA,GAE/BsyC,EAASvtD,KAAKsjD,GACdiK,EAASvtD,KAAKsjD,EAAI4zC,IAAI3B,GAE9B,EAIR,GAAIhoC,EAASh1D,OAAS,EAAG,OAEzB,IAAMurD,EAAQyJ,EAASx8B,KAAIwyB,IAAA,CACvBuwC,IAAKr7F,EAAO0P,IAAIo7C,GAChBogE,GAAI5mD,KACJpkD,MAAOgrE,EAAIhrE,OAAS28E,GAAMyuB,MAC1BH,QAASjgC,EAAIigC,SAAW,MAGtB/9G,EAAU,GACZmJ,EAAQ,EACZ,IAAK,IAAIu0C,EAAI,EAAGA,EAAIgK,EAASh1D,OAAS,EAAGgrD,GAAK,EAC1C19C,EAAQmJ,KAAWu0C,EAAI,EACvB19C,EAAQmJ,KAAWu0C,EACnB19C,EAAQmJ,KAAWu0C,EAAI,EACvB19C,EAAQmJ,KAAWu0C,EAAI,EACvB19C,EAAQmJ,KAAWu0C,EAAI,EACvB19C,EAAQmJ,KAAWu0C,EAAI,EAGvB+R,IACAzvD,EAAQmJ,KAAWu+C,EAASh1D,OAAS,EACrCsN,EAAQmJ,KAAWu+C,EAASh1D,OAAS,EACrCsN,EAAQmJ,KAAW,EACnBnJ,EAAQmJ,KAAW,EACnBnJ,EAAQmJ,KAAW,EACnBnJ,EAAQmJ,KAAWu+C,EAASh1D,OAAS,GAGzC+qH,GACIx/D,EACAj+C,EACA89E,EAAI6/B,MACJ/hF,GAAGk4E,IAAI4J,OACP5/B,EAAIwgC,OACJxgC,EAAIygC,cAAW,EAEvB,CAEO,SAASS,GAAgBlhC,GAC5B,IAMIl1E,EANE1D,EAAM44E,EAAI0Z,IACV9vC,EAAW,GACX7J,EAA+B,IAAlBigC,EAAIttE,OAAS,GAC1Bi/C,EAASvqD,EAAI,KAAOA,EAAIA,EAAIxS,OAAS,IACpCwS,EAAI,GAAGsrF,GAAGtrF,EAAIA,EAAIxS,OAAS,IAC5BE,EAASkrF,EAAImQ,KAAO/2B,GAAK,EAAG,GAI9BtuD,EADA6mD,EACUvqD,EAAI,GAAGmsF,IAAInsF,EAAIA,EAAIxS,OAAS,IAG5BwS,EAAI,GAAGmsF,IAAInsF,EAAI,IAG7B,IAGIw5C,EAHA+/B,EAAS71E,EAAQ2nE,MACjBwf,EAASnnF,EAAQgpF,SAASnD,OAAO5wC,EAAY4gC,GAG7ChhC,EAAMv4C,EAAI,GAEd,IAAKuqD,EACD,OAAQquB,EAAIihC,KACR,IAAK,SAAU,CACX,IAAMrhE,EAAM90C,EAAQ6lF,OAAO5wC,EAAY4gC,GACvC/2B,EAASvtD,KAAKsjD,EAAIn7C,IAAIo7C,GAAKp7C,IAAIytF,IAC/BroC,EAASvtD,KAAKsjD,EAAIn7C,IAAIo7C,GAAK2zC,IAAItB,IAC/B,KACJ,CACA,IAAK,QAAS,CACV,IAAMryC,EAAIlgD,KAAK+rD,IAAI1L,EAAW,IACxBm3C,EAAQx3F,KAAKqzF,GAAKnzC,EACpBgyC,EAASK,EAAOtB,OAAO,GACrBr5E,EAAK5X,KAAK2zF,IAAI6D,GACdC,EAAKz3F,KAAK4zF,IAAI4D,GACpB,IAAK,IAAIlkD,EAAI,EAAGA,EAAI4M,EAAG5M,IACnB4W,EAASvtD,KAAKsjD,GACdiK,EAASvtD,KAAKsjD,EAAI4zC,IAAI3B,IACtBA,EAASx4B,GACLw4B,EAAOz6F,EAAImgB,EAAKs6E,EAAOt6E,EAAI6/E,EAC3BvF,EAAOz6F,EAAIggG,EAAKvF,EAAOt6E,EAAIA,EAGvC,EAIR,IAAK,IAAIsoC,EAAI,EAAGA,EAAIx4C,EAAIxS,OAAQgrD,IAAK,CACjC,GAAID,IAAQv4C,EAAIw4C,IAAMD,EAAI+yC,GAAGtrF,EAAIw4C,IAAK,SACtCgB,EAAMjB,EACNA,EAAMv4C,EAAIw4C,GAEV,IAAMs3C,EAAcv3C,EAAI4zC,IAAI3yC,GACtBgxC,EAAasF,EAAYzkB,MACzBn7D,EAAa4/E,EAAYpD,SAASnD,OACnC5wC,EAAY6xC,GAGXuF,EAAMrsF,EAAQmpF,MAAMiD,GAE1B,GAAIx3F,KAAK61F,IAAI4B,IAAQxW,EAASiR,GAAc,IAAM,CAE9ChoC,EAASvtD,KAAKukD,EAAIp8C,IAAIytF,IACtBroC,EAASvtD,KAAKukD,EAAI2yC,IAAItB,IAElBnnF,EAAQ8oF,IAAIsD,GAAe,IAC3BttC,EAASvtD,KAAKukD,EAAI2yC,IAAItB,IACtBroC,EAASvtD,KAAKukD,EAAIp8C,IAAIytF,KAG1BnnF,EAAUosF,EACVvW,EAASiR,EACTK,EAAS36E,EACT,QACJ,CAEA,IAAM07B,EAAU17B,EAAWi8E,IAAItB,GAASgC,MAAMiD,GAAeC,EACvDl3C,EAAIgyC,EAAOztF,IAAIsG,EAAQ6lF,MAAM39C,IAEnC,GAAImkD,EAAM,EAAG,CACT,IAAMC,EAAax2C,EAAIp8C,IAAIy7C,GACrB9oD,EAAIuI,KAAK+rD,IAAI1L,EAAW,IACxB60C,EAAQ9B,GAAQb,EAAOmC,aAAa98E,GAAcngB,GACpD4xB,EAASkpE,EACP/wC,EAAKxhD,KAAK2zF,IAAIuB,GACd0F,EAAK56F,KAAK4zF,IAAIsB,GACpB,IAAK,IAAI2F,EAAI,EAAGA,EAAIpjG,EAAGojG,IACnB3wC,EAASvtD,KAAK+6F,GACdxtC,EAASvtD,KAAKukD,EAAI2yC,IAAIxqE,IACtBA,EAASqwC,GACLrwC,EAAO5xB,EAAI+pD,EAAKn4B,EAAOzR,EAAIgjF,EAC3BvxE,EAAO5xB,EAAImjG,EAAKvxE,EAAOzR,EAAI4pC,EAGvC,KACK,CACD,IAAMk2C,EAAax2C,EAAI2yC,IAAItzC,GACrB9oD,EAAIuI,KAAK+rD,IAAI1L,EAAW,IACxB60C,EAAQ9B,GAAQb,EAAOmC,aAAa98E,GAAcngB,GACpD4xB,EAASkpE,EACP/wC,EAAKxhD,KAAK2zF,IAAIuB,GACd0F,EAAK56F,KAAK4zF,IAAIsB,GACpB,IAAK,IAAI2F,EAAI,EAAGA,EAAIpjG,EAAGojG,IACnB3wC,EAASvtD,KAAKukD,EAAIp8C,IAAIukB,IACtB6gC,EAASvtD,KAAK+6F,GACdruE,EAASqwC,GACLrwC,EAAO5xB,EAAI+pD,EAAKn4B,EAAOzR,EAAIgjF,EAC3BvxE,EAAO5xB,EAAImjG,EAAKvxE,EAAOzR,EAAI4pC,EAGvC,CAEAp2C,EAAUosF,EACVvW,EAASiR,EACTK,EAAS36E,CACb,CAEA,IAAKq6C,EAGD,OAFA/H,EAASvtD,KAAKsjD,EAAIn7C,IAAIytF,IACtBroC,EAASvtD,KAAKsjD,EAAI4zC,IAAItB,IACdjS,EAAIihC,KACR,IAAK,SAAU,CACX,IAAMrhE,EAAM90C,EAAQ6lF,MAAM5wC,EAAY4gC,GACtC/2B,EAASvtD,KAAKsjD,EAAIn7C,IAAIo7C,GAAKp7C,IAAIytF,IAC/BroC,EAASvtD,KAAKsjD,EAAIn7C,IAAIo7C,GAAK2zC,IAAItB,IAC/B,KACJ,CACA,IAAK,QAAS,CACV,IAAMryC,EAAIlgD,KAAK+rD,IAAI1L,EAAW,IACxBm3C,EAAQx3F,KAAKqzF,GAAKnzC,EACpBgyC,EAASK,EAAOtB,MAAM,GACpBr5E,EAAK5X,KAAK2zF,IAAI6D,GACdC,EAAKz3F,KAAK4zF,IAAI4D,GACpB,IAAK,IAAIlkD,EAAI,EAAGA,EAAI4M,EAAG5M,IACnB4+C,EAASx4B,GACLw4B,EAAOz6F,EAAImgB,EAAKs6E,EAAOt6E,EAAI6/E,EAC3BvF,EAAOz6F,EAAIggG,EAAKvF,EAAOt6E,EAAIA,GAE/BsyC,EAASvtD,KAAKsjD,GACdiK,EAASvtD,KAAKsjD,EAAI4zC,IAAI3B,GAE9B,EAIR,GAAIhoC,EAASh1D,OAAS,EAAG,OAEzB,IAAMurD,EAAQyJ,EAASx8B,KAAIwyB,IAAA,CACvBuwC,IAAKr7F,EAAO0P,IAAIo7C,GAChBogE,GAAI5mD,KACJpkD,MAAOgrE,EAAIhrE,OAAS28E,GAAMyuB,MAC1BH,QAASjgC,EAAIigC,SAAW,MAGtB/9G,EAAU,GACZmJ,EAAQ,EACZ,IAAK,IAAIu0C,EAAI,EAAGA,EAAIgK,EAASh1D,OAAS,EAAGgrD,GAAK,EAC1C19C,EAAQmJ,KAAWu0C,EAAI,EACvB19C,EAAQmJ,KAAWu0C,EACnB19C,EAAQmJ,KAAWu0C,EAAI,EACvB19C,EAAQmJ,KAAWu0C,EAAI,EACvB19C,EAAQmJ,KAAWu0C,EAAI,EACvB19C,EAAQmJ,KAAWu0C,EAAI,EAGvB+R,IACAzvD,EAAQmJ,KAAWu+C,EAASh1D,OAAS,EACrCsN,EAAQmJ,KAAWu+C,EAASh1D,OAAS,EACrCsN,EAAQmJ,KAAW,EACnBnJ,EAAQmJ,KAAW,EACnBnJ,EAAQmJ,KAAW,EACnBnJ,EAAQmJ,KAAWu+C,EAASh1D,OAAS,GAGzC+qH,GACIx/D,EACAj+C,EACA89E,EAAI6/B,MACJ/hF,GAAGk4E,IAAI4J,OACP5/B,EAAIwgC,OACJxgC,EAAIygC,cAAW,EAEvB,CAEO,SAASU,GAAgBnhC,GAC5B,IAMIl1E,EANE1D,EAAM44E,EAAI0Z,IACV9vC,EAAW,GACX7J,EAA+B,IAAlBigC,EAAIttE,OAAS,GAC1Bi/C,EAASvqD,EAAI,KAAOA,EAAIA,EAAIxS,OAAS,IACpCwS,EAAI,GAAGsrF,GAAGtrF,EAAIA,EAAIxS,OAAS,IAC5BE,EAASkrF,EAAImQ,KAAO/2B,GAAK,EAAG,GAI9BtuD,EADA6mD,EACUvqD,EAAI,GAAGmsF,IAAInsF,EAAIA,EAAIxS,OAAS,IAG5BwS,EAAI,GAAGmsF,IAAInsF,EAAI,IAG7B,IAGIw5C,EAHA+/B,EAAS71E,EAAQ2nE,MACjBwf,EAASnnF,EAAQgpF,SAASnD,OAAO5wC,EAAY4gC,GAG7ChhC,EAAMv4C,EAAI,GAEd,IAAKuqD,EACD,OAAQquB,EAAIihC,KACR,IAAK,SAAU,CACX,IAAMrhE,EAAM90C,EAAQ6lF,OAAO5wC,EAAY4gC,GACvC/2B,EAASvtD,KAAKsjD,EAAIn7C,IAAIo7C,GAAKp7C,IAAIytF,IAC/BroC,EAASvtD,KAAKsjD,EAAIn7C,IAAIo7C,GAAK2zC,IAAItB,IAC/B,KACJ,CACA,IAAK,QAAS,CACV,IAAMryC,EAAIlgD,KAAK+rD,IAAI1L,EAAW,IACxBm3C,EAAQx3F,KAAKqzF,GAAKnzC,EACpBgyC,EAASK,EAAOtB,OAAO,GACrBr5E,EAAK5X,KAAK2zF,IAAI6D,GACdC,EAAKz3F,KAAK4zF,IAAI4D,GACpB,IAAK,IAAIlkD,EAAI,EAAGA,EAAI4M,EAAG5M,IACnB4W,EAASvtD,KAAKsjD,GACdiK,EAASvtD,KAAKsjD,EAAI4zC,IAAI3B,IACtBA,EAASx4B,GACLw4B,EAAOz6F,EAAImgB,EAAKs6E,EAAOt6E,EAAI6/E,EAC3BvF,EAAOz6F,EAAIggG,EAAKvF,EAAOt6E,EAAIA,EAGvC,EAIR,IAAK,IAAIsoC,EAAI,EAAGA,EAAIx4C,EAAIxS,OAAQgrD,IAAK,CACjC,GAAID,IAAQv4C,EAAIw4C,IAAMD,EAAI+yC,GAAGtrF,EAAIw4C,IAAK,SACtCgB,EAAMjB,EACNA,EAAMv4C,EAAIw4C,GAEV,IAAMs3C,EAAcv3C,EAAI4zC,IAAI3yC,GACtBgxC,EAAasF,EAAYzkB,MACzBn7D,EAAa4/E,EAAYpD,SAASnD,OACnC5wC,EAAY6xC,GAGXuF,EAAMrsF,EAAQmpF,MAAMiD,GAE1B,GAAIx3F,KAAK61F,IAAI4B,IAAQxW,EAASiR,GAAc,IAAM,CAE9ChoC,EAASvtD,KAAKukD,EAAIp8C,IAAIytF,IACtBroC,EAASvtD,KAAKukD,EAAI2yC,IAAItB,IAElBnnF,EAAQ8oF,IAAIsD,GAAe,IAC3BttC,EAASvtD,KAAKukD,EAAI2yC,IAAItB,IACtBroC,EAASvtD,KAAKukD,EAAIp8C,IAAIytF,KAG1BnnF,EAAUosF,EACVvW,EAASiR,EACTK,EAAS36E,EACT,QACJ,CAEA,IAAM07B,EAAU17B,EAAWi8E,IAAItB,GAASgC,MAAMiD,GAAeC,EACvDl3C,EAAIgyC,EAAOztF,IAAIsG,EAAQ6lF,MAAM39C,IAEnC4W,EAASvtD,KAAKukD,EAAIp8C,IAAIy7C,IACtB2J,EAASvtD,KAAKukD,EAAI2yC,IAAItzC,IAEtBn1C,EAAUosF,EACVvW,EAASiR,EACTK,EAAS36E,CACb,CAEA,IAAKq6C,EAGD,OAFA/H,EAASvtD,KAAKsjD,EAAIn7C,IAAIytF,IACtBroC,EAASvtD,KAAKsjD,EAAI4zC,IAAItB,IACdjS,EAAIihC,KACR,IAAK,SAAU,CACX,IAAMrhE,EAAM90C,EAAQ6lF,MAAM5wC,EAAY4gC,GACtC/2B,EAASvtD,KAAKsjD,EAAIn7C,IAAIo7C,GAAKp7C,IAAIytF,IAC/BroC,EAASvtD,KAAKsjD,EAAIn7C,IAAIo7C,GAAK2zC,IAAItB,IAC/B,KACJ,CACA,IAAK,QAAS,CACV,IAAMryC,EAAIlgD,KAAK+rD,IAAI1L,EAAW,IACxBm3C,EAAQx3F,KAAKqzF,GAAKnzC,EACpBgyC,EAASK,EAAOtB,MAAM,GACpBr5E,EAAK5X,KAAK2zF,IAAI6D,GACdC,EAAKz3F,KAAK4zF,IAAI4D,GACpB,IAAK,IAAIlkD,EAAI,EAAGA,EAAI4M,EAAG5M,IACnB4+C,EAASx4B,GACLw4B,EAAOz6F,EAAImgB,EAAKs6E,EAAOt6E,EAAI6/E,EAC3BvF,EAAOz6F,EAAIggG,EAAKvF,EAAOt6E,EAAIA,GAE/BsyC,EAASvtD,KAAKsjD,GACdiK,EAASvtD,KAAKsjD,EAAI4zC,IAAI3B,GAE9B,EAIR,GAAIhoC,EAASh1D,OAAS,EAAG,OAEzB,IAAMurD,EAAQyJ,EAASx8B,KAAIwyB,IAAA,CACvBuwC,IAAKr7F,EAAO0P,IAAIo7C,GAChBogE,GAAI5mD,KACJpkD,MAAOgrE,EAAIhrE,OAAS28E,GAAMyuB,MAC1BH,QAASjgC,EAAIigC,SAAW,MAGtB/9G,EAAU,GACZmJ,EAAQ,EACZ,IAAK,IAAIu0C,EAAI,EAAGA,EAAIgK,EAASh1D,OAAS,EAAGgrD,GAAK,EAC1C19C,EAAQmJ,KAAWu0C,EAAI,EACvB19C,EAAQmJ,KAAWu0C,EACnB19C,EAAQmJ,KAAWu0C,EAAI,EACvB19C,EAAQmJ,KAAWu0C,EAAI,EACvB19C,EAAQmJ,KAAWu0C,EAAI,EACvB19C,EAAQmJ,KAAWu0C,EAAI,EAGvB+R,IACAzvD,EAAQmJ,KAAWu+C,EAASh1D,OAAS,EACrCsN,EAAQmJ,KAAWu+C,EAASh1D,OAAS,EACrCsN,EAAQmJ,KAAW,EACnBnJ,EAAQmJ,KAAW,EACnBnJ,EAAQmJ,KAAW,EACnBnJ,EAAQmJ,KAAWu+C,EAASh1D,OAAS,GAGzC+qH,GACIx/D,EACAj+C,EACA89E,EAAI6/B,MACJ/hF,GAAGk4E,IAAI4J,OACP5/B,EAAIwgC,OACJxgC,EAAIygC,cAAW,EAEvB,CAEO,SAASC,GAAU1gC,GACtB,IAAM54E,EAAM44E,EAAI0Z,IACV9vC,EAAQo2B,EAAIttE,OAAS,EAE3B,IAAKtL,EACD,MAAM,IAAIzP,MAAM,wCAGpB,KAAIyP,EAAIxS,OAAS,GAIjB,IAAIwS,EAAIxS,OAAS,EACb,OAAQorF,EAAIn9D,MACR,IAAK,QACD,OAAOm+F,GAAgBhhC,GAC3B,IAAK,QACD,OAAOkhC,GAAgBlhC,GAC3B,IAAK,QACD,OAAOmhC,GAAgBnhC,GAInC,GAAIA,EAAIgZ,QAAU5xF,EAAIxS,QAAU,EAAG,CAG/BmsH,GAAStpH,OAAOD,OAAO,CAAC,EAAGwoF,EAAK,CAAEwY,GAAIpxF,EAAI,GAAIqxF,GAAIrxF,EAAI,MAEtD,IAAK,IAAI24C,EAAI,EAAGA,EAAI34C,EAAIxS,OAAS,EAAGmrD,IAAK,CACrC,IAAM4R,EAAKvqD,EAAI24C,GACTjrD,EAAKsS,EAAI24C,EAAI,GACnBghE,GAAStpH,OAAOD,OAAO,CAAC,EAAGwoF,EAAK,CAC5BwY,GAAI7mC,EACJ8mC,GAAI3jG,IAEZ,CAEAisH,GAAStpH,OAAOD,OAAO,CAAC,EAAGwoF,EAAK,CAC5BwY,GAAIpxF,EAAIA,EAAIxS,OAAS,GACrB6jG,GAAIrxF,EAAIA,EAAIxS,OAAS,KAE7B,MAEI,IAAK,IAAImrD,EAAI,EAAGA,EAAI34C,EAAIxS,OAAS,EAAGmrD,IAChCghE,GAAStpH,OAAOD,OAAO,CAAC,EAAGwoF,EAAK,CAC5BwY,GAAIpxF,EAAI24C,GACR04C,GAAIrxF,EAAI24C,EAAI,MAGC,SAAbigC,EAAIn9D,MACJi+F,GAAWrpH,OAAOD,OAAO,CAAC,EAAGwoF,EAAK,CAC9BmQ,IAAK/oF,EAAI24C,GACTi5C,OAAQpvC,EAAQ,IAClB,CAIlB,CC1oBO,SAASw3D,GAAUphC,EAA4B54E,GAClD,IAAMwiD,EAAWxiD,EAAI0vD,UAAY,GAC3B/W,EAAY,GAElB,IAAK,IAAI4R,EAAI,EAAGA,GAAK/H,EAAU+H,IAC3B5R,EAAE1jD,KAAK2jF,EAAMruB,EAAI/H,IAGrB82D,GAAU,CACNhnB,IAAK35C,EACLrtC,MAAOtL,EAAIsL,OAAS,EACpBy9E,IAAK/oF,EAAI+oF,IACTn7E,MAAO5N,EAAI4N,MACXirG,QAAS74G,EAAI64G,SAErB,CCRO,SAASoB,GAAWrhC,GACvBohC,IACIh6G,GAAK01F,GAAe9c,EAAIshC,IAAKthC,EAAIuhC,IAAKvhC,EAAIwhC,IAAKxhC,EAAIyhC,IAAKr6G,IACxD44E,EAER,CRGgBroB,GAAA0nD,GAAA,gBA0BA1nD,GAAA2nD,GAAA,YAKA3nD,GAAA4nD,GAAA,aAaA5nD,GAAA6nD,GAAA,aCtCA7nD,GAAA+nD,GAAA,mBC9BA/nD,GAAAgoD,GAAA,WCQAhoD,GAAAwoD,GAAA,eCRAxoD,GAAAgpD,GAAA,eCmCAhpD,GAAAmpD,GAAA,cChBAnpD,GAAAopD,GAAA,YA8EAppD,GAAAqpD,GAAA,mBAqKArpD,GAAAupD,GAAA,mBAyLAvpD,GAAAwpD,GAAA,mBA2JAxpD,GAAA+oD,GAAA,aCjlBA/oD,GAAAypD,GAAA,aCOAzpD,GAAA0pD,GAAA,cChBT,IAAMxJ,GAAN,MAAM73B,EAAQ,cAAAroB,GAAA,mBACjBkJ,IACAjgC,IAA0B,KAC1B8gF,MACAhvG,MACAC,OAEAxM,WAAAA,CAAYiB,EAAawiD,EAAW7J,GAAiC,IAAtB4R,EAAAh9D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAkB,CAAC,EAC9D2R,KAAKu6D,IAAMz5D,EACX,IAAMtS,EAAKsS,EAAIgvG,GACTtrG,EAAS1D,EAAIgvG,GAAGuL,gBAEtB,IAAK72G,EACD,MAAM,IAAInT,MAAM,4BAGpB2O,KAAKo7G,MAAQ52G,EACb1D,EAAI01G,WAAU,IAAMx2G,KAAKgyG,SAEzBhyG,KAAKoM,MAAQk3C,EACbtjD,KAAKqM,OAASotC,EAEd,IAAM4gC,EAAS,CACXkP,OAAU/6F,EAAG8sH,OACbC,QAAW/sH,EAAGgtH,SAChBnwD,EAAImG,QAAU1wD,EAAImnE,KAAKwzC,WAAa,WAEhC9vB,EAAO,CACT5/E,OAAUvd,EAAGktH,OACbC,YAAentH,EAAGotH,eACpBvwD,EAAIwwD,MAAQ,eAEd77G,KAAK2oB,OAED26B,GAAK7J,GACLjrD,EAAGstH,WACCttH,EAAGutH,WACH,EACAvtH,EAAGwtH,KACH14D,EACA7J,EACA,EACAjrD,EAAGwtH,KACHxtH,EAAGytH,cACH,MAIRztH,EAAG0tH,cAAc1tH,EAAGutH,WAAYvtH,EAAG2tH,mBAAoB9hC,GACvD7rF,EAAG0tH,cAAc1tH,EAAGutH,WAAYvtH,EAAG4tH,mBAAoB/hC,GACvD7rF,EAAG0tH,cAAc1tH,EAAGutH,WAAYvtH,EAAG6tH,eAAgB1wB,GACnDn9F,EAAG0tH,cAAc1tH,EAAGutH,WAAYvtH,EAAG8tH,eAAgB3wB,GACnDn9F,EAAG+tH,YAAY/tH,EAAGguH,gCAAgC,GAClDx8G,KAAKu3G,QACT,CAEA,gBAAO/F,CACH1wG,EACAwiD,GAEO,IADP7J,EAAAprD,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAkB,CAAC,EAEbg9D,EAAM,IAAIquB,EAAQ54E,EAAKwiD,EAAIl3C,MAAOk3C,EAAIj3C,OAAQotC,GACpD,OAAA4R,EAAI10C,OAAO2sC,GACX+H,EAAI/wB,IAAMgpB,EACH+H,CACX,CAEA10C,MAAAA,CAAO7V,GAAgC,IAAdwiD,EAAAj1D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAI,EAAGorD,EAAAprD,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAI,EAC1Bg9D,EAAKrrD,KAAKu6D,IAAIu1C,GACpB9vG,KAAK2oB,OACL0iC,EAAGoxD,cACCpxD,EAAG0wD,WACH,EACAz4D,EACA7J,EACA4R,EAAG2wD,KACH3wD,EAAG4wD,cACHn7G,GAEJd,KAAKu3G,QACT,CAEA5uF,IAAAA,GACI3oB,KAAKu6D,IAAImiD,cAAc18G,KAAKo7G,MAChC,CAEA7D,MAAAA,GACIv3G,KAAKu6D,IAAIoiD,cACb,CAGA3K,IAAAA,GACIhyG,KAAKu6D,IAAIu1C,GAAG8M,cAAc58G,KAAKo7G,MACnC,GAMSyB,GAAN,MAAkB,cAAAxrD,GAAA,uBACrBkJ,IACA+5C,IACAwI,cACAC,eAEAl9G,WAAAA,CAAYiB,EAAawiD,EAAW7J,GAAiC,IAAtB4R,EAAAh9D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAkB,CAAC,EAC9D2R,KAAKu6D,IAAMz5D,EACX,IAAMtS,EAAKsS,EAAIgvG,GACfhvG,EAAI01G,WAAU,IAAMx2G,KAAKgyG,SACzBhyG,KAAKs0G,IAAM,IAAI/C,GAAQzwG,EAAKwiD,EAAG7J,EAAG4R,GAElC,IAAM7mD,EAAchW,EAAGwuH,oBACjB3iC,EAAe7rF,EAAGyuH,qBAExB,IAAKz4G,IAAgB61E,EACjB,MAAM,IAAIhpF,MAAM,gCAGpB2O,KAAK88G,cAAgBt4G,EACrBxE,KAAK+8G,eAAiB1iC,EAEtBr6E,KAAK2oB,OACLn6B,EAAG0uH,oBAAoB1uH,EAAG2uH,aAAc3uH,EAAG4uH,cAAe95D,EAAG7J,GAC7DjrD,EAAG6uH,qBACC7uH,EAAG8uH,YACH9uH,EAAG+uH,kBACH/uH,EAAGutH,WACH/7G,KAAKs0G,IAAI8G,MACT,GAEJ5sH,EAAGgvH,wBACChvH,EAAG8uH,YACH9uH,EAAGivH,yBACHjvH,EAAG2uH,aACHn9G,KAAK+8G,gBAET/8G,KAAKu3G,QACT,CAEA,SAAInrG,GACA,OAAOpM,KAAKs0G,IAAIloG,KACpB,CAEA,UAAIC,GACA,OAAOrM,KAAKs0G,IAAIjoG,MACpB,CAEAqxG,WAAAA,GACI,IAAM58G,EAAKd,KAAKu6D,IAAIu1C,GACdxsD,EAAO,IAAIq6D,kBAAkB39G,KAAKoM,MAAQpM,KAAKqM,OAAS,GAC9DrM,KAAK2oB,OACL7nB,EAAG88G,WACC,EACA,EACA59G,KAAKoM,MACLpM,KAAKqM,OACLvL,EAAGk7G,KACHl7G,EAAGm7G,cACH34D,GAEJtjD,KAAKu3G,SAEL,IAAM99D,EAA2B,EAAbz5C,KAAKoM,MACnBi/C,EAAO,IAAI6f,WAAWzxB,GAC5B,IAAK,IAAIjrD,EAAI,EAAGA,GAAKwR,KAAKqM,OAAS,EAAI,GAAI7d,IAAK,CAC5C,IAAMgW,EAAYhW,EAAIirD,EAChB4gC,GAAgBr6E,KAAKqM,OAAS7d,EAAI,GAAKirD,EAC7C4R,EAAKh5D,IAAIixD,EAAKu6D,SAASr5G,EAAWA,EAAYi1C,IAC9C6J,EAAKw6D,WACDt5G,EACA61E,EACAA,EAAe5gC,GAEnB6J,EAAKjxD,IAAIg5D,EAAMgvB,EACnB,CACA,OAAO,IAAIs3B,UAAUruD,EAAMtjD,KAAKoM,MAAOpM,KAAKqM,OAChD,CAEAs0F,SAAAA,GACI,IAAM7/F,EAAS1C,SAASC,cAAc,UAChCilD,EAAMxiD,EAAO2wG,WAAW,MAI9B,GAHA3wG,EAAOsL,MAAQpM,KAAKoM,MACpBtL,EAAOuL,OAASrM,KAAKqM,QAEhBi3C,EAAK,MAAM,IAAIjyD,MAAM,4BAE1B,OAAAiyD,EAAIsuD,aAAa5xG,KAAK09G,cAAe,EAAG,GACjC58G,EAAO6/F,WAClB,CAEA1G,KAAAA,GACI,IAAMn5F,EAAKd,KAAKu6D,IAAIu1C,GACpBhvG,EAAGm5F,MAAMn5F,EAAGi9G,iBAChB,CAEAC,IAAAA,CAAKl9G,GACDd,KAAK2oB,OACL7nB,IACAd,KAAKu3G,QACT,CAEA5uF,IAAAA,GACI3oB,KAAKu6D,IAAI0jD,gBAAgBj+G,KAAK88G,eAC9B98G,KAAKu6D,IAAI2jD,iBAAiBl+G,KAAK+8G,gBAC/B/8G,KAAKu6D,IAAI4jD,aAAa,CAAEttH,EAAG,EAAGmgB,EAAG,EAAGs9E,EAAGtuF,KAAKoM,MAAOmiF,EAAGvuF,KAAKqM,QAC/D,CAEAkrG,MAAAA,GACIv3G,KAAKu6D,IAAI6jD,iBACTp+G,KAAKu6D,IAAI8jD,kBACTr+G,KAAKu6D,IAAI+jD,aACb,CAEAtM,IAAAA,GACI,IAAMlxG,EAAKd,KAAKu6D,IAAIu1C,GACpBhvG,EAAGy9G,kBAAkBv+G,KAAK88G,eAC1Bh8G,EAAG09G,mBAAmBx+G,KAAK+8G,gBAC3B/8G,KAAKs0G,IAAItC,MACb,GAQSyM,GAAN,MAAoB,cAAAptD,GAAA,yBACvBkJ,IAEAmkD,OACAC,OACAC,OAAmB,GACnBC,OAAmB,GACnBC,OACAC,YACAC,WAEAC,aACAC,SAAmB,EAEnBC,aAA8B,KAC9BC,OAAyB,KACzBC,UAA2B,KAC3BC,WAAsB,CAAC,EAEvBz/G,WAAAA,CACIiB,EACAwiD,EACA7J,EACA4R,GAEA,IAAM78D,EAAKsS,EAAIgvG,GAEf9vG,KAAKi/G,aAAe37D,EACpBtjD,KAAKu6D,IAAMz5D,EACXd,KAAK8+G,OAASx7D,EAAOmO,QAAO,CAAC4oB,EAAKsR,IAAMtR,EAAMsR,EAAE9kE,MAAM,GACtD7mB,KAAK++G,YAActlE,EACnBz5C,KAAKg/G,WAAa3zD,EAElB,IAAM7mD,EAAShW,EAAGy8G,eAElB,IAAKzmG,EACD,MAAM,IAAInT,MAAM,kCAGpB2O,KAAK0+G,OAASl6G,EAEd1D,EAAIy+G,gBAAgBv/G,KAAK0+G,QACzBlwH,EAAGgxH,WAAWhxH,EAAGixH,aAA4B,EAAdhmE,EAAiBjrD,EAAGkxH,cACnD5+G,EAAI6+G,iBAEJ3/G,KAAK2+G,OAASnwH,EAAGy8G,eACjBnqG,EAAI8+G,uBAAuB5/G,KAAK2+G,QAChCnwH,EAAGgxH,WAAWhxH,EAAGqxH,qBAAmC,EAAbx0D,EAAgB78D,EAAGkxH,cAC1D5+G,EAAIg/G,uBACR,CAEA/pH,IAAAA,CACI+K,EACAwiD,EACA7J,EACA4R,GAGF,IAFE78D,EAAAH,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAsB,KACtBmW,EAAAnW,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAmB,CAAC,GAGhByS,IAAcd,KAAKm/G,cAChB3wH,IAAQwR,KAAKo/G,QACb/zD,IAAWrrD,KAAKq/G,YACfxjB,GAAO77F,KAAKs/G,WAAY96G,IACzBxE,KAAK4+G,OAAOtwH,OAASg1D,EAAMh1D,OAAS0R,KAAK8+G,OACtC9+G,KAAK++G,aACR/+G,KAAK6+G,OAAOvwH,OAASmrD,EAAQnrD,OAAS0R,KAAKg/G,aAE9Ch/G,KAAKo7E,QAET,IAAMf,EAAcr6E,KAAK4+G,OAAOtwH,OAAS0R,KAAK8+G,OAC9C,IAAK,IAAMnzB,KAAKroC,EACZtjD,KAAK4+G,OAAO7oH,KAAK41F,GAErB,IAAK,IAAMA,KAAKlyC,EACZz5C,KAAK6+G,OAAO9oH,KAAK41F,EAAItR,GAEzBr6E,KAAKm/G,aAAer+G,EACpBd,KAAKq/G,UAAYh0D,EACjBrrD,KAAKo/G,OAAS5wH,EACdwR,KAAKs/G,WAAa96G,CACtB,CAEA42E,KAAAA,GACI,IACKp7E,KAAKm/G,eACFn/G,KAAKq/G,WACiB,IAAvBr/G,KAAK4+G,OAAOtwH,QACW,IAAvB0R,KAAK6+G,OAAOvwH,OAEf,OAGJ,IAAMwS,EAAKd,KAAKu6D,IAAIu1C,GAEpB9vG,KAAKu6D,IAAIglD,gBAAgBv/G,KAAK0+G,QAC9B59G,EAAGi/G,cAAcj/G,EAAG2+G,aAAc,EAAG,IAAI7H,aAAa53G,KAAK4+G,SAC3D5+G,KAAKu6D,IAAIqlD,uBAAuB5/G,KAAK2+G,QACrC79G,EAAGi/G,cACCj/G,EAAG++G,qBACH,EACA,IAAIG,YAAYhgH,KAAK6+G,SAEzB7+G,KAAKu6D,IAAI0lD,gBAAgBjgH,KAAKi/G,cAC9Bj/G,KAAKq/G,UAAU12F,OACf3oB,KAAKq/G,UAAUnvC,KAAKlwE,KAAKs/G,YACzBt/G,KAAKo/G,QAAQz2F,OACb7nB,EAAGo/G,aACClgH,KAAKm/G,aACLn/G,KAAK6+G,OAAOvwH,OACZwS,EAAGq/G,eACH,GAEJngH,KAAKo/G,QAAQ7H,SACbv3G,KAAKq/G,UAAU9H,SAEfv3G,KAAKu6D,IAAIolD,iBACT3/G,KAAKu6D,IAAIulD,wBAET9/G,KAAK4+G,OAAS,GACd5+G,KAAK6+G,OAAS,GACd7+G,KAAKk/G,UACT,CAEAlN,IAAAA,GACI,IAAMlxG,EAAKd,KAAKu6D,IAAIu1C,GACpBhvG,EAAGs/G,aAAapgH,KAAK0+G,QACrB59G,EAAGs/G,aAAapgH,KAAK2+G,OACzB,GA+DJ,SAAS0B,GAAY3mC,GACjB,IAAM54E,EAAa,GAEbwiD,EAAO+N,IAAC7iE,IACVsS,EAAM/K,KAAKvH,GACXkrF,EAAQlrF,EACZ,GAHa,QAIPirD,EAAM4X,IAAC,KACTvwD,EAAMjL,MACN6jF,EAAQruB,KAAS,KACrB,GAHY,OAINA,EAAMgG,IAAC,IAAKvwD,EAAMA,EAAMxS,OAAS,IAA3B,OACZ,MAAO,CAACg1D,EAAM7J,EAAK4R,EACvB,CAEO,SAASi1D,GAAQ5mC,GAEhB,IAF2C54E,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAE/C,CAAC,EACKi1D,EAAwB,GAE9B,SAAS7J,EAAUq3C,GACfxtC,EAAGvtD,KAAK+6F,EACZ,CAEA,SAASzlC,IACL/H,EAAGjkC,SAASxuB,GAAWA,MACvB,IAAMigG,EAAYpX,EAAG6mC,aAAa,sBAC9BzvB,GAAWA,EAAU0vB,aAC7B,CARSnvD,GAAA5X,EAAA,aAIA4X,GAAAhG,EAAA,WAMT,IAAI78D,EAAiC,KAErC,SAASgW,EAAgBssF,GACrB,GAAI+K,GAAO/K,EAAKtiG,GAAkB,OAClCA,EAAkBsiG,EAClB,IAAMjgG,EAASigG,EAAIr/B,QAAO,CAAC68B,EAAK7rE,IAAM6rE,EAAM7rE,EAAEoE,MAAM,GACpDiqE,EAAIr/B,QAAO,CAAC68B,EAAQ7rE,EAAGm4B,KACnB8+B,EAAG+mC,oBACC7lE,EACAn4B,EAAEoE,KACF6yD,EAAGgnC,OACH,EACS,EAAT7vH,EACAy9F,GAEJ5U,EAAGinC,wBAAwB/lE,GACpB0zC,EAAkB,EAAT7rE,EAAEoE,OACnB,EACP,CAhBSwqC,GAAA7sD,EAAA,mBAkBT,IAAO61E,EAAesR,GAAgB00B,IAAwBvvB,GAC1DpX,EAAGknC,YAAYlnC,EAAGqiC,WAAYjrB,MAG3Bx2C,EAAiBjB,GAAkBgnE,IAAuBvvB,GAC7DpX,EAAGmnC,WAAWnnC,EAAG+lC,aAAc3uB,MAG5Bj3C,EAAwBj+C,GAAyBykH,IAErDvvB,GAAMpX,EAAGmnC,WAAWnnC,EAAGmmC,qBAAsB/uB,MAEzC/rF,EAAiBu0C,GAAkB+mE,IAA4BvvB,GAClEpX,EAAGonC,gBAAgBpnC,EAAG4jC,YAAaxsB,MAGhCF,EAAkBtF,GAAmB+0B,IACxCvvB,GACCpX,EAAGqnC,iBAAiBrnC,EAAGyjC,aAAcrsB,MAEnC9/E,EAAc6/E,GAAewvB,IAEjCvvB,IACC,IAAKA,EAAO,OACZ,IAAM,EAAEjgG,EAAGmgB,EAAAs9E,EAAGA,EAAA7rE,EAAG8rE,EAAA3zC,GAAMk2C,EAEvBpX,EAAGi3B,SAAS9/G,EAAGy9F,EAAG7rE,EAAGm4B,EACzB,KAEOlO,EAAaiN,GAAc0mE,IAAwBvvB,GACtDpX,EAAGsnC,WAAWlwB,KAGlB,OAAA9/E,EAAa,CACTngB,EAAG,EACHmgB,EAAG,EACHs9E,EAAG5U,EAAGunC,mBACN1yB,EAAG7U,EAAGwnC,sBAGH,CACHpR,GAAAp2B,EACAzR,KAAAnnE,EACA01G,UAAA/8D,EACA3wB,QAAAuiC,EACAqxD,cAAAriC,EACAsiC,aAAAhxB,EACA4zB,gBAAAjlE,EACAqlE,eAAAtmE,EACAumE,uBAAA/lE,EACAimE,sBAAAlkH,EACAqiH,gBAAAl5G,EACAq5G,eAAA9kE,EACA4kE,iBAAAttB,EACAytB,gBAAA/yB,EACA6yB,aAAAntG,EACAstG,YAAAztB,EACAymB,YAAA5qE,EACA8qE,WAAA79D,EACAsmE,gBAAAz7G,EAER,CA/GS6sD,GAAAgvD,GAAA,YAeOhvD,GAAAivD,GAAA,WCxZhB,IAAMa,GAAyC,CAAC,EAEhD,SAASC,GAAmB1nC,EAAsB54E,GAC1CA,EAAGugH,SACHlwH,OAAOD,OAAOwoF,EAAO54E,IAGrBA,EAAG+oF,MAAKnQ,EAAMmQ,IAAMnQ,EAAMmQ,IAAI3rF,IAAI4C,EAAG+oF,MACrC/oF,EAAGupF,QAAO3Q,EAAM2Q,MAAQ3Q,EAAM2Q,MAAMA,MAAMv3B,GAAKhyD,EAAGupF,SAClDvpF,EAAG8sF,QAAOlU,EAAMkU,OAAS9sF,EAAG8sF,OAC5B9sF,EAAG4N,OAA6B,IAApBgrE,EAAMz4E,GAAG3S,SACrBorF,EAAMhrE,MAAQgrE,EAAMhrE,MAAMs9E,KAAKlrF,EAAG4N,QAGpB,MAAd5N,EAAG64G,UAAiBjgC,EAAMigC,SAAW74G,EAAG64G,SAChD,CAEO,SAAS2H,GAAkB5nC,GAI9B,IAAM54E,EAAe,CAAC,EAClBwiD,EAAa,GACb7J,EAAuB,GAEvB4R,EAAOz/C,OAAO8tE,GAEZlrF,EAAO6iE,IAAC7sD,IACNi1C,EAAWnrD,OAAS,IACpBwS,EAAawiD,EAAWh1D,QAAUmrD,EAAWt9C,SAEjDmnD,GAAc9+C,CAClB,GALa,QAOb,KAAgB,KAAT6mD,GACH,GAAgB,OAAZA,EAAK,GAQT,GAAgB,MAAZA,EAAK,GA6BT78D,EAAK68D,EAAK,IACVA,EAAOA,EAAKlvD,MAAM,OA9BlB,CACI,IAAMqI,EAAa,mBAAmB4zE,KAAK/sB,GAC3C,IAAK7mD,EAAY,CAEbhW,EAAK68D,EAAK,IACVA,EAAOA,EAAKlvD,MAAM,GAClB,QACJ,CACA,IAAOk+E,EAAGsR,EAAGrxC,GAAM91C,EACnB,QAAU,IAANmnF,EAAiB,CACjB,IAAMtyC,EAAII,EAAW5jD,MACrB,GAAIwjD,IAAMiB,EACN,WAAU,IAANjB,EACM,IAAIhoD,MACN,kDACoBgoD,aAAaiB,MAI/B,IAAIjpD,MACN,sCAAsCipD,KAItD,MACKb,EAAW1jD,KAAKukD,GACrB+Q,EAAOA,EAAKlvD,MAAMk+E,EAAE/rF,OAExB,KApCA,CACI,GAAoB,IAAhB+8D,EAAK/8D,OACL,MAAM,IAAI+C,MAAM,0CAEpB7C,EAAK68D,EAAK,IACVA,EAAOA,EAAKlvD,MAAM,EAEtB,CAkCJ,GAAIs9C,EAAWnrD,OAAS,EACpB,MAAM,IAAI+C,MACN,oCAAoCooD,KAI5C,MAAO,CACH8nE,aAAAzgH,EACA0B,KAAM8gD,EAEd,CAEO,SAASk+D,GAAW9nC,GACvB,QAAiB,IAAbA,EAAIl3E,KACJ,MAAM,IAAInR,MAAM,0CAGpB,IAAIyP,EAAO80G,GAAYl8B,EAAIkQ,MAG3B,IAAKlQ,EAAIl3E,MAAqB,KAAbk3E,EAAIl3E,MAAe1B,aAAgBsxG,KAAUtxG,EAC1D,MAAO,CACHsL,MAAO,EACPC,OAAQ,EACRi/D,MAAO,GACPm2C,IAAK/nC,EACLgoC,aAAc,IAItB,IAAQH,aAAAj+D,EAAc9gD,KAAAi3C,GAAS6nE,GAAkB5nC,EAAIl3E,KAAO,IACtD6oD,EAAQ8wC,GAAM1iD,GAGpB,GAAI34C,aAAgB40G,IAA4B,iBAAT50G,EAAmB,CACtD,IAAM4rC,EAAW5rC,aAAgB40G,GAC3B50G,EAAK60G,SAASgM,OACd7gH,EACA64C,EAGF74C,aAAgB40G,GACd,CACElrB,QAAS1pF,EAAK0pF,QACdh5B,OAAQ1wD,EAAK0wD,QAEf,CACEg5B,QAAS,KACTh5B,OAAQmnC,IAIV7H,EAAmBqwB,GAAYz0E,IAAa,CAC9Ck9C,KAAM,CACF0qB,IAAK,IAAI/C,GACL/5E,GAAGk4E,IAAIG,IACP,KACA,KACA,CACIr+C,OAAQ7X,EAAK6X,SAGrB1qC,IAAK,CAAC,EACND,KAAM,IAEV/wB,OAAQ,IAAI62F,GAAK,GACjBi1B,UAAW,EACXp3B,QAAS7wC,EAAK6wC,SAGb22B,GAAYz0E,KACby0E,GAAYz0E,GAAYokD,GAG5BhwF,EAAOgwF,EAAMlH,KAEb,IAAK,IAAM/4F,KAAMw6D,EACb,IAAKylC,EAAMlH,KAAK9iE,IAAIj2B,GAAK,CAErB,IAAMy9F,EAAM92D,GAAGqqF,aACf,IAAKvzB,EAAK,MAAM,IAAIj9F,MAAM,gCAE1B,IAAKmmC,GAAGsqF,gBACJ,MAAM,IAAIzwH,MAAM,mCAGpBi9F,EAAIojB,UACA,EACA,EACAl6E,GAAGsqF,gBAAgB11G,MACnBorB,GAAGsqF,gBAAgBz1G,QAGvBiiF,EAAI1E,KAAO,GAAG9oF,EAAK+lB,UAAU6lB,IAC7B4hD,EAAIyzB,aAAe,MACnBzzB,EAAI0zB,UAAY,OAChB1zB,EAAI2zB,UAAY,UAChB,IAAMx/F,EAAI6rE,EAAI4zB,YAAYrxH,GACtB+pD,EAAIxhD,KAAK2iF,KAAKt5D,EAAErW,OACpB,IAAKwuC,EAAG,SACR,IAAIo5C,EAAI56F,KAAK2iF,KAAK3iF,KAAK61F,IAAIxsE,EAAE0/F,0BACvB/oH,KAAK2iF,KAAK3iF,KAAK61F,IAAIxsE,EAAE2/F,2BAIvBtxB,EAAMtG,SAAWsG,EAAMtG,QAAQp+E,OAC5B0kF,EAAMtG,QAAQ97E,QAEjB4/E,EAAI+zB,SAAW,QACf/zB,EAAIg0B,UAAkC,EAAtBxxB,EAAMtG,QAAQp+E,MAC9BkiF,EAAIi0B,YAAczxB,EAAMtG,QAAQ97E,MAAM29E,QACtCiC,EAAIk0B,WACA3xH,EACAigG,EAAMtG,QAAQp+E,MACd0kF,EAAMtG,QAAQp+E,OAGlBwuC,GAA2B,EAAtBk2C,EAAMtG,QAAQp+E,MACnB4nF,GAA2B,EAAtBlD,EAAMtG,QAAQp+E,OAGvBkiF,EAAIm0B,SACA5xH,EACAigG,EAAMtG,SAASp+E,OAAS,EACxB0kF,EAAMtG,SAASp+E,OAAS,GAG5B,IAAM6nF,EAAM3F,EAAI4mB,aACZ,EACA,EACAt6D,EACAo5C,GAIJ,GAAIlD,EAAMh7F,OAAOjF,EAAI+pD,EAAI,OACrBk2C,EAAMh7F,OAAOjF,EAAI,EACjBigG,EAAMh7F,OAAOkb,GAAK8/E,EAAM8wB,UACxB9wB,EAAM8wB,UAAY,EACd9wB,EAAMh7F,OAAOkb,EAAI,MAEjB,MAAM,IAAI3f,MACN,sCAKZyP,EAAKwzG,IAAI39F,OAAOs9E,EAAKnD,EAAMh7F,OAAOjF,EAAGigG,EAAMh7F,OAAOkb,GAElDlQ,EAAKgmB,IAAIj2B,GAAM,IAAIw9F,GACfyC,EAAMh7F,OAAOjF,EACbigG,EAAMh7F,OAAOkb,EACb4pC,EACAo5C,GAGJlD,EAAMh7F,OAAOjF,GAAK+pD,EAAI,EACtBk2C,EAAM8wB,UAAYxoH,KAAK+rD,IAAI2rC,EAAM8wB,UAAW5tB,EAChD,CAER,CAEA,IAeIhjF,EAfExiB,EAAOkrF,EAAI7yD,MAAQ/lB,EAAK+lB,KACxBriB,EAAQsuD,GAAK4mB,EAAI2Q,OAAS,GAAGA,MAAM77F,EAAOsS,EAAK+lB,MAC/CwzD,EAAcX,EAAIgpC,aAAe,EACjC/2B,EAAgBjS,EAAIipC,eAAiB,EACvCroE,EAAe,EACfjB,EAAK,EACLQ,EAAK,EACHj+C,EAGD,GACDmJ,EAA2B,GAC3Bu0C,EAAS,EACTs3C,EAA2B,KAC3BtF,EAAyB,EAI7B,KAAOhyC,EAAS+R,EAAM/8D,QAAQ,CAC1B,IAAIo+C,EAAK2e,EAAM/R,GAGf,GAAW,OAAP5M,EACAmN,GAAMrrD,EAAO6rF,EAEbz+E,EAAM7F,KAAK,CACPqW,MAAOkuC,EAAOqxC,EACdrgB,MAAOvmE,IAGX6rF,EAAY,KACZtF,EAAiB,EACjBhxC,EAAO,EACPv1C,EAAU,GACViM,OAAc,MAEb,CACD,IAAI2oC,EAAI74C,EAAKgmB,IAAI4lB,GAGjB,GAAIiN,EAAG,CACH,IAAIm3C,EAAKn3C,EAAE20C,EAAI9pF,EAAM3T,EAEjB6oF,EAAIttE,OAASkuC,EAAOw2C,EAAKpX,EAAIttE,QAE7BytC,GAAMrrD,EAAO6rF,EACI,MAAbuW,IACAt3C,GAAUv0C,EAAQzW,OAASsiG,EAC3BlkD,EAAK2e,EAAM/R,GACXK,EAAI74C,EAAKgmB,IAAI4lB,GACbokD,EAAKn3C,EAAE20C,EAAI9pF,EAAM3T,EAEjBkU,EAAUA,EAAQ5I,MAAM,EAAGy0F,EAAY,GACvCt2C,EAAOgxC,GAEXsF,EAAY,KACZtF,EAAiB,EAEjB1vF,EAAM7F,KAAK,CACPqW,MAAOkuC,EAAOqxC,EACdrgB,MAAOvmE,IAGXu1C,EAAOtpC,GAAe,EACtBjM,EAAU,IAIdA,EAAQhP,KAAK,CACTu+G,IAAKxzG,EAAKwzG,IACVloG,MAAOutC,EAAE20C,EACTjiF,OAAQstC,EAAE40C,EAEVq0B,KAAM,IAAIv0B,GACN10C,EAAE9oD,EAAIiQ,EAAKwzG,IAAIloG,MACfutC,EAAE3oC,EAAIlQ,EAAKwzG,IAAIjoG,OACfstC,EAAE20C,EAAIxtF,EAAKwzG,IAAIloG,MACfutC,EAAE40C,EAAIztF,EAAKwzG,IAAIjoG,QAEnBpL,GAAIyrC,EACJm9C,IAAK,IAAI8C,GAAKryC,EAAMT,GACpB8/D,QAASjgC,EAAIigC,SAAW,EACxBjrG,MAAOgrE,EAAIhrE,OAAS28E,GAAMyuB,MAC1BzvB,MAAOv3B,GAAKtuD,GACZopF,MAAO,IAGA,MAAPlhD,IACAkkD,EAAY7rF,EAAQzW,OACpBg9F,EAAiBhxC,GAGjBo/B,EAAImpC,gBAA6B,IAAhB7xG,GAA6B,KAAKpS,KAAK8tC,KAExD17B,EAAcspC,GAGlBA,GAAQw2C,EACRz3C,EAAKjgD,KAAK+rD,IAAI9L,EAAIiB,GAClBA,GAAQqxC,CACZ,CACJ,CAEAryC,GACJ,CAEA19C,EAAM7F,KAAK,CACPqW,MAAOkuC,EAAOqxC,EACdrgB,MAAOvmE,IAGX80C,GAAMrrD,EAEFkrF,EAAIttE,QACJitC,EAAKqgC,EAAIttE,OAGb,IAAMykF,EAA0B,GAEhC,IAAK,IAAInkD,EAAI,EAAGA,EAAI9wC,EAAMtN,OAAQo+C,IAAK,CACnC,IAAMiN,GAAMN,EAAKz9C,EAAM8wC,GAAGtgC,OAAS2+F,GAAQrxB,EAAIopC,OAAS,QAExD,IAAK,IAAMhyB,KAASl1F,EAAM8wC,GAAG4+B,MAAO,CAChC,IAAMz6E,EAAIiQ,EAAKgmB,IAAIgqE,EAAM7vF,IACnBqtF,EAAMuC,EAAOviG,OAASo+C,EAO5B,GALAokD,EAAMjH,IAAMiH,EAAMjH,IAAI3rF,IAAIy7C,EAAI,GAAGz7C,IAC7BrN,EAAEy9F,EAAI9pF,EAAM3T,EAAI,GAChBA,EAAE09F,EAAI/pF,EAAMwM,EAAI,IAGhB0oE,EAAIjN,UAAW,CACf,IAAMhqD,EAA8B,mBAAlBi3D,EAAIjN,UAChBiN,EAAIjN,UAAU6hB,EAAKwC,EAAM7vF,IACzBy4E,EAAIjN,UACNhqD,GACA2+F,GAAmBtwB,EAAOruE,EAElC,CAEA,GAAI6gC,EAAagrC,GAAM,CACnB,IAAM7rE,EAAS6gC,EAAagrC,GAC5B,IAAK,IAAM1zC,KAAQn4B,EAAQ,CACvB,IAAMuxE,EAAQta,EAAIr2E,SAASu3C,GACrBq5C,EAAsB,mBAAVD,EACZA,EAAM1F,EAAKwC,EAAM7vF,IACjB+yF,EAEFC,GACAmtB,GAAmBtwB,EAAOmD,EAElC,CACJ,CAEApD,EAAO96F,KAAK+6F,EAChB,CACJ,CAEA,MAAO,CACH1kF,MAAOitC,EACPhtC,OAAQwtC,EACRyxB,MAAOulB,EACP4wB,IAAK/nC,EACLgoC,aAAcjoE,EAEtB,CCnaO,SAASspE,GAAWrpC,GACvB,QAAkB,IAAdA,EAAIttE,YAAsC,IAAfstE,EAAIrtE,OAC/B,MAAM,IAAIhb,MACN,wDAIR,GAAIqoF,EAAIttE,OAAS,GAAKstE,EAAIrtE,QAAU,EAChC,OAGJ,IAAMvL,EAAI44E,EAAIttE,MACRk3C,EAAIo2B,EAAIrtE,OAERg/C,EADSy/C,GAASpxB,EAAIqQ,QAAU0O,IAChBpO,MAAM,IAAIsC,GAAK7rF,EAAGwiD,GAAG+mC,OAAO,KAC5C77F,EAAIkrF,EAAIkpC,MAAQ,IAAIv0B,GAAK,EAAG,EAAG,EAAG,GAClC7pF,EAAQk1E,EAAIhrE,OAAS49E,GAAI,IAAK,IAAK,KACnCjS,EAAUX,EAAIigC,SAAW,EAGzBhuB,EAASjS,EAAI46B,IAAM,GAAS56B,EAAI46B,IAAIloG,MAAQ,EAC5CkuC,EAASo/B,EAAI46B,IAAM,GAAS56B,EAAI46B,IAAIjoG,OAAS,EAC7CgtC,EAAK7qD,EAAEqC,EAAI86F,EACX9xC,EAAKrrD,EAAEwiB,EAAIspC,EACX1+C,EAAKpN,EAAE8/F,EAAa,EAAT3C,EACX5mF,EAAKvW,EAAE+/F,EAAa,EAATj0C,EAEjB41D,KACAD,GAAcv2B,EAAImQ,KAClBymB,GAAW52B,EAAIkU,OACfyiB,GAAU32B,EAAI2Q,OACd4lB,GAAc5kD,GAEdguD,GACI,CACI,CACIxvB,IAAK,IAAI8C,IAAM7rF,EAAI,EAAGwiD,EAAI,GAC1Bo2D,GAAI,IAAI/sB,GACJjT,EAAIspC,MAAQ3pE,EAAKz9C,EAAKy9C,EACtBqgC,EAAIupC,MAAQppE,EAAKA,EAAK90C,GAE1B2J,MAAOlK,EACPm1G,QAASt/B,GAEb,CACIwP,IAAK,IAAI8C,IAAM7rF,EAAI,GAAIwiD,EAAI,GAC3Bo2D,GAAI,IAAI/sB,GACJjT,EAAIspC,MAAQ3pE,EAAKz9C,EAAKy9C,EACtBqgC,EAAIupC,MAAQppE,EAAK90C,EAAK80C,GAE1BnrC,MAAOlK,EACPm1G,QAASt/B,GAEb,CACIwP,IAAK,IAAI8C,GAAK7rF,EAAI,GAAIwiD,EAAI,GAC1Bo2D,GAAI,IAAI/sB,GACJjT,EAAIspC,MAAQ3pE,EAAKA,EAAKz9C,EACtB89E,EAAIupC,MAAQppE,EAAK90C,EAAK80C,GAE1BnrC,MAAOlK,EACPm1G,QAASt/B,GAEb,CACIwP,IAAK,IAAI8C,GAAK7rF,EAAI,EAAGwiD,EAAI,GACzBo2D,GAAI,IAAI/sB,GACJjT,EAAIspC,MAAQ3pE,EAAKA,EAAKz9C,EACtB89E,EAAIupC,MAAQppE,EAAKA,EAAK90C,GAE1B2J,MAAOlK,EACPm1G,QAASt/B,IAGjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAChBX,EAAI6/B,MACJ7/B,EAAI46B,IACJ56B,EAAIwgC,OACJxgC,EAAIygC,cAAW,GAGnB5J,IACJ,CCtDO,SAAS2S,GAAkBxpC,GAC9Bw2B,KACAD,GAAcv2B,EAAM+nC,IAAI53B,KACxBymB,GAAW52B,EAAM+nC,IAAI7zB,OACrBqiB,GACInF,GAASpxB,EAAM+nC,IAAI13B,QAAU,WAAW7rF,IAAI,EAAG,GAAGmsF,MAC9C3Q,EAAMttE,MACNstE,EAAMrtE,QACRg+E,OAAO,KAGb3Q,EAAMpO,MAAMjsD,SAASve,IACjBiiH,GAAW,CACPzO,IAAKxzG,EAAGwzG,IACRloG,MAAOtL,EAAGsL,MACVC,OAAQvL,EAAGuL,OACXw9E,IAAK/oF,EAAG+oF,IACRQ,MAAOvpF,EAAGupF,MACVuD,MAAO9sF,EAAG8sF,MACVl/E,MAAO5N,EAAG4N,MACVirG,QAAS74G,EAAG64G,QACZiJ,KAAM9hH,EAAG8hH,KACT74B,OAAQ,SACRowB,QAASzgC,EAAM+nC,IAAItH,QACnBD,OAAQxgC,EAAM+nC,IAAIvH,OAClBX,MAAO7/B,EAAM+nC,IAAIlI,OAEzB,IAEAhJ,IACJ,CCxBO,SAAS4S,GAASzpC,GACrB,QAAkB,IAAdA,EAAIttE,YAAsC,IAAfstE,EAAIrtE,OAC/B,MAAM,IAAIhb,MACN,sDAIR,GAAIqoF,EAAIttE,OAAS,GAAKstE,EAAIrtE,QAAU,EAChC,OAGJ,IAAMvL,EAAI44E,EAAIttE,MACRk3C,EAAIo2B,EAAIrtE,OAERg/C,EADSy/C,GAASpxB,EAAIqQ,QAAU0O,IAAYv6F,IAAI,EAAG,GACnCmsF,MAAM,IAAIsC,GAAK7rF,EAAGwiD,GAAG+mC,OAAO,KAE9C77F,EAAM,CACN,IAAIm+F,GAAK,EAAG,GACZ,IAAIA,GAAK7rF,EAAG,GACZ,IAAI6rF,GAAK7rF,EAAGwiD,GACZ,IAAIqpC,GAAK,EAAGrpC,IAKhB,GAAIo2B,EAAIgZ,OAAQ,CAEZ,IAAMluF,EAAYpL,KAAK8Z,IAAIpS,EAAGwiD,GAAK,EAC7B+2B,EAAItlF,MAAMC,QAAQ0kF,EAAIgZ,QACtBhZ,EAAIgZ,OAAO5rE,KAAI6kE,GAAKvyF,KAAK8Z,IAAI1O,EAAWmnF,KACxC,IAAI52F,MAAM,GAAGw1F,KAAKnxF,KAAK8Z,IAAI1O,EAAWk1E,EAAIgZ,SAEhDlkG,EAAM,CACF,IAAIm+F,GAAKtS,EAAE,GAAI,MACXA,EAAE,GACAm1B,GAAU,IAAI7iB,GAAK7rF,EAAIu5E,EAAE,GAAIA,EAAE,IAAKA,EAAE,GAAIA,EAAE,GAAI,IAAK,KACrD,CAACvnB,GAAKhyD,EAAG,OACXu5E,EAAE,GACAm1B,GAAU,IAAI7iB,GAAK7rF,EAAIu5E,EAAE,GAAI/2B,EAAI+2B,EAAE,IAAKA,EAAE,GAAIA,EAAE,GAAI,EAAG,IACvD,CAACvnB,GAAKhyD,EAAGwiD,OACX+2B,EAAE,GACAm1B,GAAU,IAAI7iB,GAAKtS,EAAE,GAAI/2B,EAAI+2B,EAAE,IAAKA,EAAE,GAAIA,EAAE,GAAI,GAAI,KACpD,CAACvnB,GAAK,EAAGxP,OACX+2B,EAAE,GACAm1B,GAAU,IAAI7iB,GAAKtS,EAAE,GAAIA,EAAE,IAAKA,EAAE,GAAIA,EAAE,GAAI,IAAK,KACjD,GAEd,CAEAw/B,GAAY1oH,OAAOD,OAAO,CAAC,EAAGwoF,EAAK,CAC/BhoE,OAAA25C,EACA+nC,IAAA5kG,KACIkrF,EAAI6gC,SACF,CACER,OAAQrgC,EAAI0pC,WACN,CACE1pC,EAAI6gC,SAAS,GACb7gC,EAAI6gC,SAAS,GACb7gC,EAAI6gC,SAAS,GACb7gC,EAAI6gC,SAAS,IAEf,CACE7gC,EAAI6gC,SAAS,GACb7gC,EAAI6gC,SAAS,GACb7gC,EAAI6gC,SAAS,GACb7gC,EAAI6gC,SAAS,KAGvB,CAAC,IAEf,CCjHO,SAAS8I,GAAa3pC,GACzB82B,KACA,IAAM1vG,EAAK02B,GAAGk4E,IAAItjG,MACZk3C,EAAK9rB,GAAGk4E,IAAIrjG,OAClBmrB,GAAGk4E,IAAItjG,MAAQorB,GAAGk4E,IAAIiB,SAASvkG,MAC/BorB,GAAGk4E,IAAIrjG,OAASmrB,GAAGk4E,IAAIiB,SAAStkG,OAChCqtE,IACA82B,KACAh5E,GAAGk4E,IAAItjG,MAAQtL,EACf02B,GAAGk4E,IAAIrjG,OAASi3C,CACpB,CCEO,SAASggE,GAAgB5pC,EAAW54E,GACvCuiH,IAAa,KACT,IAAM//D,EAAMwP,GAAK,GAEjBo9C,KACAD,GAAcv2B,GAEd,IAAMjgC,EAAO+nE,GAAW,CACpBh/G,KAAM1B,EACN8oF,KAAM8O,GACN7xE,KAAM,GACNgjE,IAAKvmC,EACL50C,MAAO49E,GAAI,IAAK,IAAK,KACrBitB,OAAO,IAGLluD,EAAK5R,EAAKrtC,MAAgB,EAARk3C,EAAIzyD,EACtBrC,EAAKirD,EAAKptC,OAAiB,EAARi3C,EAAIzyD,EAEzB6oF,EAAI7oF,EAAIw6D,GAAMikD,MACdW,GAAcn9C,IAAMzH,EAAI,IAGxBquB,EAAI1oE,EAAIxiB,GAAM+gH,MACdU,GAAcn9C,GAAK,GAAItkE,IAG3B20H,GAAS,CACL/2G,MAAOi/C,EACPh/C,OAAQ7d,EACRkgB,MAAO49E,GAAI,EAAG,EAAG,GACjBoG,OAAQ,EACRinB,QAAS,GACTJ,OAAO,IAGX2J,GAAkBzpE,GAClB82D,IACJ,GACJ,CCxBO,SAASgT,GAAa7pC,GACzB,IAAKA,EAAIwY,KAAOxY,EAAIyY,KAAOzY,EAAI8pC,GAC3B,MAAM,IAAInyH,MACN,2DAIR,OAAOwoH,GAAY1oH,OAAOD,OAAO,CAAC,EAAGwoF,EAAK,CACtC0Z,IAAK,CAAC1Z,EAAIwY,GAAIxY,EAAIyY,GAAIzY,EAAI8pC,MAElC,CCnBO,SAASC,KACZ,GAAIjsF,GAAGksF,MAAMC,QAAS,CAClB,IAAIjqC,EAAa,KAEjB,IAAK,IAAM54E,KAAO02B,GAAGgiF,KAAK5/G,KAAKmG,IAAI,IAAK,CAAE6jH,WAAW,IACjD,GAAI9iH,EAAI02B,EAAE,SAAW12B,EAAI+iH,aAAc,CACnCnqC,EAAa54E,EACb,KACJ,CAKJ,GAFA02B,GAAGgiF,KAAK5/G,KAAKkqH,cAETpqC,EAAY,CACZ,IAAM54E,EAAQ,GACRwiD,EAAOo2B,EAAWiqC,UAExB,IAAK,IAAMlqE,KAAO6J,EACVA,EAAK7J,GAEL34C,EAAM/K,KAAK,GAAGutD,EAAK7J,MAInB34C,EAAM/K,KAAK,GAAG0jD,KAItB6pE,GAAgB1S,GAAcE,MAAahwG,EAAMyb,KAAK,MAC1D,CAEA+mG,GAAgBxwD,GAAK,GAAI,QAAQt7B,GAAGksF,MAAMv5D,QAC9C,CAEI3yB,GAAGksF,MAAMjqB,QACT4pB,IAAa,KAETnT,KACAD,GAAcX,KAAS,GACvBW,IAAe,EAAG,GAKlBkT,GAAS,CACL/2G,MAJS,GAKTC,OALS,GAMT09E,OAAQ,WACRr7E,MAAO49E,GAAI,EAAG,EAAG,GACjBqtB,QAAS,GACTjnB,OAAQ,EACR6mB,OAAO,IAIX,IAAK,IAAIz4G,EAAI,EAAGA,GAAK,EAAGA,IACpBqiH,GAAS,CACL/2G,MAAO,EACPC,OAAQqtE,KACRqQ,OAAQ,SACRF,IAAK/2B,IAnBA,GAmBa,EAAIhyD,EAAG44E,IACzBhrE,MAAO49E,GAAI,IAAK,IAAK,KACrBoG,OAAQ,EACR6mB,OAAO,IAIfhJ,IACJ,IAGuB,IAAvB/4E,GAAGksF,MAAMhkB,WACT2jB,IAAa,KAETnT,KACAD,GAAcX,KAASC,MACvBU,IAAe,GAAI,GAEnB,IAGMnvG,EAAO0gH,GAAW,CACpBh/G,KAAMg1B,GAAGksF,MAAMhkB,UAAUzR,QAAQ,GACjCrE,KAAM8O,GACN7xE,KAAM,GACNnY,MAAO49E,GAAI,IAAK,IAAK,KACrBzC,IAAK/2B,IARG,GASRi3B,OAAQ,WACRwvB,OAAO,IAIX4J,GAAS,CACL/2G,MAAOtL,EAAKsL,MAAQstE,GAAUA,GAC9BrtE,OAAQvL,EAAKuL,OAASqtE,GACtBqQ,OAAQ,WACRr7E,MAAO49E,GAAI,EAAG,EAAG,GACjBqtB,QAAS,GACTjnB,OAAQ,EACR6mB,OAAO,IAIX,IAAK,IAAIj2D,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxB,IAAM7J,EAAUjiB,GAAGksF,MAAMhkB,UAAY,EACrC6jB,GAAa,CACTrxB,GAAIp/B,IAAMhyD,EAAKsL,MA5BX,GA4B0BqtC,EAAU,EAAI,MA5BxC,GA6BJ04C,GAAIr/B,IACChyD,EAAKsL,MA9BN,GA8BqBqtC,EAAU,EAAI,MA9BnC,EA+BO34C,EAAKuL,QAEhBm3G,GAAI1wD,IACChyD,EAAKsL,MAlCN,GAkCqBqtC,EAAU,IAAM,IAlCrC,EAmCO34C,EAAKuL,OAAS,GAEzBw9E,IAAK/2B,GArCD,GAqCOxP,EAAU,GAAK7J,GAAU,EAAa,GAAI,GACrD/qC,MAAO49E,GAAI,IAAK,IAAK,KACrBitB,OAAO,GAEf,CAGA2J,GAAkBpiH,GAElByvG,IACJ,IAGA/4E,GAAGksF,MAAMK,cACTV,IAAa,KACTnT,KACAD,GAAc,EAAGV,MACjBU,GAAc,IAAK,IAEnBuK,GAAW,CACP9nB,OAAQ,GACRhkF,MAAO49E,GAAI,IAAK,EAAG,GACnBqtB,QAAS5oB,GAAK,EAAG,EAAmB,EAAhBv5D,GAAG0yE,IAAI96F,QAC3BmqG,OAAO,IAGXhJ,IACJ,IAGA/4E,GAAGksF,MAAMM,SAAWxsF,GAAGgiF,KAAKyK,KAAK31H,OAAS,GAC1C+0H,IAAa,KACTnT,KACAD,GAAc,EAAGV,MACjBU,GAAc,GAAI,GAElB,IACMnvG,EAAO,GAEb,IAAK,IAAM24C,KAAOjiB,GAAGgiF,KAAKyK,KAAM,CAC5B,IAAI54D,EAAM,GACJ78D,EAAQirD,EAAIyiC,eAAe7qF,MAAQ,QAAU,OACnDg6D,GAAO,SAAS5R,EAAIrqC,KAAK6+E,QAAQ,YACjC5iC,GAAO,IACPA,GAAO,IAAI78D,KAAS01H,GAAYzqE,EAAIyiC,SAAS1tF,KAC7CsS,EAAK/K,KAAKs1D,EACd,CAEA7zB,GAAGgiF,KAAKyK,KAAOzsF,GAAGgiF,KAAKyK,KAClBzyD,QAAQ/X,GACLjiB,GAAG0yE,IAAI96F,OAASqqC,EAAIrqC,MACbooB,GAAGq+E,UAAUsO,SAAW,KAGvC,IAAM7gE,EAAQk+D,GAAW,CACrBh/G,KAAM1B,EAAKyb,KAAK,MAChBqtE,KAAM8O,GACN7O,IAAK/2B,GArBG,MAsBRi3B,OAAQ,UACRljE,KAAM,GACNza,MAAiB,GAAVkjG,KACPoT,YAAahpC,EACb6/B,OAAO,EACPl2G,OAAQ,CACJ+L,KAAQ,CAAEV,MAAO49E,GAAI,IAAK,IAAK,MAC/Bv4F,KAAQ,CAAE2a,MAAO49E,GAAI,IAAK,IAAK,MAC/B1xE,MAAS,CAAElM,MAAO49E,GAAI,IAAK,EAAG,SAItC62B,GAAS,CACL/2G,MAAOk3C,EAAMl3C,MAAQstE,GACrBrtE,OAAQi3C,EAAMj3C,OAASqtE,GACvBqQ,OAAQ,UACRr7E,MAAO49E,GAAI,EAAG,EAAG,GACjBoG,OAAQ,EACRinB,QAAS,GACTJ,OAAO,IAGX2J,GAAkB5/D,GAClBitD,IACJ,GAER,CAEA,SAAS2T,GACLxqC,GAGM,IAFN54E,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,IAAAA,UAAA,GACAi1D,EAAAj1D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAiB,IAAIuP,IAErB,GAAI0lD,EAAKngD,IAAIu2E,GAAS,MAAO,cAC7B,IAAiBruB,EAAb5R,EAAS,GAab,OAZI34C,GAA4B,iBAAX44E,IACjBA,EAASvmB,KAAKC,UAAUsmB,IAExB3kF,MAAMC,QAAQ0kF,KACdjgC,EAAS,CACL,IACAigC,EAAO5yD,KAAIt4B,GAAK01H,GAAY11H,GAAG,EAAM80D,EAAK8gE,MAAM,IAAIxmH,IAAI,CAAC87E,QACpDn9D,KAAK,MACV,KACFA,KAAK,IACPm9D,EAASjgC,GAEE,OAAXigC,EAAwB,QAEN,iBAAXA,GACJA,EAAOx9E,WAAa/K,OAAOiB,UAAU8J,WAEpCw9E,EAAO75E,cAAgB1O,SACvBsoD,GAAUigC,EAAO75E,YAAYtP,KAAO,KAExCkpD,GAAU,CACN,KACC4R,EAAMl6D,OAAOkzH,oBAAoB3qC,GACzB5yD,KAAIt4B,GACD,GAAG,QAAQoQ,KAAKpQ,GAAKA,EAAI2kE,KAAKC,UAAU5kE,OACpC01H,GACIxqC,EAAOlrF,IACP,EACA80D,EAAK8gE,MAAM,IAAIxmH,IAAI,CAAC87E,UAI/Bn9D,KAAK,OACR,IAAI8uC,KACJ,GACN,KACF9uC,KAAK,IACPm9D,EAASjgC,GAEN7tC,OAAO8tE,GAAQ4qC,WAAW,aAAc,OACnD,CCxQO,SAASC,KAEZ,IAAM7qC,EAAMliD,GAAGgiF,KAAKC,IACd34G,EAAQ6rF,GAAKG,UAAU4E,GAAK,EAAG,MAAMrH,MAAM3Q,EAAI8qC,OAErD9qC,EAAI8qC,MAAQt4B,GAAKxS,EAAI8qC,MAAO,EAAG,EAAIva,MACnCvwB,EAAIjN,WAAY,IAAIwjB,IACfC,UAAU6gB,MACV1mB,MAAM3Q,EAAI2Q,OACV2F,OAAOtW,EAAIkU,OACXsC,WAAWxW,EAAImQ,KAAOknB,MAAU1mB,OAAO,GAAGnsF,IAAI4C,IAEnD02B,GAAGgiF,KAAK5/G,KAAKokH,OACbxN,IACJ,CCXO,SAASiU,KACZ,IAAM/qC,EAAWg6B,KAEbl8E,GAAGgiF,KAAKn0F,OAAO20E,aAAa,WAAa,EACzCxiE,GAAGgiF,KAAKn0F,OAAO00E,QAAQ,UAAWrgB,GAGlC2pC,IAAa,KACT,IAAMviH,EAAIwuG,KAAU,EAEd71D,EAAMqZ,GAAKw8C,KAAU,EAAGC,KAAW,GAAGtiB,IACxCn6B,GAAKhyD,EAAI,EAAGwiD,KAEhB6/D,GAAS,CACLt5B,IAAK/2B,GAAK,GACV1mD,MAAOkjG,KACPjjG,OAAQkjG,KACR7gG,MAAO49E,GAAI,EAAG,EAAG,KAErB62B,GAAS,CACLt5B,IAAKpwC,EACLrtC,MAAOtL,EACPuL,OAbM,GAcNk+E,MAAM,EACNC,QAAS,CACLp+E,MAAO,KAGf+2G,GAAS,CACLt5B,IAAKpwC,EACLrtC,MAAOtL,EAAI44E,EACXrtE,OAtBM,IAwBd,GAER,CCxCO,SAASq4G,GACZhrC,EACA54E,EACAwiD,GAEA,IAAM7J,EAAKjiB,GAAGk4E,IAAIG,IAAIC,GAEtBU,KACA/2D,EAAGwgD,MAAMxgD,EAAGkrE,oBACZlrE,EAAGmrE,OAAOnrE,EAAGorE,cAGbprE,EAAGqrE,YACCrrE,EAAGsrE,MACH,EACA,KAIJtrE,EAAGurE,UACCvrE,EAAGwrE,QACHxrE,EAAGwrE,QACHxrE,EAAGwrE,SAGPnkH,IACA0vG,KAGA/2D,EAAGqrE,YACCxhE,EACA,EACA,KAIJ7J,EAAGurE,UACCvrE,EAAGyrE,KACHzrE,EAAGyrE,KACHzrE,EAAGyrE,MAGPxrC,IACA82B,KACA/2D,EAAG0rE,QAAQ1rE,EAAGorE,aAClB,CC7CO,SAASO,GAAW1rC,EAAqB54E,GAG5C4jH,GAAchrC,EAAS54E,EAFZ02B,GAAGk4E,IAAIG,IAAIC,GAEUuV,MACpC,CCCO,SAASC,GAAY5rC,GACxB,IAAKA,EAAI46B,IACL,MAAM,IAAIjjH,MAAM,0CAGpB,IAAMyP,EAAI44E,EAAIkpC,MAAQ,IAAIv0B,GAAK,EAAG,EAAG,EAAG,GAClC/qC,EAAIo2B,EAAI46B,IAAIloG,MAAQtL,EAAEwtF,EACtB70C,EAAIigC,EAAI46B,IAAIjoG,OAASvL,EAAEytF,EACvBljC,EAAQ,IAAIshC,GAAK,GAEvB,GAAIjT,EAAI6rC,MAAO,CACX,IAAM/2H,EAASs8G,GAASpxB,EAAIqQ,QAAU0O,IAMhC9M,GALWjS,EAAImQ,IACdr7F,EAAOqC,EAAgB6oF,EAAIttE,MACjBstE,EAAImQ,IACdr7F,EAAOwiB,EAAgB0oE,EAAIrtE,QAEnBqtE,EAAIttE,OAASk3C,GAAKA,GAC3BhJ,GAASo/B,EAAIrtE,QAAUotC,GAAKA,EAC5BJ,EAAOjgD,KAAKgxD,MAAMuhC,GAClB9xC,EAAOzgD,KAAKgxD,MAAM9P,GAClB1+C,EAAQ+vF,EAAQtyC,EAChBt0C,EAAQu1C,EAAQT,EAChBP,GAAKD,EAAOz9C,EAAQ,EAAI,IAAMi+C,EAAO90C,EAAQ,EAAI,GACjD6rF,EAAU,IAAI77F,MAAkB,EAAJukD,GAC5BgyC,EAAW,IAAIv2F,MAAkB,EAAJukD,GAC/BtoC,EAAQ,EAMN6/E,EAAUx/B,IAAC,CACb3kB,EACAiN,EACAm3C,EACAjgG,EACAy9F,KAEAsC,EAAgB,EAAR5/E,EAAY,GAAa,EAARA,EAAY,EACrC4/E,EAAgB,EAAR5/E,EAAY,GAAa,EAARA,EAAY,EACrC4/E,EAAgB,EAAR5/E,EAAY,GAAa,EAARA,EAAY,EACrC4/E,EAAgB,EAAR5/E,EAAY,GAAa,EAARA,EAAY,EACrC4/E,EAAgB,EAAR5/E,EAAY,GAAa,EAARA,EAAY,EACrC4/E,EAAgB,EAAR5/E,EAAY,GAAa,EAARA,EAAY,EAErCs6E,EAAiB,EAARt6E,EAAY,GAAK,CACtB64E,IAAK,IAAI8C,GAAKjgD,EAAIl+C,EAAOqC,EAAG8oD,EAAInrD,EAAOwiB,GACvC0oG,GAAI,IAAI/sB,GAAK2B,EAAEz9F,EAAGy9F,EAAEt9E,GACpBtC,MAAOgrE,EAAIhrE,OAAS28E,GAAMyuB,MAC1BH,QAASjgC,EAAIigC,SAAW,GAE5BruB,EAAiB,EAARt6E,EAAY,GAAK,CACtB64E,IAAK,IAAI8C,GAAKjgD,EAAIokD,EAAItiG,EAAOqC,EAAG8oD,EAAInrD,EAAOwiB,GAC3C0oG,GAAI,IAAI/sB,GAAK2B,EAAEz9F,EAAIy9F,EAAEA,EAAGA,EAAEt9E,GAC1BtC,MAAOgrE,EAAIhrE,OAAS28E,GAAMyuB,MAC1BH,QAASjgC,EAAIigC,SAAW,GAE5BruB,EAAiB,EAARt6E,EAAY,GAAK,CACtB64E,IAAK,IAAI8C,GAAKjgD,EAAIokD,EAAItiG,EAAOqC,EAAG8oD,EAAI9oD,EAAIrC,EAAOwiB,GAC/C0oG,GAAI,IAAI/sB,GAAK2B,EAAEz9F,EAAIy9F,EAAEA,EAAGA,EAAEt9E,EAAIs9E,EAAEC,GAChC7/E,MAAOgrE,EAAIhrE,OAAS28E,GAAMyuB,MAC1BH,QAASjgC,EAAIigC,SAAW,GAE5BruB,EAAiB,EAARt6E,EAAY,GAAK,CACtB64E,IAAK,IAAI8C,GAAKjgD,EAAIl+C,EAAOqC,EAAG8oD,EAAI9oD,EAAIrC,EAAOwiB,GAC3C0oG,GAAI,IAAI/sB,GAAK2B,EAAEz9F,EAAGy9F,EAAEt9E,EAAIs9E,EAAEC,GAC1B7/E,MAAOgrE,EAAIhrE,OAAS28E,GAAMyuB,MAC1BH,QAASjgC,EAAIigC,SAAW,GAE5B3oG,GACJ,GAvCgB,WAyChB,IAAK,IAAI07B,EAAI,EAAGA,EAAImN,EAAMnN,IAAK,CAC3B,IAAK,IAAIiN,EAAI,EAAGA,EAAIN,EAAMM,IACtBk3C,EAAQl3C,EAAI2J,EAAG5W,EAAI+M,EAAG6J,EAAG7J,EAAG34C,GAG5BlF,GACAi1F,EACIx3C,EAAOiK,EACP5W,EAAI+M,EACJ6J,EAAI1nD,EACJ69C,EACA,IAAI40C,GAAKvtF,EAAEjQ,EAAGiQ,EAAEkQ,EAAGlQ,EAAEwtF,EAAI1yF,EAAOkF,EAAEytF,GAG9C,CAEA,GAAIxpF,EAAO,CACP,IAAK,IAAI2nC,EAAI,EAAGA,EAAI2M,EAAM3M,IACtBmkD,EACInkD,EAAI4W,EACJzJ,EAAOJ,EACP6J,EACA7J,EAAI10C,EACJ,IAAIspF,GAAKvtF,EAAEjQ,EAAGiQ,EAAEkQ,EAAGlQ,EAAEwtF,EAAGxtF,EAAEytF,EAAIxpF,IAIlCnJ,GACAi1F,EACIx3C,EAAOiK,EACPzJ,EAAOJ,EACP6J,EAAI1nD,EACJ69C,EAAI10C,EACJ,IAAIspF,GAAKvtF,EAAEjQ,EAAGiQ,EAAEkQ,EAAGlQ,EAAEwtF,EAAI1yF,EAAOkF,EAAEytF,EAAIxpF,GAGlD,CAEAs0G,GACI/tB,EACAsF,EACAlX,EAAI6/B,MACJ7/B,EAAI46B,IACJ56B,EAAIwgC,OACJxgC,EAAIygC,cAAW,EAEvB,MAGQzgC,EAAIttE,OAASstE,EAAIrtE,QACjBg/C,EAAMx6D,EAAI6oF,EAAIttE,MAAQk3C,EACtB+H,EAAMr6C,EAAI0oE,EAAIrtE,OAASotC,GAElBigC,EAAIttE,OACTi/C,EAAMx6D,EAAI6oF,EAAIttE,MAAQk3C,EACtB+H,EAAMr6C,EAAIq6C,EAAMx6D,GAEX6oF,EAAIrtE,SACTg/C,EAAMr6C,EAAI0oE,EAAIrtE,OAASotC,EACvB4R,EAAMx6D,EAAIw6D,EAAMr6C,GAGpB+xG,GAAW5xH,OAAOD,OAAO,CAAC,EAAGwoF,EAAK,CAC9B2Q,MAAOh/B,EAAMg/B,MAAM3Q,EAAI2Q,OAAS,IAAIsC,GAAK,IACzC2nB,IAAK56B,EAAI46B,IACTsO,KAAM9hH,EACNsL,MAAOk3C,EACPj3C,OAAQotC,IAGpB,CCpGO,SAAS+rE,GAAW9rC,GACvB,IAAKA,EAAI+rC,OACL,MAAM,IAAIp0H,MAAM,2CAIpB,IAAMyP,EAAMg0G,GAAcp7B,EAAI+rC,QAE9B,IAAK3kH,IAAQA,EAAIzL,KACb,OAGJ,IAAMiuD,EAAIxiD,EAAIzL,KAAKk/G,OAAO76B,EAAIlmF,OAAS,GAEvC,IAAK8vD,EACD,MAAM,IAAIjyD,MAAM,oBAAoBqoF,EAAIlmF,OAAS,KAGrD8xH,GAAYn0H,OAAOD,OAAO,CAAC,EAAGwoF,EAAK,CAC/B46B,IAAKxzG,EAAIzL,KAAKi/G,IACdsO,KAAMt/D,EAAE+mC,MAAM3Q,EAAIkpC,MAAQ,IAAIv0B,GAAK,EAAG,EAAG,EAAG,MAEpD,CCtEO,SAASq3B,GAAehsC,EAAqB54E,GAGhD4jH,GAAchrC,EAAS54E,EAFZ02B,GAAGk4E,IAAIG,IAAIC,GAEU6V,SACpC,CCgIO,SAASC,GAASlsC,GACrBwpC,GAAkB1B,GAAW9nC,GACjC,CfzGSroB,GAAA+vD,GAAA,sBAeO/vD,GAAAiwD,GAAA,qBAuEAjwD,GAAAmwD,GAAA,cCxGAnwD,GAAA0xD,GAAA,cC0BA1xD,GAAA6xD,GAAA,qBCMA7xD,GAAA8xD,GAAA,YC3CA9xD,GAAAgyD,GAAA,gBCYAhyD,GAAAiyD,GAAA,mBCeAjyD,GAAAkyD,GAAA,gBCTAlyD,GAAAoyD,GAAA,aAyMPpyD,GAAA6yD,GAAA,eCzNO7yD,GAAAkzD,GAAA,aCGAlzD,GAAAozD,GAAA,kBCLApzD,GAAAqzD,GAAA,iBCAArzD,GAAA+zD,GAAA,cCKA/zD,GAAAi0D,GAAA,eC2CAj0D,GAAAm0D,GAAA,cChDAn0D,GAAAq0D,GAAA,kBCoIAr0D,GAAAu0D,GAAA,YCxHT,IAAMC,GAAax0D,IAAC,CAAAqoB,EAAiB54E,KACxC,IAAMwiD,EAAY60D,GAAWr3G,EAAKk4F,GAAUC,IACtCx/C,EAAeigC,EAAKqrB,cAAgB,EACpC15C,EAASquB,EAAK2Q,OAAS,GACrBylB,GAAAthH,GAAOsS,EAIT0D,EAAW+sG,GAAQC,UACrB1wG,EACA,IAAI6wG,UAAU,IAAIgM,kBAAkB,CAAC,IAAK,IAAK,IAAK,MAAO,EAAG,IAG5DtjC,EAAeX,EAAKttE,OAASstE,EAAKrtE,OAClC,IAAIwwG,GACF/7G,EACA44E,EAAKttE,MAAQqtC,EAAe4R,EAC5BquB,EAAKrtE,OAASotC,EAAe4R,GAE/B,IAAIwxD,GACF/7G,EACAtS,EAAGyyH,mBACHzyH,EAAG0yH,qBAGPv1B,EAAwB,KACxBrxC,EAAU,EAEVo/B,EAAKzZ,aAC0B,iBAApByZ,EAAKzZ,WACZ0rB,EAAUW,GAAI5S,EAAKzZ,aAGnB0rB,EAAUW,MAAO5S,EAAKzZ,YACtB3lB,EAAUo/B,EAAKzZ,WAAW,IAAM,GAGpCzxE,EAAGuhH,WACCpkB,EAAQlyC,EAAI,IACZkyC,EAAQL,EAAI,IACZK,EAAQ5mF,EAAI,IACZu1C,GAAW,IAInB9rD,EAAGo2H,OAAOp2H,EAAGs3H,OACbt3H,EAAGu3H,kBACCv3H,EAAGw3H,IACHx3H,EAAGy3H,oBACHz3H,EAAGw3H,IACHx3H,EAAGy3H,qBAGP,IAAM5sE,EAAW,IAAIolE,GACjB39G,EACA83F,GACAC,G1D3C2BC,O0DgDzBj/C,EAAQ03D,GAAQC,UAClB1wG,EACA,IAAI6wG,UACA,IAAIgM,kBAAkB,CAClB,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,MAEJ,EACA,GAEJ,CACI9B,KAAM,SACNrqD,OAAQ,YAIhB,MAAO,CAEH00D,cAAe,EACfrW,IAAA/uG,EAGAy3G,UAAWj1D,EACXg2D,OAAQ90G,EACR2hH,YAAa9rC,EACb+rC,WAAY,KACZC,kBAAmB,KACnB5V,SAAUp3D,EAEVozB,UAAW,IAAIwjB,GACfkgB,eAAgB,GAEhBmW,MAAOzsE,EACP81D,QAAShkB,EACTikB,QAASt1D,EAETluC,MAAOstE,EAAKttE,OACL5d,EAAGyyH,mBAAqBxnE,EAAe4R,EAC9Ch/C,OAAQqtE,EAAKrtE,QACN7d,EAAG0yH,oBAAsBznE,EAAe4R,EAE/CslD,SAAU,CACN9/G,EAAG,EACHmgB,EAAG,EACH5E,MAAO5d,EAAGyyH,mBACV50G,OAAQ7d,EAAG0yH,qBAGf3H,OAAO,EAEf,GA7H0B,cCZnB,SAASgN,KAMZ,IAAM7sC,EAAKliD,GAAGutE,aACRjkG,EAAc02B,GAAGk4E,IAAIG,IAAIC,GAAGmR,mBAAqBvnC,EACjDp2B,EAAe9rB,GAAGk4E,IAAIG,IAAIC,GAAGoR,oBAAsBxnC,EAEzD,GAAIliD,GAAGq+E,UAAU2Q,UAAjB,CACI,IAAKhvF,GAAGq+E,UAAUzpG,QAAUorB,GAAGq+E,UAAUxpG,OACrC,MAAM,IAAIhb,MACN,mDAIR,IAAMooD,EAAK34C,EAAcwiD,EACnB+H,EAAK7zB,GAAGq+E,UAAUzpG,MAAQorB,GAAGq+E,UAAUxpG,OAE7C,GAAIotC,EAAK4R,EAAI,CACT,IAAM78D,EAAK80D,EAAe+H,EACpB7mD,GAAK1D,EAActS,GAAM,EAC/BgpC,GAAGk4E,IAAIiB,SAAW,CACd9/G,EAAG2T,EACHwM,EAAG,EACH5E,MAAO5d,EACP6d,OAAQi3C,EAEhB,KACK,CACD,IAAM90D,EAAKsS,EAAcuqD,EACnB7mD,GAAK8+C,EAAe90D,GAAM,EAChCgpC,GAAGk4E,IAAIiB,SAAW,CACd9/G,EAAG,EACHmgB,EAAGxM,EACH4H,MAAOtL,EACPuL,OAAQ7d,EAEhB,CAGJ,KAhCA,CAkCA,GAAIgpC,GAAGq+E,UAAU4Q,WACRjvF,GAAGq+E,UAAUzpG,QAAUorB,GAAGq+E,UAAUxpG,QACrC,MAAM,IAAIhb,MACN,iDAKZmmC,GAAGk4E,IAAIiB,SAAW,CACd9/G,EAAG,EACHmgB,EAAG,EACH5E,MAAOtL,EACPuL,OAAQi3C,EAdZ,CAgBJ,CC3DO,SAASojE,GAAQhtC,GACpB,QAAIA,EAAI6/B,SACD7/B,EAAItiE,QAASsvG,GAAQhtC,EAAItiE,OACpC,CAEO,SAASuvG,GAAejtC,GAC3B,MAAO,CACHhrE,MAAOgrE,EAAIhrE,MACXirG,QAASjgC,EAAIigC,QACb5vB,OAAQrQ,EAAIqQ,OACZS,QAAS9Q,EAAI8Q,QACb0vB,OAAQxgC,EAAIwgC,OACZC,QAASzgC,EAAIygC,QAErB,CCqBO,SAASyM,GAAOltC,GAAqD,IAArC54E,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAqB,CAAC,EACzD,MAAO,CACHopC,GAAI,SACJi7D,OAAQhZ,EACRskC,IAAAA,GACIxD,GAAWrpH,OAAOD,OAAOy1H,GAAe3mH,MAAO,CAC3C0yF,OAAQ1yF,KAAK0yF,OACbnI,KAAMzpF,EAAIypF,OAElB,EACAs8B,UAAAA,GACI,OAAO,IAAIz4B,GACP,IAAIzB,GAAK3sF,KAAK+pF,OAAS,GAAK/pF,KAAK0yF,QACnB,EAAd1yF,KAAK0yF,OACS,EAAd1yF,KAAK0yF,OAEb,EACAixB,OAAAA,GACI,MAAO,WAAWvqH,KAAK2iF,KAAK/7E,KAAK0yF,SACrC,EAER,CC9CO,SAASo0B,KACZ,MAAO,CACHrvF,GAAI,QACJ/oB,MAAO49E,MAAIj+F,WACXs1H,OAAAA,GACI,MAAO,UAAU3jH,KAAK0O,MAAMxS,YAChC,EAER,CCjBO,SAAS6qH,GAAOrtC,GACnB,MAAO,CACHx7E,GAAAA,GACI8B,KAAKk/F,OAASxlB,CAClB,EAER,CCJO,SAASstC,KAA+B,IACvClmH,EADe44E,EAAArrF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAe,EAE9Bi1D,EAAI,EACJ7J,GAAO,EAEX,MAAO,CACH1rD,QAAS,CAAC,WACVmQ,GAAAA,GACI4C,EAAed,KAAK25G,QACpB35G,KAAK25G,QAAU,CACnB,EACAhjG,MAAAA,GACQ8iC,IACJ6J,GAAK2mD,KACLjqG,KAAK25G,QAAU/sB,GAAItpC,EAAG,EAAGo2B,EAAM,EAAG54E,GAE9BwiD,GAAKo2B,IACL15E,KAAK25G,QAAU74G,EACf24C,GAAO,GAEf,EAER,CChBO,SAASwtE,KACZ,MAAO,CACHxvF,GAAI,OACJyvF,KAHa74H,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAU,YAK/B,CCEO,SAAS84H,GAAQztC,GACpB,MAAO,CACHjiD,GAAI,UACJkiF,QAASjgC,GAAK,EACd0tC,MAAAA,GAAkE,IAA3DtmH,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAO,EAAGi1D,EAAAj1D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAWmpC,GAAGq3C,EAAEya,QAAQC,OACrC,OAAO/xD,GAAGgiF,KAAK5/G,KAAKsvF,MAChB,EACAlpF,KAAK25G,QACL74G,GACC24C,GAAMz5C,KAAK25G,QAAUlgE,GACtB6J,EAER,EACA+jE,OAAAA,GAAmE,IAA3DvmH,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAO,EAAGi1D,EAAAj1D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAWmpC,GAAGq3C,EAAEya,QAAQC,OACtC,OAAO/xD,GAAGgiF,KAAK5/G,KAAKsvF,MAChBlpF,KAAK25G,QACL,EACA74G,GACC24C,GAAMz5C,KAAK25G,QAAUlgE,GACtB6J,EAER,EACAqgE,OAAAA,GACI,MAAO,YAAY91C,GAAQ7tE,KAAK25G,QAAS,IAC7C,EAER,CC/BO,SAAS2N,KAQZ,MAAO,CACH7vF,GAAI,UACJ+yD,QAAS,CACLp+E,MAVR/d,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAgB,EAWRqgB,MAVRrgB,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAei+F,GAAI,EAAG,EAAG,GAWjBqtB,QAVRtrH,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAkB,EAWVkuB,KAVRluB,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAiB,QAWTk5H,WAVRl5H,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAqB,GAWbssH,IAVRtsH,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAe,QAYXs1H,OAAAA,GACI,MAAO,YAAY3jH,KAAKwqF,QAAQp+E,YAAYpM,KAAKwqF,QAAQ97E,OAC7D,EAER,CRhCgB2iD,GAAAk1D,GAAA,kBCDAl1D,GAAAq1D,GAAA,WAKAr1D,GAAAs1D,GAAA,kBC8BAt1D,GAAAu1D,GAAA,UCzBAv1D,GAAAy1D,GAAA,SCTAz1D,GAAA01D,GAAA,UCEA11D,GAAA21D,GAAA,UCMA31D,GAAA41D,GAAA,QCOA51D,GAAA81D,GAAA,WCLA91D,GAAAi2D,GAAA,WCMhB,IAAME,GAAN,MAAe,cAAAn2D,GAAA,oBACXw4B,IAAA,KAAY/2B,GAAK,GAAjB,GACA20D,IAAA,KAAY30D,GAAK,GAAjB,GACAmR,IAAA,KAAYnR,GAAK,GAAjB,GACA86B,MAAgB,EAChB85B,gBAA0B,EAC1BC,QAAkB,EAClBjuC,EACAgT,GAAoB,KACpBk7B,GAEA/nH,WAAAA,GACIG,KAAK05E,EAAI,EACT15E,KAAK4nH,IAAK,CACd,CAEA,YAAI9U,GACA,OAAO9yG,KAAK0sF,GAAK1sF,KAAK05E,EAAI15E,KAAK0sF,GAAK1sF,KAAK05E,CAC7C,GAqGG,SAASmuC,GAAUnuC,EAAoB54E,GAC1C,IAAIwiD,EAAkBxiD,EAAKgnH,SAErBruE,EAAwB,GACxB4R,EAASquB,EAAKqgC,QAAU,CAAC1uB,GAAMyuB,OAC/BtrH,EAAYkrF,EAAKquC,WAAa,CAAC,GAC/BvjH,EAAQk1E,EAAKsuC,OAAS,CAAC,IAAI35B,GAAK,EAAG,EAAG,EAAG,IACzChU,EAASX,EAAKuuC,QAAU,CAAC,GACzBt8B,EAAWjS,EAAKwuC,SAChB5tE,EAAYx5C,EAAK20G,UACjBp8D,EAASv4C,EAAKqnH,OACdtuE,EAAQ6/B,EAAK47B,OAAS,CAAC,EAAG,GAC1B15G,EAAa89E,EAAKkU,OAAS,CAAC,EAAG,GAC/B7oF,EAAuB20E,EAAKguC,iBAAmB,CAAC,EAAG,GACnDpuE,EAAoBogC,EAAK0uC,cAAgB,CAACt1D,GAAK,GAAIA,GAAK,IACxD89B,EAAelX,EAAKiuC,SAAW,CAAC,EAAG,GAEnCr8B,EAAoB,GACpBt6E,EAAqB,IAAIjc,MAAc2kF,EAAKv0B,KAC9C0rC,EAAQ,EACRnkD,EAAO,EAEX,IAAK,IAAI77C,EAAI,EAAGA,EAAI6oF,EAAKv0B,IAAKt0D,IAAK,CAC/By6F,EAAY,EAAJz6F,EAAQ,GAAS,EAAJA,EAAQ,EAC7By6F,EAAY,EAAJz6F,EAAQ,GAAS,EAAJA,EAAQ,EAC7By6F,EAAY,EAAJz6F,EAAQ,GAAS,EAAJA,EAAQ,EAC7By6F,EAAY,EAAJz6F,EAAQ,GAAS,EAAJA,EAAQ,EAC7By6F,EAAY,EAAJz6F,EAAQ,GAAS,EAAJA,EAAQ,EAC7By6F,EAAY,EAAJz6F,EAAQ,GAAS,EAAJA,EAAQ,EAE7B,IAAK,IAAIy9F,EAAI,EAAGA,EAAI,EAAGA,IACnBt9E,EAAa,EAAJngB,EAAQy9F,GAAK,CAClBzE,IAAK,IAAI8C,GAAK,EAAG,GACjB+sB,GAAI,IAAI/sB,GAAK,EAAG,GAChBj+E,MAAO49E,GAAI,IAAK,IAAK,KACrBqtB,QAAS,GAGjBlgE,EAAU5oD,GAAK,IAAI22H,EACvB,CAEA,IAAM7tE,EAAc,IAAIggD,GAExB,SAAS7I,IAA2C,IAAlCjgG,EAAAxC,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAgB,EAC9B,KAAOwC,EAAQ6oF,EAAKv0B,KAAK,CACrB,GAAI1L,EAAU5oD,GAAO+2H,GACjB,OAAO/2H,EAEXA,GACJ,CACA,OAAO,IACX,CARS,OAAAwgE,GAAAy/B,EAAA,YAUF,CACHr5D,GAAI,YACJ9E,IAAAA,CAAK9hC,GACD,IAAIy9F,EAAuB,EAC3B,IAAK,IAAI7rE,EAAI,EAAGA,EAAI5xB,EAAG4xB,IAAK,CAExB,GADA6rE,EAAQwC,EAASxC,GACJ,MAATA,EAAe,OAEnB,IAAM1zC,EAAgB82C,GAClBp3C,EAAYjB,EACZiB,EAAYjB,GAEV26C,EAAMrH,GAAKG,UAAUlyC,GAAeyvC,MACtCqH,GAAK73C,EAAM,GAAIA,EAAM,KAEnBo6C,EAAQvC,GAAK91F,EAAW,GAAIA,EAAW,IACvC8xE,EAAkBgkB,GACpB3sF,EAAqB,GACrBA,EAAqB,IAEnB2f,EAAeouC,GACjB4+B,GAAKp4C,EAAkB,GAAGzoD,EAAGyoD,EAAkB,GAAGzoD,GAClD6gG,GAAKp4C,EAAkB,GAAGtoC,EAAGsoC,EAAkB,GAAGtoC,IAEhDkjF,EAAUxC,GACZd,EAAa,GACbA,EAAa,IAEXuD,EAAKxI,EAAW+F,GAAK/F,EAAS,GAAIA,EAAS,IAAM,KACjDyI,EAAMtzF,EAAKqpF,MACXrpF,EAAKqpF,MAAMluF,SACX62D,KAEA+b,EAAIp1B,EAAU60C,GACpBzf,EAAE6d,GAAKyH,EACPtlB,EAAEgb,IAAMuK,EACRvlB,EAAE44C,IAAMzzB,EACRnlB,EAAE5K,IAAMv/C,EACRmqD,EAAE+e,MAAQqG,EACVplB,EAAE64C,gBAAkBh6C,EACpBmB,EAAE84C,QAAUzzB,EACZrlB,EAAE64C,gBAAkBh6C,EACpBmB,EAAE+4C,IAAK,CACX,CACA/2B,GAAShgG,CACb,EACA8lB,MAAAA,GACI,QAAwB,IAApB2sC,GAAiCA,GAAmB,EACpD,OAEJ,IAAMzyD,EAAKo5G,KAEX,IAAK,IAAM3b,KAAK70C,EACZ,IAAI60C,EAAEs5B,GAIN,IADAt5B,EAAE5U,GAAK7oF,EACHy9F,EAAE5B,IAAM4B,EAAE5U,GAAK4U,EAAE5B,GAAI,CACrB4B,EAAEs5B,IAAK,EACP/2B,IACA,QACJ,CACAvC,EAAEm5B,IAAMn5B,EAAEm5B,IAAIvpH,IAAIowF,EAAErqB,IAAIomB,MAAMx5F,IAAKw5F,MAAM,EAAIiE,EAAEq5B,QAAU92H,GACzDy9F,EAAEzE,IAAMyE,EAAEzE,IAAI3rF,IAAIowF,EAAEm5B,IAAIp9B,MAAMx5F,IAC9By9F,EAAEV,OAASU,EAAEo5B,gBAAkB72H,CAAA,CAWnC,SARwB,IAApByyD,IACAA,GAAmBzyD,EACfyyD,GAAmB,GACnB3J,EAAYogD,WAIpBrtD,GAAQ77C,EAEJggG,EAAQnX,EAAKv0B,KAAOrkD,EAAKunH,MACtB37E,EAAO5rC,EAAKunH,MAEfroH,KAAK2yB,KAAK,GACVk+D,IACAnkD,GAAQ5rC,EAAKunH,IAErB,EACArK,IAAAA,GACI,UAAwB,IAApB16D,GAAiCA,GAAmB,GAKxD,KAAK,IAAIzyD,EAAI,EAAGA,EAAI4oD,EAAUnrD,OAAQuC,IAAK,CACvC,IAAMy9F,EAAI70C,EAAU5oD,GACpB,GAAIy9F,EAAEs5B,GACF,SAEJ,IAAMnlG,EAAW6rE,EAAEwkB,SACbl4D,EAAaxhD,KAAKgxD,MAAMkkC,EAAEwkB,SAAWznD,EAAO/8D,QAC5C0lG,EAAQp5C,EAAayQ,EAAO/8D,OAAS,EACrC49F,GACE7gC,EAAOzQ,GACPyQ,EAAOzQ,EAAa,GACpBgyC,GACInqE,EACAm4B,EAAayQ,EAAO/8D,QACnBssD,EAAa,GAAKyQ,EAAO/8D,OAC1B,EACA,IAGN+8D,EAAOzQ,GACPq5C,EAAe76F,KAAKgxD,MAAMkkC,EAAEwkB,SAAWtkH,EAAUF,QACjDo/E,EAAUumB,EAAezlG,EAAUF,OAAS,EAC5C49F,GACE19F,EAAUylG,GACVzlG,EAAUylG,EAAe,GACzBrH,GACInqE,EACAwxE,EAAezlG,EAAUF,QACxB2lG,EAAe,GAAKzlG,EAAUF,OAC/B,EACA,IAGNE,EAAUylG,GAEVvvE,EAAYtrB,KAAKgxD,MAAMkkC,EAAEwkB,SAAWtuG,EAAMlW,QAC1C4lG,EAAO1vF,EAAMkgB,GACbyvE,EAAa/6F,KAAKgxD,MAAMkkC,EAAEwkB,SAAWz4B,EAAO/rF,QAC5C8lG,EAAQ/Z,EAAO8Z,GACftlB,EAAIz1E,KAAK2zF,IAAIuB,EAAEV,MAAQx0F,KAAKqzF,GAAK,KACjC4H,EAAIj7F,KAAK4zF,IAAIsB,EAAEV,MAAQx0F,KAAKqzF,GAAK,KAEjClyC,GAAMm/B,EAAKq4B,QAAUr4B,EAAKq4B,QAAQ3lG,MAAQ,IAAM8nF,EAAK5F,EACrD,EACAgG,GAAM5a,EAAKq4B,QAAUr4B,EAAKq4B,QAAQ1lG,OAAS,IAAM6nF,EAAK3F,EACtD,EAEFgG,EAAQ,EAAJ1jG,EAEJ0hE,EAAIvhD,EAASujF,GACjBhiC,EAAEs3B,IAAIh5F,EAAIy9F,EAAEzE,IAAIh5F,GAAM0pD,EAAM65C,EAAQvlB,IAAMylB,EAAMF,EAAQC,EACxD9hC,EAAEs3B,IAAI74E,EAAIs9E,EAAEzE,IAAI74E,GAAMupC,EAAM65C,EAAQC,GAAMC,EAAMF,EAAQvlB,EACxDtc,EAAEmnD,GAAG7oH,EAAIqjG,EAAKrjG,EACd0hE,EAAEmnD,GAAG1oG,EAAIkjF,EAAKljF,EACduhD,EAAE7jD,MAAM+qC,EAAIu6C,EAAMv6C,EAClB8Y,EAAE7jD,MAAM48E,EAAI0I,EAAM1I,EAClB/4B,EAAE7jD,MAAM3J,EAAIivF,EAAMjvF,EAClBwtD,EAAEonD,QAAUjsC,EAEZnb,EAAIvhD,EAASujF,EAAI,GACjBhiC,EAAEs3B,IAAIh5F,EAAIy9F,EAAEzE,IAAIh5F,EAAI0pD,EAAK65C,EAAQvlB,IAAMylB,EAAMF,EAAQC,EACrD9hC,EAAEs3B,IAAI74E,EAAIs9E,EAAEzE,IAAI74E,EAAIupC,EAAK65C,EAAQC,GAAMC,EAAMF,EAAQvlB,EACrDtc,EAAEmnD,GAAG7oH,EAAIqjG,EAAKrjG,EAAIqjG,EAAK5F,EACvB/7B,EAAEmnD,GAAG1oG,EAAIkjF,EAAKljF,EACduhD,EAAE7jD,MAAM+qC,EAAIu6C,EAAMv6C,EAClB8Y,EAAE7jD,MAAM48E,EAAI0I,EAAM1I,EAClB/4B,EAAE7jD,MAAM3J,EAAIivF,EAAMjvF,EAClBwtD,EAAEonD,QAAUjsC,EAEZnb,EAAIvhD,EAASujF,EAAI,GACjBhiC,EAAEs3B,IAAIh5F,EAAIy9F,EAAEzE,IAAIh5F,EAAI0pD,EAAK65C,EAAQvlB,EAAIylB,EAAKF,EAAQC,EAClD9hC,EAAEs3B,IAAI74E,EAAIs9E,EAAEzE,IAAI74E,EAAIupC,EAAK65C,EAAQC,EAAIC,EAAKF,EAAQvlB,EAClDtc,EAAEmnD,GAAG7oH,EAAIqjG,EAAKrjG,EAAIqjG,EAAK5F,EACvB/7B,EAAEmnD,GAAG1oG,EAAIkjF,EAAKljF,EAAIkjF,EAAK3F,EACvBh8B,EAAE7jD,MAAM+qC,EAAIu6C,EAAMv6C,EAClB8Y,EAAE7jD,MAAM48E,EAAI0I,EAAM1I,EAClB/4B,EAAE7jD,MAAM3J,EAAIivF,EAAMjvF,EAClBwtD,EAAEonD,QAAUjsC,EAEZnb,EAAIvhD,EAASujF,EAAI,GACjBhiC,EAAEs3B,IAAIh5F,EAAIy9F,EAAEzE,IAAIh5F,GAAM0pD,EAAM65C,EAAQvlB,EAAIylB,EAAKF,EAAQC,EACrD9hC,EAAEs3B,IAAI74E,EAAIs9E,EAAEzE,IAAI74E,GAAMupC,EAAM65C,EAAQC,EAAIC,EAAKF,EAAQvlB,EACrDtc,EAAEmnD,GAAG7oH,EAAIqjG,EAAKrjG,EACd0hE,EAAEmnD,GAAG1oG,EAAIkjF,EAAKljF,EAAIkjF,EAAK3F,EACvBh8B,EAAE7jD,MAAM+qC,EAAIu6C,EAAMv6C,EAClB8Y,EAAE7jD,MAAM48E,EAAI0I,EAAM1I,EAClB/4B,EAAE7jD,MAAM3J,EAAIivF,EAAMjvF,EAClBwtD,EAAEonD,QAAUjsC,CAChB,CAEA2rC,GACIroG,EACAs6E,EACCtrF,KAAau5G,MACd7/B,EAAKq4B,QACJ/xG,KAAak6G,OACbl6G,KAAam6G,QAClB,CACJ,EACAmO,MAAMz3H,GACK8oD,EAAYz7C,IAAIrN,GAE3B8yH,QAAO,IACI,UAAU9yB,KAASnX,EAAKv0B,MAG3C,CCnVO,SAASojE,GAAQ7uC,GAAoD,IAAvC54E,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAsB,CAAC,EACxD,GAAIqrF,EAAIprF,OAAS,EACb,MAAM,IAAI+C,MACN,wCAAwCqoF,EAAIprF,0BAGpD,MAAO,CACHmpC,GAAI,UACJ27D,IAAA1Z,EACAqgC,OAAQj5G,EAAIi5G,OACZL,GAAI54G,EAAI44G,GACRpF,IAAKxzG,EAAIwzG,IACT5hB,OAAQ5xF,EAAI4xF,OACZsrB,IAAAA,GACInE,GAAY1oH,OAAOD,OAAOy1H,GAAe3mH,MAAO,CAC5CozF,IAAKpzF,KAAKozF,IACV2mB,OAAQ/5G,KAAK+5G,OACbL,GAAI15G,KAAK05G,GACTpF,IAAKt0G,KAAKs0G,IACV5hB,OAAQ1yF,KAAK0yF,OACbnI,KAAMzpF,EAAIypF,KACVyvB,YAAal5G,EAAIk5G,cAEzB,EACA6M,UAAAA,GACI,OAAO,IAAIh0B,GAAQ7yF,KAAKozF,IAC5B,EACAuwB,OAAAA,GACI,MAAO,YAAY3jH,KAAKozF,IAAItsE,KAAIw8B,GAAK,IAAIA,EAAEzyD,KAAKyyD,EAAEtyC,OAAMuL,KAAK,MACjE,EAER,CC3EO,SAASisG,GACZ9uC,EACA54E,EACAwiD,GAEA,IAAI7J,EAIJ,OAFejiB,GAAGgiF,KAAK5/G,KAAKmG,IAAI,QAEzBsf,SAAQ7wB,IACX,GAAI80D,GAAWA,EAAQiO,MAAKo6B,GAAOn9F,EAAEuiB,GAAG46E,KAAO,OAE/C,IAAMtR,EADQ7rF,EAAEi6H,YACE3yB,QAAQpc,EAAQ54E,GAC9Bu5E,IACI5gC,EACI4gC,EAAI+a,SAAW37C,EAAO27C,WACtB37C,EAAS4gC,EACT5gC,EAAQsI,OAASvzD,IAIrBirD,EAAS4gC,EACT5gC,EAAQsI,OAASvzD,GAG7B,IAEOirD,CACX,CCcO,SAASivE,GAAKhvC,EAAW54E,GAA4C,IAAjCwiD,EAAAj1D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAmB,CAAC,EAC3D,MAAO,CACHopC,GAAI,OACJrrB,MAAOstE,EACPrtE,OAAQvL,EACR4xF,OAAQpvC,EAAIovC,QAAU,EACtBsrB,IAAAA,GACImF,GAAShyH,OAAOD,OAAOy1H,GAAe3mH,MAAO,CACzCoM,MAAOpM,KAAKoM,MACZC,OAAQrM,KAAKqM,OACbqmF,OAAQ1yF,KAAK0yF,OACbnI,KAAMjnC,EAAIinC,OAElB,EACAs8B,UAAAA,GACI,OAAO,IAAIz4B,GAAKt7B,GAAK,GAAI9yD,KAAKoM,MAAOpM,KAAKqM,OAC9C,EACAs3G,OAAAA,GACI,MAAO,UAAUvqH,KAAK2iF,KAAK/7E,KAAKoM,YAC5BhT,KAAK2iF,KAAK/7E,KAAKqM,WAEvB,EAER,CCxDO,SAASs8G,GACZjvC,EACA54E,GAEA,MAAO,CACH22B,GAAI,SACJyiF,OAAQxgC,KACe,mBAAZ54E,EACL,CACEq5G,QAASr5G,IACT6V,MAAAA,GACI3W,KAAKm6G,QAAUr5G,GACnB,GAEF,CACEq5G,QAASr5G,GAEjB6iH,QAAO,IACI,WAAWjqC,IAG9B,CC0BO,SAASkvC,GACZlvC,EACA54E,GAEA,IAAKA,EAAI+nH,YAAc/nH,EAAIgoH,WACvB,MAAM,IAAIz3H,MAAM,0CAIpB,IAAMiyD,EAAQ9rB,GAAGgiF,KAAK5/G,KAAKsE,IAAI,CAC3B6qH,GAAIjoH,EAAI+oF,KAAO/2B,GAAK,MAGlBrZ,EAAUigC,EAAIprF,OAChB+8D,EAAa,EAGb78D,EAAiC,KACjCgW,EAA2B,KAC3B61E,EAA2B,KAC3BsR,EAAmC,KAEjCrxC,EAAY+W,IAACxgE,GAAkBA,EAAQA,EAAIA,EAAQmgB,EAAIq6C,GAA3C,aACZhS,EAAYgY,IAACxgE,GACfiiE,GACI15D,KAAKgxD,MAAMv5D,EAAOw6D,GAClBjyD,KAAKgxD,MAAMv5D,EAAOw6D,KAHR,aAMZxR,EAAmBwX,IAAC,KACtB7iE,EAAa,GACb,IAAK,IAAMqC,KAASyyD,EAAMjhD,SACtBzG,EAAqB/K,EAE7B,GALyB,oBAOnB+K,EAAuBy1D,IAACxgE,IAC1B,IAAMy9F,EAAIh0C,EAAUzpD,EAAIm4H,SACpBx6H,EAAY8/F,GACZ9/F,EAAY8/F,GAAGv4F,KAAKlF,GAGpBrC,EAAY8/F,GAAK,CAACz9F,EAE1B,GAR6B,wBAUvBkU,EAAuBssD,IAACxgE,IAC1B,IAAMy9F,EAAIh0C,EAAUzpD,EAAIm4H,SACxB,GAAIx6H,EAAY8/F,GAAI,CAChB,IAAM7rE,EAAQj0B,EAAY8/F,GAAG78F,QAAQZ,GACjC4xB,GAAS,GACTj0B,EAAY8/F,GAAG5rD,OAAOjgB,EAAO,EAErC,IAPyB,wBAUvB62B,EAAmB+X,IAAC,KACtB,IAAIxgE,GAAoB,EACxB,IAAK,IAAMy9F,KAAShrC,EAAMjhD,SAAU,CAChC,IAAMogB,EAAU6gC,EAAM2lE,SAAS36B,EAAMzE,MAEjCyE,EAAM06B,QAAQn4H,GAAK4xB,EAAQ5xB,GAAKy9F,EAAM06B,QAAQh4G,GAAKyR,EAAQzR,KAE3DngB,GAAoB,EACpBkU,EAAqBupF,GACrBA,EAAM06B,QAAQn4H,EAAI4xB,EAAQ5xB,EAC1By9F,EAAM06B,QAAQh4G,EAAIyR,EAAQzR,EAC1BpV,EAAqB0yF,GAE7B,CACIz9F,GACAyyD,EAAMy2C,QAAQ,oBAEtB,GAjByB,oBAsBnBnJ,EAAgBv/B,IAAC,KACnB,IAAMxgE,EAAayyD,EAAM4lE,gBACnB56B,EAAOhrC,EAAM6lE,UAAY7lE,EAAM8lE,aAChC5kH,EAIDA,EAAQlW,OAASggG,EAHjB9pF,EAAU,IAAIzP,MAAcu5F,GAKhC9pF,EAAQ+lF,KAAK,EAAG,EAAG+D,GACnB,IAAK,IAAI7rE,EAAI,EAAGA,EAAI5xB,EAAWvC,OAAQm0B,IAAK,CACxC,IAAMm4B,EAAU/pD,EAAW4xB,GAC3B,GAAIm4B,EAAS,CACT,IAAIo5C,EAAO,EACX,IAAK,IAAMC,KAAOr5C,EACd,IAAIq5C,EAAIo1B,WAAY,CAChBr1B,EAAO,IACP,KACJ,CAEIA,GAAQC,EAAIwZ,IAAA,CAGpBjpG,EAAQie,GAAKuxE,GAAQ,CACzB,CACJ,IAzBkB,iBA6BhB1I,EAAgBj6B,IAAC,KACnB,IAAMxgE,EAAayyD,EAAM4lE,gBACnB56B,EAAOhrC,EAAM6lE,UAAY7lE,EAAM8lE,aAChC/uC,EAIDA,EAAQ/rF,OAASggG,EAHjBjU,EAAU,IAAItlF,MAAcu5F,GAKhCjU,EAAQkQ,KAAK,GAAc,EAAG+D,GAC9B,IAAK,IAAI7rE,EAAI,EAAGA,EAAI5xB,EAAWvC,OAAQm0B,IAAK,CACxC,IAAMm4B,EAAU/pD,EAAW4xB,GAC3B,GAAIm4B,EAAS,CACT,IAAMo5C,EAAMp5C,EAAQtsD,OAChB2lG,EAAO,GACX,IAAK,IAAIvmB,EAAI,EAAGA,EAAIsmB,EAAKtmB,IACrBumB,GAAQr5C,EAAQ8yB,GAAG47C,SAEvBjvC,EAAQ53D,GAAKwxE,CACjB,CACJ,IApBkB,iBAyBhBjjF,EAAwBqgD,IAAC,KAC3B,IAAMxgE,EAAOyyD,EAAM6lE,UAAY7lE,EAAM8lE,aAC/B96B,EAAWj9B,IAAC,CAAAzW,EAAWo5C,KACzB,IAAMC,EAAqB,GAE3B,IADAA,EAASl+F,KAAK6kD,GACPq5C,EAAS3lG,OAAS,GAAG,CAExB,IAAMo/E,EAAIumB,EAASp+F,MAEnB8jD,EAAc+zB,GAAGruD,SAASqF,IAClBinE,EAAiBjnE,GAAK,IACtBinE,EAAiBjnE,GAAKsvE,EACtBC,EAASl+F,KAAK2uB,GAEtB,GACJ,IAba,YAeZinE,EAIDA,EAAgBr9F,OAASuC,EAHzB86F,EAAkB,IAAI52F,MAAclE,GAKxC86F,EAAgBpB,MAAM,EAAG,EAAG15F,GAC5B,IAAI4xB,EAAQ,EACZ,IAAK,IAAIm4B,EAAI,EAAGA,EAAIp2C,EAASlW,OAAQssD,IAC7B+wC,EAAgB/wC,IAAM,GAI1B0zC,EAAS1zC,EAAGn4B,GAHRA,GAKR,GAhC0B,yBAmCxBouE,EAAUx/B,IAAC,CAAAxgE,EAAcy9F,IAEpB9pF,EAAS8pF,IAFJ,WAKV5hD,EAAe2kB,IAAC,CAAAxgE,EAAcy9F,KAEhC,IAAM7rE,EAAK42B,EAAUxoD,GACf+pD,EAAKvB,EAAUi1C,GACrB,OAAO7rE,EAAGyqE,KAAKtyC,EACnB,GALqB,gBAOfjB,EAAgB0X,IAAC,CAAAxgE,EAAcy9F,KACjC,IAAM7rE,EAAI,GACJm4B,EAAIxhD,KAAKgxD,MAAMv5D,EAAOw6D,GACtB2oC,EAAOp5C,EAAI,GACQ,EAAjBy/B,EAASxpF,IACV2T,EAAS3T,EAAO,KAAO,IACxBojG,EAAMpjG,GAAQw6D,GACK,EAAjBgvB,EAASxpF,IACV2T,EAAS3T,EAAOw6D,KAAgB,IACjCqiB,EAAQ9yB,EAAIyQ,EAAa,GACN,EAAjBgvB,EAASxpF,IACV2T,EAAS3T,EAAO,KAAO,IACxB6zB,EAAS7zB,EAAOw6D,EAAa5R,EAAU4R,EAAa,GACjC,EAAjBgvB,EAASxpF,IACV2T,EAAS3T,EAAOw6D,KAAgB,IACvC,OAAIijC,GACI0F,IACIC,GAAKxxE,EAAE1sB,KAAKlF,EAAOw6D,EAAa,GACpC5oC,EAAE1sB,KAAKlF,EAAO,GACV6zB,GAAQjC,EAAE1sB,KAAKlF,EAAOw6D,EAAa,IAEvC4oC,GACAxxE,EAAE1sB,KAAKlF,EAAOw6D,GAEdqiB,IACIumB,GAAKxxE,EAAE1sB,KAAKlF,EAAOw6D,EAAa,GACpC5oC,EAAE1sB,KAAKlF,EAAO,GACV6zB,GAAQjC,EAAE1sB,KAAKlF,EAAOw6D,EAAa,IAEvC3mC,GACAjC,EAAE1sB,KAAKlF,EAAOw6D,KAId2oC,GACAvxE,EAAE1sB,KAAKlF,EAAO,GAEdojG,GACAxxE,EAAE1sB,KAAKlF,EAAOw6D,GAEdqiB,GACAjrD,EAAE1sB,KAAKlF,EAAO,GAEd6zB,GACAjC,EAAE1sB,KAAKlF,EAAOw6D,IAGf5oC,CACX,GAhDsB,iBAkDhBquE,EAAuB,CACzBr5D,GAAI,QAEJoxF,UAAS,IACE/nH,EAAI+nH,UAGfC,WAAU,IACChoH,EAAIgoH,WAGfS,KAAAA,CAEI14H,GAEF,QAAAqzF,EAAA71F,UAAAC,OADKggG,EAAA,IAAAv5F,MAAAmvF,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAAmK,EAAAnK,EAAA,GAAA91F,UAAA81F,GAEH,IAAM1hE,EAAIqwC,MAAQw7B,GAEZ1zC,EAAA,MACF,GAAmB,iBAAR/pD,EAaN,IAAIkE,MAAMC,QAAQnE,GACnB,OAAOA,EAGP,MAAM,IAAIQ,MACN,wCACJ,CAlBA,GAAIyP,EAAI0oH,MAAM34H,GAAM,CAChB,GAA8B,mBAAnBiQ,EAAI0oH,MAAM34H,GACjB,MAAM,IAAIQ,MACN,kEAGR,OAAOyP,EAAI0oH,MAAM34H,GAAK4xB,EAC1B,IACS3hB,EAAI2oH,aACT,OAAO3oH,EAAI2oH,aAAa54H,EAAK4xB,EAWxC,EAtBK,GAyBN,IAAKm4B,EACD,OAAO,KAGX,IAAIo5C,GAAS,EACTC,GAAU,EAEd,IAAK,IAAMvvE,KAAQk2B,EACC,SAAZl2B,EAAK+S,KAAew8D,GAAU,GAClB,QAAZvvE,EAAK+S,KAAcu8D,GAAS,GAG/BA,GAAQp5C,EAAM7kD,KAAKgzH,GAAI/oH,KAAK0pH,SAASjnG,KACrCwxE,GAASr5C,EAAM7kD,KAAK4zH,MAEzB,IAAMj8C,EAAMpqB,EAAMplD,IAAI08C,GAEtB,OAAIo5C,IACAtmB,EAAIk8C,cAAgBl8C,EAAImc,IAAIxtD,SAGhCqxC,EAAIs7C,QAAUvmG,EAEdirD,EAAIjB,UAAY4yB,GAAc3xB,GAE1Bl/E,IACAoN,EAAqB8xE,GACrB1tE,KAAK+5F,QAAQ,qBACb/5F,KAAK+5F,QAAQ,yBAGVrsB,CACX,EAEA07C,WAAU,IACC/9D,EAGX89D,QAAO,IACI1vE,EAGXowE,UAAAA,GACI,OAAOx+D,EAAarrD,KAAK6oH,WAC7B,EAEAiB,WAAAA,GACI,OAAOrwE,EAAUz5C,KAAK8oH,YAC1B,EAEAY,QAAAA,GACI,OAAO52D,MAAKzkE,WAASg8F,MAAMrqF,KAAK6oH,YAAa7oH,KAAK8oH,aACtD,EAEAG,QAAAA,GACI,IAAM36B,EAAIx7B,MAAKzkE,WACf,OAAOykE,GACH15D,KAAKgxD,MAAMkkC,EAAEz9F,EAAImP,KAAK6oH,aACtBzvH,KAAKgxD,MAAMkkC,EAAEt9E,EAAIhR,KAAK8oH,cAE9B,EAEAI,cAAa,KACJ16H,GACDqrD,IAEGrrD,GAGXu7H,qBAAAhlH,EAEAilH,qBAAApuH,EAEAquH,mBAAAA,CAA8Cp5H,GAC1C,OAAOmP,KAAK6tE,GAAG,oBAAqBh9E,EACxC,EAEAq5H,sBAAAA,CAAiDr5H,GAC7C,OAAOmP,KAAK6tE,GAAG,uBAAwBh9E,EAC3C,EAEAs5H,KAAAA,CAAMt5H,GACGrC,GACDqrD,IAEJ,IAAMy0C,EAAOh0C,EAAUzpD,GACvB,OAAOrC,EAAY8/F,IAAS,EAChC,EAEAwH,OAAAA,CAEIjlG,EACAy9F,GAEA,IAAM7rE,EAAcziB,KAAKoqH,QAAQv5H,GAC3B+pD,EAAiB56C,KAAKoqH,QAAQv5H,EAAOqN,IAAIowF,IAAYrB,IACvDxqE,GAEEuxE,EAAe,EAAIh0F,KAAK6oH,YAExBn7C,EAAMgoB,GADQ7kG,EAAOw5F,MAAM2J,GACI1F,GAAY5pE,IAC7C,IAAMwvE,EAAQl0F,KAAKmqH,MAAMzlG,GACzB,GAAIwvE,EAAM3iC,MAAK6iC,GAAKA,EAAEi1B,aAClB,OAAO,EAEX,IAAIl1B,EAAwB,KAC5B,IAAK,IAAMC,KAAQF,EACf,GAAIE,EAAKjxF,IAAI,QAAS,CAElB,IAAMkxF,EADQD,EAAKq0B,YACD3yB,QACdrzE,EACAm4B,GAEAy5C,IACIF,EACIE,EAAIe,SAAWjB,EAAOiB,WACtBjB,EAASE,EACTF,EAAOpyC,OAASqyC,IAIpBD,EAASE,EACTF,EAAOpyC,OAASqyC,GAG5B,CAEJ,OAAID,IACAA,EAAOgB,MAAQn1F,KAAKqqH,UAAUl2B,EAAOgB,OAAO9K,MACxC2J,IAGDG,IAAU,CACrB,GAAG,IACH,OAAIzmB,IACAA,EAAIynB,MAAQznB,EAAIynB,MAAM9K,MAAMrqF,KAAK6oH,cAE9Bn7C,CACX,EAEA/2D,MAAAA,GACQnoB,GACA8qD,GAER,EAEAgxE,uBAAAA,GACI9lH,EAAU,KACV61E,EAAU,KACVsR,EAAkB,IACtB,EAEA4+B,sBAAAA,CAAiD15H,GAC7C,OAAOmP,KAAK6tE,GAAG,uBAAwBh9E,EAC3C,EAEA25H,WAAAA,CAEI35H,EACAy9F,GAEF,IADE7rE,EAAAp0B,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAoB,CAAC,EAmBrB,GAjBKmW,GACDosF,IAECvW,GACDiR,IAECK,GACD36E,IAKAngB,EAAKA,EAAI,GAAKA,EAAKA,GAAKw6D,GACrBx6D,EAAKmgB,EAAI,GAAKngB,EAAKmgB,GAAKyoC,GAK3B60C,EAAGz9F,EAAI,GAAKy9F,EAAGz9F,GAAKw6D,GACjBijC,EAAGt9E,EAAI,GAAKs9E,EAAGt9E,GAAKyoC,EAEvB,OAAO,KAGX,IAAMmB,EAAQN,EAAUzpD,GAClBmjG,EAAO15C,EAAUg0C,GAOvB,GAAI9pF,EAASwvF,KAAU,IACnB,OAAO,KAIX,GAAIp5C,IAAUo5C,EACV,MAAO,GAMX,IACgC,GAA5BrI,EAAiB/wC,IACd+wC,EAAiB/wC,KAAW+wC,EAAiBqI,GAEhD,OAAO,KAQX,IAAMC,EAAW,IAAIwG,IAAqB,CAAC5rB,EAAGwlB,IAC1CxlB,EAAE4+B,KAAOpZ,EAAEoZ,OAEfxZ,EAAS2G,OAAO,CAAE6S,KAAM,EAAG/+G,KAAMksD,IAEjC,IAAM8yB,EAAW,IAAIlwE,IACrBkwE,EAASr7E,IAAIuoD,EAAOA,GACpB,IAAMl2B,EAAY,IAAIlnB,IAGtB,IAFAknB,EAAUryB,IAAIuoD,EAAO,GAEM,IAApBq5C,EAAS3lG,QAAc,CAE1B,IAAMugF,EAAUolB,EAASoG,UAAU3rG,KAEnC,GAAImgF,IAAYmlB,EACZ,MAGJ,IAAMK,EAAa16C,EACfk1B,EACApsD,EAAKgoG,gBAET,IAAK,IAAMlwE,KAAQ85C,EAAY,CAC3B,IAAMC,GAAW5vE,EAAU3kB,IAAI8uE,IAAY,GACrCgiB,EAAQhiB,EAASt0B,GACjB7N,EAAa6N,EAAMy5C,KAEpBtvE,EAAUvhB,IAAIo3C,IAEZ+5C,EAAU5vE,EAAU3kB,IAAIw6C,MAE3B71B,EAAUryB,IAAIkoD,EAAM+5C,GACpBL,EAAS2G,OAAO,CAAE6S,KAAMnZ,EAAS5lG,KAAM6rD,IACvCmzB,EAASr7E,IAAIkoD,EAAMs0B,GAE3B,CACJ,CAEA,IAAMqlB,EAAO,GACTC,EAAOH,EACLI,EAAI/6C,EAAU86C,GAGpB,IAFAD,EAAKn+F,KAAKq+F,GAEHD,IAASv5C,GAAO,CACnB,IAAIi0B,EAAWnB,EAAS3tE,IAAIo0F,GAE5B,QAAiB,IAAbtlB,EACA,MAAM,IAAIx9E,MAAM,gCAGpB8iG,EAAOtlB,EAEP,IAAMwlB,EAAIh7C,EAAU86C,GACpBD,EAAKn+F,KAAKs+F,EACd,CAEA,OAAOH,EAAKqZ,SAChB,EAEA4B,OAAAA,CAEIt+G,EACAy9F,GAEF,IADE7rE,EAAAp0B,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAoB,CAAC,EAEfusD,EAAK56C,KAAK6oH,YACV70B,EAAKh0F,KAAK8oH,aACV70B,EAAOj0F,KAAKwqH,YACdxqH,KAAKipH,SAASp4H,GACdmP,KAAKipH,SAAS36B,GACd7rE,GAEJ,OAAIwxE,EACO,CACHpjG,KACGojG,EACE93F,MAAM,GAAI,GACV2qB,KAAK4mD,GACFA,EAAQ2c,MAAMzvC,EAAIo5C,GAAI91F,IAAI08C,EAAK,EAAGo5C,EAAK,KAE/C1F,GAIG,IAEf,GAGJ,OAAAhrC,EAAM78B,IAAIqqE,GAEVxtC,EAAM4mE,wBAAuB,KACzB5mE,EAAMgnE,0BACNhnE,EAAMy2C,QAAQ,uBAClB,IAEArgB,EAAIr6D,SAAQ,CAACxuB,EAAKy9F,KACd,IAAM7rE,EAAO5xB,EAAIwC,MAAM,IACvBg4D,EAAajyD,KAAK+rD,IAAI1iC,EAAKn0B,OAAQ+8D,GACnC5oC,EAAKpD,SAAQ,CAACu7B,EAAKo5C,KACf1wC,EAAMimE,MAAM3uE,EAAKkY,GAAKkhC,EAAG1F,GAC7B,GACJ,IAEOhrC,CACX,CC/nBO,SAASonE,GACZhxC,EACA54E,EACAwiD,GAEA,OAAK9rB,GAAGgiF,KAAKmR,UAAUxwB,UAAUzgB,KAC7BliD,GAAGgiF,KAAKmR,UAAUxwB,UAAUzgB,GAAS,IAAI2f,IAGtC7hE,GAAGgiF,KAAKmR,UAAU98C,GACG6L,GACxB,SAACjgC,GAAiB,QAAAmxE,EAAAv8H,UAAAC,OAAT+8D,EAAA,IAAAt2D,MAAA61H,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAAx/D,EAAAw/D,EAAA,GAAAx8H,UAAAw8H,GACDpxE,EAAI1oC,GAAGjQ,IACPwiD,EAAG7J,KAAQ4R,EAEnB,GAER,CNyGgBgG,GAAAw2D,GAAA,aC1FAx2D,GAAAk3D,GAAA,WC5CAl3D,GAAAm3D,GAAA,WC0CAn3D,GAAAq3D,GAAA,QCjCAr3D,GAAAs3D,GAAA,UC+CAt3D,GAAAu3D,GAAA,YC5CAv3D,GAAAq5D,GAAA,MAmBT,IAAMI,GAAUz5D,IAAC,SAAAqoB,EAAe54E,GACnC,IAAK,IAAM24C,KAAOjiB,GAAGgiF,KAAK5/G,KAAKyI,SACvBo3C,EAAI1oC,GAAGjQ,IACP24C,EAAIsgD,QAAQrgB,EAGxB,GANuB,WAQVqxC,GAAgB7yC,IACxBwB,IACG,IAAM54E,EAAM02B,GAAGgiF,KAAK5/G,KAAKsE,IAAI,CAAC,CAAE8sH,YAAatxC,KAC7C,MAAO,CACH,UAAI+f,GACA,OAAO34F,EAAI24F,MACf,EACA,UAAIA,CAAOn2C,GACPxiD,EAAI24F,OAASn2C,CACjB,EACAo2C,OAAQroC,IAAC,IAAKvwD,EAAIgoB,WAAV,UAEhB,IACA,CAAC4wD,EAAU54E,IACA4pH,GAAG,cAAehxC,EAAK54E,KAIzBmqH,GAAW/yC,IAAWwB,IAC/B,IAAM54E,EAAM02B,GAAGgiF,KAAK5/G,KAAKsE,IAAI,CAAC,CAAEyY,OAAQ+iE,KACxC,MAAO,CACH,UAAI+f,GACA,OAAO34F,EAAI24F,MACf,EACA,UAAIA,CAAOn2C,GACPxiD,EAAI24F,OAASn2C,CACjB,EACAo2C,OAAQroC,IAAC,IAAKvwD,EAAIgoB,WAAV,UAEhB,IAAG,CAAC4wD,EAAU54E,IACH4pH,GAAG,SAAUhxC,EAAK54E,KAGhBoqH,GAAShzC,IAAWwB,IAC7B,IAAM54E,EAAM02B,GAAGgiF,KAAK5/G,KAAKsE,IAAI,CAAC,CAAE8/G,KAAMtkC,KACtC,MAAO,CACH,UAAI+f,GACA,OAAO34F,EAAImnF,MACf,EACA,UAAIwR,CAAOn2C,GACPxiD,EAAImnF,OAAS3kC,CACjB,EACAo2C,OAAQroC,IAAC,IAAKvwD,EAAIgoB,WAAV,UAEhB,IAAG,CAAC4wD,EAAU54E,IACH4pH,GAAG,OAAQhxC,EAAK54E,KAGdqqH,GAAQjzC,IAAWwB,GACrBliD,GAAGgiF,KAAKn0F,OAAOwoD,GAAG,MAAO6L,KACjC,CAACA,EAAU54E,IACH4pH,GAAG,MAAOhxC,EAAK54E,KAGbsqH,GAAYlzC,IAAWwB,GACzBliD,GAAGgiF,KAAKn0F,OAAOwoD,GAAG,UAAW6L,KACrC,CAACA,EAAU54E,IACH4pH,GAAG,UAAWhxC,EAAK54E,KAGjBuqH,GAAQnzC,IAAWwB,GACrBliD,GAAGgiF,KAAKn0F,OAAOwoD,GAAG,MAAO6L,KACjC,CAACA,EAAU54E,IACH4pH,GAAG,MAAOhxC,EAAK54E,KAGbwqH,GAAUpzC,IAClBwB,GACUliD,GAAGgiF,KAAKn0F,OAAOwoD,GAAG,QAAS6L,KAEtC,CAACA,EAAU54E,IACA4pH,GAAG,QAAShxC,EAAK54E,KAInBorD,GAAQgsB,IAAWwB,GACrBliD,GAAGgiF,KAAKn0F,OAAOwoD,GAAG,MAAO6L,KACjC,CAACA,EAAU54E,IACH4pH,GAAG,MAAOhxC,EAAK54E,KAGbyqH,GAAUrzC,IAClBwB,GACUliD,GAAGgiF,KAAKn0F,OAAOwoD,GAAG,QAAS6L,KAEtC,CAACA,EAAU54E,IACA4pH,GAAG,QAAShxC,EAAK54E,KAKzB,SAAS0qH,GACZ9xC,EACA54E,EACAwiD,GAEA,OAAOonE,GAAG,UAAWhxC,GAAI,CAACjgC,EAAG4R,EAAG78D,IAAQ68D,EAAEt6C,GAAGjQ,IAAOwiD,EAAE7J,EAAG4R,EAAG78D,IAChE,CAEO,SAASi9H,GACZ/xC,EACA54E,EACAwiD,GAEA,OAAOonE,GAAG,gBAAiBhxC,GAAI,CAACjgC,EAAG4R,EAAG78D,IAAQ68D,EAAEt6C,GAAGjQ,IAAOwiD,EAAE7J,EAAG4R,EAAG78D,IACtE,CAEO,SAASk9H,GACZhyC,EACA54E,EACAwiD,GAEA,OAAOonE,GAAG,aAAchxC,GAAI,CAACjgC,EAAG4R,EAAG78D,IAAQ68D,EAAEt6C,GAAGjQ,IAAOwiD,EAAE7J,EAAG4R,EAAG78D,IACnE,CAEO,SAASm9H,GAAuBjyC,EAAQ54E,GAC3C02B,GAAGgiF,KAAK5/G,KAAKmG,IAAI25E,EAAG,CAAEkqC,WAAW,IAAQvkG,QAAQve,GACjDqqH,GAAMzxC,EAAG54E,GACTorD,IAAM,CAAC5I,EAAK7J,KACJA,IAAQigC,GACR54E,EAAOwiD,EAEf,GACJ,CAhCgB+N,GAAAm6D,GAAA,aAQAn6D,GAAAo6D,GAAA,mBAQAp6D,GAAAq6D,GAAA,gBAQAr6D,GAAAs6D,GAAA,0BAUT,IAAMC,GAAU1zC,IAAWwB,GACvBliD,GAAG0yE,IAAInB,aAAarvB,KAC5B,CAACA,EAAU54E,KACV,IAAMwiD,EAA6B,GAEnC,OAAAqoE,GAAuBjyC,GAAMjgC,IACzB,IAAKA,EAAIywC,KACL,MAAM,IAAI74F,MACN,0DAGRiyD,EAAOvtD,KAAK0jD,EAAIv/B,SAAQ,IAAMpZ,EAAO24C,KACzC,IACO+/C,GAAiBj9E,KAAK+mC,EACjC,IAGO,SAASuoE,GACZnyC,EACA54E,GAEA,IAAMwiD,EAA6B,GAEnC,OAAAqoE,GAAuBjyC,GAAIjgC,IACvB,IAAKA,EAAIywC,KACL,MAAM,IAAI74F,MACN,0DAGRiyD,EAAOvtD,KAAK0jD,EAAIqyE,SAAQ,IAAMhrH,EAAO24C,KACzC,IACO+/C,GAAiBj9E,KAAK+mC,EACjC,CAGO,SAASyoE,GACZryC,EACA54E,GAEA,IAAMwiD,EAA6B,GAEnC,OAAAqoE,GAAuBjyC,GAAIjgC,IACvB,IAAKA,EAAIywC,KACL,MAAM,IAAI74F,MACN,gEAGRiyD,EAAOvtD,KAAK0jD,EAAIuyE,eAAc,IAAMlrH,EAAO24C,KAC/C,IACO+/C,GAAiBj9E,KAAK+mC,EACjC,CAGO,SAAS2oE,GACZvyC,EACA54E,GAEA,IAAMwiD,EAA6B,GAEnC,OAAAqoE,GAAuBjyC,GAAIjgC,IACvB,IAAKA,EAAIywC,KACL,MAAM,IAAI74F,MACN,6DAGRiyD,EAAOvtD,KAAK0jD,EAAIyyE,YAAW,IAAMprH,EAAO24C,KAC5C,IACO+/C,GAAiBj9E,KAAK+mC,EACjC,CAEO,SAAS6oE,GAAUzyC,GACtBliD,GAAGgiF,KAAKn0F,OAAOwoD,GAAG,UAAW6L,EACjC,CAEO,SAAS0yC,GAAS1yC,GACrBliD,GAAG0yE,IAAIzB,SAAS/uB,EACpB,CAEO,SAAS2yC,GAAQ3yC,GACpBliD,GAAGgiF,KAAKn0F,OAAOwoD,GAAG,QAAS6L,EAC/B,CAEO,SAAS4yC,GAAO5yC,GACfliD,GAAG06E,OAAOG,OACV34B,IAGAliD,GAAGgiF,KAAKn0F,OAAOwoD,GAAG,OAAQ6L,EAElC,CAEO,SAAS6yC,GACZ7yC,GAEA,IAAIliD,GAAG06E,OAAOG,OAIV,OAAO76E,GAAGgiF,KAAKn0F,OAAOwoD,GAAG,YAAa6L,GAHtCs6B,KAAkB30F,SAAQve,GAAS44E,KAAM54E,IAKjD,CCpQO,SAAS0rH,KACZh1F,GAAGgiF,KAAKC,IAAI5vB,IAAM/2B,MAAKzkE,UAC3B,CAEO,SAASo+H,KACZ,OAAOj1F,GAAGgiF,KAAKC,IAAI5vB,IAAMryD,GAAGgiF,KAAKC,IAAI5vB,IAAIxtD,QAAU00E,IACvD,CAEO,SAAS2b,KACZl1F,GAAGgiF,KAAKC,IAAIpvB,MAAQv3B,MAAKzkE,UAC7B,CAEO,SAASs+H,KACZ,OAAOn1F,GAAGgiF,KAAKC,IAAIpvB,MAAMhuD,OAC7B,CAEO,SAASmkD,GAAU9G,GACtBliD,GAAGgiF,KAAKC,IAAI7rB,MAAQlU,CACxB,CAEO,SAASkzC,KACZ,OAAOp1F,GAAGgiF,KAAKC,IAAI7rB,KACvB,CAEO,SAASi/B,KACZ,OAAOr1F,GAAGgiF,KAAKC,IAAIhtC,UAAUpwC,OACjC,CAEO,SAASywF,KAGd,IAFEpzC,EAAArrF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAoBi+F,GAAI,IAAK,IAAK,KAClCxrF,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAsB,EAElBi1D,EAAQ9rB,GAAGgiF,KAAK5/G,KAAKsE,IAAI,CACzBwqH,GAAKpZ,KAASC,MACduX,GAAMptC,GACNytC,GAAQ,GC5BL,CACH1vF,GAAI,QACJ8hF,OAAO,KD6BP9/D,EAAO6J,EAAM+jE,QAAQvmH,GACzB,OAAA24C,EAAK6uE,OAAM,IAAMyE,GAAQzpE,KAClB7J,CACX,CAEO,SAASuzE,KACZ,OAAOx1F,GAAGgiF,KAAKC,IAAIhtC,UAAUpwC,OACjC,CAEO,SAAS4wF,KAA8B,IAAxBvzC,EAAArrF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAoB,GACtCmpC,GAAGgiF,KAAKC,IAAI+K,OAAS9qC,CACzB,CAEO,SAASwzC,GAASxzC,GACrB,OAAOliD,GAAGgiF,KAAKC,IAAIhtC,UAAUyhB,SAASxU,EAC1C,CAEO,SAASyzC,GAAQzzC,GACpB,OAAOliD,GAAGgiF,KAAKC,IAAIhtC,UAAUsf,SAASmC,SAASxU,EACnD,CAEO,SAAS0zC,KACZ,OAAAnxB,GAAa,SAAU,yBAEnB5tG,UAAIC,OAAS,GACbk+H,MAAUn+H,WAEPo+H,IACX,CAEO,SAASY,KACZ,OAAApxB,GAAa,WAAY,6BAErB5tG,UAAMC,OAAS,GACfo+H,MAAYr+H,WAETs+H,IACX,CAEO,SAASW,GAAO5zC,GACnB,OAAAuiB,GAAa,SAAU,8BAET,IAAVviB,GACA8G,GAAU9G,GAEPkzC,IACX,CAEO,SAASW,KAGd,IAFE7zC,EAAArrF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAoBi+F,GAAI,IAAK,IAAK,KAClCxrF,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAsB,EAEtB,OAAA4tG,GAAa,WAAY,SAElB6wB,GAAMpzC,EAAY54E,EAC7B,CEtEO,SAASlP,KAA6C,IAArC8nF,EAAArrF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAqB,GACnCyS,EAAa,IAAItD,IACjB8lD,EAA8B,GAC9B7J,EAAW,CAAC,EACZ4R,EAAS,IAAI6uC,GACb1rG,EAAkC,GAClCgW,EAAO,IAAI5G,IAAS,KACpBy8E,EAAwB7iD,GAAGq+E,UAAU2X,iBACvC7hC,EAAoC,KACpCrxC,GAAS,EAGPjB,EAAuC,CACzC5hB,GAAI4lE,KAEJpV,QAAQ,EACRxb,UAAW,IAAIwjB,GACf5tF,SAAU,GACV+U,OAAQ,KAER,UAAIqiF,CAAO79F,GACP,GAAIA,IAAM0+C,EACV,CAAAA,EAAS1+C,EACT,IAAK,IAAMmJ,KAAKvW,EACZuW,EAAE00F,OAAS79F,CAAA,CAEnB,EAEA,UAAI69F,GACA,OAAOn/C,CACX,EAEA,QAAImzE,GACA,OAAO14H,MAAM8+D,KAAKrvD,EACtB,EAEAtG,GAAAA,CAAuBtC,GACnB,IAAMmJ,EAAMhQ,MAAMC,QAAQ4G,GAAKhK,GAAKgK,GAAKA,EACzC,GAAImJ,EAAIqS,OACJ,MAAM,IAAI/lB,MACN,oDAGR,OAAA0T,EAAIqS,OAASpX,KACb+E,EAAI0nE,UAAY4yB,GAAct6F,GAC9B/E,KAAKqC,SAAStM,KAAKgP,GAEnBA,EAAIg1F,QAAQ,MAAOh1F,GACnByyB,GAAGgiF,KAAKn0F,OAAO00E,QAAQ,MAAOh1F,GACvBA,CACX,EAEA2oH,KAAAA,CAAM9xH,GACF,IAAMmJ,EAAM/E,KAAKqC,SAAS5Q,QAAQmK,GAClC,OAAa,IAATmJ,IACA/E,KAAKqC,SAASqgC,OAAO39B,EAAK,GAC1B/E,KAAKqC,SAAStM,KAAK6F,IAEhBA,CACX,EAEAy+F,MAAAA,CAAOz+F,GACH,IAAMmJ,EAAM/E,KAAKqC,SAAS5Q,QAAQmK,GAElC,IAAa,IAATmJ,EAAY,CACZnJ,EAAIwb,OAAS,KACbpX,KAAKqC,SAASqgC,OAAO39B,EAAK,GAE1B,IAAMu0C,EAAU+X,IAACu/B,IACbA,EAAEmJ,QAAQ,WACVviE,GAAGgiF,KAAKn0F,OAAO00E,QAAQ,UAAWnJ,GAClCA,EAAEvuF,SAASgd,SAASisE,GAAUhyC,EAAQgyC,IAC1C,GAJgB,WAMhBhyC,EAAQ19C,EACZ,CACJ,EAGA+xH,SAAAA,CAAyB/xH,GACrB,GAAIA,EACAoE,KAAKD,IAAInE,GAAKyjB,SAASta,GAAQ/E,KAAKq6F,OAAOt1F,UAG3C,IAAK,IAAMA,IAAS,IAAI/E,KAAKqC,UAAWrC,KAAKq6F,OAAOt1F,EAE5D,EAEAimH,WAAAA,GACQhrH,KAAKy5F,SACTz5F,KAAKqC,SAEAgd,SAASzjB,GAAUA,EAAMovH,gBAC9BhrH,KAAK+5F,QAAQ,eACjB,EAEApjF,MAAAA,GACQ3W,KAAKy5F,SACTz5F,KAAKqC,SAEAgd,SAASzjB,GAAUA,EAAM+a,WAC9B3W,KAAK+5F,QAAQ,UACjB,EAEAikB,IAAAA,GAKI,GAAIh+G,KAAKioF,OAAQ,OACbjoF,KAAKk/F,SACLsR,KACAxwG,KAAKk/F,OAAOv2E,QAEhB,IAAM/sB,EAAI47B,GAAGk4E,IAAI6J,MACbv5G,KAAKu5G,QAAO/hF,GAAGk4E,IAAI6J,OAAQ,GAC/BrJ,KACAD,GAAcjwG,KAAK6pF,KACnBwmB,GAAUrwG,KAAKqqF,OACfimB,GAAWtwG,KAAK4tF,OAChB,IAAM7oF,EAAW/E,KAAKqC,SAAS4sD,MAAK,CAAC3V,EAAIs3C,KAC1Bt3C,EAAGs0E,YAAcp2F,GAAGgiF,KAAKqU,oBACzBj9B,EAAGg9B,YAAcp2F,GAAGgiF,KAAKqU,qBACfv0E,EAAG+0C,GAAK,IAAMuC,EAAGvC,GAAK,KAG/C,GAAIruF,KAAKknH,KAAM,CACX,IAAM5tE,EAAW,CACbw0E,UAAWt2F,GAAGq3C,EAAEk/C,WAChBC,SAAUx2F,GAAGq3C,EAAEo/C,gBACjBjuH,KAAKknH,MACP,IAAK5tE,EACD,MAAM,IAAIjoD,MAAM,uBAAuB2O,KAAKknH,SAEhD5tE,GAAS,KACLv0C,EAASsa,SAASuxE,GAAUA,EAAMotB,QACtC,IAAG,KACCh+G,KAAK+5F,QAAQ,OACjB,GACJ,MAEI/5F,KAAK+5F,QAAQ,QACbh1F,EAASsa,SAASi6B,GAAUA,EAAM0kE,SAEtCzN,KACA/4E,GAAGk4E,IAAI6J,MAAQ39G,EACXoE,KAAKk/F,SACLsR,KACAxwG,KAAKk/F,OAAOqY,SAEpB,EAEAuM,WAAAA,GACQ9jH,KAAKioF,SACTioB,KACAD,GAAcjwG,KAAK6pF,KACnBwmB,GAAUrwG,KAAKqqF,OACfimB,GAAWtwG,KAAK4tF,OAChB5tF,KAAKqC,SAEAgd,SAASzjB,GAAUA,EAAMkoH,gBAC9B9jH,KAAK+5F,QAAQ,eACbwW,KACJ,EAGA9pF,GAAAA,CAAmB7qB,GACf,GAAmB,iBAARA,EAEP,OAAO4I,EAAKtG,IAAItC,GAEf,IAAKA,GAAuB,iBAARA,EACrB,MAAM,IAAIvK,MACN,6EAA6EuK,MAIrF,IAAImJ,EAAK,GAGLnJ,EAAK67B,IACLz3B,KAAKkuH,MAAMtyH,EAAK67B,IAChBgiB,EAAS79C,EAAK67B,IAAM,GACpB1yB,EAAK00C,EAAS79C,EAAK67B,IACnB32B,EAAWzO,IAAIuJ,EAAK67B,GAAI77B,GAEpBy+E,GAAuB71E,EAAKtG,IAAItC,EAAK67B,KAGzC6rB,EAAoBvtD,KAAK6F,GAG7B,IAAK,IAAMg1F,KAAKh1F,EAAM,CAClB,GAAIs9F,GAAU/1F,IAAIytF,GACd,SAGJ,IAAMtF,EAAOn6F,OAAO2B,yBAAyB8I,EAAMg1F,GACnD,GAAKtF,EAmBL,GAjB0B,mBAAfA,EAAKt4F,QAEZ4I,EAAKg1F,GAAKh1F,EAAKg1F,GAAGjoE,KAAK3oB,OAGvBsrF,EAAKj5F,KACLlB,OAAOgB,eAAeyJ,EAAMg1F,EAAG,CAC3Bv+F,IAAKi5F,EAAKj5F,IAAIs2B,KAAK3oB,QAIvBsrF,EAAKvrF,KACL5O,OAAOgB,eAAeyJ,EAAMg1F,EAAG,CAC3B7wF,IAAKurF,EAAKvrF,IAAI4oB,KAAK3oB,QAIvBm5F,GAAYh2F,IAAIytF,GAAI,CAEpB,IAAM5/E,EAAa,QAAN4/E,EACP,KACEjF,EAAmBt6B,IAACw/B,GAAW9rF,EAAGhP,KAAK86F,IAApB,oBACnBj1F,EAAKg1F,OACLjF,EAAmB,IACvB,EACE/vF,EAAyBg1F,GAC/B7rF,EAAGhP,KAAKiK,KAAK6tE,GAAG+iB,EAAS5/E,GAAM0oF,OACnC,cAEoB,IAAZ15F,KAAK4wF,GAUJ,CACD,IAAM5/E,EAAiBlQ,EAAWqtH,SAASC,MAAKv9B,QAC1B,IAAjBA,EAAUD,MACZn5D,GACH,MAAM,IAAIpmC,MACN,kCAAkCu/F,8BAA8Bh1F,EAAK67B,OAC9DzmB,EACG,0BAA0BA,MAC1B,IAElB,CAlBI7f,OAAOgB,eAAe6N,KAAM4wF,EAAG,CAC3B7wF,IAAKsxD,IAAC,IAAKz1D,EAAyBg1F,IAA/B,OACLv+F,IAAKg/D,IAACrgD,GAAQpV,EAAyBg1F,GAAK5/E,GAAvC,OACLje,cAAc,EACdkN,YAAY,IAEhB8E,EAAGhP,MAAK,WAAaiK,KAAK4wF,IAY9B,CAER,CAGA,IAAMt3C,EAAY+X,IAAC,KACf,GAAKz1D,EAAK7N,QACV,IAAK,IAAM6iG,KAAOh1F,EAAK7N,QACnB,IAAKiS,KAAKw3B,EAAEo5D,GACR,MAAM,IAAIv/F,MACN,cAAcuK,EAAK67B,2BAA2Bm5D,KAClD,GANM,aAWdh1F,EAAKktB,SACL/jB,EAAGhP,KAAK6F,EAAKktB,QAAQH,KAAK3oB,OAI1BA,KAAKquH,UACL/0E,IACI19C,EAAKsC,MACLytF,EAAmBt6B,IAACu/B,GAAW7rF,EAAGhP,KAAK66F,IAApB,oBACnBh1F,EAAKsC,IAAI1L,KAAKwN,MACd2rF,EAAmB,MAEnB/vF,EAAK67B,KACLz3B,KAAK+5F,QAAQ,MAAOn+F,EAAK67B,IACzBD,GAAGgiF,KAAKn0F,OAAO00E,QAAQ,MAAO/5F,KAAMpE,EAAK67B,MAIzC77B,EAAK7N,SACLgX,EAAGhP,KAAKiK,KAAK6tE,GAAG,MAAOv0B,GAAWogD,OAG9C,EAGAw0B,KAAAA,CAAqBtyH,GACjB,GAAIkF,EAAWqC,IAAIvH,GAAK,CAEpB,IAAK,IAAMmJ,KAAQjE,EAAWqtH,SAC1B,GAAIppH,EAAKhX,SAAWgX,EAAKhX,QAAQwF,SAASqI,GACtC,MAAM,IAAIvK,MACN,2BAA2B0T,EAAK0yB,2BAA2B77B,MAKvEkF,EAAWse,OAAOxjB,GAElBoE,KAAK+5F,QAAQ,QAASn+F,GACtB47B,GAAGgiF,KAAKn0F,OAAO00E,QAAQ,QAAS/5F,KAAMpE,EAC1C,MACSy+E,GAAyB71E,EAAKrB,IAAIvH,IACvC4I,EAAK4a,OAAOxjB,GAGZ69C,EAAS79C,KACT69C,EAAS79C,GAAIyjB,SAASta,GAAMA,aAErB00C,EAAS79C,GAExB,EAEA47B,EAAE57B,GACSkF,EAAWf,IAAInE,IAAO,KAGjCmE,GAAAA,CAAInE,GAA8C,IAA9BmJ,EAAA1W,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAe,CAAC,EAC1BirD,EAAmB+X,IAAC,CAAAi6B,EAAgBt6E,IACpB,UAAdjM,EAAKy+C,KACE8nC,EAAMnoF,IAAI6N,GAEE,SAAdjM,EAAKy+C,KACH8nC,EAAMv6E,GAAGC,GAGTs6E,EAAMv6E,GAAGC,IAAMs6E,EAAMnoF,IAAI6N,IARf,oBAYrB4/E,EAAkB7rF,EAAK6+G,UACrB5jH,KAAKqC,SAASisH,QACZj9D,IAAA,SAASi6B,EAAQt6E,GACb,MAAO,CAACA,KAAUA,EAAM3O,SAASisH,QAAQhjC,GAC7C,GAFA,YAIFtrF,KAAKqC,SAMX,GAJAuuF,EAAOA,EAAKp/B,QAAQ85B,IAChB1vF,GAAI09C,EAAiBgyC,EAAO1vF,KAG5BmJ,EAAKwpH,WAAY,CACjB,IAAMjjC,EAAUj6B,IAACw/B,GACN9rF,EAAK6+G,UACN5jH,KAAKwuH,aAAa39B,GAClBA,EAAIz5E,SAAWpX,MAHT,WAMVgR,EAA6B,GAInCA,EAAOjb,KAAKyhC,GAAGq3C,EAAE4/C,OAAO59B,IAChBvF,EAAQuF,IAAQv3C,EAAiBu3C,EAAKj1F,IACtCg1F,EAAK76F,KAAK86F,EAElB,KACA7/E,EAAOjb,KAAKyhC,GAAGq3C,EAAE2nC,WAAW3lB,IACxB,GAAIvF,EAAQuF,IAAQv3C,EAAiBu3C,EAAKj1F,GAAI,CAC1C,IAAM8wC,EAAMkkD,EAAKp3B,WAAW7f,GAAMA,EAAEliB,KAAOo5D,EAAIp5D,MAClC,IAATiV,GACAkkD,EAAKluD,OAAOgK,EAAK,EAEzB,MAEJ1sC,KAAKw2G,WAAU,KACX,IAAK,IAAM3lB,KAAM7/E,EACb6/E,EAAG6I,QAEX,GACJ,CACA,OAAO9I,CACX,EAEAnhB,KAAAA,CAAM7zE,GACF,IAAMmJ,EAAYnJ,EAAI8yH,WAAa,WAC7Bp1E,EAAU19C,EAAI+yH,QACd/9B,EAAUh1F,EAAIgzH,QAChBtjC,EAAkB,GAEtB,OAAQvmF,GACJ,IAAK,WACDumF,EAAOtrF,KAAKqC,SACZ,MACJ,IAAK,WACDipF,EAAOtrF,KAAKoX,OACNpX,KAAKoX,OAAO/U,SAASmvD,QAAQq/B,GAC3BA,IAAM7wF,OAER,GACN,MACJ,IAAK,YACD,IAAIgR,EAAShR,KAAKoX,OAClB,KAAOpG,GACHs6E,EAAKv1F,KAAKib,GACVA,EAASA,EAAOoG,OAEpB,MACJ,IAAK,cACDk0E,EAAOtrF,KAAKqC,SAASisH,QACjBj9D,IAAA,SAASw/B,EAAQnkD,GACb,MAAO,CACHA,KACGA,EAAMrqC,SAASisH,QAAQz9B,GAElC,GALA,YA2CZ,GAjCIv3C,IASIgyC,EANc,SAFA1vF,EAAIizH,WAAa,QAEP95H,MAAMC,QAAQ4G,EAAI+yH,SAMnCrjC,EAAK95B,QAAOq/B,GACdj1F,EAAI+yH,QAAqBp9D,MAAK7kB,GAAKmkD,EAAE9/E,GAAG27B,OALtC4+C,EAAK95B,QAAOq/B,GAAKA,EAAE9/E,GAAGuoC,MAUjCs3C,IAQItF,EANc,SADA1vF,EAAIizH,WAAa,QACP95H,MAAMC,QAAQ4G,EAAI+yH,SAMnCrjC,EAAK95B,QAAOq/B,IACbj1F,EAAIgzH,QAAqBr9D,MAAK7kB,GAAKmkD,EAAE9/E,GAAG27B,OALvC4+C,EAAK95B,QAAOq/B,IAAMA,EAAE9/E,GAAG6/E,OAUlB,IAAhBh1F,EAAIkzH,UACJxjC,EAAOA,EAAK95B,QAAOxgD,GAAKA,EAAE89G,WAG1BlzH,EAAIm8F,SAAU,CACd,IAAK/3F,KAAK6pF,IACN,MAAMx4F,MACF,wDAGR,IAAM2f,EAAapV,EAAImzH,YAAc,OAC/Bl+B,EAAQj1F,EAAIm8F,SAAWn8F,EAAIm8F,SAE7BzM,EADe,SAAft6E,EACOs6E,EAAK95B,QAAO9kB,GACfA,EAAEm9C,KAAO7pF,KAAK6pF,IAAIsD,MAAMzgD,EAAEm9C,MAAQgH,IAI/BvF,EAAK95B,QAAO9kB,GACfA,EAAEm9C,KAAO7pF,KAAK6pF,IAAIsD,MAAMzgD,EAAEm9C,KAAOgH,GAG7C,CACA,OAAIj1F,EAAIrL,OACJ+6F,EAAOA,EAAK95B,QAAOxgD,GAAKA,EAAEzgB,OAASqL,EAAIrL,QAEpC+6F,CACX,EAEAkjC,YAAAA,CAAa5yH,GACT,QAAKA,EAAIwb,SAGFxb,EAAIwb,SAAWpX,MAAQA,KAAKwuH,aAAa5yH,EAAIwb,QACxD,EAEAi3G,MAAAA,GACI,OAAO72F,GAAGgiF,KAAK5/G,KAAK40H,aAAaxuH,KACrC,EAIA+Q,EAAAA,CAAGnV,GAAqD,IAAnCmJ,EAAA1W,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAmB,MACpC,OAAI0G,MAAMC,QAAQ4G,GACH,QAAPmJ,EACOnJ,EAAIwzD,OAAM9V,GAAO90C,EAAKrB,IAAIm2C,KAG1B19C,EAAI21D,MAAKjY,GAAO90C,EAAKrB,IAAIm2C,KAI7B90C,EAAKrB,IAAIvH,EAExB,EAGAhI,GAAAA,CAAmBgI,GACf,GAAI7G,MAAMC,QAAQ4G,GACd,IAAK,IAAMmJ,KAAKnJ,EACZ4I,EAAKtG,IAAI6G,GACT/E,KAAK+5F,QAAQ,MAAOh1F,GACpByyB,GAAGgiF,KAAKn0F,OAAO00E,QAAQ,MAAO/5F,KAAM+E,QAIxCP,EAAKtG,IAAItC,GACToE,KAAK+5F,QAAQ,MAAOn+F,GACpB47B,GAAGgiF,KAAKn0F,OAAO00E,QAAQ,MAAO/5F,KAAMpE,EAE5C,EAGAozH,KAAAA,CAAqBpzH,GACjB,GAAI7G,MAAMC,QAAQ4G,GACd,IAAK,IAAMmJ,KAAKnJ,EACZ4I,EAAK4a,OAAOra,GACZ/E,KAAK+5F,QAAQ,QAASh1F,GACtByyB,GAAGgiF,KAAKn0F,OAAO00E,QAAQ,QAAS/5F,KAAM+E,QAI1CP,EAAK4a,OAAOxjB,GACZoE,KAAK+5F,QAAQ,QAASn+F,GACtB47B,GAAGgiF,KAAKn0F,OAAO00E,QAAQ,QAAS/5F,KAAMpE,EAE9C,EAGAuH,GAAAA,CAAIvH,GAAgE,IAAnCmJ,EAAA1W,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAmB,MAChD,OAAI0G,MAAMC,QAAQ4G,GACH,QAAPmJ,EACOnJ,EAASwzD,OAAO9V,GAAMx4C,EAAWqC,IAAIm2C,KAGrC19C,EAAS21D,MAAKjY,GAAKx4C,EAAWqC,IAAIm2C,KAItCx4C,EAAWqC,IAAIvH,EAE9B,EAEAiyE,EAAAA,CACIjyE,EACAmJ,GAEA,IAAMu0C,EAAO+R,EAAOwiB,GAAGjyE,EAAMmJ,EAAO4jB,KAAK3oB,OACzC,OAAI2rF,GACAA,GAAiB,IAAMryC,EAAKogD,WAEzBpgD,CACX,EAEAygD,OAAAA,CAAQn+F,GAAwC,QAAAqzH,EAAA5gI,UAAAC,OAAvByW,EAAA,IAAAhQ,MAAAk6H,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAAnqH,EAAAmqH,EAAA,GAAA7gI,UAAA6gI,GACrB7jE,EAAO0uC,QAAQn+F,KAASmJ,GACxByyB,GAAGgiF,KAAKmR,UAAU5wB,QAAQn+F,EAAMoE,QAAS+E,EAC7C,EAEA+jB,OAAAA,GACQ9oB,KAAKoX,QACLpX,KAAKoX,OAAOijF,OAAOr6F,KAE3B,EAEA2jH,OAAAA,GACI,IAAM/nH,EAAO,CAAC,EAEd,IAAK,IAAOmJ,EAAKu0C,KAASx4C,EACtBlF,EAAKmJ,GAAOu0C,EAAKqqE,aAAe,KAGpC,IAAK,IAAO5+G,EAAGu0C,KAASgK,EAAoBwjB,UACxC,GAAIxtB,EAAKqqE,QACL/nH,EAAKmJ,GAAKu0C,EAAKqqE,eAInB,IAAK,IAAO/yB,EAAKtF,KAAUn6F,OAAO21E,QAAQxtB,GACjB,mBAAVgyC,IAIP1vF,EAAKg1F,GAAO,GAAGA,MAAQtF,KAKnC,OAAO1vF,CACX,EAEA6yH,KAAAA,CAAM7yH,GACF,OAAOoE,KAAK6tE,GAAG,MAAOjyE,EAC1B,EAEAuzH,aAAAA,CAAcvzH,GACV,OAAOoE,KAAK6tE,GAAG,cAAejyE,EAClC,EAEAwzH,QAAAA,CAASxzH,GACL,OAAOoE,KAAK6tE,GAAG,SAAUjyE,EAC7B,EAEAyzH,MAAAA,CAAOzzH,GACH,OAAOoE,KAAK6tE,GAAG,OAAQjyE,EAC3B,EAEA46G,SAAAA,CAAU56G,GACN,OAAOoE,KAAK6tE,GAAG,UAAWjyE,EAC9B,EAEA0zH,KAAAA,CAAM1zH,GACF,OAAOoE,KAAK6tE,GAAG,MAAOjyE,EAC1B,EAEA2zH,OAAAA,CAAQ3zH,GACJ,OAAOoE,KAAK6tE,GAAG,QAASjyE,EAC5B,EAEA4zH,WAAAA,GACInkE,EAAO4uC,OACX,GAGEpgD,EAAM,CACR,aACA,mBACA,YACA,eACA,eACA,cACA,iBACA,cACA,cACA,cACA,eACA,cACA,aACA,WACA,uBACA,sBACA,yBACA,iBACA,gBACA,eACA,mBAGJ,IAAK,IAAMj+C,KAAKi+C,EACZR,EAAIz9C,GAAK,WAAoB,QAAA6zH,EAAAphI,UAAAC,OAAhByW,EAAA,IAAAhQ,MAAA06H,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAA3qH,EAAA2qH,GAAArhI,UAAAqhI,GACT,IAAMp2E,EAAK9hB,GAAG0yE,IAAItuG,QAAQmJ,GAC1B,OAAAvW,EAAYuH,KAAKujD,GAEjBD,EAAIm9D,WAAU,IAAMl9D,EAAGogD,WACvBrgD,EAAIw0B,GAAG,cAAc,KAGjBr/E,EAAYk0C,OAAOl0C,EAAYiD,QAAQ6nD,GAAK,GAE5C,IAAMs3C,EAAQp5D,GAAG0yE,IAAItuG,QAAQmJ,GAI7By0F,GAAiB/lG,QAAQ6lD,EAAIs3C,GAC7BpiG,EAAYuH,KAAKujD,EACrB,IAEOA,CACX,EAGJ,IAAK,IAAM19C,KAAQ89E,EACfrgC,EAAI5yB,IAAI7qB,GAGZ,OAAOy9C,CACX,CH9gBgBgY,GAAAw6D,GAAA,WAkBAx6D,GAAA06D,GAAA,iBAkBA16D,GAAA46D,GAAA,cAiBA56D,GAAA86D,GAAA,aAIA96D,GAAA+6D,GAAA,YAIA/6D,GAAAg7D,GAAA,WAIAh7D,GAAAi7D,GAAA,UASAj7D,GAAAk7D,GAAA,eC3PAl7D,GAAAm7D,GAAA,aAIAn7D,GAAAo7D,GAAA,aAIAp7D,GAAAq7D,GAAA,eAIAr7D,GAAAs7D,GAAA,eAIAt7D,GAAAmvB,GAAA,aAIAnvB,GAAAu7D,GAAA,aAIAv7D,GAAAw7D,GAAA,mBAIAx7D,GAAAy7D,GAAA,SAeAz7D,GAAA27D,GAAA,gBAIA37D,GAAA47D,GAAA,SAIA57D,GAAA67D,GAAA,YAIA77D,GAAA87D,GAAA,WAIA97D,GAAA+7D,GAAA,UASA/7D,GAAAg8D,GAAA,YASAh8D,GAAAi8D,GAAA,UASAj8D,GAAAk8D,GAAA,YE/DAl8D,GAAAz/D,GAAA,QCpBT,IAAM+9H,GAAWt+D,IAAC,KAAD,CAGhBhsC,OAAQ,IAAI60E,GAsCZywB,UAAW,IAAIzwB,GAGftgG,KAAMhI,GAAK,IAGXg+H,QAAS,KACTC,OAAQ,CAAC,EACTC,aAAc,KACdC,OAAQ,KACRlC,kBAAmB,EAGnB5J,KAAM,GAGNxK,IAAK,CACD5vB,IAAK,KACLQ,MAAO,IAAIsC,GAAK,GAChBiB,MAAO,EACP42B,MAAO,EACP/3C,UAAW,IAAIwjB,OA9DH,YCRjB,SAAS+/B,GAAWt2C,GAGvBliD,GAAGgiF,KAAKoW,QAAUl2C,GACXliD,GAAGgiF,KAAKoW,SAAW98D,GAAK,EAAG,IAAIy6B,OAAOlD,MAAM3Q,GAC7C,IACV,CAEO,SAASu2C,KAGZ,OAAOz4F,GAAGgiF,KAAKoW,QAAUp4F,GAAGgiF,KAAKoW,QAAQzjD,MAAQ,CACrD,CAEO,SAAS+jD,GAAoBx2C,GAEhCliD,GAAGgiF,KAAKoW,QAAUl2C,EAAE6T,OAAOlD,MACvB7yD,GAAGgiF,KAAKoW,QAAUp4F,GAAGgiF,KAAKoW,QAAQzjD,MAAQ,EAElD,CAEO,SAASgkD,KAEZ,OAAO34F,GAAGgiF,KAAKoW,QAAUp4F,GAAGgiF,KAAKoW,QAAQriC,OAASz6B,GAAK,EAAG,EAC9D,CAxBgBzB,GAAA2+D,GAAA,cAQA3+D,GAAA4+D,GAAA,cAMA5+D,GAAA6+D,GAAA,uBAOA7+D,GAAA8+D,GAAA,2BAAAC,GAAAC,GAAA,ogUClBHC,GAAYj/D,IAAC,IAAD,MAEjB,IAAMvwD,EAAM,IACRjF,OAAO00H,cAAiB10H,OAAe20H,oBAGrCltE,EAAaxiD,EAAI2vH,aACvBntE,EAAW88B,QAAQt/E,EAAI4vH,aAGvB,IAAMj3E,EAAU,IAAIk/D,GAAU3N,GAAuBlqG,IAGrD,OAAAA,EAAIg4G,gBAAgBsX,GAAazlD,OAAOxuE,MAAM,IAAI6e,MAAMqwC,IACpD5R,EAAQgmC,IAAMp0B,CAClB,IAAG14D,OAAO04D,IACNz4B,QAAQhY,MAAM,wBAAyBywC,EAC3C,IAEO,CACHkP,IAAAz5D,EACA6vH,WAAArtE,EACAstE,QAAAn3E,EAEP,EAxBoB,iBCDlB,SAASo3E,GAAUn3C,GAAgD,IAAnC54E,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAoB,CAAC,EAClDi1D,EAAc,IAAIq2C,GAClBlgD,EAAK,IAAI0/D,MAAMz/B,GAQrB,SAASlrF,IACDgpC,GAAGksF,MAAMjqB,QACTjiE,GAAG0yE,IAAI/yF,aAAeqgB,GAAGq+E,UAAUib,iBACvCt5F,GAAGqhF,MAAMt+C,IAAIw2D,QACjB,CAEA,SAASvsH,IACLhW,IACAirD,EAAGu3E,MACP,CAHS,OAbTv3E,EAAGrf,YAAc,YACjBqf,EAAG87D,OAAez0G,EAAIy0G,KAEV/9E,GAAGqhF,MAAMt+C,IAAI02D,yBAAyBx3E,GAE9C2mC,QAAQ5oD,GAAGqhF,MAAM8X,YAEZt/D,GAAA7iE,EAAA,kBAMA6iE,GAAA7sD,EAAA,QAKJ1D,EAAI24F,QACLj1F,IAGJi1C,EAAGy3E,QAAU,IAAM5tE,EAAYy2C,UAExB,CACHi3B,IAAAA,GACIxsH,GACJ,EAEA2sH,IAAAA,CAAK92C,GACD5gC,EAAGh/C,YAAc4/E,CACrB,EAEA+2C,IAAAA,GACI33E,EAAGg3B,QACHzwE,KAAKmxH,KAAK,EACd,EAEA,QAAI5b,CAAKl7B,GACL5gC,EAAG87D,KAAOl7B,CACd,EAEA,QAAIk7B,GACA,OAAO97D,EAAG87D,IACd,EAEA,UAAI9b,CAAOpf,GACHA,EACA5gC,EAAGg3B,QAGHjsE,GAER,EAEA,UAAIi1F,GACA,OAAOhgD,EAAGggD,MACd,EAEArqF,KAAI,IACOqqC,EAAGh/C,YAGd0qF,SAAQ,IACG1rC,EAAG0rC,SAGd,UAAIksC,CAAOh3C,GACP5gC,EAAG43E,OAAS9lC,GAAMlR,EAAK,EAAG,EAC9B,EAEA,UAAIg3C,GACA,OAAO53E,EAAG43E,MACd,EAEA,SAAI/b,CAAMj7B,GACN5gC,EAAG63E,aAAel4H,KAAK+rD,IAAIk1B,EAAG,EAClC,EAEA,SAAIi7B,GACA,OAAO77D,EAAG63E,YACd,EAEA,UAAIC,CAAOl3C,GAEX,EAEA,UAAIk3C,GAEA,OAAO,CACX,EAEAjJ,MAAMjuC,GACK/2B,EAAYplD,IAAIm8E,GAG3Br/D,IAAAA,CAAKq/D,GACD,OAAOr6E,KAAKsoH,MAAMjuC,EACtB,EAER,CCkBO,SAASm3C,GACZ93C,GAOS,IADT54E,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAoB,CAAC,EAErB,GAAmB,iBAARqrF,GAAoBliD,GAAG06E,OAAOiC,MAAMz6B,GAC3C,OAAOm3C,GAAUr5F,GAAG06E,OAAOiC,MAAMz6B,GAAM54E,GAG3C,IAAMwiD,EAAM9rB,GAAGqhF,MAAMt+C,IACjB9gB,EAAS34C,EAAI24F,SAAU,EACvBpuC,EAAU/H,EAAImuE,qBACZjjI,EAAc,IAAImrG,GAClBn1F,EAAW8+C,EAAImtE,aACfp2C,EAAU/2B,EAAIouE,qBACd/lC,EAAM7qF,EAAIqwH,MAAQ,EACpB72E,EAAY,EACZjB,EAAW,EACXQ,GAAU,EAEdwR,EAAQkqD,OAAez0G,EAAIy0G,KAC3BlqD,EAAQkmE,OAAOv+H,MAAQ8N,EAAIywH,QAAU,EACrClmE,EAAQimE,aAAat+H,MAAQ8N,EAAIw0G,OAAS,EAC1CjqD,EAAQ+0B,QAAQ/F,GAChBhvB,EAAQ6lE,QAAU,KAEV53E,MACQ+R,EAAQsf,QAAQwa,UAAYjU,OAAOqhB,oBAE3C/jG,EAAYurG,SAEpB,EACA1f,EAAQs3C,IAAI3+H,MAAQ8N,EAAI6wH,KAAO,EAC/Bt3C,EAAQ+F,QAAQ57E,GAChBA,EAAS47E,QAAQ5oD,GAAGqhF,MAAM8X,YAC1BnsH,EAASotH,KAAK5+H,MAAQ8N,EAAIuwH,QAAU,EAEpC,IAAMz1H,EAAQy1D,IAACi6B,IACXjgC,EAAQsf,OAAS2gB,EAAK7L,IACjBhmC,IACDa,EAAYgJ,EAAI7oD,YAChB4wD,EAAQ7lD,MAAM,EAAGmmF,GACjB9xC,GAAU,EAElB,GAPc,SAUR90C,EAAMg0G,GAAar/B,GAErB30E,aAAeqtG,IACfrtG,EAAIuiC,OAAO1rC,GAGf,IAAM09C,EAAU+X,IAAC,KACb,IAAKhG,EAAQsf,OAAQ,OAAO,EAC5B,IAAM2gB,EAAI7xC,EACJJ,EAAWiB,EACXgJ,EAAI7oD,YAAc6/C,EAClBtpC,EAAIq6C,EAAQsf,OAAOwa,SACzB,OAAO95B,EAAQkqD,KAAOjqB,EAAIt6E,EAAI5X,KAAK8Z,IAAIo4E,EAAGt6E,EAC9C,GAPgB,WASV4/E,EAAYv/B,IAACi6B,IACf,IAAMt6E,EAAUsyC,EAAImuE,qBACpB,OAAAzgH,EAAQ25D,OAAS2gB,EAAQ3gB,OACzB35D,EAAQukG,KAAOjqB,EAAQiqB,KACvBvkG,EAAQsgH,aAAat+H,MAAQs4F,EAAQgmC,aAAat+H,MAClDge,EAAQugH,OAAOv+H,MAAQs4F,EAAQimC,OAAOv+H,MACtCge,EAAQkgH,QAAU5lC,EAAQ4lC,QAC1BlgH,EAAQovE,QAAQ/F,GACTrpE,CACX,GATkB,aAWlB,MAAO,CACHogH,IAAAA,GACIpxH,KAAKy5F,QAAS,EACdz5F,KAAKmxH,KAAK,EACd,EAEA,UAAI13B,CAAOnO,GACP,GAAI7xC,IAAW6xC,EAEf,GADA7xC,EAAS6xC,EACLA,EACIzxC,IACAwR,EAAQ+lE,OACRv3E,GAAU,GAEdR,EAAWiK,EAAI7oD,gBAEd,CACD4wD,EAAUulC,EAAUvlC,GACpB,IAAMr6C,EAAMqoC,EAAWiB,EACvB+Q,EAAQ7lD,MAAM,EAAGwL,GACjB6oC,GAAU,EACVS,EAAYgJ,EAAI7oD,YAAcuW,EAC9BqoC,EAAW,CACf,CACJ,EAEA,UAAIogD,GACA,OAAOhgD,CACX,EAEAu3E,IAAAA,GAAuB,IAAlB1lC,EAAAj9F,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAe,EAChB2R,KAAKmxH,KAAK7lC,GACVtrF,KAAKy5F,QAAS,CAClB,EAEA03B,IAAAA,CAAK7lC,GACIjgC,EAAQsf,QAAQwa,WACjBmG,EAAOjgC,EAAQsf,OAAOwa,WACtB1rC,GACA4R,EAAUulC,EAAUvlC,GACpB/Q,EAAYjB,EAAWiyC,IAGvBjgC,EAAQ+lE,OACR/lE,EAAUulC,EAAUvlC,GACpB/Q,EAAYgJ,EAAI7oD,YAAc6wF,EAC9BjgC,EAAQ7lD,MAAM,EAAG8lF,GACjBzxC,GAAU,EACVR,EAAW,IAEnB,EAGA,SAAIi8D,CAAMhqB,GACNjgC,EAAQimE,aAAat+H,MAAQs4F,CACjC,EAEA,SAAIgqB,GACA,OAAOjqD,EAAQimE,aAAat+H,KAChC,EAEA,UAAIu+H,CAAOjmC,GACPjgC,EAAQkmE,OAAOv+H,MAAQs4F,CAC3B,EAEA,UAAIimC,GACA,OAAOlmE,EAAQkmE,OAAOv+H,KAC1B,EAEA,UAAIq+H,CAAO/lC,GACP9mF,EAASotH,KAAK5+H,MAAQoG,KAAK+rD,IAAImmC,EAAK,EACxC,EAEA,UAAI+lC,GACA,OAAO7sH,EAASotH,KAAK5+H,KACzB,EAEA,OAAI2+H,CAAIrmC,GACJjR,EAAQs3C,IAAI3+H,MAAQs4F,CACxB,EAEA,OAAIqmC,GACA,OAAOt3C,EAAQs3C,IAAI3+H,KACvB,EAEA,QAAIuiH,CAAKjqB,GACLjgC,EAAQkqD,KAAOjqB,CACnB,EAEA,QAAIiqB,GACA,OAAOlqD,EAAQkqD,IACnB,EAEApwB,SAAQ,IACG95B,EAAQsf,QAAQwa,UAAY,EAGvC/1E,IAAAA,GACI,OAAOkqC,IAAYt5C,KAAKmlF,UAC5B,EAEAmjC,MAAMh9B,GACK98F,EAAY0P,IAAIotF,GAG3BtwE,IAAAA,CAAKswE,GACD,OAAOtrF,KAAKsoH,MAAMh9B,EACtB,EAER,CCpTO,SAASumC,GAAKn4C,GACjB,OAAOliD,GAAGq3C,EAAEmiD,KAAKx5F,GAAGqhF,MAAM+X,QAASl3C,EACvC,CCHO,SAASo4C,GAAUp4C,GACtBliD,GAAGqhF,MAAM8X,WAAWiB,KAAK5+H,MAAQ0mF,CACrC,CAEO,SAASq4C,KACZ,OAAOv6F,GAAGqhF,MAAM8X,WAAWiB,KAAK5+H,KACpC,CAGO,SAASg/H,GAAOt4C,GACnB,OAAAuiB,GAAa,SAAU,8BAEb,IAANviB,GACAo4C,GAAUp4C,GAEPq4C,IACX,CCbO,SAASE,KACZz6F,GAAG0yE,IAAIb,QAAO,KACL7xE,GAAGq+E,UAAUib,iBACdt5F,GAAGqhF,MAAMt+C,IAAI23D,SAErB,IAEA16F,GAAG0yE,IAAIZ,QAAO,MACL9xE,GAAGq+E,UAAUib,kBAAoBt5F,GAAGksF,MAAMjqB,QAC3CjiE,GAAGqhF,MAAMt+C,IAAIw2D,QAErB,IAEAv5F,GAAG0yE,IAAIzB,UAAS,KACZ,GAAIjxE,GAAG0yE,IAAIlD,eAAgB,OAC3B,IAAMttB,EAAYliD,GAAGq+E,UAAUzpG,OAASorB,GAAGq+E,UAAUxpG,OACjDqtE,IAAcliD,GAAGq+E,UAAU4Q,UAAYjvF,GAAGq+E,UAAU2Q,YAIxDhvF,GAAG0nE,OAAO9yF,MAAQorB,GAAG0nE,OAAOqB,YAAc/oE,GAAGutE,aAC7CvtE,GAAG0nE,OAAO7yF,OAASmrB,GAAG0nE,OAAOuB,aAAejpE,GAAGutE,aAE/CwhB,KAEK7sC,IACDliD,GAAGk4E,IAAIyW,YAAYnU,OACnBx6E,GAAGk4E,IAAIyW,YAAc,IAAItJ,GACrBrlF,GAAGk4E,IAAIG,IACPr4E,GAAGk4E,IAAIG,IAAIC,GAAGmR,mBACdzpF,GAAGk4E,IAAIG,IAAIC,GAAGoR,qBAElB1pF,GAAGk4E,IAAItjG,MAAQorB,GAAGk4E,IAAIG,IAAIC,GAAGmR,mBAAqBzpF,GAAGutE,aAC/CvtE,GAAG26F,OACT36F,GAAGk4E,IAAIrjG,OAASmrB,GAAGk4E,IAAIG,IAAIC,GAAGoR,oBAAsB1pF,GAAGutE,aACjDvtE,GAAG26F,QAEjB,KAE2B,IAAvB36F,GAAGq+E,UAAU6N,QACblsF,GAAG0yE,IAAIvB,WACHnxE,GAAGq+E,UAAUuc,UAAY,MACzB,IAAM56F,GAAGksF,MAAMC,SAAWnsF,GAAGksF,MAAMC,UAEvCnsF,GAAG0yE,IAAIvB,WAAW,MAAM,IAAMnxE,GAAGksF,MAAM2O,aACvC76F,GAAG0yE,IAAIvB,WAAW,MAAM,IAAMnxE,GAAGksF,MAAMjqB,QAAUjiE,GAAGksF,MAAMjqB,SAC1DjiE,GAAG0yE,IAAIvB,WAAW,MAAM,KACpBnxE,GAAGksF,MAAMhkB,UAAY7xB,GACjB0d,GAAM/zD,GAAGksF,MAAMhkB,UAAY,GAAK,EAAG,GACnC,EAER,IACAloE,GAAG0yE,IAAIvB,WAAW,MAAM,KACpBnxE,GAAGksF,MAAMhkB,UAAY7xB,GACjB0d,GAAM/zD,GAAGksF,MAAMhkB,UAAY,GAAK,EAAG,GACnC,EAER,IACAloE,GAAG0yE,IAAIvB,WAAW,OAAO,IAAMnxE,GAAGksF,MAAM4O,eAIxC96F,GAAGq+E,UAAU0c,MACb/6F,GAAG0yE,IAAIvB,WAAW,KAAK,IAAMkpB,MAErC,CC9CO,SAASW,GAAU94C,GAAqC,IAA5B54E,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAe,CAAC,EACzCi1D,EAAS9rB,GAAGgiF,KAAK5/G,KAAKsE,IAAI,CAC5B6qH,GAAIrvC,GACJ+4C,OAGEh5E,EAA2B,GAAlB34C,EAAIw0G,OAAS,GACtBjqD,EAAIvqD,EAAIupF,OAAS,EAEvB/mC,EAAOplD,IAAI,CACPw0H,GAAOl7F,GAAGm7F,YACVC,GAAM,GACNC,GAAO,UACPC,GAAKr5E,EAAO4R,MACTvqD,EAAIiyH,OAAS,KAGpB,IAAMvkI,EAAK80D,EAAOplD,IAAI,CAClBw0H,GAAOl7F,GAAGw7F,UACVJ,GAAM,GACNC,GAAO,UACPI,QACGnyH,EAAIiyH,OAAS,KAGpB,OAAAvkI,EAAG0kI,KAAK,GAAMz5E,GAAO,IAAMjrD,EAAGi4B,IAAIqsG,GAAKr5E,EAAO4R,MAC9C78D,EAAGgoH,WAAU,IAAMlzD,EAAOx6B,YAEnBw6B,CACX,CCnDO,SAAS6vE,GAAUz5C,EAAsB54E,GAC5C,GAAI02B,GAAGgiF,KAAKuW,OACR,MAAM1+H,MAAM,qCAEhB,IAAMiyD,EAAoBo2B,EAAWjoF,QAAQqP,GAC7C,IAA0B,GAAtBwiD,EACA,MAAMjyD,MACF,gEAGRmmC,GAAGgiF,KAAKuW,OAASr2C,EACjBliD,GAAGgiF,KAAKqU,kBAAoBvqE,CAChC,CAEO,SAAS8vE,KACZ,OAAO57F,GAAGgiF,KAAKuW,MACnB,CAEO,SAASsD,KACZ,OAAO77F,GAAGgiF,KAAKuW,SAASv4F,GAAGgiF,KAAKqU,oBAAsB,IAC1D,CAEO,SAASyF,GAAO55C,EAAsB54E,GACzCm7F,GAAa,SAAU,aACvBk3B,GAAUz5C,EAAY54E,EAC1B,CCzBO,SAASisH,GAAQrzC,GACpBA,EAAI5wD,SACR,CAEO,SAASyqG,KACZ,OAAO/7F,GAAGgiF,KAAK5/G,IACnB,CCEO,SAAS45H,GAAM95C,EAAe54E,GACjC02B,GAAGgiF,KAAKqW,OAAOn2C,GAAM54E,CACzB,CAEO,SAAS2yH,GAAG/5C,GAAqC,QAAAg6C,EAAArlI,UAAAC,OAAjBwS,EAAA,IAAA/L,MAAA2+H,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAA7yH,EAAA6yH,EAAA,GAAAtlI,UAAAslI,GACnC,IAAKn8F,GAAGgiF,KAAKqW,OAAOn2C,GAChB,MAAM,IAAIroF,MAAM,oBAAoBqoF,KAGxCliD,GAAGgiF,KAAKn0F,OAAO+0E,OAAO,YAAY,KAC9B5iE,GAAGgiF,KAAKn0F,OAAO00E,QAAQ,aAAcrgB,GACrCliD,GAAG0yE,IAAI7kF,OAAO40E,QACdziE,GAAGgiF,KAAKn0F,OAAO40E,QACfziE,GAAGgiF,KAAKmR,UAAU1wB,QAElB,IAAIziE,GAAGgiF,KAAK5/G,KAAKyI,UAAUgd,SAASikC,KAE3BA,EAAIswE,MACDtwE,EAAIuwE,eAAiBvwE,EAAIuwE,aAAatgI,SAASmmF,GAEnDliD,GAAGgiF,KAAK5/G,KAAKygG,OAAO/2C,GAGpBA,EAAIy2C,QAAQ,aAAcrgB,EAElC,IAEAliD,GAAGgiF,KAAK5/G,KAAK41H,cACbyC,KAGAz6F,GAAGgiF,KAAKC,IAAM,CACV5vB,IAAK,KACLQ,MAAOv3B,GAAK,GACZ86B,MAAO,EACP42B,MAAO,EACP/3C,UAAW,IAAIwjB,IAGnBz4D,GAAGgiF,KAAKqW,OAAOn2C,MAAS54E,EAC5B,IAEA02B,GAAGgiF,KAAKsW,aAAep2C,CAC3B,CAEO,SAASo6C,GACZp6C,GAEA,OAAOliD,GAAGgiF,KAAKn0F,OAAOwoD,GAAG,aAAc6L,EAC3C,CAEO,SAASq6C,KACZ,OAAOv8F,GAAGgiF,KAAKsW,YACnB,CC2FO,SAAS4C,GACZh5C,GAEU,IADV54E,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAqB,CAAC,EAElBi1D,EAAgC,KAChC7J,EAAgC,KAGhC4R,EAA4B,KAC1B78D,EAAoB,IAAImrG,GAE9B,IAAKjgB,EACD,MAAM,IAAIroF,MACN,qDAIR,IAAMmT,EAAe6sD,IAAC,CAClBs6B,EACArxC,EACAjB,EACAQ,KAEA,IAAMj+C,EAAQk3D,GAAK,EAAG,GACtB,OAAIzZ,GAAKQ,GACLj+C,EAAM/K,EAAIwoD,GAAKsyC,EAAIv/E,MAAQkuC,EAAEg0C,GAC7B1yF,EAAMoV,EAAI6oC,GAAK8xC,EAAIt/E,OAASiuC,EAAEi0C,IAEzBl1C,GACLz9C,EAAM/K,EAAIwoD,GAAKsyC,EAAIv/E,MAAQkuC,EAAEg0C,GAC7B1yF,EAAMoV,EAAIpV,EAAM/K,GAEXgpD,IACLj+C,EAAMoV,EAAI6oC,GAAK8xC,EAAIt/E,OAASiuC,EAAEi0C,GAC9B3yF,EAAM/K,EAAI+K,EAAMoV,GAEbpV,CACX,GApBqB,gBAsBfy+E,EAAgBhpB,IAAC,CACnBs6B,EACArxC,KAEA,IAAKA,EAAK,OAEV,IAAIjB,EAAIiB,EAAIi6D,OAAO,GAAGl4E,QAElBv7B,EAAI8hH,OACJvpE,EAAIA,EAAEgxC,MAAMvpF,EAAI8hH,OAGpB,IAAM/oE,EAAQr1C,EACV81C,EAAIg6D,IACJj7D,EACAv4C,EAAIsL,MACJtL,EAAIuL,QAGRs/E,EAAIv/E,MAAQkuC,EAAIg6D,IAAIloG,MAAQitC,EAAEi1C,EAAIz0C,EAAMhpD,EACxC86F,EAAIt/E,OAASiuC,EAAIg6D,IAAIjoG,OAASgtC,EAAEk1C,EAAI10C,EAAM7oC,EAEtClQ,EAAIkzH,MACJroC,EAAIqlC,KAAKlwH,EAAIkzH,MAGjB1wE,EAAahJ,EACb9rD,EAAkBurG,QAAQz2C,EAC9B,GA5BsB,iBA8BtB,MAAO,CACH7rB,GAAI,SAEJrrB,MAAO,EACPC,OAAQ,EACR7Y,MAAOsN,EAAItN,OAAS,EACpBovH,KAAM9hH,EAAI8hH,MAAQ,IAAIv0B,GAAK,EAAG,EAAG,EAAG,GACpC4lC,UAAWnzH,EAAImzH,WAAa,EAC5BjR,MAAOliH,EAAIkiH,QAAS,EACpBC,MAAOniH,EAAImiH,QAAS,EAEpB,UAAIwC,GACA,OAAO/rC,EAAIx9E,UACf,EAEA,UAAIupH,CAAO95B,GACP,IAAMrxC,EAAMw6D,GAAcnpB,GAEtBrxC,GACAA,EAAIhT,QAAO+R,GACPghC,EAAcr6E,KAAwCq5C,IAGlE,EAEA,aAAI66E,GACA,IAAK5wE,IAAe7J,GAA0B,OAAf4R,EAC3B,OAAOrrD,KAAKxM,MAGhB,IAAMm4F,EAAOroC,EAAWkxD,MAAM/6D,EAAQlpD,MAEtC,MAAoB,iBAATo7F,EACAA,EAGJ3rF,KAAKxM,MAAQ4F,KAAK8Z,IAAIy4E,EAAK93B,KAAM83B,EAAKz/B,GACjD,EAEA8xD,IAAAA,GACI,IAAK16D,EAAY,OAEjB,IAAMqoC,EAAIroC,EAAWixD,OAAOv0G,KAAKxM,OAAS,GAE1C,IAAKm4F,EACD,MAAM,IAAIt6F,MAAM,oBAAoB2O,KAAKxM,OAAS,KAGtD,GAAI8vD,EAAWmxD,OAAQ,CAGnB,IAAQzgG,KAAAsmC,EAAM8M,MAAA/N,EAAOnlC,IAAA2lC,EAAKs6E,OAAAv4H,GAAW0nD,EAAWmxD,OAC1C1vG,EAAKu+C,EAAWgxD,IAAIloG,MAAQu/E,EAAE2C,EAC9Bh1C,EAAKgK,EAAWgxD,IAAIjoG,OAASs/E,EAAE4C,EAC/BqC,EAAK5wF,KAAKoM,MAAQkuC,EAAOjB,EACzBiyC,EAAKtrF,KAAKqM,OAASwtC,EAAMj+C,EACzBoV,EAAKspC,EAAOv1C,EACZ8rF,EAAKx3C,EAAQt0C,EACb2nC,EAAK,EAAI17B,EAAK6/E,EACdl3C,EAAKE,EAAMP,EACXw3C,EAAKl1F,EAAS09C,EACdzoD,EAAK,EAAI8oD,EAAKm3C,EACdxC,EAAQ,CAEVE,GAAK,EAAG,EAAGx9E,EAAI2oC,GACf60C,GAAKx9E,EAAI,EAAG07B,EAAIiN,GAChB60C,GAAKx9E,EAAK07B,EAAI,EAAGmkD,EAAIl3C,GACrB60C,GAAK,EAAG70C,EAAI3oC,EAAIngB,GAChB29F,GAAKx9E,EAAI2oC,EAAIjN,EAAI77C,GACjB29F,GAAKx9E,EAAK07B,EAAIiN,EAAIk3C,EAAIhgG,GACtB29F,GAAK,EAAG70C,EAAK9oD,EAAImgB,EAAI8/E,GACrBtC,GAAKx9E,EAAI2oC,EAAK9oD,EAAI67C,EAAIokD,GACtBtC,GAAKx9E,EAAK07B,EAAIiN,EAAK9oD,EAAIggG,EAAIC,GAE3BtC,GAAK,EAAG,EAAGl0C,EAAMT,GACjB20C,GAAKl0C,EAAM,EAAGs2C,EAAI/2C,GAClB20C,GAAKl0C,EAAOs2C,EAAI,EAAGv3C,EAAOQ,GAC1B20C,GAAK,EAAG30C,EAAKS,EAAMgxC,GACnBkD,GAAKl0C,EAAMT,EAAK+2C,EAAItF,GACpBkD,GAAKl0C,EAAOs2C,EAAI/2C,EAAKR,EAAOiyC,GAC5BkD,GAAK,EAAG30C,EAAMyxC,EAAIhxC,EAAM1+C,GACxB4yF,GAAKl0C,EAAMT,EAAMyxC,EAAIsF,EAAIh1F,GACzB4yF,GAAKl0C,EAAOs2C,EAAI/2C,EAAMyxC,EAAIjyC,EAAOz9C,IAErC,IAAK,IAAI6mB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxB,IAAMm4B,EAAK0zC,EAAM7rE,GACXuxE,EAAY1F,EAAM7rE,EAAI,GAC5B6iG,GACIn0H,OAAOD,OAAOy1H,GAAe3mH,MAAO,CAChC6pF,IAAKmK,EAAUnK,MACfyqB,IAAKhxD,EAAWgxD,IAChBsO,KAAMj3B,EAAEtB,MAAMzvC,GACdooE,MAAOhjH,KAAKgjH,MACZC,MAAOjjH,KAAKijH,MACZsC,MAAOzkH,EAAIykH,MACXn5G,MAAO4nF,EAAU1F,EACjBjiF,OAAQ2nF,EAAUzF,IAG9B,CACJ,MAEI+2B,GACIn0H,OAAOD,OAAOy1H,GAAe3mH,MAAO,CAChCs0G,IAAKhxD,EAAWgxD,IAChBsO,KAAMj3B,EAAEtB,MAAMrqF,KAAK4iH,MAAQ,IAAIv0B,GAAK,EAAG,EAAG,EAAG,IAC7C20B,MAAOhjH,KAAKgjH,MACZC,MAAOjjH,KAAKijH,MACZsC,MAAOzkH,EAAIykH,MACXn5G,MAAOpM,KAAKoM,MACZC,OAAQrM,KAAKqM,SAI7B,EAEAnO,GAAAA,GACI,IAAMytF,EAAMmpB,GAAcp7B,GAEtBiS,EAEAA,EAAIrkD,QAAOgT,GAAO+/B,EAAcr6E,KAAMs6C,KAItCgyE,IAAO,IAAMjyC,EAAcr6E,KAAM80G,GAAcp7B,GAAMrkF,OAE7D,EAEAshB,MAAAA,GACI,IAAK2sC,IAAe7J,GAA0B,OAAf4R,EAC3B,OAGJ,IAAMsgC,EAAOroC,EAAYkxD,MAAM/6D,EAAQlpD,MAEvC,GAAoB,iBAATo7F,EAAX,CAKA,GAAmB,IAAfA,EAAK2pB,MACL,MAAM,IAAIjkH,MAAM,iCAGpBooD,EAAQ+O,OAASyhD,KAAOjqG,KAAKi0H,UAEzBx6E,EAAQ+O,OAAU,EAAI/O,EAAQ67D,QAC9B77D,EAAQ+O,MAAQ,EAChBxoD,KAAKxM,OAAS63D,GAGVrrD,KAAKxM,MAAQ4F,KAAK8Z,IAAIy4E,EAAK93B,KAAM83B,EAAKz/B,KACnClsD,KAAKxM,MAAQ4F,KAAK+rD,IAAIwmC,EAAK93B,KAAM83B,EAAKz/B,OAErCzS,EAAQ87D,KACJ97D,EAAQ+7D,UACRx1G,KAAKxM,OAAS63D,EACdA,IAAe,EACfrrD,KAAKxM,OAAS63D,GAGdrrD,KAAKxM,MAAQm4F,EAAK93B,KAIlBpa,EAAQ+7D,SACUnqD,IACVjyD,KAAKk8F,KAAK3J,EAAKz/B,GAAKy/B,EAAK93B,OAE7B7zD,KAAKxM,MAAQm4F,EAAKz/B,GAClBb,IAAe,EACfrrD,KAAKxM,OAAS63D,IAGdrrD,KAAKxM,MAAQm4F,EAAK93B,KAClBpa,EAAQ6uE,QACRtoH,KAAKoxH,SAITpxH,KAAKxM,MAAQm4F,EAAKz/B,GAClBzS,EAAQ6uE,QACRtoH,KAAKoxH,SA5CrB,MAFIpxH,KAAKxM,MAAQm4F,CAmDrB,EAEAqlC,IAAAA,CAEIrlC,GAEF,IADErxC,EAAAjsD,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAyB,CAAC,EAE1B,IAAKi1D,EAED,YADA90D,EAAkB0P,KAAI,IAAM8B,KAAKgxH,KAAKrlC,EAAMrxC,KAIhD,IAAMjB,EAAOiK,EAAWkxD,MAAM7oB,GAE9B,QAAa,IAATtyC,EACA,MAAM,IAAIhoD,MAAM,mBAAmBs6F,KAGnClyC,GACAz5C,KAAKoxH,OAGT33E,EAA0B,iBAATJ,EACX,CACE9oD,KAAMo7F,EACNnjC,MAAO,EACP+sD,MAAM,EACNC,UAAU,EACVF,MAAO,EACPgT,MAAOj3D,IAAC,QAAD,UAET,CACE9gE,KAAMo7F,EACNnjC,MAAO,EACP+sD,KAAMj7D,EAAIi7D,MAAQl8D,EAAKk8D,OAAQ,EAC/BC,SAAUl7D,EAAIk7D,UAAYn8D,EAAKm8D,WAAY,EAC3CF,MAAOh7D,EAAIg7D,OAASj8D,EAAKi8D,OAAS,GAClCgT,MAAOhuE,EAAIguE,OAAA,MAAkB,IAGrCj9D,EAA6B,iBAAThS,EACd,KACAA,EAAKwa,KAAOxa,EAAK6S,GACjB,GACC,EAEPlsD,KAAKxM,MAAwB,iBAAT6lD,EACdA,EACAA,EAAKwa,KAEX7zD,KAAK+5F,QAAQ,YAAapO,EAC9B,EAEAylC,IAAAA,GACI,IAAK33E,EACD,OAEJ,IAAMkyC,EAAWlyC,EAAQlpD,KACzBkpD,EAAU,KACVz5C,KAAK+5F,QAAQ,UAAWpO,EAC5B,EAEAiU,UAAS,IACEt8C,GAAYixD,OAAOjmH,QAAU,EAGxC8lI,WAAU,IACC36E,EAGX46E,QAAO,IACI56E,GAASlpD,KAGpB+jI,QAAQ3oC,GACGroC,GAAYkxD,MAAM7oB,IAAS,KAGtC4oC,OAAAA,CAAQ5oC,GACJ,QAAe3rF,KAAKs0H,QAAQ3oC,EAChC,EAEA6oC,SAAAA,CAEI7oC,GAEA,OAAO3rF,KAAK6tE,GAAG,UAAW8d,EAC9B,EAEA8oC,WAAAA,CAEI9oC,GAEA,OAAO3rF,KAAK6tE,GAAG,YAAa8d,EAChC,EAEAk7B,UAAAA,GACI,OAAO,IAAIz4B,GAAKt7B,GAAK,GAAI9yD,KAAKoM,MAAOpM,KAAKqM,OAC9C,EAEAs3G,QAAO,IACgB,iBAARjqC,EACA,YAAYA,KAEhB,KAGnB,CC7XO,SAASg7C,GAAKh7C,GAA4C,IAAjC54E,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAmB,CAAC,EAChD,SAASi1D,EAAO+H,GACZ,IAAM78D,EAAQgzH,GAAWrwH,OAAOD,OAAOy1H,GAAet7D,GAAM,CACxD7oD,KAAM6oD,EAAI7oD,KAAO,GACjBqkB,KAAMwkC,EAAIspE,SACV/qC,KAAMv+B,EAAIu+B,KACVx9E,MAAOtL,EAAIsL,OAASi/C,EAAIj/C,MACxB02G,MAAOz3D,EAAIy3D,MACXH,cAAet3D,EAAIs3D,cACnBD,YAAar3D,EAAIq3D,YAEjBj2C,UAAWphB,EAAIupE,cACfvxH,OAAQgoD,EAAIwpE,WACZhS,UAAW/hH,EAAI+hH,aAGnB,OAAK/hH,EAAIsL,QACLi/C,EAAIj/C,MAAQ5d,EAAM4d,OAASi/C,EAAIg/B,OAAOx5F,GAAK,IAG/Cw6D,EAAIh/C,OAAS7d,EAAM6d,QAAUg/C,EAAIg/B,OAAOr5E,GAAK,GAEtCxiB,CACX,CAtBS6iE,GAAA/N,EAAA,UAwBT,IAAM7J,EAAM,CACRhiB,GAAI,OACJ,QAAIj1B,CAAK6oD,GACLquB,EAAIruB,EAEJ/H,EAAOtjD,MACPA,KAAK0hH,aAAeJ,GAAkB5nC,GAAGl3E,IAC7C,EACA,QAAIA,GACA,OAAOk3E,CACX,EACAi7C,SAAU7zH,EAAI+lB,MAAQ,GACtB+iE,KAAM9oF,EAAI8oF,KACVx9E,MAAOtL,EAAIsL,OAAS,EACpBC,OAAQ,EACRy2G,MAAOhiH,EAAIgiH,MACXJ,YAAa5hH,EAAI4hH,YACjBC,cAAe7hH,EAAI6hH,cACnBiS,cAAe9zH,EAAI2rE,UACnBooD,WAAY/zH,EAAIuC,OAChBq+G,aAAchoC,EAAI4nC,GAAkB5nC,GAAGl3E,KAAO,GAE9CtE,GAAAA,GACIouH,IAAO,IAAMhpE,EAAOtjD,OACxB,EAEAg+G,IAAAA,GACIkF,GAAkB5/D,EAAOtjD,MAC7B,EAEA6mH,UAAAA,GACI,OAAO,IAAIz4B,GAAKt7B,GAAK,GAAI9yD,KAAKoM,MAAOpM,KAAKqM,OAC9C,GAIJ,OAAAi3C,EAAO7J,GAGAA,CACX,CClLO,SAASq7E,GAAOp7C,EAAW54E,GAC9B,MAAO,CACH22B,GAAI,OACJrrB,MAAOstE,EACPrtE,OAAQvL,EACRk9G,IAAAA,GACI+E,GAAW5xH,OAAOD,OAAOy1H,GAAe3mH,MAAO,CAC3CoM,MAAOpM,KAAKoM,MACZC,OAAQrM,KAAKqM,SAErB,EACAw6G,UAAAA,GACI,OAAO,IAAIz4B,GAAKt7B,GAAK,GAAI9yD,KAAKoM,MAAOpM,KAAKqM,OAC9C,EACAs3G,OAAAA,GACI,MAAO,YAAYvqH,KAAK2iF,KAAK/7E,KAAKoM,YAC9BhT,KAAK2iF,KAAK/7E,KAAKqM,WAEvB,EAER,CCPO,SAAS0oH,KAA0C,IAApCr7C,EAAArrF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAqB,CAAC,EACpCyS,EAAsB,KACtBwiD,EAAsB,KACtB7J,EAAuB,KACvB4R,EAA8C,KAClD,MAAO,CACH5zB,GAAI,QACJ1pC,QAAS,CAAC,MAAO,QACjBinI,WAAYt7C,EAAK47B,OAAS,IAC1BmV,eAAgB/wC,EAAK+wC,iBAAkB,EACvCwK,mBAAAA,GACI,OAAOn0H,EAASd,KAAK6pF,IAAIqD,KAAKpsF,GAAU,CAC5C,EACAo0H,gBAAe,IACJ5xE,GAAQ7J,EAAQ6J,EAAK7J,GAAS,KAEzC01D,QAAO,IACI7rD,EAAOA,EAAKnnD,QAAU,KAEjCg5H,UAAS,IACEr0H,EAEXs0H,qBAAoB,KACT9xE,GAAiB,OAAV7J,EAElB47E,kBAAiB,IACG,OAAT/xE,EAEXgyE,eAAAA,GACI,OAAOx0H,GAASd,KAAK6pF,IAAIuC,GAAGtrF,EAChC,EACAy0H,SAAAA,CAAyD/mI,GACrDsS,EAAStS,EACT80D,EAAOtjD,KAAKw1H,WAAWrmB,QAAQnvG,KAAK6pF,IAAK/oF,EAAQ,CAC7C2pH,eAAgBzqH,KAAKyqH,iBAEzBhxE,EAAQ6J,EAAO,EAAI,KACfA,GAAkB,OAAV7J,GACH4R,IACDA,EAAqBrrD,KAAKw1H,WACrBjL,wBAAuB,KAChBzpH,GAAUwiD,GAAkB,OAAV7J,IAClB6J,EAAOtjD,KAAKw1H,WAAWrmB,QACnBnvG,KAAK6pF,IACL/oF,EACA,CACI2pH,eAAgBzqH,KAAKyqH,iBAGzBnnE,GACA7J,EAAQ,EACRz5C,KAAK+5F,QACD,iBACA/5F,KACAsjD,EAAK7J,MAITA,EAAQ,KACRz5C,KAAK+5F,QAAQ,kBAAmB/5F,OAG5C,IACJA,KAAKw2G,WAAU,IAAMnrD,GAAoBquC,YAE7C15F,KAAK+5F,QAAQ,oBAAqB/5F,MAClCA,KAAK+5F,QAAQ,iBAAkB/5F,KAAMsjD,EAAK7J,KAG1Cz5C,KAAK+5F,QAAQ,kBAAmB/5F,KAExC,EACA2W,MAAAA,GACI,GAAI7V,GAAUwiD,GAAkB,OAAV7J,EAAgB,CAClC,GAAIz5C,KAAK6pF,IAAIsD,MAAM7pC,EAAK7J,IAAU,EAC9B,IAAIA,IAAU6J,EAAKh1D,OAAS,EAKxB,OAJA0R,KAAK6pF,IAAM/oF,EAAOu7B,QAClBod,EAAQ,KACRz5C,KAAK+5F,QAAQ,kBAAmB/5F,WAChCA,KAAK+5F,QAAQ,gBAAiB/5F,MAI9By5C,IACAz5C,KAAK+5F,QAAQ,iBAAkB/5F,KAAMsjD,EAAK7J,GAAO,CAGzDz5C,KAAKy1H,OAAOnyE,EAAK7J,GAAQz5C,KAAKg1H,WAClC,CACJ,EACAU,mBAAAA,CAA8ClnI,GAC1C,OAAOwR,KAAK6tE,GAAG,oBAAqBr/E,EACxC,EACAmnI,gBAAAA,CAA2CnnI,GACvC,OAAOwR,KAAK6tE,GAAG,iBAAkBr/E,EACrC,EACAonI,iBAAAA,CAA4CpnI,GACxC,OAAOwR,KAAK6tE,GAAG,kBAAmBr/E,EACtC,EACAqnI,eAAAA,CAA0CrnI,GACtC,OAAOwR,KAAK6tE,GAAG,gBAAiBr/E,EACpC,EACAm1H,QAAO,IACI,UAAYxwD,KAAKC,UAAU,CAC9BpvD,OAAQmvD,KAAKC,UAAUtyD,GACvBgsD,KAAMqG,KAAKC,UAAU9P,KAIrC,CC3EO,SAASwyE,GACZp8C,GAEA,IAAI54E,EAAQ44E,EAAKq8C,MACjB,MAAO,CACHt+F,GAAI,aACJ1pC,QAAS,CAAC,OACVioI,UAAAA,CAEI1yE,GAGA,OADiCtjD,KAAK+1H,OACxB3mB,gBAAgBpvG,KAAK6pF,IAAKvmC,EAAQo2B,EAAKu8C,cACzD,EACA,SAAIF,GACA,GAAIj1H,EACA,OAAOA,EAEX,IAAIwiD,EACCtjD,KAA4CoX,OACjD,KAAOksC,GAAQ,CACX,GAAIA,EAAOngD,IAAI,iBACX,OAAOmgD,EAAOyyE,MAElBzyE,EAASA,EAAOlsC,MACpB,CAEJ,EACA,SAAI2+G,CAAMzyE,GACNxiD,EAAQwiD,CACZ,EAER,CCxDO,SAAS4yE,KAEF,IADVx8C,EAAArrF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAsB,CAAC,EAEnByS,EAAY44E,EAAKy8C,UACjB7yE,EAAQo2B,EAAK47B,OAAS,IACtB77D,EAAcigC,EAAK08C,aAAe,OAClC/qE,EAAQ,EACR78D,EAAwB,MAAbsS,EACf,MAAO,CACH22B,GAAI,SACJ1pC,QAAS,CAAC,OACV,eAAIsoI,GACA,OAAO/yE,CACX,EACA,eAAI+yE,CAAY7xH,GACZ8+C,EAAQ9+C,CACZ,EACA,aAAI2xH,GACA,OAAOr1H,CACX,EACA,aAAIq1H,CAAU3xH,GACV1D,EAAY0D,EACZ6mD,EAAQ,EACR78D,GAAW,CACf,EACA,gBAAI+5E,GACA,OAAOznE,EAAYA,EAAUuqD,QAAS,CAC1C,EACA10C,MAAAA,GACI,IAAMnS,EAAexE,KAAKuoE,aAC1B,GAAKznE,GAAc0D,IAAgBhW,IACnCwR,KAAKy1H,OAAOjxH,EAAc8+C,GACtBtjD,KAAK6pF,IAAIsD,MAAM3oF,GAAgB,GAC/B,OAAQi1C,GACJ,IAAK,OACD4R,GAASA,EAAQ,GAAKvqD,EAAUxS,OAChC,MACJ,IAAK,YACD+8D,GAAgB,EACZA,GAASvqD,EAAUxS,SACnBwS,EAAUysG,UACVliD,EAAQ,GAEZ,MACJ,IAAK,OACDA,EAAQjyD,KAAK8Z,IAAIm4C,EAAQ,EAAGvqD,EAAUxS,OAAS,GAC3C+8D,GAASvqD,EAAUxS,OAAS,IAC5BE,GAAW,EACXwR,KAAK+5F,QAAQ,mBAKjC,EACAu8B,gBAAAA,CAAiB9xH,GACb,OAAQxE,KAAwC6tE,GAC5C,iBACArpE,EAER,EAER,CCzBO,SAAS+xH,GACZ78C,GAEU,IADV54E,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAsB,CAAC,EAEjBi1D,EAAgD,mBAAfo2B,EACjCA,EACA,IACSliD,GAAGgiF,KAAK5/G,KAAK61E,MAAMiK,GAE5BjgC,EAAiB34C,EAAK01H,gBAAkB,EACxCnrE,EAA4C,iBAAnBvqD,EAAK20G,UAC9B9oB,GAAKG,UAAUhsF,EAAK20G,WACpB30G,EAAK20G,UACPjnH,EAAI,EACR,MAAO,CACHipC,GAAI,SACJ1pC,QAAS,CAAC,OACV0nH,UAAoC,iBAAlB30G,EAAK20G,UACjB9oB,GAAKG,UAAUhsF,EAAK20G,WACpB30G,EAAK20G,UACXghB,QAAS,GACT,kBAAIC,CAAelyH,GACfxE,KAAKy1G,eAAsB,IAAVjxG,EACXmoF,GAAKG,UAAUtoF,QACf,CACV,EACA,kBAAIkyH,GACA,OAAO12H,KAAKy1G,UAAYz1G,KAAKy1G,UAAU7nB,aAAU,CACrD,EACA+oC,YAAa71H,EAAK61H,aAAe,IACjCC,mBAAAA,CAEIpyH,EACA61E,EACAsR,GAEA,IAAMrxC,GAA8C,iBAAd+/B,EAChCsS,GAAKG,UAAUzS,GACfA,IAAchvB,EACdhS,EAA0BsyC,GAAe7qF,EAAK61H,YACpD,IAAKr8E,IAAQjB,GAAOA,GAAO,IAAK,OAAO,EACvC,IAAMQ,EAAYR,EAAM,EACxB,OAAO70C,EAAIqlF,KACJvvC,EAAIwzC,aAAatpF,EAAIqlF,IAAIoD,IAAIjtF,KAAK6pF,OAAShwC,CACtD,EACAg9E,cAAAA,CAEIryH,GAEA,IAAM61E,EAAMmuC,GACRxoH,KAAK6pF,IACLrlF,EAAIqlF,IAAIoD,IAAIjtF,KAAK6pF,KACjB/oF,EAAKg2H,gBAET,OAAc,MAAPz8C,GAAeA,EAAIt4B,SAAWv9C,CACzC,EACAmS,MAAAA,GAEI,GADAnoB,GAAKy7G,KACDz7G,EAAIirD,EAAgB,CACpBjrD,GAAKirD,EACL,IAAIj1C,EAAU8+C,IAEd,GACI9+C,EAAQlW,QAAU+8D,GAAmBrrD,KAAK22H,aACvC32H,KAAK22H,YAAc,IACxB,CACE,IAAMt8C,EAAYr6E,KAAK22H,YAAc,EACrCnyH,EAAUA,EAAQgtD,QAAOm6B,GACrBA,EAAE9B,KACCx+B,EAAgByiC,aAAanC,EAAE9B,IAAIoD,IAAIjtF,KAAK6pF,OACxCxP,GAEf,CAEI71E,EAAQlW,QAAUwS,EAAKi2H,cACvBvyH,EAAUA,EAAQgtD,QAAO6oB,GACdA,EAAEwP,KACF7pF,KAAK62H,eAAex8C,MAG/B71E,EAAQlW,OAAS,IACjB0R,KAAKy2H,QAAUjyH,EACfxE,KAAK+5F,QAAQ,gBAAiBv1F,GAEtC,CACJ,EACAwyH,gBAAAA,CAAiBxyH,GACb,OAAQxE,KAAwC6tE,GAC5C,gBACArpE,EAER,EAER,CC7GO,SAASmlH,KAAuC,IAAlCjwC,EAAArrF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAoB,CAAC,EAClCyS,EAAUgyD,GAAK,GACfxP,EAAao2B,EAAK2vC,aAAc,EAChC5vE,EAAOigC,EAAK+zB,MAAQ,EACpBpiD,EAAQquB,EAAK20B,OAAS,GAEpB7/G,EAAc6iE,IAAC,KACjB,IAAMgpB,EAAS,CACXrmE,KAAA,EACAE,IAAA,EACAkzC,MAAA,EACA+sE,OAAA,GAEJ,OAAO9oE,EAAMvkC,KAAI6kE,GAAKtR,EAAOsR,IAAM,IAAGl6B,QAClC,CAACk6B,EAAMrxC,IAAQqxC,EAAOrxC,GACtB,EAER,GAXoB,eAahB91C,EAAWhW,IAEf,MAAO,CACHipC,GAAI,OACJmyF,cAAelwC,EAAKhoE,QAAUohD,GAAK,GAEnC,WAAIk2D,CAAQ3uC,GACR,IAAMsR,EAAQ3rF,KAAKw1H,WACnB10H,EAAUu5E,EAAEh+C,QAEZr8B,KAAK6pF,IAAM/2B,GACP9yD,KAAKgpH,QAAQn4H,EAAI86F,EAAMk9B,YACvB7oH,KAAKgpH,QAAQh4G,EAAI26E,EAAMm9B,cACzB5qH,IAAI8B,KAAK4pH,cACf,EAEA,WAAIZ,GACA,OAAOloH,CACX,EAEA,cAAIuoH,CAAWhvC,GACP/2B,IAAe+2B,IACnB/2B,EAAa+2B,EACbr6E,KAAKw1H,WAAWlL,0BACpB,EAEA,cAAIjB,GACA,OAAO/lE,CACX,EAEA,QAAImqD,CAAKpzB,GACD5gC,IAAS4gC,IACb5gC,EAAO4gC,EACPr6E,KAAKw1H,WAAWlL,0BACpB,EAEA,QAAI7c,GACA,OAAOh0D,CACX,EAEA,SAAI40D,CAAMh0B,GACNhvB,EAAQgvB,EACR71E,EAAWhW,IACXwR,KAAKw1H,WAAWlL,yBACpB,EAEA,SAAIjc,GACA,OAAOhjD,CACX,EAEA,YAAIi+D,GACA,OAAO9kH,CACX,EAEAgxH,QAAAA,GACI,OAAOx1H,KAAKoX,MAChB,EAEA6/G,QAAAA,CAAS58C,GACL,IAAMsR,EAAQ3rF,KAAKw1H,WACnB7pC,EAAMo+B,qBAAqB/pH,MAC3BA,KAAKgpH,QAAUhpH,KAAKgpH,QAAQ9qH,IAAIm8E,GAChCsR,EAAMq+B,qBAAqBhqH,MAC3B2rF,EAAMoO,QAAQ,oBAClB,EAEAm9B,QAAAA,GACIl3H,KAAKi3H,SAASnkE,IAAM,EAAG,GAC3B,EAEAqkE,SAAAA,GACIn3H,KAAKi3H,SAASnkE,GAAK,EAAG,GAC1B,EAEA+nC,MAAAA,GACI76F,KAAKi3H,SAASnkE,GAAK,GAAI,GAC3B,EAEAgoC,QAAAA,GACI96F,KAAKi3H,SAASnkE,GAAK,EAAG,GAC1B,EAER,ChBpKgBzB,GAAAw/D,GAAA,aCyHAx/D,GAAAmgE,GAAA,QC1HAngE,GAAAwgE,GAAA,QCDAxgE,GAAAygE,GAAA,aAIAzgE,GAAA0gE,GAAA,aAKA1gE,GAAA2gE,GAAA,UCNA3gE,GAAA4gE,GAAA,cCmBA5gE,GAAAmhE,GAAA,aCtBAnhE,GAAA8hE,GAAA,aAcA9hE,GAAA+hE,GAAA,aAIA/hE,GAAAgiE,GAAA,mBAIAhiE,GAAAiiE,GAAA,UCtBAjiE,GAAA07D,GAAA,WAIA17D,GAAAkiE,GAAA,eCIAliE,GAAAmiE,GAAA,SAIAniE,GAAAoiE,GAAA,MAyCApiE,GAAAyiE,GAAA,gBAMAziE,GAAA0iE,GAAA,gBC6FA1iE,GAAAqhE,GAAA,UCjBArhE,GAAAqjE,GAAA,QCjHArjE,GAAAyjE,GAAA,UCaAzjE,GAAA0jE,GAAA,SCkCA1jE,GAAAykE,GAAA,cCxBAzkE,GAAA6kE,GAAA,UCoCA7kE,GAAAklE,GAAA,UChBAllE,GAAAs4D,GAAA,QC6EhB,IAAMyN,GAAN,MAAqB,cAAA/lE,GAAA,0BACjB9gE,KACA40F,SACAkyC,MACA5hB,UACA6hB,OACAC,cACAC,WACAC,OACAnuC,QACAxyB,SACAj3D,WAAAA,CAAYiB,EAAcwiD,EAAkB7J,GACxCz5C,KAAKzP,KAAOuQ,EACZd,KAAKmlF,SAAW7hC,EAAK6hC,SACrBnlF,KAAKq3H,MAAQ/zE,EAAK+zE,OAAS,EAC3Br3H,KAAKy1G,UAAYnyD,EAAKmyD,WAAa,UACnCz1G,KAAKs3H,OAASh0E,EAAKg0E,QAAUjqB,GAAQ9jB,OACrCvpF,KAAKu3H,cAAgBj0E,EAAKi0E,eAAiB,SAC3Cv3H,KAAKw3H,YAAa,EAClBx3H,KAAKy3H,OAASn0E,EAAKm0E,OACnBz3H,KAAKspF,QAAUhmC,EAAKgmC,QACpBtpF,KAAK82D,SAAWrd,CACpB,CAEA9iC,MAAAA,CAAO7V,EAAmBwiD,GACtB,OAAO,CACX,CAQAo0E,+BAAAA,CACI52H,EACAwiD,EACA7J,GAEA,IAAM4R,EAAW/H,EAAQ,EAErB90D,EAAIsS,EAAId,KAAKmlF,SACjB,GAAmB,IAAfnlF,KAAKq3H,OAAe7oI,GAAKwR,KAAKq3H,MAC9B,MAAO,CAAChsE,EAAU,GAAG,GAGzB,IAAM7mD,EAAIpL,KAAKu+H,MAAMnpI,GAUrB,GATAA,GAAKgW,GAGiB,WAAlBxE,KAAKy1G,WACiB,aAAlBz1G,KAAKy1G,WAAiC,EAAJjxG,KAEtChW,EAAI,EAAIA,GAGRirD,EAAQ,CACR,IAAI4gC,EAAQ,EACZ,UAA6B,IAAtB5gC,EAAO4gC,EAAQ,IAAoB5gC,EAAO4gC,EAAQ,GAAK7rF,GAC1D6rF,IAEJ,OAAIA,GAAShvB,EACF,CAACA,EAAU,GAAG,GAElB,CACHgvB,GACC7rF,EAAIirD,EAAO4gC,KAAW5gC,EAAO4gC,EAAQ,GAAK5gC,EAAO4gC,KAClD,EAER,CACK,CACD,IAAMA,EAAQjhF,KAAKgxD,OAAO9G,EAAQ,GAAK90D,GACvC,MAAO,CAAC6rF,GAAQ7rF,EAAI6rF,EAAQhvB,GAAYA,GAAU,EACtD,CACJ,CAEAlrD,QAAAA,CAAYW,EAAmBwiD,EAAc7J,GACzC,GAAIz5C,KAAK82D,SACL,OAAQxT,GACJ,IAAK,MACDxiD,EAAI+oF,IAAS/oF,EAAI8sD,KAAKi8B,IAAI3rF,IAAIu7C,GAC9B,MACJ,IAAK,QACD34C,EAAI8sF,MAAW9sF,EAAI8sD,KAAKggC,MAASn0C,EACjC,MACJ,IAAK,QACD34C,EAAIupF,MAAWvpF,EAAI8sD,KAAKy8B,MAAMA,MAAM5wC,GACpC,MACJ,IAAK,UACD34C,EAAI64G,QAAa74G,EAAI8sD,KAAK+rD,QAAWlgE,EACrC,MACJ,QACI34C,EAAIwiD,GAAQ7J,OAIpB34C,EAAIwiD,GAAQ7J,CAEpB,CAEAm+E,SAAAA,GACI,IAAM92H,EAAkC,CACpCqkF,SAAUnlF,KAAKmlF,SACf9zE,KAAM,IAEV,OAAIrR,KAAKq3H,QACLv2H,EAAcu2H,MAAQr3H,KAAKq3H,OAER,YAAnBr3H,KAAKy1G,YACL30G,EAAc20G,UAAYz1G,KAAKy1G,WAE/Bz1G,KAAKs3H,QAAUjqB,GAAQ9jB,SACvBzoF,EAAcw2H,OAASt3H,KAAKs3H,OAAO/mI,MAEZ,WAAvByP,KAAKu3H,gBACLz2H,EAAcy2H,cAAgBv3H,KAAKu3H,eAEnCv3H,KAAKy3H,SACL32H,EAAc22H,OAASz3H,KAAKy3H,QAE5Bz3H,KAAKspF,UACLxoF,EAAcwoF,QAAUtpF,KAAKspF,QAAQxiE,KAAIw8B,GAAKtjD,KAAKs3H,OAAO/mI,QAEvDuQ,CACX,GASJ,SAAS+2H,GAAQn+C,EAAS54E,GACtB,OAAOA,EAAE5C,IAAI4C,EAAEmsF,IAAIvT,GACvB,CAFSroB,GAAAwmE,GAAA,WAOT,IAAMC,GAAN,cAAmCV,GAAe,cAAA/lE,GAAA,gCAC9ChgD,KACAxR,WAAAA,CACIiB,EACAwiD,EACA7J,EACA4R,GAEAwN,MAAM/3D,EAAM24C,EAAM4R,GAClBrrD,KAAKqR,KAAOiyC,CAChB,CAEA3sC,MAAAA,CAAO7V,EAAmBwiD,GACtB,IAAO7J,EAAO4R,EAAO78D,GAAcwR,KAAK03H,gCACpCp0E,EACAtjD,KAAKqR,KAAK/iB,OACV0R,KAAKy3H,QAGT,GAAa,GAATpsE,GAAqC,SAAvBrrD,KAAKu3H,cACnBv3H,KAAKG,SAASW,EAAKd,KAAKzP,KAAMyP,KAAKqR,KAAKooC,QAEvC,CACD,IAAMj1C,EAASxE,KAAKspF,QAAUtpF,KAAKspF,QAAQ7vC,GAASz5C,KAAKs3H,OACzDt3H,KAAKG,SACDW,EACAd,KAAKzP,KACL27F,GACIlsF,KAAKqR,KAAKooC,GACVz5C,KAAKqR,KAAKooC,EAAQ,GAClBj1C,EAAO6mD,IAGnB,CACA,OAAO78D,CACX,CAEAopI,SAAAA,GACI,OAAOzmI,OAAOD,OAAO2nE,MAAM++D,YAAa,CAAEvmH,KAAMrR,KAAKqR,MACzD,GAME0mH,GAAN,cAAiCX,GAAe,cAAA/lE,GAAA,8BAC5ChgD,KACA2mH,OACAC,QACAp4H,WAAAA,CACIiB,EACAwiD,EACA7J,EACA4R,EACA78D,GAKA,GAHAqqE,MAAM/3D,EAAM24C,EAAM4R,GAClBrrD,KAAKqR,KAAOiyC,EAEe,WAAvBtjD,KAAKu3H,cAA4B,CACjCv3H,KAAKg4H,OAAS,GAEVxpI,IACAwR,KAAKi4H,QAAU,IAEnB,IAAK,IAAIzzH,EAAI,EAAGA,EAAIxE,KAAKqR,KAAK/iB,OAAS,EAAGkW,IAAK,CAC3C,IAAM61E,EAAUr6E,KAAKqR,KAAK7M,GACpBmnF,EAAYnnF,EAAI,EAChB81C,EAAUt6C,KAAKqR,KAAKs6E,GACpBtyC,EAAc70C,EAAI,EAClBxE,KAAKqR,KAAK7M,EAAI,GACdqzH,GAAQv9E,EAAS+/B,GACjBxgC,EAAc8xC,EAAY3rF,KAAKqR,KAAK/iB,OAAS,EAC7C0R,KAAKqR,KAAKs6E,EAAY,GACtBksC,GAAQx9C,EAAS//B,GACvBt6C,KAAKg4H,OAAOjiI,KACRkhG,GAAW59C,EAAaghC,EAAS//B,EAAST,IAE1CrrD,GACAwR,KAAKi4H,SAASliI,KACVkhG,GACI59C,EACAghC,EACA//B,EACAT,EACAu9C,IAIhB,CACJ,CACJ,CAEAzgF,MAAAA,CAAO7V,EAAmBwiD,GACtB,IAAO7J,EAAO4R,EAAO78D,GAAcwR,KAAK03H,gCACpCp0E,EACAtjD,KAAKqR,KAAK/iB,OACV0R,KAAKy3H,QAGT,GAAa,GAATpsE,GAAqC,SAAvBrrD,KAAKu3H,cACnBv3H,KAAKG,SAASW,EAAKd,KAAKzP,KAAMyP,KAAKqR,KAAKooC,QAEvC,CACD,IAAMj1C,EAASxE,KAAKspF,QAAUtpF,KAAKspF,QAAQ7vC,GAASz5C,KAAKs3H,OAEzD,OAAQt3H,KAAKu3H,eACT,IAAK,SACDv3H,KAAKG,SACDW,EACAd,KAAKzP,KACLyP,KAAKqR,KAAKooC,GAAOwyC,KACbjsF,KAAKqR,KAAKooC,EAAQ,GAClBj1C,EAAO6mD,KAGf,MACJ,IAAK,QACDrrD,KAAKG,SACDW,EACAd,KAAKzP,KACLyP,KAAKqR,KAAKooC,GAAOs0C,MACb/tF,KAAKqR,KAAKooC,EAAQ,GAClBj1C,EAAO6mD,KAGf,MACJ,IAAK,SACD,GAAIrrD,KAAKg4H,OAAQ,CACbh4H,KAAKG,SACDW,EACAd,KAAKzP,KACLyP,KAAKg4H,OAAOv+E,GAAOj1C,EAAO6mD,KAE1BrrD,KAAKi4H,SACLj4H,KAAKG,SACDW,EACA,QACAd,KAAKi4H,QAAQx+E,GAAOj1C,EAAO6mD,IAAQuiC,SAG3C,KACJ,EAEZ,CACA,OAAOp/F,CACX,CAEAopI,SAAAA,GACI,OAAOzmI,OAAOD,OAAO2nE,MAAM++D,YAAa,CACpCvmH,KAAMrR,KAAKqR,KAAKyV,KAAIhmB,GAAK,CAACA,EAAEjQ,EAAGiQ,EAAEkQ,MAEzC,GAMEu9C,GAAN,cAAkC6oE,GAAe,cAAA/lE,GAAA,+BAC7ChgD,KACAxR,WAAAA,CACIiB,EACAwiD,EACA7J,EACA4R,GAEAwN,MAAM/3D,EAAM24C,EAAM4R,GAClBrrD,KAAKqR,KAAOiyC,CAChB,CAEA3sC,MAAAA,CAAO7V,EAAmBwiD,GACtB,IAAO7J,EAAO4R,EAAO78D,GAAcwR,KAAK03H,gCACpCp0E,EACAtjD,KAAKqR,KAAK/iB,OACV0R,KAAKy3H,QAGT,GAAa,GAATpsE,GAAoC,QAAtBrrD,KAAKu3H,cACnBv3H,KAAKG,SAASW,EAAKd,KAAKzP,KAAMyP,KAAKqR,KAAKooC,QAEvC,CACD,IAAMj1C,EAASxE,KAAKspF,QAAUtpF,KAAKspF,QAAQ7vC,GAASz5C,KAAKs3H,OACzDt3H,KAAKG,SACDW,EACAd,KAAKzP,KACLyP,KAAKqR,KAAKooC,GAAOwyC,KACbjsF,KAAKqR,KAAKooC,EAAQ,GAClBj1C,EAAO6mD,IAGnB,CACA,OAAO78D,CACX,CAEAopI,SAAAA,GACI,OAAOzmI,OAAOD,OAAO2nE,MAAM++D,YAAa,CAAEvmH,KAAMrR,KAAKqR,MACzD,GA2BG,SAAS6mH,KAAiD,IAAzCx+C,EAAArrF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAwB,CAAC,EACvCyS,EAA6B,GAC/BwiD,EAAI,EACJ7J,GAAa,EACjB,MAAO,CACHhiB,GAAI,UACJ1pC,QAAS2rF,EAAMy+C,aAAe,CAAC,eAAY,EAC3CvqE,KAAM,CACFi8B,IAAK/2B,GAAK,EAAG,GACb86B,MAAO,EACPvD,MAAOv3B,GAAK,EAAG,GACf6mD,QAAS,GAEblkG,UAAW,CACPgkF,QAAQ,EACR03B,IAAAA,CAAK9lE,GACD/H,EAAIioC,GAAMlgC,EAAM,EAAGrrD,KAAKmlF,UACxBrkF,EAASue,SAAQ7wB,IACbA,EAAQgpI,YAAa,CACzB,IACA/9E,GAAa,CACjB,EACA,YAAI0rC,GACA,OAAOrkF,EAAS2wD,QACZ,CAACpG,EAAK78D,IAAY4K,KAAK+rD,IAAI32D,EAAQ22F,SAAU95B,IAC7C,EAER,GAEJntD,GAAAA,GACQw7E,EAAM5iB,WACF92D,KAAKmD,IAAI,SACTnD,KAAK4tD,KAAKi8B,IAAO7pF,KAAa6pF,IAAIxtD,SAElCr8B,KAAKmD,IAAI,YACTnD,KAAK4tD,KAAKggC,MAAS5tF,KAAa4tF,OAEhC5tF,KAAKmD,IAAI,WACTnD,KAAK4tD,KAAKy8B,MAASrqF,KAAaqqF,OAEhCrqF,KAAKmD,IAAI,aACTnD,KAAK4tD,KAAK+rD,QAAW35G,KAAa25G,SAG9C,EACAhjG,MAAAA,GACI,GAAI3W,KAAKyV,UAAUgkF,OAAQ,OAC3B,IACIjrG,EADA68D,GAAuB,EAE3B/H,GAAK2mD,KACL,IAAK,IAAMzlG,KAAK1D,EACZtS,EAAgBgW,EAAEmS,OAAO3W,KAAiCsjD,GACtD90D,IAAkBgW,EAAEgzH,aACpBhzH,EAAEgzH,YAAa,EACdx3H,KAAiC+5F,QAC9B,yBACAv1F,EAAEjU,OAGV86D,IAAgB78D,EAEhB68D,IAAgB5R,IAChBA,GAAa,EACZz5C,KAAiC+5F,QAAQ,mBAElD,EACAq+B,OAAAA,CACI/sE,EACA78D,EACAgW,GAEAi1C,GAAa,EACbz5C,KAAKq4H,UAAUhtE,GACQ,iBAAZ78D,EAAK,GACZsS,EAAS/K,KACL,IAAI+hI,GACAzsE,EACA78D,EACAgW,EACAk1E,EAAM5iB,WAAY,IAIrBtoE,EAAK,aAAcm+F,GACxB7rF,EAAS/K,KACL,IAAIgiI,GACA1sE,EACA78D,EACAgW,EACAk1E,EAAM5iB,WAAY,EACT,QAATzL,IAAmBquB,EAAMy+C,eAAgB,KAI5C3pI,EAAK,aAAc68F,IACxBvqF,EAAS/K,KACL,IAAIw4D,GACAlD,EACA78D,EACAgW,EACAk1E,EAAM5iB,WAAY,GAIlC,EACAuhE,SAAAA,CAAUhtE,GACN,IAAM78D,EAAQsS,EAAS04D,WAAUh1D,GAAKA,EAAEjU,OAAS86D,IAC7C78D,GAAS,GACTsS,EAAS4hC,OAAOl0C,EAAO,EAE/B,EACA8pI,YAAAA,GACIx3H,EAAS4hC,OAAO,EAAG5hC,EAASxS,OAChC,EACAiqI,iBAAAA,CAAkBltE,GACd,OAAQrrD,KAAiC6tE,GAAG,kBAAmBxiB,EACnE,EACAmtE,wBAAAA,CAAyBntE,GACrB,OAAQrrD,KAAiC6tE,GACrC,yBACAxiB,EAER,EACAotE,2BAA0B,IACf33H,EAAS2wD,QAAO,CAACpG,EAAqC78D,KACzD68D,EAAE78D,EAAE+B,MAAQ/B,EAAEopI,YACPvsE,IACR,CAAC,GAERqtE,yBAAAA,GACI,IAAMrtE,EAAe,CAAC,EACtB,OAAIquB,EAAMy+C,eACN9sE,EAAQ8sE,cAAe,GAEvBz+C,EAAM5iB,WACNzL,EAAQyL,UAAW,GAEhBzL,CACX,EAER,CAQO,SAASstE,GAAmBj/C,EAAmB54E,GAClD,IAAIwiD,EAA2B,CAAE/yD,KAAMmpF,EAAInpF,MAC3C,OAAImpF,EAAIv2E,IAAI,aACRmgD,EAAcs1E,SAAYl/C,EACrB++C,6BACLtnI,OAAOD,OACHoyD,EACCo2B,EACIg/C,8BAGTh/C,EAAIr3E,SAAS/T,OAAS,IACtBg1D,EAAcjhD,SAAWq3E,EAAIr3E,SAASmvD,QAAO/X,GAAKA,EAAEt2C,IAAI,WAAU2jB,KAC9D2yB,GAAKk/E,GAAmBl/E,EAAGA,EAAElpD,SAG9B+yD,CACX,CC5pBO,SAASwvE,KAAgD,IAA3Cp5C,EAAArrF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAgB,EAAGyS,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAe,EAC/Ci1D,EAAO,EACX,MAAO,CACHv1D,QAAS,CAAC,SACV4oB,MAAAA,GACI,IAAM8iC,EAAIrgD,KAAK4zF,IAAI1pC,EAAOo2B,GAAS54E,EAC/B24C,EAAI,GACJz5C,KAAK8oB,UAET9oB,KAAKqqF,MAAQv3B,GAAKrZ,GAClB6J,GAAQ2mD,IACZ,EAER,CCmCO,SAAS4uB,GACZn/C,EACA54E,GAEA,GAAU,MAAN44E,EACA,MAAM,IAAIroF,MAAM,8CAGpB,MAAO,CACHomC,GAAI,SACJqhG,IAAAA,GAAmC,IAAfx1E,EAAAj1D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAY,EAC5B2R,KAAK+4H,MAAMr/C,EAAKp2B,GAChBtjD,KAAK+5F,QAAQ,OAAQz2C,EACzB,EACA01E,IAAAA,GAAmC,IAAf11E,EAAAj1D,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAY,EACtBorD,EAASigC,EACf15E,KAAK+4H,MAAMr/C,EAAKp2B,GAChBtjD,KAAK+5F,QAAQ,OAAQrgB,EAAKjgC,EAC9B,EACAw/E,GAAE,IACSv/C,EAEXw/C,MAAK,IACMp4H,GAAS,KAEpBq4H,QAAAA,CAAS71E,GACLxiD,EAAQwiD,CACZ,EACAy1E,KAAAA,CAAqBz1E,IACjBo2B,EAAK54E,EAAQ1H,KAAK8Z,IAAIpS,EAAOwiD,GAAKA,IACxB,GACNtjD,KAAK+5F,QAAQ,QAErB,EACAq/B,MAAAA,CAEI91E,GAEA,OAAOtjD,KAAK6tE,GAAG,OAAQvqB,EAC3B,EACA+1E,MAAAA,CAEI/1E,GAEA,OAAOtjD,KAAK6tE,GAAG,OAAQvqB,EAC3B,EACAg2E,OAAAA,CAAuBh2E,GACnB,OAAOtjD,KAAK6tE,GAAG,QAASvqB,EAC5B,EACAqgE,QAAO,IACI,WAAWjqC,IAG9B,CCzFO,SAAS6/C,GAAS7/C,GAAoD,IAAtC54E,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAuB,CAAC,EAC3D,GAAY,MAARqrF,EACA,MAAM,IAAIroF,MAAM,4BAEpB,IAAMiyD,EAAOxiD,EAAI04H,MAAQ,EACzB,MAAO,CACH/hG,GAAI,WACJ1pC,QAAS,CAAC,WACVmQ,GAAAA,GACIs5B,GAAGgiF,KAAK5/G,KAAKs5H,KAAKx5C,GAAM,KACpB15E,KAAK25G,QAAU35G,KAAK25G,SAAW,EAE3Br2D,EAAO,EACP9rB,GAAGgiF,KAAK5/G,KAAKsvF,MACTlpF,KAAK25G,QACL,EACAr2D,GACC7J,GAAMz5C,KAAK25G,QAAUlgE,GACtB4zD,GAAQ9jB,QACV++B,OAAM,KACJtoH,KAAK8oB,SACT,IAGA9oB,KAAK8oB,SAEb,GACJ,EAER,CClCO,SAAS2wG,GAAM//C,GAClB,MAAO,CACHjiD,GAAI,QACJlnC,KAAAmpF,EAER,CC+BO,SAASggD,GACZhgD,EACA54E,EACAwiD,GAEA,IAAKo2B,EACD,MAAM,IAAIroF,MAAM,qCAGpB,IAAMooD,EAA+B,CAAC,EAEtC,SAAS4R,EAAgBsgC,GAChBlyC,EAAOkyC,KACRlyC,EAAOkyC,GAAS,CACZguC,MAAO,IAAIhgC,GACXl0F,IAAK,IAAIk0F,GACThjF,OAAQ,IAAIgjF,GACZqkB,KAAM,IAAIrkB,IAGtB,CAEA,SAASnrG,EAAGm9F,EAAerxC,EAAejB,GACtC,OAAAgS,EAAgB/Q,GACTb,EAAOa,GAAOqxC,GAAOztF,IAAIm7C,EACpC,CAEA,SAAS70C,EAAQmnF,EAAerxC,GAA+B,QAAAs/E,EAAAvrI,UAAAC,OAAb+qD,EAAA,IAAAtkD,MAAA6kI,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAAxgF,EAAAwgF,EAAA,GAAAxrI,UAAAwrI,GAC9CxuE,EAAgB/Q,GAChBb,EAAOa,GAAOqxC,GAAOoO,WAAW1gD,EACpC,CAnBSgY,GAAAhG,EAAA,mBAWAgG,GAAA7iE,EAAA,MAKA6iE,GAAA7sD,EAAA,WAKT,IAAI61E,GAAgB,EAEpB,MAAO,CACH5iD,GAAI,QACJ1W,MAAO24D,EAEPogD,UAAAA,CAAWnuC,GAGP,GAFAtR,GAAgB,EAEZv5E,IAAcA,EAAUvN,SAASo4F,GACjC,MAAM,IAAIt6F,MAAM,oBAAoBs6F,KAGxC,IAAMtyC,EAAWr5C,KAAK+gB,MAEtB,GAAIuiC,EAAa,CAEb,IAAKA,IAAcjK,GACf,OAGJ,IAAMQ,EAA6C,iBAA1ByJ,EAAYjK,GAC/B,CAACiK,EAAYjK,IACbiK,EAAYjK,GAElB,IAAKQ,EAAUtmD,SAASo4F,GACpB,MAAM,IAAIt6F,MACN,iCAAiCgoD,UAAiBsyC,8BAC9C9xC,EAAU/yB,KAAKlrB,GAAM,IAAIA,OAAM2gB,KAAK,QAIpD,CAEA,QAAAw9G,EAAA1rI,UAAAC,OA5ByBgsD,EAAA,IAAAvlD,MAAAglI,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAA1/E,EAAA0/E,EAAA,GAAA3rI,UAAA2rI,GA4BzBx1H,EAAQ,MAAO60C,KAAaiB,GAC5Bt6C,KAAK+gB,MAAQ4qE,EACbnnF,EAAQ,QAASmnF,KAAUrxC,GAC3B91C,EAAQ,QAAS,GAAG60C,QAAesyC,OAAYrxC,EACnD,EAEA2/E,kBAAiB,CACbtuC,EACArxC,EACAjB,IAEO7qD,EAAG,QAAS,GAAGm9F,QAAWrxC,IAAMjB,GAG3C6gF,aAAY,CAACvuC,EAAerxC,IACjB9rD,EAAG,QAASm9F,EAAOrxC,GAG9B6/E,cAAa,CAACxuC,EAAerxC,IAClB9rD,EAAG,SAAUm9F,EAAOrxC,GAG/B8/E,YAAW,CAACzuC,EAAerxC,IAChB9rD,EAAG,OAAQm9F,EAAOrxC,GAG7B+/E,WAAU,CAAC1uC,EAAerxC,IACf9rD,EAAG,MAAOm9F,EAAOrxC,GAG5B3jC,MAAAA,GAES0jE,IACD71E,EAAQ,QAASk1E,GACjBW,GAAgB,GAEpB71E,EAAQ,SAAUxE,KAAK+gB,MAC3B,EAEAi9F,IAAAA,GACIx5G,EAAQ,OAAQxE,KAAK+gB,MACzB,EAEA4iG,OAAAA,GACI,MAAO,UAAU3jH,KAAK+gB,OAC1B,EAER,CC/IO,SAAS0xG,GAAK/4C,GACjB,MAAO,CACHjiD,GAAI,OACJm8F,MAAM,EACNC,aAAAn6C,EAER,CCHO,SAAS4gD,KAIC,IACTh3E,EACA7J,EAHJ34C,EAAAzS,UAAAC,OAAA,EAAAD,UAAA,QAAA68D,EAIA,MAAO,CACHzzB,GAAI,YACJ8iG,WAPJlsI,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,KAAAA,UAAA,GAQIN,QAAS,CAAC,QACVysI,UAAW,GACXt8H,GAAAA,GACI,IAAMmtD,EAAOgG,IAAC,KACVrxD,KAAKwC,KAAOxC,KAAKw6H,UAAU/mI,QAAQ,YAAa,OACpD,GAFa,QAIb6vD,EAAS9rB,GAAGq3C,EAAEq6B,aAAa16G,IAEnBwR,KAAKu6H,YACAz5H,GACEd,KAAKw6H,UAAUlsI,OAASwS,KAE3B02B,GAAGq3C,EAAE04B,UAAU,SACfvnG,KAAKw6H,WAAahsI,EAAU0lD,cAG5Bl0C,KAAKw6H,WAAahsI,EAEtB68D,IAER,IAEA5R,EAASjiB,GAAGq3C,EAAE+5B,iBAAiB,aAAa,KACpC5oG,KAAKu6H,WACLv6H,KAAKw6H,UAAYx6H,KAAKw6H,UAAUr+H,MAAM,GAAI,IAE9CkvD,GACJ,GACJ,EACAviC,OAAAA,GACIw6B,EAAOo2C,SACPjgD,EAAOigD,QACX,EAER,CCXO,SAASu5B,KACZ,MAAO,CACHx7F,GAAI,QACJgjG,iBAHcpsI,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAA2B,IAIzCknH,IAAAA,CAEIz0G,EACAwiD,GAGe,IAFf7J,EAAAprD,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,IAAiB,EAGbG,EAFJH,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,IAAAA,UAAA,GAE4B,EAAIyS,EAC5B0D,EAAc,IAAIm1F,GAChBtf,EAAKr6E,KAAKovH,UAAS,KACrB5gI,GAAKgpC,GAAG0yE,IAAInpF,MAAMs+E,GAClB,IAAK,IAAI1T,EAAI,EAAGn9F,GAAKsS,GAAQ6qF,EAAI3rF,KAAKy6H,iBAAkB9uC,IAAK,CACzD,IAAc,GAAVlyC,IACAA,IACIA,EAAQ,GAGR,OAFA4gC,EAAGqf,cACHl1F,EAAYu1F,UAIpBz2C,IACA90D,GAAKsS,CACT,KAEJ,MAAO,CACH,UAAI24F,GACA,OAAOpf,EAAGof,MACd,EACA,UAAIA,CAAO9N,GACPtR,EAAGof,OAAS9N,CAChB,EACA+N,OAAQrf,EAAGqf,OACX4uB,MAAO9jH,EAAYtG,IACnB8c,IAAAA,CAAK2wE,GACD,OAAAnnF,EAAYtG,IAAIytF,GACT3rF,IACX,EAER,EACAkzH,IAAAA,CAEIpyH,EACAwiD,GAEA,OAAOtjD,KAAKu1G,KAAKz0G,EAAMwiD,GAAA,MAAmB,GAAG,GAAG,EACpD,EACA4lC,KAAAA,CAEIpoF,EACAwiD,EACA7J,EACA4R,GAEF,IADE78D,EAAAH,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAWg/G,GAAQ9jB,OAEf/kF,EAAU,EACR61E,EAAiC,GACjCsR,EAAK3rF,KAAKovH,UAAS,KACrB5qH,GAAWgzB,GAAG0yE,IAAInpF,MAAMs+E,GACxB,IAAM/kD,EAAIlhD,KAAK8Z,IAAI1O,EAAUi1C,EAAU,GACvC4R,EAAS6gC,GAAKprF,EAAMwiD,EAAI90D,EAAS8rD,KACvB,IAANA,IACAqxC,EAAG+N,SACHruC,EAAS/H,GACT+2B,EAAYh7D,SAASg6B,GAAWA,MAExC,IACA,MAAO,CACH,UAAIogD,GACA,OAAO9N,EAAG8N,MACd,EACA,UAAIA,CAAOn/C,GACPqxC,EAAG8N,OAASn/C,CAChB,EACAguE,KAAAA,CAAMhuE,GACF+/B,EAAYtkF,KAAKukD,EACrB,EACAt/B,IAAAA,CAAKs/B,GACD,OAAAt6C,KAAKsoH,MAAMhuE,GACJt6C,IACX,EACA05F,MAAAA,GACI/N,EAAG+N,QACP,EACAghC,MAAAA,GACI/uC,EAAG+N,SACHruC,EAAS/H,GACT+2B,EAAYh7D,SAASi7B,GAAWA,KACpC,EAER,EAER,CRsWgB+W,GAAA6mE,GAAA,WAoJA7mE,GAAAsnE,GAAA,sBC3oBAtnE,GAAAyhE,GAAA,QCgDAzhE,GAAAwnE,GAAA,UCpCAxnE,GAAAkoE,GAAA,YCLAloE,GAAAooE,GAAA,SCoCApoE,GAAAqoE,GAAA,SC9BAroE,GAAAohE,GAAA,QCGAphE,GAAAipE,GAAA,aCkCAjpE,GAAA4hE,GAAA,SCnBhB,IAAI0H,GAAY,EAET,SAASC,KACZ,OAAOD,GAAY,CACvB,CAgMO,SAASE,KAAsC,IAAjCnhD,EAAArrF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAmB,CAAC,EAC/ByS,EAAuC,CAAC,EACxCwiD,EAAqB,IAAI1lD,IACzB67C,EAA6B,GAEnC,MAAO,CACHhiB,GAAI,OACJqjG,gBAAiBphD,EAAIohD,iBAAmB,GAExC58H,GAAAA,GACIy8H,KACI36H,KAAKkqF,KAAKp0F,QACV2jD,EAAO1jD,KACHiK,KAAK8rH,SAAQ,IAAMt0F,GAAG0yE,IAAIjD,UAAUjnG,KAAKkqF,KAAKp0F,WAItD2jD,EAAO1jD,KAAKiK,KAAK+6H,iBAAgB,CAAC1vE,EAAK78D,KACnC,IAAK68D,EAAI5zB,GACL,MAAM,IAAIpmC,MAAM,4CAEfyP,EAAUuqD,EAAI5zB,KACfz3B,KAAK+5F,QAAQ,UAAW1uC,EAAK78D,GAE5BA,IAILsS,EAAUuqD,EAAI5zB,IAAMjpC,EACpB80D,EAAmBplD,IAAImtD,EAAI5zB,IAC/B,IACJ,EAEA3O,OAAAA,GACI6xG,KACA,IAAK,IAAMtvE,KAAS5R,EAChB4R,EAAMquC,QAEd,EAEAsxB,WAAAA,GACI,IAAK,IAAM3/D,KAAMvqD,EACRwiD,EAAmBngD,IAAI+tE,OAAO7lB,MAC/BrrD,KAAK+5F,QAAQ,aAAcj5F,EAAUuqD,GAAIrnD,eAClClD,EAAUuqD,IAGzB/H,EAAmB22C,OACvB,EAEA6pB,WAAAA,GACI,IAAMz4D,EAAIrrD,KAAKg7H,YAEf9qB,KACAD,GAAcjwG,KAAKkqF,KAAKx4E,QAExB,IAAMljB,EAAO,CACTg8F,QAAS,CACLp+E,MAAO,EAAIskG,KACXhiG,MAAO49E,GAAI,EAAG,EAAG,MAErBvC,OAAQ/pF,KAAK+pF,OACbQ,MAAM,EACNgvB,MAAOmN,GAAQ1mH,OAGfqrD,aAAa+iC,GACb+0B,GAAS,IACF30H,EACHq7F,IAAKx+B,EAAEw+B,IACPz9E,MAAOi/C,EAAEj/C,MAAQpM,KAAKkqF,KAAKG,MAAMx5F,EACjCwb,OAAQg/C,EAAEh/C,OAASrM,KAAKkqF,KAAKG,MAAMr5E,IAGlCq6C,aAAawnC,GAClBgnB,GAAY,IACLrrH,EACH4kG,IAAK/nC,EAAE+nC,IACP/I,MAAOrqF,KAAKkqF,KAAKG,QAGhBh/B,aAAayoC,IAClB0mB,GAAW,IACJhsH,EACHq7F,IAAKx+B,EAAEy+B,OACP4I,OAAQrnC,EAAEqnC,SAIlB6d,IACJ,EAEArmB,KAAM,CACFC,MAAOzQ,EAAIyQ,OAAS,KACpBE,MAAO3Q,EAAI2Q,MAAQv3B,GAAK4mB,EAAI2Q,OAASv3B,GAAK,GAC1CphD,OAAQgoE,EAAIhoE,QAAUohD,GAAK,GAC3Bh9D,OAAQ4jF,EAAI5jF,QAAU,MAG1BmlI,SAAAA,GACI,OAAOzjG,GAAG0yE,IAAItC,kBAAoB5nG,KAAK6jH,YAC3C,EAEAA,UAAAA,GACI,IAAMx4D,EAAOq7D,GAAQ1mH,MACfw3B,GAAGq3C,EAAEgxB,WACLroE,GAAGq3C,EAAEu7C,QAAQ5yF,GAAGq3C,EAAEgxB,YACxB,OAAO7/F,KAAKk7H,SAAS7vE,EACzB,EAEA8vE,cAAAA,CAA8B9vE,GAC1B,IAAKA,EAAM5zB,GACP,MAAM,IAAIpmC,MACN,sDAGR,OAAOyP,EAAUuqD,EAAM5zB,KAAO,IAClC,EAEA2jG,cAAa,IACFjqI,OAAOg9H,OAAOrtH,GAIzBu6H,WAAAA,CAAYhwE,GACR,IAAKA,EAAM5zB,GACP,MAAM,IAAIpmC,MACN,mDAGR,QAAeyP,EAAUuqD,EAAM5zB,GACnC,EAEA6jG,aAAAA,CAAcjwE,GACV,IAAKA,EAAM5zB,GACP,MAAM,IAAIpmC,MACN,qDAGR,IAAM7C,EAAMsS,EAAUuqD,EAAM5zB,IAC5B,OAAOjpC,GAAOA,EAAI+sI,YACtB,EAEArhH,OAAAA,CAEImxC,GAEgB,IADhB78D,EAAAH,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAmB,OAEbmW,EAAIgzB,GAAG0yE,IAAInB,aAAav6G,GAAK,KAC3BwR,KAAK6jH,cACLx4D,GAER,IACA,OAAA5R,EAAO1jD,KAAKyO,GAELA,CACX,EAEAsnH,OAAAA,CAAuBzgE,GACnB,IAAI78D,GAAW,EACf,OAAOwR,KAAKovH,UAAS,KACZ5gI,EAODA,EAAWwR,KAAK6jH,aANZ7jH,KAAK6jH,eACLr1H,GAAW,EACX68D,IAMZ,GACJ,EAEA2gE,aAAAA,CAA6B3gE,GACzB,OAAOrrD,KAAKovH,UAAS,KACbpvH,KAAK6jH,cACLx4D,GAER,GACJ,EAEA6gE,UAAAA,CAA0B7gE,GACtB,IAAI78D,GAAW,EACf,OAAOwR,KAAKovH,UAAS,KACb5gI,EACKwR,KAAK6jH,eACNr1H,GAAW,EACX68D,KAIJ78D,EAAWwR,KAAK6jH,YAExB,GACJ,EAEA2X,SAAAA,CAEInwE,EACA78D,GAEA,GAAmB,mBAAR68D,QAA6B,IAAP78D,EAC7B,OAAOwR,KAAK6tE,GAAG,UAAWxiB,GAEzB,GAAmB,iBAARA,EACZ,OAAOrrD,KAAKw7H,WAAU,CAACh3H,EAAc61E,KAC7B71E,EAAIuM,GAAGs6C,IACP78D,IAAKgW,EAAK61E,EAElB,IAGA,MAAM,IAAIhpF,MACN,kDAGZ,EAEA0pI,eAAAA,CAEI1vE,EACA78D,GAEA,GAAmB,mBAAR68D,QAA6B,IAAP78D,EAC7B,OAAOwR,KAAK6tE,GAAG,gBAAiBxiB,GAE/B,GAAmB,iBAARA,EACZ,OAAOrrD,KAAK6tE,GACR,iBACA,CAACrpE,EAAK61E,IAAQ71E,EAAIuM,GAAGs6C,IAAQ78D,IAAKgW,EAAK61E,KAI3C,MAAM,IAAIhpF,MACN,wDAGZ,EAEAoqI,YAAAA,CAEIpwE,EACA78D,GAEA,GAAmB,mBAAR68D,QAA6B,IAAP78D,EAC7B,OAAOwR,KAAK6tE,GAAG,aAAcxiB,GAE5B,GAAmB,iBAARA,EACZ,OAAOrrD,KAAK6tE,GACR,cACCrpE,GAAQA,EAAIuM,GAAGs6C,IAAQ78D,IAAKgW,KAIjC,MAAM,IAAInT,MACN,qDAGZ,EAEA6pI,QAAAA,CAAS7vE,GAEL,OAAO8nC,GAAiBnzF,KAAKyoH,YAAap9D,EAC9C,EAGAqwE,gBAAAA,CAEIrwE,GAEA,IAAM78D,EAAMwR,KAAKm7H,eAAe9vE,GAC5B78D,IAAQA,EAAImtI,WACZ37H,KAAK6pF,IAAM7pF,KAAK6pF,IAAI3rF,IAAI1P,EAAIotI,cAC5BptI,EAAImtI,UAAW,EAEvB,EAEAX,SAAAA,GAGI,OAAOh7H,KAAKkqF,KAAKC,MACXnqF,KAAKkqF,KAAKC,MACVnqF,KAAK6mH,YACf,EAGA4B,SAAAA,GACI,IAAMp9D,EAAYrrD,KAAKg7H,YAEvB,KACM3vE,aAAqBwnC,IAAWxnC,aAAqB+iC,IAEvD,MAAM,IAAI/8F,MACN,gDAIR,IAAM7C,EAAYwR,KAAKysE,UAClBpwC,QACA6zD,UAAUlwF,KAAKkqF,KAAKx4E,QACpB24E,MAAMv3B,GAAK9yD,KAAKkqF,KAAKG,OAAS,IAEnC,GAAIh/B,aAAqB+iC,GAAM,CAC3B,IAAM5pF,EAASsmG,GAAS9qG,KAAK+pF,QAAU0O,IAClCv6F,IAAI,EAAG,GACPmsF,OAAO,IACPA,MAAMh/B,EAAUj/C,MAAOi/C,EAAUh/C,QACtC7d,EAAU0hG,UAAU1rF,EACxB,CAEA,OAAO6mD,EAAUohB,UAAUj+E,EAC/B,EAEAqtI,UAAAA,GACI,IAAMxwE,EAAOrrD,KAAKyoH,YAClB,OAAI/B,GAAQ1mH,MACDqrD,EAGAA,EAAKohB,UAAUj1C,GAAGgiF,KAAKC,IAAIhtC,UAE1C,EAEAk3C,OAAAA,GACI,OAAI3jH,KAAKkqF,KAAKG,OAAOx5F,GAAKmP,KAAKkqF,KAAKG,OAAOr5E,EAChC,SAAShR,KAAKkqF,KAAKG,OAAOx5F,GAAGo9F,QAAQ,MAGrC,UAAUjuF,KAAKkqF,KAAKG,OAAOx5F,GAAGo9F,QAAQ,QACzCjuF,KAAKkqF,KAAKG,MAAMr5E,GAAGi9E,QAAQ,MAGvC,EAER,CC/XO,SAAS6tC,KAAsC,IAO9CzhD,EAPaX,EAAArrF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAmB,CAAC,EACjCyS,EAA6D,KAC7DwiD,EAA+B,KAC/B7J,GAAW,EACT4R,EAAMyH,GAAK,GACbtkE,EAA8B,KAC9BgW,EAA8B,KAGlC,MAAO,CACHizB,GAAI,OACJ1pC,QAAS,CAAC,OACV05H,IAAK30D,GAAK,GACVipE,KAAMriD,EAAIqiD,MAAQ,EAClBC,UAAWtiD,EAAIsiD,W5GhGO,I4GiGtBC,aAAcviD,EAAIuiD,cAAgB,EAClC7kE,SAAUsiB,EAAItiB,WAAY,EAE1B8kE,KAAMxiD,EAAIwiD,MAAQ,EAClBh+H,GAAAA,GAII,GAHA1P,EAAiBwR,KAAK6pF,IAAIxtD,QAC1B73B,EAAiBxE,KAAK6pF,IAAIxtD,QAC1Bg+C,EAAcr6E,KAAK6pF,IAAIxtD,QACL,IAAdr8B,KAAKk8H,KACL,MAAM,IAAI7qI,MAAM,4BAGhB2O,KAAKmD,IAAI,UAITnD,KAAK+6H,iBACD,CAACpvC,EAAOrxC,KAGJ,IAFKA,IACAqxC,EAAMxoF,IAAI,SACXm3C,EAAIqhF,SAAU,OAElB37H,KAAK+5F,QAAQ,uBAAwBz/C,GACrC,IAAMjB,EAAOiB,EAAIizD,UAIjB,GAHA5hB,EAAMoO,QAAQ,uBAAwB1gD,IAGlCiB,EAAIqhF,WAAYtiF,EAAKsiF,YAIrB37H,KAAKo3D,WAAYu0B,EAAMv0B,UAGtB,IAAKp3D,KAAKo3D,UAAau0B,EAAMv0B,SAY7B,CAED,IAAMvd,GAAS75C,KAAKo3D,UAAYu0B,EAAMv0B,SAChC9c,EACAA,EAAIizD,UACV1zD,EAAK/hC,OAAO+xE,IAAMhwC,EAAK/hC,OAAO+xE,IAAI3rF,IAC9B27C,EAAK+hF,cAET/hF,EAAK/hC,OAAO20D,UAAY4yB,GACpBxlD,EAAK/hC,OAEb,KAvB4C,CAExC,IAAM+hC,EAAQ75C,KAAKk8H,KAAOvwC,EAAMuwC,KAChCl8H,KAAK6pF,IAAM7pF,KAAK6pF,IAAI3rF,IAChBo8C,EAAIshF,aAAavxC,MAAMsB,EAAMuwC,KAAOriF,IAExC8xC,EAAM9B,IAAM8B,EAAM9B,IAAI3rF,IAClBo8C,EAAIshF,aAAavxC,OAAOrqF,KAAKk8H,KAAOriF,IAExC75C,KAAKysE,UAAY4yB,GAAcr/F,MAC/B2rF,EAAMlf,UAAY4yB,GAAc1T,EACpC,CAcArxC,EAAIqhF,UAAW,EACf37H,KAAK+5F,QAAQ,iBAAkBz/C,GAC/BqxC,EAAMoO,QAAQ,iBAAkBz/C,EAAIizD,UAAS,KAIrDvtG,KAAKm8H,kBAAkBxwC,IACnB,GAAIn0D,GAAGgiF,KAAKoW,QACR,GAAIjkC,EAAIywC,YAAcp8H,KAAKq8H,YAAa,CAEpCr8H,KAAKynH,IAAMznH,KAAKynH,IAAIzhF,OAChBxO,GAAGgiF,KAAKoW,QAAQriC,QAGpB,IAAMjzC,EAAex5C,EACrBA,EAAc6qF,EAAI3nF,OAGds2C,GAAgBx5C,IAEhBwiD,EAAkBqoC,EAAI3nF,OAAO6lF,KAE7BpwC,EAGAA,GAAW,EAELa,IAENt6C,KAAK+5F,QAAQ,SAAUj5F,GACvB6qF,EAAI3nF,OAAO+1F,QAAQ,OAAQ/5F,MAEnC,MACS2rF,EAAI2wC,SAAWt8H,KAAKu8H,cACzBv8H,KAAKynH,IAAMznH,KAAKynH,IAAIzhF,OAChBxO,GAAGgiF,KAAKoW,QAAQriC,QAEpBvtF,KAAK+5F,QAAQ,WAAYpO,EAAI3nF,QAC7B2nF,EAAI3nF,OAAO+1F,QAAQ,aAAc/5F,MAG7C,IAER,EAEA2W,MAAAA,GAEQ7V,GAGId,KAAKq7H,YAAYv6H,IACdA,EAAYutH,UACZvtH,EAAYqC,IAAI,UAIfmgD,IACIxiD,EAAY+oF,IAAIuC,GAAG9oC,KACI,IAAxBo2B,EAAI8iD,iBAGPx8H,KAAKy8H,OACD37H,EAAY+oF,IAAIoD,IAAI3pC,IAG5BA,EAAkBxiD,EAAY+oF,KAItC,IAAM8B,EAAKye,KACPze,IAEI3rF,KAAK6pF,IAAIh5F,GAAKwpF,EAAYxpF,IAE1BmP,KAAK6pF,IAAIh5F,EAAIq7F,GACT19F,EAAgBqC,EAChB2T,EAAgB3T,EAChB86F,EAAKwe,MAGT9vB,EAAYxpF,EAAImP,KAAK6pF,IAAIh5F,GAEzBmP,KAAK6pF,IAAI74E,GAAKqpE,EAAYrpE,IAE1BhR,KAAK6pF,IAAI74E,EAAIk7E,GACT19F,EAAgBwiB,EAChBxM,EAAgBwM,EAChB26E,EAAKwe,MAGT9vB,EAAYrpE,EAAIhR,KAAK6pF,IAAI74E,GAGrC,EAEAg6G,WAAAA,GAYI,GAVIx8H,IACIwR,KAAK6pF,IAAIh5F,GAAKwpF,EAAYxpF,IAC1BmP,KAAK6pF,IAAIh5F,EAAIrC,EAAeqC,GAE5BmP,KAAK6pF,IAAI74E,GAAKqpE,EAAYrpE,IAC1BhR,KAAK6pF,IAAI74E,EAAIxiB,EAAewiB,GAEhCxiB,EAAiB,MAGjBgpC,GAAGgiF,KAAKoW,UAAY5vH,KAAKo3D,SAAU,CAE/B3d,IACA34C,EAAc,KACdwiD,EAAkB,KAClBtjD,KAAK+5F,QAAQ,WACbtgD,GAAW,GAIX34C,KAGKd,KAAKq7H,YAAYv6H,KACdA,EAAYutH,WACZvtH,EAAYqC,IAAI,WAEpBs2C,GAAW,GAInB,IAAMa,EAAUt6C,KAAKynH,IAAIprF,QAGzBr8B,KAAKynH,IAAMznH,KAAKynH,IAAIvpH,IAChBs5B,GAAGgiF,KAAKoW,QAAQvlC,MAAMrqF,KAAKi8H,aAAehyB,OAI9C,IAAM5wD,EAASqgC,EAAIgjD,a5GnSZ,M4GoSH18H,KAAKynH,IAAIr6B,OAAS/zC,EAASA,IAC3Br5C,KAAKynH,IAAMznH,KAAKynH,IAAIl6B,OAAOlD,MAAMhxC,IAMjCiB,EAAQgzC,IAAI91D,GAAGgiF,KAAKoW,SAAW,GAC5B5vH,KAAKynH,IAAIn6B,IAAI91D,GAAGgiF,KAAKoW,UAAY,GAEpC5vH,KAAK+5F,QAAQ,OAErB,CAaA,GAVA/5F,KAAKynH,IAAI52H,GAAKw6D,EAAIx6D,EAAIo5G,KACtBjqG,KAAKynH,IAAIz2G,GAAKq6C,EAAIr6C,EAAIi5F,KAEtBjqG,KAAKynH,IAAI52H,GAAK,EAAImP,KAAK+7H,KAAO9xB,KAC9BjqG,KAAKynH,IAAIz2G,GAAK,EAAIhR,KAAK+7H,KAAO9xB,KAE9BjqG,KAAK28H,KAAK38H,KAAKynH,KAGHrd,KACH,CAEL57G,EAAiBwR,KAAK6pF,IAAIxtD,QAE1B,IAAMie,EAAUt6C,KAAKynH,IAAIvpH,IAAImtD,EAAIg/B,MAAM4f,OACvCzlG,EAAiBxE,KAAK6pF,IAAI3rF,IAAIo8C,EAAQ+vC,MAAM4f,OAE5C5vB,EAAcr6E,KAAK6pF,IAAIxtD,OAC3B,CAGAgvB,EAAIx6D,EAAI,EACRw6D,EAAIr6C,EAAI,CACZ,EAEAmrH,gBAAAA,CAAgCxwC,GAC5B,OAAO3rF,KAAK6tE,GAAG,iBAAkB8d,EACrC,EAEAixC,sBAAAA,CAAsCjxC,GAClC,OAAO3rF,KAAK6tE,GAAG,uBAAwB8d,EAC3C,EAEAkxC,YAAW,IACA/7H,EAGXg8H,WAAU,IACiB,OAAhBh8H,EAGXu7H,SAAAA,GACI,OAAOr8H,KAAKynH,IAAIn6B,IAAI6iC,MAAyB,CACjD,EAEAoM,SAAAA,GACI,OAAOv8H,KAAKynH,IAAIn6B,IAAI6iC,MAAyB,CACjD,EAEA4M,YAAAA,CAAapxC,GACL3rF,KAAKo3D,WACTp3D,KAAKynH,IAAMznH,KAAKynH,IAAIvpH,IAAIytF,GAC5B,EAEAqxC,QAAAA,CAASrxC,GACD3rF,KAAKo3D,WACT/L,EAAIx6D,GAAK86F,EAAM96F,EAAImP,KAAKk8H,KACxB7wE,EAAIr6C,GAAK26E,EAAM36E,EAAIhR,KAAKk8H,KAC5B,EAEAe,IAAAA,CAAKtxC,GACG3rF,KAAKo3D,WACTt2D,EAAc,KACdwiD,EAAkB,KAClBtjD,KAAKynH,IAAM0I,KAAsB9lC,OAC5BsB,IAAU3rF,KAAKg8H,WAExB,EAEAkB,QAAAA,CAAwBvxC,GACpB,OAAO3rF,KAAK6tE,GAAG,SAAU8d,EAC7B,EAEAwxC,MAAAA,CAAsBxxC,GAClB,OAAO3rF,KAAK6tE,GAAG,OAAQ8d,EAC3B,EAEAyxC,SAAAA,CAAyBzxC,GACrB,OAAO3rF,KAAK6tE,GAAG,UAAW8d,EAC9B,EAEA0xC,UAAAA,CAA0B1xC,GACtB,OAAO3rF,KAAK6tE,GAAG,WAAY8d,EAC/B,EAEA2xC,MAAAA,CAAsB3xC,GAClB,OAAO3rF,KAAK6tE,GAAG,OAAQ8d,EAC3B,EAEA4xC,YAAAA,CAA4B5xC,GACxB,OAAO3rF,KAAK6tE,GAAG,aAAc8d,EACjC,EAEAg4B,OAAAA,GACI,MAAO,iBAAiB3jH,KAAKi8H,eACjC,EAER,CCleO,SAASuB,KAAiD,IAAtC9jD,EAAArrF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAmB,EACtCyS,EAAY44E,EAChB,MAAO,CACHjiD,GAAI,aACJ1pC,QAAS,CAAC,QACV0vI,SAAU/jD,EACVx7E,GAAAA,GACI8B,KAAKk9H,UAAS,KACVp8H,EAAYd,KAAKy9H,QACrB,GACJ,EACAC,UAAAA,CAEIp6E,GAEIxiD,GAAa,IAGbA,EAAYd,KAAKy9H,UACjBz9H,KAAK+5F,QAAQ,cAEjBj5F,IACAd,KAAKi9H,KAAK35E,GACd,EACAq6E,YAAAA,CAA4Br6E,GACxB,OAAOtjD,KAAK6tE,GAAG,aAAcvqB,EACjC,EACAqgE,QAAO,IACI,cAAc7iH,IAGjC,CCpCO,SAAS88H,GACZlkD,GAEA,MAAO,CACHjiD,GAAI,kBACJ1pC,QAAS,CAAC,QACVunH,MAAO57B,EAAK47B,MACZuoB,eAAgBnkD,EAAKmkD,gBAAkB,EACvCC,WAAYpkD,EAAKmkD,gBAAkB,GACnC3/H,GAAAA,GACI8B,KAAK+6H,gBAAgB,QAAQ,CAACj6H,EAAKwiD,KAC/B,IAAM7J,EAAM6J,GAAKkqC,OAAOA,SAClBniC,EAAavqD,EAAI2mH,IAAI/5B,QAAQj0C,GAE7Bj1C,EADYi1C,GAAK4wC,MAAMrqF,KAAKs1G,QACTroB,IAAI5hC,GAC7BvqD,EAAIk8H,SAASx4H,GAAO6lF,MAAMvpF,EAAIo7H,KAAOl8H,KAAK89H,YAC9C,GACJ,EAER,CAoBO,SAASC,GAAarkD,GACzB,MAAO,CACHjiD,GAAI,eACJ1pC,QAAS,CAAC,QACViwI,eAAgBtkD,EAAKskD,iBAAkB,EACvCC,WAAYvkD,EAAKukD,WACjBC,eAAgBxkD,EAAKwkD,eACrBC,eAAgBzkD,EAAKykD,gBAAkB,EACvCC,WAAY1kD,EAAK0kD,YAAc,EAE/BlgI,GAAAA,GACI8B,KAAK+6H,gBAAgB,QAAQ,CAACj6H,EAAKwiD,KAC/B,IAAKxiD,EAAIqC,IAAI,QAAS,OAGtB,IAAMkoD,EADMshC,GAAKG,UAAU9sF,KAAKi+H,YACd5zC,MAAMrqF,KAAKk+H,gBAC7Bp9H,EAAIk8H,SAAS3xE,GACTrrD,KAAKo+H,YACLt9H,EAAIk8H,SAASl8H,EAAI2mH,IAAIp9B,OAAOrqF,KAAKo+H,YAEzC,GACJ,EAER,CAsBO,SAASC,GAAc3kD,GAC1B,MAAO,CACHjiD,GAAI,gBACJ1pC,QAAS,CAAC,OAAQ,OAClBmwI,eAAgBxkD,EAAKwkD,eACrBC,eAAgBzkD,EAAKykD,gBAAkB,EACvCG,cAAe5kD,EAAK4kD,eAAiB,EACrCC,UAAW7kD,EAAK6kD,WAAa,gBAC7BH,WAAY1kD,EAAK0kD,YAAc,EAE/BlgI,GAAAA,GACI8B,KAAK+6H,gBAAgB,QAAQ,CAACj6H,EAAKwiD,KAC/B,IAAM7J,EAAMz5C,KAAK6pF,IAAIoD,IAAInsF,EAAI+oF,KACvBx+B,EAAS5R,EAAI0yB,MACb39E,EAAW68D,EAASrrD,KAAKs+H,cAAgB,GACzC95H,EAAgC,aAAnBxE,KAAKu+H,UAClB,EACmB,kBAAnBv+H,KAAKu+H,UACL,EAAI/vI,EACJ,EAAIA,GAAY,EAChB6rF,EAAQ5gC,EAAI4wC,MACdrqF,KAAKk+H,eAAiB15H,EAAa6mD,GAEvCvqD,EAAIk8H,SAAS3iD,GACTr6E,KAAKo+H,YACLt9H,EAAIk8H,SAASl8H,EAAI2mH,IAAIp9B,OAAOrqF,KAAKo+H,YAEzC,GACJ,EAER,CAUO,SAASI,GAAc9kD,GAC1B,MAAO,CACHjiD,GAAI,gBACJ1pC,QAAS,CAAC,QACVs1F,MAAO3J,EAAK2J,MACZ1sE,MAAAA,GACQ3W,KAAKqjF,OACLrjF,KAAKg9H,SAASh9H,KAAKqjF,MAE3B,EAER,CAYO,SAASo7C,GACZ/kD,GAEA,MAAO,CACHjiD,GAAI,mBACJ1pC,QAAS,CAAC,OAAQ,QAClB2wI,WAAYhlD,EAAIglD,YAAc,IAC9BC,UAAWjlD,EAAIilD,YAAa,EAC5BzgI,GAAAA,GACI8B,KAAK48H,wBAAuB97H,IACxB,IAAMwiD,EAAIxiD,EAAUkD,OAAOyjH,IAErBp8D,EADK8kE,KAAsB9lC,OAAO,GACvByD,aAAaxqC,GAC1BlqD,KAAK61F,IAAI5jC,GAASrrD,KAAK0+H,WAAa,GACpC59H,EAAU89H,mBAElB,GACJ,EAER,CAwBO,SAASC,GACZnlD,GAEA,MAAO,CACHjiD,GAAI,mBACJ1pC,QAAS,CAAC,QACV+wI,aAAcplD,EAAKolD,aACnBC,QAASrlD,EAAKqlD,SAAW,EACzBX,WAAY1kD,EAAK0kD,YAAc,EAC/BY,YAAatlD,EAAKslD,aAAe,GACjCC,UAAWvlD,EAAKulD,WAAa,EAC7BC,cAAexlD,EAAKwlD,eAAiB,EACrCC,cAAezlD,EAAKylD,eAAiB,EACrCjhI,GAAAA,GACI8B,KAAK+6H,gBAAgB,QAAQ,CAACj6H,EAAKwiD,KAC/B,IAAM7J,EAAI34C,EACJuqD,EAAU5R,EAAEgvE,aACXj6H,EAAegW,GAAK6mD,EAAQ+qC,IAC/BtjC,IAAM,IAAK9yD,KAAK8+H,cAChBhsE,GAAK,IAAK9yD,KAAK8+H,eAGftwI,IACAwR,KAAKo/H,cAAc3lF,EAAGjrD,GACtBwR,KAAKq/H,UAAU5lF,EAAGjrD,IAGlBwR,KAAKk/H,eACLzlF,EAAEujF,SACErwC,GAAKG,UAAU9sF,KAAKi/H,WAAW50C,MAC3BrqF,KAAKk/H,eAIrB,GACJ,EACAE,aAAAA,CAAct+H,EAAyBwiD,GACnC,IAAM7J,EAAgBz5C,KAAK++H,QAAUz7E,EAAc4mC,OAC7C7+B,EAAgByH,GAAK,EAAG,GAAGu3B,OAAO5wC,GAGxC34C,EAAKk8H,SAAS3xE,EAClB,EACAg0E,SAAAA,CAAUv+H,EAAyBwiD,GAC/B,IAAM7J,EAAW34C,EAAK2mH,IAChBp8D,EAAgBrrD,KAAK++H,QAAU/+H,KAAKo+H,WACpC5vI,EAAYirD,EAAS4wC,OAAOh/B,GAGlCvqD,EAAKk8H,SAASxuI,EAGlB,EAER,CCxPO,SAASqkI,GAAOn5C,GACnB,IAAKA,EACD,MAAM,IAAIroF,MAAM,2BAEpB,MAAO,CACHomC,GAAI,SACJsyD,OAAQrQ,EACRiqC,OAAAA,GACI,MAA2B,iBAAhB3jH,KAAK+pF,OACL,WAAa/pF,KAAK+pF,OAGlB,WAAa/pF,KAAK+pF,OAAO7tF,UAExC,EAER,CnCjBO,SAASojI,KACZ,MAAO,CACH7nG,GAAI,QACJ8hF,OAAO,EAEf,CoCHO,SAASlmC,GAAOqG,EAAc54E,GACjC,MAAO,CACH22B,GAAI,SACJ1pC,QAAS,CAAC,OACVwxI,OAAQ,CACJj0E,IAAKouB,EACLhoE,OAAQ5Q,GAAUgyD,GAAK,IAE3B50D,GAAAA,GACQw7E,EAAI20C,WACJruH,KAAK6pF,IAAM7pF,KAAKu/H,OAAOj0E,IAAIu+B,IAAI3rF,IAAI8B,KAAKu/H,OAAO7tH,QAEvD,EACAiF,MAAAA,GACQ+iE,EAAI20C,WACJruH,KAAK6pF,IAAM7pF,KAAKu/H,OAAOj0E,IAAIu+B,IAAI3rF,IAAI8B,KAAKu/H,OAAO7tH,QAEvD,EAER,CCRO,SAAS8tH,GAAM9lD,GAClB,IAAI54E,EAAc02B,GAAGgiF,KAAKuW,QAAQt+H,QAAQioF,GAE1C,MAAO,CACHjiD,GAAI,QACJ,cAAIm2F,GACA,OAAO9sH,GAAe,IAC1B,EACA,SAAI2+H,GACA,OAAK3+H,EAEE02B,GAAGgiF,KAAKuW,SAASjvH,IAAgB,KAFf,IAG7B,EACA,SAAI2+H,CAAMn8E,GAGN,GAFAxiD,EAAc02B,GAAGgiF,KAAKuW,QAAQt+H,QAAQ6xD,IAElB,GAAhBxiD,EAAmB,MAAMzP,MAAM,qBACvC,EACAsyH,OAAAA,GACI,MAAO,UAAU3jH,KAAKy/H,OAC1B,EAER,CC7CO,SAASC,GAAKhmD,EAAoB54E,GACrC,IAAMwiD,EAAmB,iBAARo2B,EAAmBiT,GAAKG,UAAUpT,GAAOA,EAAI6T,OAC9D,MAAO,CACH91D,GAAI,OACJ1pC,QAAS,CAAC,OACV4oB,MAAAA,GACI3W,KAAK28H,KAAKr5E,EAAE+mC,MAAMvpF,GACtB,EAER,CCyCO,SAAS6+H,KAAqD,IAA3CjmD,EAAArrF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAwB,CAAC,EACzCyS,EAAW44E,EAAIqe,UnH4CQ,ImH3CzBz0C,GAAQ,EAEZ,MAAO,CACH7rB,GAAI,YACJ1pC,QAAS,CAAC,OACV6xI,WAAAA,GACI,IAAMnmF,EAAMz5C,KAAK6/H,YAGjB,IAAKpmF,EAAK,OAAO,EAEjB,IAAM4R,EAAa,IAAI+iC,GAAKt7B,GAAK,GAAIw8C,KAASC,MAC9C,OAAQ/c,GAAcnnC,EAAY5R,IAC3B4R,EAAW4qC,aAAax8C,GAAO34C,EAAWA,CACrD,EACAg/H,YAAAA,CAA4BrmF,GACxB,OAAOz5C,KAAK6tE,GAAG,WAAYp0B,EAC/B,EACAsmF,aAAAA,CAA6BtmF,GACzB,OAAOz5C,KAAK6tE,GAAG,YAAap0B,EAChC,EACA9iC,MAAAA,GACQ3W,KAAK4/H,eACAt8E,IACDtjD,KAAK+5F,QAAQ,YACbz2C,GAAQ,GAERo2B,EAAIsmD,OAAMhgI,KAAKioF,QAAS,GACxBvO,EAAIjJ,QAAOzwE,KAAKy5F,QAAS,GACzB/f,EAAI5wD,SAAS9oB,KAAK8oB,YAGlBw6B,IACAtjD,KAAK+5F,QAAQ,aACbz2C,GAAQ,GAERo2B,EAAIsmD,OAAMhgI,KAAKioF,QAAS,GACxBvO,EAAIjJ,QAAOzwE,KAAKy5F,QAAS,GAErC,EAER,CCxBO,SAASsvB,KACZ,MAAO,CACHtxF,GAAI,MACJoyD,IAAK/2B,MAAKzkE,WAEVouI,MAAAA,GACIz8H,KAAK6pF,IAAM7pF,KAAK6pF,IAAI3rF,IAAI40D,MAAKzkE,WACjC,EAGAsuI,IAAAA,GACI38H,KAAKy8H,OAAO3pE,MAAKzkE,WAASg8F,MAAM4f,MACpC,EAIAwrB,MAAAA,GACI,GACuB,iBAAnBpnI,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,KAAkD,iBAAnBA,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,IAG/B,OAAO2R,KAAKy1H,OAAO3iE,GAAAzkE,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,GAAAA,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,IAAqBA,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,IAE5C,IAAMi1D,EAAAj1D,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,GACAorD,EAAAprD,UAAAC,QAAA,OAAA48D,EAAA78D,UAAA,GACN,QAAc,IAAVorD,EAEA,YADAz5C,KAAK6pF,IAAM/2B,GAAKxP,IAIpB,IAAM+H,EAAO/H,EAAK2pC,IAAIjtF,KAAK6pF,KACvBx+B,EAAK8gB,OAAS1yB,EAAQwwD,KACtBjqG,KAAK6pF,IAAM/2B,GAAKxP,GAGpBtjD,KAAK28H,KAAKtxE,EAAKkiC,OAAOlD,MAAM5wC,GAChC,EAGAwmF,QAAAA,GAA0D,IAAzBn/H,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAmB,KAChD,OAAIyS,GACAd,KAAK6pF,IAAM7pF,KAAK6pF,IAAI3rF,IAAI8B,KAAKqqH,UAAUvpH,IAChC,MAGAd,KAAKoX,OACNpX,KAAKoX,OAAOq1D,UAAUyhB,SAASluF,KAAK6pF,KACpC7pF,KAAK6pF,GAEnB,EAGAugC,OAAAA,CAAgCtpH,GAC5B,OAAOd,KAAKoX,OACNpX,KAAKoX,OAAOq1D,UAAUyhB,SAASluF,KAAK6pF,IAAI3rF,IAAI4C,IAC5Cd,KAAK6pF,IAAI3rF,IAAI4C,EACvB,EAGAupH,SAAAA,CAAkCvpH,GAC9B,OAAOd,KAAKoX,OACNpX,KAAKoX,OAAOq1D,UAAUsf,SAASmC,SAASptF,GAAGmsF,IAAIjtF,KAAK6pF,KACpD/oF,EAAEmsF,IAAIjtF,KAAK6pF,IACrB,EAGAg2C,SAAAA,GAGE,IADE/+H,EAAAzS,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAmB,KAEnB,GAAIyS,EACA,OAAAd,KAAK6pF,IAAM7pF,KAAK6pF,IAAI3rF,IAAI8B,KAAKkgI,WAAWp/H,IACjC,KAEN,CACD,IAAMwiD,EAAMtjD,KAAKigI,WAQjB,OAAK38E,EAIEojE,GAAQ1mH,MACTsjD,EACA4pE,GAAS5pE,GALJ,IAMf,CACJ,EAGA68E,QAAAA,CAA6Cr/H,GACzC,IAAMwiD,EAAMtjD,KAAKoqH,QAAQtpH,GACzB,OAAO4lH,GAAQ1mH,MACTsjD,EACA4pE,GAAS5pE,EACnB,EAGA48E,UAAAA,CAAmCp/H,GAC/B,OAAO4lH,GAAQ1mH,MACTA,KAAKqqH,UAAUvpH,GACfd,KAAKqqH,UAAU8C,GAAQrsH,GACjC,EAGAs/H,OAAAA,CAAgCt/H,EAAyBwiD,GACrD,OAAOxiD,EAAMupH,UAAUrqH,KAAKoqH,QAAQ9mE,GACxC,EAGA+8E,SAAAA,CAAkCv/H,EAAyBwiD,GACvD,OAAOxiD,EAAMs/H,QAAQpgI,KAAMsjD,EAC/B,EAEAqgE,OAAAA,GACI,MAAO,SAASvqH,KAAKwyF,MAAM5rF,KAAK6pF,IAAIh5F,QAChCuI,KAAKwyF,MAAM5rF,KAAK6pF,IAAI74E,MAE5B,EAEA8yG,WAAAA,GACItJ,GAAW,CACP9rG,MAAO49E,GAAI,IAAK,EAAG,GACnBoG,OAAQ,EAAIge,MAEpB,EAER,CCpLO,SAAS4vB,GAAO5mD,GACnB,MAAO,CACHjiD,GAAI,SACJm2D,MAAOlU,GAAK,EACZ6mD,QAAAA,CAASz/H,GACLd,KAAK4tF,OAAS9sF,CAClB,EACA0/H,QAAAA,CAAS1/H,GACLd,KAAK4tF,MAAQ9sF,CACjB,EACA6iH,OAAAA,GACI,MAAO,UAAUvqH,KAAKwyF,MAAM5rF,KAAK4tF,QACrC,EAER,CCGO,SAASglC,KACZ,GAAoB,IAAhBvkI,UAAKC,OACL,OAAOskI,GAAM,GAGjB,IAAI9xH,EAASgyD,MAAKzkE,WAElB,MAAO,CACHopC,GAAI,QACJ,SAAI4yD,CAAM/mC,GACN,KAAIA,aAAiBqpC,IACjB,MAAMt7F,MACF,mGAIRyP,EAASgyD,GAAKxP,EAClB,EACA,SAAI+mC,GACA,OAAOvpF,CACX,EACA2/H,OAAAA,GACI3/H,EAASgyD,MAAKzkE,UAClB,EACAqyI,OAAAA,GACI5/H,EAASA,EAAOupF,MAAMv3B,MAAKzkE,WAC/B,EACAs1H,QAAO,IACC7iH,EAAOjQ,GAAKiQ,EAAOkQ,EACZ,UAAUlQ,EAAOjQ,EAAEo9F,QAAQ,MAEzB,WAAWntF,EAAOjQ,EAAEo9F,QAAQ,QACjCntF,EAAOkQ,EAAEi9E,QAAQ,OAIrC,CC/DO,SAAS0yC,GAAEjnD,GACd,MAAO,CACHjiD,GAAI,IACJ42D,EAAG3U,EACHiqC,OAAAA,GACI,MAAO,MAAM3jH,KAAKquF,GACtB,EAER,CZgBgBh9B,GAAAupE,GAAA,YAkMAvpE,GAAAwpE,GAAA,QCjDAxpE,GAAAyqE,GAAA,QC/JAzqE,GAAAmsE,GAAA,cCLAnsE,GAAAusE,GAAA,mBAuCAvsE,GAAA0sE,GAAA,gBA6CA1sE,GAAAgtE,GAAA,iBAwCAhtE,GAAAmtE,GAAA,iBAuBAntE,GAAAotE,GAAA,oBA2CAptE,GAAAwtE,GAAA,oBClMAxtE,GAAAwhE,GAAA,UnCDAxhE,GAAAiuE,GAAA,SoCEAjuE,GAAAgiB,GAAA,UCWAhiB,GAAAmuE,GAAA,SCvBAnuE,GAAAquE,GAAA,QCkDAruE,GAAAsuE,GAAA,aCmBAtuE,GAAA03D,GAAA,OCjDA13D,GAAAivE,GAAA,UCiBAjvE,GAAAuhE,GAAA,SC3BAvhE,GAAAsvE,GAAA,SCqRHnpG,GAAK,CACdq3C,EAAG,KACHgnC,UAAW,KACXnG,IAAK,KACL8J,KAAM,KACNtP,IAAK,KACLgI,OAAQ,KACR4P,gBAAiB,KACjBD,aAAc,KACd6B,MAAO,KACP7K,MAAO,KACP9T,aAAc,KACd7F,OAAQ,KACRizB,OAAQ,KACRa,SAAU,KACVL,WAAY,MC9ETiO,GDmHQvvE,IAAA,WAUf,IALIqoB,EAAArrF,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAsC,CAClCm/H,kBAAkB,GAKlBh2F,GAAGq3C,IACHj8C,QAAQ25B,KACJ,0FAEJ/0B,GAAGq3C,EAAEi4B,QAGTtvE,GAAGq+E,UAAYn8B,EACf,IAAM54E,EAAO44E,EAAK9/E,MAAQwE,SAASyC,KAG/BC,IAAS1C,SAASyC,OAClBzC,SAASyC,KAAKiC,MAAMsJ,MAAW,OAC/BhO,SAASyC,KAAKiC,MAAMuJ,OAAY,OAChCjO,SAASyC,KAAKiC,MAAM+9H,OAAY,MAChCziI,SAAS9H,gBAAgBwM,MAAMsJ,MAAW,OAC1ChO,SAAS9H,gBAAgBwM,MAAMuJ,OAAY,QAI/C,IAAMi3C,EAASo2B,EAAKwlB,QACbp+F,EAAKo+B,YAAY9gC,SAASC,cAAc,WAC/Cm5B,GAAG0nE,OAAS57C,EAGZ,IAAM7J,EAASigC,EAAK2Q,OAAS,EAC7B7yD,GAAG26F,OAAS14E,EACZ,IAAM4R,EAAYquB,EAAKttE,OAASstE,EAAKrtE,SAAWqtE,EAAK+sC,UAC7C/sC,EAAK8sC,UAGTn7D,GACA/H,EAAOl3C,MAAQstE,EAAKttE,MAASqtC,EAC7B6J,EAAOj3C,OAASqtE,EAAKrtE,OAAUotC,IAG/B6J,EAAOl3C,MAAQk3C,EAAOw9E,cAAevgC,YACrCj9C,EAAOj3C,OAASi3C,EAAOw9E,cAAergC,cAI1C,IAAMjyG,EAAS,CACX,gBACA,mBAGJ,GAAI68D,EAAW,CACX,IAAMvR,EAAKwJ,EAAOl3C,MACZ62F,EAAK3/C,EAAOj3C,OAClB7d,EAAOuH,KAAK,UAAU+jD,OACtBtrD,EAAOuH,KAAK,WAAWktG,MAC3B,MAEIz0G,EAAOuH,KAAK,eACZvH,EAAOuH,KAAK,gBAGZ2jF,EAAKqnD,QAELvyI,EAAOuH,KAAK,8BACZvH,EAAOuH,KAAK,iCAGhButD,EAAOxgD,MAAMk+H,QAAUxyI,EAAO+tB,KAAK,KAEnC,IAAM/X,EAAek1E,EAAKqrB,cAAgB,EAC1CvtE,GAAGutE,aAAevgG,EAElB8+C,EAAOl3C,OAAS5H,EAChB8+C,EAAOj3C,QAAU7H,EAEjB8+C,EAAO29E,SAAW,EAElB,IAAM5mD,EAAkBj8E,SAASC,cAAc,UAC/Cg8E,EAAgBjuE,MAAQ,IACxBiuE,EAAgBhuE,OAAS,IACzBmrB,GAAGsqF,gBAAkBznC,EACrB,IAAMsR,EAAetR,EAAgBo3B,WAAW,KAAM,CAClDyvB,oBAAoB,IAExB1pG,GAAGqqF,aAAel2B,EAElB,IAAMrxC,EAAMomD,GAAQ,CAChBxB,OAAQ57C,EACR6iD,aAAczsB,EAAKysB,aACnBhG,SAAUzmB,EAAKymB,SACf4E,aAAcrrB,EAAKqrB,aACnB5C,OAAQzoB,EAAKyoB,OACb/4F,QAASswE,EAAKtwE,UAElBouB,GAAG0yE,IAAM5vD,EAET,IAAMjB,EAAwB,GAExBQ,EAAgBS,EAAI4kD,OACrBuS,WAAW,QAAS,CACjB0vB,WAAW,EACXroF,OAAO,EACPsoF,SAAS,EACTC,OAAO,EACPC,uBAAuB,IAG/B,IAAKznF,EAAe,MAAM,IAAIxoD,MAAM,uBAEpC,IAAMuK,EAAKi+C,EAEL90C,EAAMu7G,GAAQ1kH,EAAI,CACpB6/G,UAAW/hC,EAAK+hC,YAGdniE,EAAMusE,GAAWnsC,EAAM30E,GAC7ByyB,GAAGk4E,IAAMp2D,EACT,IAAMs3C,EAAQ0/B,KACd94F,GAAGqhF,MAAQjoB,EACX,IAAMtF,EAAS5hB,GAAW3kE,EAAK20E,EAAK6nD,oBAAsB,GAC1D/pG,GAAG06E,OAAS5mB,EACZ,IAAMt6E,EAAO2+G,KAKb,SAAS9+B,EAAW/2C,EAAWmpD,GAC3B,IAAMC,EAAK,IAAI2Z,GAAY93G,EAAK+0C,EAAGmpD,GACnC,MAAO,CACHhJ,MAAO5oC,IAAC,IAAK6xC,EAAGjJ,SAAT,SACP+X,KAAM3gD,IAAC,IAAK6xC,EAAG8O,QAAT,QACNrR,UAAWtvC,IAAC,IAAK6xC,EAAGvC,aAAT,aACX+c,YAAarsD,IAAC,IAAK6xC,EAAGwa,eAAT,eACbtxG,MAAO82F,EAAG92F,MACVC,OAAQ62F,EAAG72F,OACX2xG,KAAM3sD,IAAC8xC,IACHqN,KACAtN,EAAGv6E,OACHw6E,IACAqN,KACAtN,EAAGqU,QACP,GANM,QAON,MAAIiqB,GACA,OAAOt+B,CACX,EAER,CAGA,SAASx2D,IAEL9wC,EAAGq+F,MAAMr+F,EAAGmiH,kBACZzkE,EAAI6sE,YAAYx9F,OAEhB/sB,EAAGq+F,MAAMr+F,EAAGmiH,kBAEPzkE,EAAIq2D,SACL0T,IAAa,KACTN,GAAW,CACP32G,MAAOkjG,KACPjjG,OAAQkjG,KACRqT,KAAM,IAAIv0B,GACN,EACA,EACAihB,KAAU,GACVC,KAAW,IAEf+E,IAAKh7D,EAAIgtE,MACT/M,OAAO,GAEf,IAGJjgE,EAAIm3D,SAASyO,SAAW,EACxB5lE,EAAIigE,OAAQ,EACZjgE,EAAI62D,eAAe7hH,OAAS,EAC5BgrD,EAAImzB,UAAY,IAAIwjB,EACxB,CAEA,SAASt2C,EAAcG,EAAcmpD,GACjC3pD,EAAI8sE,WAAatsE,EACjBR,EAAI+sE,kBAAoBpjB,GAAW,IACvC,CAEA,SAASnS,IAGL0f,KACAl3D,EAAI4sE,cAAgB5sE,EAAIm3D,SAASyO,SACjC5lE,EAAI6sE,YAAY5O,SAChB37G,EAAG+0G,SAAS,EAAG,EAAG/0G,EAAGqlH,mBAAoBrlH,EAAGslH,qBAE5C,IAAMpnE,EAAKR,EAAIltC,MACT62F,EAAK3pD,EAAIjtC,OACfitC,EAAIltC,MAAQxQ,EAAGqlH,mBAAqBz8G,EACpC80C,EAAIjtC,OAASzQ,EAAGslH,oBAAsB18G,EAEtC8gH,GAAY,CACRrC,OAAO,EACP3O,IAAKh7D,EAAI6sE,YAAY7R,IACrBzqB,IAAK,IAAI8C,GAAKrzC,EAAIq3D,SAAS9/G,EAAGyoD,EAAIq3D,SAAS3/F,GAC3C5E,MAAOktC,EAAIq3D,SAASvkG,MACpBC,OAAQitC,EAAIq3D,SAAStkG,OACrB6tG,OAAQ5gE,EAAI8sE,WACZjM,QAA0C,mBAA1B7gE,EAAI+sE,kBACd/sE,EAAI+sE,oBACJ/sE,EAAI+sE,kBACV9M,OAAO,IAGX/I,KACAl3D,EAAIltC,MAAQ0tC,EACZR,EAAIjtC,OAAS42F,CACjB,CA3FAzrE,GAAGgiF,KAAOxoG,EAEVA,EAAKpX,KAAK6sB,IAAIwsG,MAEL5hE,GAAAw/B,EAAA,cAuBAx/B,GAAA3kB,EAAA,cA8BA2kB,GAAA1X,EAAA,iBAKA0X,GAAAy/B,EAAA,YAoCT,IAAIjgG,GAAc,EAEZy9F,EAAe,CACjBq1B,SAAS,EACTjkB,UAAW,EACXskB,SAAS,EACT75D,IAAKkH,IAAC,IAAK/W,EAAI6P,OAAV,OACLy1C,UAAWvuC,IAAC,IAAK/W,EAAIslD,aAAV,aACX0yB,UAAW9vB,EACXi/B,UAAWpwE,IAAC,IAAK/X,EAAI4sE,eAAV,aACXmM,SAAUhhE,IAAC,IAAKrgD,EAAKizG,KAAO,IAAlB,YACVtrH,IAAK04D,IAAC,WAAY,QAAAqwE,EAAArzI,UAAAC,OAATwrD,EAAA,IAAA/kD,MAAA2sI,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAA7nF,EAAA6nF,GAAAtzI,UAAAszI,GACL,IAAM1+B,EAAMvpB,EAAKkoD,QAAU,EACrB1+B,EAAMppD,EAAKxrD,OAAS,EAAIwrD,EAAKhtB,OAAO,KAAKvQ,KAAK,KAAOu9B,EAAK,GAEhE9oC,EAAKizG,KAAK9sE,QAAQ,CACd+kC,IAAKgnB,EACL9zF,KAAMkrC,EAAIlrC,SAEV4B,EAAKizG,KAAK31H,OAAS20G,IACnBjyF,EAAKizG,KAAOjzG,EAAKizG,KAAK9nH,MAAM,EAAG8mG,GAEvC,GAXK,OAYLroF,MAAOy2C,IAACvX,GACJw0C,EAAM31F,IAAI,IAAItH,MAAMyoD,EAAI59C,SAAW49C,EAAI59C,WAAa49C,KADjD,SAEPiqE,aAAc,KACd8d,WAAYxwE,IAAC,IAAK+iC,EAAI,IAAK,CAAEwvB,WAAW,IAAQt1H,QAApC,cACZ,UAAImrG,GACA,OAAO5oG,CACX,EACA,UAAI4oG,CAAO3/C,GACPjpD,EAAcipD,EACVA,EACA82C,EAAMr2B,IAAI23D,UAGVthC,EAAMr2B,IAAIw2D,QAElB,GAKJ,SAAStuG,EAAWq3B,EAAampD,GAC7B,IACI,OAAO9vC,KAAK0D,MAAMh7D,OAAOimI,aAAahoF,GAC1C,CAAE,MACE,OAAImpD,GACAroD,EAAQd,EAAKmpD,GACNA,GAGA,IAEf,CACJ,CAEA,SAASroD,EAAQd,EAAampD,GAC1BpnG,OAAOimI,aAAahoF,GAAOqZ,KAAKC,UAAU6vC,EAC9C,CAEA,SAASjP,EACLl6C,GAGA,IACIqpD,EADED,EAAQppD,EAAOipD,GAEjB,QAAAg/B,EAAA1zI,UAAAC,OAJD20G,EAAA,IAAAluG,MAAAgtI,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAA/+B,EAAA++B,EAAA,GAAA3zI,UAAA2zI,GAMC7+B,EAFiB,mBAAVD,EACiBA,KAASD,EAATC,CACGH,GAGhBG,EAGf,IAAK,IAAME,KAAOD,EACdJ,EAAIK,GAA2BD,EAASC,IAEpB,IAAhB1pB,EAAKuoD,SACLpmI,OAAOunG,GAAcD,EAASC,IAGtC,OAAOL,CACX,CAEA,SAAS9O,EAAOn6C,GACZ,IAAMmpD,EAAS3oD,EAAI4kD,OAAOgjC,cAAcpoF,GAClCopD,EAAYtS,EAAMr2B,IAAI4nE,+BAE5BvxC,EAAM+/B,WAAWvwC,QAAQ8iB,GAQzB,IAAMC,EAAW,IAAIi/B,cAAcn/B,GAC7BG,EAAgB,GAEtB,OAAAD,EAASk/B,gBAAmBh/B,IACpBA,EAAEhuG,KAAKwxB,KAAO,GACdu8E,EAAOrtG,KAAKstG,EAAEhuG,KAEtB,EAEA8tG,EAASj9D,QAAU,KACf0qD,EAAM+/B,WAAWzpD,WAAWg8B,GAC5BD,EAAOq/B,YAAYjjH,SAAQgkF,GAAKA,EAAE+tB,QACtC,EAEAjuB,EAAS39F,QAEF,CACHurH,MAAAA,GACI5tB,EAAS4tB,QACb,EAEAtgD,KAAAA,GACI0yB,EAAS1yB,OACb,EAEA2gD,KAAI,KACAjuB,EAASiuB,OAETxgC,EAAM+/B,WAAWzpD,WAAWg8B,GAC5BD,EAAOq/B,YAAYjjH,SAAQgkF,GAAKA,EAAE+tB,SAC3B,IAAIrrF,SAASs9D,IAChBF,EAASo/B,OAAS,KACdl/B,EACI,IAAI94B,KAAK64B,EAAQ,CACbhzG,KAAM,cAGlB,CACJ,KAGJgrG,QAAAA,GAAkC,IAAzBiI,EAAAh1G,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,GAAAA,UAAA,GAAW,aAChB2R,KAAKoxH,OAAOp2G,MAAMsoF,GAAS9H,GAAa6H,EAAUC,IACtD,EAER,CAEA,SAAS51B,IACL,OAAOtvE,SAASwC,gBAAkB05C,EAAI4kD,MAC1C,CAzGA1nE,GAAGksF,MAAQp1B,EAEFj9B,GAAA5uC,EAAA,WAcA4uC,GAAAzW,EAAA,WAIAyW,GAAA2iC,EAAA,QAwBA3iC,GAAA4iC,EAAA,UA2DA5iC,GAAAqc,EAAA,aAKT,IAAMhpD,EAAM1T,EAAKpX,KAAKsE,IAAIyqB,KAAK3X,EAAKpX,MAC9Bs6F,EAAQljF,EAAKpX,KAAK8zH,MAAM/kG,KAAK3X,EAAKpX,MAClCu6F,EAAanjF,EAAKpX,KAAK+zH,UAAUhlG,KAAK3X,EAAKpX,MAC3Cw6F,EAAMpjF,EAAKpX,KAAKmG,IAAI4oB,KAAK3X,EAAKpX,MAC9Bi1E,EAAO79D,EAAKpX,KAAKs5H,KAAKvqG,KAAK3X,EAAKpX,MAChCy6F,EAAOrjF,EAAKpX,KAAK27G,KAAK5sF,KAAK3X,EAAKpX,MAChC2gD,EAAQvpC,EAAKpX,KAAK61E,MAAM9mD,KAAK3X,EAAKpX,MAClC06F,EAAQtjF,EAAKpX,KAAKsvF,MAAMvgE,KAAK3X,EAAKpX,MAElC26F,EAAWygB,GAAW,KD1sBhB,8jEC2sBNziD,EAAayiD,GAAW,KD3sBlB,81ECgtBZ,SAASzS,IAELvxF,EAAKpX,KAAKoxH,aACd,CAEA,SAASxoB,IAELxxF,EAAKpX,KAAK+c,QACd,CAXA6gB,GAAGw7F,SAAWz+B,EACd/8D,GAAGm7F,WAAapgE,EAEPlB,GAAAkxC,EAAA,oBAKAlxC,GAAAmxC,EAAA,eAKT,MAAMC,EAAU,cAAApxC,GAAA,qBACZv5C,OACA9T,OACAwpF,OACAuK,SACA4jC,UAAoB,EACpB97H,WAAAA,CACIojG,EACAC,EACAC,EACAC,GAEF,IADEC,EAAAh1G,UAAAC,OAAA,QAAA48D,IAAA78D,UAAA,IAAAA,UAAA,GAEA2R,KAAK8X,OAASmrF,EACdjjG,KAAKgE,OAASk/F,EACdljG,KAAKwtF,OAAS2V,EACdnjG,KAAK+3F,SAAWqL,EAChBpjG,KAAK27H,SAAWt4B,CACpB,CACA,gBAAIu4B,GACA,OAAO57H,KAAKwtF,OAAOnD,MAAMrqF,KAAK+3F,SAClC,CACAwV,OAAAA,GACI,OAAO,IAAI9K,EACPziG,KAAKgE,OACLhE,KAAK8X,OACL9X,KAAKwtF,OAAOnD,OAAO,GACnBrqF,KAAK+3F,SACL/3F,KAAK27H,SAEb,CACAJ,UAAAA,GACI,OAAQv7H,KAAK47H,aAAa5tC,QAC9B,CACA+f,MAAAA,GACI,OAAO/tG,KAAK47H,aAAajuC,MAAM38E,EAAK4+G,SAAW98D,GAAK,EAAG,IAAM,CACjE,CACA0vE,OAAAA,GACI,OAAOxiI,KAAK47H,aAAajuC,MAAM38E,EAAK4+G,SAAW98D,GAAK,EAAG,IAAM,CACjE,CACAwpE,KAAAA,GACI,OAAOt8H,KAAK47H,aAAatuC,IAAIt8E,EAAK4+G,SAAW98D,GAAK,EAAG,IAAM,CAC/D,CACAspE,QAAAA,GACI,OAAOp8H,KAAK47H,aAAatuC,IAAIt8E,EAAK4+G,SAAW98D,GAAK,EAAG,IAAM,CAC/D,CACA8rE,iBAAAA,GACI5+H,KAAK27H,UAAW,CACpB,EAGJ,SAASj5B,IACL,IAAKk4B,KACD,OAKJ,IAAM9gF,EAA4D,CAAC,EAC7DmpD,EAAWvpB,EAAK+oD,cAAgB,GAGlCv/B,EAAK,IAAIjT,GAGPkT,EAAe,GAErB,SAASC,EAASC,GASd,GARAF,EAAMptG,KAAKmtG,EAAG7mE,SAGVgnE,EAAIxZ,KAAKqZ,EAAGhT,UAAUmT,EAAIxZ,KAC1BwZ,EAAIhZ,OAAO6Y,EAAG7Y,MAAMgZ,EAAIhZ,OACxBgZ,EAAIzV,OAAOsV,EAAGlT,OAAOqT,EAAIzV,OAC7ByV,EAAI52B,UAAYy2B,EAAG7mE,QAEfgnE,EAAI7rE,EAAE,UAAY6rE,EAAI5J,OAAQ,CAE9B,IAAM6J,EAAOD,EAEPG,EADOF,EAAKmlB,YACAt6B,OAGZsV,EAAOrqG,KAAKgxD,MAAMo5C,EAAK3Z,IAAIh5F,EAAIoyG,GAC/BS,EAAOtqG,KAAKgxD,MAAMo5C,EAAK3Z,IAAI74E,EAAIiyF,GAC/BU,EAAOvqG,KAAK2iF,MAAMynB,EAAK3Z,IAAIh5F,EAAI2yG,EAAKp3F,OAAS62F,GAC7CW,EAAOxqG,KAAK2iF,MAAMynB,EAAK3Z,IAAI74E,EAAIwyF,EAAKn3F,QAAU42F,GAG9CY,EAAU,IAAIjmG,IAGpB,IAAK,IAAIkmG,EAAIL,EAAMK,GAAKH,EAAMG,IAC1B,IAAK,IAAIC,EAAIL,EAAMK,GAAKH,EAAMG,IAC1B,GAAKjqD,EAAKgqD,GAEY,GAEZhqD,EAAKgqD,GAAGC,GAGb,CACD,IAAMC,EAAOlqD,EAAKgqD,GAAGC,GACrBjjG,EAAO,IAAK,IAAMmjG,KAASD,EAAM,CAG7B,GAFIC,EAAMxK,SACLwK,EAAMoqB,UACPxqB,EAAQ1gG,IAAI8gG,EAAMxsE,IAAK,SAC3B,IAAK,IAAM0sE,KAAOb,EAAKw3B,gBACnB,GAAI72B,EAAMlzF,GAAGozF,GACT,SAASrjG,EAGjB,IAAK,IAAMqjG,KAAOF,EAAM62B,gBACpB,GAAIx3B,EAAKvyF,GAAGozF,GACR,SAASrjG,EAIjB,IAAMojG,EAAMpM,GACRwL,EAAKmlB,YACLxkB,EAAMwkB,aAEV,GAAIvkB,EAAK,CAEL,IAAMC,EAAO,IAAI1B,EACba,EACAW,EACAC,EAAI1W,OACJ0W,EAAInM,UAERuL,EAAKvJ,QAAQ,gBAAiBkK,EAAOE,GACrC,IAAM/B,EAAO+B,EAAKoJ,UAElBnL,EAAKu5B,SAAWx3B,EAAKw3B,SACrB13B,EAAMlK,QAAQ,gBAAiBuJ,EAAMlB,EACzC,CACAyB,EAAQ3lG,IAAI+lG,EAAMxsE,GACtB,CACAusE,EAAKjuG,KAAKutG,EACd,MAxCIxpD,EAAKgqD,GAAGC,GAAK,CAACT,QAJdxpD,EAAKgqD,GAAK,CAAC,EACXhqD,EAAKgqD,GAAGC,GAAK,CAACT,EA8C9B,CAEAD,EAAIhhG,SAASgd,QAAQ+jF,GACrBF,EAAKC,EAAMttG,KACf,CA/ESw7D,GAAA+xC,EAAA,YAiFTA,EAASpyF,EAAKpX,KAClB,CAEA,SAAS+oG,EAAU7oD,GACflnB,QAAQhY,MAAMk/B,GACd82C,EAAMr2B,IAAI23D,UACV,IAAMjvB,EAAenpD,EAAI7lD,SAAW2X,OAAOkuC,IACpC,6CAGPQ,EAAIusD,KACA,SACA,KACIn6D,IAEA22E,IAAa,KAGT,IAAMjgB,EAAKkM,KACLjM,EAAKkM,KAELjM,EAAY,CACdz8E,KAAM,GACNza,MAAOg3F,EAAK,GACZuf,cAAe,EACfD,YAAa,EACb94B,KAAM8O,GACN6gB,OAAO,GAGX4J,GAAS,CACL/2G,MAAOg3F,EACP/2F,OAAQg3F,EACR30F,MAAO49E,GAAI,EAAG,EAAG,KACjBitB,OAAO,IAGX,IAAMhW,EAAQie,GAAW,IAClBle,EACH9gG,KAAM,QACNqnF,IAAK/2B,GAAK,IACVpkD,MAAO49E,GAAI,IAAK,IAAK,GACrBitB,OAAO,IAGX2J,GAAkB3f,GAElBqiB,GAAS,IACFtiB,EACH9gG,KAAMygG,EACNpZ,IAAK/2B,GAAK,GAAK,GAAMywC,EAAMl3F,OAAS,IACpCktG,OAAO,IAGXhJ,KACAv/F,EAAKqU,OAAO00E,QAAQ,QAASjgD,EACjC,IAEAg3C,GACJ,GAER,CAEA,SAAS8R,EAAU9oD,GACfT,EAAGtjD,KAAK+jD,EACZ,CAEA,SAAS+oD,IACL7xF,EAAKqU,OAAO+0E,OAAO,YAAY,KAC3B9/C,EAAIwsD,OAGJlrG,EAAGq+F,MACCr+F,EAAGmiH,iBAAmBniH,EAAG8mI,iBACnB9mI,EAAG+oH,oBAIb,IAAM7qE,EAAkBl+C,EAAG+mI,aAAa/mI,EAAGgnI,yBAE3C,IAAK,IAAI3/B,EAAO,EAAGA,EAAOnpD,EAAiBmpD,IACvCrnG,EAAGinI,cAAcjnI,EAAGknI,SAAW7/B,GAC/BrnG,EAAGglH,YAAYhlH,EAAGmgH,WAAY,MAC9BngH,EAAGglH,YAAYhlH,EAAGmnI,iBAAkB,MAGxCnnI,EAAGilH,WAAWjlH,EAAG6jH,aAAc,MAC/B7jH,EAAGilH,WAAWjlH,EAAGikH,qBAAsB,MACvCjkH,EAAGmlH,iBAAiBnlH,EAAGuhH,aAAc,MACrCvhH,EAAGklH,gBAAgBllH,EAAG0hH,YAAa,MAGnCv4G,EAAI+jB,UACJuwB,EAAGh6B,SAAS4jF,GAAMA,KACtB,GACJ,CAhMS5xC,GAAAqxC,EAAA,cAoGArxC,GAAAsxC,EAAA,aA4DAtxC,GAAAuxC,EAAA,aAIAvxC,GAAAwxC,EAAA,QA8BT,IAAIC,GAAe,EAGnBxoD,EAAIusD,KACA,KACI,IACQvb,EAAO+mB,SACF/jB,EAAMmL,QAAQ8I,IACnBG,IAER,CAAE,MAAO5oD,GACL6oD,EAAU7oD,EACd,KAEJ,CAACA,EAAcmpD,KACX,IACInpD,IAEKwxC,EAAO+mB,QACe,IAAnBqB,OAAyB5Q,IACzBxX,EAAO+mB,QAAS,EAChB2B,KAAkB30F,SAAQ6jF,GACtBlyF,EAAKqU,OAAO00E,QAAQ,eAAgBmJ,KAExClyF,EAAKqU,OAAO00E,QAAQ,UAKvBzO,EAAO+mB,SAAiC,IAAvB34B,EAAKspD,eACpBlgC,GAEHp2D,IAEA+3E,KACA3zB,MAGKxC,EAAMmL,QAAQ+I,IACnBE,IACAh2D,IACA63E,MACmB,IAAf7qC,EAAKgqC,OAAiBD,KAC1B3yB,KAGAgS,IACAA,GAAe,GAGnB9xF,EAAKqU,OAAO00E,QAAQ,YAEpBkJ,GACJ,CAAE,MAAOC,GACLP,EAAUO,EACd,KAIRqjB,KACA0L,KAGA,IAAMlvB,EAAiB,CACnBkgC,GAAAzrG,GACA0rG,QA9hCQ,WAgiCRC,SAAA9vB,GACA+vB,aAAA1vB,GACA2vB,WAAAruB,GACAsuB,gBAAAlqB,GACAmqB,UAAAtqB,GACAuqB,UAAAtqB,GACAuqB,eAAArtB,GACAstB,SAAA1tB,GACA2tB,WAAAlrB,GACAmrB,cAAAlrB,GACAmrB,aAAAzuB,GACA0uB,UAAAztB,GACA0tB,SAAA5uB,GACA6uB,SAAA1wB,GACA4C,KAAAhC,GACA+vB,SAAAjrB,GACAkrB,QAAAnuB,GACAouB,cAAAruB,GACAsuB,UAAArvB,GACAsvB,UAAA7rB,GACA8rB,SAAArwB,GACAswB,MAAAnyB,GACAoyB,WAAAnwB,GACAowB,UAAA9rB,GAEAvsG,MAAAkjG,GACAjjG,OAAAkjG,GACAzlB,OAAAinB,GACA1R,GAAA4K,GACA3K,QAAA6K,GACA5K,OAAA6K,GACAh7F,KAAMkrC,EAAIlrC,KACV83F,WAAY5sD,EAAI4sD,WAChBw9B,OAAAzwC,EACA0wC,UAAAj3D,EACAu5B,UAAW3sD,EAAI2sD,UACfE,UAAW7sD,EAAI6sD,UACfC,gBAAiB9sD,EAAI8sD,gBACrBC,eAAgB/sD,EAAI+sD,eACpBN,cAAezsD,EAAIysD,cACnBC,aAAc1sD,EAAI0sD,aAClBM,cAAehtD,EAAIgtD,cACnBhgE,OAAAglF,GACAsY,YAAArY,GACAsY,UAAA1Y,GACA1jB,SAAA2jB,GACAziB,iBAAkBrvD,EAAIqvD,iBACtBC,oBAAqBtvD,EAAIsvD,oBACzBriE,QAAA8kF,GACAyY,UAAAliC,EAEAmiC,MAAOjY,GACPzjC,UAAWmjC,GACXrjC,UAAWsjC,GACXuY,UAAWxkD,GACXykD,UAAWrY,GACX7jC,YAAa2jC,GACbwY,YAAavY,GACbwY,gBAAiBtY,GACjBuY,OAAAhY,GACAiY,SAAAhY,GACAiY,SAAA/X,GACAgY,OAAAjY,GACAkY,aAAAxY,GACAxI,MAAAyI,GACAkT,SAAAjT,GACA9C,QAAA+C,GACAsY,WAAAzV,GACA0V,WAAAzV,GACA0V,oBAAAzV,GACA0V,oBAAAzV,GACA0V,cAAAp2B,GACAq2B,cAAA91B,GACArL,YAAarqD,EAAIqqD,YAEjBohC,YAAAxS,GACAr1H,IAAAwmB,EACAshH,KAAAp0I,GACAk3B,QAAAikG,GACAkZ,WAAA9xC,EACAp0F,IAAAq0F,EACA3kB,MAAAl1B,EACAmzE,MAAAx5B,EAEArK,IAAAk/B,GACA1+B,MAAAuoC,GACA5iC,OAAAswC,GACA5xH,MAAAo4G,GACAnN,QAAAwN,GACAp9B,OAAA8oC,GACA3oC,KAAA2wC,GACApV,OAAAiN,GACAlwH,KAAAkyH,GACA/pC,QAAA49B,GACAj+B,KAAAo+B,GACAwd,OAAAtf,GACAuf,OAAArR,GACAtqC,QAAA88B,GACA8e,UAAAve,GACAhnH,KAAAi7H,GACAuK,iBAAkB5H,GAClB6H,gBAAA1I,GACA2I,aAAAxI,GACAyI,cAAAnI,GACAoI,iBAAA5H,GACA6H,cAAAlI,GACAd,WAAAF,GACAtjB,OAAAyO,GACAv+B,UAAAkwC,GACA9xE,MAAAyqE,GACA1Z,MAAA+lB,GACA1L,KAAAnB,GACAkU,OAAA9N,GACA+N,SAAArN,GACAsN,MAAApN,GACA14G,MAAA24G,GACArrC,EAAAsyC,GACAlB,MAAAD,GACA7C,KAAA+C,GACAoH,UAAAnH,GACAJ,OAAAlsD,GACA+zC,OAAAJ,GACAE,KAAAD,GACA8f,OAAAhgB,GACAjxB,QAAA0yB,GACAwe,KAAArd,GACAyO,QAAAF,GACA+O,mBAAAtO,GACA/+C,MAAAm7C,GACAmS,OAAA3Q,GACA4Q,OAAAjR,GACAkR,WAAAtR,GAEA/7B,QAAA+wB,GACAj9C,GAAI68C,GACJyE,cAAApE,GACAqE,SAAAnE,GACAoE,OAAAnE,GACAuD,MAAAtD,GACA3U,UAAA4U,GACAic,MAAAn7E,GACAo7E,QAAA/b,GACA+D,MAAAjE,GACAkE,QAAAjE,GACApxG,QAAA0xG,GACA4P,UAAAhQ,GACAuP,gBAAAtP,GACAgQ,aAAA/P,GACAI,QAAAD,GACAG,cAAAD,GACAG,WAAAD,GAEAvjB,UAAWpuD,EAAIouD,UACfC,WAAYruD,EAAIquD,WAChBC,iBAAkBtuD,EAAIsuD,iBACtBC,aAAcvuD,EAAIuuD,aAClBC,YAAaxuD,EAAIwuD,YACjBC,aAAczuD,EAAIyuD,aAClBC,eAAgB1uD,EAAI0uD,eACpBC,YAAa3uD,EAAI2uD,YACjBC,YAAa5uD,EAAI4uD,YACjBviC,aAAcrsB,EAAIqsB,aAClBwiC,YAAa7uD,EAAI6uD,YACjBC,WAAY9uD,EAAI8uD,WAChBpvF,SAAUsgC,EAAItgC,SACdqvF,OAAQ/uD,EAAI+uD,OACZC,OAAQhvD,EAAIgvD,OACZC,oBAAqBjvD,EAAIivD,oBACzBC,qBAAsBlvD,EAAIkvD,qBAC1BC,uBAAwBnvD,EAAImvD,uBAC5BC,eAAgBpvD,EAAIovD,eACpBG,cAAevvD,EAAIuvD,cACnBC,aAAcxvD,EAAIwvD,aAClBC,gBAAiBzvD,EAAIyvD,gBACrBlK,SAAUiR,GACVhR,cAAexlD,EAAIwlD,cACnByH,UAAWjtD,EAAIitD,UACfC,aAAcltD,EAAIktD,aAClBC,mBAAoBntD,EAAImtD,mBACxBC,cAAeptD,EAAIotD,cACnBC,YAAartD,EAAIqtD,YACjBC,eAAgBttD,EAAIstD,eACpBC,gBAAiBvtD,EAAIutD,gBACrBxH,aAAc/lD,EAAI+lD,aAClByH,uBAAwBxtD,EAAIwtD,uBAC5BC,oBAAqBztD,EAAIytD,oBACzBC,wBAAyB1tD,EAAI0tD,wBAC7BC,gBAAiB3tD,EAAI2tD,gBACrBC,gBAAiB5tD,EAAI4tD,gBACrBC,aAAc7tD,EAAI6tD,aAClBC,iBAAkB9tD,EAAI8tD,iBACtBC,UAAW/tD,EAAI+tD,UACfC,UAAWhuD,EAAIguD,UACfC,YAAajuD,EAAIiuD,YACjBC,cAAeluD,EAAIkuD,cACnBwB,uBAAwB1vD,EAAI0vD,uBAC5B5J,aAAc9lD,EAAI8lD,aAElBmV,KAAAlhB,EACA6+B,KAAArkD,EAEAmiD,KAAAQ,GACA+V,UAAWzV,GACX0V,UAAWzV,GACXV,OAAAW,GACAO,KAAAV,GACA4V,SAAU72C,EAAMr2B,IAEhBmtE,KAAAr0C,GACA3J,KAAA0E,GACAu5C,OAAA7zC,GACA8zC,QAAAh0C,GACAi0C,MAAAjyC,GACAkyC,QAAAj1C,GACAk1C,KAAAp7C,GACAq7C,MAAA38C,GACA48C,KAAAh4C,GACAi4C,KAAA75C,GACA85C,IAAAl3C,GACA7L,KAAAsM,GACA02C,MAAAz2C,GACA02C,SAAA52C,GACA9H,KAAA72B,GACA23B,IAAA6B,GACAg8C,QAAA/7C,GACAq2B,KAAAp0B,GACA+5C,OAAAx2C,GACAy2C,eAAA12C,GACA22C,QAAA52C,GACA62C,OAAA92C,GACA3F,KAAAC,GACAhD,MAAAoL,EACAhL,QAAA+jB,GACAvmF,IAAA8lE,GACA+7C,KAAA97C,GACA+7C,KAAA73C,GACA83C,QAAAr8C,GACAs8C,QAAAp8C,GACAq8C,MAAAx9C,GACAy9C,kBAAA3yC,GACA4yC,iCAAA3yC,GACA4yC,kCAAA3yC,GACA4yC,eAAA3yC,GACA4yC,8BAAA3yC,GACA4yC,+BAAA3yC,GACA4yC,mBAAA3yC,GACA4yC,kCAAA3yC,GACA4yC,yBAAA1yC,GACA2yC,gBAAA5yC,GACA6yC,QAAA3yC,GACA4yC,SAAA3yC,GACA4yC,WAAA3yC,GACA4yC,OAAA3yC,GACA4yC,gBAAA3yC,GACA4yC,YAAAlyC,GACAmyC,aAAAryC,GACAsyC,kBAAAryC,GACAsyC,aAAA93C,GACA+3C,aAAAn4C,GACAo4C,aAAA/3C,GACAg4C,cAAA73C,GACA83C,kBAAA/2C,GACAg3C,cAAAx3C,GACAy3C,eAAAx3C,GACAy3C,SAAAlyC,GACAyhB,YAAA1hB,GACAoyC,QAAAn8B,GAEAo8B,WAAAnlB,GACAolB,SAAAhlB,GACAilB,WAAArpB,GACAspB,SAAA3nB,GACA4nB,SAAAtwB,GACAuwB,UAAA5wB,GACA6wB,aAAA1nB,GACA2nB,WAAA1wB,GACA2wB,YAAA9wB,GACA+wB,WAAAroB,GACAsoB,YAAAxxB,GACAyxB,UAAAxwB,GACAywB,WAAAxwB,GACAywB,kBAAAtoB,GACA6K,WAAA3I,GACA6I,eAAAvI,GACA+lB,cAAAv7B,GACAw7B,aAAAn7B,GACAo7B,cAAA17B,GACA27B,UAAAv7B,GACAw7B,WAAAv7B,GACAw7B,WAAA17B,GACA27B,cAAApyF,EACAqyF,WAAAn7C,EAEA6yB,MAAAp1B,EAEA29C,MAAAzY,GACA0Y,aAAAnY,GACAxlE,GAAAklE,GACA0Y,aAAArY,GAEA/D,OAAQuD,GACR8Y,UAAWhZ,GACXiZ,UAAWlZ,GACXmZ,gBAAiBjZ,GAEjBkZ,SAAA3jB,GAEArjH,QAAAkd,EACA+pH,QAAA5xF,EACAwgD,SAAAD,GACAsxC,aAAAlxC,GACAmxC,aAAApxC,GACAqxC,aAAAnxC,GAEAoxC,KAAA54C,EAEA64C,YAAAr0C,GAEA0G,OAAQ5kD,EAAI4kD,OAEZ4tC,UAAAta,GAEAua,KAAMpgD,GAAKogD,KACXC,MAAOrgD,GAAKqgD,MACZC,GAAItgD,GAAKsgD,GACTC,KAAMvgD,GAAKugD,KAEXC,IAAK9hD,GAAM8hD,IACXC,MAAO/hD,GAAM+hD,MACbC,KAAMhiD,GAAMgiD,KACZC,OAAQjiD,GAAMiiD,OACdC,QAASliD,GAAMkiD,QACfC,KAAMniD,GAAMmiD,KACZ1zB,MAAOzuB,GAAMyuB,MACb2zB,MAAOpiD,GAAMoiD,MACb3mC,KAAAjE,EAEA6qC,OAAA/zC,GACAg0C,cAAAzzC,GACA0zC,iBAAAp0C,GACAE,OAAQroC,IAAC,IAAK+nC,IAAN,WAGZ5hE,GAAGq3C,EAAIk0B,EAEP,IAAMC,EAAUtpB,EAAKm0D,QAOrB,GALI7qC,GACAA,EAAQ3jF,QAAQ20E,IAIA,IAAhBta,EAAKuoD,OACL,IAAK,IAAMnoF,KAAOipD,EACPlnG,OAAai+C,GAAQipD,EAAIjpD,GAIxC,OAAmB,IAAf4/B,EAAKtlE,OACLkmC,EAAI4kD,OAAO9qF,QAGR2uF,CAGX,GAtjCe,UElVA,SAAS+qC,GAAUj/D,GAC9BA,EAAEo9D,MAAM,QAAQ,KACZ,IAAI8B,EAAyB,GACzBC,EAA0B,GAE1B/tE,EAAa4O,EAAE3wE,IAAI,CACnB2wE,EAAEyb,KAAKzb,EAAEziE,QAASyiE,EAAExiE,UACpBwiE,EAAEkb,OAAO,UACTlb,EAAEgb,IAAIhb,EAAEib,YAEZd,GAAana,EAAG5O,EAAW4pB,KAC3Bf,GAAcja,GAEd,IAAInnC,EA6GZ,SAAmBmnC,GACf,IAAIo/D,EAAWp/D,EAAEib,SACbokD,EAAW,EACXC,EAAW,EACXC,EAAYv/D,EAAEib,SACdukD,EAAcx/D,EAAEib,SAAS5rF,KAAK,IAAK,KACvC00B,QAAQj6B,IAAIk2E,EAAEq2D,cAAcr0I,GACF,IAAtBg+E,EAAEq2D,cAAcr0I,IAChBq9I,GAAY,IACZC,EAAW,IACXC,EAAYv/D,EAAEib,SAAS5rF,KAAK,IAAK,KACjCmwI,EAAcJ,EAAS/vI,IAAI,EAAG,MAGlC2wE,EAAE3wE,IAAI,CACF2wE,EAAErsE,KAAK,gBAAiB,CAAEqkB,KAAM,GAAI+iE,KAAM,UAC1C/a,EAAEgb,IAAIokD,EAASp9I,EAAIq9I,EAAW,IAAKD,EAASj9H,EAAIm9H,EAAW,KAC3Dt/D,EAAEkb,OAAO,SACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGlBmgE,EAAE3wE,IAAI,CACF2wE,EAAErsE,KAAK,cAAe,CAAEqkB,KAAM,GAAI+iE,KAAM,UACxC/a,EAAEgb,IAAIokD,EAASp9I,EAAIq9I,EAAW,IAAKD,EAASj9H,EAAIm9H,EAAW,KAC3Dt/D,EAAEkb,OAAO,SACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGlBmgE,EAAE3wE,IAAI,CACF2wE,EAAErsE,KAAK,cAAe,CAAEqkB,KAAM,GAAI+iE,KAAM,UACxC/a,EAAEgb,IAAIokD,EAASp9I,EAAIq9I,EAAW,IAAKD,EAASj9H,EAAIm9H,EAAW,KAC3Dt/D,EAAEkb,OAAO,SACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGlBmgE,EAAE3wE,IAAI,CACF2wE,EAAErsE,KAAK,WAAY,CAAEqkB,KAAM,GAAI+iE,KAAM,UACrC/a,EAAEgb,IAAIokD,EAASp9I,EAAIq9I,EAAW,IAAKD,EAASj9H,EAAIm9H,EAAW,IAC3Dt/D,EAAEkb,OAAO,SACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGlB,IAAI4/H,EAAYz/D,EAAE3wE,IAAI,CAClB2wE,EAAErsE,KAAK,MAAO,CAAEqkB,KAAM,GAAI+iE,KAAM,UAChC/a,EAAEgb,IAAIokD,EAASp9I,EAAGo9I,EAASj9H,EAAIm9H,EAAW,KAC1Ct/D,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGd6/H,EAAc1/D,EAAE3wE,IAAI,CACpB2wE,EAAErsE,KAAK,MAAO,CAAEqkB,KAAM,GAAI+iE,KAAM,UAChC/a,EAAEgb,IAAIokD,EAASp9I,EAAIq9I,EAAW,GAAID,EAASj9H,EAAIm9H,EAAW,KAC1Dt/D,EAAEkb,OAAO,SACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGd8/H,EAAa3/D,EAAE3wE,IAAI,CACnB2wE,EAAErsE,KAAK,MAAO,CAAEqkB,KAAM,GAAI+iE,KAAM,UAChC/a,EAAEgb,IAAIokD,EAASp9I,EAAIq9I,EAAW,GAAID,EAASj9H,EAAIm9H,EAAW,KAC1Dt/D,EAAEkb,OAAO,SACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGds8E,EAAanc,EAAE3wE,IAAI,CACnB2wE,EAAErsE,KAAK,MAAO,CAAEqkB,KAAM,GAAI+iE,KAAM,UAChC/a,EAAEgb,IAAIokD,EAASp9I,EAAIq9I,EAAW,GAAID,EAASj9H,EAAIm9H,EAAW,KAC1Dt/D,EAAEkb,OAAO,SACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGd+/H,EAAU5/D,EAAE3wE,IAAI,CAChB2wE,EAAErsE,KAAK,MAAO,CAAEqkB,KAAM,KACtBgoD,EAAEgb,IAAIokD,EAASp9I,EAAIq9I,EAAW,GAAID,EAASj9H,EAAIm9H,EAAW,IAC1Dt/D,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGdggI,EAAQ7/D,EAAE3wE,IAAI,CACd2wE,EAAEyb,KAAK,IAAK,IAAK,CAAEC,MAAM,IACzB1b,EAAEgb,IAAIukD,EAAUlwI,IAAI,IAAK,IACzB2wE,EAAEkb,OAAO,UACTlb,EAAE2b,QAAQ,KAGVmkD,EAAQ9/D,EAAE3wE,IAAI,CACd2wE,EAAErsE,KAAK,QAAS,CAAEqkB,KAAM,GAAI+iE,KAAM,UAClC/a,EAAEgb,IAAIwkD,EAAYnwI,KAAK,GAAI,IAC3B2wE,EAAEkb,OAAO,UACTlb,EAAEqb,OACFrb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAEwb,MAAM,GACR,gBAGA7kF,EAAQqpE,EAAE3wE,IAAI,CACd2wE,EAAErsE,KAAK,QAAS,CAAEqkB,KAAM,GAAI+iE,KAAM,UAClC/a,EAAEgb,IAAIwkD,EAAYnwI,IAAI,GAAI,IAC1B2wE,EAAEkb,OAAO,UACTlb,EAAEqb,OACFrb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAEwb,MAAM,GACR,gBAEJ7kF,EAAMyiF,QAAS,EAEf,IAAIvR,EAAQ7H,EAAE3wE,IAAI,CACd2wE,EAAErsE,KAAK,QAAS,CAAEqkB,KAAM,GAAI+iE,KAAM,UAClC/a,EAAEgb,IAAIwkD,EAAYnwI,IAAI,GAAI,IAC1B2wE,EAAEkb,OAAO,UACTlb,EAAEqb,OACFrb,EAAEngE,MAAM,IAAK,EAAG,GAChBmgE,EAAEwb,MAAM,GACR,cACA,CACI3T,OAAO,KAGfA,EAAMuR,QAAS,EAEf,IAAIvgD,EAAsB,CAAC4mG,EAAWC,EAAaC,EAAYxjD,EAAYyjD,EAASC,EAAOC,EAAOnpI,EAAOkxE,GACzG,OAAOhvC,CACX,CAtOuBknG,CAAU//D,GACrBy/D,EAAY5mG,EAAS,GACrB6mG,EAAc7mG,EAAS,GACvB8mG,EAAa9mG,EAAS,GACtBsjD,EAAatjD,EAAS,GACtB+mG,EAAU/mG,EAAS,GACnBgnG,EAAQhnG,EAAS,GACjBinG,EAAQjnG,EAAS,GACjBliC,EAAQkiC,EAAS,GACjBgvC,EAAQhvC,EAAS,GAErBinG,EAAMz0H,SAAQ,KACVw1D,GAAO/8C,KAAK,aAAc+8C,GAAOj4C,GAAIg3G,EAAQjsI,MAC7CqsE,EAAEtgB,GAAG,OAAO,IAGhBmoB,EAAMx8D,SAAQ,KACVw1D,GAAO/8C,KAAK,eAAgB+8C,GAAOj4C,GAAIg3G,EAAQjsI,MAC/Ck0E,EAAMA,OAASA,EAAMA,MACjBA,EAAMA,MACNA,EAAMhoE,MAAQmgE,EAAE4b,IAAI,EAAG,IAAK,GAE5B/T,EAAMhoE,MAAQmgE,EAAE4b,IAAI,IAAK,EAAG,EAChC,IAGJjlF,EAAM0U,SAAQ,KACVw1D,GAAO/8C,KAAK,eAAgB+8C,GAAOj4C,GAAIg3G,EAAQjsI,MAC/CktE,GAAO/8C,KAAK,eAAgB87G,EAAQjsI,KAAK,IAG7CktE,GAAO1B,IAAI,cAAcH,GAAG,cAAc,CAACghE,EAAYL,KACnD3/D,EAAEtgB,GAAG,OAAQ,CACTsgF,MAAOA,EACPL,WAAYA,EACZC,QAASA,EAAQjsI,MACnB,IAGNktE,GAAO1B,IAAI,aAAaH,GAAG,aAAa,CAACihE,EAAWC,KAChDT,EAAU9rI,KAAOssI,EAAKv+I,KACtBw9I,EAAee,EAAKE,QAAQt2D,MAC5Bs1D,EAAec,EAAKE,QAAQhB,aAC5BO,EAAY/rI,KAAOssI,EAAKP,YACxBC,EAAWhsI,KAAOssI,EAAKN,WAAa,IACpCxjD,EAAWxoF,KAAOssI,EAAK9jD,WAAa,IAAM8jD,EAAK9jD,WAC/CyjD,EAAQjsI,KAAOssI,EAAKr3G,GAChBs3G,GACAvpI,EAAMyiF,QAAS,EACfvR,EAAM5tD,YAENtjB,EAAMsjB,UACN4tD,EAAMuR,QAAS,EACnB,IAGJpZ,EAAEi9C,QAAQ,eAAgBmjB,IACtBpgE,EAAEqa,MACE+lD,EAAI5kD,MACJxb,EAAE8a,KAAK,KACP,IACCulD,GAAaD,EAAI5kD,MAAQ6kD,GAC1BrgE,EAAEya,QAAQC,OACb,IAGL1a,EAAEq9C,WAAW,eAAgB+iB,IACzBpgE,EAAEqa,MACE+lD,EAAI5kD,MACJxb,EAAE8a,KAAK,GACP,IACCulD,GAAaD,EAAI5kD,MAAQ6kD,GAC1BrgE,EAAEya,QAAQC,OACb,IAGL1a,EAAEwgD,QAAO,KACL,IAAK,IAAI7gI,EAAI,EAAGA,EAAIu/I,EAAaz/I,OAAQE,IAAK,CAC1C,IAAI+B,EAAOw9I,EAAav/I,GACpB+B,EAAKjC,OAAS,KACdiC,EAAOA,EAAK4L,MAAM,EAAG,IAAM,OAE/B0yE,EAAE+7D,SAAS,CACP7gD,OAAQ,OACRvnF,KAAMhU,EAAI,EAAI,KAAO+B,EACrBs2B,KAAM,GACN+iE,KAAM,QACNC,IAAKhb,EAAE8a,KAAK+kD,EAAM7kD,IAAIh5F,EAAI69I,EAAMtiI,MAAM,EAAI,GAAIsiI,EAAM7kD,IAAI74E,EAAI,IAAU,GAAJxiB,GAClEkgB,MAAOmgE,EAAE4b,IAAI,EAAG,EAAG,KAGvB5b,EAAE+7D,SAAS,CACP7gD,OAAQ,QACRvnF,KAAMwrI,EAAax/I,GAAK,QAAU,GAClCq4B,KAAM,GACN+iE,KAAM,QACNC,IAAKhb,EAAE8a,KAAK+kD,EAAM7kD,IAAIh5F,EAAI69I,EAAMtiI,MAAM,EAAI,GAAIsiI,EAAM7kD,IAAI74E,EAAI,IAAU,GAAJxiB,GAClEkgB,MAAOmgE,EAAE4b,IAAI,EAAG,EAAG,IAE3B,KAGJ5b,EAAEugD,UAAS,KACPpmC,GAAana,EAAG5O,EAAW4pB,KAC3Bf,GAAcja,EAAE,GAClB,GAEV,CCxHe,SAASsgE,GAAetgE,GACnCA,EAAEo9D,MAAM,aAAa,KACjB,IAAIhsE,EAAa4O,EAAE3wE,IAAI,CACnB2wE,EAAEyb,KAAKzb,EAAEziE,QAASyiE,EAAExiE,UACpBwiE,EAAEkb,OAAO,UACTlb,EAAEgb,IAAIhb,EAAEib,YAGZd,GAAana,EAAG5O,EAAW4pB,KAC3Bf,GAAcja,GAEdA,EAAE3wE,IAAI,CACF2wE,EAAErsE,KAAK,cAAe,CAAEqkB,KAAM,GAAI+iE,KAAM,UACxC/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAGg+E,EAAEib,SAAS94E,EAAI,KACnC69D,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGlB,IAAIkM,EAAQi0D,EAAE3wE,IAAI,CACd2wE,EAAErsE,KAAK,GAAI,CAAEqkB,KAAM,GAAI+iE,KAAM,UAC7B/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAGg+E,EAAEib,SAAS94E,EAAI,KACnC69D,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGdgrF,EAAS7qB,EAAE3wE,IAAI,CACf2wE,EAAErsE,KAAK,SAAU,CAAEqkB,KAAM,GAAI+iE,KAAM,UACnC/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAI,IAAKg+E,EAAEib,SAAS94E,EAAI,KACzC69D,EAAEkb,OAAO,UACTlb,EAAEqb,OACFrb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAEwb,MAAM,GACR,gBAGA9tE,EAAOsyD,EAAE3wE,IAAI,CACb2wE,EAAErsE,KAAK,OAAQ,CAAEqkB,KAAM,GAAI+iE,KAAM,UACjC/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAI,IAAKg+E,EAAEib,SAAS94E,EAAI,KACzC69D,EAAEkb,OAAO,UACTlb,EAAEqb,OACFrb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAEwb,MAAM,GACR,gBAGJ,MAAM+kD,EAyDd,SAAqBvgE,GACjB,IAAIugE,EAAS,GACbvgE,EAAE3wE,IAAI,CACF2wE,EAAErsE,KAAK,WAAY,CAAEqkB,KAAM,GAAI+iE,KAAM,UACrC/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAGg+E,EAAEib,SAAS94E,EAAI,IACnC69D,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGlBmgE,EAAE3wE,IAAI,CACF2wE,EAAEyb,KAAK,IAAK,GAAI,CAAEC,MAAM,IACxB1b,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAGg+E,EAAEib,SAAS94E,EAAI,IACnC69D,EAAEkb,OAAO,UACTlb,EAAE2b,QAAQ,KAGd,IAAI/kC,EAAQopB,EAAE3wE,IAAI,CACd2wE,EAAErsE,KAAK,GAAI,CAAEqkB,KAAM,GAAI+iE,KAAM,UAC7B/a,EAAEub,WAAU,EAAM,GAClBvb,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAGg+E,EAAEib,SAAS94E,EAAI,IACnC69D,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,GACd,QACAmgE,EAAEqb,KAAK,CAAEC,MAAO,IAAItb,EAAE6a,KAAK7a,EAAE8a,KAAK,EAAG,GAAI,IAAK,QAWlD,OARAlkC,EAAMvrC,SAAQ,KACV,IAAI1X,EAAOyoF,OAAO,qBACL,OAATzoF,IACJijD,EAAMjjD,KAAOA,EAAI,IAGrB4sI,EAAOr5I,KAAK0vD,GAEL2pF,CACX,CA5FuB5lD,CAAY3a,GAE3B6qB,EAAOx/E,SAAQ,KACX20D,EAAEtgB,GAAG,OAAO,IAGhBhyC,EAAKrC,SAAQ,KACT,IAAIu0H,EAAUW,EAAO,GAAG5sI,KACxB,GAAuB,IAAnBisI,EAAQngJ,OAIR,OAHAssB,EAAMpY,KAAO,oCACb+Z,EAAK7N,MAAQmgE,EAAE4b,IAAI,IAAK,EAAG,QAC3B5b,EAAEqkD,KAAK,IAAK,IAAM32G,EAAK7N,MAAQmgE,EAAE4b,IAAI,EAAG,EAAG,KAG/C/a,GAAO/8C,KAAK,YAAa+8C,GAAOj4C,GAAIg3G,GAAUY,IAClB,mBAApBA,EAASl0H,QACTP,EAAMpY,KAAO,SAAWisI,EAAU,cAClClyH,EAAK7N,MAAQmgE,EAAE4b,IAAI,IAAK,EAAG,GAC3B5b,EAAEqkD,KAAK,IAAK,IAAM32G,EAAK7N,MAAQmgE,EAAE4b,IAAI,EAAG,EAAG,MAChB,cAApB4kD,EAASl0H,QAChBP,EAAMpY,KAAO,SAAWisI,EAAU,YAClClyH,EAAK7N,MAAQmgE,EAAE4b,IAAI,IAAK,EAAG,GAC3B5b,EAAEqkD,KAAK,IAAK,IAAM32G,EAAK7N,MAAQmgE,EAAE4b,IAAI,EAAG,EAAG,MAE3C5b,EAAEtgB,GAAG,OACT,GACF,IAGNsgB,EAAEi9C,QAAQ,eAAgBmjB,IACtBpgE,EAAEqa,MACE+lD,EAAI5kD,MACJxb,EAAE8a,KAAK,KACP,IACCulD,GAAaD,EAAI5kD,MAAQ6kD,GAC1BrgE,EAAEya,QAAQC,OACb,IAIL1a,EAAEq9C,WAAW,eAAgB+iB,IACzBpgE,EAAEqa,MACE+lD,EAAI5kD,MACJxb,EAAE8a,KAAK,GACP,IACCulD,GAAaD,EAAI5kD,MAAQ6kD,GAC1BrgE,EAAEya,QAAQC,OACb,IAGL1a,EAAEugD,UAAS,KACPpmC,GAAana,EAAG5O,EAAW4pB,KAC3Bf,GAAcja,EAAE,GAClB,GAEV,CClGa5gF,EAAAA,WACXmQ,SAAS4pF,eAAe,SAGrBt3F,QACH83F,EAAAA,GAAAA,KAAC/jB,GAAa,CAAApiE,UACVsmF,EAAAA,GAAAA,MAACltB,GAAM,CAAAp5D,SAAA,CAAC,KACRmmF,EAAAA,GAAAA,KAACztB,GAAK,CAACjO,KAAK,IAAI1rD,SAASonF,EAAAA,GAAAA,KAACT,GAAO,OACjCS,EAAAA,GAAAA,KAACztB,GAAK,CAACjO,KAAK,SAAS1rD,SAASonF,EAAAA,GAAAA,KAACK,GAAK,YCH3BrhD,iBACd,MAAMqnC,ECVIygE,GAAO,CACVrN,QAAQ,EACRl9B,aAAc,EACdoB,cAAc,EACdud,OAAO,EACPxkB,OAAQ9gG,SAAS4pF,eAAe,QAChC/nB,WAAY,CAAC,IAAK,IAAK,ODM3B4O,EAAEw9D,UAAU,CAAC,KAAM,OAAQ,MAAO,QAGlCx9D,EAAE60D,SAAS,QAAS,6BEbT,SAAmB70D,GAC9BA,EAAEo9D,MAAM,QAAQ,KAGZ,IAAIsD,EAAe,KACfnnD,GAAW,EAGXnoB,EAAa4O,EAAE3wE,IAAI,CACnB2wE,EAAEyb,KAAKzb,EAAEziE,QAASyiE,EAAExiE,UACpBwiE,EAAEqb,OACFrb,EAAEwb,MAAM,GACRxb,EAAEkb,OAAO,UACTlb,EAAEgb,IAAIhb,EAAEib,YAGZd,GAAana,EAAG5O,EAAW4pB,KAC3Bf,GAAcja,GAEd,IAAI2gE,EAAc,CAAC,aAAc,gBAAiB,eAAgB,SAC9DC,EAAsB,GAE1B,IAAK,IAAIjhJ,EAAI,EAAGA,EAAIghJ,EAAYlhJ,OAAQE,IAAK,CACzC,IAAI2a,EAAS0lE,EAAE3wE,IAAI,CACf2wE,EAAErsE,KAAKgtI,EAAYhhJ,GAAI,CAAEq4B,KAAM,GAAI+iE,KAAM,UACzC/a,EAAEgb,IAAIhb,EAAEziE,QAAU,EAAGyiE,EAAExiE,SAAW,EAAQ,IAAJ7d,GACtCqgF,EAAEkb,OAAO,UACTlb,EAAEqb,OACFrb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAEwb,MAAM,GACR,cACA,UAAY77F,IAEhBihJ,EAAa15I,KAAKoT,EACtB,CAGA,IAAIumI,EAsIZ,SAAoB7gE,GAChB,IAAI6gE,EAAqB,GACrBr1G,EAAQ,UACRswD,EAAU,CAAC9b,EAAE8a,KAAK,IAAK,KACvB9a,EAAE8a,KAAK,IAAK,KACZ9a,EAAE8a,KAAK,KAAM,KACb9a,EAAE8a,KAAK,KAAM,KACb9a,EAAE8a,KAAK,KAAM,KACb9a,EAAE8a,MAAM,KAAM,KACd9a,EAAE8a,MAAM,KAAM,KACd9a,EAAE8a,MAAM,KAAM,KACd9a,EAAE8a,MAAM,IAAK,KACb9a,EAAE8a,MAAM,IAAK,KACb9a,EAAE8a,MAAM,IAAK,KACb9a,EAAE8a,KAAK,IAAK,MAChB,GAA0B,IAAtB9a,EAAEq2D,cAAcr0I,EAAS,CACzB,IAAK,IAAIrC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxB,IAAImhJ,EAAS9gE,EAAE3wE,IAAI,CACf2wE,EAAEkb,OAAO,UACTlb,EAAE8b,QAAQA,EAAS,CAACJ,MAAM,IAC1B1b,EAAE2b,QAAQ,GACV3b,EAAEqb,OACFrb,EAAEhuE,OACFguE,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAI,IAAY,GAAS,IAAJrC,EAASqgF,EAAEib,SAAS94E,EAAI,KAC9D69D,EAAEwb,MAAM,IACRxb,EAAEngE,MAAMmgE,EAAE4b,IAAI,IAAK,IAAK,MACxB5b,EAAEi4D,UAAU,CACR9G,MAAM,EACNjoC,SAAU,KAEd,SACA19D,EAAMwyB,OAAOr+D,KAEjBkhJ,EAAQ35I,KAAK45I,EACjB,CAEA,IAAK,IAAInhJ,EAAI,EAAGA,EAAI6rC,EAAM/rC,OAAQE,IAAK,CACnC,IAAImhJ,EAAS9gE,EAAE3wE,IAAI,CACf2wE,EAAEkb,OAAO,UACTlb,EAAE8b,QAAQA,EAAS,CAACJ,MAAM,IAC1B1b,EAAE2b,QAAQ,GACV3b,EAAEqb,OACFrb,EAAEhuE,OACFguE,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAI,IAAU,GAAa,KAAPrC,EAAE,GAAUqgF,EAAEib,SAAS94E,EAAI,KAChE69D,EAAEwb,MAAM,IACRxb,EAAEngE,MAAMmgE,EAAE4b,IAAI,IAAK,IAAK,MACxB5b,EAAEi4D,UAAU,CACR9G,MAAM,EACNjoC,SAAU,KAEd,SACA19D,EAAMwyB,OAAOr+D,KAEjBkhJ,EAAQ35I,KAAK45I,EACjB,CACA,OAAOD,CACX,CACI,IAAK,IAAIlhJ,EAAI,EAAGA,EAAI6rC,EAAM/rC,OAAQE,IAAK,CACnC,IAAImhJ,EAAS9gE,EAAE3wE,IAAI,CACf2wE,EAAEkb,OAAO,UACTlb,EAAE8b,QAAQA,EAAS,CAACJ,MAAM,IAC1B1b,EAAE2b,QAAQ,GACV3b,EAAEqb,OACFrb,EAAEhuE,OACFguE,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAIwpC,EAAM/rC,OAAO,EAAI,IAAM,GAAS,IAAJE,EAASqgF,EAAEib,SAAS94E,EAAI,KACzE69D,EAAEwb,MAAM,IACRxb,EAAEngE,MAAMmgE,EAAE4b,IAAI,IAAK,IAAK,MACxB5b,EAAEi4D,UAAU,CACR9G,MAAM,EACNjoC,SAAU,KAEd,SACA19D,EAAMwyB,OAAOr+D,KAGjBkhJ,EAAQ35I,KAAK45I,EACjB,CAGJ,OAAOD,CACX,CAtNsBE,CAAW/gE,GAIzBA,EAAE30D,QAAQ,IAAK6nC,IAEPwtF,EADAxtF,EAAO0rE,KAAKl6H,SAAS,UACXwuD,EAEA,IACd,IAGJ8sB,EAAE30D,QAAQ,eAAgB+0H,IACL,eAAbA,EAAIzsI,KACJqsE,EAAEtgB,GAAG,cACe,kBAAb0gF,EAAIzsI,KACXqsE,EAAEtgB,GAAG,eACe,iBAAb0gF,EAAIzsI,KACXqsE,EAAEtgB,GAAG,aACe,UAAb0gF,EAAIzsI,MACXqsE,EAAEtgB,GAAG,QACT,IAGJsgB,EAAEi9C,QAAQ,UAAW6jB,IACjB9gE,EAAEqa,MACEymD,EAAOtlD,MACPxb,EAAE8a,KAAK,KACP,IACCulD,GAAaS,EAAOtlD,MAAQ6kD,GAC7BrgE,EAAEya,QAAQC,OACb,IAIL1a,EAAEq9C,WAAW,UAAWyjB,IACpB9gE,EAAEqa,MACEymD,EAAOtlD,MACPxb,EAAE8a,KAAK,IACP,IACCulD,GAAaS,EAAOtlD,MAAQ6kD,GAC7BrgE,EAAEya,QAAQC,OACb,IAGL1a,EAAEi9C,QAAQ,eAAgBmjB,IACtBpgE,EAAEqa,MACE+lD,EAAI5kD,MACJxb,EAAE8a,KAAK,KACP,IACCulD,GAAaD,EAAI5kD,MAAQ6kD,GAC1BrgE,EAAEya,QAAQC,OACb,IAGL1a,EAAEq9C,WAAW,eAAgB+iB,IACzBpgE,EAAEqa,MACE+lD,EAAI5kD,MACJxb,EAAE8a,KAAK,GACP,IACCulD,GAAaD,EAAI5kD,MAAQ6kD,GAC1BrgE,EAAEya,QAAQC,OACb,IAGL1a,EAAEi6B,YAAY,QAAQ,KACF,OAAZymC,IACA1gE,EAAEqa,MACEqmD,EAAQllD,MACRxb,EAAE8a,KAAK,IACP,IACCulD,GAAaK,EAAQllD,MAAQ6kD,GAC9BrgE,EAAEya,QAAQC,QAEd1a,EAAEqa,MACEqmD,EAAQ1lD,InIhGQhb,IACzBA,EAAE8a,KAAK9a,EAAEsa,YAAYjrF,KAAK2wE,EAAEgxB,WAAWhvG,EAAIg+E,EAAEib,SAASj5F,GAAKg+E,EAAEq2D,cAAcr0I,GAAIg+E,EAAEgxB,WAAW7uF,EAAI69D,EAAEib,SAAS94E,GAAK69D,EAAEq2D,cAAcl0H,ImIgGvH6+H,CAAoBhhE,GACpB,IACCua,GAAWmmD,EAAQ1lD,IAAMT,GAC1Bva,EAAEya,QAAQqiB,aAElB,IAGJ98B,EAAEm6B,eAAe,QAAQ,KACL,OAAZumC,GACA1gE,EAAEqa,MACEqmD,EAAQllD,MACRxb,EAAE8a,KAAK,IACP,IACCulD,GAAaK,EAAQllD,MAAQ6kD,GAC9BrgE,EAAEya,QAAQC,OAElB,IAGJ1a,EAAEwgD,QAAO,KACL,IAAK,IAAI7gI,KAAKkhJ,EACV7gE,EAAE+7D,SAAS,CACPpoI,KAAMktI,EAAQlhJ,GAAGi/H,KAAK,GACtB1jC,OAAQ,SACRF,IAAK6lD,EAAQlhJ,GAAGq7F,IAChBhjE,KAAM,GACNwjE,MAA4B,EAArBqlD,EAAQlhJ,GAAG67F,MAAMx5F,EACxB+4F,KAAM,QACNl7E,MAAOmgE,EAAE4b,IAAI,EAAG,EAAG,IAE3B,IAGJ/a,GAAO7B,GAAG,aAAa,IAAMua,GAAW,IAExCvZ,EAAEugD,UAAS,KACFhnC,GAIDqnD,EAAa,GAAGjtI,KAAO,QACvBitI,EAAa,GAAG/gI,MAAQmgE,EAAE4b,IAAI,EAAG,EAAG,KAJpCglD,EAAa,GAAGjtI,KAAO,sBACvBitI,EAAa,GAAG/gI,MAAQmgE,EAAE4b,IAAI,IAAK,IAAK,MAK5CzB,GAAana,EAAG5O,EAAW4pB,KAC3Bf,GAAcja,GACd,IAAK,IAAIrgF,KAAKkhJ,EAENA,EAAQlhJ,GAAGy5F,SACXynD,EAAQlhJ,GAAGq7F,IAAMhb,EAAEib,SAASmD,IAAIpe,EAAEuW,MAAM,IAAK,KAAM,IAAMvW,EAAEuW,MAAM,IAAK,MAE9E,GACF,GAIV,CFpJI0qD,CAAUjhE,GGpBC,SAAmBA,GAC9BA,EAAEo9D,MAAM,QAAS52I,IAGb,IAAIw5I,EAAqCx5I,EAAKw5I,MAC1Cz/H,EAAe/Z,EAAKm5I,WACpBC,EAAUp5I,EAAKo5I,QAEfsB,EAAc,EACd/tI,EAAkB,GAClB8wF,EAAiB,GACjBjsE,EAAO11B,OAAOkgB,KAAKw9H,GAAOvgJ,OAC1B0hJ,EAAc,IAAMnpH,EAEpBo5C,EAAa4O,EAAE3wE,IAAI,CACnB2wE,EAAEyb,KAAKzb,EAAEziE,QAASyiE,EAAExiE,UACpBwiE,EAAEkb,OAAO,UACTlb,EAAEgb,IAAIhb,EAAEib,YAEZd,GAAana,EAAG5O,EAAW4pB,KAC3Bf,GAAcja,GAEdA,EAAEka,YAAgC,EAApBla,EAAEq2D,cAAcr0I,EAAMg2B,GAGpC,IAAIopH,EC7BG,SAAmBphE,EAAchoD,GAC5C,IAAImpH,EAAc,IAAMnpH,EASxB,OAPYgoD,EAAE3wE,IAAI,CACd2wE,EAAEyb,KAAK0lD,EAAc,EAAGA,EAAc,EAAG,CAAEzlD,MAAM,EAAOmI,OAAQ,KAChE7jB,EAAEkb,OAAO,UACTlb,EAAEgb,IAAIhb,EAAEib,UACRjb,EAAE2b,QAAQ,IAIlB,CDkB8B0lD,CAAUrhE,EAAGhoD,GAE/BspH,EAAethE,EAAE3wE,IAAI,CACrB2wE,EAAErsE,KAAK,SAAWutI,EAAa,CAAElpH,KAAM,GAAI+iE,KAAM,UACjD/a,EAAEgb,IAAIomD,EAAgBpmD,IAAIh5F,EAAIo/I,EAAgB7jI,MAAM,EAAG6jI,EAAgBpmD,IAAI74E,EAAIi/H,EAAgB5jI,OAAO,EAAI,IAC1GwiE,EAAEngE,MAAM,EAAG,EAAG,GACd,WAGA0hI,EAAcvhE,EAAE3wE,IAAI,CACpB2wE,EAAErsE,KAAK,GAAI,CAAEqkB,KAAM,GAAI+iE,KAAM,QAASk5B,MAAO,WAC7Cj0C,EAAEgb,IAAIomD,EAAgBpmD,IAAIh5F,EAAGo/I,EAAgBpmD,IAAI74E,EAAIi/H,EAAgB5jI,OAAO,EAAI,IAChFwiE,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAEkb,OAAO,UACT,WAGJlb,EAAE3wE,IAAI,CACF2wE,EAAEkb,OAAO,YACTlb,EAAErsE,KAAK,SAAU,CAAEqkB,KAAM,GAAI+iE,KAAM,QAASk5B,MAAO,UACnDj0C,EAAEgb,IAAIomD,EAAgBpmD,IAAIh5F,EAAIo/I,EAAgB7jI,MAAM,EAAI,GAAI6jI,EAAgBpmD,IAAI74E,EAAIi/H,EAAgB5jI,OAAO,EAAI,IAC/GwiE,EAAEngE,MAAM,EAAG,EAAG,KAKlB,IAAI2hI,EAAexhE,EAAE3wE,IAAI,CACrB2wE,EAAEkb,OAAO,YACTlb,EAAErsE,KAAK4M,EAAKlT,WAAY,CAAE2qB,KAAM,GAAI+iE,KAAM,QAASk5B,MAAO,UAC1Dj0C,EAAEgb,IAAIomD,EAAgBpmD,IAAIh5F,EAAIo/I,EAAgB7jI,MAAM,EAAG6jI,EAAgBpmD,IAAI74E,EAAIi/H,EAAgB5jI,OAAO,EAAI,IAC1GwiE,EAAEngE,MAAM,EAAG,EAAG,KAGlBmgE,EAAE0mC,KAAK,GAAG,KACNnmG,GAAQ,EACRihI,EAAa7tI,KAAO4M,EAAKlT,WACrBkT,GAAQ,GACRsgE,GAAO/8C,KAAK,eAAgB+8C,GAAOj4C,GAAIs4G,GAAcV,IACzB,OAApBA,EAASl0H,OACT0zD,EAAEtgB,GAAG,SAAUkgF,GAEf77G,QAAQj6B,IAAI02I,EAASp7I,QACzB,GAER,IAGJ,IAAK,IAAIzF,EAAI,EAAGA,EAAIq4B,EAAMr4B,IACtB,IAAK,IAAIk/E,EAAI,EAAGA,EAAI7mD,EAAM6mD,IAAK,CAC3B,IAAI4iE,EAAYzhE,EAAE8a,KAAK9a,EAAEib,SAASmD,IAAI+iD,EAAY,EAAI,GAAS,IAAJxhJ,EAASwhJ,EAAY,EAAI,GAAS,IAAJtiE,IACzFmB,EAAE3wE,IAAI,CACF2wE,EAAE8b,QAAQ,CACN9b,EAAE8a,KAAK,IAAK,KACZ9a,EAAE8a,KAAK,IAAK,KACZ9a,EAAE8a,KAAK,KAAM,KACb9a,EAAE8a,KAAK,KAAM,KACb9a,EAAE8a,KAAK,KAAM,KACb9a,EAAE8a,MAAM,KAAM,KACd9a,EAAE8a,MAAM,KAAM,KACd9a,EAAE8a,MAAM,KAAM,KACd9a,EAAE8a,MAAM,IAAK,KACb9a,EAAE8a,MAAM,IAAK,KACb9a,EAAE8a,MAAM,IAAK,KACb9a,EAAE8a,KAAK,IAAK,OAGhB9a,EAAE2b,QAAQ,GACV3b,EAAEwb,MAAM,IACRxb,EAAEngE,MAAMmgE,EAAE4b,IAAI,IAAK,IAAK,MACxB5b,EAAEqb,KAAK,CAACC,MAAO,IAAItb,EAAEi5D,QAAQ,CACzBj5D,EAAE8a,KAAK,KAAM,IACb9a,EAAE8a,KAAK,IAAK,IACZ9a,EAAE8a,KAAK,GAAI,KACX9a,EAAE8a,MAAM,GAAI,KACZ9a,EAAE8a,MAAM,IAAK,IACb9a,EAAE8a,MAAM,KAAM,IACd9a,EAAE8a,MAAM,IAAK,KACb9a,EAAE8a,KAAK,IAAK,SAEhB9a,EAAEgb,IAAIymD,GACNzB,EAAMrgJ,GAAGk/E,GACT,WAEJmB,EAAE3wE,IAAI,CACF2wE,EAAErsE,KAAKqsI,EAAMrgJ,GAAGk/E,GAAI,CAAC7mD,KAAM,GAAI+iE,KAAM,UACrC/a,EAAEgb,IAAIymD,GACNzhE,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAEwf,EAAE,IAEZ,CAEJxf,EAAEwgD,QAAO,KACLxgD,EAAEm8D,UAAU,CACR53C,IAAKN,EACL1mF,MAAO,GACPsC,MAAOmgE,EAAE4b,IAAI,IAAK,EAAG,GACrBkvB,QAAS,GACTgB,IAAK,SAAU,IAQvB9rC,EAAEm9C,cAAc,UAAW2jB,IACvB,GAAI9gE,EAAE84B,YAAY,UACR3lG,EAASzO,SAASo8I,GACpB,GAAI3tI,EAAS1T,OAAS,EAAG,CAErB,IAAI08B,EAAOhpB,EAASA,EAAS1T,OAAS,GAClCiiJ,EAASn3I,KAAK61F,IAAIjkE,EAAK6+D,IAAIoD,IAAI0iD,EAAO9lD,KAAKh5F,GAC3C2/I,EAASp3I,KAAK61F,IAAIjkE,EAAK6+D,IAAIoD,IAAI0iD,EAAO9lD,KAAK74E,GAE3Cu/H,GAAU,KACVC,GAAU,MAEVxuI,EAASjM,KAAK45I,GACd78C,EAAO/8F,KAAK45I,EAAO9lD,KAE3B,MACI7nF,EAASjM,KAAK45I,GACd78C,EAAO/8F,KAAK45I,EAAO9lD,IAG/B,IAGJhb,EAAEm6B,eAAe,QAAQ,KAErB,GADAlW,EAAS,GACL9wF,EAAS1T,OAAS,EAAG,CACrB,IAAImiJ,EAAO,GACXzuI,EAASqd,SAASswH,IACdc,GAAQd,EAAOliB,KAAK,EAAE,IAE1B2iB,EAAY5tI,KAAOiuI,EAAO,KAC1B/gE,GAAO/8C,KAAK,OAAQ+8C,GAAOj4C,GAAIg5G,GAAOpB,IACV,OAApBA,EAASl0H,QACT40H,GAAeV,EAASngF,MACxBihF,EAAa3tI,KAAO,UAAYutI,EAChCK,EAAY5tI,MAAQ6sI,EAASngF,OACF,aAApBmgF,EAASl0H,SAChBi1H,EAAY5tI,MAAQ,gBACxB,GAER,CACAR,EAAW,EAAE,IAGjB6sE,EAAEugD,UAAS,KACPpmC,GAAana,EAAGohE,EAAgBpmD,IAAI,GACtC,GAGV,CH/JI6mD,CAAU7hE,GACVi/D,GAAUj/D,GKvBC,SAAyBA,GACpCA,EAAEo9D,MAAM,cAAc,KAClB,IAAI0E,EAAmB,GACvBC,IAEA/hE,EAAE3wE,IAAI,CACF2wE,EAAErsE,KAAK,aAAc,CAAEqkB,KAAM,GAAI+iE,KAAM,UACvC/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAGg+E,EAAEib,SAAS94E,EAAI,KACnC69D,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGlB,IAAIkM,EAAQi0D,EAAE3wE,IAAI,CACd2wE,EAAErsE,KAAK,GAAI,CAAEqkB,KAAM,GAAI+iE,KAAM,UAC7B/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAGg+E,EAAEib,SAAS94E,EAAI,KACnC69D,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGdmiI,EAAkBhiE,EAAE3wE,IAAI,CACxB2wE,EAAEyb,KAAK,IAAK,IAAK,CAAEC,MAAM,IACzB1b,EAAEgb,IAAIhb,EAAEib,SAASmD,IAAI,EAAG,KACxBpe,EAAEkb,OAAO,UACTlb,EAAE2b,QAAQ,KAEd3b,EAAEwa,UAAUwnD,EAAgBhnD,KAE5B,IAAIinD,EAAOjiE,EAAE3wE,IAAI,CACb2wE,EAAErsE,KAAK,OAAQ,CAAEqkB,KAAM,GAAI+iE,KAAM,UACjC/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAI,IAAKg+E,EAAEib,SAAS94E,EAAI,KACzC69D,EAAEkb,OAAO,UACTlb,EAAEqb,OACFrb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAEwb,MAAM,GACR,gBAGA0mD,EAAUliE,EAAE3wE,IAAI,CAChB2wE,EAAErsE,KAAK,UAAW,CAAEqkB,KAAM,GAAI+iE,KAAM,UACpC/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAI,IAAKg+E,EAAEib,SAAS94E,EAAI,KACzC69D,EAAEkb,OAAO,UACTlb,EAAEqb,OACFrb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAEwb,MAAM,GACR,gBA2EJ,SAASumD,IACLlhE,GAAO/8C,KAAK,gBAAiB+8C,GAAOj4C,IAAK43G,IACrC,GAAwB,UAApBA,EAASl0H,OAET,YADAyX,QAAQj6B,IAAI02I,EAAS2B,QAIzB,IAAIC,EAAQ5B,EAAS4B,MACrB,IAAK,IAAIziJ,EAAI,EAAGA,EAAImiJ,EAAUriJ,OAAQE,IAClCmiJ,EAAUniJ,GAAGs6B,UAEjB,IAAK,IAAIt6B,EAAI,EAAGA,EAAIyiJ,EAAM3iJ,OAAQE,IAAK,CACnC,IAAIsgJ,EAAOmC,EAAMziJ,GACbsgJ,EAAKoC,cAAgBpC,EAAKP,oBACnB0C,EAAMziJ,EAErB,CACA,GAAqB,IAAjByiJ,EAAM3iJ,OACNssB,EAAMpY,KAAO,qBACbuuI,EAAQriI,MAAQmgE,EAAE4b,IAAI,IAAK,EAAG,GAC9B5b,EAAEqkD,KAAK,IAAK,IAAM6d,EAAQriI,MAAQmgE,EAAE4b,IAAI,EAAG,EAAG,SAC3C,CACH7vE,EAAMpY,KAAO,GACb,IAAK,IAAIhU,EAAI,EAAGA,EAAIyiJ,EAAM3iJ,OAAQE,IAAK,CACnC,IAAIsgJ,EAAOmC,EAAMziJ,GACb2iJ,EAAWtiE,EAAE3wE,IAAI,CACjB2wE,EAAErsE,KAAKssI,EAAKv+I,KAAO,KAAOu+I,EAAKoC,YAAc,IAAMpC,EAAKP,YAAc,IAAK,CAAE1nH,KAAM,GAAI+iE,KAAM,UAC7F/a,EAAEkb,OAAO,UACTlb,EAAEgb,IAAIgnD,EAAgBhnD,IAAIh5F,EAAGggJ,EAAgBhnD,IAAI74E,EAAI,IAAU,GAAJxiB,GAC3DqgF,EAAEqb,OACFrb,EAAEwb,MAAM,GACRxb,EAAEngE,MAAMmgE,EAAE4b,IAAI,EAAG,EAAG,IACpB,OACA,CACIgkD,QAASK,EAAKL,WAGtBkC,EAAU56I,KAAKo7I,EACnB,CACJ,IAER,CAjHAL,EAAK52H,SAAQ,KACT20D,EAAEtgB,GAAG,OAAO,IAGhBmhB,GAAO/8C,KAAK,aAAcs+G,IAClBA,EAAM3iJ,MACV,IAGJyiJ,EAAQ72H,SAAQ,KACZ02H,GAAc,IAGlB/hE,EAAE30D,QAAQ,QAAS40H,IACfp/D,GAAO/8C,KAAK,YAAa+8C,GAAOj4C,GAAIq3G,EAAKL,SAAUY,IACvB,mBAApBA,EAASl0H,QACTP,EAAMpY,KAAO,SAAWssI,EAAKL,QAAU,cACvC/+D,GAAO/8C,KAAK,gBAAiB+8C,GAAOj4C,KACT,cAApB43G,EAASl0H,QAChBP,EAAMpY,KAAO,SAAWssI,EAAKL,QAAU,YACvC/+D,GAAO/8C,KAAK,gBAAiB+8C,GAAOj4C,KAEpCo3C,EAAEtgB,GAAG,OACT,GACF,IAGNsgB,EAAEi9C,QAAQ,eAAgBmjB,IACtBpgE,EAAEqa,MACE+lD,EAAI5kD,MACJxb,EAAE8a,KAAK,KACP,IACCulD,GAAaD,EAAI5kD,MAAQ6kD,GAC1BrgE,EAAEya,QAAQC,OACb,IAGL1a,EAAEq9C,WAAW,eAAgB+iB,IACzBpgE,EAAEqa,MACE+lD,EAAI5kD,MACJxb,EAAE8a,KAAK,GACP,IACCulD,GAAaD,EAAI5kD,MAAQ6kD,GAC1BrgE,EAAEya,QAAQC,OACb,IAGL1a,EAAEi9C,QAAQ,QAASmjB,IACfpgE,EAAEqa,MACE+lD,EAAI5kD,MACJxb,EAAE8a,KAAK,KACP,IACCulD,GAAaD,EAAI5kD,MAAQ6kD,GAC1BrgE,EAAEya,QAAQC,OACb,IAGL1a,EAAEq9C,WAAW,QAAS+iB,IAClBpgE,EAAEqa,MACE+lD,EAAI5kD,MACJxb,EAAE8a,KAAK,GACP,IACCulD,GAAaD,EAAI5kD,MAAQ6kD,GAC1BrgE,EAAEya,QAAQC,OACb,IAGL1a,EAAEugD,UAAS,KACPpmC,GAAana,EAAGgiE,EAAgBhnD,KAChCf,GAAcja,EAAE,GA4CpB,GAER,CL1IIuiE,CAAgBviE,GAChBsgE,GAAetgE,GhIzBJ,SAA0BA,GACrCA,EAAEo9D,MAAM,eAAe,KAEnB,IAAIhsE,EAAa4O,EAAE3wE,IAAI,CACnB2wE,EAAEyb,KAAKzb,EAAEziE,QAASyiE,EAAExiE,UACpBwiE,EAAEkb,OAAO,UACTlb,EAAEgb,IAAIhb,EAAEib,YAGZd,GAAana,EAAG5O,EAAW4pB,KAC3Bf,GAAcja,GAEdA,EAAE3wE,IAAI,CACF2wE,EAAErsE,KAAK,gBAAiB,CAAEqkB,KAAM,GAAI+iE,KAAM,UAC1C/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAGg+E,EAAEib,SAAS94E,EAAI,KACnC69D,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGlB,IAAIgrF,EAAS7qB,EAAE3wE,IAAI,CACf2wE,EAAErsE,KAAK,SAAU,CAAEqkB,KAAM,GAAI+iE,KAAM,UACnC/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAI,IAAKg+E,EAAEib,SAAS94E,EAAI,KACzC69D,EAAEkb,OAAO,UACTlb,EAAEqb,OACFrb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAEwb,MAAM,GACR,gBAGAp+D,EAAS4iD,EAAE3wE,IAAI,CACf2wE,EAAErsE,KAAK,SAAU,CAAEqkB,KAAM,GAAI+iE,KAAM,UACnC/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAI,IAAKg+E,EAAEib,SAAS94E,EAAI,KACzC69D,EAAEkb,OAAO,UACTlb,EAAEqb,OACFrb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAEwb,MAAM,GACR,gBAGJ,MAAM+kD,EAAS5lD,GAAY3a,GAE3BA,EAAEi9C,QAAQ,eAAgBmjB,IACtBpgE,EAAEqa,MACE+lD,EAAI5kD,MACJxb,EAAE8a,KAAK,KACP,IACCulD,GAAaD,EAAI5kD,MAAQ6kD,GAC1BrgE,EAAEya,QAAQC,OACb,IAIL1a,EAAEq9C,WAAW,eAAgB+iB,IACzBpgE,EAAEqa,MACE+lD,EAAI5kD,MACJxb,EAAE8a,KAAK,GACP,IACCulD,GAAaD,EAAI5kD,MAAQ6kD,GAC1BrgE,EAAEya,QAAQC,OACb,IAGLmQ,EAAOx/E,SAAQ,KACX20D,EAAEtgB,GAAG,OAAO,IAGhBtiC,EAAO/R,SAAQ,KACX,IAAIm3H,EAAY,CACZ9gJ,KAAM6+I,EAAO,GAAG5sI,KAChB+rI,YAAarjD,SAASkkD,EAAO,GAAG5sI,MAChCgsI,WAAYtjD,SAASkkD,EAAO,GAAG5sI,KAAKnP,MAAM,KAAK,IAC/C23F,WAAYE,SAASkkD,EAAO,GAAG5sI,KAAKnP,MAAM,KAAK,KAGnDq8E,GAAO/8C,KAAK,cAAe+8C,GAAOj4C,GAAI45G,GAAYhC,IACtB,OAApBA,EAASl0H,OACT0zD,EAAEtgB,GAAG,QAEL37B,QAAQj6B,IAAI02I,EAASp7I,QACzB,GACF,IAGN46E,EAAEugD,UAAS,KACPpmC,GAAana,EAAG5O,EAAW4pB,KAC3Bf,GAAcja,EAAE,GAClB,GAEV,CgI9DIyiE,CAAiBziE,GM1BN,SAAqBA,GAChCA,EAAEo9D,MAAM,UAAWwC,IAEf/+D,GAAO/8C,KAAK,gBAAiB+8C,GAAOj4C,GAAIg3G,GAExC,IAAI8C,EAA6B,GAEjC1iE,EAAE3wE,IAAI,CACF2wE,EAAErsE,KAAK,eAAgB,CAAEqkB,KAAM,GAAI+iE,KAAM,UACzC/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAGg+E,EAAEib,SAAS94E,EAAI,KACnC69D,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGlB,IAAI8iI,EAAmB3iE,EAAE3wE,IAAI,CACzB2wE,EAAEyb,KAAK,IAAK,IAAK,CAAEC,MAAM,IACzB1b,EAAEgb,IAAIhb,EAAEib,SAASmD,IAAI,EAAG,KACxBpe,EAAEkb,OAAO,UACTlb,EAAE2b,QAAQ,KAGVsmD,EAAOjiE,EAAE3wE,IAAI,CACb2wE,EAAErsE,KAAK,OAAQ,CAAEqkB,KAAM,GAAI+iE,KAAM,UACjC/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAGg+E,EAAEib,SAAS94E,EAAI,KACnC69D,EAAEkb,OAAO,UACTlb,EAAEqb,OACFrb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAEwb,MAAM,GACR,gBAGJ3a,GAAO1B,IAAI,iBAAiBH,GAAG,iBAAkBx4E,IAC7Ck8I,EAASl8I,CAAI,IAGjBy7I,EAAK52H,SAAQ,KACT20D,EAAEtgB,GAAG,OAAO,IAGhBsgB,EAAEi9C,QAAQ,eAAgBmjB,IACtBpgE,EAAEqa,MACE+lD,EAAI5kD,MACJxb,EAAE8a,KAAK,KACP,IACCulD,GAAaD,EAAI5kD,MAAQ6kD,GAC1BrgE,EAAEya,QAAQC,OACb,IAGL1a,EAAEq9C,WAAW,eAAgB+iB,IACzBpgE,EAAEqa,MACE+lD,EAAI5kD,MACJxb,EAAE8a,KAAK,GACP,IACCulD,GAAaD,EAAI5kD,MAAQ6kD,GAC1BrgE,EAAEya,QAAQC,OACb,IAGL1a,EAAEugD,UAAS,KACP,IAAI1hD,EAAI,EACR,IAAK,IAAIl/E,KAAK+iJ,EACV1iE,EAAE+7D,SAAS,CACP7gD,OAAQ,SACRvnF,KAAMkrE,EAAI,EAAI,KAAO6jE,EAAO/iJ,GAAG,GAAK,KAAO+iJ,EAAO/iJ,GAAG,GACrDq4B,KAAM,GACN+iE,KAAM,QACNC,IAAKhb,EAAE8a,KAAK6nD,EAAiB3nD,IAAIh5F,EAAG2gJ,EAAiB3nD,IAAI74E,EAAI,IAAU,GAAJ08D,GACnEh/D,MAAOmgE,EAAE4b,IAAI,EAAG,EAAG,KAEvB/c,GAAK,EAETsb,GAAana,EAAG2iE,EAAiB3nD,KACjCf,GAAcja,EAAE,GAClB,GAEV,CNjDI4iE,CAAY5iE,GO3BD,SAAoBA,GAC/BA,EAAEo9D,MAAM,SAAS,KAEb,IAAIhsE,EAAa4O,EAAE3wE,IAAI,CACnB2wE,EAAEyb,KAAKzb,EAAEziE,QAASyiE,EAAExiE,UACpBwiE,EAAEkb,OAAO,UACTlb,EAAEgb,IAAIhb,EAAEib,YAGZd,GAAana,EAAG5O,EAAW4pB,KAC3Bf,GAAcja,GAEd,IAAI6iE,EAkEZ,SAAmB7iE,GACf,IAAI6iE,EAAQ,GACRC,EAAc,CAAC,cAAe,gBAAiB,eAAgB,YAAa,iBAAkB,cAAe,kBACjH,IAAK,IAAInjJ,EAAI,EAAGA,EAAImjJ,EAAYrjJ,OAAQE,IAAK,CACzCqgF,EAAE3wE,IAAI,CACF2wE,EAAErsE,KAAKmvI,EAAYnjJ,GAAK,IAAK,CAAEq4B,KAAM,GAAI+iE,KAAM,UAC/C/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAGg+E,EAAEib,SAAS94E,EAAI,IAAU,GAAJxiB,GACzCqgF,EAAEkb,OAAO,SACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGlB,IAAIkjI,EAAO/iE,EAAE3wE,IAAI,CACb2wE,EAAErsE,KAAK,GAAI,CAAEqkB,KAAM,GAAI+iE,KAAM,UAC7B/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAI,GAAIg+E,EAAEib,SAAS94E,EAAI,IAAU,GAAJxiB,GAC9CqgF,EAAEkb,OAAO,QACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGlBgjI,EAAM37I,KAAK67I,EACf,CAEA,OAAOF,CACX,CAxFoBG,CAAUhjE,GAElBx0C,EAAQw0C,EAAE3wE,IAAI,CACd2wE,EAAErsE,KAAK,aAAc,CAAEqkB,KAAM,GAAI+iE,KAAM,UACvC/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAGg+E,EAAEib,SAAS94E,EAAI,KACnC69D,EAAEkb,OAAO,UACTlb,EAAEngE,MAAM,EAAG,EAAG,KAGPmgE,EAAE3wE,IAAI,CACb2wE,EAAErsE,KAAK,OAAQ,CAAEqkB,KAAM,GAAI+iE,KAAM,UACjC/a,EAAEgb,IAAIhb,EAAEib,SAASj5F,EAAIg+E,EAAEib,SAAS94E,EAAI,KACpC69D,EAAEkb,OAAO,UACTlb,EAAEqb,OACFrb,EAAEngE,MAAM,EAAG,EAAG,GACdmgE,EAAEwb,MAAM,GACR,gBAGCnwE,SAAQ,KACT20D,EAAEtgB,GAAG,OAAO,IAGhBsgB,EAAEi9C,QAAQ,eAAgBmjB,IACtBpgE,EAAEqa,MACE+lD,EAAI5kD,MACJxb,EAAE8a,KAAK,KACP,IACCulD,GAAaD,EAAI5kD,MAAQ6kD,GAC1BrgE,EAAEya,QAAQC,OACb,IAGL1a,EAAEq9C,WAAW,eAAgB+iB,IACzBpgE,EAAEqa,MACE+lD,EAAI5kD,MACJxb,EAAE8a,KAAK,GACP,IACCulD,GAAaD,EAAI5kD,MAAQ6kD,GAC1BrgE,EAAEya,QAAQC,OACb,IAGL7Z,GAAO/8C,KAAK,gBAAiB+8C,GAAOj4C,IAAK43G,IACrC,GAAwB,OAApBA,EAASl0H,OAAiB,CAC1B,IAAI+sE,EAAOmnD,EAASnnD,KACpB7tD,EAAM73B,MAAQ0lF,EAAK53F,YACnBohJ,EAAM,GAAGlvI,KAAO0lF,EAAK6nD,YACrB2B,EAAM,GAAGlvI,KAAO0lF,EAAK4pD,cACrBJ,EAAM,GAAGlvI,KAAO0lF,EAAK6pD,aACrBL,EAAM,GAAGlvI,KAAO0lF,EAAK8pD,UACrBN,EAAM,GAAGlvI,KAAO0lF,EAAK+pD,mBAAmBhkD,QAAQ,GAChDyjD,EAAM,GAAGlvI,KAAO0lF,EAAKgqD,YACrBR,EAAM,GAAGlvI,KAAO0lF,EAAKiqD,mBAAmBlkD,QAAQ,EACpD,MACIr7D,QAAQj6B,IAAI02I,EAASp7I,QACzB,IAGJ46E,EAAEugD,UAAS,KACPpmC,GAAana,EAAG5O,EAAW4pB,KAC3Bf,GAAcja,EAAE,GAClB,GAEV,CPhDIujE,CAAWvjE,GAEdA,EAAEtgB,GAAG,OACN,CDhBA8jF","sources":["../node_modules/react-dom/cjs/react-dom-client.production.js","../node_modules/react/index.js","../node_modules/react/cjs/react.production.js","../node_modules/react-router/node_modules/cookie/src/index.ts","../node_modules/react-dom/client.js","../node_modules/react/jsx-runtime.js","../node_modules/react-dom/cjs/react-dom.production.js","../node_modules/react/cjs/react-jsx-runtime.production.js","../node_modules/scheduler/index.js","../node_modules/scheduler/cjs/scheduler.production.js","../node_modules/react-dom/index.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../node_modules/react-router/dist/development/chunk-K6CSEXPM.mjs","../node_modules/engine.io-parser/build/esm/commons.js","../node_modules/engine.io-parser/build/esm/encodePacket.browser.js","../node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js","../node_modules/engine.io-parser/build/esm/decodePacket.browser.js","../node_modules/engine.io-parser/build/esm/index.js","../node_modules/@socket.io/component-emitter/lib/esm/index.js","../node_modules/engine.io-client/build/esm/globals.js","../node_modules/engine.io-client/build/esm/util.js","../node_modules/engine.io-client/build/esm/transport.js","../node_modules/engine.io-client/build/esm/contrib/parseqs.js","../node_modules/engine.io-client/build/esm/transports/polling.js","../node_modules/engine.io-client/build/esm/contrib/has-cors.js","../node_modules/engine.io-client/build/esm/transports/polling-xhr.js","../node_modules/engine.io-client/build/esm/transports/websocket.js","../node_modules/engine.io-client/build/esm/transports/index.js","../node_modules/engine.io-client/build/esm/transports/webtransport.js","../node_modules/engine.io-client/build/esm/contrib/parseuri.js","../node_modules/engine.io-client/build/esm/socket.js","../node_modules/socket.io-parser/build/esm/is-binary.js","../node_modules/socket.io-parser/build/esm/binary.js","../node_modules/socket.io-parser/build/esm/index.js","../node_modules/socket.io-client/build/esm/on.js","../node_modules/socket.io-client/build/esm/socket.js","../node_modules/socket.io-client/build/esm/contrib/backo2.js","../node_modules/socket.io-client/build/esm/manager.js","../node_modules/socket.io-client/build/esm/index.js","../node_modules/socket.io-client/build/esm/url.js","components/socket.tsx","pages/ReactUI.tsx","pages/Login.tsx","utils/camUtils.tsx","scenes/create_room.tsx","../node_modules/kaplay/src/math/color.ts","../node_modules/kaplay/src/math/math.ts","../node_modules/kaplay/src/constants.ts","../node_modules/kaplay/src/events/events.ts","../node_modules/kaplay/src/utils/asserts.ts","../node_modules/kaplay/src/utils/binaryheap.ts","../node_modules/kaplay/src/utils/dataURL.ts","../node_modules/kaplay/src/utils/deepEq.ts","../node_modules/kaplay/src/utils/log.ts","../node_modules/kaplay/src/utils/numbers.ts","../node_modules/kaplay/src/utils/overload.ts","../node_modules/kaplay/src/utils/runes.ts","../node_modules/kaplay/src/utils/sets.ts","../node_modules/kaplay/src/app/app.ts","../node_modules/kaplay/src/utils/uid.ts","../node_modules/kaplay/src/app/inputBindings.ts","../node_modules/kaplay/src/data/gamepad.json","../node_modules/kaplay/src/app/frame.ts","../node_modules/kaplay/src/gfx/anchor.ts","../node_modules/kaplay/src/math/easings.ts","../node_modules/kaplay/src/math/navigation.ts","../node_modules/kaplay/src/math/navigationmesh.ts","../node_modules/kaplay/src/math/various.ts","../node_modules/kaplay/src/gfx/bg.ts","../node_modules/kaplay/src/gfx/stack.ts","../node_modules/kaplay/src/gfx/texPacker.ts","../node_modules/kaplay/src/assets/utils.ts","../node_modules/kaplay/src/assets/asset.ts","../node_modules/kaplay/src/assets/sprite.ts","../node_modules/kaplay/src/assets/aseprite.ts","../node_modules/kaplay/src/assets/font.ts","../node_modules/kaplay/src/assets/bitmapFont.ts","../node_modules/kaplay/src/assets/pedit.ts","../node_modules/kaplay/src/assets/shader.ts","../node_modules/kaplay/src/assets/sound.ts","../node_modules/kaplay/src/assets/spriteAtlas.ts","../node_modules/kaplay/src/gfx/draw/drawRaw.ts","../node_modules/kaplay/src/gfx/draw/drawPolygon.ts","../node_modules/kaplay/src/gfx/draw/drawEllipse.ts","../node_modules/kaplay/src/gfx/draw/drawCircle.ts","../node_modules/kaplay/src/gfx/draw/drawLine.ts","../node_modules/kaplay/src/gfx/draw/drawCurve.ts","../node_modules/kaplay/src/gfx/draw/drawBezier.ts","../node_modules/kaplay/src/gfx/gfx.ts","../node_modules/kaplay/src/gfx/formatText.ts","../node_modules/kaplay/src/gfx/draw/drawUVQuad.ts","../node_modules/kaplay/src/gfx/draw/drawFormattedText.ts","../node_modules/kaplay/src/gfx/draw/drawRect.ts","../node_modules/kaplay/src/gfx/draw/drawUnscaled.ts","../node_modules/kaplay/src/gfx/draw/drawInspectText.ts","../node_modules/kaplay/src/gfx/draw/drawTriangle.ts","../node_modules/kaplay/src/gfx/draw/drawDebug.ts","../node_modules/kaplay/src/gfx/draw/drawFrame.ts","../node_modules/kaplay/src/gfx/draw/drawLoadingScreen.ts","../node_modules/kaplay/src/gfx/draw/drawStenciled.ts","../node_modules/kaplay/src/gfx/draw/drawMasked.ts","../node_modules/kaplay/src/gfx/draw/drawTexture.ts","../node_modules/kaplay/src/gfx/draw/drawSprite.ts","../node_modules/kaplay/src/gfx/draw/drawSubstracted.ts","../node_modules/kaplay/src/gfx/draw/drawText.ts","../node_modules/kaplay/src/gfx/gfxApp.ts","../node_modules/kaplay/src/gfx/viewport.ts","../node_modules/kaplay/src/game/utils.ts","../node_modules/kaplay/src/components/draw/circle.ts","../node_modules/kaplay/src/components/draw/color.ts","../node_modules/kaplay/src/components/draw/drawon.ts","../node_modules/kaplay/src/components/draw/fadeIn.ts","../node_modules/kaplay/src/components/draw/mask.ts","../node_modules/kaplay/src/components/draw/opacity.ts","../node_modules/kaplay/src/components/draw/outline.ts","../node_modules/kaplay/src/components/draw/particles.ts","../node_modules/kaplay/src/components/draw/polygon.ts","../node_modules/kaplay/src/components/draw/raycast.ts","../node_modules/kaplay/src/components/draw/rect.ts","../node_modules/kaplay/src/components/draw/shader.ts","../node_modules/kaplay/src/game/level.ts","../node_modules/kaplay/src/events/globalEvents.ts","../node_modules/kaplay/src/game/camera.ts","../node_modules/kaplay/src/components/transform/fixed.ts","../node_modules/kaplay/src/game/make.ts","../node_modules/kaplay/src/game/game.ts","../node_modules/kaplay/src/game/gravity.ts","../node_modules/kaplay/src/audio/audio.ts","../node_modules/kaplay/src/audio/playMusic.ts","../node_modules/kaplay/src/audio/play.ts","../node_modules/kaplay/src/audio/burp.ts","../node_modules/kaplay/src/audio/volume.ts","../node_modules/kaplay/src/game/initEvents.ts","../node_modules/kaplay/src/game/kaboom.ts","../node_modules/kaplay/src/game/layers.ts","../node_modules/kaplay/src/game/object.ts","../node_modules/kaplay/src/game/scenes.ts","../node_modules/kaplay/src/components/draw/sprite.ts","../node_modules/kaplay/src/components/draw/text.ts","../node_modules/kaplay/src/components/draw/uvquad.ts","../node_modules/kaplay/src/components/level/agent.ts","../node_modules/kaplay/src/components/level/pathfinder.ts","../node_modules/kaplay/src/components/level/patrol.ts","../node_modules/kaplay/src/components/level/sentry.ts","../node_modules/kaplay/src/components/level/tile.ts","../node_modules/kaplay/src/components/misc/animate.ts","../node_modules/kaplay/src/components/misc/boom.ts","../node_modules/kaplay/src/components/misc/health.ts","../node_modules/kaplay/src/components/misc/lifespan.ts","../node_modules/kaplay/src/components/misc/named.ts","../node_modules/kaplay/src/components/misc/state.ts","../node_modules/kaplay/src/components/misc/stay.ts","../node_modules/kaplay/src/components/misc/textInput.ts","../node_modules/kaplay/src/components/misc/timer.ts","../node_modules/kaplay/src/components/physics/area.ts","../node_modules/kaplay/src/components/physics/body.ts","../node_modules/kaplay/src/components/physics/doubleJump.ts","../node_modules/kaplay/src/components/physics/effectors.ts","../node_modules/kaplay/src/components/transform/anchor.ts","../node_modules/kaplay/src/components/transform/follow.ts","../node_modules/kaplay/src/components/transform/layer.ts","../node_modules/kaplay/src/components/transform/move.ts","../node_modules/kaplay/src/components/transform/offscreen.ts","../node_modules/kaplay/src/components/transform/pos.ts","../node_modules/kaplay/src/components/transform/rotate.ts","../node_modules/kaplay/src/components/transform/scale.ts","../node_modules/kaplay/src/components/transform/z.ts","../node_modules/kaplay/src/kaplay.ts","../node_modules/kaplay/src/index.ts","scenes/room.tsx","scenes/join_room.tsx","index.tsx","initGame.tsx","kaplayCtx.tsx","scenes/menu.tsx","scenes/game.tsx","components/board.tsx","scenes/rooms_list.tsx","scenes/scores.tsx","scenes/stats.tsx"],"sourcesContent":["/**\n * @license React\n * react-dom-client.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n\"use strict\";\nvar Scheduler = require(\"scheduler\"),\n  React = require(\"react\"),\n  ReactDOM = require(\"react-dom\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction isValidContainer(node) {\n  return !(\n    !node ||\n    (1 !== node.nodeType && 9 !== node.nodeType && 11 !== node.nodeType)\n  );\n}\nvar REACT_LEGACY_ELEMENT_TYPE = Symbol.for(\"react.element\"),\n  REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_PROVIDER_TYPE = Symbol.for(\"react.provider\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nSymbol.for(\"react.scope\");\nSymbol.for(\"react.debug_trace_mode\");\nvar REACT_OFFSCREEN_TYPE = Symbol.for(\"react.offscreen\");\nSymbol.for(\"react.legacy_hidden\");\nSymbol.for(\"react.tracing_marker\");\nvar REACT_MEMO_CACHE_SENTINEL = Symbol.for(\"react.memo_cache_sentinel\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\");\nfunction getComponentNameFromType(type) {\n  if (null == type) return null;\n  if (\"function\" === typeof type)\n    return type.$$typeof === REACT_CLIENT_REFERENCE\n      ? null\n      : type.displayName || type.name || null;\n  if (\"string\" === typeof type) return type;\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return \"Fragment\";\n    case REACT_PORTAL_TYPE:\n      return \"Portal\";\n    case REACT_PROFILER_TYPE:\n      return \"Profiler\";\n    case REACT_STRICT_MODE_TYPE:\n      return \"StrictMode\";\n    case REACT_SUSPENSE_TYPE:\n      return \"Suspense\";\n    case REACT_SUSPENSE_LIST_TYPE:\n      return \"SuspenseList\";\n  }\n  if (\"object\" === typeof type)\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        return (type.displayName || \"Context\") + \".Provider\";\n      case REACT_CONSUMER_TYPE:\n        return (type._context.displayName || \"Context\") + \".Consumer\";\n      case REACT_FORWARD_REF_TYPE:\n        var innerType = type.render;\n        type = type.displayName;\n        type ||\n          ((type = innerType.displayName || innerType.name || \"\"),\n          (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n        return type;\n      case REACT_MEMO_TYPE:\n        return (\n          (innerType = type.displayName || null),\n          null !== innerType\n            ? innerType\n            : getComponentNameFromType(type.type) || \"Memo\"\n        );\n      case REACT_LAZY_TYPE:\n        innerType = type._payload;\n        type = type._init;\n        try {\n          return getComponentNameFromType(type(innerType));\n        } catch (x) {}\n    }\n  return null;\n}\nvar ReactSharedInternals =\n    React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  assign = Object.assign,\n  prefix,\n  suffix;\nfunction describeBuiltInComponentFrame(name) {\n  if (void 0 === prefix)\n    try {\n      throw Error();\n    } catch (x) {\n      var match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || \"\";\n      suffix =\n        -1 < x.stack.indexOf(\"\\n    at\")\n          ? \" (<anonymous>)\"\n          : -1 < x.stack.indexOf(\"@\")\n            ? \"@unknown:0:0\"\n            : \"\";\n    }\n  return \"\\n\" + prefix + name + suffix;\n}\nvar reentry = !1;\nfunction describeNativeComponentFrame(fn, construct) {\n  if (!fn || reentry) return \"\";\n  reentry = !0;\n  var previousPrepareStackTrace = Error.prepareStackTrace;\n  Error.prepareStackTrace = void 0;\n  try {\n    var RunInRootFrame = {\n      DetermineComponentFrameRoot: function () {\n        try {\n          if (construct) {\n            var Fake = function () {\n              throw Error();\n            };\n            Object.defineProperty(Fake.prototype, \"props\", {\n              set: function () {\n                throw Error();\n              }\n            });\n            if (\"object\" === typeof Reflect && Reflect.construct) {\n              try {\n                Reflect.construct(Fake, []);\n              } catch (x) {\n                var control = x;\n              }\n              Reflect.construct(fn, [], Fake);\n            } else {\n              try {\n                Fake.call();\n              } catch (x$0) {\n                control = x$0;\n              }\n              fn.call(Fake.prototype);\n            }\n          } else {\n            try {\n              throw Error();\n            } catch (x$1) {\n              control = x$1;\n            }\n            (Fake = fn()) &&\n              \"function\" === typeof Fake.catch &&\n              Fake.catch(function () {});\n          }\n        } catch (sample) {\n          if (sample && control && \"string\" === typeof sample.stack)\n            return [sample.stack, control.stack];\n        }\n        return [null, null];\n      }\n    };\n    RunInRootFrame.DetermineComponentFrameRoot.displayName =\n      \"DetermineComponentFrameRoot\";\n    var namePropDescriptor = Object.getOwnPropertyDescriptor(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      \"name\"\n    );\n    namePropDescriptor &&\n      namePropDescriptor.configurable &&\n      Object.defineProperty(\n        RunInRootFrame.DetermineComponentFrameRoot,\n        \"name\",\n        { value: \"DetermineComponentFrameRoot\" }\n      );\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n      sampleStack = _RunInRootFrame$Deter[0],\n      controlStack = _RunInRootFrame$Deter[1];\n    if (sampleStack && controlStack) {\n      var sampleLines = sampleStack.split(\"\\n\"),\n        controlLines = controlStack.split(\"\\n\");\n      for (\n        namePropDescriptor = RunInRootFrame = 0;\n        RunInRootFrame < sampleLines.length &&\n        !sampleLines[RunInRootFrame].includes(\"DetermineComponentFrameRoot\");\n\n      )\n        RunInRootFrame++;\n      for (\n        ;\n        namePropDescriptor < controlLines.length &&\n        !controlLines[namePropDescriptor].includes(\n          \"DetermineComponentFrameRoot\"\n        );\n\n      )\n        namePropDescriptor++;\n      if (\n        RunInRootFrame === sampleLines.length ||\n        namePropDescriptor === controlLines.length\n      )\n        for (\n          RunInRootFrame = sampleLines.length - 1,\n            namePropDescriptor = controlLines.length - 1;\n          1 <= RunInRootFrame &&\n          0 <= namePropDescriptor &&\n          sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor];\n\n        )\n          namePropDescriptor--;\n      for (\n        ;\n        1 <= RunInRootFrame && 0 <= namePropDescriptor;\n        RunInRootFrame--, namePropDescriptor--\n      )\n        if (sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor]) {\n          if (1 !== RunInRootFrame || 1 !== namePropDescriptor) {\n            do\n              if (\n                (RunInRootFrame--,\n                namePropDescriptor--,\n                0 > namePropDescriptor ||\n                  sampleLines[RunInRootFrame] !==\n                    controlLines[namePropDescriptor])\n              ) {\n                var frame =\n                  \"\\n\" +\n                  sampleLines[RunInRootFrame].replace(\" at new \", \" at \");\n                fn.displayName &&\n                  frame.includes(\"<anonymous>\") &&\n                  (frame = frame.replace(\"<anonymous>\", fn.displayName));\n                return frame;\n              }\n            while (1 <= RunInRootFrame && 0 <= namePropDescriptor);\n          }\n          break;\n        }\n    }\n  } finally {\n    (reentry = !1), (Error.prepareStackTrace = previousPrepareStackTrace);\n  }\n  return (previousPrepareStackTrace = fn ? fn.displayName || fn.name : \"\")\n    ? describeBuiltInComponentFrame(previousPrepareStackTrace)\n    : \"\";\n}\nfunction describeFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n    case 27:\n    case 5:\n      return describeBuiltInComponentFrame(fiber.type);\n    case 16:\n      return describeBuiltInComponentFrame(\"Lazy\");\n    case 13:\n      return describeBuiltInComponentFrame(\"Suspense\");\n    case 19:\n      return describeBuiltInComponentFrame(\"SuspenseList\");\n    case 0:\n    case 15:\n      return (fiber = describeNativeComponentFrame(fiber.type, !1)), fiber;\n    case 11:\n      return (\n        (fiber = describeNativeComponentFrame(fiber.type.render, !1)), fiber\n      );\n    case 1:\n      return (fiber = describeNativeComponentFrame(fiber.type, !0)), fiber;\n    default:\n      return \"\";\n  }\n}\nfunction getStackByFiberInDevAndProd(workInProgress) {\n  try {\n    var info = \"\";\n    do\n      (info += describeFiber(workInProgress)),\n        (workInProgress = workInProgress.return);\n    while (workInProgress);\n    return info;\n  } catch (x) {\n    return \"\\nError generating stack: \" + x.message + \"\\n\" + x.stack;\n  }\n}\nfunction getNearestMountedFiber(fiber) {\n  var node = fiber,\n    nearestMounted = fiber;\n  if (fiber.alternate) for (; node.return; ) node = node.return;\n  else {\n    fiber = node;\n    do\n      (node = fiber),\n        0 !== (node.flags & 4098) && (nearestMounted = node.return),\n        (fiber = node.return);\n    while (fiber);\n  }\n  return 3 === node.tag ? nearestMounted : null;\n}\nfunction getSuspenseInstanceFromFiber(fiber) {\n  if (13 === fiber.tag) {\n    var suspenseState = fiber.memoizedState;\n    null === suspenseState &&\n      ((fiber = fiber.alternate),\n      null !== fiber && (suspenseState = fiber.memoizedState));\n    if (null !== suspenseState) return suspenseState.dehydrated;\n  }\n  return null;\n}\nfunction assertIsMounted(fiber) {\n  if (getNearestMountedFiber(fiber) !== fiber)\n    throw Error(formatProdErrorMessage(188));\n}\nfunction findCurrentFiberUsingSlowPath(fiber) {\n  var alternate = fiber.alternate;\n  if (!alternate) {\n    alternate = getNearestMountedFiber(fiber);\n    if (null === alternate) throw Error(formatProdErrorMessage(188));\n    return alternate !== fiber ? null : fiber;\n  }\n  for (var a = fiber, b = alternate; ; ) {\n    var parentA = a.return;\n    if (null === parentA) break;\n    var parentB = parentA.alternate;\n    if (null === parentB) {\n      b = parentA.return;\n      if (null !== b) {\n        a = b;\n        continue;\n      }\n      break;\n    }\n    if (parentA.child === parentB.child) {\n      for (parentB = parentA.child; parentB; ) {\n        if (parentB === a) return assertIsMounted(parentA), fiber;\n        if (parentB === b) return assertIsMounted(parentA), alternate;\n        parentB = parentB.sibling;\n      }\n      throw Error(formatProdErrorMessage(188));\n    }\n    if (a.return !== b.return) (a = parentA), (b = parentB);\n    else {\n      for (var didFindChild = !1, child$2 = parentA.child; child$2; ) {\n        if (child$2 === a) {\n          didFindChild = !0;\n          a = parentA;\n          b = parentB;\n          break;\n        }\n        if (child$2 === b) {\n          didFindChild = !0;\n          b = parentA;\n          a = parentB;\n          break;\n        }\n        child$2 = child$2.sibling;\n      }\n      if (!didFindChild) {\n        for (child$2 = parentB.child; child$2; ) {\n          if (child$2 === a) {\n            didFindChild = !0;\n            a = parentB;\n            b = parentA;\n            break;\n          }\n          if (child$2 === b) {\n            didFindChild = !0;\n            b = parentB;\n            a = parentA;\n            break;\n          }\n          child$2 = child$2.sibling;\n        }\n        if (!didFindChild) throw Error(formatProdErrorMessage(189));\n      }\n    }\n    if (a.alternate !== b) throw Error(formatProdErrorMessage(190));\n  }\n  if (3 !== a.tag) throw Error(formatProdErrorMessage(188));\n  return a.stateNode.current === a ? fiber : alternate;\n}\nfunction findCurrentHostFiberImpl(node) {\n  var tag = node.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return node;\n  for (node = node.child; null !== node; ) {\n    tag = findCurrentHostFiberImpl(node);\n    if (null !== tag) return tag;\n    node = node.sibling;\n  }\n  return null;\n}\nvar isArrayImpl = Array.isArray,\n  ReactDOMSharedInternals =\n    ReactDOM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  sharedNotPendingObject = {\n    pending: !1,\n    data: null,\n    method: null,\n    action: null\n  },\n  valueStack = [],\n  index = -1;\nfunction createCursor(defaultValue) {\n  return { current: defaultValue };\n}\nfunction pop(cursor) {\n  0 > index ||\n    ((cursor.current = valueStack[index]), (valueStack[index] = null), index--);\n}\nfunction push(cursor, value) {\n  index++;\n  valueStack[index] = cursor.current;\n  cursor.current = value;\n}\nvar contextStackCursor = createCursor(null),\n  contextFiberStackCursor = createCursor(null),\n  rootInstanceStackCursor = createCursor(null),\n  hostTransitionProviderCursor = createCursor(null);\nfunction pushHostContainer(fiber, nextRootInstance) {\n  push(rootInstanceStackCursor, nextRootInstance);\n  push(contextFiberStackCursor, fiber);\n  push(contextStackCursor, null);\n  fiber = nextRootInstance.nodeType;\n  switch (fiber) {\n    case 9:\n    case 11:\n      nextRootInstance = (nextRootInstance = nextRootInstance.documentElement)\n        ? (nextRootInstance = nextRootInstance.namespaceURI)\n          ? getOwnHostContext(nextRootInstance)\n          : 0\n        : 0;\n      break;\n    default:\n      if (\n        ((fiber = 8 === fiber ? nextRootInstance.parentNode : nextRootInstance),\n        (nextRootInstance = fiber.tagName),\n        (fiber = fiber.namespaceURI))\n      )\n        (fiber = getOwnHostContext(fiber)),\n          (nextRootInstance = getChildHostContextProd(fiber, nextRootInstance));\n      else\n        switch (nextRootInstance) {\n          case \"svg\":\n            nextRootInstance = 1;\n            break;\n          case \"math\":\n            nextRootInstance = 2;\n            break;\n          default:\n            nextRootInstance = 0;\n        }\n  }\n  pop(contextStackCursor);\n  push(contextStackCursor, nextRootInstance);\n}\nfunction popHostContainer() {\n  pop(contextStackCursor);\n  pop(contextFiberStackCursor);\n  pop(rootInstanceStackCursor);\n}\nfunction pushHostContext(fiber) {\n  null !== fiber.memoizedState && push(hostTransitionProviderCursor, fiber);\n  var context = contextStackCursor.current;\n  var JSCompiler_inline_result = getChildHostContextProd(context, fiber.type);\n  context !== JSCompiler_inline_result &&\n    (push(contextFiberStackCursor, fiber),\n    push(contextStackCursor, JSCompiler_inline_result));\n}\nfunction popHostContext(fiber) {\n  contextFiberStackCursor.current === fiber &&\n    (pop(contextStackCursor), pop(contextFiberStackCursor));\n  hostTransitionProviderCursor.current === fiber &&\n    (pop(hostTransitionProviderCursor),\n    (HostTransitionContext._currentValue = sharedNotPendingObject));\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty,\n  scheduleCallback$3 = Scheduler.unstable_scheduleCallback,\n  cancelCallback$1 = Scheduler.unstable_cancelCallback,\n  shouldYield = Scheduler.unstable_shouldYield,\n  requestPaint = Scheduler.unstable_requestPaint,\n  now = Scheduler.unstable_now,\n  getCurrentPriorityLevel = Scheduler.unstable_getCurrentPriorityLevel,\n  ImmediatePriority = Scheduler.unstable_ImmediatePriority,\n  UserBlockingPriority = Scheduler.unstable_UserBlockingPriority,\n  NormalPriority$1 = Scheduler.unstable_NormalPriority,\n  LowPriority = Scheduler.unstable_LowPriority,\n  IdlePriority = Scheduler.unstable_IdlePriority,\n  log$1 = Scheduler.log,\n  unstable_setDisableYieldValue = Scheduler.unstable_setDisableYieldValue,\n  rendererID = null,\n  injectedHook = null;\nfunction onCommitRoot(root) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberRoot)\n    try {\n      injectedHook.onCommitFiberRoot(\n        rendererID,\n        root,\n        void 0,\n        128 === (root.current.flags & 128)\n      );\n    } catch (err) {}\n}\nfunction setIsStrictModeForDevtools(newIsStrictMode) {\n  \"function\" === typeof log$1 && unstable_setDisableYieldValue(newIsStrictMode);\n  if (injectedHook && \"function\" === typeof injectedHook.setStrictMode)\n    try {\n      injectedHook.setStrictMode(rendererID, newIsStrictMode);\n    } catch (err) {}\n}\nvar clz32 = Math.clz32 ? Math.clz32 : clz32Fallback,\n  log = Math.log,\n  LN2 = Math.LN2;\nfunction clz32Fallback(x) {\n  x >>>= 0;\n  return 0 === x ? 32 : (31 - ((log(x) / LN2) | 0)) | 0;\n}\nvar nextTransitionLane = 128,\n  nextRetryLane = 4194304;\nfunction getHighestPriorityLanes(lanes) {\n  var pendingSyncLanes = lanes & 42;\n  if (0 !== pendingSyncLanes) return pendingSyncLanes;\n  switch (lanes & -lanes) {\n    case 1:\n      return 1;\n    case 2:\n      return 2;\n    case 4:\n      return 4;\n    case 8:\n      return 8;\n    case 16:\n      return 16;\n    case 32:\n      return 32;\n    case 64:\n      return 64;\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return lanes & 4194176;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return lanes & 62914560;\n    case 67108864:\n      return 67108864;\n    case 134217728:\n      return 134217728;\n    case 268435456:\n      return 268435456;\n    case 536870912:\n      return 536870912;\n    case 1073741824:\n      return 0;\n    default:\n      return lanes;\n  }\n}\nfunction getNextLanes(root, wipLanes) {\n  var pendingLanes = root.pendingLanes;\n  if (0 === pendingLanes) return 0;\n  var nextLanes = 0,\n    suspendedLanes = root.suspendedLanes,\n    pingedLanes = root.pingedLanes,\n    warmLanes = root.warmLanes;\n  root = 0 !== root.finishedLanes;\n  var nonIdlePendingLanes = pendingLanes & 134217727;\n  0 !== nonIdlePendingLanes\n    ? ((pendingLanes = nonIdlePendingLanes & ~suspendedLanes),\n      0 !== pendingLanes\n        ? (nextLanes = getHighestPriorityLanes(pendingLanes))\n        : ((pingedLanes &= nonIdlePendingLanes),\n          0 !== pingedLanes\n            ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n            : root ||\n              ((warmLanes = nonIdlePendingLanes & ~warmLanes),\n              0 !== warmLanes &&\n                (nextLanes = getHighestPriorityLanes(warmLanes)))))\n    : ((nonIdlePendingLanes = pendingLanes & ~suspendedLanes),\n      0 !== nonIdlePendingLanes\n        ? (nextLanes = getHighestPriorityLanes(nonIdlePendingLanes))\n        : 0 !== pingedLanes\n          ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n          : root ||\n            ((warmLanes = pendingLanes & ~warmLanes),\n            0 !== warmLanes &&\n              (nextLanes = getHighestPriorityLanes(warmLanes))));\n  return 0 === nextLanes\n    ? 0\n    : 0 !== wipLanes &&\n        wipLanes !== nextLanes &&\n        0 === (wipLanes & suspendedLanes) &&\n        ((suspendedLanes = nextLanes & -nextLanes),\n        (warmLanes = wipLanes & -wipLanes),\n        suspendedLanes >= warmLanes ||\n          (32 === suspendedLanes && 0 !== (warmLanes & 4194176)))\n      ? wipLanes\n      : nextLanes;\n}\nfunction checkIfRootIsPrerendering(root, renderLanes) {\n  return (\n    0 ===\n    (root.pendingLanes &\n      ~(root.suspendedLanes & ~root.pingedLanes) &\n      renderLanes)\n  );\n}\nfunction computeExpirationTime(lane, currentTime) {\n  switch (lane) {\n    case 1:\n    case 2:\n    case 4:\n    case 8:\n      return currentTime + 250;\n    case 16:\n    case 32:\n    case 64:\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return currentTime + 5e3;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return -1;\n    case 67108864:\n    case 134217728:\n    case 268435456:\n    case 536870912:\n    case 1073741824:\n      return -1;\n    default:\n      return -1;\n  }\n}\nfunction claimNextTransitionLane() {\n  var lane = nextTransitionLane;\n  nextTransitionLane <<= 1;\n  0 === (nextTransitionLane & 4194176) && (nextTransitionLane = 128);\n  return lane;\n}\nfunction claimNextRetryLane() {\n  var lane = nextRetryLane;\n  nextRetryLane <<= 1;\n  0 === (nextRetryLane & 62914560) && (nextRetryLane = 4194304);\n  return lane;\n}\nfunction createLaneMap(initial) {\n  for (var laneMap = [], i = 0; 31 > i; i++) laneMap.push(initial);\n  return laneMap;\n}\nfunction markRootUpdated$1(root, updateLane) {\n  root.pendingLanes |= updateLane;\n  268435456 !== updateLane &&\n    ((root.suspendedLanes = 0), (root.pingedLanes = 0), (root.warmLanes = 0));\n}\nfunction markRootFinished(\n  root,\n  finishedLanes,\n  remainingLanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  var previouslyPendingLanes = root.pendingLanes;\n  root.pendingLanes = remainingLanes;\n  root.suspendedLanes = 0;\n  root.pingedLanes = 0;\n  root.warmLanes = 0;\n  root.expiredLanes &= remainingLanes;\n  root.entangledLanes &= remainingLanes;\n  root.errorRecoveryDisabledLanes &= remainingLanes;\n  root.shellSuspendCounter = 0;\n  var entanglements = root.entanglements,\n    expirationTimes = root.expirationTimes,\n    hiddenUpdates = root.hiddenUpdates;\n  for (\n    remainingLanes = previouslyPendingLanes & ~remainingLanes;\n    0 < remainingLanes;\n\n  ) {\n    var index$7 = 31 - clz32(remainingLanes),\n      lane = 1 << index$7;\n    entanglements[index$7] = 0;\n    expirationTimes[index$7] = -1;\n    var hiddenUpdatesForLane = hiddenUpdates[index$7];\n    if (null !== hiddenUpdatesForLane)\n      for (\n        hiddenUpdates[index$7] = null, index$7 = 0;\n        index$7 < hiddenUpdatesForLane.length;\n        index$7++\n      ) {\n        var update = hiddenUpdatesForLane[index$7];\n        null !== update && (update.lane &= -536870913);\n      }\n    remainingLanes &= ~lane;\n  }\n  0 !== spawnedLane && markSpawnedDeferredLane(root, spawnedLane, 0);\n  0 !== suspendedRetryLanes &&\n    0 === updatedLanes &&\n    0 !== root.tag &&\n    (root.suspendedLanes |=\n      suspendedRetryLanes & ~(previouslyPendingLanes & ~finishedLanes));\n}\nfunction markSpawnedDeferredLane(root, spawnedLane, entangledLanes) {\n  root.pendingLanes |= spawnedLane;\n  root.suspendedLanes &= ~spawnedLane;\n  var spawnedLaneIndex = 31 - clz32(spawnedLane);\n  root.entangledLanes |= spawnedLane;\n  root.entanglements[spawnedLaneIndex] =\n    root.entanglements[spawnedLaneIndex] |\n    1073741824 |\n    (entangledLanes & 4194218);\n}\nfunction markRootEntangled(root, entangledLanes) {\n  var rootEntangledLanes = (root.entangledLanes |= entangledLanes);\n  for (root = root.entanglements; rootEntangledLanes; ) {\n    var index$8 = 31 - clz32(rootEntangledLanes),\n      lane = 1 << index$8;\n    (lane & entangledLanes) | (root[index$8] & entangledLanes) &&\n      (root[index$8] |= entangledLanes);\n    rootEntangledLanes &= ~lane;\n  }\n}\nfunction lanesToEventPriority(lanes) {\n  lanes &= -lanes;\n  return 2 < lanes\n    ? 8 < lanes\n      ? 0 !== (lanes & 134217727)\n        ? 32\n        : 268435456\n      : 8\n    : 2;\n}\nfunction resolveUpdatePriority() {\n  var updatePriority = ReactDOMSharedInternals.p;\n  if (0 !== updatePriority) return updatePriority;\n  updatePriority = window.event;\n  return void 0 === updatePriority ? 32 : getEventPriority(updatePriority.type);\n}\nfunction runWithPriority(priority, fn) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    return (ReactDOMSharedInternals.p = priority), fn();\n  } finally {\n    ReactDOMSharedInternals.p = previousPriority;\n  }\n}\nvar randomKey = Math.random().toString(36).slice(2),\n  internalInstanceKey = \"__reactFiber$\" + randomKey,\n  internalPropsKey = \"__reactProps$\" + randomKey,\n  internalContainerInstanceKey = \"__reactContainer$\" + randomKey,\n  internalEventHandlersKey = \"__reactEvents$\" + randomKey,\n  internalEventHandlerListenersKey = \"__reactListeners$\" + randomKey,\n  internalEventHandlesSetKey = \"__reactHandles$\" + randomKey,\n  internalRootNodeResourcesKey = \"__reactResources$\" + randomKey,\n  internalHoistableMarker = \"__reactMarker$\" + randomKey;\nfunction detachDeletedInstance(node) {\n  delete node[internalInstanceKey];\n  delete node[internalPropsKey];\n  delete node[internalEventHandlersKey];\n  delete node[internalEventHandlerListenersKey];\n  delete node[internalEventHandlesSetKey];\n}\nfunction getClosestInstanceFromNode(targetNode) {\n  var targetInst = targetNode[internalInstanceKey];\n  if (targetInst) return targetInst;\n  for (var parentNode = targetNode.parentNode; parentNode; ) {\n    if (\n      (targetInst =\n        parentNode[internalContainerInstanceKey] ||\n        parentNode[internalInstanceKey])\n    ) {\n      parentNode = targetInst.alternate;\n      if (\n        null !== targetInst.child ||\n        (null !== parentNode && null !== parentNode.child)\n      )\n        for (\n          targetNode = getParentSuspenseInstance(targetNode);\n          null !== targetNode;\n\n        ) {\n          if ((parentNode = targetNode[internalInstanceKey])) return parentNode;\n          targetNode = getParentSuspenseInstance(targetNode);\n        }\n      return targetInst;\n    }\n    targetNode = parentNode;\n    parentNode = targetNode.parentNode;\n  }\n  return null;\n}\nfunction getInstanceFromNode(node) {\n  if (\n    (node = node[internalInstanceKey] || node[internalContainerInstanceKey])\n  ) {\n    var tag = node.tag;\n    if (\n      5 === tag ||\n      6 === tag ||\n      13 === tag ||\n      26 === tag ||\n      27 === tag ||\n      3 === tag\n    )\n      return node;\n  }\n  return null;\n}\nfunction getNodeFromInstance(inst) {\n  var tag = inst.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return inst.stateNode;\n  throw Error(formatProdErrorMessage(33));\n}\nfunction getResourcesFromRoot(root) {\n  var resources = root[internalRootNodeResourcesKey];\n  resources ||\n    (resources = root[internalRootNodeResourcesKey] =\n      { hoistableStyles: new Map(), hoistableScripts: new Map() });\n  return resources;\n}\nfunction markNodeAsHoistable(node) {\n  node[internalHoistableMarker] = !0;\n}\nvar allNativeEvents = new Set(),\n  registrationNameDependencies = {};\nfunction registerTwoPhaseEvent(registrationName, dependencies) {\n  registerDirectEvent(registrationName, dependencies);\n  registerDirectEvent(registrationName + \"Capture\", dependencies);\n}\nfunction registerDirectEvent(registrationName, dependencies) {\n  registrationNameDependencies[registrationName] = dependencies;\n  for (\n    registrationName = 0;\n    registrationName < dependencies.length;\n    registrationName++\n  )\n    allNativeEvents.add(dependencies[registrationName]);\n}\nvar canUseDOM = !(\n    \"undefined\" === typeof window ||\n    \"undefined\" === typeof window.document ||\n    \"undefined\" === typeof window.document.createElement\n  ),\n  VALID_ATTRIBUTE_NAME_REGEX = RegExp(\n    \"^[:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD][:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"\n  ),\n  illegalAttributeNameCache = {},\n  validatedAttributeNameCache = {};\nfunction isAttributeNameSafe(attributeName) {\n  if (hasOwnProperty.call(validatedAttributeNameCache, attributeName))\n    return !0;\n  if (hasOwnProperty.call(illegalAttributeNameCache, attributeName)) return !1;\n  if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName))\n    return (validatedAttributeNameCache[attributeName] = !0);\n  illegalAttributeNameCache[attributeName] = !0;\n  return !1;\n}\nfunction setValueForAttribute(node, name, value) {\n  if (isAttributeNameSafe(name))\n    if (null === value) node.removeAttribute(name);\n    else {\n      switch (typeof value) {\n        case \"undefined\":\n        case \"function\":\n        case \"symbol\":\n          node.removeAttribute(name);\n          return;\n        case \"boolean\":\n          var prefix$10 = name.toLowerCase().slice(0, 5);\n          if (\"data-\" !== prefix$10 && \"aria-\" !== prefix$10) {\n            node.removeAttribute(name);\n            return;\n          }\n      }\n      node.setAttribute(name, \"\" + value);\n    }\n}\nfunction setValueForKnownAttribute(node, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttribute(name, \"\" + value);\n  }\n}\nfunction setValueForNamespacedAttribute(node, namespace, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttributeNS(namespace, name, \"\" + value);\n  }\n}\nfunction getToStringValue(value) {\n  switch (typeof value) {\n    case \"bigint\":\n    case \"boolean\":\n    case \"number\":\n    case \"string\":\n    case \"undefined\":\n      return value;\n    case \"object\":\n      return value;\n    default:\n      return \"\";\n  }\n}\nfunction isCheckable(elem) {\n  var type = elem.type;\n  return (\n    (elem = elem.nodeName) &&\n    \"input\" === elem.toLowerCase() &&\n    (\"checkbox\" === type || \"radio\" === type)\n  );\n}\nfunction trackValueOnNode(node) {\n  var valueField = isCheckable(node) ? \"checked\" : \"value\",\n    descriptor = Object.getOwnPropertyDescriptor(\n      node.constructor.prototype,\n      valueField\n    ),\n    currentValue = \"\" + node[valueField];\n  if (\n    !node.hasOwnProperty(valueField) &&\n    \"undefined\" !== typeof descriptor &&\n    \"function\" === typeof descriptor.get &&\n    \"function\" === typeof descriptor.set\n  ) {\n    var get = descriptor.get,\n      set = descriptor.set;\n    Object.defineProperty(node, valueField, {\n      configurable: !0,\n      get: function () {\n        return get.call(this);\n      },\n      set: function (value) {\n        currentValue = \"\" + value;\n        set.call(this, value);\n      }\n    });\n    Object.defineProperty(node, valueField, {\n      enumerable: descriptor.enumerable\n    });\n    return {\n      getValue: function () {\n        return currentValue;\n      },\n      setValue: function (value) {\n        currentValue = \"\" + value;\n      },\n      stopTracking: function () {\n        node._valueTracker = null;\n        delete node[valueField];\n      }\n    };\n  }\n}\nfunction track(node) {\n  node._valueTracker || (node._valueTracker = trackValueOnNode(node));\n}\nfunction updateValueIfChanged(node) {\n  if (!node) return !1;\n  var tracker = node._valueTracker;\n  if (!tracker) return !0;\n  var lastValue = tracker.getValue();\n  var value = \"\";\n  node &&\n    (value = isCheckable(node)\n      ? node.checked\n        ? \"true\"\n        : \"false\"\n      : node.value);\n  node = value;\n  return node !== lastValue ? (tracker.setValue(node), !0) : !1;\n}\nfunction getActiveElement(doc) {\n  doc = doc || (\"undefined\" !== typeof document ? document : void 0);\n  if (\"undefined\" === typeof doc) return null;\n  try {\n    return doc.activeElement || doc.body;\n  } catch (e) {\n    return doc.body;\n  }\n}\nvar escapeSelectorAttributeValueInsideDoubleQuotesRegex = /[\\n\"\\\\]/g;\nfunction escapeSelectorAttributeValueInsideDoubleQuotes(value) {\n  return value.replace(\n    escapeSelectorAttributeValueInsideDoubleQuotesRegex,\n    function (ch) {\n      return \"\\\\\" + ch.charCodeAt(0).toString(16) + \" \";\n    }\n  );\n}\nfunction updateInput(\n  element,\n  value,\n  defaultValue,\n  lastDefaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name\n) {\n  element.name = \"\";\n  null != type &&\n  \"function\" !== typeof type &&\n  \"symbol\" !== typeof type &&\n  \"boolean\" !== typeof type\n    ? (element.type = type)\n    : element.removeAttribute(\"type\");\n  if (null != value)\n    if (\"number\" === type) {\n      if ((0 === value && \"\" === element.value) || element.value != value)\n        element.value = \"\" + getToStringValue(value);\n    } else\n      element.value !== \"\" + getToStringValue(value) &&\n        (element.value = \"\" + getToStringValue(value));\n  else\n    (\"submit\" !== type && \"reset\" !== type) || element.removeAttribute(\"value\");\n  null != value\n    ? setDefaultValue(element, type, getToStringValue(value))\n    : null != defaultValue\n      ? setDefaultValue(element, type, getToStringValue(defaultValue))\n      : null != lastDefaultValue && element.removeAttribute(\"value\");\n  null == checked &&\n    null != defaultChecked &&\n    (element.defaultChecked = !!defaultChecked);\n  null != checked &&\n    (element.checked =\n      checked && \"function\" !== typeof checked && \"symbol\" !== typeof checked);\n  null != name &&\n  \"function\" !== typeof name &&\n  \"symbol\" !== typeof name &&\n  \"boolean\" !== typeof name\n    ? (element.name = \"\" + getToStringValue(name))\n    : element.removeAttribute(\"name\");\n}\nfunction initInput(\n  element,\n  value,\n  defaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name,\n  isHydrating\n) {\n  null != type &&\n    \"function\" !== typeof type &&\n    \"symbol\" !== typeof type &&\n    \"boolean\" !== typeof type &&\n    (element.type = type);\n  if (null != value || null != defaultValue) {\n    if (\n      !(\n        (\"submit\" !== type && \"reset\" !== type) ||\n        (void 0 !== value && null !== value)\n      )\n    )\n      return;\n    defaultValue =\n      null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n    value = null != value ? \"\" + getToStringValue(value) : defaultValue;\n    isHydrating || value === element.value || (element.value = value);\n    element.defaultValue = value;\n  }\n  checked = null != checked ? checked : defaultChecked;\n  checked =\n    \"function\" !== typeof checked && \"symbol\" !== typeof checked && !!checked;\n  element.checked = isHydrating ? element.checked : !!checked;\n  element.defaultChecked = !!checked;\n  null != name &&\n    \"function\" !== typeof name &&\n    \"symbol\" !== typeof name &&\n    \"boolean\" !== typeof name &&\n    (element.name = name);\n}\nfunction setDefaultValue(node, type, value) {\n  (\"number\" === type && getActiveElement(node.ownerDocument) === node) ||\n    node.defaultValue === \"\" + value ||\n    (node.defaultValue = \"\" + value);\n}\nfunction updateOptions(node, multiple, propValue, setDefaultSelected) {\n  node = node.options;\n  if (multiple) {\n    multiple = {};\n    for (var i = 0; i < propValue.length; i++)\n      multiple[\"$\" + propValue[i]] = !0;\n    for (propValue = 0; propValue < node.length; propValue++)\n      (i = multiple.hasOwnProperty(\"$\" + node[propValue].value)),\n        node[propValue].selected !== i && (node[propValue].selected = i),\n        i && setDefaultSelected && (node[propValue].defaultSelected = !0);\n  } else {\n    propValue = \"\" + getToStringValue(propValue);\n    multiple = null;\n    for (i = 0; i < node.length; i++) {\n      if (node[i].value === propValue) {\n        node[i].selected = !0;\n        setDefaultSelected && (node[i].defaultSelected = !0);\n        return;\n      }\n      null !== multiple || node[i].disabled || (multiple = node[i]);\n    }\n    null !== multiple && (multiple.selected = !0);\n  }\n}\nfunction updateTextarea(element, value, defaultValue) {\n  if (\n    null != value &&\n    ((value = \"\" + getToStringValue(value)),\n    value !== element.value && (element.value = value),\n    null == defaultValue)\n  ) {\n    element.defaultValue !== value && (element.defaultValue = value);\n    return;\n  }\n  element.defaultValue =\n    null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n}\nfunction initTextarea(element, value, defaultValue, children) {\n  if (null == value) {\n    if (null != children) {\n      if (null != defaultValue) throw Error(formatProdErrorMessage(92));\n      if (isArrayImpl(children)) {\n        if (1 < children.length) throw Error(formatProdErrorMessage(93));\n        children = children[0];\n      }\n      defaultValue = children;\n    }\n    null == defaultValue && (defaultValue = \"\");\n    value = defaultValue;\n  }\n  defaultValue = getToStringValue(value);\n  element.defaultValue = defaultValue;\n  children = element.textContent;\n  children === defaultValue &&\n    \"\" !== children &&\n    null !== children &&\n    (element.value = children);\n}\nfunction setTextContent(node, text) {\n  if (text) {\n    var firstChild = node.firstChild;\n    if (\n      firstChild &&\n      firstChild === node.lastChild &&\n      3 === firstChild.nodeType\n    ) {\n      firstChild.nodeValue = text;\n      return;\n    }\n  }\n  node.textContent = text;\n}\nvar unitlessNumbers = new Set(\n  \"animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp\".split(\n    \" \"\n  )\n);\nfunction setValueForStyle(style, styleName, value) {\n  var isCustomProperty = 0 === styleName.indexOf(\"--\");\n  null == value || \"boolean\" === typeof value || \"\" === value\n    ? isCustomProperty\n      ? style.setProperty(styleName, \"\")\n      : \"float\" === styleName\n        ? (style.cssFloat = \"\")\n        : (style[styleName] = \"\")\n    : isCustomProperty\n      ? style.setProperty(styleName, value)\n      : \"number\" !== typeof value ||\n          0 === value ||\n          unitlessNumbers.has(styleName)\n        ? \"float\" === styleName\n          ? (style.cssFloat = value)\n          : (style[styleName] = (\"\" + value).trim())\n        : (style[styleName] = value + \"px\");\n}\nfunction setValueForStyles(node, styles, prevStyles) {\n  if (null != styles && \"object\" !== typeof styles)\n    throw Error(formatProdErrorMessage(62));\n  node = node.style;\n  if (null != prevStyles) {\n    for (var styleName in prevStyles)\n      !prevStyles.hasOwnProperty(styleName) ||\n        (null != styles && styles.hasOwnProperty(styleName)) ||\n        (0 === styleName.indexOf(\"--\")\n          ? node.setProperty(styleName, \"\")\n          : \"float\" === styleName\n            ? (node.cssFloat = \"\")\n            : (node[styleName] = \"\"));\n    for (var styleName$16 in styles)\n      (styleName = styles[styleName$16]),\n        styles.hasOwnProperty(styleName$16) &&\n          prevStyles[styleName$16] !== styleName &&\n          setValueForStyle(node, styleName$16, styleName);\n  } else\n    for (var styleName$17 in styles)\n      styles.hasOwnProperty(styleName$17) &&\n        setValueForStyle(node, styleName$17, styles[styleName$17]);\n}\nfunction isCustomElement(tagName) {\n  if (-1 === tagName.indexOf(\"-\")) return !1;\n  switch (tagName) {\n    case \"annotation-xml\":\n    case \"color-profile\":\n    case \"font-face\":\n    case \"font-face-src\":\n    case \"font-face-uri\":\n    case \"font-face-format\":\n    case \"font-face-name\":\n    case \"missing-glyph\":\n      return !1;\n    default:\n      return !0;\n  }\n}\nvar aliases = new Map([\n    [\"acceptCharset\", \"accept-charset\"],\n    [\"htmlFor\", \"for\"],\n    [\"httpEquiv\", \"http-equiv\"],\n    [\"crossOrigin\", \"crossorigin\"],\n    [\"accentHeight\", \"accent-height\"],\n    [\"alignmentBaseline\", \"alignment-baseline\"],\n    [\"arabicForm\", \"arabic-form\"],\n    [\"baselineShift\", \"baseline-shift\"],\n    [\"capHeight\", \"cap-height\"],\n    [\"clipPath\", \"clip-path\"],\n    [\"clipRule\", \"clip-rule\"],\n    [\"colorInterpolation\", \"color-interpolation\"],\n    [\"colorInterpolationFilters\", \"color-interpolation-filters\"],\n    [\"colorProfile\", \"color-profile\"],\n    [\"colorRendering\", \"color-rendering\"],\n    [\"dominantBaseline\", \"dominant-baseline\"],\n    [\"enableBackground\", \"enable-background\"],\n    [\"fillOpacity\", \"fill-opacity\"],\n    [\"fillRule\", \"fill-rule\"],\n    [\"floodColor\", \"flood-color\"],\n    [\"floodOpacity\", \"flood-opacity\"],\n    [\"fontFamily\", \"font-family\"],\n    [\"fontSize\", \"font-size\"],\n    [\"fontSizeAdjust\", \"font-size-adjust\"],\n    [\"fontStretch\", \"font-stretch\"],\n    [\"fontStyle\", \"font-style\"],\n    [\"fontVariant\", \"font-variant\"],\n    [\"fontWeight\", \"font-weight\"],\n    [\"glyphName\", \"glyph-name\"],\n    [\"glyphOrientationHorizontal\", \"glyph-orientation-horizontal\"],\n    [\"glyphOrientationVertical\", \"glyph-orientation-vertical\"],\n    [\"horizAdvX\", \"horiz-adv-x\"],\n    [\"horizOriginX\", \"horiz-origin-x\"],\n    [\"imageRendering\", \"image-rendering\"],\n    [\"letterSpacing\", \"letter-spacing\"],\n    [\"lightingColor\", \"lighting-color\"],\n    [\"markerEnd\", \"marker-end\"],\n    [\"markerMid\", \"marker-mid\"],\n    [\"markerStart\", \"marker-start\"],\n    [\"overlinePosition\", \"overline-position\"],\n    [\"overlineThickness\", \"overline-thickness\"],\n    [\"paintOrder\", \"paint-order\"],\n    [\"panose-1\", \"panose-1\"],\n    [\"pointerEvents\", \"pointer-events\"],\n    [\"renderingIntent\", \"rendering-intent\"],\n    [\"shapeRendering\", \"shape-rendering\"],\n    [\"stopColor\", \"stop-color\"],\n    [\"stopOpacity\", \"stop-opacity\"],\n    [\"strikethroughPosition\", \"strikethrough-position\"],\n    [\"strikethroughThickness\", \"strikethrough-thickness\"],\n    [\"strokeDasharray\", \"stroke-dasharray\"],\n    [\"strokeDashoffset\", \"stroke-dashoffset\"],\n    [\"strokeLinecap\", \"stroke-linecap\"],\n    [\"strokeLinejoin\", \"stroke-linejoin\"],\n    [\"strokeMiterlimit\", \"stroke-miterlimit\"],\n    [\"strokeOpacity\", \"stroke-opacity\"],\n    [\"strokeWidth\", \"stroke-width\"],\n    [\"textAnchor\", \"text-anchor\"],\n    [\"textDecoration\", \"text-decoration\"],\n    [\"textRendering\", \"text-rendering\"],\n    [\"transformOrigin\", \"transform-origin\"],\n    [\"underlinePosition\", \"underline-position\"],\n    [\"underlineThickness\", \"underline-thickness\"],\n    [\"unicodeBidi\", \"unicode-bidi\"],\n    [\"unicodeRange\", \"unicode-range\"],\n    [\"unitsPerEm\", \"units-per-em\"],\n    [\"vAlphabetic\", \"v-alphabetic\"],\n    [\"vHanging\", \"v-hanging\"],\n    [\"vIdeographic\", \"v-ideographic\"],\n    [\"vMathematical\", \"v-mathematical\"],\n    [\"vectorEffect\", \"vector-effect\"],\n    [\"vertAdvY\", \"vert-adv-y\"],\n    [\"vertOriginX\", \"vert-origin-x\"],\n    [\"vertOriginY\", \"vert-origin-y\"],\n    [\"wordSpacing\", \"word-spacing\"],\n    [\"writingMode\", \"writing-mode\"],\n    [\"xmlnsXlink\", \"xmlns:xlink\"],\n    [\"xHeight\", \"x-height\"]\n  ]),\n  isJavaScriptProtocol =\n    /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*:/i;\nfunction sanitizeURL(url) {\n  return isJavaScriptProtocol.test(\"\" + url)\n    ? \"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')\"\n    : url;\n}\nvar currentReplayingEvent = null;\nfunction getEventTarget(nativeEvent) {\n  nativeEvent = nativeEvent.target || nativeEvent.srcElement || window;\n  nativeEvent.correspondingUseElement &&\n    (nativeEvent = nativeEvent.correspondingUseElement);\n  return 3 === nativeEvent.nodeType ? nativeEvent.parentNode : nativeEvent;\n}\nvar restoreTarget = null,\n  restoreQueue = null;\nfunction restoreStateOfTarget(target) {\n  var internalInstance = getInstanceFromNode(target);\n  if (internalInstance && (target = internalInstance.stateNode)) {\n    var props = target[internalPropsKey] || null;\n    a: switch (((target = internalInstance.stateNode), internalInstance.type)) {\n      case \"input\":\n        updateInput(\n          target,\n          props.value,\n          props.defaultValue,\n          props.defaultValue,\n          props.checked,\n          props.defaultChecked,\n          props.type,\n          props.name\n        );\n        internalInstance = props.name;\n        if (\"radio\" === props.type && null != internalInstance) {\n          for (props = target; props.parentNode; ) props = props.parentNode;\n          props = props.querySelectorAll(\n            'input[name=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                \"\" + internalInstance\n              ) +\n              '\"][type=\"radio\"]'\n          );\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          ) {\n            var otherNode = props[internalInstance];\n            if (otherNode !== target && otherNode.form === target.form) {\n              var otherProps = otherNode[internalPropsKey] || null;\n              if (!otherProps) throw Error(formatProdErrorMessage(90));\n              updateInput(\n                otherNode,\n                otherProps.value,\n                otherProps.defaultValue,\n                otherProps.defaultValue,\n                otherProps.checked,\n                otherProps.defaultChecked,\n                otherProps.type,\n                otherProps.name\n              );\n            }\n          }\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          )\n            (otherNode = props[internalInstance]),\n              otherNode.form === target.form && updateValueIfChanged(otherNode);\n        }\n        break a;\n      case \"textarea\":\n        updateTextarea(target, props.value, props.defaultValue);\n        break a;\n      case \"select\":\n        (internalInstance = props.value),\n          null != internalInstance &&\n            updateOptions(target, !!props.multiple, internalInstance, !1);\n    }\n  }\n}\nvar isInsideEventHandler = !1;\nfunction batchedUpdates$1(fn, a, b) {\n  if (isInsideEventHandler) return fn(a, b);\n  isInsideEventHandler = !0;\n  try {\n    var JSCompiler_inline_result = fn(a);\n    return JSCompiler_inline_result;\n  } finally {\n    if (\n      ((isInsideEventHandler = !1),\n      null !== restoreTarget || null !== restoreQueue)\n    )\n      if (\n        (flushSyncWork$1(),\n        restoreTarget &&\n          ((a = restoreTarget),\n          (fn = restoreQueue),\n          (restoreQueue = restoreTarget = null),\n          restoreStateOfTarget(a),\n          fn))\n      )\n        for (a = 0; a < fn.length; a++) restoreStateOfTarget(fn[a]);\n  }\n}\nfunction getListener(inst, registrationName) {\n  var stateNode = inst.stateNode;\n  if (null === stateNode) return null;\n  var props = stateNode[internalPropsKey] || null;\n  if (null === props) return null;\n  stateNode = props[registrationName];\n  a: switch (registrationName) {\n    case \"onClick\":\n    case \"onClickCapture\":\n    case \"onDoubleClick\":\n    case \"onDoubleClickCapture\":\n    case \"onMouseDown\":\n    case \"onMouseDownCapture\":\n    case \"onMouseMove\":\n    case \"onMouseMoveCapture\":\n    case \"onMouseUp\":\n    case \"onMouseUpCapture\":\n    case \"onMouseEnter\":\n      (props = !props.disabled) ||\n        ((inst = inst.type),\n        (props = !(\n          \"button\" === inst ||\n          \"input\" === inst ||\n          \"select\" === inst ||\n          \"textarea\" === inst\n        )));\n      inst = !props;\n      break a;\n    default:\n      inst = !1;\n  }\n  if (inst) return null;\n  if (stateNode && \"function\" !== typeof stateNode)\n    throw Error(\n      formatProdErrorMessage(231, registrationName, typeof stateNode)\n    );\n  return stateNode;\n}\nvar passiveBrowserEventsSupported = !1;\nif (canUseDOM)\n  try {\n    var options = {};\n    Object.defineProperty(options, \"passive\", {\n      get: function () {\n        passiveBrowserEventsSupported = !0;\n      }\n    });\n    window.addEventListener(\"test\", options, options);\n    window.removeEventListener(\"test\", options, options);\n  } catch (e) {\n    passiveBrowserEventsSupported = !1;\n  }\nvar root = null,\n  startText = null,\n  fallbackText = null;\nfunction getData() {\n  if (fallbackText) return fallbackText;\n  var start,\n    startValue = startText,\n    startLength = startValue.length,\n    end,\n    endValue = \"value\" in root ? root.value : root.textContent,\n    endLength = endValue.length;\n  for (\n    start = 0;\n    start < startLength && startValue[start] === endValue[start];\n    start++\n  );\n  var minEnd = startLength - start;\n  for (\n    end = 1;\n    end <= minEnd &&\n    startValue[startLength - end] === endValue[endLength - end];\n    end++\n  );\n  return (fallbackText = endValue.slice(start, 1 < end ? 1 - end : void 0));\n}\nfunction getEventCharCode(nativeEvent) {\n  var keyCode = nativeEvent.keyCode;\n  \"charCode\" in nativeEvent\n    ? ((nativeEvent = nativeEvent.charCode),\n      0 === nativeEvent && 13 === keyCode && (nativeEvent = 13))\n    : (nativeEvent = keyCode);\n  10 === nativeEvent && (nativeEvent = 13);\n  return 32 <= nativeEvent || 13 === nativeEvent ? nativeEvent : 0;\n}\nfunction functionThatReturnsTrue() {\n  return !0;\n}\nfunction functionThatReturnsFalse() {\n  return !1;\n}\nfunction createSyntheticEvent(Interface) {\n  function SyntheticBaseEvent(\n    reactName,\n    reactEventType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget\n  ) {\n    this._reactName = reactName;\n    this._targetInst = targetInst;\n    this.type = reactEventType;\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEventTarget;\n    this.currentTarget = null;\n    for (var propName in Interface)\n      Interface.hasOwnProperty(propName) &&\n        ((reactName = Interface[propName]),\n        (this[propName] = reactName\n          ? reactName(nativeEvent)\n          : nativeEvent[propName]));\n    this.isDefaultPrevented = (\n      null != nativeEvent.defaultPrevented\n        ? nativeEvent.defaultPrevented\n        : !1 === nativeEvent.returnValue\n    )\n      ? functionThatReturnsTrue\n      : functionThatReturnsFalse;\n    this.isPropagationStopped = functionThatReturnsFalse;\n    return this;\n  }\n  assign(SyntheticBaseEvent.prototype, {\n    preventDefault: function () {\n      this.defaultPrevented = !0;\n      var event = this.nativeEvent;\n      event &&\n        (event.preventDefault\n          ? event.preventDefault()\n          : \"unknown\" !== typeof event.returnValue && (event.returnValue = !1),\n        (this.isDefaultPrevented = functionThatReturnsTrue));\n    },\n    stopPropagation: function () {\n      var event = this.nativeEvent;\n      event &&\n        (event.stopPropagation\n          ? event.stopPropagation()\n          : \"unknown\" !== typeof event.cancelBubble &&\n            (event.cancelBubble = !0),\n        (this.isPropagationStopped = functionThatReturnsTrue));\n    },\n    persist: function () {},\n    isPersistent: functionThatReturnsTrue\n  });\n  return SyntheticBaseEvent;\n}\nvar EventInterface = {\n    eventPhase: 0,\n    bubbles: 0,\n    cancelable: 0,\n    timeStamp: function (event) {\n      return event.timeStamp || Date.now();\n    },\n    defaultPrevented: 0,\n    isTrusted: 0\n  },\n  SyntheticEvent = createSyntheticEvent(EventInterface),\n  UIEventInterface = assign({}, EventInterface, { view: 0, detail: 0 }),\n  SyntheticUIEvent = createSyntheticEvent(UIEventInterface),\n  lastMovementX,\n  lastMovementY,\n  lastMouseEvent,\n  MouseEventInterface = assign({}, UIEventInterface, {\n    screenX: 0,\n    screenY: 0,\n    clientX: 0,\n    clientY: 0,\n    pageX: 0,\n    pageY: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    getModifierState: getEventModifierState,\n    button: 0,\n    buttons: 0,\n    relatedTarget: function (event) {\n      return void 0 === event.relatedTarget\n        ? event.fromElement === event.srcElement\n          ? event.toElement\n          : event.fromElement\n        : event.relatedTarget;\n    },\n    movementX: function (event) {\n      if (\"movementX\" in event) return event.movementX;\n      event !== lastMouseEvent &&\n        (lastMouseEvent && \"mousemove\" === event.type\n          ? ((lastMovementX = event.screenX - lastMouseEvent.screenX),\n            (lastMovementY = event.screenY - lastMouseEvent.screenY))\n          : (lastMovementY = lastMovementX = 0),\n        (lastMouseEvent = event));\n      return lastMovementX;\n    },\n    movementY: function (event) {\n      return \"movementY\" in event ? event.movementY : lastMovementY;\n    }\n  }),\n  SyntheticMouseEvent = createSyntheticEvent(MouseEventInterface),\n  DragEventInterface = assign({}, MouseEventInterface, { dataTransfer: 0 }),\n  SyntheticDragEvent = createSyntheticEvent(DragEventInterface),\n  FocusEventInterface = assign({}, UIEventInterface, { relatedTarget: 0 }),\n  SyntheticFocusEvent = createSyntheticEvent(FocusEventInterface),\n  AnimationEventInterface = assign({}, EventInterface, {\n    animationName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticAnimationEvent = createSyntheticEvent(AnimationEventInterface),\n  ClipboardEventInterface = assign({}, EventInterface, {\n    clipboardData: function (event) {\n      return \"clipboardData\" in event\n        ? event.clipboardData\n        : window.clipboardData;\n    }\n  }),\n  SyntheticClipboardEvent = createSyntheticEvent(ClipboardEventInterface),\n  CompositionEventInterface = assign({}, EventInterface, { data: 0 }),\n  SyntheticCompositionEvent = createSyntheticEvent(CompositionEventInterface),\n  normalizeKey = {\n    Esc: \"Escape\",\n    Spacebar: \" \",\n    Left: \"ArrowLeft\",\n    Up: \"ArrowUp\",\n    Right: \"ArrowRight\",\n    Down: \"ArrowDown\",\n    Del: \"Delete\",\n    Win: \"OS\",\n    Menu: \"ContextMenu\",\n    Apps: \"ContextMenu\",\n    Scroll: \"ScrollLock\",\n    MozPrintableKey: \"Unidentified\"\n  },\n  translateToKey = {\n    8: \"Backspace\",\n    9: \"Tab\",\n    12: \"Clear\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Control\",\n    18: \"Alt\",\n    19: \"Pause\",\n    20: \"CapsLock\",\n    27: \"Escape\",\n    32: \" \",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"ArrowLeft\",\n    38: \"ArrowUp\",\n    39: \"ArrowRight\",\n    40: \"ArrowDown\",\n    45: \"Insert\",\n    46: \"Delete\",\n    112: \"F1\",\n    113: \"F2\",\n    114: \"F3\",\n    115: \"F4\",\n    116: \"F5\",\n    117: \"F6\",\n    118: \"F7\",\n    119: \"F8\",\n    120: \"F9\",\n    121: \"F10\",\n    122: \"F11\",\n    123: \"F12\",\n    144: \"NumLock\",\n    145: \"ScrollLock\",\n    224: \"Meta\"\n  },\n  modifierKeyToProp = {\n    Alt: \"altKey\",\n    Control: \"ctrlKey\",\n    Meta: \"metaKey\",\n    Shift: \"shiftKey\"\n  };\nfunction modifierStateGetter(keyArg) {\n  var nativeEvent = this.nativeEvent;\n  return nativeEvent.getModifierState\n    ? nativeEvent.getModifierState(keyArg)\n    : (keyArg = modifierKeyToProp[keyArg])\n      ? !!nativeEvent[keyArg]\n      : !1;\n}\nfunction getEventModifierState() {\n  return modifierStateGetter;\n}\nvar KeyboardEventInterface = assign({}, UIEventInterface, {\n    key: function (nativeEvent) {\n      if (nativeEvent.key) {\n        var key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n        if (\"Unidentified\" !== key) return key;\n      }\n      return \"keypress\" === nativeEvent.type\n        ? ((nativeEvent = getEventCharCode(nativeEvent)),\n          13 === nativeEvent ? \"Enter\" : String.fromCharCode(nativeEvent))\n        : \"keydown\" === nativeEvent.type || \"keyup\" === nativeEvent.type\n          ? translateToKey[nativeEvent.keyCode] || \"Unidentified\"\n          : \"\";\n    },\n    code: 0,\n    location: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    repeat: 0,\n    locale: 0,\n    getModifierState: getEventModifierState,\n    charCode: function (event) {\n      return \"keypress\" === event.type ? getEventCharCode(event) : 0;\n    },\n    keyCode: function (event) {\n      return \"keydown\" === event.type || \"keyup\" === event.type\n        ? event.keyCode\n        : 0;\n    },\n    which: function (event) {\n      return \"keypress\" === event.type\n        ? getEventCharCode(event)\n        : \"keydown\" === event.type || \"keyup\" === event.type\n          ? event.keyCode\n          : 0;\n    }\n  }),\n  SyntheticKeyboardEvent = createSyntheticEvent(KeyboardEventInterface),\n  PointerEventInterface = assign({}, MouseEventInterface, {\n    pointerId: 0,\n    width: 0,\n    height: 0,\n    pressure: 0,\n    tangentialPressure: 0,\n    tiltX: 0,\n    tiltY: 0,\n    twist: 0,\n    pointerType: 0,\n    isPrimary: 0\n  }),\n  SyntheticPointerEvent = createSyntheticEvent(PointerEventInterface),\n  TouchEventInterface = assign({}, UIEventInterface, {\n    touches: 0,\n    targetTouches: 0,\n    changedTouches: 0,\n    altKey: 0,\n    metaKey: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    getModifierState: getEventModifierState\n  }),\n  SyntheticTouchEvent = createSyntheticEvent(TouchEventInterface),\n  TransitionEventInterface = assign({}, EventInterface, {\n    propertyName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticTransitionEvent = createSyntheticEvent(TransitionEventInterface),\n  WheelEventInterface = assign({}, MouseEventInterface, {\n    deltaX: function (event) {\n      return \"deltaX\" in event\n        ? event.deltaX\n        : \"wheelDeltaX\" in event\n          ? -event.wheelDeltaX\n          : 0;\n    },\n    deltaY: function (event) {\n      return \"deltaY\" in event\n        ? event.deltaY\n        : \"wheelDeltaY\" in event\n          ? -event.wheelDeltaY\n          : \"wheelDelta\" in event\n            ? -event.wheelDelta\n            : 0;\n    },\n    deltaZ: 0,\n    deltaMode: 0\n  }),\n  SyntheticWheelEvent = createSyntheticEvent(WheelEventInterface),\n  ToggleEventInterface = assign({}, EventInterface, {\n    newState: 0,\n    oldState: 0\n  }),\n  SyntheticToggleEvent = createSyntheticEvent(ToggleEventInterface),\n  END_KEYCODES = [9, 13, 27, 32],\n  canUseCompositionEvent = canUseDOM && \"CompositionEvent\" in window,\n  documentMode = null;\ncanUseDOM &&\n  \"documentMode\" in document &&\n  (documentMode = document.documentMode);\nvar canUseTextInputEvent = canUseDOM && \"TextEvent\" in window && !documentMode,\n  useFallbackCompositionData =\n    canUseDOM &&\n    (!canUseCompositionEvent ||\n      (documentMode && 8 < documentMode && 11 >= documentMode)),\n  SPACEBAR_CHAR = String.fromCharCode(32),\n  hasSpaceKeypress = !1;\nfunction isFallbackCompositionEnd(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"keyup\":\n      return -1 !== END_KEYCODES.indexOf(nativeEvent.keyCode);\n    case \"keydown\":\n      return 229 !== nativeEvent.keyCode;\n    case \"keypress\":\n    case \"mousedown\":\n    case \"focusout\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction getDataFromCustomEvent(nativeEvent) {\n  nativeEvent = nativeEvent.detail;\n  return \"object\" === typeof nativeEvent && \"data\" in nativeEvent\n    ? nativeEvent.data\n    : null;\n}\nvar isComposing = !1;\nfunction getNativeBeforeInputChars(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"compositionend\":\n      return getDataFromCustomEvent(nativeEvent);\n    case \"keypress\":\n      if (32 !== nativeEvent.which) return null;\n      hasSpaceKeypress = !0;\n      return SPACEBAR_CHAR;\n    case \"textInput\":\n      return (\n        (domEventName = nativeEvent.data),\n        domEventName === SPACEBAR_CHAR && hasSpaceKeypress ? null : domEventName\n      );\n    default:\n      return null;\n  }\n}\nfunction getFallbackBeforeInputChars(domEventName, nativeEvent) {\n  if (isComposing)\n    return \"compositionend\" === domEventName ||\n      (!canUseCompositionEvent &&\n        isFallbackCompositionEnd(domEventName, nativeEvent))\n      ? ((domEventName = getData()),\n        (fallbackText = startText = root = null),\n        (isComposing = !1),\n        domEventName)\n      : null;\n  switch (domEventName) {\n    case \"paste\":\n      return null;\n    case \"keypress\":\n      if (\n        !(nativeEvent.ctrlKey || nativeEvent.altKey || nativeEvent.metaKey) ||\n        (nativeEvent.ctrlKey && nativeEvent.altKey)\n      ) {\n        if (nativeEvent.char && 1 < nativeEvent.char.length)\n          return nativeEvent.char;\n        if (nativeEvent.which) return String.fromCharCode(nativeEvent.which);\n      }\n      return null;\n    case \"compositionend\":\n      return useFallbackCompositionData && \"ko\" !== nativeEvent.locale\n        ? null\n        : nativeEvent.data;\n    default:\n      return null;\n  }\n}\nvar supportedInputTypes = {\n  color: !0,\n  date: !0,\n  datetime: !0,\n  \"datetime-local\": !0,\n  email: !0,\n  month: !0,\n  number: !0,\n  password: !0,\n  range: !0,\n  search: !0,\n  tel: !0,\n  text: !0,\n  time: !0,\n  url: !0,\n  week: !0\n};\nfunction isTextInputElement(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return \"input\" === nodeName\n    ? !!supportedInputTypes[elem.type]\n    : \"textarea\" === nodeName\n      ? !0\n      : !1;\n}\nfunction createAndAccumulateChangeEvent(\n  dispatchQueue,\n  inst,\n  nativeEvent,\n  target\n) {\n  restoreTarget\n    ? restoreQueue\n      ? restoreQueue.push(target)\n      : (restoreQueue = [target])\n    : (restoreTarget = target);\n  inst = accumulateTwoPhaseListeners(inst, \"onChange\");\n  0 < inst.length &&\n    ((nativeEvent = new SyntheticEvent(\n      \"onChange\",\n      \"change\",\n      null,\n      nativeEvent,\n      target\n    )),\n    dispatchQueue.push({ event: nativeEvent, listeners: inst }));\n}\nvar activeElement$1 = null,\n  activeElementInst$1 = null;\nfunction runEventInBatch(dispatchQueue) {\n  processDispatchQueue(dispatchQueue, 0);\n}\nfunction getInstIfValueChanged(targetInst) {\n  var targetNode = getNodeFromInstance(targetInst);\n  if (updateValueIfChanged(targetNode)) return targetInst;\n}\nfunction getTargetInstForChangeEvent(domEventName, targetInst) {\n  if (\"change\" === domEventName) return targetInst;\n}\nvar isInputEventSupported = !1;\nif (canUseDOM) {\n  var JSCompiler_inline_result$jscomp$283;\n  if (canUseDOM) {\n    var isSupported$jscomp$inline_418 = \"oninput\" in document;\n    if (!isSupported$jscomp$inline_418) {\n      var element$jscomp$inline_419 = document.createElement(\"div\");\n      element$jscomp$inline_419.setAttribute(\"oninput\", \"return;\");\n      isSupported$jscomp$inline_418 =\n        \"function\" === typeof element$jscomp$inline_419.oninput;\n    }\n    JSCompiler_inline_result$jscomp$283 = isSupported$jscomp$inline_418;\n  } else JSCompiler_inline_result$jscomp$283 = !1;\n  isInputEventSupported =\n    JSCompiler_inline_result$jscomp$283 &&\n    (!document.documentMode || 9 < document.documentMode);\n}\nfunction stopWatchingForValueChange() {\n  activeElement$1 &&\n    (activeElement$1.detachEvent(\"onpropertychange\", handlePropertyChange),\n    (activeElementInst$1 = activeElement$1 = null));\n}\nfunction handlePropertyChange(nativeEvent) {\n  if (\n    \"value\" === nativeEvent.propertyName &&\n    getInstIfValueChanged(activeElementInst$1)\n  ) {\n    var dispatchQueue = [];\n    createAndAccumulateChangeEvent(\n      dispatchQueue,\n      activeElementInst$1,\n      nativeEvent,\n      getEventTarget(nativeEvent)\n    );\n    batchedUpdates$1(runEventInBatch, dispatchQueue);\n  }\n}\nfunction handleEventsForInputEventPolyfill(domEventName, target, targetInst) {\n  \"focusin\" === domEventName\n    ? (stopWatchingForValueChange(),\n      (activeElement$1 = target),\n      (activeElementInst$1 = targetInst),\n      activeElement$1.attachEvent(\"onpropertychange\", handlePropertyChange))\n    : \"focusout\" === domEventName && stopWatchingForValueChange();\n}\nfunction getTargetInstForInputEventPolyfill(domEventName) {\n  if (\n    \"selectionchange\" === domEventName ||\n    \"keyup\" === domEventName ||\n    \"keydown\" === domEventName\n  )\n    return getInstIfValueChanged(activeElementInst$1);\n}\nfunction getTargetInstForClickEvent(domEventName, targetInst) {\n  if (\"click\" === domEventName) return getInstIfValueChanged(targetInst);\n}\nfunction getTargetInstForInputOrChangeEvent(domEventName, targetInst) {\n  if (\"input\" === domEventName || \"change\" === domEventName)\n    return getInstIfValueChanged(targetInst);\n}\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is;\nfunction shallowEqual(objA, objB) {\n  if (objectIs(objA, objB)) return !0;\n  if (\n    \"object\" !== typeof objA ||\n    null === objA ||\n    \"object\" !== typeof objB ||\n    null === objB\n  )\n    return !1;\n  var keysA = Object.keys(objA),\n    keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return !1;\n  for (keysB = 0; keysB < keysA.length; keysB++) {\n    var currentKey = keysA[keysB];\n    if (\n      !hasOwnProperty.call(objB, currentKey) ||\n      !objectIs(objA[currentKey], objB[currentKey])\n    )\n      return !1;\n  }\n  return !0;\n}\nfunction getLeafNode(node) {\n  for (; node && node.firstChild; ) node = node.firstChild;\n  return node;\n}\nfunction getNodeForCharacterOffset(root, offset) {\n  var node = getLeafNode(root);\n  root = 0;\n  for (var nodeEnd; node; ) {\n    if (3 === node.nodeType) {\n      nodeEnd = root + node.textContent.length;\n      if (root <= offset && nodeEnd >= offset)\n        return { node: node, offset: offset - root };\n      root = nodeEnd;\n    }\n    a: {\n      for (; node; ) {\n        if (node.nextSibling) {\n          node = node.nextSibling;\n          break a;\n        }\n        node = node.parentNode;\n      }\n      node = void 0;\n    }\n    node = getLeafNode(node);\n  }\n}\nfunction containsNode(outerNode, innerNode) {\n  return outerNode && innerNode\n    ? outerNode === innerNode\n      ? !0\n      : outerNode && 3 === outerNode.nodeType\n        ? !1\n        : innerNode && 3 === innerNode.nodeType\n          ? containsNode(outerNode, innerNode.parentNode)\n          : \"contains\" in outerNode\n            ? outerNode.contains(innerNode)\n            : outerNode.compareDocumentPosition\n              ? !!(outerNode.compareDocumentPosition(innerNode) & 16)\n              : !1\n    : !1;\n}\nfunction getActiveElementDeep(containerInfo) {\n  containerInfo =\n    null != containerInfo &&\n    null != containerInfo.ownerDocument &&\n    null != containerInfo.ownerDocument.defaultView\n      ? containerInfo.ownerDocument.defaultView\n      : window;\n  for (\n    var element = getActiveElement(containerInfo.document);\n    element instanceof containerInfo.HTMLIFrameElement;\n\n  ) {\n    try {\n      var JSCompiler_inline_result =\n        \"string\" === typeof element.contentWindow.location.href;\n    } catch (err) {\n      JSCompiler_inline_result = !1;\n    }\n    if (JSCompiler_inline_result) containerInfo = element.contentWindow;\n    else break;\n    element = getActiveElement(containerInfo.document);\n  }\n  return element;\n}\nfunction hasSelectionCapabilities(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return (\n    nodeName &&\n    ((\"input\" === nodeName &&\n      (\"text\" === elem.type ||\n        \"search\" === elem.type ||\n        \"tel\" === elem.type ||\n        \"url\" === elem.type ||\n        \"password\" === elem.type)) ||\n      \"textarea\" === nodeName ||\n      \"true\" === elem.contentEditable)\n  );\n}\nfunction restoreSelection(priorSelectionInformation, containerInfo) {\n  var curFocusedElem = getActiveElementDeep(containerInfo);\n  containerInfo = priorSelectionInformation.focusedElem;\n  var priorSelectionRange = priorSelectionInformation.selectionRange;\n  if (\n    curFocusedElem !== containerInfo &&\n    containerInfo &&\n    containerInfo.ownerDocument &&\n    containsNode(containerInfo.ownerDocument.documentElement, containerInfo)\n  ) {\n    if (null !== priorSelectionRange && hasSelectionCapabilities(containerInfo))\n      if (\n        ((priorSelectionInformation = priorSelectionRange.start),\n        (curFocusedElem = priorSelectionRange.end),\n        void 0 === curFocusedElem &&\n          (curFocusedElem = priorSelectionInformation),\n        \"selectionStart\" in containerInfo)\n      )\n        (containerInfo.selectionStart = priorSelectionInformation),\n          (containerInfo.selectionEnd = Math.min(\n            curFocusedElem,\n            containerInfo.value.length\n          ));\n      else if (\n        ((curFocusedElem =\n          ((priorSelectionInformation =\n            containerInfo.ownerDocument || document) &&\n            priorSelectionInformation.defaultView) ||\n          window),\n        curFocusedElem.getSelection)\n      ) {\n        curFocusedElem = curFocusedElem.getSelection();\n        var length = containerInfo.textContent.length,\n          start = Math.min(priorSelectionRange.start, length);\n        priorSelectionRange =\n          void 0 === priorSelectionRange.end\n            ? start\n            : Math.min(priorSelectionRange.end, length);\n        !curFocusedElem.extend &&\n          start > priorSelectionRange &&\n          ((length = priorSelectionRange),\n          (priorSelectionRange = start),\n          (start = length));\n        length = getNodeForCharacterOffset(containerInfo, start);\n        var endMarker = getNodeForCharacterOffset(\n          containerInfo,\n          priorSelectionRange\n        );\n        length &&\n          endMarker &&\n          (1 !== curFocusedElem.rangeCount ||\n            curFocusedElem.anchorNode !== length.node ||\n            curFocusedElem.anchorOffset !== length.offset ||\n            curFocusedElem.focusNode !== endMarker.node ||\n            curFocusedElem.focusOffset !== endMarker.offset) &&\n          ((priorSelectionInformation =\n            priorSelectionInformation.createRange()),\n          priorSelectionInformation.setStart(length.node, length.offset),\n          curFocusedElem.removeAllRanges(),\n          start > priorSelectionRange\n            ? (curFocusedElem.addRange(priorSelectionInformation),\n              curFocusedElem.extend(endMarker.node, endMarker.offset))\n            : (priorSelectionInformation.setEnd(\n                endMarker.node,\n                endMarker.offset\n              ),\n              curFocusedElem.addRange(priorSelectionInformation)));\n      }\n    priorSelectionInformation = [];\n    for (\n      curFocusedElem = containerInfo;\n      (curFocusedElem = curFocusedElem.parentNode);\n\n    )\n      1 === curFocusedElem.nodeType &&\n        priorSelectionInformation.push({\n          element: curFocusedElem,\n          left: curFocusedElem.scrollLeft,\n          top: curFocusedElem.scrollTop\n        });\n    \"function\" === typeof containerInfo.focus && containerInfo.focus();\n    for (\n      containerInfo = 0;\n      containerInfo < priorSelectionInformation.length;\n      containerInfo++\n    )\n      (curFocusedElem = priorSelectionInformation[containerInfo]),\n        (curFocusedElem.element.scrollLeft = curFocusedElem.left),\n        (curFocusedElem.element.scrollTop = curFocusedElem.top);\n  }\n}\nvar skipSelectionChangeEvent =\n    canUseDOM && \"documentMode\" in document && 11 >= document.documentMode,\n  activeElement = null,\n  activeElementInst = null,\n  lastSelection = null,\n  mouseDown = !1;\nfunction constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget) {\n  var doc =\n    nativeEventTarget.window === nativeEventTarget\n      ? nativeEventTarget.document\n      : 9 === nativeEventTarget.nodeType\n        ? nativeEventTarget\n        : nativeEventTarget.ownerDocument;\n  mouseDown ||\n    null == activeElement ||\n    activeElement !== getActiveElement(doc) ||\n    ((doc = activeElement),\n    \"selectionStart\" in doc && hasSelectionCapabilities(doc)\n      ? (doc = { start: doc.selectionStart, end: doc.selectionEnd })\n      : ((doc = (\n          (doc.ownerDocument && doc.ownerDocument.defaultView) ||\n          window\n        ).getSelection()),\n        (doc = {\n          anchorNode: doc.anchorNode,\n          anchorOffset: doc.anchorOffset,\n          focusNode: doc.focusNode,\n          focusOffset: doc.focusOffset\n        })),\n    (lastSelection && shallowEqual(lastSelection, doc)) ||\n      ((lastSelection = doc),\n      (doc = accumulateTwoPhaseListeners(activeElementInst, \"onSelect\")),\n      0 < doc.length &&\n        ((nativeEvent = new SyntheticEvent(\n          \"onSelect\",\n          \"select\",\n          null,\n          nativeEvent,\n          nativeEventTarget\n        )),\n        dispatchQueue.push({ event: nativeEvent, listeners: doc }),\n        (nativeEvent.target = activeElement))));\n}\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes[\"Webkit\" + styleProp] = \"webkit\" + eventName;\n  prefixes[\"Moz\" + styleProp] = \"moz\" + eventName;\n  return prefixes;\n}\nvar vendorPrefixes = {\n    animationend: makePrefixMap(\"Animation\", \"AnimationEnd\"),\n    animationiteration: makePrefixMap(\"Animation\", \"AnimationIteration\"),\n    animationstart: makePrefixMap(\"Animation\", \"AnimationStart\"),\n    transitionrun: makePrefixMap(\"Transition\", \"TransitionRun\"),\n    transitionstart: makePrefixMap(\"Transition\", \"TransitionStart\"),\n    transitioncancel: makePrefixMap(\"Transition\", \"TransitionCancel\"),\n    transitionend: makePrefixMap(\"Transition\", \"TransitionEnd\")\n  },\n  prefixedEventNames = {},\n  style = {};\ncanUseDOM &&\n  ((style = document.createElement(\"div\").style),\n  \"AnimationEvent\" in window ||\n    (delete vendorPrefixes.animationend.animation,\n    delete vendorPrefixes.animationiteration.animation,\n    delete vendorPrefixes.animationstart.animation),\n  \"TransitionEvent\" in window ||\n    delete vendorPrefixes.transitionend.transition);\nfunction getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) return prefixedEventNames[eventName];\n  if (!vendorPrefixes[eventName]) return eventName;\n  var prefixMap = vendorPrefixes[eventName],\n    styleProp;\n  for (styleProp in prefixMap)\n    if (prefixMap.hasOwnProperty(styleProp) && styleProp in style)\n      return (prefixedEventNames[eventName] = prefixMap[styleProp]);\n  return eventName;\n}\nvar ANIMATION_END = getVendorPrefixedEventName(\"animationend\"),\n  ANIMATION_ITERATION = getVendorPrefixedEventName(\"animationiteration\"),\n  ANIMATION_START = getVendorPrefixedEventName(\"animationstart\"),\n  TRANSITION_RUN = getVendorPrefixedEventName(\"transitionrun\"),\n  TRANSITION_START = getVendorPrefixedEventName(\"transitionstart\"),\n  TRANSITION_CANCEL = getVendorPrefixedEventName(\"transitioncancel\"),\n  TRANSITION_END = getVendorPrefixedEventName(\"transitionend\"),\n  topLevelEventsToReactNames = new Map(),\n  simpleEventPluginEvents =\n    \"abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel\".split(\n      \" \"\n    );\nfunction registerSimpleEvent(domEventName, reactName) {\n  topLevelEventsToReactNames.set(domEventName, reactName);\n  registerTwoPhaseEvent(reactName, [domEventName]);\n}\nvar concurrentQueues = [],\n  concurrentQueuesIndex = 0,\n  concurrentlyUpdatedLanes = 0;\nfunction finishQueueingConcurrentUpdates() {\n  for (\n    var endIndex = concurrentQueuesIndex,\n      i = (concurrentlyUpdatedLanes = concurrentQueuesIndex = 0);\n    i < endIndex;\n\n  ) {\n    var fiber = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var queue = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var update = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var lane = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    if (null !== queue && null !== update) {\n      var pending = queue.pending;\n      null === pending\n        ? (update.next = update)\n        : ((update.next = pending.next), (pending.next = update));\n      queue.pending = update;\n    }\n    0 !== lane && markUpdateLaneFromFiberToRoot(fiber, update, lane);\n  }\n}\nfunction enqueueUpdate$1(fiber, queue, update, lane) {\n  concurrentQueues[concurrentQueuesIndex++] = fiber;\n  concurrentQueues[concurrentQueuesIndex++] = queue;\n  concurrentQueues[concurrentQueuesIndex++] = update;\n  concurrentQueues[concurrentQueuesIndex++] = lane;\n  concurrentlyUpdatedLanes |= lane;\n  fiber.lanes |= lane;\n  fiber = fiber.alternate;\n  null !== fiber && (fiber.lanes |= lane);\n}\nfunction enqueueConcurrentHookUpdate(fiber, queue, update, lane) {\n  enqueueUpdate$1(fiber, queue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction enqueueConcurrentRenderForLane(fiber, lane) {\n  enqueueUpdate$1(fiber, null, null, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {\n  sourceFiber.lanes |= lane;\n  var alternate = sourceFiber.alternate;\n  null !== alternate && (alternate.lanes |= lane);\n  for (var isHidden = !1, parent = sourceFiber.return; null !== parent; )\n    (parent.childLanes |= lane),\n      (alternate = parent.alternate),\n      null !== alternate && (alternate.childLanes |= lane),\n      22 === parent.tag &&\n        ((sourceFiber = parent.stateNode),\n        null === sourceFiber || sourceFiber._visibility & 1 || (isHidden = !0)),\n      (sourceFiber = parent),\n      (parent = parent.return);\n  isHidden &&\n    null !== update &&\n    3 === sourceFiber.tag &&\n    ((parent = sourceFiber.stateNode),\n    (isHidden = 31 - clz32(lane)),\n    (parent = parent.hiddenUpdates),\n    (sourceFiber = parent[isHidden]),\n    null === sourceFiber\n      ? (parent[isHidden] = [update])\n      : sourceFiber.push(update),\n    (update.lane = lane | 536870912));\n}\nfunction getRootForUpdatedFiber(sourceFiber) {\n  if (50 < nestedUpdateCount)\n    throw (\n      ((nestedUpdateCount = 0),\n      (rootWithNestedUpdates = null),\n      Error(formatProdErrorMessage(185)))\n    );\n  for (var parent = sourceFiber.return; null !== parent; )\n    (sourceFiber = parent), (parent = sourceFiber.return);\n  return 3 === sourceFiber.tag ? sourceFiber.stateNode : null;\n}\nvar emptyContextObject = {},\n  CapturedStacks = new WeakMap();\nfunction createCapturedValueAtFiber(value, source) {\n  if (\"object\" === typeof value && null !== value) {\n    var existing = CapturedStacks.get(value);\n    if (void 0 !== existing) return existing;\n    source = {\n      value: value,\n      source: source,\n      stack: getStackByFiberInDevAndProd(source)\n    };\n    CapturedStacks.set(value, source);\n    return source;\n  }\n  return {\n    value: value,\n    source: source,\n    stack: getStackByFiberInDevAndProd(source)\n  };\n}\nvar forkStack = [],\n  forkStackIndex = 0,\n  treeForkProvider = null,\n  treeForkCount = 0,\n  idStack = [],\n  idStackIndex = 0,\n  treeContextProvider = null,\n  treeContextId = 1,\n  treeContextOverflow = \"\";\nfunction pushTreeFork(workInProgress, totalChildren) {\n  forkStack[forkStackIndex++] = treeForkCount;\n  forkStack[forkStackIndex++] = treeForkProvider;\n  treeForkProvider = workInProgress;\n  treeForkCount = totalChildren;\n}\nfunction pushTreeId(workInProgress, totalChildren, index) {\n  idStack[idStackIndex++] = treeContextId;\n  idStack[idStackIndex++] = treeContextOverflow;\n  idStack[idStackIndex++] = treeContextProvider;\n  treeContextProvider = workInProgress;\n  var baseIdWithLeadingBit = treeContextId;\n  workInProgress = treeContextOverflow;\n  var baseLength = 32 - clz32(baseIdWithLeadingBit) - 1;\n  baseIdWithLeadingBit &= ~(1 << baseLength);\n  index += 1;\n  var length = 32 - clz32(totalChildren) + baseLength;\n  if (30 < length) {\n    var numberOfOverflowBits = baseLength - (baseLength % 5);\n    length = (\n      baseIdWithLeadingBit &\n      ((1 << numberOfOverflowBits) - 1)\n    ).toString(32);\n    baseIdWithLeadingBit >>= numberOfOverflowBits;\n    baseLength -= numberOfOverflowBits;\n    treeContextId =\n      (1 << (32 - clz32(totalChildren) + baseLength)) |\n      (index << baseLength) |\n      baseIdWithLeadingBit;\n    treeContextOverflow = length + workInProgress;\n  } else\n    (treeContextId =\n      (1 << length) | (index << baseLength) | baseIdWithLeadingBit),\n      (treeContextOverflow = workInProgress);\n}\nfunction pushMaterializedTreeId(workInProgress) {\n  null !== workInProgress.return &&\n    (pushTreeFork(workInProgress, 1), pushTreeId(workInProgress, 1, 0));\n}\nfunction popTreeContext(workInProgress) {\n  for (; workInProgress === treeForkProvider; )\n    (treeForkProvider = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null),\n      (treeForkCount = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null);\n  for (; workInProgress === treeContextProvider; )\n    (treeContextProvider = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextOverflow = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextId = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null);\n}\nvar hydrationParentFiber = null,\n  nextHydratableInstance = null,\n  isHydrating = !1,\n  hydrationErrors = null,\n  rootOrSingletonContext = !1,\n  HydrationMismatchException = Error(formatProdErrorMessage(519));\nfunction throwOnHydrationMismatch(fiber) {\n  var error = Error(formatProdErrorMessage(418, \"\"));\n  queueHydrationError(createCapturedValueAtFiber(error, fiber));\n  throw HydrationMismatchException;\n}\nfunction prepareToHydrateHostInstance(fiber) {\n  var instance = fiber.stateNode,\n    type = fiber.type,\n    props = fiber.memoizedProps;\n  instance[internalInstanceKey] = fiber;\n  instance[internalPropsKey] = props;\n  switch (type) {\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", instance);\n      listenToNonDelegatedEvent(\"close\", instance);\n      break;\n    case \"iframe\":\n    case \"object\":\n    case \"embed\":\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (type = 0; type < mediaEventTypes.length; type++)\n        listenToNonDelegatedEvent(mediaEventTypes[type], instance);\n      break;\n    case \"source\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      break;\n    case \"img\":\n    case \"image\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", instance);\n      break;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      initInput(\n        instance,\n        props.value,\n        props.defaultValue,\n        props.checked,\n        props.defaultChecked,\n        props.type,\n        props.name,\n        !0\n      );\n      track(instance);\n      break;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      break;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", instance),\n        initTextarea(instance, props.value, props.defaultValue, props.children),\n        track(instance);\n  }\n  type = props.children;\n  (\"string\" !== typeof type &&\n    \"number\" !== typeof type &&\n    \"bigint\" !== typeof type) ||\n  instance.textContent === \"\" + type ||\n  !0 === props.suppressHydrationWarning ||\n  checkForUnmatchedText(instance.textContent, type)\n    ? (null != props.popover &&\n        (listenToNonDelegatedEvent(\"beforetoggle\", instance),\n        listenToNonDelegatedEvent(\"toggle\", instance)),\n      null != props.onScroll && listenToNonDelegatedEvent(\"scroll\", instance),\n      null != props.onScrollEnd &&\n        listenToNonDelegatedEvent(\"scrollend\", instance),\n      null != props.onClick && (instance.onclick = noop$1),\n      (instance = !0))\n    : (instance = !1);\n  instance || throwOnHydrationMismatch(fiber);\n}\nfunction popToNextHostParent(fiber) {\n  for (hydrationParentFiber = fiber.return; hydrationParentFiber; )\n    switch (hydrationParentFiber.tag) {\n      case 3:\n      case 27:\n        rootOrSingletonContext = !0;\n        return;\n      case 5:\n      case 13:\n        rootOrSingletonContext = !1;\n        return;\n      default:\n        hydrationParentFiber = hydrationParentFiber.return;\n    }\n}\nfunction popHydrationState(fiber) {\n  if (fiber !== hydrationParentFiber) return !1;\n  if (!isHydrating) return popToNextHostParent(fiber), (isHydrating = !0), !1;\n  var shouldClear = !1,\n    JSCompiler_temp;\n  if ((JSCompiler_temp = 3 !== fiber.tag && 27 !== fiber.tag)) {\n    if ((JSCompiler_temp = 5 === fiber.tag))\n      (JSCompiler_temp = fiber.type),\n        (JSCompiler_temp =\n          !(\"form\" !== JSCompiler_temp && \"button\" !== JSCompiler_temp) ||\n          shouldSetTextContent(fiber.type, fiber.memoizedProps));\n    JSCompiler_temp = !JSCompiler_temp;\n  }\n  JSCompiler_temp && (shouldClear = !0);\n  shouldClear && nextHydratableInstance && throwOnHydrationMismatch(fiber);\n  popToNextHostParent(fiber);\n  if (13 === fiber.tag) {\n    fiber = fiber.memoizedState;\n    fiber = null !== fiber ? fiber.dehydrated : null;\n    if (!fiber) throw Error(formatProdErrorMessage(317));\n    a: {\n      fiber = fiber.nextSibling;\n      for (shouldClear = 0; fiber; ) {\n        if (8 === fiber.nodeType)\n          if (((JSCompiler_temp = fiber.data), \"/$\" === JSCompiler_temp)) {\n            if (0 === shouldClear) {\n              nextHydratableInstance = getNextHydratable(fiber.nextSibling);\n              break a;\n            }\n            shouldClear--;\n          } else\n            (\"$\" !== JSCompiler_temp &&\n              \"$!\" !== JSCompiler_temp &&\n              \"$?\" !== JSCompiler_temp) ||\n              shouldClear++;\n        fiber = fiber.nextSibling;\n      }\n      nextHydratableInstance = null;\n    }\n  } else\n    nextHydratableInstance = hydrationParentFiber\n      ? getNextHydratable(fiber.stateNode.nextSibling)\n      : null;\n  return !0;\n}\nfunction resetHydrationState() {\n  nextHydratableInstance = hydrationParentFiber = null;\n  isHydrating = !1;\n}\nfunction queueHydrationError(error) {\n  null === hydrationErrors\n    ? (hydrationErrors = [error])\n    : hydrationErrors.push(error);\n}\nvar SuspenseException = Error(formatProdErrorMessage(460)),\n  SuspenseyCommitException = Error(formatProdErrorMessage(474)),\n  noopSuspenseyCommitThenable = { then: function () {} };\nfunction isThenableResolved(thenable) {\n  thenable = thenable.status;\n  return \"fulfilled\" === thenable || \"rejected\" === thenable;\n}\nfunction noop$3() {}\nfunction trackUsedThenable(thenableState, thenable, index) {\n  index = thenableState[index];\n  void 0 === index\n    ? thenableState.push(thenable)\n    : index !== thenable && (thenable.then(noop$3, noop$3), (thenable = index));\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      thenableState = thenable.reason;\n      if (thenableState === SuspenseException)\n        throw Error(formatProdErrorMessage(483));\n      throw thenableState;\n    default:\n      if (\"string\" === typeof thenable.status) thenable.then(noop$3, noop$3);\n      else {\n        thenableState = workInProgressRoot;\n        if (null !== thenableState && 100 < thenableState.shellSuspendCounter)\n          throw Error(formatProdErrorMessage(482));\n        thenableState = thenable;\n        thenableState.status = \"pending\";\n        thenableState.then(\n          function (fulfilledValue) {\n            if (\"pending\" === thenable.status) {\n              var fulfilledThenable = thenable;\n              fulfilledThenable.status = \"fulfilled\";\n              fulfilledThenable.value = fulfilledValue;\n            }\n          },\n          function (error) {\n            if (\"pending\" === thenable.status) {\n              var rejectedThenable = thenable;\n              rejectedThenable.status = \"rejected\";\n              rejectedThenable.reason = error;\n            }\n          }\n        );\n      }\n      switch (thenable.status) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          thenableState = thenable.reason;\n          if (thenableState === SuspenseException)\n            throw Error(formatProdErrorMessage(483));\n          throw thenableState;\n      }\n      suspendedThenable = thenable;\n      throw SuspenseException;\n  }\n}\nvar suspendedThenable = null;\nfunction getSuspendedThenable() {\n  if (null === suspendedThenable) throw Error(formatProdErrorMessage(459));\n  var thenable = suspendedThenable;\n  suspendedThenable = null;\n  return thenable;\n}\nvar thenableState$1 = null,\n  thenableIndexCounter$1 = 0;\nfunction unwrapThenable(thenable) {\n  var index = thenableIndexCounter$1;\n  thenableIndexCounter$1 += 1;\n  null === thenableState$1 && (thenableState$1 = []);\n  return trackUsedThenable(thenableState$1, thenable, index);\n}\nfunction coerceRef(workInProgress, element) {\n  element = element.props.ref;\n  workInProgress.ref = void 0 !== element ? element : null;\n}\nfunction throwOnInvalidObjectType(returnFiber, newChild) {\n  if (newChild.$$typeof === REACT_LEGACY_ELEMENT_TYPE)\n    throw Error(formatProdErrorMessage(525));\n  returnFiber = Object.prototype.toString.call(newChild);\n  throw Error(\n    formatProdErrorMessage(\n      31,\n      \"[object Object]\" === returnFiber\n        ? \"object with keys {\" + Object.keys(newChild).join(\", \") + \"}\"\n        : returnFiber\n    )\n  );\n}\nfunction resolveLazy(lazyType) {\n  var init = lazyType._init;\n  return init(lazyType._payload);\n}\nfunction createChildReconciler(shouldTrackSideEffects) {\n  function deleteChild(returnFiber, childToDelete) {\n    if (shouldTrackSideEffects) {\n      var deletions = returnFiber.deletions;\n      null === deletions\n        ? ((returnFiber.deletions = [childToDelete]), (returnFiber.flags |= 16))\n        : deletions.push(childToDelete);\n    }\n  }\n  function deleteRemainingChildren(returnFiber, currentFirstChild) {\n    if (!shouldTrackSideEffects) return null;\n    for (; null !== currentFirstChild; )\n      deleteChild(returnFiber, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return null;\n  }\n  function mapRemainingChildren(currentFirstChild) {\n    for (var existingChildren = new Map(); null !== currentFirstChild; )\n      null !== currentFirstChild.key\n        ? existingChildren.set(currentFirstChild.key, currentFirstChild)\n        : existingChildren.set(currentFirstChild.index, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return existingChildren;\n  }\n  function useFiber(fiber, pendingProps) {\n    fiber = createWorkInProgress(fiber, pendingProps);\n    fiber.index = 0;\n    fiber.sibling = null;\n    return fiber;\n  }\n  function placeChild(newFiber, lastPlacedIndex, newIndex) {\n    newFiber.index = newIndex;\n    if (!shouldTrackSideEffects)\n      return (newFiber.flags |= 1048576), lastPlacedIndex;\n    newIndex = newFiber.alternate;\n    if (null !== newIndex)\n      return (\n        (newIndex = newIndex.index),\n        newIndex < lastPlacedIndex\n          ? ((newFiber.flags |= 33554434), lastPlacedIndex)\n          : newIndex\n      );\n    newFiber.flags |= 33554434;\n    return lastPlacedIndex;\n  }\n  function placeSingleChild(newFiber) {\n    shouldTrackSideEffects &&\n      null === newFiber.alternate &&\n      (newFiber.flags |= 33554434);\n    return newFiber;\n  }\n  function updateTextNode(returnFiber, current, textContent, lanes) {\n    if (null === current || 6 !== current.tag)\n      return (\n        (current = createFiberFromText(textContent, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, textContent);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateElement(returnFiber, current, element, lanes) {\n    var elementType = element.type;\n    if (elementType === REACT_FRAGMENT_TYPE)\n      return updateFragment(\n        returnFiber,\n        current,\n        element.props.children,\n        lanes,\n        element.key\n      );\n    if (\n      null !== current &&\n      (current.elementType === elementType ||\n        (\"object\" === typeof elementType &&\n          null !== elementType &&\n          elementType.$$typeof === REACT_LAZY_TYPE &&\n          resolveLazy(elementType) === current.type))\n    )\n      return (\n        (current = useFiber(current, element.props)),\n        coerceRef(current, element),\n        (current.return = returnFiber),\n        current\n      );\n    current = createFiberFromTypeAndProps(\n      element.type,\n      element.key,\n      element.props,\n      null,\n      returnFiber.mode,\n      lanes\n    );\n    coerceRef(current, element);\n    current.return = returnFiber;\n    return current;\n  }\n  function updatePortal(returnFiber, current, portal, lanes) {\n    if (\n      null === current ||\n      4 !== current.tag ||\n      current.stateNode.containerInfo !== portal.containerInfo ||\n      current.stateNode.implementation !== portal.implementation\n    )\n      return (\n        (current = createFiberFromPortal(portal, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, portal.children || []);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateFragment(returnFiber, current, fragment, lanes, key) {\n    if (null === current || 7 !== current.tag)\n      return (\n        (current = createFiberFromFragment(\n          fragment,\n          returnFiber.mode,\n          lanes,\n          key\n        )),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, fragment);\n    current.return = returnFiber;\n    return current;\n  }\n  function createChild(returnFiber, newChild, lanes) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (newChild = createFiberFromText(\n          \"\" + newChild,\n          returnFiber.mode,\n          lanes\n        )),\n        (newChild.return = returnFiber),\n        newChild\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (lanes = createFiberFromTypeAndProps(\n              newChild.type,\n              newChild.key,\n              newChild.props,\n              null,\n              returnFiber.mode,\n              lanes\n            )),\n            coerceRef(lanes, newChild),\n            (lanes.return = returnFiber),\n            lanes\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (newChild = createFiberFromPortal(\n              newChild,\n              returnFiber.mode,\n              lanes\n            )),\n            (newChild.return = returnFiber),\n            newChild\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return createChild(returnFiber, newChild, lanes);\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (newChild = createFiberFromFragment(\n            newChild,\n            returnFiber.mode,\n            lanes,\n            null\n          )),\n          (newChild.return = returnFiber),\n          newChild\n        );\n      if (\"function\" === typeof newChild.then)\n        return createChild(returnFiber, unwrapThenable(newChild), lanes);\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return createChild(\n          returnFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateSlot(returnFiber, oldFiber, newChild, lanes) {\n    var key = null !== oldFiber ? oldFiber.key : null;\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return null !== key\n        ? null\n        : updateTextNode(returnFiber, oldFiber, \"\" + newChild, lanes);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return newChild.key === key\n            ? updateElement(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_PORTAL_TYPE:\n          return newChild.key === key\n            ? updatePortal(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            updateSlot(returnFiber, oldFiber, newChild, lanes)\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return null !== key\n          ? null\n          : updateFragment(returnFiber, oldFiber, newChild, lanes, null);\n      if (\"function\" === typeof newChild.then)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateFromMap(\n    existingChildren,\n    returnFiber,\n    newIdx,\n    newChild,\n    lanes\n  ) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (existingChildren = existingChildren.get(newIdx) || null),\n        updateTextNode(returnFiber, existingChildren, \"\" + newChild, lanes)\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updateElement(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updatePortal(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return updateFromMap(\n            existingChildren,\n            returnFiber,\n            newIdx,\n            newChild,\n            lanes\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (existingChildren = existingChildren.get(newIdx) || null),\n          updateFragment(returnFiber, existingChildren, newChild, lanes, null)\n        );\n      if (\"function\" === typeof newChild.then)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function reconcileChildrenArray(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null;\n      null !== oldFiber && newIdx < newChildren.length;\n      newIdx++\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(\n        returnFiber,\n        oldFiber,\n        newChildren[newIdx],\n        lanes\n      );\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (newIdx === newChildren.length)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; newIdx < newChildren.length; newIdx++)\n        (oldFiber = createChild(returnFiber, newChildren[newIdx], lanes)),\n          null !== oldFiber &&\n            ((currentFirstChild = placeChild(\n              oldFiber,\n              currentFirstChild,\n              newIdx\n            )),\n            null === previousNewFiber\n              ? (resultingFirstChild = oldFiber)\n              : (previousNewFiber.sibling = oldFiber),\n            (previousNewFiber = oldFiber));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      newIdx < newChildren.length;\n      newIdx++\n    )\n      (nextOldFiber = updateFromMap(\n        oldFiber,\n        returnFiber,\n        newIdx,\n        newChildren[newIdx],\n        lanes\n      )),\n        null !== nextOldFiber &&\n          (shouldTrackSideEffects &&\n            null !== nextOldFiber.alternate &&\n            oldFiber.delete(\n              null === nextOldFiber.key ? newIdx : nextOldFiber.key\n            ),\n          (currentFirstChild = placeChild(\n            nextOldFiber,\n            currentFirstChild,\n            newIdx\n          )),\n          null === previousNewFiber\n            ? (resultingFirstChild = nextOldFiber)\n            : (previousNewFiber.sibling = nextOldFiber),\n          (previousNewFiber = nextOldFiber));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildrenIterator(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    if (null == newChildren) throw Error(formatProdErrorMessage(151));\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null,\n        step = newChildren.next();\n      null !== oldFiber && !step.done;\n      newIdx++, step = newChildren.next()\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(returnFiber, oldFiber, step.value, lanes);\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (step.done)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; !step.done; newIdx++, step = newChildren.next())\n        (step = createChild(returnFiber, step.value, lanes)),\n          null !== step &&\n            ((currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n            null === previousNewFiber\n              ? (resultingFirstChild = step)\n              : (previousNewFiber.sibling = step),\n            (previousNewFiber = step));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      !step.done;\n      newIdx++, step = newChildren.next()\n    )\n      (step = updateFromMap(oldFiber, returnFiber, newIdx, step.value, lanes)),\n        null !== step &&\n          (shouldTrackSideEffects &&\n            null !== step.alternate &&\n            oldFiber.delete(null === step.key ? newIdx : step.key),\n          (currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n          null === previousNewFiber\n            ? (resultingFirstChild = step)\n            : (previousNewFiber.sibling = step),\n          (previousNewFiber = step));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildFibersImpl(\n    returnFiber,\n    currentFirstChild,\n    newChild,\n    lanes\n  ) {\n    \"object\" === typeof newChild &&\n      null !== newChild &&\n      newChild.type === REACT_FRAGMENT_TYPE &&\n      null === newChild.key &&\n      (newChild = newChild.props.children);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          a: {\n            for (var key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key) {\n                key = newChild.type;\n                if (key === REACT_FRAGMENT_TYPE) {\n                  if (7 === currentFirstChild.tag) {\n                    deleteRemainingChildren(\n                      returnFiber,\n                      currentFirstChild.sibling\n                    );\n                    lanes = useFiber(\n                      currentFirstChild,\n                      newChild.props.children\n                    );\n                    lanes.return = returnFiber;\n                    returnFiber = lanes;\n                    break a;\n                  }\n                } else if (\n                  currentFirstChild.elementType === key ||\n                  (\"object\" === typeof key &&\n                    null !== key &&\n                    key.$$typeof === REACT_LAZY_TYPE &&\n                    resolveLazy(key) === currentFirstChild.type)\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.props);\n                  coerceRef(lanes, newChild);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                }\n                deleteRemainingChildren(returnFiber, currentFirstChild);\n                break;\n              } else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            newChild.type === REACT_FRAGMENT_TYPE\n              ? ((lanes = createFiberFromFragment(\n                  newChild.props.children,\n                  returnFiber.mode,\n                  lanes,\n                  newChild.key\n                )),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes))\n              : ((lanes = createFiberFromTypeAndProps(\n                  newChild.type,\n                  newChild.key,\n                  newChild.props,\n                  null,\n                  returnFiber.mode,\n                  lanes\n                )),\n                coerceRef(lanes, newChild),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes));\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_PORTAL_TYPE:\n          a: {\n            for (key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key)\n                if (\n                  4 === currentFirstChild.tag &&\n                  currentFirstChild.stateNode.containerInfo ===\n                    newChild.containerInfo &&\n                  currentFirstChild.stateNode.implementation ===\n                    newChild.implementation\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.children || []);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                } else {\n                  deleteRemainingChildren(returnFiber, currentFirstChild);\n                  break;\n                }\n              else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            lanes = createFiberFromPortal(newChild, returnFiber.mode, lanes);\n            lanes.return = returnFiber;\n            returnFiber = lanes;\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            reconcileChildFibersImpl(\n              returnFiber,\n              currentFirstChild,\n              newChild,\n              lanes\n            )\n          );\n      }\n      if (isArrayImpl(newChild))\n        return reconcileChildrenArray(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      if (getIteratorFn(newChild)) {\n        key = getIteratorFn(newChild);\n        if (\"function\" !== typeof key) throw Error(formatProdErrorMessage(150));\n        newChild = key.call(newChild);\n        return reconcileChildrenIterator(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      }\n      if (\"function\" === typeof newChild.then)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n      ? ((newChild = \"\" + newChild),\n        null !== currentFirstChild && 6 === currentFirstChild.tag\n          ? (deleteRemainingChildren(returnFiber, currentFirstChild.sibling),\n            (lanes = useFiber(currentFirstChild, newChild)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes))\n          : (deleteRemainingChildren(returnFiber, currentFirstChild),\n            (lanes = createFiberFromText(newChild, returnFiber.mode, lanes)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes)),\n        placeSingleChild(returnFiber))\n      : deleteRemainingChildren(returnFiber, currentFirstChild);\n  }\n  return function (returnFiber, currentFirstChild, newChild, lanes) {\n    try {\n      thenableIndexCounter$1 = 0;\n      var firstChildFiber = reconcileChildFibersImpl(\n        returnFiber,\n        currentFirstChild,\n        newChild,\n        lanes\n      );\n      thenableState$1 = null;\n      return firstChildFiber;\n    } catch (x) {\n      if (x === SuspenseException) throw x;\n      var fiber = createFiberImplClass(29, x, null, returnFiber.mode);\n      fiber.lanes = lanes;\n      fiber.return = returnFiber;\n      return fiber;\n    } finally {\n    }\n  };\n}\nvar reconcileChildFibers = createChildReconciler(!0),\n  mountChildFibers = createChildReconciler(!1),\n  currentTreeHiddenStackCursor = createCursor(null),\n  prevEntangledRenderLanesCursor = createCursor(0);\nfunction pushHiddenContext(fiber, context) {\n  fiber = entangledRenderLanes;\n  push(prevEntangledRenderLanesCursor, fiber);\n  push(currentTreeHiddenStackCursor, context);\n  entangledRenderLanes = fiber | context.baseLanes;\n}\nfunction reuseHiddenContextOnStack() {\n  push(prevEntangledRenderLanesCursor, entangledRenderLanes);\n  push(currentTreeHiddenStackCursor, currentTreeHiddenStackCursor.current);\n}\nfunction popHiddenContext() {\n  entangledRenderLanes = prevEntangledRenderLanesCursor.current;\n  pop(currentTreeHiddenStackCursor);\n  pop(prevEntangledRenderLanesCursor);\n}\nvar suspenseHandlerStackCursor = createCursor(null),\n  shellBoundary = null;\nfunction pushPrimaryTreeSuspenseHandler(handler) {\n  var current = handler.alternate;\n  push(suspenseStackCursor, suspenseStackCursor.current & 1);\n  push(suspenseHandlerStackCursor, handler);\n  null === shellBoundary &&\n    (null === current || null !== currentTreeHiddenStackCursor.current\n      ? (shellBoundary = handler)\n      : null !== current.memoizedState && (shellBoundary = handler));\n}\nfunction pushOffscreenSuspenseHandler(fiber) {\n  if (22 === fiber.tag) {\n    if (\n      (push(suspenseStackCursor, suspenseStackCursor.current),\n      push(suspenseHandlerStackCursor, fiber),\n      null === shellBoundary)\n    ) {\n      var current = fiber.alternate;\n      null !== current &&\n        null !== current.memoizedState &&\n        (shellBoundary = fiber);\n    }\n  } else reuseSuspenseHandlerOnStack(fiber);\n}\nfunction reuseSuspenseHandlerOnStack() {\n  push(suspenseStackCursor, suspenseStackCursor.current);\n  push(suspenseHandlerStackCursor, suspenseHandlerStackCursor.current);\n}\nfunction popSuspenseHandler(fiber) {\n  pop(suspenseHandlerStackCursor);\n  shellBoundary === fiber && (shellBoundary = null);\n  pop(suspenseStackCursor);\n}\nvar suspenseStackCursor = createCursor(0);\nfunction findFirstSuspended(row) {\n  for (var node = row; null !== node; ) {\n    if (13 === node.tag) {\n      var state = node.memoizedState;\n      if (\n        null !== state &&\n        ((state = state.dehydrated),\n        null === state || \"$?\" === state.data || \"$!\" === state.data)\n      )\n        return node;\n    } else if (19 === node.tag && void 0 !== node.memoizedProps.revealOrder) {\n      if (0 !== (node.flags & 128)) return node;\n    } else if (null !== node.child) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === row) break;\n    for (; null === node.sibling; ) {\n      if (null === node.return || node.return === row) return null;\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n  return null;\n}\nvar AbortControllerLocal =\n    \"undefined\" !== typeof AbortController\n      ? AbortController\n      : function () {\n          var listeners = [],\n            signal = (this.signal = {\n              aborted: !1,\n              addEventListener: function (type, listener) {\n                listeners.push(listener);\n              }\n            });\n          this.abort = function () {\n            signal.aborted = !0;\n            listeners.forEach(function (listener) {\n              return listener();\n            });\n          };\n        },\n  scheduleCallback$2 = Scheduler.unstable_scheduleCallback,\n  NormalPriority = Scheduler.unstable_NormalPriority,\n  CacheContext = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    Consumer: null,\n    Provider: null,\n    _currentValue: null,\n    _currentValue2: null,\n    _threadCount: 0\n  };\nfunction createCache() {\n  return {\n    controller: new AbortControllerLocal(),\n    data: new Map(),\n    refCount: 0\n  };\n}\nfunction releaseCache(cache) {\n  cache.refCount--;\n  0 === cache.refCount &&\n    scheduleCallback$2(NormalPriority, function () {\n      cache.controller.abort();\n    });\n}\nvar currentEntangledListeners = null,\n  currentEntangledPendingCount = 0,\n  currentEntangledLane = 0,\n  currentEntangledActionThenable = null;\nfunction entangleAsyncAction(transition, thenable) {\n  if (null === currentEntangledListeners) {\n    var entangledListeners = (currentEntangledListeners = []);\n    currentEntangledPendingCount = 0;\n    currentEntangledLane = requestTransitionLane();\n    currentEntangledActionThenable = {\n      status: \"pending\",\n      value: void 0,\n      then: function (resolve) {\n        entangledListeners.push(resolve);\n      }\n    };\n  }\n  currentEntangledPendingCount++;\n  thenable.then(pingEngtangledActionScope, pingEngtangledActionScope);\n  return thenable;\n}\nfunction pingEngtangledActionScope() {\n  if (\n    0 === --currentEntangledPendingCount &&\n    null !== currentEntangledListeners\n  ) {\n    null !== currentEntangledActionThenable &&\n      (currentEntangledActionThenable.status = \"fulfilled\");\n    var listeners = currentEntangledListeners;\n    currentEntangledListeners = null;\n    currentEntangledLane = 0;\n    currentEntangledActionThenable = null;\n    for (var i = 0; i < listeners.length; i++) (0, listeners[i])();\n  }\n}\nfunction chainThenableValue(thenable, result) {\n  var listeners = [],\n    thenableWithOverride = {\n      status: \"pending\",\n      value: null,\n      reason: null,\n      then: function (resolve) {\n        listeners.push(resolve);\n      }\n    };\n  thenable.then(\n    function () {\n      thenableWithOverride.status = \"fulfilled\";\n      thenableWithOverride.value = result;\n      for (var i = 0; i < listeners.length; i++) (0, listeners[i])(result);\n    },\n    function (error) {\n      thenableWithOverride.status = \"rejected\";\n      thenableWithOverride.reason = error;\n      for (error = 0; error < listeners.length; error++)\n        (0, listeners[error])(void 0);\n    }\n  );\n  return thenableWithOverride;\n}\nvar prevOnStartTransitionFinish = ReactSharedInternals.S;\nReactSharedInternals.S = function (transition, returnValue) {\n  \"object\" === typeof returnValue &&\n    null !== returnValue &&\n    \"function\" === typeof returnValue.then &&\n    entangleAsyncAction(transition, returnValue);\n  null !== prevOnStartTransitionFinish &&\n    prevOnStartTransitionFinish(transition, returnValue);\n};\nvar resumedCache = createCursor(null);\nfunction peekCacheFromPool() {\n  var cacheResumedFromPreviousRender = resumedCache.current;\n  return null !== cacheResumedFromPreviousRender\n    ? cacheResumedFromPreviousRender\n    : workInProgressRoot.pooledCache;\n}\nfunction pushTransition(offscreenWorkInProgress, prevCachePool) {\n  null === prevCachePool\n    ? push(resumedCache, resumedCache.current)\n    : push(resumedCache, prevCachePool.pool);\n}\nfunction getSuspendedCache() {\n  var cacheFromPool = peekCacheFromPool();\n  return null === cacheFromPool\n    ? null\n    : { parent: CacheContext._currentValue, pool: cacheFromPool };\n}\nvar renderLanes = 0,\n  currentlyRenderingFiber$1 = null,\n  currentHook = null,\n  workInProgressHook = null,\n  didScheduleRenderPhaseUpdate = !1,\n  didScheduleRenderPhaseUpdateDuringThisPass = !1,\n  shouldDoubleInvokeUserFnsInHooksDEV = !1,\n  localIdCounter = 0,\n  thenableIndexCounter = 0,\n  thenableState = null,\n  globalClientIdCounter = 0;\nfunction throwInvalidHookError() {\n  throw Error(formatProdErrorMessage(321));\n}\nfunction areHookInputsEqual(nextDeps, prevDeps) {\n  if (null === prevDeps) return !1;\n  for (var i = 0; i < prevDeps.length && i < nextDeps.length; i++)\n    if (!objectIs(nextDeps[i], prevDeps[i])) return !1;\n  return !0;\n}\nfunction renderWithHooks(\n  current,\n  workInProgress,\n  Component,\n  props,\n  secondArg,\n  nextRenderLanes\n) {\n  renderLanes = nextRenderLanes;\n  currentlyRenderingFiber$1 = workInProgress;\n  workInProgress.memoizedState = null;\n  workInProgress.updateQueue = null;\n  workInProgress.lanes = 0;\n  ReactSharedInternals.H =\n    null === current || null === current.memoizedState\n      ? HooksDispatcherOnMount\n      : HooksDispatcherOnUpdate;\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  nextRenderLanes = Component(props, secondArg);\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  didScheduleRenderPhaseUpdateDuringThisPass &&\n    (nextRenderLanes = renderWithHooksAgain(\n      workInProgress,\n      Component,\n      props,\n      secondArg\n    ));\n  finishRenderingHooks(current);\n  return nextRenderLanes;\n}\nfunction finishRenderingHooks(current) {\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  var didRenderTooFewHooks = null !== currentHook && null !== currentHook.next;\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber$1 = null;\n  didScheduleRenderPhaseUpdate = !1;\n  thenableIndexCounter = 0;\n  thenableState = null;\n  if (didRenderTooFewHooks) throw Error(formatProdErrorMessage(300));\n  null === current ||\n    didReceiveUpdate ||\n    ((current = current.dependencies),\n    null !== current &&\n      checkIfContextChanged(current) &&\n      (didReceiveUpdate = !0));\n}\nfunction renderWithHooksAgain(workInProgress, Component, props, secondArg) {\n  currentlyRenderingFiber$1 = workInProgress;\n  var numberOfReRenders = 0;\n  do {\n    didScheduleRenderPhaseUpdateDuringThisPass && (thenableState = null);\n    thenableIndexCounter = 0;\n    didScheduleRenderPhaseUpdateDuringThisPass = !1;\n    if (25 <= numberOfReRenders) throw Error(formatProdErrorMessage(301));\n    numberOfReRenders += 1;\n    workInProgressHook = currentHook = null;\n    if (null != workInProgress.updateQueue) {\n      var children = workInProgress.updateQueue;\n      children.lastEffect = null;\n      children.events = null;\n      children.stores = null;\n      null != children.memoCache && (children.memoCache.index = 0);\n    }\n    ReactSharedInternals.H = HooksDispatcherOnRerender;\n    children = Component(props, secondArg);\n  } while (didScheduleRenderPhaseUpdateDuringThisPass);\n  return children;\n}\nfunction TransitionAwareHostComponent() {\n  var dispatcher = ReactSharedInternals.H,\n    maybeThenable = dispatcher.useState()[0];\n  maybeThenable =\n    \"function\" === typeof maybeThenable.then\n      ? useThenable(maybeThenable)\n      : maybeThenable;\n  dispatcher = dispatcher.useState()[0];\n  (null !== currentHook ? currentHook.memoizedState : null) !== dispatcher &&\n    (currentlyRenderingFiber$1.flags |= 1024);\n  return maybeThenable;\n}\nfunction checkDidRenderIdHook() {\n  var didRenderIdHook = 0 !== localIdCounter;\n  localIdCounter = 0;\n  return didRenderIdHook;\n}\nfunction bailoutHooks(current, workInProgress, lanes) {\n  workInProgress.updateQueue = current.updateQueue;\n  workInProgress.flags &= -2053;\n  current.lanes &= ~lanes;\n}\nfunction resetHooksOnUnwind(workInProgress) {\n  if (didScheduleRenderPhaseUpdate) {\n    for (\n      workInProgress = workInProgress.memoizedState;\n      null !== workInProgress;\n\n    ) {\n      var queue = workInProgress.queue;\n      null !== queue && (queue.pending = null);\n      workInProgress = workInProgress.next;\n    }\n    didScheduleRenderPhaseUpdate = !1;\n  }\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber$1 = null;\n  didScheduleRenderPhaseUpdateDuringThisPass = !1;\n  thenableIndexCounter = localIdCounter = 0;\n  thenableState = null;\n}\nfunction mountWorkInProgressHook() {\n  var hook = {\n    memoizedState: null,\n    baseState: null,\n    baseQueue: null,\n    queue: null,\n    next: null\n  };\n  null === workInProgressHook\n    ? (currentlyRenderingFiber$1.memoizedState = workInProgressHook = hook)\n    : (workInProgressHook = workInProgressHook.next = hook);\n  return workInProgressHook;\n}\nfunction updateWorkInProgressHook() {\n  if (null === currentHook) {\n    var nextCurrentHook = currentlyRenderingFiber$1.alternate;\n    nextCurrentHook =\n      null !== nextCurrentHook ? nextCurrentHook.memoizedState : null;\n  } else nextCurrentHook = currentHook.next;\n  var nextWorkInProgressHook =\n    null === workInProgressHook\n      ? currentlyRenderingFiber$1.memoizedState\n      : workInProgressHook.next;\n  if (null !== nextWorkInProgressHook)\n    (workInProgressHook = nextWorkInProgressHook),\n      (currentHook = nextCurrentHook);\n  else {\n    if (null === nextCurrentHook) {\n      if (null === currentlyRenderingFiber$1.alternate)\n        throw Error(formatProdErrorMessage(467));\n      throw Error(formatProdErrorMessage(310));\n    }\n    currentHook = nextCurrentHook;\n    nextCurrentHook = {\n      memoizedState: currentHook.memoizedState,\n      baseState: currentHook.baseState,\n      baseQueue: currentHook.baseQueue,\n      queue: currentHook.queue,\n      next: null\n    };\n    null === workInProgressHook\n      ? (currentlyRenderingFiber$1.memoizedState = workInProgressHook =\n          nextCurrentHook)\n      : (workInProgressHook = workInProgressHook.next = nextCurrentHook);\n  }\n  return workInProgressHook;\n}\nvar createFunctionComponentUpdateQueue;\ncreateFunctionComponentUpdateQueue = function () {\n  return { lastEffect: null, events: null, stores: null, memoCache: null };\n};\nfunction useThenable(thenable) {\n  var index = thenableIndexCounter;\n  thenableIndexCounter += 1;\n  null === thenableState && (thenableState = []);\n  thenable = trackUsedThenable(thenableState, thenable, index);\n  index = currentlyRenderingFiber$1;\n  null ===\n    (null === workInProgressHook\n      ? index.memoizedState\n      : workInProgressHook.next) &&\n    ((index = index.alternate),\n    (ReactSharedInternals.H =\n      null === index || null === index.memoizedState\n        ? HooksDispatcherOnMount\n        : HooksDispatcherOnUpdate));\n  return thenable;\n}\nfunction use(usable) {\n  if (null !== usable && \"object\" === typeof usable) {\n    if (\"function\" === typeof usable.then) return useThenable(usable);\n    if (usable.$$typeof === REACT_CONTEXT_TYPE) return readContext(usable);\n  }\n  throw Error(formatProdErrorMessage(438, String(usable)));\n}\nfunction useMemoCache(size) {\n  var memoCache = null,\n    updateQueue = currentlyRenderingFiber$1.updateQueue;\n  null !== updateQueue && (memoCache = updateQueue.memoCache);\n  if (null == memoCache) {\n    var current = currentlyRenderingFiber$1.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      null !== current &&\n        ((current = current.memoCache),\n        null != current &&\n          (memoCache = {\n            data: current.data.map(function (array) {\n              return array.slice();\n            }),\n            index: 0\n          })));\n  }\n  null == memoCache && (memoCache = { data: [], index: 0 });\n  null === updateQueue &&\n    ((updateQueue = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber$1.updateQueue = updateQueue));\n  updateQueue.memoCache = memoCache;\n  updateQueue = memoCache.data[memoCache.index];\n  if (void 0 === updateQueue)\n    for (\n      updateQueue = memoCache.data[memoCache.index] = Array(size), current = 0;\n      current < size;\n      current++\n    )\n      updateQueue[current] = REACT_MEMO_CACHE_SENTINEL;\n  memoCache.index++;\n  return updateQueue;\n}\nfunction basicStateReducer(state, action) {\n  return \"function\" === typeof action ? action(state) : action;\n}\nfunction updateReducer(reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateReducerImpl(hook, currentHook, reducer);\n}\nfunction updateReducerImpl(hook, current, reducer) {\n  var queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var baseQueue = hook.baseQueue,\n    pendingQueue = queue.pending;\n  if (null !== pendingQueue) {\n    if (null !== baseQueue) {\n      var baseFirst = baseQueue.next;\n      baseQueue.next = pendingQueue.next;\n      pendingQueue.next = baseFirst;\n    }\n    current.baseQueue = baseQueue = pendingQueue;\n    queue.pending = null;\n  }\n  pendingQueue = hook.baseState;\n  if (null === baseQueue) hook.memoizedState = pendingQueue;\n  else {\n    current = baseQueue.next;\n    var newBaseQueueFirst = (baseFirst = null),\n      newBaseQueueLast = null,\n      update = current,\n      didReadFromEntangledAsyncAction$54 = !1;\n    do {\n      var updateLane = update.lane & -536870913;\n      if (\n        updateLane !== update.lane\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        var revertLane = update.revertLane;\n        if (0 === revertLane)\n          null !== newBaseQueueLast &&\n            (newBaseQueueLast = newBaseQueueLast.next =\n              {\n                lane: 0,\n                revertLane: 0,\n                action: update.action,\n                hasEagerState: update.hasEagerState,\n                eagerState: update.eagerState,\n                next: null\n              }),\n            updateLane === currentEntangledLane &&\n              (didReadFromEntangledAsyncAction$54 = !0);\n        else if ((renderLanes & revertLane) === revertLane) {\n          update = update.next;\n          revertLane === currentEntangledLane &&\n            (didReadFromEntangledAsyncAction$54 = !0);\n          continue;\n        } else\n          (updateLane = {\n            lane: 0,\n            revertLane: update.revertLane,\n            action: update.action,\n            hasEagerState: update.hasEagerState,\n            eagerState: update.eagerState,\n            next: null\n          }),\n            null === newBaseQueueLast\n              ? ((newBaseQueueFirst = newBaseQueueLast = updateLane),\n                (baseFirst = pendingQueue))\n              : (newBaseQueueLast = newBaseQueueLast.next = updateLane),\n            (currentlyRenderingFiber$1.lanes |= revertLane),\n            (workInProgressRootSkippedLanes |= revertLane);\n        updateLane = update.action;\n        shouldDoubleInvokeUserFnsInHooksDEV &&\n          reducer(pendingQueue, updateLane);\n        pendingQueue = update.hasEagerState\n          ? update.eagerState\n          : reducer(pendingQueue, updateLane);\n      } else\n        (revertLane = {\n          lane: updateLane,\n          revertLane: update.revertLane,\n          action: update.action,\n          hasEagerState: update.hasEagerState,\n          eagerState: update.eagerState,\n          next: null\n        }),\n          null === newBaseQueueLast\n            ? ((newBaseQueueFirst = newBaseQueueLast = revertLane),\n              (baseFirst = pendingQueue))\n            : (newBaseQueueLast = newBaseQueueLast.next = revertLane),\n          (currentlyRenderingFiber$1.lanes |= updateLane),\n          (workInProgressRootSkippedLanes |= updateLane);\n      update = update.next;\n    } while (null !== update && update !== current);\n    null === newBaseQueueLast\n      ? (baseFirst = pendingQueue)\n      : (newBaseQueueLast.next = newBaseQueueFirst);\n    if (\n      !objectIs(pendingQueue, hook.memoizedState) &&\n      ((didReceiveUpdate = !0),\n      didReadFromEntangledAsyncAction$54 &&\n        ((reducer = currentEntangledActionThenable), null !== reducer))\n    )\n      throw reducer;\n    hook.memoizedState = pendingQueue;\n    hook.baseState = baseFirst;\n    hook.baseQueue = newBaseQueueLast;\n    queue.lastRenderedState = pendingQueue;\n  }\n  null === baseQueue && (queue.lanes = 0);\n  return [hook.memoizedState, queue.dispatch];\n}\nfunction rerenderReducer(reducer) {\n  var hook = updateWorkInProgressHook(),\n    queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var dispatch = queue.dispatch,\n    lastRenderPhaseUpdate = queue.pending,\n    newState = hook.memoizedState;\n  if (null !== lastRenderPhaseUpdate) {\n    queue.pending = null;\n    var update = (lastRenderPhaseUpdate = lastRenderPhaseUpdate.next);\n    do (newState = reducer(newState, update.action)), (update = update.next);\n    while (update !== lastRenderPhaseUpdate);\n    objectIs(newState, hook.memoizedState) || (didReceiveUpdate = !0);\n    hook.memoizedState = newState;\n    null === hook.baseQueue && (hook.baseState = newState);\n    queue.lastRenderedState = newState;\n  }\n  return [newState, dispatch];\n}\nfunction updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {\n  var fiber = currentlyRenderingFiber$1,\n    hook = updateWorkInProgressHook(),\n    isHydrating$jscomp$0 = isHydrating;\n  if (isHydrating$jscomp$0) {\n    if (void 0 === getServerSnapshot) throw Error(formatProdErrorMessage(407));\n    getServerSnapshot = getServerSnapshot();\n  } else getServerSnapshot = getSnapshot();\n  var snapshotChanged = !objectIs(\n    (currentHook || hook).memoizedState,\n    getServerSnapshot\n  );\n  snapshotChanged &&\n    ((hook.memoizedState = getServerSnapshot), (didReceiveUpdate = !0));\n  hook = hook.queue;\n  updateEffect(subscribeToStore.bind(null, fiber, hook, subscribe), [\n    subscribe\n  ]);\n  if (\n    hook.getSnapshot !== getSnapshot ||\n    snapshotChanged ||\n    (null !== workInProgressHook && workInProgressHook.memoizedState.tag & 1)\n  ) {\n    fiber.flags |= 2048;\n    pushEffect(\n      9,\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        hook,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      { destroy: void 0 },\n      null\n    );\n    if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n    isHydrating$jscomp$0 ||\n      0 !== (renderLanes & 60) ||\n      pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n  }\n  return getServerSnapshot;\n}\nfunction pushStoreConsistencyCheck(fiber, getSnapshot, renderedSnapshot) {\n  fiber.flags |= 16384;\n  fiber = { getSnapshot: getSnapshot, value: renderedSnapshot };\n  getSnapshot = currentlyRenderingFiber$1.updateQueue;\n  null === getSnapshot\n    ? ((getSnapshot = createFunctionComponentUpdateQueue()),\n      (currentlyRenderingFiber$1.updateQueue = getSnapshot),\n      (getSnapshot.stores = [fiber]))\n    : ((renderedSnapshot = getSnapshot.stores),\n      null === renderedSnapshot\n        ? (getSnapshot.stores = [fiber])\n        : renderedSnapshot.push(fiber));\n}\nfunction updateStoreInstance(fiber, inst, nextSnapshot, getSnapshot) {\n  inst.value = nextSnapshot;\n  inst.getSnapshot = getSnapshot;\n  checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n}\nfunction subscribeToStore(fiber, inst, subscribe) {\n  return subscribe(function () {\n    checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n  });\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction forceStoreRerender(fiber) {\n  var root = enqueueConcurrentRenderForLane(fiber, 2);\n  null !== root && scheduleUpdateOnFiber(root, fiber, 2);\n}\nfunction mountStateImpl(initialState) {\n  var hook = mountWorkInProgressHook();\n  if (\"function\" === typeof initialState) {\n    var initialStateInitializer = initialState;\n    initialState = initialStateInitializer();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        initialStateInitializer();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n  }\n  hook.memoizedState = hook.baseState = initialState;\n  hook.queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: basicStateReducer,\n    lastRenderedState: initialState\n  };\n  return hook;\n}\nfunction updateOptimisticImpl(hook, current, passthrough, reducer) {\n  hook.baseState = passthrough;\n  return updateReducerImpl(\n    hook,\n    currentHook,\n    \"function\" === typeof reducer ? reducer : basicStateReducer\n  );\n}\nfunction dispatchActionState(\n  fiber,\n  actionQueue,\n  setPendingState,\n  setState,\n  payload\n) {\n  if (isRenderPhaseUpdate(fiber)) throw Error(formatProdErrorMessage(485));\n  fiber = actionQueue.action;\n  if (null !== fiber) {\n    var actionNode = {\n      payload: payload,\n      action: fiber,\n      next: null,\n      isTransition: !0,\n      status: \"pending\",\n      value: null,\n      reason: null,\n      listeners: [],\n      then: function (listener) {\n        actionNode.listeners.push(listener);\n      }\n    };\n    null !== ReactSharedInternals.T\n      ? setPendingState(!0)\n      : (actionNode.isTransition = !1);\n    setState(actionNode);\n    setPendingState = actionQueue.pending;\n    null === setPendingState\n      ? ((actionNode.next = actionQueue.pending = actionNode),\n        runActionStateAction(actionQueue, actionNode))\n      : ((actionNode.next = setPendingState.next),\n        (actionQueue.pending = setPendingState.next = actionNode));\n  }\n}\nfunction runActionStateAction(actionQueue, node) {\n  var action = node.action,\n    payload = node.payload,\n    prevState = actionQueue.state;\n  if (node.isTransition) {\n    var prevTransition = ReactSharedInternals.T,\n      currentTransition = {};\n    ReactSharedInternals.T = currentTransition;\n    try {\n      var returnValue = action(prevState, payload),\n        onStartTransitionFinish = ReactSharedInternals.S;\n      null !== onStartTransitionFinish &&\n        onStartTransitionFinish(currentTransition, returnValue);\n      handleActionReturnValue(actionQueue, node, returnValue);\n    } catch (error) {\n      onActionError(actionQueue, node, error);\n    } finally {\n      ReactSharedInternals.T = prevTransition;\n    }\n  } else\n    try {\n      (prevTransition = action(prevState, payload)),\n        handleActionReturnValue(actionQueue, node, prevTransition);\n    } catch (error$60) {\n      onActionError(actionQueue, node, error$60);\n    }\n}\nfunction handleActionReturnValue(actionQueue, node, returnValue) {\n  null !== returnValue &&\n  \"object\" === typeof returnValue &&\n  \"function\" === typeof returnValue.then\n    ? returnValue.then(\n        function (nextState) {\n          onActionSuccess(actionQueue, node, nextState);\n        },\n        function (error) {\n          return onActionError(actionQueue, node, error);\n        }\n      )\n    : onActionSuccess(actionQueue, node, returnValue);\n}\nfunction onActionSuccess(actionQueue, actionNode, nextState) {\n  actionNode.status = \"fulfilled\";\n  actionNode.value = nextState;\n  notifyActionListeners(actionNode);\n  actionQueue.state = nextState;\n  actionNode = actionQueue.pending;\n  null !== actionNode &&\n    ((nextState = actionNode.next),\n    nextState === actionNode\n      ? (actionQueue.pending = null)\n      : ((nextState = nextState.next),\n        (actionNode.next = nextState),\n        runActionStateAction(actionQueue, nextState)));\n}\nfunction onActionError(actionQueue, actionNode, error) {\n  var last = actionQueue.pending;\n  actionQueue.pending = null;\n  if (null !== last) {\n    last = last.next;\n    do\n      (actionNode.status = \"rejected\"),\n        (actionNode.reason = error),\n        notifyActionListeners(actionNode),\n        (actionNode = actionNode.next);\n    while (actionNode !== last);\n  }\n  actionQueue.action = null;\n}\nfunction notifyActionListeners(actionNode) {\n  actionNode = actionNode.listeners;\n  for (var i = 0; i < actionNode.length; i++) (0, actionNode[i])();\n}\nfunction actionStateReducer(oldState, newState) {\n  return newState;\n}\nfunction mountActionState(action, initialStateProp) {\n  if (isHydrating) {\n    var ssrFormState = workInProgressRoot.formState;\n    if (null !== ssrFormState) {\n      a: {\n        var JSCompiler_inline_result = currentlyRenderingFiber$1;\n        if (isHydrating) {\n          if (nextHydratableInstance) {\n            b: {\n              var JSCompiler_inline_result$jscomp$0 = nextHydratableInstance;\n              for (\n                var inRootOrSingleton = rootOrSingletonContext;\n                8 !== JSCompiler_inline_result$jscomp$0.nodeType;\n\n              ) {\n                if (!inRootOrSingleton) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n                JSCompiler_inline_result$jscomp$0 = getNextHydratable(\n                  JSCompiler_inline_result$jscomp$0.nextSibling\n                );\n                if (null === JSCompiler_inline_result$jscomp$0) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n              }\n              inRootOrSingleton = JSCompiler_inline_result$jscomp$0.data;\n              JSCompiler_inline_result$jscomp$0 =\n                \"F!\" === inRootOrSingleton || \"F\" === inRootOrSingleton\n                  ? JSCompiler_inline_result$jscomp$0\n                  : null;\n            }\n            if (JSCompiler_inline_result$jscomp$0) {\n              nextHydratableInstance = getNextHydratable(\n                JSCompiler_inline_result$jscomp$0.nextSibling\n              );\n              JSCompiler_inline_result =\n                \"F!\" === JSCompiler_inline_result$jscomp$0.data;\n              break a;\n            }\n          }\n          throwOnHydrationMismatch(JSCompiler_inline_result);\n        }\n        JSCompiler_inline_result = !1;\n      }\n      JSCompiler_inline_result && (initialStateProp = ssrFormState[0]);\n    }\n  }\n  ssrFormState = mountWorkInProgressHook();\n  ssrFormState.memoizedState = ssrFormState.baseState = initialStateProp;\n  JSCompiler_inline_result = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: actionStateReducer,\n    lastRenderedState: initialStateProp\n  };\n  ssrFormState.queue = JSCompiler_inline_result;\n  ssrFormState = dispatchSetState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    JSCompiler_inline_result\n  );\n  JSCompiler_inline_result.dispatch = ssrFormState;\n  JSCompiler_inline_result = mountStateImpl(!1);\n  inRootOrSingleton = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    !1,\n    JSCompiler_inline_result.queue\n  );\n  JSCompiler_inline_result = mountWorkInProgressHook();\n  JSCompiler_inline_result$jscomp$0 = {\n    state: initialStateProp,\n    dispatch: null,\n    action: action,\n    pending: null\n  };\n  JSCompiler_inline_result.queue = JSCompiler_inline_result$jscomp$0;\n  ssrFormState = dispatchActionState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    JSCompiler_inline_result$jscomp$0,\n    inRootOrSingleton,\n    ssrFormState\n  );\n  JSCompiler_inline_result$jscomp$0.dispatch = ssrFormState;\n  JSCompiler_inline_result.memoizedState = action;\n  return [initialStateProp, ssrFormState, !1];\n}\nfunction updateActionState(action) {\n  var stateHook = updateWorkInProgressHook();\n  return updateActionStateImpl(stateHook, currentHook, action);\n}\nfunction updateActionStateImpl(stateHook, currentStateHook, action) {\n  currentStateHook = updateReducerImpl(\n    stateHook,\n    currentStateHook,\n    actionStateReducer\n  )[0];\n  stateHook = updateReducer(basicStateReducer)[0];\n  currentStateHook =\n    \"object\" === typeof currentStateHook &&\n    null !== currentStateHook &&\n    \"function\" === typeof currentStateHook.then\n      ? useThenable(currentStateHook)\n      : currentStateHook;\n  var actionQueueHook = updateWorkInProgressHook(),\n    actionQueue = actionQueueHook.queue,\n    dispatch = actionQueue.dispatch;\n  action !== actionQueueHook.memoizedState &&\n    ((currentlyRenderingFiber$1.flags |= 2048),\n    pushEffect(\n      9,\n      actionStateActionEffect.bind(null, actionQueue, action),\n      { destroy: void 0 },\n      null\n    ));\n  return [currentStateHook, dispatch, stateHook];\n}\nfunction actionStateActionEffect(actionQueue, action) {\n  actionQueue.action = action;\n}\nfunction rerenderActionState(action) {\n  var stateHook = updateWorkInProgressHook(),\n    currentStateHook = currentHook;\n  if (null !== currentStateHook)\n    return updateActionStateImpl(stateHook, currentStateHook, action);\n  updateWorkInProgressHook();\n  stateHook = stateHook.memoizedState;\n  currentStateHook = updateWorkInProgressHook();\n  var dispatch = currentStateHook.queue.dispatch;\n  currentStateHook.memoizedState = action;\n  return [stateHook, dispatch, !1];\n}\nfunction pushEffect(tag, create, inst, deps) {\n  tag = { tag: tag, create: create, inst: inst, deps: deps, next: null };\n  create = currentlyRenderingFiber$1.updateQueue;\n  null === create &&\n    ((create = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber$1.updateQueue = create));\n  inst = create.lastEffect;\n  null === inst\n    ? (create.lastEffect = tag.next = tag)\n    : ((deps = inst.next),\n      (inst.next = tag),\n      (tag.next = deps),\n      (create.lastEffect = tag));\n  return tag;\n}\nfunction updateRef() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction mountEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = mountWorkInProgressHook();\n  currentlyRenderingFiber$1.flags |= fiberFlags;\n  hook.memoizedState = pushEffect(\n    1 | hookFlags,\n    create,\n    { destroy: void 0 },\n    void 0 === deps ? null : deps\n  );\n}\nfunction updateEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var inst = hook.memoizedState.inst;\n  null !== currentHook &&\n  null !== deps &&\n  areHookInputsEqual(deps, currentHook.memoizedState.deps)\n    ? (hook.memoizedState = pushEffect(hookFlags, create, inst, deps))\n    : ((currentlyRenderingFiber$1.flags |= fiberFlags),\n      (hook.memoizedState = pushEffect(1 | hookFlags, create, inst, deps)));\n}\nfunction mountEffect(create, deps) {\n  mountEffectImpl(8390656, 8, create, deps);\n}\nfunction updateEffect(create, deps) {\n  updateEffectImpl(2048, 8, create, deps);\n}\nfunction updateInsertionEffect(create, deps) {\n  return updateEffectImpl(4, 2, create, deps);\n}\nfunction updateLayoutEffect(create, deps) {\n  return updateEffectImpl(4, 4, create, deps);\n}\nfunction imperativeHandleEffect(create, ref) {\n  if (\"function\" === typeof ref) {\n    create = create();\n    var refCleanup = ref(create);\n    return function () {\n      \"function\" === typeof refCleanup ? refCleanup() : ref(null);\n    };\n  }\n  if (null !== ref && void 0 !== ref)\n    return (\n      (create = create()),\n      (ref.current = create),\n      function () {\n        ref.current = null;\n      }\n    );\n}\nfunction updateImperativeHandle(ref, create, deps) {\n  deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n  updateEffectImpl(4, 4, imperativeHandleEffect.bind(null, create, ref), deps);\n}\nfunction mountDebugValue() {}\nfunction updateCallback(callback, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  hook.memoizedState = [callback, deps];\n  return callback;\n}\nfunction updateMemo(nextCreate, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  prevState = nextCreate();\n  if (shouldDoubleInvokeUserFnsInHooksDEV) {\n    setIsStrictModeForDevtools(!0);\n    try {\n      nextCreate();\n    } finally {\n      setIsStrictModeForDevtools(!1);\n    }\n  }\n  hook.memoizedState = [prevState, deps];\n  return prevState;\n}\nfunction mountDeferredValueImpl(hook, value, initialValue) {\n  if (void 0 === initialValue || 0 !== (renderLanes & 1073741824))\n    return (hook.memoizedState = value);\n  hook.memoizedState = initialValue;\n  hook = requestDeferredLane();\n  currentlyRenderingFiber$1.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return initialValue;\n}\nfunction updateDeferredValueImpl(hook, prevValue, value, initialValue) {\n  if (objectIs(value, prevValue)) return value;\n  if (null !== currentTreeHiddenStackCursor.current)\n    return (\n      (hook = mountDeferredValueImpl(hook, value, initialValue)),\n      objectIs(hook, prevValue) || (didReceiveUpdate = !0),\n      hook\n    );\n  if (0 === (renderLanes & 42))\n    return (didReceiveUpdate = !0), (hook.memoizedState = value);\n  hook = requestDeferredLane();\n  currentlyRenderingFiber$1.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return prevValue;\n}\nfunction startTransition(fiber, queue, pendingState, finishedState, callback) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  ReactDOMSharedInternals.p =\n    0 !== previousPriority && 8 > previousPriority ? previousPriority : 8;\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  dispatchOptimisticSetState(fiber, !1, queue, pendingState);\n  try {\n    var returnValue = callback(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    if (\n      null !== returnValue &&\n      \"object\" === typeof returnValue &&\n      \"function\" === typeof returnValue.then\n    ) {\n      var thenableForFinishedState = chainThenableValue(\n        returnValue,\n        finishedState\n      );\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        thenableForFinishedState,\n        requestUpdateLane(fiber)\n      );\n    } else\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        finishedState,\n        requestUpdateLane(fiber)\n      );\n  } catch (error) {\n    dispatchSetStateInternal(\n      fiber,\n      queue,\n      { then: function () {}, status: \"rejected\", reason: error },\n      requestUpdateLane()\n    );\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction noop$2() {}\nfunction startHostTransition(formFiber, pendingState, action, formData) {\n  if (5 !== formFiber.tag) throw Error(formatProdErrorMessage(476));\n  var queue = ensureFormComponentIsStateful(formFiber).queue;\n  startTransition(\n    formFiber,\n    queue,\n    pendingState,\n    sharedNotPendingObject,\n    null === action\n      ? noop$2\n      : function () {\n          requestFormReset$1(formFiber);\n          return action(formData);\n        }\n  );\n}\nfunction ensureFormComponentIsStateful(formFiber) {\n  var existingStateHook = formFiber.memoizedState;\n  if (null !== existingStateHook) return existingStateHook;\n  existingStateHook = {\n    memoizedState: sharedNotPendingObject,\n    baseState: sharedNotPendingObject,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: sharedNotPendingObject\n    },\n    next: null\n  };\n  var initialResetState = {};\n  existingStateHook.next = {\n    memoizedState: initialResetState,\n    baseState: initialResetState,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: initialResetState\n    },\n    next: null\n  };\n  formFiber.memoizedState = existingStateHook;\n  formFiber = formFiber.alternate;\n  null !== formFiber && (formFiber.memoizedState = existingStateHook);\n  return existingStateHook;\n}\nfunction requestFormReset$1(formFiber) {\n  var resetStateQueue = ensureFormComponentIsStateful(formFiber).next.queue;\n  dispatchSetStateInternal(formFiber, resetStateQueue, {}, requestUpdateLane());\n}\nfunction useHostTransitionStatus() {\n  return readContext(HostTransitionContext);\n}\nfunction updateId() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction updateRefresh() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction refreshCache(fiber) {\n  for (var provider = fiber.return; null !== provider; ) {\n    switch (provider.tag) {\n      case 24:\n      case 3:\n        var lane = requestUpdateLane();\n        fiber = createUpdate(lane);\n        var root$63 = enqueueUpdate(provider, fiber, lane);\n        null !== root$63 &&\n          (scheduleUpdateOnFiber(root$63, provider, lane),\n          entangleTransitions(root$63, provider, lane));\n        provider = { cache: createCache() };\n        fiber.payload = provider;\n        return;\n    }\n    provider = provider.return;\n  }\n}\nfunction dispatchReducerAction(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  action = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  isRenderPhaseUpdate(fiber)\n    ? enqueueRenderPhaseUpdate(queue, action)\n    : ((action = enqueueConcurrentHookUpdate(fiber, queue, action, lane)),\n      null !== action &&\n        (scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane)));\n}\nfunction dispatchSetState(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  dispatchSetStateInternal(fiber, queue, action, lane);\n}\nfunction dispatchSetStateInternal(fiber, queue, action, lane) {\n  var update = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) enqueueRenderPhaseUpdate(queue, update);\n  else {\n    var alternate = fiber.alternate;\n    if (\n      0 === fiber.lanes &&\n      (null === alternate || 0 === alternate.lanes) &&\n      ((alternate = queue.lastRenderedReducer), null !== alternate)\n    )\n      try {\n        var currentState = queue.lastRenderedState,\n          eagerState = alternate(currentState, action);\n        update.hasEagerState = !0;\n        update.eagerState = eagerState;\n        if (objectIs(eagerState, currentState))\n          return (\n            enqueueUpdate$1(fiber, queue, update, 0),\n            null === workInProgressRoot && finishQueueingConcurrentUpdates(),\n            !1\n          );\n      } catch (error) {\n      } finally {\n      }\n    action = enqueueConcurrentHookUpdate(fiber, queue, update, lane);\n    if (null !== action)\n      return (\n        scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane),\n        !0\n      );\n  }\n  return !1;\n}\nfunction dispatchOptimisticSetState(fiber, throwIfDuringRender, queue, action) {\n  action = {\n    lane: 2,\n    revertLane: requestTransitionLane(),\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) {\n    if (throwIfDuringRender) throw Error(formatProdErrorMessage(479));\n  } else\n    (throwIfDuringRender = enqueueConcurrentHookUpdate(\n      fiber,\n      queue,\n      action,\n      2\n    )),\n      null !== throwIfDuringRender &&\n        scheduleUpdateOnFiber(throwIfDuringRender, fiber, 2);\n}\nfunction isRenderPhaseUpdate(fiber) {\n  var alternate = fiber.alternate;\n  return (\n    fiber === currentlyRenderingFiber$1 ||\n    (null !== alternate && alternate === currentlyRenderingFiber$1)\n  );\n}\nfunction enqueueRenderPhaseUpdate(queue, update) {\n  didScheduleRenderPhaseUpdateDuringThisPass = didScheduleRenderPhaseUpdate =\n    !0;\n  var pending = queue.pending;\n  null === pending\n    ? (update.next = update)\n    : ((update.next = pending.next), (pending.next = update));\n  queue.pending = update;\n}\nfunction entangleTransitionUpdate(root, queue, lane) {\n  if (0 !== (lane & 4194176)) {\n    var queueLanes = queue.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    queue.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nvar ContextOnlyDispatcher = {\n  readContext: readContext,\n  use: use,\n  useCallback: throwInvalidHookError,\n  useContext: throwInvalidHookError,\n  useEffect: throwInvalidHookError,\n  useImperativeHandle: throwInvalidHookError,\n  useLayoutEffect: throwInvalidHookError,\n  useInsertionEffect: throwInvalidHookError,\n  useMemo: throwInvalidHookError,\n  useReducer: throwInvalidHookError,\n  useRef: throwInvalidHookError,\n  useState: throwInvalidHookError,\n  useDebugValue: throwInvalidHookError,\n  useDeferredValue: throwInvalidHookError,\n  useTransition: throwInvalidHookError,\n  useSyncExternalStore: throwInvalidHookError,\n  useId: throwInvalidHookError\n};\nContextOnlyDispatcher.useCacheRefresh = throwInvalidHookError;\nContextOnlyDispatcher.useMemoCache = throwInvalidHookError;\nContextOnlyDispatcher.useHostTransitionStatus = throwInvalidHookError;\nContextOnlyDispatcher.useFormState = throwInvalidHookError;\nContextOnlyDispatcher.useActionState = throwInvalidHookError;\nContextOnlyDispatcher.useOptimistic = throwInvalidHookError;\nvar HooksDispatcherOnMount = {\n  readContext: readContext,\n  use: use,\n  useCallback: function (callback, deps) {\n    mountWorkInProgressHook().memoizedState = [\n      callback,\n      void 0 === deps ? null : deps\n    ];\n    return callback;\n  },\n  useContext: readContext,\n  useEffect: mountEffect,\n  useImperativeHandle: function (ref, create, deps) {\n    deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n    mountEffectImpl(\n      4194308,\n      4,\n      imperativeHandleEffect.bind(null, create, ref),\n      deps\n    );\n  },\n  useLayoutEffect: function (create, deps) {\n    return mountEffectImpl(4194308, 4, create, deps);\n  },\n  useInsertionEffect: function (create, deps) {\n    mountEffectImpl(4, 2, create, deps);\n  },\n  useMemo: function (nextCreate, deps) {\n    var hook = mountWorkInProgressHook();\n    deps = void 0 === deps ? null : deps;\n    var nextValue = nextCreate();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        nextCreate();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n    hook.memoizedState = [nextValue, deps];\n    return nextValue;\n  },\n  useReducer: function (reducer, initialArg, init) {\n    var hook = mountWorkInProgressHook();\n    if (void 0 !== init) {\n      var initialState = init(initialArg);\n      if (shouldDoubleInvokeUserFnsInHooksDEV) {\n        setIsStrictModeForDevtools(!0);\n        try {\n          init(initialArg);\n        } finally {\n          setIsStrictModeForDevtools(!1);\n        }\n      }\n    } else initialState = initialArg;\n    hook.memoizedState = hook.baseState = initialState;\n    reducer = {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: reducer,\n      lastRenderedState: initialState\n    };\n    hook.queue = reducer;\n    reducer = reducer.dispatch = dispatchReducerAction.bind(\n      null,\n      currentlyRenderingFiber$1,\n      reducer\n    );\n    return [hook.memoizedState, reducer];\n  },\n  useRef: function (initialValue) {\n    var hook = mountWorkInProgressHook();\n    initialValue = { current: initialValue };\n    return (hook.memoizedState = initialValue);\n  },\n  useState: function (initialState) {\n    initialState = mountStateImpl(initialState);\n    var queue = initialState.queue,\n      dispatch = dispatchSetState.bind(null, currentlyRenderingFiber$1, queue);\n    queue.dispatch = dispatch;\n    return [initialState.memoizedState, dispatch];\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = mountWorkInProgressHook();\n    return mountDeferredValueImpl(hook, value, initialValue);\n  },\n  useTransition: function () {\n    var stateHook = mountStateImpl(!1);\n    stateHook = startTransition.bind(\n      null,\n      currentlyRenderingFiber$1,\n      stateHook.queue,\n      !0,\n      !1\n    );\n    mountWorkInProgressHook().memoizedState = stateHook;\n    return [!1, stateHook];\n  },\n  useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {\n    var fiber = currentlyRenderingFiber$1,\n      hook = mountWorkInProgressHook();\n    if (isHydrating) {\n      if (void 0 === getServerSnapshot)\n        throw Error(formatProdErrorMessage(407));\n      getServerSnapshot = getServerSnapshot();\n    } else {\n      getServerSnapshot = getSnapshot();\n      if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n      0 !== (workInProgressRootRenderLanes & 60) ||\n        pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n    }\n    hook.memoizedState = getServerSnapshot;\n    var inst = { value: getServerSnapshot, getSnapshot: getSnapshot };\n    hook.queue = inst;\n    mountEffect(subscribeToStore.bind(null, fiber, inst, subscribe), [\n      subscribe\n    ]);\n    fiber.flags |= 2048;\n    pushEffect(\n      9,\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        inst,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      { destroy: void 0 },\n      null\n    );\n    return getServerSnapshot;\n  },\n  useId: function () {\n    var hook = mountWorkInProgressHook(),\n      identifierPrefix = workInProgressRoot.identifierPrefix;\n    if (isHydrating) {\n      var JSCompiler_inline_result = treeContextOverflow;\n      var idWithLeadingBit = treeContextId;\n      JSCompiler_inline_result =\n        (\n          idWithLeadingBit & ~(1 << (32 - clz32(idWithLeadingBit) - 1))\n        ).toString(32) + JSCompiler_inline_result;\n      identifierPrefix =\n        \":\" + identifierPrefix + \"R\" + JSCompiler_inline_result;\n      JSCompiler_inline_result = localIdCounter++;\n      0 < JSCompiler_inline_result &&\n        (identifierPrefix += \"H\" + JSCompiler_inline_result.toString(32));\n      identifierPrefix += \":\";\n    } else\n      (JSCompiler_inline_result = globalClientIdCounter++),\n        (identifierPrefix =\n          \":\" +\n          identifierPrefix +\n          \"r\" +\n          JSCompiler_inline_result.toString(32) +\n          \":\");\n    return (hook.memoizedState = identifierPrefix);\n  },\n  useCacheRefresh: function () {\n    return (mountWorkInProgressHook().memoizedState = refreshCache.bind(\n      null,\n      currentlyRenderingFiber$1\n    ));\n  }\n};\nHooksDispatcherOnMount.useMemoCache = useMemoCache;\nHooksDispatcherOnMount.useHostTransitionStatus = useHostTransitionStatus;\nHooksDispatcherOnMount.useFormState = mountActionState;\nHooksDispatcherOnMount.useActionState = mountActionState;\nHooksDispatcherOnMount.useOptimistic = function (passthrough) {\n  var hook = mountWorkInProgressHook();\n  hook.memoizedState = hook.baseState = passthrough;\n  var queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: null,\n    lastRenderedState: null\n  };\n  hook.queue = queue;\n  hook = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    !0,\n    queue\n  );\n  queue.dispatch = hook;\n  return [passthrough, hook];\n};\nvar HooksDispatcherOnUpdate = {\n  readContext: readContext,\n  use: use,\n  useCallback: updateCallback,\n  useContext: readContext,\n  useEffect: updateEffect,\n  useImperativeHandle: updateImperativeHandle,\n  useInsertionEffect: updateInsertionEffect,\n  useLayoutEffect: updateLayoutEffect,\n  useMemo: updateMemo,\n  useReducer: updateReducer,\n  useRef: updateRef,\n  useState: function () {\n    return updateReducer(basicStateReducer);\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = updateWorkInProgressHook();\n    return updateDeferredValueImpl(\n      hook,\n      currentHook.memoizedState,\n      value,\n      initialValue\n    );\n  },\n  useTransition: function () {\n    var booleanOrThenable = updateReducer(basicStateReducer)[0],\n      start = updateWorkInProgressHook().memoizedState;\n    return [\n      \"boolean\" === typeof booleanOrThenable\n        ? booleanOrThenable\n        : useThenable(booleanOrThenable),\n      start\n    ];\n  },\n  useSyncExternalStore: updateSyncExternalStore,\n  useId: updateId\n};\nHooksDispatcherOnUpdate.useCacheRefresh = updateRefresh;\nHooksDispatcherOnUpdate.useMemoCache = useMemoCache;\nHooksDispatcherOnUpdate.useHostTransitionStatus = useHostTransitionStatus;\nHooksDispatcherOnUpdate.useFormState = updateActionState;\nHooksDispatcherOnUpdate.useActionState = updateActionState;\nHooksDispatcherOnUpdate.useOptimistic = function (passthrough, reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n};\nvar HooksDispatcherOnRerender = {\n  readContext: readContext,\n  use: use,\n  useCallback: updateCallback,\n  useContext: readContext,\n  useEffect: updateEffect,\n  useImperativeHandle: updateImperativeHandle,\n  useInsertionEffect: updateInsertionEffect,\n  useLayoutEffect: updateLayoutEffect,\n  useMemo: updateMemo,\n  useReducer: rerenderReducer,\n  useRef: updateRef,\n  useState: function () {\n    return rerenderReducer(basicStateReducer);\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = updateWorkInProgressHook();\n    return null === currentHook\n      ? mountDeferredValueImpl(hook, value, initialValue)\n      : updateDeferredValueImpl(\n          hook,\n          currentHook.memoizedState,\n          value,\n          initialValue\n        );\n  },\n  useTransition: function () {\n    var booleanOrThenable = rerenderReducer(basicStateReducer)[0],\n      start = updateWorkInProgressHook().memoizedState;\n    return [\n      \"boolean\" === typeof booleanOrThenable\n        ? booleanOrThenable\n        : useThenable(booleanOrThenable),\n      start\n    ];\n  },\n  useSyncExternalStore: updateSyncExternalStore,\n  useId: updateId\n};\nHooksDispatcherOnRerender.useCacheRefresh = updateRefresh;\nHooksDispatcherOnRerender.useMemoCache = useMemoCache;\nHooksDispatcherOnRerender.useHostTransitionStatus = useHostTransitionStatus;\nHooksDispatcherOnRerender.useFormState = rerenderActionState;\nHooksDispatcherOnRerender.useActionState = rerenderActionState;\nHooksDispatcherOnRerender.useOptimistic = function (passthrough, reducer) {\n  var hook = updateWorkInProgressHook();\n  if (null !== currentHook)\n    return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n  hook.baseState = passthrough;\n  return [passthrough, hook.queue.dispatch];\n};\nfunction applyDerivedStateFromProps(\n  workInProgress,\n  ctor,\n  getDerivedStateFromProps,\n  nextProps\n) {\n  ctor = workInProgress.memoizedState;\n  getDerivedStateFromProps = getDerivedStateFromProps(nextProps, ctor);\n  getDerivedStateFromProps =\n    null === getDerivedStateFromProps || void 0 === getDerivedStateFromProps\n      ? ctor\n      : assign({}, ctor, getDerivedStateFromProps);\n  workInProgress.memoizedState = getDerivedStateFromProps;\n  0 === workInProgress.lanes &&\n    (workInProgress.updateQueue.baseState = getDerivedStateFromProps);\n}\nvar classComponentUpdater = {\n  isMounted: function (component) {\n    return (component = component._reactInternals)\n      ? getNearestMountedFiber(component) === component\n      : !1;\n  },\n  enqueueSetState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueReplaceState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 1;\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueForceUpdate: function (inst, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 2;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    callback = enqueueUpdate(inst, update, lane);\n    null !== callback &&\n      (scheduleUpdateOnFiber(callback, inst, lane),\n      entangleTransitions(callback, inst, lane));\n  }\n};\nfunction checkShouldComponentUpdate(\n  workInProgress,\n  ctor,\n  oldProps,\n  newProps,\n  oldState,\n  newState,\n  nextContext\n) {\n  workInProgress = workInProgress.stateNode;\n  return \"function\" === typeof workInProgress.shouldComponentUpdate\n    ? workInProgress.shouldComponentUpdate(newProps, newState, nextContext)\n    : ctor.prototype && ctor.prototype.isPureReactComponent\n      ? !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n      : !0;\n}\nfunction callComponentWillReceiveProps(\n  workInProgress,\n  instance,\n  newProps,\n  nextContext\n) {\n  workInProgress = instance.state;\n  \"function\" === typeof instance.componentWillReceiveProps &&\n    instance.componentWillReceiveProps(newProps, nextContext);\n  \"function\" === typeof instance.UNSAFE_componentWillReceiveProps &&\n    instance.UNSAFE_componentWillReceiveProps(newProps, nextContext);\n  instance.state !== workInProgress &&\n    classComponentUpdater.enqueueReplaceState(instance, instance.state, null);\n}\nfunction resolveClassComponentProps(Component, baseProps) {\n  var newProps = baseProps;\n  if (\"ref\" in baseProps) {\n    newProps = {};\n    for (var propName in baseProps)\n      \"ref\" !== propName && (newProps[propName] = baseProps[propName]);\n  }\n  if ((Component = Component.defaultProps)) {\n    newProps === baseProps && (newProps = assign({}, newProps));\n    for (var propName$67 in Component)\n      void 0 === newProps[propName$67] &&\n        (newProps[propName$67] = Component[propName$67]);\n  }\n  return newProps;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction defaultOnUncaughtError(error) {\n  reportGlobalError(error);\n}\nfunction defaultOnCaughtError(error) {\n  console.error(error);\n}\nfunction defaultOnRecoverableError(error) {\n  reportGlobalError(error);\n}\nfunction logUncaughtError(root, errorInfo) {\n  try {\n    var onUncaughtError = root.onUncaughtError;\n    onUncaughtError(errorInfo.value, { componentStack: errorInfo.stack });\n  } catch (e$68) {\n    setTimeout(function () {\n      throw e$68;\n    });\n  }\n}\nfunction logCaughtError(root, boundary, errorInfo) {\n  try {\n    var onCaughtError = root.onCaughtError;\n    onCaughtError(errorInfo.value, {\n      componentStack: errorInfo.stack,\n      errorBoundary: 1 === boundary.tag ? boundary.stateNode : null\n    });\n  } catch (e$69) {\n    setTimeout(function () {\n      throw e$69;\n    });\n  }\n}\nfunction createRootErrorUpdate(root, errorInfo, lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  lane.payload = { element: null };\n  lane.callback = function () {\n    logUncaughtError(root, errorInfo);\n  };\n  return lane;\n}\nfunction createClassErrorUpdate(lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  return lane;\n}\nfunction initializeClassErrorUpdate(update, root, fiber, errorInfo) {\n  var getDerivedStateFromError = fiber.type.getDerivedStateFromError;\n  if (\"function\" === typeof getDerivedStateFromError) {\n    var error = errorInfo.value;\n    update.payload = function () {\n      return getDerivedStateFromError(error);\n    };\n    update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n    };\n  }\n  var inst = fiber.stateNode;\n  null !== inst &&\n    \"function\" === typeof inst.componentDidCatch &&\n    (update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n      \"function\" !== typeof getDerivedStateFromError &&\n        (null === legacyErrorBoundariesThatAlreadyFailed\n          ? (legacyErrorBoundariesThatAlreadyFailed = new Set([this]))\n          : legacyErrorBoundariesThatAlreadyFailed.add(this));\n      var stack = errorInfo.stack;\n      this.componentDidCatch(errorInfo.value, {\n        componentStack: null !== stack ? stack : \"\"\n      });\n    });\n}\nfunction throwException(\n  root,\n  returnFiber,\n  sourceFiber,\n  value,\n  rootRenderLanes\n) {\n  sourceFiber.flags |= 32768;\n  if (\n    null !== value &&\n    \"object\" === typeof value &&\n    \"function\" === typeof value.then\n  ) {\n    returnFiber = sourceFiber.alternate;\n    null !== returnFiber &&\n      propagateParentContextChanges(\n        returnFiber,\n        sourceFiber,\n        rootRenderLanes,\n        !0\n      );\n    sourceFiber = suspenseHandlerStackCursor.current;\n    if (null !== sourceFiber) {\n      switch (sourceFiber.tag) {\n        case 13:\n          return (\n            null === shellBoundary\n              ? renderDidSuspendDelayIfPossible()\n              : null === sourceFiber.alternate &&\n                0 === workInProgressRootExitStatus &&\n                (workInProgressRootExitStatus = 3),\n            (sourceFiber.flags &= -257),\n            (sourceFiber.flags |= 65536),\n            (sourceFiber.lanes = rootRenderLanes),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? (sourceFiber.updateQueue = new Set([value]))\n                  : returnFiber.add(value),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n        case 22:\n          return (\n            (sourceFiber.flags |= 65536),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? ((returnFiber = {\n                      transitions: null,\n                      markerInstances: null,\n                      retryQueue: new Set([value])\n                    }),\n                    (sourceFiber.updateQueue = returnFiber))\n                  : ((sourceFiber = returnFiber.retryQueue),\n                    null === sourceFiber\n                      ? (returnFiber.retryQueue = new Set([value]))\n                      : sourceFiber.add(value)),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n      }\n      throw Error(formatProdErrorMessage(435, sourceFiber.tag));\n    }\n    attachPingListener(root, value, rootRenderLanes);\n    renderDidSuspendDelayIfPossible();\n    return !1;\n  }\n  if (isHydrating)\n    return (\n      (returnFiber = suspenseHandlerStackCursor.current),\n      null !== returnFiber\n        ? (0 === (returnFiber.flags & 65536) && (returnFiber.flags |= 256),\n          (returnFiber.flags |= 65536),\n          (returnFiber.lanes = rootRenderLanes),\n          value !== HydrationMismatchException &&\n            ((root = Error(formatProdErrorMessage(422), { cause: value })),\n            queueHydrationError(createCapturedValueAtFiber(root, sourceFiber))))\n        : (value !== HydrationMismatchException &&\n            ((returnFiber = Error(formatProdErrorMessage(423), {\n              cause: value\n            })),\n            queueHydrationError(\n              createCapturedValueAtFiber(returnFiber, sourceFiber)\n            )),\n          (root = root.current.alternate),\n          (root.flags |= 65536),\n          (rootRenderLanes &= -rootRenderLanes),\n          (root.lanes |= rootRenderLanes),\n          (value = createCapturedValueAtFiber(value, sourceFiber)),\n          (rootRenderLanes = createRootErrorUpdate(\n            root.stateNode,\n            value,\n            rootRenderLanes\n          )),\n          enqueueCapturedUpdate(root, rootRenderLanes),\n          4 !== workInProgressRootExitStatus &&\n            (workInProgressRootExitStatus = 2)),\n      !1\n    );\n  var wrapperError = Error(formatProdErrorMessage(520), { cause: value });\n  wrapperError = createCapturedValueAtFiber(wrapperError, sourceFiber);\n  null === workInProgressRootConcurrentErrors\n    ? (workInProgressRootConcurrentErrors = [wrapperError])\n    : workInProgressRootConcurrentErrors.push(wrapperError);\n  4 !== workInProgressRootExitStatus && (workInProgressRootExitStatus = 2);\n  if (null === returnFiber) return !0;\n  value = createCapturedValueAtFiber(value, sourceFiber);\n  sourceFiber = returnFiber;\n  do {\n    switch (sourceFiber.tag) {\n      case 3:\n        return (\n          (sourceFiber.flags |= 65536),\n          (root = rootRenderLanes & -rootRenderLanes),\n          (sourceFiber.lanes |= root),\n          (root = createRootErrorUpdate(sourceFiber.stateNode, value, root)),\n          enqueueCapturedUpdate(sourceFiber, root),\n          !1\n        );\n      case 1:\n        if (\n          ((returnFiber = sourceFiber.type),\n          (wrapperError = sourceFiber.stateNode),\n          0 === (sourceFiber.flags & 128) &&\n            (\"function\" === typeof returnFiber.getDerivedStateFromError ||\n              (null !== wrapperError &&\n                \"function\" === typeof wrapperError.componentDidCatch &&\n                (null === legacyErrorBoundariesThatAlreadyFailed ||\n                  !legacyErrorBoundariesThatAlreadyFailed.has(wrapperError)))))\n        )\n          return (\n            (sourceFiber.flags |= 65536),\n            (rootRenderLanes &= -rootRenderLanes),\n            (sourceFiber.lanes |= rootRenderLanes),\n            (rootRenderLanes = createClassErrorUpdate(rootRenderLanes)),\n            initializeClassErrorUpdate(\n              rootRenderLanes,\n              root,\n              sourceFiber,\n              value\n            ),\n            enqueueCapturedUpdate(sourceFiber, rootRenderLanes),\n            !1\n          );\n    }\n    sourceFiber = sourceFiber.return;\n  } while (null !== sourceFiber);\n  return !1;\n}\nvar SelectiveHydrationException = Error(formatProdErrorMessage(461)),\n  didReceiveUpdate = !1;\nfunction reconcileChildren(current, workInProgress, nextChildren, renderLanes) {\n  workInProgress.child =\n    null === current\n      ? mountChildFibers(workInProgress, null, nextChildren, renderLanes)\n      : reconcileChildFibers(\n          workInProgress,\n          current.child,\n          nextChildren,\n          renderLanes\n        );\n}\nfunction updateForwardRef(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  Component = Component.render;\n  var ref = workInProgress.ref;\n  if (\"ref\" in nextProps) {\n    var propsWithoutRef = {};\n    for (var key in nextProps)\n      \"ref\" !== key && (propsWithoutRef[key] = nextProps[key]);\n  } else propsWithoutRef = nextProps;\n  prepareToReadContext(workInProgress);\n  nextProps = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    propsWithoutRef,\n    ref,\n    renderLanes\n  );\n  key = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && key && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null === current) {\n    var type = Component.type;\n    if (\n      \"function\" === typeof type &&\n      !shouldConstruct(type) &&\n      void 0 === type.defaultProps &&\n      null === Component.compare\n    )\n      return (\n        (workInProgress.tag = 15),\n        (workInProgress.type = type),\n        updateSimpleMemoComponent(\n          current,\n          workInProgress,\n          type,\n          nextProps,\n          renderLanes\n        )\n      );\n    current = createFiberFromTypeAndProps(\n      Component.type,\n      null,\n      nextProps,\n      workInProgress,\n      workInProgress.mode,\n      renderLanes\n    );\n    current.ref = workInProgress.ref;\n    current.return = workInProgress;\n    return (workInProgress.child = current);\n  }\n  type = current.child;\n  if (!checkScheduledUpdateOrContext(current, renderLanes)) {\n    var prevProps = type.memoizedProps;\n    Component = Component.compare;\n    Component = null !== Component ? Component : shallowEqual;\n    if (Component(prevProps, nextProps) && current.ref === workInProgress.ref)\n      return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n  }\n  workInProgress.flags |= 1;\n  current = createWorkInProgress(type, nextProps);\n  current.ref = workInProgress.ref;\n  current.return = workInProgress;\n  return (workInProgress.child = current);\n}\nfunction updateSimpleMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null !== current) {\n    var prevProps = current.memoizedProps;\n    if (\n      shallowEqual(prevProps, nextProps) &&\n      current.ref === workInProgress.ref\n    )\n      if (\n        ((didReceiveUpdate = !1),\n        (workInProgress.pendingProps = nextProps = prevProps),\n        checkScheduledUpdateOrContext(current, renderLanes))\n      )\n        0 !== (current.flags & 131072) && (didReceiveUpdate = !0);\n      else\n        return (\n          (workInProgress.lanes = current.lanes),\n          bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n        );\n  }\n  return updateFunctionComponent(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    renderLanes\n  );\n}\nfunction updateOffscreenComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    nextChildren = nextProps.children,\n    nextIsDetached = 0 !== (workInProgress.stateNode._pendingVisibility & 2),\n    prevState = null !== current ? current.memoizedState : null;\n  markRef(current, workInProgress);\n  if (\"hidden\" === nextProps.mode || nextIsDetached) {\n    if (0 !== (workInProgress.flags & 128)) {\n      nextProps =\n        null !== prevState ? prevState.baseLanes | renderLanes : renderLanes;\n      if (null !== current) {\n        nextChildren = workInProgress.child = current.child;\n        for (nextIsDetached = 0; null !== nextChildren; )\n          (nextIsDetached =\n            nextIsDetached | nextChildren.lanes | nextChildren.childLanes),\n            (nextChildren = nextChildren.sibling);\n        workInProgress.childLanes = nextIsDetached & ~nextProps;\n      } else (workInProgress.childLanes = 0), (workInProgress.child = null);\n      return deferHiddenOffscreenComponent(\n        current,\n        workInProgress,\n        nextProps,\n        renderLanes\n      );\n    }\n    if (0 !== (renderLanes & 536870912))\n      (workInProgress.memoizedState = { baseLanes: 0, cachePool: null }),\n        null !== current &&\n          pushTransition(\n            workInProgress,\n            null !== prevState ? prevState.cachePool : null\n          ),\n        null !== prevState\n          ? pushHiddenContext(workInProgress, prevState)\n          : reuseHiddenContextOnStack(),\n        pushOffscreenSuspenseHandler(workInProgress);\n    else\n      return (\n        (workInProgress.lanes = workInProgress.childLanes = 536870912),\n        deferHiddenOffscreenComponent(\n          current,\n          workInProgress,\n          null !== prevState ? prevState.baseLanes | renderLanes : renderLanes,\n          renderLanes\n        )\n      );\n  } else\n    null !== prevState\n      ? (pushTransition(workInProgress, prevState.cachePool),\n        pushHiddenContext(workInProgress, prevState),\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (workInProgress.memoizedState = null))\n      : (null !== current && pushTransition(workInProgress, null),\n        reuseHiddenContextOnStack(),\n        reuseSuspenseHandlerOnStack(workInProgress));\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nfunction deferHiddenOffscreenComponent(\n  current,\n  workInProgress,\n  nextBaseLanes,\n  renderLanes\n) {\n  var JSCompiler_inline_result = peekCacheFromPool();\n  JSCompiler_inline_result =\n    null === JSCompiler_inline_result\n      ? null\n      : { parent: CacheContext._currentValue, pool: JSCompiler_inline_result };\n  workInProgress.memoizedState = {\n    baseLanes: nextBaseLanes,\n    cachePool: JSCompiler_inline_result\n  };\n  null !== current && pushTransition(workInProgress, null);\n  reuseHiddenContextOnStack();\n  pushOffscreenSuspenseHandler(workInProgress);\n  null !== current &&\n    propagateParentContextChanges(current, workInProgress, renderLanes, !0);\n  return null;\n}\nfunction markRef(current, workInProgress) {\n  var ref = workInProgress.ref;\n  if (null === ref)\n    null !== current &&\n      null !== current.ref &&\n      (workInProgress.flags |= 2097664);\n  else {\n    if (\"function\" !== typeof ref && \"object\" !== typeof ref)\n      throw Error(formatProdErrorMessage(284));\n    if (null === current || current.ref !== ref)\n      workInProgress.flags |= 2097664;\n  }\n}\nfunction updateFunctionComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  Component = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    void 0,\n    renderLanes\n  );\n  nextProps = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && nextProps && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, Component, renderLanes);\n  return workInProgress.child;\n}\nfunction replayFunctionComponent(\n  current,\n  workInProgress,\n  nextProps,\n  Component,\n  secondArg,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  workInProgress.updateQueue = null;\n  nextProps = renderWithHooksAgain(\n    workInProgress,\n    Component,\n    nextProps,\n    secondArg\n  );\n  finishRenderingHooks(current);\n  Component = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && Component && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateClassComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  if (null === workInProgress.stateNode) {\n    var context = emptyContextObject,\n      contextType = Component.contextType;\n    \"object\" === typeof contextType &&\n      null !== contextType &&\n      (context = readContext(contextType));\n    context = new Component(nextProps, context);\n    workInProgress.memoizedState =\n      null !== context.state && void 0 !== context.state ? context.state : null;\n    context.updater = classComponentUpdater;\n    workInProgress.stateNode = context;\n    context._reactInternals = workInProgress;\n    context = workInProgress.stateNode;\n    context.props = nextProps;\n    context.state = workInProgress.memoizedState;\n    context.refs = {};\n    initializeUpdateQueue(workInProgress);\n    contextType = Component.contextType;\n    context.context =\n      \"object\" === typeof contextType && null !== contextType\n        ? readContext(contextType)\n        : emptyContextObject;\n    context.state = workInProgress.memoizedState;\n    contextType = Component.getDerivedStateFromProps;\n    \"function\" === typeof contextType &&\n      (applyDerivedStateFromProps(\n        workInProgress,\n        Component,\n        contextType,\n        nextProps\n      ),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof Component.getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate ||\n      (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n        \"function\" !== typeof context.componentWillMount) ||\n      ((contextType = context.state),\n      \"function\" === typeof context.componentWillMount &&\n        context.componentWillMount(),\n      \"function\" === typeof context.UNSAFE_componentWillMount &&\n        context.UNSAFE_componentWillMount(),\n      contextType !== context.state &&\n        classComponentUpdater.enqueueReplaceState(context, context.state, null),\n      processUpdateQueue(workInProgress, nextProps, context, renderLanes),\n      suspendIfUpdateReadFromEntangledAsyncAction(),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof context.componentDidMount &&\n      (workInProgress.flags |= 4194308);\n    nextProps = !0;\n  } else if (null === current) {\n    context = workInProgress.stateNode;\n    var unresolvedOldProps = workInProgress.memoizedProps,\n      oldProps = resolveClassComponentProps(Component, unresolvedOldProps);\n    context.props = oldProps;\n    var oldContext = context.context,\n      contextType$jscomp$0 = Component.contextType;\n    contextType = emptyContextObject;\n    \"object\" === typeof contextType$jscomp$0 &&\n      null !== contextType$jscomp$0 &&\n      (contextType = readContext(contextType$jscomp$0));\n    var getDerivedStateFromProps = Component.getDerivedStateFromProps;\n    contextType$jscomp$0 =\n      \"function\" === typeof getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate;\n    unresolvedOldProps = workInProgress.pendingProps !== unresolvedOldProps;\n    contextType$jscomp$0 ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((unresolvedOldProps || oldContext !== contextType) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          contextType\n        ));\n    hasForceUpdate = !1;\n    var oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    oldContext = workInProgress.memoizedState;\n    unresolvedOldProps || oldState !== oldContext || hasForceUpdate\n      ? (\"function\" === typeof getDerivedStateFromProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            getDerivedStateFromProps,\n            nextProps\n          ),\n          (oldContext = workInProgress.memoizedState)),\n        (oldProps =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            oldProps,\n            nextProps,\n            oldState,\n            oldContext,\n            contextType\n          ))\n          ? (contextType$jscomp$0 ||\n              (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n                \"function\" !== typeof context.componentWillMount) ||\n              (\"function\" === typeof context.componentWillMount &&\n                context.componentWillMount(),\n              \"function\" === typeof context.UNSAFE_componentWillMount &&\n                context.UNSAFE_componentWillMount()),\n            \"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308))\n          : (\"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = oldContext)),\n        (context.props = nextProps),\n        (context.state = oldContext),\n        (context.context = contextType),\n        (nextProps = oldProps))\n      : (\"function\" === typeof context.componentDidMount &&\n          (workInProgress.flags |= 4194308),\n        (nextProps = !1));\n  } else {\n    context = workInProgress.stateNode;\n    cloneUpdateQueue(current, workInProgress);\n    contextType = workInProgress.memoizedProps;\n    contextType$jscomp$0 = resolveClassComponentProps(Component, contextType);\n    context.props = contextType$jscomp$0;\n    getDerivedStateFromProps = workInProgress.pendingProps;\n    oldState = context.context;\n    oldContext = Component.contextType;\n    oldProps = emptyContextObject;\n    \"object\" === typeof oldContext &&\n      null !== oldContext &&\n      (oldProps = readContext(oldContext));\n    unresolvedOldProps = Component.getDerivedStateFromProps;\n    (oldContext =\n      \"function\" === typeof unresolvedOldProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate) ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((contextType !== getDerivedStateFromProps || oldState !== oldProps) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          oldProps\n        ));\n    hasForceUpdate = !1;\n    oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    var newState = workInProgress.memoizedState;\n    contextType !== getDerivedStateFromProps ||\n    oldState !== newState ||\n    hasForceUpdate ||\n    (null !== current &&\n      null !== current.dependencies &&\n      checkIfContextChanged(current.dependencies))\n      ? (\"function\" === typeof unresolvedOldProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            unresolvedOldProps,\n            nextProps\n          ),\n          (newState = workInProgress.memoizedState)),\n        (contextType$jscomp$0 =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            contextType$jscomp$0,\n            nextProps,\n            oldState,\n            newState,\n            oldProps\n          ) ||\n          (null !== current &&\n            null !== current.dependencies &&\n            checkIfContextChanged(current.dependencies)))\n          ? (oldContext ||\n              (\"function\" !== typeof context.UNSAFE_componentWillUpdate &&\n                \"function\" !== typeof context.componentWillUpdate) ||\n              (\"function\" === typeof context.componentWillUpdate &&\n                context.componentWillUpdate(nextProps, newState, oldProps),\n              \"function\" === typeof context.UNSAFE_componentWillUpdate &&\n                context.UNSAFE_componentWillUpdate(\n                  nextProps,\n                  newState,\n                  oldProps\n                )),\n            \"function\" === typeof context.componentDidUpdate &&\n              (workInProgress.flags |= 4),\n            \"function\" === typeof context.getSnapshotBeforeUpdate &&\n              (workInProgress.flags |= 1024))\n          : (\"function\" !== typeof context.componentDidUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 4),\n            \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 1024),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = newState)),\n        (context.props = nextProps),\n        (context.state = newState),\n        (context.context = oldProps),\n        (nextProps = contextType$jscomp$0))\n      : (\"function\" !== typeof context.componentDidUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 4),\n        \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 1024),\n        (nextProps = !1));\n  }\n  context = nextProps;\n  markRef(current, workInProgress);\n  nextProps = 0 !== (workInProgress.flags & 128);\n  context || nextProps\n    ? ((context = workInProgress.stateNode),\n      (Component =\n        nextProps && \"function\" !== typeof Component.getDerivedStateFromError\n          ? null\n          : context.render()),\n      (workInProgress.flags |= 1),\n      null !== current && nextProps\n        ? ((workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            current.child,\n            null,\n            renderLanes\n          )),\n          (workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            null,\n            Component,\n            renderLanes\n          )))\n        : reconcileChildren(current, workInProgress, Component, renderLanes),\n      (workInProgress.memoizedState = context.state),\n      (current = workInProgress.child))\n    : (current = bailoutOnAlreadyFinishedWork(\n        current,\n        workInProgress,\n        renderLanes\n      ));\n  return current;\n}\nfunction mountHostRootWithoutHydrating(\n  current,\n  workInProgress,\n  nextChildren,\n  renderLanes\n) {\n  resetHydrationState();\n  workInProgress.flags |= 256;\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nvar SUSPENDED_MARKER = { dehydrated: null, treeContext: null, retryLane: 0 };\nfunction mountSuspenseOffscreenState(renderLanes) {\n  return { baseLanes: renderLanes, cachePool: getSuspendedCache() };\n}\nfunction getRemainingWorkInPrimaryTree(\n  current,\n  primaryTreeDidDefer,\n  renderLanes\n) {\n  current = null !== current ? current.childLanes & ~renderLanes : 0;\n  primaryTreeDidDefer && (current |= workInProgressDeferredLane);\n  return current;\n}\nfunction updateSuspenseComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    showFallback = !1,\n    didSuspend = 0 !== (workInProgress.flags & 128),\n    JSCompiler_temp;\n  (JSCompiler_temp = didSuspend) ||\n    (JSCompiler_temp =\n      null !== current && null === current.memoizedState\n        ? !1\n        : 0 !== (suspenseStackCursor.current & 2));\n  JSCompiler_temp && ((showFallback = !0), (workInProgress.flags &= -129));\n  JSCompiler_temp = 0 !== (workInProgress.flags & 32);\n  workInProgress.flags &= -33;\n  if (null === current) {\n    if (isHydrating) {\n      showFallback\n        ? pushPrimaryTreeSuspenseHandler(workInProgress)\n        : reuseSuspenseHandlerOnStack(workInProgress);\n      if (isHydrating) {\n        var nextInstance = nextHydratableInstance,\n          JSCompiler_temp$jscomp$0;\n        if ((JSCompiler_temp$jscomp$0 = nextInstance)) {\n          c: {\n            JSCompiler_temp$jscomp$0 = nextInstance;\n            for (\n              nextInstance = rootOrSingletonContext;\n              8 !== JSCompiler_temp$jscomp$0.nodeType;\n\n            ) {\n              if (!nextInstance) {\n                nextInstance = null;\n                break c;\n              }\n              JSCompiler_temp$jscomp$0 = getNextHydratable(\n                JSCompiler_temp$jscomp$0.nextSibling\n              );\n              if (null === JSCompiler_temp$jscomp$0) {\n                nextInstance = null;\n                break c;\n              }\n            }\n            nextInstance = JSCompiler_temp$jscomp$0;\n          }\n          null !== nextInstance\n            ? ((workInProgress.memoizedState = {\n                dehydrated: nextInstance,\n                treeContext:\n                  null !== treeContextProvider\n                    ? { id: treeContextId, overflow: treeContextOverflow }\n                    : null,\n                retryLane: 536870912\n              }),\n              (JSCompiler_temp$jscomp$0 = createFiberImplClass(\n                18,\n                null,\n                null,\n                0\n              )),\n              (JSCompiler_temp$jscomp$0.stateNode = nextInstance),\n              (JSCompiler_temp$jscomp$0.return = workInProgress),\n              (workInProgress.child = JSCompiler_temp$jscomp$0),\n              (hydrationParentFiber = workInProgress),\n              (nextHydratableInstance = null),\n              (JSCompiler_temp$jscomp$0 = !0))\n            : (JSCompiler_temp$jscomp$0 = !1);\n        }\n        JSCompiler_temp$jscomp$0 || throwOnHydrationMismatch(workInProgress);\n      }\n      nextInstance = workInProgress.memoizedState;\n      if (\n        null !== nextInstance &&\n        ((nextInstance = nextInstance.dehydrated), null !== nextInstance)\n      )\n        return (\n          \"$!\" === nextInstance.data\n            ? (workInProgress.lanes = 16)\n            : (workInProgress.lanes = 536870912),\n          null\n        );\n      popSuspenseHandler(workInProgress);\n    }\n    nextInstance = nextProps.children;\n    nextProps = nextProps.fallback;\n    if (showFallback)\n      return (\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (showFallback = workInProgress.mode),\n        (nextInstance = mountWorkInProgressOffscreenFiber(\n          { mode: \"hidden\", children: nextInstance },\n          showFallback\n        )),\n        (nextProps = createFiberFromFragment(\n          nextProps,\n          showFallback,\n          renderLanes,\n          null\n        )),\n        (nextInstance.return = workInProgress),\n        (nextProps.return = workInProgress),\n        (nextInstance.sibling = nextProps),\n        (workInProgress.child = nextInstance),\n        (showFallback = workInProgress.child),\n        (showFallback.memoizedState = mountSuspenseOffscreenState(renderLanes)),\n        (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n          current,\n          JSCompiler_temp,\n          renderLanes\n        )),\n        (workInProgress.memoizedState = SUSPENDED_MARKER),\n        nextProps\n      );\n    pushPrimaryTreeSuspenseHandler(workInProgress);\n    return mountSuspensePrimaryChildren(workInProgress, nextInstance);\n  }\n  JSCompiler_temp$jscomp$0 = current.memoizedState;\n  if (\n    null !== JSCompiler_temp$jscomp$0 &&\n    ((nextInstance = JSCompiler_temp$jscomp$0.dehydrated),\n    null !== nextInstance)\n  ) {\n    if (didSuspend)\n      workInProgress.flags & 256\n        ? (pushPrimaryTreeSuspenseHandler(workInProgress),\n          (workInProgress.flags &= -257),\n          (workInProgress = retrySuspenseComponentWithoutHydrating(\n            current,\n            workInProgress,\n            renderLanes\n          )))\n        : null !== workInProgress.memoizedState\n          ? (reuseSuspenseHandlerOnStack(workInProgress),\n            (workInProgress.child = current.child),\n            (workInProgress.flags |= 128),\n            (workInProgress = null))\n          : (reuseSuspenseHandlerOnStack(workInProgress),\n            (showFallback = nextProps.fallback),\n            (nextInstance = workInProgress.mode),\n            (nextProps = mountWorkInProgressOffscreenFiber(\n              { mode: \"visible\", children: nextProps.children },\n              nextInstance\n            )),\n            (showFallback = createFiberFromFragment(\n              showFallback,\n              nextInstance,\n              renderLanes,\n              null\n            )),\n            (showFallback.flags |= 2),\n            (nextProps.return = workInProgress),\n            (showFallback.return = workInProgress),\n            (nextProps.sibling = showFallback),\n            (workInProgress.child = nextProps),\n            reconcileChildFibers(\n              workInProgress,\n              current.child,\n              null,\n              renderLanes\n            ),\n            (nextProps = workInProgress.child),\n            (nextProps.memoizedState =\n              mountSuspenseOffscreenState(renderLanes)),\n            (nextProps.childLanes = getRemainingWorkInPrimaryTree(\n              current,\n              JSCompiler_temp,\n              renderLanes\n            )),\n            (workInProgress.memoizedState = SUSPENDED_MARKER),\n            (workInProgress = showFallback));\n    else if (\n      (pushPrimaryTreeSuspenseHandler(workInProgress),\n      \"$!\" === nextInstance.data)\n    ) {\n      JSCompiler_temp =\n        nextInstance.nextSibling && nextInstance.nextSibling.dataset;\n      if (JSCompiler_temp) var digest = JSCompiler_temp.dgst;\n      JSCompiler_temp = digest;\n      nextProps = Error(formatProdErrorMessage(419));\n      nextProps.stack = \"\";\n      nextProps.digest = JSCompiler_temp;\n      queueHydrationError({ value: nextProps, source: null, stack: null });\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else if (\n      (didReceiveUpdate ||\n        propagateParentContextChanges(current, workInProgress, renderLanes, !1),\n      (JSCompiler_temp = 0 !== (renderLanes & current.childLanes)),\n      didReceiveUpdate || JSCompiler_temp)\n    ) {\n      JSCompiler_temp = workInProgressRoot;\n      if (null !== JSCompiler_temp) {\n        nextProps = renderLanes & -renderLanes;\n        if (0 !== (nextProps & 42)) nextProps = 1;\n        else\n          switch (nextProps) {\n            case 2:\n              nextProps = 1;\n              break;\n            case 8:\n              nextProps = 4;\n              break;\n            case 32:\n              nextProps = 16;\n              break;\n            case 128:\n            case 256:\n            case 512:\n            case 1024:\n            case 2048:\n            case 4096:\n            case 8192:\n            case 16384:\n            case 32768:\n            case 65536:\n            case 131072:\n            case 262144:\n            case 524288:\n            case 1048576:\n            case 2097152:\n            case 4194304:\n            case 8388608:\n            case 16777216:\n            case 33554432:\n              nextProps = 64;\n              break;\n            case 268435456:\n              nextProps = 134217728;\n              break;\n            default:\n              nextProps = 0;\n          }\n        nextProps =\n          0 !== (nextProps & (JSCompiler_temp.suspendedLanes | renderLanes))\n            ? 0\n            : nextProps;\n        if (0 !== nextProps && nextProps !== JSCompiler_temp$jscomp$0.retryLane)\n          throw (\n            ((JSCompiler_temp$jscomp$0.retryLane = nextProps),\n            enqueueConcurrentRenderForLane(current, nextProps),\n            scheduleUpdateOnFiber(JSCompiler_temp, current, nextProps),\n            SelectiveHydrationException)\n          );\n      }\n      \"$?\" === nextInstance.data || renderDidSuspendDelayIfPossible();\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else\n      \"$?\" === nextInstance.data\n        ? ((workInProgress.flags |= 128),\n          (workInProgress.child = current.child),\n          (workInProgress = retryDehydratedSuspenseBoundary.bind(\n            null,\n            current\n          )),\n          (nextInstance._reactRetry = workInProgress),\n          (workInProgress = null))\n        : ((current = JSCompiler_temp$jscomp$0.treeContext),\n          (nextHydratableInstance = getNextHydratable(\n            nextInstance.nextSibling\n          )),\n          (hydrationParentFiber = workInProgress),\n          (isHydrating = !0),\n          (hydrationErrors = null),\n          (rootOrSingletonContext = !1),\n          null !== current &&\n            ((idStack[idStackIndex++] = treeContextId),\n            (idStack[idStackIndex++] = treeContextOverflow),\n            (idStack[idStackIndex++] = treeContextProvider),\n            (treeContextId = current.id),\n            (treeContextOverflow = current.overflow),\n            (treeContextProvider = workInProgress)),\n          (workInProgress = mountSuspensePrimaryChildren(\n            workInProgress,\n            nextProps.children\n          )),\n          (workInProgress.flags |= 4096));\n    return workInProgress;\n  }\n  if (showFallback)\n    return (\n      reuseSuspenseHandlerOnStack(workInProgress),\n      (showFallback = nextProps.fallback),\n      (nextInstance = workInProgress.mode),\n      (JSCompiler_temp$jscomp$0 = current.child),\n      (digest = JSCompiler_temp$jscomp$0.sibling),\n      (nextProps = createWorkInProgress(JSCompiler_temp$jscomp$0, {\n        mode: \"hidden\",\n        children: nextProps.children\n      })),\n      (nextProps.subtreeFlags =\n        JSCompiler_temp$jscomp$0.subtreeFlags & 31457280),\n      null !== digest\n        ? (showFallback = createWorkInProgress(digest, showFallback))\n        : ((showFallback = createFiberFromFragment(\n            showFallback,\n            nextInstance,\n            renderLanes,\n            null\n          )),\n          (showFallback.flags |= 2)),\n      (showFallback.return = workInProgress),\n      (nextProps.return = workInProgress),\n      (nextProps.sibling = showFallback),\n      (workInProgress.child = nextProps),\n      (nextProps = showFallback),\n      (showFallback = workInProgress.child),\n      (nextInstance = current.child.memoizedState),\n      null === nextInstance\n        ? (nextInstance = mountSuspenseOffscreenState(renderLanes))\n        : ((JSCompiler_temp$jscomp$0 = nextInstance.cachePool),\n          null !== JSCompiler_temp$jscomp$0\n            ? ((digest = CacheContext._currentValue),\n              (JSCompiler_temp$jscomp$0 =\n                JSCompiler_temp$jscomp$0.parent !== digest\n                  ? { parent: digest, pool: digest }\n                  : JSCompiler_temp$jscomp$0))\n            : (JSCompiler_temp$jscomp$0 = getSuspendedCache()),\n          (nextInstance = {\n            baseLanes: nextInstance.baseLanes | renderLanes,\n            cachePool: JSCompiler_temp$jscomp$0\n          })),\n      (showFallback.memoizedState = nextInstance),\n      (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n        current,\n        JSCompiler_temp,\n        renderLanes\n      )),\n      (workInProgress.memoizedState = SUSPENDED_MARKER),\n      nextProps\n    );\n  pushPrimaryTreeSuspenseHandler(workInProgress);\n  renderLanes = current.child;\n  current = renderLanes.sibling;\n  renderLanes = createWorkInProgress(renderLanes, {\n    mode: \"visible\",\n    children: nextProps.children\n  });\n  renderLanes.return = workInProgress;\n  renderLanes.sibling = null;\n  null !== current &&\n    ((JSCompiler_temp = workInProgress.deletions),\n    null === JSCompiler_temp\n      ? ((workInProgress.deletions = [current]), (workInProgress.flags |= 16))\n      : JSCompiler_temp.push(current));\n  workInProgress.child = renderLanes;\n  workInProgress.memoizedState = null;\n  return renderLanes;\n}\nfunction mountSuspensePrimaryChildren(workInProgress, primaryChildren) {\n  primaryChildren = mountWorkInProgressOffscreenFiber(\n    { mode: \"visible\", children: primaryChildren },\n    workInProgress.mode\n  );\n  primaryChildren.return = workInProgress;\n  return (workInProgress.child = primaryChildren);\n}\nfunction mountWorkInProgressOffscreenFiber(offscreenProps, mode) {\n  return createFiberFromOffscreen(offscreenProps, mode, 0, null);\n}\nfunction retrySuspenseComponentWithoutHydrating(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  reconcileChildFibers(workInProgress, current.child, null, renderLanes);\n  current = mountSuspensePrimaryChildren(\n    workInProgress,\n    workInProgress.pendingProps.children\n  );\n  current.flags |= 2;\n  workInProgress.memoizedState = null;\n  return current;\n}\nfunction scheduleSuspenseWorkOnFiber(fiber, renderLanes, propagationRoot) {\n  fiber.lanes |= renderLanes;\n  var alternate = fiber.alternate;\n  null !== alternate && (alternate.lanes |= renderLanes);\n  scheduleContextWorkOnParentPath(fiber.return, renderLanes, propagationRoot);\n}\nfunction initSuspenseListRenderState(\n  workInProgress,\n  isBackwards,\n  tail,\n  lastContentRow,\n  tailMode\n) {\n  var renderState = workInProgress.memoizedState;\n  null === renderState\n    ? (workInProgress.memoizedState = {\n        isBackwards: isBackwards,\n        rendering: null,\n        renderingStartTime: 0,\n        last: lastContentRow,\n        tail: tail,\n        tailMode: tailMode\n      })\n    : ((renderState.isBackwards = isBackwards),\n      (renderState.rendering = null),\n      (renderState.renderingStartTime = 0),\n      (renderState.last = lastContentRow),\n      (renderState.tail = tail),\n      (renderState.tailMode = tailMode));\n}\nfunction updateSuspenseListComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    revealOrder = nextProps.revealOrder,\n    tailMode = nextProps.tail;\n  reconcileChildren(current, workInProgress, nextProps.children, renderLanes);\n  nextProps = suspenseStackCursor.current;\n  if (0 !== (nextProps & 2))\n    (nextProps = (nextProps & 1) | 2), (workInProgress.flags |= 128);\n  else {\n    if (null !== current && 0 !== (current.flags & 128))\n      a: for (current = workInProgress.child; null !== current; ) {\n        if (13 === current.tag)\n          null !== current.memoizedState &&\n            scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (19 === current.tag)\n          scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (null !== current.child) {\n          current.child.return = current;\n          current = current.child;\n          continue;\n        }\n        if (current === workInProgress) break a;\n        for (; null === current.sibling; ) {\n          if (null === current.return || current.return === workInProgress)\n            break a;\n          current = current.return;\n        }\n        current.sibling.return = current.return;\n        current = current.sibling;\n      }\n    nextProps &= 1;\n  }\n  push(suspenseStackCursor, nextProps);\n  switch (revealOrder) {\n    case \"forwards\":\n      renderLanes = workInProgress.child;\n      for (revealOrder = null; null !== renderLanes; )\n        (current = renderLanes.alternate),\n          null !== current &&\n            null === findFirstSuspended(current) &&\n            (revealOrder = renderLanes),\n          (renderLanes = renderLanes.sibling);\n      renderLanes = revealOrder;\n      null === renderLanes\n        ? ((revealOrder = workInProgress.child), (workInProgress.child = null))\n        : ((revealOrder = renderLanes.sibling), (renderLanes.sibling = null));\n      initSuspenseListRenderState(\n        workInProgress,\n        !1,\n        revealOrder,\n        renderLanes,\n        tailMode\n      );\n      break;\n    case \"backwards\":\n      renderLanes = null;\n      revealOrder = workInProgress.child;\n      for (workInProgress.child = null; null !== revealOrder; ) {\n        current = revealOrder.alternate;\n        if (null !== current && null === findFirstSuspended(current)) {\n          workInProgress.child = revealOrder;\n          break;\n        }\n        current = revealOrder.sibling;\n        revealOrder.sibling = renderLanes;\n        renderLanes = revealOrder;\n        revealOrder = current;\n      }\n      initSuspenseListRenderState(\n        workInProgress,\n        !0,\n        renderLanes,\n        null,\n        tailMode\n      );\n      break;\n    case \"together\":\n      initSuspenseListRenderState(workInProgress, !1, null, null, void 0);\n      break;\n    default:\n      workInProgress.memoizedState = null;\n  }\n  return workInProgress.child;\n}\nfunction bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes) {\n  null !== current && (workInProgress.dependencies = current.dependencies);\n  workInProgressRootSkippedLanes |= workInProgress.lanes;\n  if (0 === (renderLanes & workInProgress.childLanes))\n    if (null !== current) {\n      if (\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        0 === (renderLanes & workInProgress.childLanes))\n      )\n        return null;\n    } else return null;\n  if (null !== current && workInProgress.child !== current.child)\n    throw Error(formatProdErrorMessage(153));\n  if (null !== workInProgress.child) {\n    current = workInProgress.child;\n    renderLanes = createWorkInProgress(current, current.pendingProps);\n    workInProgress.child = renderLanes;\n    for (renderLanes.return = workInProgress; null !== current.sibling; )\n      (current = current.sibling),\n        (renderLanes = renderLanes.sibling =\n          createWorkInProgress(current, current.pendingProps)),\n        (renderLanes.return = workInProgress);\n    renderLanes.sibling = null;\n  }\n  return workInProgress.child;\n}\nfunction checkScheduledUpdateOrContext(current, renderLanes) {\n  if (0 !== (current.lanes & renderLanes)) return !0;\n  current = current.dependencies;\n  return null !== current && checkIfContextChanged(current) ? !0 : !1;\n}\nfunction attemptEarlyBailoutIfNoScheduledUpdate(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  switch (workInProgress.tag) {\n    case 3:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n      resetHydrationState();\n      break;\n    case 27:\n    case 5:\n      pushHostContext(workInProgress);\n      break;\n    case 4:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      break;\n    case 10:\n      pushProvider(\n        workInProgress,\n        workInProgress.type,\n        workInProgress.memoizedProps.value\n      );\n      break;\n    case 13:\n      var state = workInProgress.memoizedState;\n      if (null !== state) {\n        if (null !== state.dehydrated)\n          return (\n            pushPrimaryTreeSuspenseHandler(workInProgress),\n            (workInProgress.flags |= 128),\n            null\n          );\n        if (0 !== (renderLanes & workInProgress.child.childLanes))\n          return updateSuspenseComponent(current, workInProgress, renderLanes);\n        pushPrimaryTreeSuspenseHandler(workInProgress);\n        current = bailoutOnAlreadyFinishedWork(\n          current,\n          workInProgress,\n          renderLanes\n        );\n        return null !== current ? current.sibling : null;\n      }\n      pushPrimaryTreeSuspenseHandler(workInProgress);\n      break;\n    case 19:\n      var didSuspendBefore = 0 !== (current.flags & 128);\n      state = 0 !== (renderLanes & workInProgress.childLanes);\n      state ||\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        (state = 0 !== (renderLanes & workInProgress.childLanes)));\n      if (didSuspendBefore) {\n        if (state)\n          return updateSuspenseListComponent(\n            current,\n            workInProgress,\n            renderLanes\n          );\n        workInProgress.flags |= 128;\n      }\n      didSuspendBefore = workInProgress.memoizedState;\n      null !== didSuspendBefore &&\n        ((didSuspendBefore.rendering = null),\n        (didSuspendBefore.tail = null),\n        (didSuspendBefore.lastEffect = null));\n      push(suspenseStackCursor, suspenseStackCursor.current);\n      if (state) break;\n      else return null;\n    case 22:\n    case 23:\n      return (\n        (workInProgress.lanes = 0),\n        updateOffscreenComponent(current, workInProgress, renderLanes)\n      );\n    case 24:\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n  }\n  return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n}\nfunction beginWork(current, workInProgress, renderLanes) {\n  if (null !== current)\n    if (current.memoizedProps !== workInProgress.pendingProps)\n      didReceiveUpdate = !0;\n    else {\n      if (\n        !checkScheduledUpdateOrContext(current, renderLanes) &&\n        0 === (workInProgress.flags & 128)\n      )\n        return (\n          (didReceiveUpdate = !1),\n          attemptEarlyBailoutIfNoScheduledUpdate(\n            current,\n            workInProgress,\n            renderLanes\n          )\n        );\n      didReceiveUpdate = 0 !== (current.flags & 131072) ? !0 : !1;\n    }\n  else\n    (didReceiveUpdate = !1),\n      isHydrating &&\n        0 !== (workInProgress.flags & 1048576) &&\n        pushTreeId(workInProgress, treeForkCount, workInProgress.index);\n  workInProgress.lanes = 0;\n  switch (workInProgress.tag) {\n    case 16:\n      a: {\n        current = workInProgress.pendingProps;\n        var lazyComponent = workInProgress.elementType,\n          init = lazyComponent._init;\n        lazyComponent = init(lazyComponent._payload);\n        workInProgress.type = lazyComponent;\n        if (\"function\" === typeof lazyComponent)\n          shouldConstruct(lazyComponent)\n            ? ((current = resolveClassComponentProps(lazyComponent, current)),\n              (workInProgress.tag = 1),\n              (workInProgress = updateClassComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )))\n            : ((workInProgress.tag = 0),\n              (workInProgress = updateFunctionComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )));\n        else {\n          if (void 0 !== lazyComponent && null !== lazyComponent)\n            if (\n              ((init = lazyComponent.$$typeof), init === REACT_FORWARD_REF_TYPE)\n            ) {\n              workInProgress.tag = 11;\n              workInProgress = updateForwardRef(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            } else if (init === REACT_MEMO_TYPE) {\n              workInProgress.tag = 14;\n              workInProgress = updateMemoComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            }\n          workInProgress =\n            getComponentNameFromType(lazyComponent) || lazyComponent;\n          throw Error(formatProdErrorMessage(306, workInProgress, \"\"));\n        }\n      }\n      return workInProgress;\n    case 0:\n      return updateFunctionComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 1:\n      return (\n        (lazyComponent = workInProgress.type),\n        (init = resolveClassComponentProps(\n          lazyComponent,\n          workInProgress.pendingProps\n        )),\n        updateClassComponent(\n          current,\n          workInProgress,\n          lazyComponent,\n          init,\n          renderLanes\n        )\n      );\n    case 3:\n      a: {\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        );\n        if (null === current) throw Error(formatProdErrorMessage(387));\n        var nextProps = workInProgress.pendingProps;\n        init = workInProgress.memoizedState;\n        lazyComponent = init.element;\n        cloneUpdateQueue(current, workInProgress);\n        processUpdateQueue(workInProgress, nextProps, null, renderLanes);\n        var nextState = workInProgress.memoizedState;\n        nextProps = nextState.cache;\n        pushProvider(workInProgress, CacheContext, nextProps);\n        nextProps !== init.cache &&\n          propagateContextChanges(\n            workInProgress,\n            [CacheContext],\n            renderLanes,\n            !0\n          );\n        suspendIfUpdateReadFromEntangledAsyncAction();\n        nextProps = nextState.element;\n        if (init.isDehydrated)\n          if (\n            ((init = {\n              element: nextProps,\n              isDehydrated: !1,\n              cache: nextState.cache\n            }),\n            (workInProgress.updateQueue.baseState = init),\n            (workInProgress.memoizedState = init),\n            workInProgress.flags & 256)\n          ) {\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              nextProps,\n              renderLanes\n            );\n            break a;\n          } else if (nextProps !== lazyComponent) {\n            lazyComponent = createCapturedValueAtFiber(\n              Error(formatProdErrorMessage(424)),\n              workInProgress\n            );\n            queueHydrationError(lazyComponent);\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              nextProps,\n              renderLanes\n            );\n            break a;\n          } else\n            for (\n              nextHydratableInstance = getNextHydratable(\n                workInProgress.stateNode.containerInfo.firstChild\n              ),\n                hydrationParentFiber = workInProgress,\n                isHydrating = !0,\n                hydrationErrors = null,\n                rootOrSingletonContext = !0,\n                renderLanes = mountChildFibers(\n                  workInProgress,\n                  null,\n                  nextProps,\n                  renderLanes\n                ),\n                workInProgress.child = renderLanes;\n              renderLanes;\n\n            )\n              (renderLanes.flags = (renderLanes.flags & -3) | 4096),\n                (renderLanes = renderLanes.sibling);\n        else {\n          resetHydrationState();\n          if (nextProps === lazyComponent) {\n            workInProgress = bailoutOnAlreadyFinishedWork(\n              current,\n              workInProgress,\n              renderLanes\n            );\n            break a;\n          }\n          reconcileChildren(current, workInProgress, nextProps, renderLanes);\n        }\n        workInProgress = workInProgress.child;\n      }\n      return workInProgress;\n    case 26:\n      return (\n        markRef(current, workInProgress),\n        null === current\n          ? (renderLanes = getResource(\n              workInProgress.type,\n              null,\n              workInProgress.pendingProps,\n              null\n            ))\n            ? (workInProgress.memoizedState = renderLanes)\n            : isHydrating ||\n              ((renderLanes = workInProgress.type),\n              (current = workInProgress.pendingProps),\n              (lazyComponent = getOwnerDocumentFromRootContainer(\n                rootInstanceStackCursor.current\n              ).createElement(renderLanes)),\n              (lazyComponent[internalInstanceKey] = workInProgress),\n              (lazyComponent[internalPropsKey] = current),\n              setInitialProperties(lazyComponent, renderLanes, current),\n              markNodeAsHoistable(lazyComponent),\n              (workInProgress.stateNode = lazyComponent))\n          : (workInProgress.memoizedState = getResource(\n              workInProgress.type,\n              current.memoizedProps,\n              workInProgress.pendingProps,\n              current.memoizedState\n            )),\n        null\n      );\n    case 27:\n      return (\n        pushHostContext(workInProgress),\n        null === current &&\n          isHydrating &&\n          ((lazyComponent = workInProgress.stateNode =\n            resolveSingletonInstance(\n              workInProgress.type,\n              workInProgress.pendingProps,\n              rootInstanceStackCursor.current\n            )),\n          (hydrationParentFiber = workInProgress),\n          (rootOrSingletonContext = !0),\n          (nextHydratableInstance = getNextHydratable(\n            lazyComponent.firstChild\n          ))),\n        (lazyComponent = workInProgress.pendingProps.children),\n        null !== current || isHydrating\n          ? reconcileChildren(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            )\n          : (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            )),\n        markRef(current, workInProgress),\n        workInProgress.child\n      );\n    case 5:\n      if (null === current && isHydrating) {\n        if ((init = lazyComponent = nextHydratableInstance))\n          (lazyComponent = canHydrateInstance(\n            lazyComponent,\n            workInProgress.type,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== lazyComponent\n              ? ((workInProgress.stateNode = lazyComponent),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = getNextHydratable(\n                  lazyComponent.firstChild\n                )),\n                (rootOrSingletonContext = !1),\n                (init = !0))\n              : (init = !1);\n        init || throwOnHydrationMismatch(workInProgress);\n      }\n      pushHostContext(workInProgress);\n      init = workInProgress.type;\n      nextProps = workInProgress.pendingProps;\n      nextState = null !== current ? current.memoizedProps : null;\n      lazyComponent = nextProps.children;\n      shouldSetTextContent(init, nextProps)\n        ? (lazyComponent = null)\n        : null !== nextState &&\n          shouldSetTextContent(init, nextState) &&\n          (workInProgress.flags |= 32);\n      null !== workInProgress.memoizedState &&\n        ((init = renderWithHooks(\n          current,\n          workInProgress,\n          TransitionAwareHostComponent,\n          null,\n          null,\n          renderLanes\n        )),\n        (HostTransitionContext._currentValue = init));\n      markRef(current, workInProgress);\n      reconcileChildren(current, workInProgress, lazyComponent, renderLanes);\n      return workInProgress.child;\n    case 6:\n      if (null === current && isHydrating) {\n        if ((current = renderLanes = nextHydratableInstance))\n          (renderLanes = canHydrateTextInstance(\n            renderLanes,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== renderLanes\n              ? ((workInProgress.stateNode = renderLanes),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = null),\n                (current = !0))\n              : (current = !1);\n        current || throwOnHydrationMismatch(workInProgress);\n      }\n      return null;\n    case 13:\n      return updateSuspenseComponent(current, workInProgress, renderLanes);\n    case 4:\n      return (\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        ),\n        (lazyComponent = workInProgress.pendingProps),\n        null === current\n          ? (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            ))\n          : reconcileChildren(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            ),\n        workInProgress.child\n      );\n    case 11:\n      return updateForwardRef(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 7:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 8:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 12:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 10:\n      return (\n        (lazyComponent = workInProgress.pendingProps),\n        pushProvider(workInProgress, workInProgress.type, lazyComponent.value),\n        reconcileChildren(\n          current,\n          workInProgress,\n          lazyComponent.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 9:\n      return (\n        (init = workInProgress.type._context),\n        (lazyComponent = workInProgress.pendingProps.children),\n        prepareToReadContext(workInProgress),\n        (init = readContext(init)),\n        (lazyComponent = lazyComponent(init)),\n        (workInProgress.flags |= 1),\n        reconcileChildren(current, workInProgress, lazyComponent, renderLanes),\n        workInProgress.child\n      );\n    case 14:\n      return updateMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 15:\n      return updateSimpleMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 19:\n      return updateSuspenseListComponent(current, workInProgress, renderLanes);\n    case 22:\n      return updateOffscreenComponent(current, workInProgress, renderLanes);\n    case 24:\n      return (\n        prepareToReadContext(workInProgress),\n        (lazyComponent = readContext(CacheContext)),\n        null === current\n          ? ((init = peekCacheFromPool()),\n            null === init &&\n              ((init = workInProgressRoot),\n              (nextProps = createCache()),\n              (init.pooledCache = nextProps),\n              nextProps.refCount++,\n              null !== nextProps && (init.pooledCacheLanes |= renderLanes),\n              (init = nextProps)),\n            (workInProgress.memoizedState = {\n              parent: lazyComponent,\n              cache: init\n            }),\n            initializeUpdateQueue(workInProgress),\n            pushProvider(workInProgress, CacheContext, init))\n          : (0 !== (current.lanes & renderLanes) &&\n              (cloneUpdateQueue(current, workInProgress),\n              processUpdateQueue(workInProgress, null, null, renderLanes),\n              suspendIfUpdateReadFromEntangledAsyncAction()),\n            (init = current.memoizedState),\n            (nextProps = workInProgress.memoizedState),\n            init.parent !== lazyComponent\n              ? ((init = { parent: lazyComponent, cache: lazyComponent }),\n                (workInProgress.memoizedState = init),\n                0 === workInProgress.lanes &&\n                  (workInProgress.memoizedState =\n                    workInProgress.updateQueue.baseState =\n                      init),\n                pushProvider(workInProgress, CacheContext, lazyComponent))\n              : ((lazyComponent = nextProps.cache),\n                pushProvider(workInProgress, CacheContext, lazyComponent),\n                lazyComponent !== init.cache &&\n                  propagateContextChanges(\n                    workInProgress,\n                    [CacheContext],\n                    renderLanes,\n                    !0\n                  ))),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 29:\n      throw workInProgress.pendingProps;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nvar valueCursor = createCursor(null),\n  currentlyRenderingFiber = null,\n  lastContextDependency = null;\nfunction pushProvider(providerFiber, context, nextValue) {\n  push(valueCursor, context._currentValue);\n  context._currentValue = nextValue;\n}\nfunction popProvider(context) {\n  context._currentValue = valueCursor.current;\n  pop(valueCursor);\n}\nfunction scheduleContextWorkOnParentPath(parent, renderLanes, propagationRoot) {\n  for (; null !== parent; ) {\n    var alternate = parent.alternate;\n    (parent.childLanes & renderLanes) !== renderLanes\n      ? ((parent.childLanes |= renderLanes),\n        null !== alternate && (alternate.childLanes |= renderLanes))\n      : null !== alternate &&\n        (alternate.childLanes & renderLanes) !== renderLanes &&\n        (alternate.childLanes |= renderLanes);\n    if (parent === propagationRoot) break;\n    parent = parent.return;\n  }\n}\nfunction propagateContextChanges(\n  workInProgress,\n  contexts,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  var fiber = workInProgress.child;\n  null !== fiber && (fiber.return = workInProgress);\n  for (; null !== fiber; ) {\n    var list = fiber.dependencies;\n    if (null !== list) {\n      var nextFiber = fiber.child;\n      list = list.firstContext;\n      a: for (; null !== list; ) {\n        var dependency = list;\n        list = fiber;\n        for (var i = 0; i < contexts.length; i++)\n          if (dependency.context === contexts[i]) {\n            list.lanes |= renderLanes;\n            dependency = list.alternate;\n            null !== dependency && (dependency.lanes |= renderLanes);\n            scheduleContextWorkOnParentPath(\n              list.return,\n              renderLanes,\n              workInProgress\n            );\n            forcePropagateEntireTree || (nextFiber = null);\n            break a;\n          }\n        list = dependency.next;\n      }\n    } else if (18 === fiber.tag) {\n      nextFiber = fiber.return;\n      if (null === nextFiber) throw Error(formatProdErrorMessage(341));\n      nextFiber.lanes |= renderLanes;\n      list = nextFiber.alternate;\n      null !== list && (list.lanes |= renderLanes);\n      scheduleContextWorkOnParentPath(nextFiber, renderLanes, workInProgress);\n      nextFiber = null;\n    } else nextFiber = fiber.child;\n    if (null !== nextFiber) nextFiber.return = fiber;\n    else\n      for (nextFiber = fiber; null !== nextFiber; ) {\n        if (nextFiber === workInProgress) {\n          nextFiber = null;\n          break;\n        }\n        fiber = nextFiber.sibling;\n        if (null !== fiber) {\n          fiber.return = nextFiber.return;\n          nextFiber = fiber;\n          break;\n        }\n        nextFiber = nextFiber.return;\n      }\n    fiber = nextFiber;\n  }\n}\nfunction propagateParentContextChanges(\n  current,\n  workInProgress,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  current = null;\n  for (\n    var parent = workInProgress, isInsidePropagationBailout = !1;\n    null !== parent;\n\n  ) {\n    if (!isInsidePropagationBailout)\n      if (0 !== (parent.flags & 524288)) isInsidePropagationBailout = !0;\n      else if (0 !== (parent.flags & 262144)) break;\n    if (10 === parent.tag) {\n      var currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent = currentParent.memoizedProps;\n      if (null !== currentParent) {\n        var context = parent.type;\n        objectIs(parent.pendingProps.value, currentParent.value) ||\n          (null !== current ? current.push(context) : (current = [context]));\n      }\n    } else if (parent === hostTransitionProviderCursor.current) {\n      currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent.memoizedState.memoizedState !==\n        parent.memoizedState.memoizedState &&\n        (null !== current\n          ? current.push(HostTransitionContext)\n          : (current = [HostTransitionContext]));\n    }\n    parent = parent.return;\n  }\n  null !== current &&\n    propagateContextChanges(\n      workInProgress,\n      current,\n      renderLanes,\n      forcePropagateEntireTree\n    );\n  workInProgress.flags |= 262144;\n}\nfunction checkIfContextChanged(currentDependencies) {\n  for (\n    currentDependencies = currentDependencies.firstContext;\n    null !== currentDependencies;\n\n  ) {\n    if (\n      !objectIs(\n        currentDependencies.context._currentValue,\n        currentDependencies.memoizedValue\n      )\n    )\n      return !0;\n    currentDependencies = currentDependencies.next;\n  }\n  return !1;\n}\nfunction prepareToReadContext(workInProgress) {\n  currentlyRenderingFiber = workInProgress;\n  lastContextDependency = null;\n  workInProgress = workInProgress.dependencies;\n  null !== workInProgress && (workInProgress.firstContext = null);\n}\nfunction readContext(context) {\n  return readContextForConsumer(currentlyRenderingFiber, context);\n}\nfunction readContextDuringReconciliation(consumer, context) {\n  null === currentlyRenderingFiber && prepareToReadContext(consumer);\n  return readContextForConsumer(consumer, context);\n}\nfunction readContextForConsumer(consumer, context) {\n  var value = context._currentValue;\n  context = { context: context, memoizedValue: value, next: null };\n  if (null === lastContextDependency) {\n    if (null === consumer) throw Error(formatProdErrorMessage(308));\n    lastContextDependency = context;\n    consumer.dependencies = { lanes: 0, firstContext: context };\n    consumer.flags |= 524288;\n  } else lastContextDependency = lastContextDependency.next = context;\n  return value;\n}\nvar hasForceUpdate = !1;\nfunction initializeUpdateQueue(fiber) {\n  fiber.updateQueue = {\n    baseState: fiber.memoizedState,\n    firstBaseUpdate: null,\n    lastBaseUpdate: null,\n    shared: { pending: null, lanes: 0, hiddenCallbacks: null },\n    callbacks: null\n  };\n}\nfunction cloneUpdateQueue(current, workInProgress) {\n  current = current.updateQueue;\n  workInProgress.updateQueue === current &&\n    (workInProgress.updateQueue = {\n      baseState: current.baseState,\n      firstBaseUpdate: current.firstBaseUpdate,\n      lastBaseUpdate: current.lastBaseUpdate,\n      shared: current.shared,\n      callbacks: null\n    });\n}\nfunction createUpdate(lane) {\n  return { lane: lane, tag: 0, payload: null, callback: null, next: null };\n}\nfunction enqueueUpdate(fiber, update, lane) {\n  var updateQueue = fiber.updateQueue;\n  if (null === updateQueue) return null;\n  updateQueue = updateQueue.shared;\n  if (0 !== (executionContext & 2)) {\n    var pending = updateQueue.pending;\n    null === pending\n      ? (update.next = update)\n      : ((update.next = pending.next), (pending.next = update));\n    updateQueue.pending = update;\n    update = getRootForUpdatedFiber(fiber);\n    markUpdateLaneFromFiberToRoot(fiber, null, lane);\n    return update;\n  }\n  enqueueUpdate$1(fiber, updateQueue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction entangleTransitions(root, fiber, lane) {\n  fiber = fiber.updateQueue;\n  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194176))) {\n    var queueLanes = fiber.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    fiber.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nfunction enqueueCapturedUpdate(workInProgress, capturedUpdate) {\n  var queue = workInProgress.updateQueue,\n    current = workInProgress.alternate;\n  if (\n    null !== current &&\n    ((current = current.updateQueue), queue === current)\n  ) {\n    var newFirst = null,\n      newLast = null;\n    queue = queue.firstBaseUpdate;\n    if (null !== queue) {\n      do {\n        var clone = {\n          lane: queue.lane,\n          tag: queue.tag,\n          payload: queue.payload,\n          callback: null,\n          next: null\n        };\n        null === newLast\n          ? (newFirst = newLast = clone)\n          : (newLast = newLast.next = clone);\n        queue = queue.next;\n      } while (null !== queue);\n      null === newLast\n        ? (newFirst = newLast = capturedUpdate)\n        : (newLast = newLast.next = capturedUpdate);\n    } else newFirst = newLast = capturedUpdate;\n    queue = {\n      baseState: current.baseState,\n      firstBaseUpdate: newFirst,\n      lastBaseUpdate: newLast,\n      shared: current.shared,\n      callbacks: current.callbacks\n    };\n    workInProgress.updateQueue = queue;\n    return;\n  }\n  workInProgress = queue.lastBaseUpdate;\n  null === workInProgress\n    ? (queue.firstBaseUpdate = capturedUpdate)\n    : (workInProgress.next = capturedUpdate);\n  queue.lastBaseUpdate = capturedUpdate;\n}\nvar didReadFromEntangledAsyncAction = !1;\nfunction suspendIfUpdateReadFromEntangledAsyncAction() {\n  if (didReadFromEntangledAsyncAction) {\n    var entangledActionThenable = currentEntangledActionThenable;\n    if (null !== entangledActionThenable) throw entangledActionThenable;\n  }\n}\nfunction processUpdateQueue(\n  workInProgress$jscomp$0,\n  props,\n  instance$jscomp$0,\n  renderLanes\n) {\n  didReadFromEntangledAsyncAction = !1;\n  var queue = workInProgress$jscomp$0.updateQueue;\n  hasForceUpdate = !1;\n  var firstBaseUpdate = queue.firstBaseUpdate,\n    lastBaseUpdate = queue.lastBaseUpdate,\n    pendingQueue = queue.shared.pending;\n  if (null !== pendingQueue) {\n    queue.shared.pending = null;\n    var lastPendingUpdate = pendingQueue,\n      firstPendingUpdate = lastPendingUpdate.next;\n    lastPendingUpdate.next = null;\n    null === lastBaseUpdate\n      ? (firstBaseUpdate = firstPendingUpdate)\n      : (lastBaseUpdate.next = firstPendingUpdate);\n    lastBaseUpdate = lastPendingUpdate;\n    var current = workInProgress$jscomp$0.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      (pendingQueue = current.lastBaseUpdate),\n      pendingQueue !== lastBaseUpdate &&\n        (null === pendingQueue\n          ? (current.firstBaseUpdate = firstPendingUpdate)\n          : (pendingQueue.next = firstPendingUpdate),\n        (current.lastBaseUpdate = lastPendingUpdate)));\n  }\n  if (null !== firstBaseUpdate) {\n    var newState = queue.baseState;\n    lastBaseUpdate = 0;\n    current = firstPendingUpdate = lastPendingUpdate = null;\n    pendingQueue = firstBaseUpdate;\n    do {\n      var updateLane = pendingQueue.lane & -536870913,\n        isHiddenUpdate = updateLane !== pendingQueue.lane;\n      if (\n        isHiddenUpdate\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        0 !== updateLane &&\n          updateLane === currentEntangledLane &&\n          (didReadFromEntangledAsyncAction = !0);\n        null !== current &&\n          (current = current.next =\n            {\n              lane: 0,\n              tag: pendingQueue.tag,\n              payload: pendingQueue.payload,\n              callback: null,\n              next: null\n            });\n        a: {\n          var workInProgress = workInProgress$jscomp$0,\n            update = pendingQueue;\n          updateLane = props;\n          var instance = instance$jscomp$0;\n          switch (update.tag) {\n            case 1:\n              workInProgress = update.payload;\n              if (\"function\" === typeof workInProgress) {\n                newState = workInProgress.call(instance, newState, updateLane);\n                break a;\n              }\n              newState = workInProgress;\n              break a;\n            case 3:\n              workInProgress.flags = (workInProgress.flags & -65537) | 128;\n            case 0:\n              workInProgress = update.payload;\n              updateLane =\n                \"function\" === typeof workInProgress\n                  ? workInProgress.call(instance, newState, updateLane)\n                  : workInProgress;\n              if (null === updateLane || void 0 === updateLane) break a;\n              newState = assign({}, newState, updateLane);\n              break a;\n            case 2:\n              hasForceUpdate = !0;\n          }\n        }\n        updateLane = pendingQueue.callback;\n        null !== updateLane &&\n          ((workInProgress$jscomp$0.flags |= 64),\n          isHiddenUpdate && (workInProgress$jscomp$0.flags |= 8192),\n          (isHiddenUpdate = queue.callbacks),\n          null === isHiddenUpdate\n            ? (queue.callbacks = [updateLane])\n            : isHiddenUpdate.push(updateLane));\n      } else\n        (isHiddenUpdate = {\n          lane: updateLane,\n          tag: pendingQueue.tag,\n          payload: pendingQueue.payload,\n          callback: pendingQueue.callback,\n          next: null\n        }),\n          null === current\n            ? ((firstPendingUpdate = current = isHiddenUpdate),\n              (lastPendingUpdate = newState))\n            : (current = current.next = isHiddenUpdate),\n          (lastBaseUpdate |= updateLane);\n      pendingQueue = pendingQueue.next;\n      if (null === pendingQueue)\n        if (((pendingQueue = queue.shared.pending), null === pendingQueue))\n          break;\n        else\n          (isHiddenUpdate = pendingQueue),\n            (pendingQueue = isHiddenUpdate.next),\n            (isHiddenUpdate.next = null),\n            (queue.lastBaseUpdate = isHiddenUpdate),\n            (queue.shared.pending = null);\n    } while (1);\n    null === current && (lastPendingUpdate = newState);\n    queue.baseState = lastPendingUpdate;\n    queue.firstBaseUpdate = firstPendingUpdate;\n    queue.lastBaseUpdate = current;\n    null === firstBaseUpdate && (queue.shared.lanes = 0);\n    workInProgressRootSkippedLanes |= lastBaseUpdate;\n    workInProgress$jscomp$0.lanes = lastBaseUpdate;\n    workInProgress$jscomp$0.memoizedState = newState;\n  }\n}\nfunction callCallback(callback, context) {\n  if (\"function\" !== typeof callback)\n    throw Error(formatProdErrorMessage(191, callback));\n  callback.call(context);\n}\nfunction commitCallbacks(updateQueue, context) {\n  var callbacks = updateQueue.callbacks;\n  if (null !== callbacks)\n    for (\n      updateQueue.callbacks = null, updateQueue = 0;\n      updateQueue < callbacks.length;\n      updateQueue++\n    )\n      callCallback(callbacks[updateQueue], context);\n}\nfunction commitHookEffectListMount(flags, finishedWork) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          lastEffect = void 0;\n          var create = updateQueue.create,\n            inst = updateQueue.inst;\n          lastEffect = create();\n          inst.destroy = lastEffect;\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHookEffectListUnmount(\n  flags,\n  finishedWork,\n  nearestMountedAncestor$jscomp$0\n) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          var inst = updateQueue.inst,\n            destroy = inst.destroy;\n          if (void 0 !== destroy) {\n            inst.destroy = void 0;\n            lastEffect = finishedWork;\n            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0;\n            try {\n              destroy();\n            } catch (error) {\n              captureCommitPhaseError(\n                lastEffect,\n                nearestMountedAncestor,\n                error\n              );\n            }\n          }\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitClassCallbacks(finishedWork) {\n  var updateQueue = finishedWork.updateQueue;\n  if (null !== updateQueue) {\n    var instance = finishedWork.stateNode;\n    try {\n      commitCallbacks(updateQueue, instance);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n  }\n}\nfunction safelyCallComponentWillUnmount(\n  current,\n  nearestMountedAncestor,\n  instance\n) {\n  instance.props = resolveClassComponentProps(\n    current.type,\n    current.memoizedProps\n  );\n  instance.state = current.memoizedState;\n  try {\n    instance.componentWillUnmount();\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyAttachRef(current, nearestMountedAncestor) {\n  try {\n    var ref = current.ref;\n    if (null !== ref) {\n      var instance = current.stateNode;\n      switch (current.tag) {\n        case 26:\n        case 27:\n        case 5:\n          var instanceToUse = instance;\n          break;\n        default:\n          instanceToUse = instance;\n      }\n      \"function\" === typeof ref\n        ? (current.refCleanup = ref(instanceToUse))\n        : (ref.current = instanceToUse);\n    }\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyDetachRef(current, nearestMountedAncestor) {\n  var ref = current.ref,\n    refCleanup = current.refCleanup;\n  if (null !== ref)\n    if (\"function\" === typeof refCleanup)\n      try {\n        refCleanup();\n      } catch (error) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error);\n      } finally {\n        (current.refCleanup = null),\n          (current = current.alternate),\n          null != current && (current.refCleanup = null);\n      }\n    else if (\"function\" === typeof ref)\n      try {\n        ref(null);\n      } catch (error$112) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error$112);\n      }\n    else ref.current = null;\n}\nfunction commitHostMount(finishedWork) {\n  var type = finishedWork.type,\n    props = finishedWork.memoizedProps,\n    instance = finishedWork.stateNode;\n  try {\n    a: switch (type) {\n      case \"button\":\n      case \"input\":\n      case \"select\":\n      case \"textarea\":\n        props.autoFocus && instance.focus();\n        break a;\n      case \"img\":\n        props.src\n          ? (instance.src = props.src)\n          : props.srcSet && (instance.srcset = props.srcSet);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHostUpdate(finishedWork, newProps, oldProps) {\n  try {\n    var domElement = finishedWork.stateNode;\n    updateProperties(domElement, finishedWork.type, oldProps, newProps);\n    domElement[internalPropsKey] = newProps;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction isHostParent(fiber) {\n  return (\n    5 === fiber.tag ||\n    3 === fiber.tag ||\n    26 === fiber.tag ||\n    27 === fiber.tag ||\n    4 === fiber.tag\n  );\n}\nfunction getHostSibling(fiber) {\n  a: for (;;) {\n    for (; null === fiber.sibling; ) {\n      if (null === fiber.return || isHostParent(fiber.return)) return null;\n      fiber = fiber.return;\n    }\n    fiber.sibling.return = fiber.return;\n    for (\n      fiber = fiber.sibling;\n      5 !== fiber.tag &&\n      6 !== fiber.tag &&\n      27 !== fiber.tag &&\n      18 !== fiber.tag;\n\n    ) {\n      if (fiber.flags & 2) continue a;\n      if (null === fiber.child || 4 === fiber.tag) continue a;\n      else (fiber.child.return = fiber), (fiber = fiber.child);\n    }\n    if (!(fiber.flags & 2)) return fiber.stateNode;\n  }\n}\nfunction insertOrAppendPlacementNodeIntoContainer(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before\n        ? 8 === parent.nodeType\n          ? parent.parentNode.insertBefore(node, before)\n          : parent.insertBefore(node, before)\n        : (8 === parent.nodeType\n            ? ((before = parent.parentNode), before.insertBefore(node, parent))\n            : ((before = parent), before.appendChild(node)),\n          (parent = parent._reactRootContainer),\n          (null !== parent && void 0 !== parent) ||\n            null !== before.onclick ||\n            (before.onclick = noop$1));\n  else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))\n    for (\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        (node = node.sibling);\n}\nfunction insertOrAppendPlacementNode(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before ? parent.insertBefore(node, before) : parent.appendChild(node);\n  else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))\n    for (\n      insertOrAppendPlacementNode(node, before, parent), node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNode(node, before, parent), (node = node.sibling);\n}\nvar offscreenSubtreeIsHidden = !1,\n  offscreenSubtreeWasHidden = !1,\n  needsFormReset = !1,\n  PossiblyWeakSet = \"function\" === typeof WeakSet ? WeakSet : Set,\n  nextEffect = null,\n  shouldFireAfterActiveInstanceBlur = !1;\nfunction commitBeforeMutationEffects(root, firstChild) {\n  root = root.containerInfo;\n  eventsEnabled = _enabled;\n  root = getActiveElementDeep(root);\n  if (hasSelectionCapabilities(root)) {\n    if (\"selectionStart\" in root)\n      var JSCompiler_temp = {\n        start: root.selectionStart,\n        end: root.selectionEnd\n      };\n    else\n      a: {\n        JSCompiler_temp =\n          ((JSCompiler_temp = root.ownerDocument) &&\n            JSCompiler_temp.defaultView) ||\n          window;\n        var selection =\n          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();\n        if (selection && 0 !== selection.rangeCount) {\n          JSCompiler_temp = selection.anchorNode;\n          var anchorOffset = selection.anchorOffset,\n            focusNode = selection.focusNode;\n          selection = selection.focusOffset;\n          try {\n            JSCompiler_temp.nodeType, focusNode.nodeType;\n          } catch (e$20) {\n            JSCompiler_temp = null;\n            break a;\n          }\n          var length = 0,\n            start = -1,\n            end = -1,\n            indexWithinAnchor = 0,\n            indexWithinFocus = 0,\n            node = root,\n            parentNode = null;\n          b: for (;;) {\n            for (var next; ; ) {\n              node !== JSCompiler_temp ||\n                (0 !== anchorOffset && 3 !== node.nodeType) ||\n                (start = length + anchorOffset);\n              node !== focusNode ||\n                (0 !== selection && 3 !== node.nodeType) ||\n                (end = length + selection);\n              3 === node.nodeType && (length += node.nodeValue.length);\n              if (null === (next = node.firstChild)) break;\n              parentNode = node;\n              node = next;\n            }\n            for (;;) {\n              if (node === root) break b;\n              parentNode === JSCompiler_temp &&\n                ++indexWithinAnchor === anchorOffset &&\n                (start = length);\n              parentNode === focusNode &&\n                ++indexWithinFocus === selection &&\n                (end = length);\n              if (null !== (next = node.nextSibling)) break;\n              node = parentNode;\n              parentNode = node.parentNode;\n            }\n            node = next;\n          }\n          JSCompiler_temp =\n            -1 === start || -1 === end ? null : { start: start, end: end };\n        } else JSCompiler_temp = null;\n      }\n    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };\n  } else JSCompiler_temp = null;\n  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };\n  _enabled = !1;\n  for (nextEffect = firstChild; null !== nextEffect; )\n    if (\n      ((firstChild = nextEffect),\n      (root = firstChild.child),\n      0 !== (firstChild.subtreeFlags & 1028) && null !== root)\n    )\n      (root.return = firstChild), (nextEffect = root);\n    else\n      for (; null !== nextEffect; ) {\n        firstChild = nextEffect;\n        focusNode = firstChild.alternate;\n        root = firstChild.flags;\n        switch (firstChild.tag) {\n          case 0:\n            break;\n          case 11:\n          case 15:\n            break;\n          case 1:\n            if (0 !== (root & 1024) && null !== focusNode) {\n              root = void 0;\n              JSCompiler_temp = firstChild;\n              anchorOffset = focusNode.memoizedProps;\n              focusNode = focusNode.memoizedState;\n              selection = JSCompiler_temp.stateNode;\n              try {\n                var resolvedPrevProps = resolveClassComponentProps(\n                  JSCompiler_temp.type,\n                  anchorOffset,\n                  JSCompiler_temp.elementType === JSCompiler_temp.type\n                );\n                root = selection.getSnapshotBeforeUpdate(\n                  resolvedPrevProps,\n                  focusNode\n                );\n                selection.__reactInternalSnapshotBeforeUpdate = root;\n              } catch (error) {\n                captureCommitPhaseError(\n                  JSCompiler_temp,\n                  JSCompiler_temp.return,\n                  error\n                );\n              }\n            }\n            break;\n          case 3:\n            if (0 !== (root & 1024))\n              if (\n                ((root = firstChild.stateNode.containerInfo),\n                (JSCompiler_temp = root.nodeType),\n                9 === JSCompiler_temp)\n              )\n                clearContainerSparingly(root);\n              else if (1 === JSCompiler_temp)\n                switch (root.nodeName) {\n                  case \"HEAD\":\n                  case \"HTML\":\n                  case \"BODY\":\n                    clearContainerSparingly(root);\n                    break;\n                  default:\n                    root.textContent = \"\";\n                }\n            break;\n          case 5:\n          case 26:\n          case 27:\n          case 6:\n          case 4:\n          case 17:\n            break;\n          default:\n            if (0 !== (root & 1024)) throw Error(formatProdErrorMessage(163));\n        }\n        root = firstChild.sibling;\n        if (null !== root) {\n          root.return = firstChild.return;\n          nextEffect = root;\n          break;\n        }\n        nextEffect = firstChild.return;\n      }\n  resolvedPrevProps = shouldFireAfterActiveInstanceBlur;\n  shouldFireAfterActiveInstanceBlur = !1;\n  return resolvedPrevProps;\n}\nfunction commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitHookEffectListMount(5, finishedWork);\n      break;\n    case 1:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 4)\n        if (((finishedRoot = finishedWork.stateNode), null === current))\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(finishedWork, finishedWork.return, error);\n          }\n        else {\n          var prevProps = resolveClassComponentProps(\n            finishedWork.type,\n            current.memoizedProps\n          );\n          current = current.memoizedState;\n          try {\n            finishedRoot.componentDidUpdate(\n              prevProps,\n              current,\n              finishedRoot.__reactInternalSnapshotBeforeUpdate\n            );\n          } catch (error$111) {\n            captureCommitPhaseError(\n              finishedWork,\n              finishedWork.return,\n              error$111\n            );\n          }\n        }\n      flags & 64 && commitClassCallbacks(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 64 && ((flags = finishedWork.updateQueue), null !== flags)) {\n        finishedRoot = null;\n        if (null !== finishedWork.child)\n          switch (finishedWork.child.tag) {\n            case 27:\n            case 5:\n              finishedRoot = finishedWork.child.stateNode;\n              break;\n            case 1:\n              finishedRoot = finishedWork.child.stateNode;\n          }\n        try {\n          commitCallbacks(flags, finishedRoot);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 26:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 27:\n    case 5:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      null === current && flags & 4 && commitHostMount(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 12:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n      break;\n    case 22:\n      prevProps =\n        null !== finishedWork.memoizedState || offscreenSubtreeIsHidden;\n      if (!prevProps) {\n        current =\n          (null !== current && null !== current.memoizedState) ||\n          offscreenSubtreeWasHidden;\n        var prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,\n          prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n        offscreenSubtreeIsHidden = prevProps;\n        (offscreenSubtreeWasHidden = current) && !prevOffscreenSubtreeWasHidden\n          ? recursivelyTraverseReappearLayoutEffects(\n              finishedRoot,\n              finishedWork,\n              0 !== (finishedWork.subtreeFlags & 8772)\n            )\n          : recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n        offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;\n        offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      }\n      flags & 512 &&\n        (\"manual\" === finishedWork.memoizedProps.mode\n          ? safelyAttachRef(finishedWork, finishedWork.return)\n          : safelyDetachRef(finishedWork, finishedWork.return));\n      break;\n    default:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n  }\n}\nfunction detachFiberAfterEffects(fiber) {\n  var alternate = fiber.alternate;\n  null !== alternate &&\n    ((fiber.alternate = null), detachFiberAfterEffects(alternate));\n  fiber.child = null;\n  fiber.deletions = null;\n  fiber.sibling = null;\n  5 === fiber.tag &&\n    ((alternate = fiber.stateNode),\n    null !== alternate && detachDeletedInstance(alternate));\n  fiber.stateNode = null;\n  fiber.return = null;\n  fiber.dependencies = null;\n  fiber.memoizedProps = null;\n  fiber.memoizedState = null;\n  fiber.pendingProps = null;\n  fiber.stateNode = null;\n  fiber.updateQueue = null;\n}\nvar hostParent = null,\n  hostParentIsContainer = !1;\nfunction recursivelyTraverseDeletionEffects(\n  finishedRoot,\n  nearestMountedAncestor,\n  parent\n) {\n  for (parent = parent.child; null !== parent; )\n    commitDeletionEffectsOnFiber(finishedRoot, nearestMountedAncestor, parent),\n      (parent = parent.sibling);\n}\nfunction commitDeletionEffectsOnFiber(\n  finishedRoot,\n  nearestMountedAncestor,\n  deletedFiber\n) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberUnmount)\n    try {\n      injectedHook.onCommitFiberUnmount(rendererID, deletedFiber);\n    } catch (err) {}\n  switch (deletedFiber.tag) {\n    case 26:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber.memoizedState\n        ? deletedFiber.memoizedState.count--\n        : deletedFiber.stateNode &&\n          ((deletedFiber = deletedFiber.stateNode),\n          deletedFiber.parentNode.removeChild(deletedFiber));\n      break;\n    case 27:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      var prevHostParent = hostParent,\n        prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber = deletedFiber.stateNode;\n      for (\n        nearestMountedAncestor = deletedFiber.attributes;\n        nearestMountedAncestor.length;\n\n      )\n        deletedFiber.removeAttributeNode(nearestMountedAncestor[0]);\n      detachDeletedInstance(deletedFiber);\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 5:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n    case 6:\n      prevHostParentIsContainer = hostParent;\n      var prevHostParentIsContainer$119 = hostParentIsContainer;\n      hostParent = null;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParentIsContainer;\n      hostParentIsContainer = prevHostParentIsContainer$119;\n      if (null !== hostParent)\n        if (hostParentIsContainer)\n          try {\n            (finishedRoot = hostParent),\n              (prevHostParent = deletedFiber.stateNode),\n              8 === finishedRoot.nodeType\n                ? finishedRoot.parentNode.removeChild(prevHostParent)\n                : finishedRoot.removeChild(prevHostParent);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n        else\n          try {\n            hostParent.removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n      break;\n    case 18:\n      null !== hostParent &&\n        (hostParentIsContainer\n          ? ((nearestMountedAncestor = hostParent),\n            (deletedFiber = deletedFiber.stateNode),\n            8 === nearestMountedAncestor.nodeType\n              ? clearSuspenseBoundary(\n                  nearestMountedAncestor.parentNode,\n                  deletedFiber\n                )\n              : 1 === nearestMountedAncestor.nodeType &&\n                clearSuspenseBoundary(nearestMountedAncestor, deletedFiber),\n            retryIfBlockedOn(nearestMountedAncestor))\n          : clearSuspenseBoundary(hostParent, deletedFiber.stateNode));\n      break;\n    case 4:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode.containerInfo;\n      hostParentIsContainer = !0;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(2, deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(4, deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 1:\n      offscreenSubtreeWasHidden ||\n        (safelyDetachRef(deletedFiber, nearestMountedAncestor),\n        (prevHostParent = deletedFiber.stateNode),\n        \"function\" === typeof prevHostParent.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            deletedFiber,\n            nearestMountedAncestor,\n            prevHostParent\n          ));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 21:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 22:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden =\n        (prevHostParent = offscreenSubtreeWasHidden) ||\n        null !== deletedFiber.memoizedState;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      offscreenSubtreeWasHidden = prevHostParent;\n      break;\n    default:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n  }\n}\nfunction commitSuspenseHydrationCallbacks(finishedRoot, finishedWork) {\n  if (\n    null === finishedWork.memoizedState &&\n    ((finishedRoot = finishedWork.alternate),\n    null !== finishedRoot &&\n      ((finishedRoot = finishedRoot.memoizedState),\n      null !== finishedRoot &&\n        ((finishedRoot = finishedRoot.dehydrated), null !== finishedRoot)))\n  )\n    try {\n      retryIfBlockedOn(finishedRoot);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n}\nfunction getRetryCache(finishedWork) {\n  switch (finishedWork.tag) {\n    case 13:\n    case 19:\n      var retryCache = finishedWork.stateNode;\n      null === retryCache &&\n        (retryCache = finishedWork.stateNode = new PossiblyWeakSet());\n      return retryCache;\n    case 22:\n      return (\n        (finishedWork = finishedWork.stateNode),\n        (retryCache = finishedWork._retryCache),\n        null === retryCache &&\n          (retryCache = finishedWork._retryCache = new PossiblyWeakSet()),\n        retryCache\n      );\n    default:\n      throw Error(formatProdErrorMessage(435, finishedWork.tag));\n  }\n}\nfunction attachSuspenseRetryListeners(finishedWork, wakeables) {\n  var retryCache = getRetryCache(finishedWork);\n  wakeables.forEach(function (wakeable) {\n    var retry = resolveRetryWakeable.bind(null, finishedWork, wakeable);\n    retryCache.has(wakeable) ||\n      (retryCache.add(wakeable), wakeable.then(retry, retry));\n  });\n}\nfunction recursivelyTraverseMutationEffects(root$jscomp$0, parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (null !== deletions)\n    for (var i = 0; i < deletions.length; i++) {\n      var childToDelete = deletions[i],\n        root = root$jscomp$0,\n        returnFiber = parentFiber,\n        parent = returnFiber;\n      a: for (; null !== parent; ) {\n        switch (parent.tag) {\n          case 27:\n          case 5:\n            hostParent = parent.stateNode;\n            hostParentIsContainer = !1;\n            break a;\n          case 3:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n          case 4:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n        }\n        parent = parent.return;\n      }\n      if (null === hostParent) throw Error(formatProdErrorMessage(160));\n      commitDeletionEffectsOnFiber(root, returnFiber, childToDelete);\n      hostParent = null;\n      hostParentIsContainer = !1;\n      root = childToDelete.alternate;\n      null !== root && (root.return = null);\n      childToDelete.return = null;\n    }\n  if (parentFiber.subtreeFlags & 13878)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitMutationEffectsOnFiber(parentFiber, root$jscomp$0),\n        (parentFiber = parentFiber.sibling);\n}\nvar currentHoistableRoot = null;\nfunction commitMutationEffectsOnFiber(finishedWork, root) {\n  var current = finishedWork.alternate,\n    flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        (commitHookEffectListUnmount(3, finishedWork, finishedWork.return),\n        commitHookEffectListMount(3, finishedWork),\n        commitHookEffectListUnmount(5, finishedWork, finishedWork.return));\n      break;\n    case 1:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      flags & 64 &&\n        offscreenSubtreeIsHidden &&\n        ((finishedWork = finishedWork.updateQueue),\n        null !== finishedWork &&\n          ((flags = finishedWork.callbacks),\n          null !== flags &&\n            ((current = finishedWork.shared.hiddenCallbacks),\n            (finishedWork.shared.hiddenCallbacks =\n              null === current ? flags : current.concat(flags)))));\n      break;\n    case 26:\n      var hoistableRoot = currentHoistableRoot;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (flags & 4) {\n        var currentResource = null !== current ? current.memoizedState : null;\n        flags = finishedWork.memoizedState;\n        if (null === current)\n          if (null === flags)\n            if (null === finishedWork.stateNode) {\n              a: {\n                flags = finishedWork.type;\n                current = finishedWork.memoizedProps;\n                hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n                b: switch (flags) {\n                  case \"title\":\n                    currentResource =\n                      hoistableRoot.getElementsByTagName(\"title\")[0];\n                    if (\n                      !currentResource ||\n                      currentResource[internalHoistableMarker] ||\n                      currentResource[internalInstanceKey] ||\n                      \"http://www.w3.org/2000/svg\" ===\n                        currentResource.namespaceURI ||\n                      currentResource.hasAttribute(\"itemprop\")\n                    )\n                      (currentResource = hoistableRoot.createElement(flags)),\n                        hoistableRoot.head.insertBefore(\n                          currentResource,\n                          hoistableRoot.querySelector(\"head > title\")\n                        );\n                    setInitialProperties(currentResource, flags, current);\n                    currentResource[internalInstanceKey] = finishedWork;\n                    markNodeAsHoistable(currentResource);\n                    flags = currentResource;\n                    break a;\n                  case \"link\":\n                    var maybeNodes = getHydratableHoistableCache(\n                      \"link\",\n                      \"href\",\n                      hoistableRoot\n                    ).get(flags + (current.href || \"\"));\n                    if (maybeNodes)\n                      for (var i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"href\") ===\n                            (null == current.href ? null : current.href) &&\n                            currentResource.getAttribute(\"rel\") ===\n                              (null == current.rel ? null : current.rel) &&\n                            currentResource.getAttribute(\"title\") ===\n                              (null == current.title ? null : current.title) &&\n                            currentResource.getAttribute(\"crossorigin\") ===\n                              (null == current.crossOrigin\n                                ? null\n                                : current.crossOrigin))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  case \"meta\":\n                    if (\n                      (maybeNodes = getHydratableHoistableCache(\n                        \"meta\",\n                        \"content\",\n                        hoistableRoot\n                      ).get(flags + (current.content || \"\")))\n                    )\n                      for (i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"content\") ===\n                            (null == current.content\n                              ? null\n                              : \"\" + current.content) &&\n                            currentResource.getAttribute(\"name\") ===\n                              (null == current.name ? null : current.name) &&\n                            currentResource.getAttribute(\"property\") ===\n                              (null == current.property\n                                ? null\n                                : current.property) &&\n                            currentResource.getAttribute(\"http-equiv\") ===\n                              (null == current.httpEquiv\n                                ? null\n                                : current.httpEquiv) &&\n                            currentResource.getAttribute(\"charset\") ===\n                              (null == current.charSet\n                                ? null\n                                : current.charSet))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  default:\n                    throw Error(formatProdErrorMessage(468, flags));\n                }\n                currentResource[internalInstanceKey] = finishedWork;\n                markNodeAsHoistable(currentResource);\n                flags = currentResource;\n              }\n              finishedWork.stateNode = flags;\n            } else\n              mountHoistable(\n                hoistableRoot,\n                finishedWork.type,\n                finishedWork.stateNode\n              );\n          else\n            finishedWork.stateNode = acquireResource(\n              hoistableRoot,\n              flags,\n              finishedWork.memoizedProps\n            );\n        else\n          currentResource !== flags\n            ? (null === currentResource\n                ? null !== current.stateNode &&\n                  ((current = current.stateNode),\n                  current.parentNode.removeChild(current))\n                : currentResource.count--,\n              null === flags\n                ? mountHoistable(\n                    hoistableRoot,\n                    finishedWork.type,\n                    finishedWork.stateNode\n                  )\n                : acquireResource(\n                    hoistableRoot,\n                    flags,\n                    finishedWork.memoizedProps\n                  ))\n            : null === flags &&\n              null !== finishedWork.stateNode &&\n              commitHostUpdate(\n                finishedWork,\n                finishedWork.memoizedProps,\n                current.memoizedProps\n              );\n      }\n      break;\n    case 27:\n      if (flags & 4 && null === finishedWork.alternate) {\n        hoistableRoot = finishedWork.stateNode;\n        currentResource = finishedWork.memoizedProps;\n        try {\n          for (var node = hoistableRoot.firstChild; node; ) {\n            var nextNode = node.nextSibling,\n              nodeName = node.nodeName;\n            node[internalHoistableMarker] ||\n              \"HEAD\" === nodeName ||\n              \"BODY\" === nodeName ||\n              \"SCRIPT\" === nodeName ||\n              \"STYLE\" === nodeName ||\n              (\"LINK\" === nodeName &&\n                \"stylesheet\" === node.rel.toLowerCase()) ||\n              hoistableRoot.removeChild(node);\n            node = nextNode;\n          }\n          for (\n            var type = finishedWork.type, attributes = hoistableRoot.attributes;\n            attributes.length;\n\n          )\n            hoistableRoot.removeAttributeNode(attributes[0]);\n          setInitialProperties(hoistableRoot, type, currentResource);\n          hoistableRoot[internalInstanceKey] = finishedWork;\n          hoistableRoot[internalPropsKey] = currentResource;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n    case 5:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (finishedWork.flags & 32) {\n        hoistableRoot = finishedWork.stateNode;\n        try {\n          setTextContent(hoistableRoot, \"\");\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      flags & 4 &&\n        null != finishedWork.stateNode &&\n        ((hoistableRoot = finishedWork.memoizedProps),\n        commitHostUpdate(\n          finishedWork,\n          hoistableRoot,\n          null !== current ? current.memoizedProps : hoistableRoot\n        ));\n      flags & 1024 && (needsFormReset = !0);\n      break;\n    case 6:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4) {\n        if (null === finishedWork.stateNode)\n          throw Error(formatProdErrorMessage(162));\n        flags = finishedWork.memoizedProps;\n        current = finishedWork.stateNode;\n        try {\n          current.nodeValue = flags;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 3:\n      tagCaches = null;\n      hoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(root.containerInfo);\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      currentHoistableRoot = hoistableRoot;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4 && null !== current && current.memoizedState.isDehydrated)\n        try {\n          retryIfBlockedOn(root.containerInfo);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      needsFormReset &&\n        ((needsFormReset = !1), recursivelyResetForms(finishedWork));\n      break;\n    case 4:\n      flags = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(\n        finishedWork.stateNode.containerInfo\n      );\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      currentHoistableRoot = flags;\n      break;\n    case 12:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      finishedWork.child.flags & 8192 &&\n        (null !== finishedWork.memoizedState) !==\n          (null !== current && null !== current.memoizedState) &&\n        (globalMostRecentFallbackTime = now());\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 22:\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      node = null !== finishedWork.memoizedState;\n      nextNode = null !== current && null !== current.memoizedState;\n      nodeName = offscreenSubtreeIsHidden;\n      type = offscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = nodeName || node;\n      offscreenSubtreeWasHidden = type || nextNode;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      offscreenSubtreeWasHidden = type;\n      offscreenSubtreeIsHidden = nodeName;\n      commitReconciliationEffects(finishedWork);\n      root = finishedWork.stateNode;\n      root._current = finishedWork;\n      root._visibility &= -3;\n      root._visibility |= root._pendingVisibility & 2;\n      if (\n        flags & 8192 &&\n        ((root._visibility = node\n          ? root._visibility & -2\n          : root._visibility | 1),\n        node &&\n          ((root = offscreenSubtreeIsHidden || offscreenSubtreeWasHidden),\n          null === current ||\n            nextNode ||\n            root ||\n            recursivelyTraverseDisappearLayoutEffects(finishedWork)),\n        null === finishedWork.memoizedProps ||\n          \"manual\" !== finishedWork.memoizedProps.mode)\n      )\n        a: for (current = null, root = finishedWork; ; ) {\n          if (5 === root.tag || 26 === root.tag || 27 === root.tag) {\n            if (null === current) {\n              nextNode = current = root;\n              try {\n                if (((hoistableRoot = nextNode.stateNode), node))\n                  (currentResource = hoistableRoot.style),\n                    \"function\" === typeof currentResource.setProperty\n                      ? currentResource.setProperty(\n                          \"display\",\n                          \"none\",\n                          \"important\"\n                        )\n                      : (currentResource.display = \"none\");\n                else {\n                  maybeNodes = nextNode.stateNode;\n                  i = nextNode.memoizedProps.style;\n                  var display =\n                    void 0 !== i && null !== i && i.hasOwnProperty(\"display\")\n                      ? i.display\n                      : null;\n                  maybeNodes.style.display =\n                    null == display || \"boolean\" === typeof display\n                      ? \"\"\n                      : (\"\" + display).trim();\n                }\n              } catch (error) {\n                captureCommitPhaseError(nextNode, nextNode.return, error);\n              }\n            }\n          } else if (6 === root.tag) {\n            if (null === current) {\n              nextNode = root;\n              try {\n                nextNode.stateNode.nodeValue = node\n                  ? \"\"\n                  : nextNode.memoizedProps;\n              } catch (error) {\n                captureCommitPhaseError(nextNode, nextNode.return, error);\n              }\n            }\n          } else if (\n            ((22 !== root.tag && 23 !== root.tag) ||\n              null === root.memoizedState ||\n              root === finishedWork) &&\n            null !== root.child\n          ) {\n            root.child.return = root;\n            root = root.child;\n            continue;\n          }\n          if (root === finishedWork) break a;\n          for (; null === root.sibling; ) {\n            if (null === root.return || root.return === finishedWork) break a;\n            current === root && (current = null);\n            root = root.return;\n          }\n          current === root && (current = null);\n          root.sibling.return = root.return;\n          root = root.sibling;\n        }\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((current = flags.retryQueue),\n          null !== current &&\n            ((flags.retryQueue = null),\n            attachSuspenseRetryListeners(finishedWork, current))));\n      break;\n    case 19:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 21:\n      break;\n    default:\n      recursivelyTraverseMutationEffects(root, finishedWork),\n        commitReconciliationEffects(finishedWork);\n  }\n}\nfunction commitReconciliationEffects(finishedWork) {\n  var flags = finishedWork.flags;\n  if (flags & 2) {\n    try {\n      if (27 !== finishedWork.tag) {\n        a: {\n          for (var parent = finishedWork.return; null !== parent; ) {\n            if (isHostParent(parent)) {\n              var JSCompiler_inline_result = parent;\n              break a;\n            }\n            parent = parent.return;\n          }\n          throw Error(formatProdErrorMessage(160));\n        }\n        switch (JSCompiler_inline_result.tag) {\n          case 27:\n            var parent$jscomp$0 = JSCompiler_inline_result.stateNode,\n              before = getHostSibling(finishedWork);\n            insertOrAppendPlacementNode(finishedWork, before, parent$jscomp$0);\n            break;\n          case 5:\n            var parent$113 = JSCompiler_inline_result.stateNode;\n            JSCompiler_inline_result.flags & 32 &&\n              (setTextContent(parent$113, \"\"),\n              (JSCompiler_inline_result.flags &= -33));\n            var before$114 = getHostSibling(finishedWork);\n            insertOrAppendPlacementNode(finishedWork, before$114, parent$113);\n            break;\n          case 3:\n          case 4:\n            var parent$115 = JSCompiler_inline_result.stateNode.containerInfo,\n              before$116 = getHostSibling(finishedWork);\n            insertOrAppendPlacementNodeIntoContainer(\n              finishedWork,\n              before$116,\n              parent$115\n            );\n            break;\n          default:\n            throw Error(formatProdErrorMessage(161));\n        }\n      }\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n    finishedWork.flags &= -3;\n  }\n  flags & 4096 && (finishedWork.flags &= -4097);\n}\nfunction recursivelyResetForms(parentFiber) {\n  if (parentFiber.subtreeFlags & 1024)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var fiber = parentFiber;\n      recursivelyResetForms(fiber);\n      5 === fiber.tag && fiber.flags & 1024 && fiber.stateNode.reset();\n      parentFiber = parentFiber.sibling;\n    }\n}\nfunction recursivelyTraverseLayoutEffects(root, parentFiber) {\n  if (parentFiber.subtreeFlags & 8772)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitLayoutEffectOnFiber(root, parentFiber.alternate, parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction recursivelyTraverseDisappearLayoutEffects(parentFiber) {\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedWork = parentFiber;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 14:\n      case 15:\n        commitHookEffectListUnmount(4, finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 1:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        var instance = finishedWork.stateNode;\n        \"function\" === typeof instance.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            finishedWork,\n            finishedWork.return,\n            instance\n          );\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 26:\n      case 27:\n      case 5:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 22:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      default:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseReappearLayoutEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 8772);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var current = parentFiber.alternate,\n      finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(4, finishedWork);\n        break;\n      case 1:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        current = finishedWork;\n        finishedRoot = current.stateNode;\n        if (\"function\" === typeof finishedRoot.componentDidMount)\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        current = finishedWork;\n        finishedRoot = current.updateQueue;\n        if (null !== finishedRoot) {\n          var instance = current.stateNode;\n          try {\n            var hiddenCallbacks = finishedRoot.shared.hiddenCallbacks;\n            if (null !== hiddenCallbacks)\n              for (\n                finishedRoot.shared.hiddenCallbacks = null, finishedRoot = 0;\n                finishedRoot < hiddenCallbacks.length;\n                finishedRoot++\n              )\n                callCallback(hiddenCallbacks[finishedRoot], instance);\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        }\n        includeWorkInProgressEffects &&\n          flags & 64 &&\n          commitClassCallbacks(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 26:\n      case 27:\n      case 5:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          null === current &&\n          flags & 4 &&\n          commitHostMount(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 12:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        break;\n      case 13:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 4 &&\n          commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      default:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitOffscreenPassiveMountEffects(current, finishedWork) {\n  var previousCache = null;\n  null !== current &&\n    null !== current.memoizedState &&\n    null !== current.memoizedState.cachePool &&\n    (previousCache = current.memoizedState.cachePool.pool);\n  current = null;\n  null !== finishedWork.memoizedState &&\n    null !== finishedWork.memoizedState.cachePool &&\n    (current = finishedWork.memoizedState.cachePool.pool);\n  current !== previousCache &&\n    (null != current && current.refCount++,\n    null != previousCache && releaseCache(previousCache));\n}\nfunction commitCachePassiveMountEffect(current, finishedWork) {\n  current = null;\n  null !== finishedWork.alternate &&\n    (current = finishedWork.alternate.memoizedState.cache);\n  finishedWork = finishedWork.memoizedState.cache;\n  finishedWork !== current &&\n    (finishedWork.refCount++, null != current && releaseCache(current));\n}\nfunction recursivelyTraversePassiveMountEffects(\n  root,\n  parentFiber,\n  committedLanes,\n  committedTransitions\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveMountOnFiber(\n        root,\n        parentFiber,\n        committedLanes,\n        committedTransitions\n      ),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveMountOnFiber(\n  finishedRoot,\n  finishedWork,\n  committedLanes,\n  committedTransitions\n) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 && commitHookEffectListMount(9, finishedWork);\n      break;\n    case 3:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        ((finishedRoot = null),\n        null !== finishedWork.alternate &&\n          (finishedRoot = finishedWork.alternate.memoizedState.cache),\n        (finishedWork = finishedWork.memoizedState.cache),\n        finishedWork !== finishedRoot &&\n          (finishedWork.refCount++,\n          null != finishedRoot && releaseCache(finishedRoot)));\n      break;\n    case 12:\n      if (flags & 2048) {\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n        finishedRoot = finishedWork.stateNode;\n        try {\n          var _finishedWork$memoize2 = finishedWork.memoizedProps,\n            id = _finishedWork$memoize2.id,\n            onPostCommit = _finishedWork$memoize2.onPostCommit;\n          \"function\" === typeof onPostCommit &&\n            onPostCommit(\n              id,\n              null === finishedWork.alternate ? \"mount\" : \"update\",\n              finishedRoot.passiveEffectDuration,\n              -0\n            );\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      } else\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n      break;\n    case 23:\n      break;\n    case 22:\n      _finishedWork$memoize2 = finishedWork.stateNode;\n      null !== finishedWork.memoizedState\n        ? _finishedWork$memoize2._visibility & 4\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork)\n        : _finishedWork$memoize2._visibility & 4\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : ((_finishedWork$memoize2._visibility |= 4),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              0 !== (finishedWork.subtreeFlags & 10256)\n            ));\n      flags & 2048 &&\n        commitOffscreenPassiveMountEffects(\n          finishedWork.alternate,\n          finishedWork\n        );\n      break;\n    case 24:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n  }\n}\nfunction recursivelyTraverseReconnectPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  committedLanes$jscomp$0,\n  committedTransitions$jscomp$0,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 10256);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      committedLanes = committedLanes$jscomp$0,\n      committedTransitions = committedTransitions$jscomp$0,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(8, finishedWork);\n        break;\n      case 23:\n        break;\n      case 22:\n        var instance = finishedWork.stateNode;\n        null !== finishedWork.memoizedState\n          ? instance._visibility & 4\n            ? recursivelyTraverseReconnectPassiveEffects(\n                finishedRoot,\n                finishedWork,\n                committedLanes,\n                committedTransitions,\n                includeWorkInProgressEffects\n              )\n            : recursivelyTraverseAtomicPassiveEffects(\n                finishedRoot,\n                finishedWork\n              )\n          : ((instance._visibility |= 4),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              includeWorkInProgressEffects\n            ));\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitOffscreenPassiveMountEffects(\n            finishedWork.alternate,\n            finishedWork\n          );\n        break;\n      case 24:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n        break;\n      default:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseAtomicPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var finishedRoot = finishedRoot$jscomp$0,\n        finishedWork = parentFiber,\n        flags = finishedWork.flags;\n      switch (finishedWork.tag) {\n        case 22:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitOffscreenPassiveMountEffects(\n              finishedWork.alternate,\n              finishedWork\n            );\n          break;\n        case 24:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n          break;\n        default:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n      }\n      parentFiber = parentFiber.sibling;\n    }\n}\nvar suspenseyCommitFlag = 8192;\nfunction recursivelyAccumulateSuspenseyCommit(parentFiber) {\n  if (parentFiber.subtreeFlags & suspenseyCommitFlag)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      accumulateSuspenseyCommitOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction accumulateSuspenseyCommitOnFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      fiber.flags & suspenseyCommitFlag &&\n        null !== fiber.memoizedState &&\n        suspendResource(\n          currentHoistableRoot,\n          fiber.memoizedState,\n          fiber.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      break;\n    case 3:\n    case 4:\n      var previousHoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(fiber.stateNode.containerInfo);\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      currentHoistableRoot = previousHoistableRoot;\n      break;\n    case 22:\n      null === fiber.memoizedState &&\n        ((previousHoistableRoot = fiber.alternate),\n        null !== previousHoistableRoot &&\n        null !== previousHoistableRoot.memoizedState\n          ? ((previousHoistableRoot = suspenseyCommitFlag),\n            (suspenseyCommitFlag = 16777216),\n            recursivelyAccumulateSuspenseyCommit(fiber),\n            (suspenseyCommitFlag = previousHoistableRoot))\n          : recursivelyAccumulateSuspenseyCommit(fiber));\n      break;\n    default:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n  }\n}\nfunction detachAlternateSiblings(parentFiber) {\n  var previousFiber = parentFiber.alternate;\n  if (\n    null !== previousFiber &&\n    ((parentFiber = previousFiber.child), null !== parentFiber)\n  ) {\n    previousFiber.child = null;\n    do\n      (previousFiber = parentFiber.sibling),\n        (parentFiber.sibling = null),\n        (parentFiber = previousFiber);\n    while (null !== parentFiber);\n  }\n}\nfunction recursivelyTraversePassiveUnmountEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveUnmountOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveUnmountOnFiber(finishedWork) {\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      finishedWork.flags & 2048 &&\n        commitHookEffectListUnmount(9, finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 12:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 22:\n      var instance = finishedWork.stateNode;\n      null !== finishedWork.memoizedState &&\n      instance._visibility & 4 &&\n      (null === finishedWork.return || 13 !== finishedWork.return.tag)\n        ? ((instance._visibility &= -5),\n          recursivelyTraverseDisconnectPassiveEffects(finishedWork))\n        : recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n  }\n}\nfunction recursivelyTraverseDisconnectPassiveEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    deletions = parentFiber;\n    switch (deletions.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, deletions, deletions.return);\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n        break;\n      case 22:\n        i = deletions.stateNode;\n        i._visibility & 4 &&\n          ((i._visibility &= -5),\n          recursivelyTraverseDisconnectPassiveEffects(deletions));\n        break;\n      default:\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n  deletedSubtreeRoot,\n  nearestMountedAncestor\n) {\n  for (; null !== nextEffect; ) {\n    var fiber = nextEffect;\n    switch (fiber.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, fiber, nearestMountedAncestor);\n        break;\n      case 23:\n      case 22:\n        if (\n          null !== fiber.memoizedState &&\n          null !== fiber.memoizedState.cachePool\n        ) {\n          var cache = fiber.memoizedState.cachePool.pool;\n          null != cache && cache.refCount++;\n        }\n        break;\n      case 24:\n        releaseCache(fiber.memoizedState.cache);\n    }\n    cache = fiber.child;\n    if (null !== cache) (cache.return = fiber), (nextEffect = cache);\n    else\n      a: for (fiber = deletedSubtreeRoot; null !== nextEffect; ) {\n        cache = nextEffect;\n        var sibling = cache.sibling,\n          returnFiber = cache.return;\n        detachFiberAfterEffects(cache);\n        if (cache === fiber) {\n          nextEffect = null;\n          break a;\n        }\n        if (null !== sibling) {\n          sibling.return = returnFiber;\n          nextEffect = sibling;\n          break a;\n        }\n        nextEffect = returnFiber;\n      }\n  }\n}\nfunction FiberNode(tag, pendingProps, key, mode) {\n  this.tag = tag;\n  this.key = key;\n  this.sibling =\n    this.child =\n    this.return =\n    this.stateNode =\n    this.type =\n    this.elementType =\n      null;\n  this.index = 0;\n  this.refCleanup = this.ref = null;\n  this.pendingProps = pendingProps;\n  this.dependencies =\n    this.memoizedState =\n    this.updateQueue =\n    this.memoizedProps =\n      null;\n  this.mode = mode;\n  this.subtreeFlags = this.flags = 0;\n  this.deletions = null;\n  this.childLanes = this.lanes = 0;\n  this.alternate = null;\n}\nfunction createFiberImplClass(tag, pendingProps, key, mode) {\n  return new FiberNode(tag, pendingProps, key, mode);\n}\nfunction shouldConstruct(Component) {\n  Component = Component.prototype;\n  return !(!Component || !Component.isReactComponent);\n}\nfunction createWorkInProgress(current, pendingProps) {\n  var workInProgress = current.alternate;\n  null === workInProgress\n    ? ((workInProgress = createFiberImplClass(\n        current.tag,\n        pendingProps,\n        current.key,\n        current.mode\n      )),\n      (workInProgress.elementType = current.elementType),\n      (workInProgress.type = current.type),\n      (workInProgress.stateNode = current.stateNode),\n      (workInProgress.alternate = current),\n      (current.alternate = workInProgress))\n    : ((workInProgress.pendingProps = pendingProps),\n      (workInProgress.type = current.type),\n      (workInProgress.flags = 0),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null));\n  workInProgress.flags = current.flags & 31457280;\n  workInProgress.childLanes = current.childLanes;\n  workInProgress.lanes = current.lanes;\n  workInProgress.child = current.child;\n  workInProgress.memoizedProps = current.memoizedProps;\n  workInProgress.memoizedState = current.memoizedState;\n  workInProgress.updateQueue = current.updateQueue;\n  pendingProps = current.dependencies;\n  workInProgress.dependencies =\n    null === pendingProps\n      ? null\n      : { lanes: pendingProps.lanes, firstContext: pendingProps.firstContext };\n  workInProgress.sibling = current.sibling;\n  workInProgress.index = current.index;\n  workInProgress.ref = current.ref;\n  workInProgress.refCleanup = current.refCleanup;\n  return workInProgress;\n}\nfunction resetWorkInProgress(workInProgress, renderLanes) {\n  workInProgress.flags &= 31457282;\n  var current = workInProgress.alternate;\n  null === current\n    ? ((workInProgress.childLanes = 0),\n      (workInProgress.lanes = renderLanes),\n      (workInProgress.child = null),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.memoizedProps = null),\n      (workInProgress.memoizedState = null),\n      (workInProgress.updateQueue = null),\n      (workInProgress.dependencies = null),\n      (workInProgress.stateNode = null))\n    : ((workInProgress.childLanes = current.childLanes),\n      (workInProgress.lanes = current.lanes),\n      (workInProgress.child = current.child),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null),\n      (workInProgress.memoizedProps = current.memoizedProps),\n      (workInProgress.memoizedState = current.memoizedState),\n      (workInProgress.updateQueue = current.updateQueue),\n      (workInProgress.type = current.type),\n      (renderLanes = current.dependencies),\n      (workInProgress.dependencies =\n        null === renderLanes\n          ? null\n          : {\n              lanes: renderLanes.lanes,\n              firstContext: renderLanes.firstContext\n            }));\n  return workInProgress;\n}\nfunction createFiberFromTypeAndProps(\n  type,\n  key,\n  pendingProps,\n  owner,\n  mode,\n  lanes\n) {\n  var fiberTag = 0;\n  owner = type;\n  if (\"function\" === typeof type) shouldConstruct(type) && (fiberTag = 1);\n  else if (\"string\" === typeof type)\n    fiberTag = isHostHoistableType(\n      type,\n      pendingProps,\n      contextStackCursor.current\n    )\n      ? 26\n      : \"html\" === type || \"head\" === type || \"body\" === type\n        ? 27\n        : 5;\n  else\n    a: switch (type) {\n      case REACT_FRAGMENT_TYPE:\n        return createFiberFromFragment(pendingProps.children, mode, lanes, key);\n      case REACT_STRICT_MODE_TYPE:\n        fiberTag = 8;\n        mode |= 24;\n        break;\n      case REACT_PROFILER_TYPE:\n        return (\n          (type = createFiberImplClass(12, pendingProps, key, mode | 2)),\n          (type.elementType = REACT_PROFILER_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_TYPE:\n        return (\n          (type = createFiberImplClass(13, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_LIST_TYPE:\n        return (\n          (type = createFiberImplClass(19, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_LIST_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_OFFSCREEN_TYPE:\n        return createFiberFromOffscreen(pendingProps, mode, lanes, key);\n      default:\n        if (\"object\" === typeof type && null !== type)\n          switch (type.$$typeof) {\n            case REACT_PROVIDER_TYPE:\n            case REACT_CONTEXT_TYPE:\n              fiberTag = 10;\n              break a;\n            case REACT_CONSUMER_TYPE:\n              fiberTag = 9;\n              break a;\n            case REACT_FORWARD_REF_TYPE:\n              fiberTag = 11;\n              break a;\n            case REACT_MEMO_TYPE:\n              fiberTag = 14;\n              break a;\n            case REACT_LAZY_TYPE:\n              fiberTag = 16;\n              owner = null;\n              break a;\n          }\n        fiberTag = 29;\n        pendingProps = Error(\n          formatProdErrorMessage(130, null === type ? \"null\" : typeof type, \"\")\n        );\n        owner = null;\n    }\n  key = createFiberImplClass(fiberTag, pendingProps, key, mode);\n  key.elementType = type;\n  key.type = owner;\n  key.lanes = lanes;\n  return key;\n}\nfunction createFiberFromFragment(elements, mode, lanes, key) {\n  elements = createFiberImplClass(7, elements, key, mode);\n  elements.lanes = lanes;\n  return elements;\n}\nfunction createFiberFromOffscreen(pendingProps, mode, lanes, key) {\n  pendingProps = createFiberImplClass(22, pendingProps, key, mode);\n  pendingProps.elementType = REACT_OFFSCREEN_TYPE;\n  pendingProps.lanes = lanes;\n  var primaryChildInstance = {\n    _visibility: 1,\n    _pendingVisibility: 1,\n    _pendingMarkers: null,\n    _retryCache: null,\n    _transitions: null,\n    _current: null,\n    detach: function () {\n      var fiber = primaryChildInstance._current;\n      if (null === fiber) throw Error(formatProdErrorMessage(456));\n      if (0 === (primaryChildInstance._pendingVisibility & 2)) {\n        var root = enqueueConcurrentRenderForLane(fiber, 2);\n        null !== root &&\n          ((primaryChildInstance._pendingVisibility |= 2),\n          scheduleUpdateOnFiber(root, fiber, 2));\n      }\n    },\n    attach: function () {\n      var fiber = primaryChildInstance._current;\n      if (null === fiber) throw Error(formatProdErrorMessage(456));\n      if (0 !== (primaryChildInstance._pendingVisibility & 2)) {\n        var root = enqueueConcurrentRenderForLane(fiber, 2);\n        null !== root &&\n          ((primaryChildInstance._pendingVisibility &= -3),\n          scheduleUpdateOnFiber(root, fiber, 2));\n      }\n    }\n  };\n  pendingProps.stateNode = primaryChildInstance;\n  return pendingProps;\n}\nfunction createFiberFromText(content, mode, lanes) {\n  content = createFiberImplClass(6, content, null, mode);\n  content.lanes = lanes;\n  return content;\n}\nfunction createFiberFromPortal(portal, mode, lanes) {\n  mode = createFiberImplClass(\n    4,\n    null !== portal.children ? portal.children : [],\n    portal.key,\n    mode\n  );\n  mode.lanes = lanes;\n  mode.stateNode = {\n    containerInfo: portal.containerInfo,\n    pendingChildren: null,\n    implementation: portal.implementation\n  };\n  return mode;\n}\nfunction markUpdate(workInProgress) {\n  workInProgress.flags |= 4;\n}\nfunction preloadResourceAndSuspendIfNeeded(workInProgress, resource) {\n  if (\"stylesheet\" !== resource.type || 0 !== (resource.state.loading & 4))\n    workInProgress.flags &= -16777217;\n  else if (((workInProgress.flags |= 16777216), !preloadResource(resource))) {\n    resource = suspenseHandlerStackCursor.current;\n    if (\n      null !== resource &&\n      ((workInProgressRootRenderLanes & 4194176) ===\n      workInProgressRootRenderLanes\n        ? null !== shellBoundary\n        : ((workInProgressRootRenderLanes & 62914560) !==\n            workInProgressRootRenderLanes &&\n            0 === (workInProgressRootRenderLanes & 536870912)) ||\n          resource !== shellBoundary)\n    )\n      throw (\n        ((suspendedThenable = noopSuspenseyCommitThenable),\n        SuspenseyCommitException)\n      );\n    workInProgress.flags |= 8192;\n  }\n}\nfunction scheduleRetryEffect(workInProgress, retryQueue) {\n  null !== retryQueue && (workInProgress.flags |= 4);\n  workInProgress.flags & 16384 &&\n    ((retryQueue =\n      22 !== workInProgress.tag ? claimNextRetryLane() : 536870912),\n    (workInProgress.lanes |= retryQueue),\n    (workInProgressSuspendedRetryLanes |= retryQueue));\n}\nfunction cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {\n  if (!isHydrating)\n    switch (renderState.tailMode) {\n      case \"hidden\":\n        hasRenderedATailFallback = renderState.tail;\n        for (var lastTailNode = null; null !== hasRenderedATailFallback; )\n          null !== hasRenderedATailFallback.alternate &&\n            (lastTailNode = hasRenderedATailFallback),\n            (hasRenderedATailFallback = hasRenderedATailFallback.sibling);\n        null === lastTailNode\n          ? (renderState.tail = null)\n          : (lastTailNode.sibling = null);\n        break;\n      case \"collapsed\":\n        lastTailNode = renderState.tail;\n        for (var lastTailNode$131 = null; null !== lastTailNode; )\n          null !== lastTailNode.alternate && (lastTailNode$131 = lastTailNode),\n            (lastTailNode = lastTailNode.sibling);\n        null === lastTailNode$131\n          ? hasRenderedATailFallback || null === renderState.tail\n            ? (renderState.tail = null)\n            : (renderState.tail.sibling = null)\n          : (lastTailNode$131.sibling = null);\n    }\n}\nfunction bubbleProperties(completedWork) {\n  var didBailout =\n      null !== completedWork.alternate &&\n      completedWork.alternate.child === completedWork.child,\n    newChildLanes = 0,\n    subtreeFlags = 0;\n  if (didBailout)\n    for (var child$132 = completedWork.child; null !== child$132; )\n      (newChildLanes |= child$132.lanes | child$132.childLanes),\n        (subtreeFlags |= child$132.subtreeFlags & 31457280),\n        (subtreeFlags |= child$132.flags & 31457280),\n        (child$132.return = completedWork),\n        (child$132 = child$132.sibling);\n  else\n    for (child$132 = completedWork.child; null !== child$132; )\n      (newChildLanes |= child$132.lanes | child$132.childLanes),\n        (subtreeFlags |= child$132.subtreeFlags),\n        (subtreeFlags |= child$132.flags),\n        (child$132.return = completedWork),\n        (child$132 = child$132.sibling);\n  completedWork.subtreeFlags |= subtreeFlags;\n  completedWork.childLanes = newChildLanes;\n  return didBailout;\n}\nfunction completeWork(current, workInProgress, renderLanes) {\n  var newProps = workInProgress.pendingProps;\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 16:\n    case 15:\n    case 0:\n    case 11:\n    case 7:\n    case 8:\n    case 12:\n    case 9:\n    case 14:\n      return bubbleProperties(workInProgress), null;\n    case 1:\n      return bubbleProperties(workInProgress), null;\n    case 3:\n      renderLanes = workInProgress.stateNode;\n      newProps = null;\n      null !== current && (newProps = current.memoizedState.cache);\n      workInProgress.memoizedState.cache !== newProps &&\n        (workInProgress.flags |= 2048);\n      popProvider(CacheContext);\n      popHostContainer();\n      renderLanes.pendingContext &&\n        ((renderLanes.context = renderLanes.pendingContext),\n        (renderLanes.pendingContext = null));\n      if (null === current || null === current.child)\n        popHydrationState(workInProgress)\n          ? markUpdate(workInProgress)\n          : null === current ||\n            (current.memoizedState.isDehydrated &&\n              0 === (workInProgress.flags & 256)) ||\n            ((workInProgress.flags |= 1024),\n            null !== hydrationErrors &&\n              (queueRecoverableErrors(hydrationErrors),\n              (hydrationErrors = null)));\n      bubbleProperties(workInProgress);\n      return null;\n    case 26:\n      return (\n        (renderLanes = workInProgress.memoizedState),\n        null === current\n          ? (markUpdate(workInProgress),\n            null !== renderLanes\n              ? (bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217)))\n          : renderLanes\n            ? renderLanes !== current.memoizedState\n              ? (markUpdate(workInProgress),\n                bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217))\n            : (current.memoizedProps !== newProps && markUpdate(workInProgress),\n              bubbleProperties(workInProgress),\n              (workInProgress.flags &= -16777217)),\n        null\n      );\n    case 27:\n      popHostContext(workInProgress);\n      renderLanes = rootInstanceStackCursor.current;\n      var type = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        popHydrationState(workInProgress)\n          ? prepareToHydrateHostInstance(workInProgress, current)\n          : ((current = resolveSingletonInstance(type, newProps, renderLanes)),\n            (workInProgress.stateNode = current),\n            markUpdate(workInProgress));\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 5:\n      popHostContext(workInProgress);\n      renderLanes = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        if (popHydrationState(workInProgress))\n          prepareToHydrateHostInstance(workInProgress, current);\n        else {\n          type = getOwnerDocumentFromRootContainer(\n            rootInstanceStackCursor.current\n          );\n          switch (current) {\n            case 1:\n              current = type.createElementNS(\n                \"http://www.w3.org/2000/svg\",\n                renderLanes\n              );\n              break;\n            case 2:\n              current = type.createElementNS(\n                \"http://www.w3.org/1998/Math/MathML\",\n                renderLanes\n              );\n              break;\n            default:\n              switch (renderLanes) {\n                case \"svg\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/2000/svg\",\n                    renderLanes\n                  );\n                  break;\n                case \"math\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/1998/Math/MathML\",\n                    renderLanes\n                  );\n                  break;\n                case \"script\":\n                  current = type.createElement(\"div\");\n                  current.innerHTML = \"<script>\\x3c/script>\";\n                  current = current.removeChild(current.firstChild);\n                  break;\n                case \"select\":\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(\"select\", { is: newProps.is })\n                      : type.createElement(\"select\");\n                  newProps.multiple\n                    ? (current.multiple = !0)\n                    : newProps.size && (current.size = newProps.size);\n                  break;\n                default:\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(renderLanes, { is: newProps.is })\n                      : type.createElement(renderLanes);\n              }\n          }\n          current[internalInstanceKey] = workInProgress;\n          current[internalPropsKey] = newProps;\n          a: for (type = workInProgress.child; null !== type; ) {\n            if (5 === type.tag || 6 === type.tag)\n              current.appendChild(type.stateNode);\n            else if (4 !== type.tag && 27 !== type.tag && null !== type.child) {\n              type.child.return = type;\n              type = type.child;\n              continue;\n            }\n            if (type === workInProgress) break a;\n            for (; null === type.sibling; ) {\n              if (null === type.return || type.return === workInProgress)\n                break a;\n              type = type.return;\n            }\n            type.sibling.return = type.return;\n            type = type.sibling;\n          }\n          workInProgress.stateNode = current;\n          a: switch (\n            (setInitialProperties(current, renderLanes, newProps), renderLanes)\n          ) {\n            case \"button\":\n            case \"input\":\n            case \"select\":\n            case \"textarea\":\n              current = !!newProps.autoFocus;\n              break a;\n            case \"img\":\n              current = !0;\n              break a;\n            default:\n              current = !1;\n          }\n          current && markUpdate(workInProgress);\n        }\n      }\n      bubbleProperties(workInProgress);\n      workInProgress.flags &= -16777217;\n      return null;\n    case 6:\n      if (current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (\"string\" !== typeof newProps && null === workInProgress.stateNode)\n          throw Error(formatProdErrorMessage(166));\n        current = rootInstanceStackCursor.current;\n        if (popHydrationState(workInProgress)) {\n          current = workInProgress.stateNode;\n          renderLanes = workInProgress.memoizedProps;\n          newProps = null;\n          type = hydrationParentFiber;\n          if (null !== type)\n            switch (type.tag) {\n              case 27:\n              case 5:\n                newProps = type.memoizedProps;\n            }\n          current[internalInstanceKey] = workInProgress;\n          current =\n            current.nodeValue === renderLanes ||\n            (null !== newProps && !0 === newProps.suppressHydrationWarning) ||\n            checkForUnmatchedText(current.nodeValue, renderLanes)\n              ? !0\n              : !1;\n          current || throwOnHydrationMismatch(workInProgress);\n        } else\n          (current =\n            getOwnerDocumentFromRootContainer(current).createTextNode(\n              newProps\n            )),\n            (current[internalInstanceKey] = workInProgress),\n            (workInProgress.stateNode = current);\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 13:\n      newProps = workInProgress.memoizedState;\n      if (\n        null === current ||\n        (null !== current.memoizedState &&\n          null !== current.memoizedState.dehydrated)\n      ) {\n        type = popHydrationState(workInProgress);\n        if (null !== newProps && null !== newProps.dehydrated) {\n          if (null === current) {\n            if (!type) throw Error(formatProdErrorMessage(318));\n            type = workInProgress.memoizedState;\n            type = null !== type ? type.dehydrated : null;\n            if (!type) throw Error(formatProdErrorMessage(317));\n            type[internalInstanceKey] = workInProgress;\n          } else\n            resetHydrationState(),\n              0 === (workInProgress.flags & 128) &&\n                (workInProgress.memoizedState = null),\n              (workInProgress.flags |= 4);\n          bubbleProperties(workInProgress);\n          type = !1;\n        } else\n          null !== hydrationErrors &&\n            (queueRecoverableErrors(hydrationErrors), (hydrationErrors = null)),\n            (type = !0);\n        if (!type) {\n          if (workInProgress.flags & 256)\n            return popSuspenseHandler(workInProgress), workInProgress;\n          popSuspenseHandler(workInProgress);\n          return null;\n        }\n      }\n      popSuspenseHandler(workInProgress);\n      if (0 !== (workInProgress.flags & 128))\n        return (workInProgress.lanes = renderLanes), workInProgress;\n      renderLanes = null !== newProps;\n      current = null !== current && null !== current.memoizedState;\n      if (renderLanes) {\n        newProps = workInProgress.child;\n        type = null;\n        null !== newProps.alternate &&\n          null !== newProps.alternate.memoizedState &&\n          null !== newProps.alternate.memoizedState.cachePool &&\n          (type = newProps.alternate.memoizedState.cachePool.pool);\n        var cache$144 = null;\n        null !== newProps.memoizedState &&\n          null !== newProps.memoizedState.cachePool &&\n          (cache$144 = newProps.memoizedState.cachePool.pool);\n        cache$144 !== type && (newProps.flags |= 2048);\n      }\n      renderLanes !== current &&\n        renderLanes &&\n        (workInProgress.child.flags |= 8192);\n      scheduleRetryEffect(workInProgress, workInProgress.updateQueue);\n      bubbleProperties(workInProgress);\n      return null;\n    case 4:\n      return (\n        popHostContainer(),\n        null === current &&\n          listenToAllSupportedEvents(workInProgress.stateNode.containerInfo),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 10:\n      return (\n        popProvider(workInProgress.type), bubbleProperties(workInProgress), null\n      );\n    case 19:\n      pop(suspenseStackCursor);\n      type = workInProgress.memoizedState;\n      if (null === type) return bubbleProperties(workInProgress), null;\n      newProps = 0 !== (workInProgress.flags & 128);\n      cache$144 = type.rendering;\n      if (null === cache$144)\n        if (newProps) cutOffTailIfNeeded(type, !1);\n        else {\n          if (\n            0 !== workInProgressRootExitStatus ||\n            (null !== current && 0 !== (current.flags & 128))\n          )\n            for (current = workInProgress.child; null !== current; ) {\n              cache$144 = findFirstSuspended(current);\n              if (null !== cache$144) {\n                workInProgress.flags |= 128;\n                cutOffTailIfNeeded(type, !1);\n                current = cache$144.updateQueue;\n                workInProgress.updateQueue = current;\n                scheduleRetryEffect(workInProgress, current);\n                workInProgress.subtreeFlags = 0;\n                current = renderLanes;\n                for (renderLanes = workInProgress.child; null !== renderLanes; )\n                  resetWorkInProgress(renderLanes, current),\n                    (renderLanes = renderLanes.sibling);\n                push(\n                  suspenseStackCursor,\n                  (suspenseStackCursor.current & 1) | 2\n                );\n                return workInProgress.child;\n              }\n              current = current.sibling;\n            }\n          null !== type.tail &&\n            now() > workInProgressRootRenderTargetTime &&\n            ((workInProgress.flags |= 128),\n            (newProps = !0),\n            cutOffTailIfNeeded(type, !1),\n            (workInProgress.lanes = 4194304));\n        }\n      else {\n        if (!newProps)\n          if (((current = findFirstSuspended(cache$144)), null !== current)) {\n            if (\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              (current = current.updateQueue),\n              (workInProgress.updateQueue = current),\n              scheduleRetryEffect(workInProgress, current),\n              cutOffTailIfNeeded(type, !0),\n              null === type.tail &&\n                \"hidden\" === type.tailMode &&\n                !cache$144.alternate &&\n                !isHydrating)\n            )\n              return bubbleProperties(workInProgress), null;\n          } else\n            2 * now() - type.renderingStartTime >\n              workInProgressRootRenderTargetTime &&\n              536870912 !== renderLanes &&\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              cutOffTailIfNeeded(type, !1),\n              (workInProgress.lanes = 4194304));\n        type.isBackwards\n          ? ((cache$144.sibling = workInProgress.child),\n            (workInProgress.child = cache$144))\n          : ((current = type.last),\n            null !== current\n              ? (current.sibling = cache$144)\n              : (workInProgress.child = cache$144),\n            (type.last = cache$144));\n      }\n      if (null !== type.tail)\n        return (\n          (workInProgress = type.tail),\n          (type.rendering = workInProgress),\n          (type.tail = workInProgress.sibling),\n          (type.renderingStartTime = now()),\n          (workInProgress.sibling = null),\n          (current = suspenseStackCursor.current),\n          push(suspenseStackCursor, newProps ? (current & 1) | 2 : current & 1),\n          workInProgress\n        );\n      bubbleProperties(workInProgress);\n      return null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        (newProps = null !== workInProgress.memoizedState),\n        null !== current\n          ? (null !== current.memoizedState) !== newProps &&\n            (workInProgress.flags |= 8192)\n          : newProps && (workInProgress.flags |= 8192),\n        newProps\n          ? 0 !== (renderLanes & 536870912) &&\n            0 === (workInProgress.flags & 128) &&\n            (bubbleProperties(workInProgress),\n            workInProgress.subtreeFlags & 6 && (workInProgress.flags |= 8192))\n          : bubbleProperties(workInProgress),\n        (renderLanes = workInProgress.updateQueue),\n        null !== renderLanes &&\n          scheduleRetryEffect(workInProgress, renderLanes.retryQueue),\n        (renderLanes = null),\n        null !== current &&\n          null !== current.memoizedState &&\n          null !== current.memoizedState.cachePool &&\n          (renderLanes = current.memoizedState.cachePool.pool),\n        (newProps = null),\n        null !== workInProgress.memoizedState &&\n          null !== workInProgress.memoizedState.cachePool &&\n          (newProps = workInProgress.memoizedState.cachePool.pool),\n        newProps !== renderLanes && (workInProgress.flags |= 2048),\n        null !== current && pop(resumedCache),\n        null\n      );\n    case 24:\n      return (\n        (renderLanes = null),\n        null !== current && (renderLanes = current.memoizedState.cache),\n        workInProgress.memoizedState.cache !== renderLanes &&\n          (workInProgress.flags |= 2048),\n        popProvider(CacheContext),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 25:\n      return null;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction unwindWork(current, workInProgress) {\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 1:\n      return (\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 3:\n      return (\n        popProvider(CacheContext),\n        popHostContainer(),\n        (current = workInProgress.flags),\n        0 !== (current & 65536) && 0 === (current & 128)\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 26:\n    case 27:\n    case 5:\n      return popHostContext(workInProgress), null;\n    case 13:\n      popSuspenseHandler(workInProgress);\n      current = workInProgress.memoizedState;\n      if (null !== current && null !== current.dehydrated) {\n        if (null === workInProgress.alternate)\n          throw Error(formatProdErrorMessage(340));\n        resetHydrationState();\n      }\n      current = workInProgress.flags;\n      return current & 65536\n        ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n        : null;\n    case 19:\n      return pop(suspenseStackCursor), null;\n    case 4:\n      return popHostContainer(), null;\n    case 10:\n      return popProvider(workInProgress.type), null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        null !== current && pop(resumedCache),\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 24:\n      return popProvider(CacheContext), null;\n    case 25:\n      return null;\n    default:\n      return null;\n  }\n}\nfunction unwindInterruptedWork(current, interruptedWork) {\n  popTreeContext(interruptedWork);\n  switch (interruptedWork.tag) {\n    case 3:\n      popProvider(CacheContext);\n      popHostContainer();\n      break;\n    case 26:\n    case 27:\n    case 5:\n      popHostContext(interruptedWork);\n      break;\n    case 4:\n      popHostContainer();\n      break;\n    case 13:\n      popSuspenseHandler(interruptedWork);\n      break;\n    case 19:\n      pop(suspenseStackCursor);\n      break;\n    case 10:\n      popProvider(interruptedWork.type);\n      break;\n    case 22:\n    case 23:\n      popSuspenseHandler(interruptedWork);\n      popHiddenContext();\n      null !== current && pop(resumedCache);\n      break;\n    case 24:\n      popProvider(CacheContext);\n  }\n}\nvar DefaultAsyncDispatcher = {\n    getCacheForType: function (resourceType) {\n      var cache = readContext(CacheContext),\n        cacheForType = cache.data.get(resourceType);\n      void 0 === cacheForType &&\n        ((cacheForType = resourceType()),\n        cache.data.set(resourceType, cacheForType));\n      return cacheForType;\n    }\n  },\n  PossiblyWeakMap = \"function\" === typeof WeakMap ? WeakMap : Map,\n  executionContext = 0,\n  workInProgressRoot = null,\n  workInProgress = null,\n  workInProgressRootRenderLanes = 0,\n  workInProgressSuspendedReason = 0,\n  workInProgressThrownValue = null,\n  workInProgressRootDidSkipSuspendedSiblings = !1,\n  workInProgressRootIsPrerendering = !1,\n  workInProgressRootDidAttachPingListener = !1,\n  entangledRenderLanes = 0,\n  workInProgressRootExitStatus = 0,\n  workInProgressRootSkippedLanes = 0,\n  workInProgressRootInterleavedUpdatedLanes = 0,\n  workInProgressRootPingedLanes = 0,\n  workInProgressDeferredLane = 0,\n  workInProgressSuspendedRetryLanes = 0,\n  workInProgressRootConcurrentErrors = null,\n  workInProgressRootRecoverableErrors = null,\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1,\n  globalMostRecentFallbackTime = 0,\n  workInProgressRootRenderTargetTime = Infinity,\n  workInProgressTransitions = null,\n  legacyErrorBoundariesThatAlreadyFailed = null,\n  rootDoesHavePassiveEffects = !1,\n  rootWithPendingPassiveEffects = null,\n  pendingPassiveEffectsLanes = 0,\n  pendingPassiveEffectsRemainingLanes = 0,\n  pendingPassiveTransitions = null,\n  nestedUpdateCount = 0,\n  rootWithNestedUpdates = null;\nfunction requestUpdateLane() {\n  if (0 !== (executionContext & 2) && 0 !== workInProgressRootRenderLanes)\n    return workInProgressRootRenderLanes & -workInProgressRootRenderLanes;\n  if (null !== ReactSharedInternals.T) {\n    var actionScopeLane = currentEntangledLane;\n    return 0 !== actionScopeLane ? actionScopeLane : requestTransitionLane();\n  }\n  return resolveUpdatePriority();\n}\nfunction requestDeferredLane() {\n  0 === workInProgressDeferredLane &&\n    (workInProgressDeferredLane =\n      0 === (workInProgressRootRenderLanes & 536870912) || isHydrating\n        ? claimNextTransitionLane()\n        : 536870912);\n  var suspenseHandler = suspenseHandlerStackCursor.current;\n  null !== suspenseHandler && (suspenseHandler.flags |= 32);\n  return workInProgressDeferredLane;\n}\nfunction scheduleUpdateOnFiber(root, fiber, lane) {\n  if (\n    (root === workInProgressRoot && 2 === workInProgressSuspendedReason) ||\n    null !== root.cancelPendingCommit\n  )\n    prepareFreshStack(root, 0),\n      markRootSuspended(\n        root,\n        workInProgressRootRenderLanes,\n        workInProgressDeferredLane,\n        !1\n      );\n  markRootUpdated$1(root, lane);\n  if (0 === (executionContext & 2) || root !== workInProgressRoot)\n    root === workInProgressRoot &&\n      (0 === (executionContext & 2) &&\n        (workInProgressRootInterleavedUpdatedLanes |= lane),\n      4 === workInProgressRootExitStatus &&\n        markRootSuspended(\n          root,\n          workInProgressRootRenderLanes,\n          workInProgressDeferredLane,\n          !1\n        )),\n      ensureRootIsScheduled(root);\n}\nfunction performWorkOnRoot(root$jscomp$0, lanes, forceSync) {\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var shouldTimeSlice =\n      (!forceSync &&\n        0 === (lanes & 60) &&\n        0 === (lanes & root$jscomp$0.expiredLanes)) ||\n      checkIfRootIsPrerendering(root$jscomp$0, lanes),\n    exitStatus = shouldTimeSlice\n      ? renderRootConcurrent(root$jscomp$0, lanes)\n      : renderRootSync(root$jscomp$0, lanes, !0),\n    renderWasConcurrent = shouldTimeSlice;\n  do {\n    if (0 === exitStatus) {\n      workInProgressRootIsPrerendering &&\n        !shouldTimeSlice &&\n        markRootSuspended(root$jscomp$0, lanes, 0, !1);\n      break;\n    } else if (6 === exitStatus)\n      markRootSuspended(\n        root$jscomp$0,\n        lanes,\n        0,\n        !workInProgressRootDidSkipSuspendedSiblings\n      );\n    else {\n      forceSync = root$jscomp$0.current.alternate;\n      if (\n        renderWasConcurrent &&\n        !isRenderConsistentWithExternalStores(forceSync)\n      ) {\n        exitStatus = renderRootSync(root$jscomp$0, lanes, !1);\n        renderWasConcurrent = !1;\n        continue;\n      }\n      if (2 === exitStatus) {\n        renderWasConcurrent = lanes;\n        if (root$jscomp$0.errorRecoveryDisabledLanes & renderWasConcurrent)\n          var JSCompiler_inline_result = 0;\n        else\n          (JSCompiler_inline_result = root$jscomp$0.pendingLanes & -536870913),\n            (JSCompiler_inline_result =\n              0 !== JSCompiler_inline_result\n                ? JSCompiler_inline_result\n                : JSCompiler_inline_result & 536870912\n                  ? 536870912\n                  : 0);\n        if (0 !== JSCompiler_inline_result) {\n          lanes = JSCompiler_inline_result;\n          a: {\n            var root = root$jscomp$0;\n            exitStatus = workInProgressRootConcurrentErrors;\n            var wasRootDehydrated = root.current.memoizedState.isDehydrated;\n            wasRootDehydrated &&\n              (prepareFreshStack(root, JSCompiler_inline_result).flags |= 256);\n            JSCompiler_inline_result = renderRootSync(\n              root,\n              JSCompiler_inline_result,\n              !1\n            );\n            if (2 !== JSCompiler_inline_result) {\n              if (\n                workInProgressRootDidAttachPingListener &&\n                !wasRootDehydrated\n              ) {\n                root.errorRecoveryDisabledLanes |= renderWasConcurrent;\n                workInProgressRootInterleavedUpdatedLanes |=\n                  renderWasConcurrent;\n                exitStatus = 4;\n                break a;\n              }\n              renderWasConcurrent = workInProgressRootRecoverableErrors;\n              workInProgressRootRecoverableErrors = exitStatus;\n              null !== renderWasConcurrent &&\n                queueRecoverableErrors(renderWasConcurrent);\n            }\n            exitStatus = JSCompiler_inline_result;\n          }\n          renderWasConcurrent = !1;\n          if (2 !== exitStatus) continue;\n        }\n      }\n      if (1 === exitStatus) {\n        prepareFreshStack(root$jscomp$0, 0);\n        markRootSuspended(root$jscomp$0, lanes, 0, !0);\n        break;\n      }\n      a: {\n        shouldTimeSlice = root$jscomp$0;\n        switch (exitStatus) {\n          case 0:\n          case 1:\n            throw Error(formatProdErrorMessage(345));\n          case 4:\n            if ((lanes & 4194176) === lanes) {\n              markRootSuspended(\n                shouldTimeSlice,\n                lanes,\n                workInProgressDeferredLane,\n                !workInProgressRootDidSkipSuspendedSiblings\n              );\n              break a;\n            }\n            break;\n          case 2:\n            workInProgressRootRecoverableErrors = null;\n            break;\n          case 3:\n          case 5:\n            break;\n          default:\n            throw Error(formatProdErrorMessage(329));\n        }\n        shouldTimeSlice.finishedWork = forceSync;\n        shouldTimeSlice.finishedLanes = lanes;\n        if (\n          (lanes & 62914560) === lanes &&\n          ((renderWasConcurrent = globalMostRecentFallbackTime + 300 - now()),\n          10 < renderWasConcurrent)\n        ) {\n          markRootSuspended(\n            shouldTimeSlice,\n            lanes,\n            workInProgressDeferredLane,\n            !workInProgressRootDidSkipSuspendedSiblings\n          );\n          if (0 !== getNextLanes(shouldTimeSlice, 0)) break a;\n          shouldTimeSlice.timeoutHandle = scheduleTimeout(\n            commitRootWhenReady.bind(\n              null,\n              shouldTimeSlice,\n              forceSync,\n              workInProgressRootRecoverableErrors,\n              workInProgressTransitions,\n              workInProgressRootDidIncludeRecursiveRenderUpdate,\n              lanes,\n              workInProgressDeferredLane,\n              workInProgressRootInterleavedUpdatedLanes,\n              workInProgressSuspendedRetryLanes,\n              workInProgressRootDidSkipSuspendedSiblings,\n              2,\n              -0,\n              0\n            ),\n            renderWasConcurrent\n          );\n          break a;\n        }\n        commitRootWhenReady(\n          shouldTimeSlice,\n          forceSync,\n          workInProgressRootRecoverableErrors,\n          workInProgressTransitions,\n          workInProgressRootDidIncludeRecursiveRenderUpdate,\n          lanes,\n          workInProgressDeferredLane,\n          workInProgressRootInterleavedUpdatedLanes,\n          workInProgressSuspendedRetryLanes,\n          workInProgressRootDidSkipSuspendedSiblings,\n          0,\n          -0,\n          0\n        );\n      }\n    }\n    break;\n  } while (1);\n  ensureRootIsScheduled(root$jscomp$0);\n}\nfunction queueRecoverableErrors(errors) {\n  null === workInProgressRootRecoverableErrors\n    ? (workInProgressRootRecoverableErrors = errors)\n    : workInProgressRootRecoverableErrors.push.apply(\n        workInProgressRootRecoverableErrors,\n        errors\n      );\n}\nfunction commitRootWhenReady(\n  root,\n  finishedWork,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  lanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  didSkipSuspendedSiblings,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  var subtreeFlags = finishedWork.subtreeFlags;\n  if (subtreeFlags & 8192 || 16785408 === (subtreeFlags & 16785408))\n    if (\n      ((suspendedState = { stylesheets: null, count: 0, unsuspend: noop }),\n      accumulateSuspenseyCommitOnFiber(finishedWork),\n      (finishedWork = waitForCommitToBeReady()),\n      null !== finishedWork)\n    ) {\n      root.cancelPendingCommit = finishedWork(\n        commitRoot.bind(\n          null,\n          root,\n          recoverableErrors,\n          transitions,\n          didIncludeRenderPhaseUpdate,\n          spawnedLane,\n          updatedLanes,\n          suspendedRetryLanes,\n          1,\n          completedRenderStartTime,\n          completedRenderEndTime\n        )\n      );\n      markRootSuspended(root, lanes, spawnedLane, !didSkipSuspendedSiblings);\n      return;\n    }\n  commitRoot(\n    root,\n    recoverableErrors,\n    transitions,\n    didIncludeRenderPhaseUpdate,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes,\n    suspendedCommitReason,\n    completedRenderStartTime,\n    completedRenderEndTime\n  );\n}\nfunction isRenderConsistentWithExternalStores(finishedWork) {\n  for (var node = finishedWork; ; ) {\n    var tag = node.tag;\n    if (\n      (0 === tag || 11 === tag || 15 === tag) &&\n      node.flags & 16384 &&\n      ((tag = node.updateQueue),\n      null !== tag && ((tag = tag.stores), null !== tag))\n    )\n      for (var i = 0; i < tag.length; i++) {\n        var check = tag[i],\n          getSnapshot = check.getSnapshot;\n        check = check.value;\n        try {\n          if (!objectIs(getSnapshot(), check)) return !1;\n        } catch (error) {\n          return !1;\n        }\n      }\n    tag = node.child;\n    if (node.subtreeFlags & 16384 && null !== tag)\n      (tag.return = node), (node = tag);\n    else {\n      if (node === finishedWork) break;\n      for (; null === node.sibling; ) {\n        if (null === node.return || node.return === finishedWork) return !0;\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  }\n  return !0;\n}\nfunction markRootSuspended(\n  root,\n  suspendedLanes,\n  spawnedLane,\n  didAttemptEntireTree\n) {\n  suspendedLanes &= ~workInProgressRootPingedLanes;\n  suspendedLanes &= ~workInProgressRootInterleavedUpdatedLanes;\n  root.suspendedLanes |= suspendedLanes;\n  root.pingedLanes &= ~suspendedLanes;\n  didAttemptEntireTree && (root.warmLanes |= suspendedLanes);\n  didAttemptEntireTree = root.expirationTimes;\n  for (var lanes = suspendedLanes; 0 < lanes; ) {\n    var index$6 = 31 - clz32(lanes),\n      lane = 1 << index$6;\n    didAttemptEntireTree[index$6] = -1;\n    lanes &= ~lane;\n  }\n  0 !== spawnedLane &&\n    markSpawnedDeferredLane(root, spawnedLane, suspendedLanes);\n}\nfunction flushSyncWork$1() {\n  return 0 === (executionContext & 6)\n    ? (flushSyncWorkAcrossRoots_impl(0, !1), !1)\n    : !0;\n}\nfunction resetWorkInProgressStack() {\n  if (null !== workInProgress) {\n    if (0 === workInProgressSuspendedReason)\n      var interruptedWork = workInProgress.return;\n    else\n      (interruptedWork = workInProgress),\n        (lastContextDependency = currentlyRenderingFiber = null),\n        resetHooksOnUnwind(interruptedWork),\n        (thenableState$1 = null),\n        (thenableIndexCounter$1 = 0),\n        (interruptedWork = workInProgress);\n    for (; null !== interruptedWork; )\n      unwindInterruptedWork(interruptedWork.alternate, interruptedWork),\n        (interruptedWork = interruptedWork.return);\n    workInProgress = null;\n  }\n}\nfunction prepareFreshStack(root, lanes) {\n  root.finishedWork = null;\n  root.finishedLanes = 0;\n  var timeoutHandle = root.timeoutHandle;\n  -1 !== timeoutHandle &&\n    ((root.timeoutHandle = -1), cancelTimeout(timeoutHandle));\n  timeoutHandle = root.cancelPendingCommit;\n  null !== timeoutHandle &&\n    ((root.cancelPendingCommit = null), timeoutHandle());\n  resetWorkInProgressStack();\n  workInProgressRoot = root;\n  workInProgress = timeoutHandle = createWorkInProgress(root.current, null);\n  workInProgressRootRenderLanes = lanes;\n  workInProgressSuspendedReason = 0;\n  workInProgressThrownValue = null;\n  workInProgressRootDidSkipSuspendedSiblings = !1;\n  workInProgressRootIsPrerendering = checkIfRootIsPrerendering(root, lanes);\n  workInProgressRootDidAttachPingListener = !1;\n  workInProgressSuspendedRetryLanes =\n    workInProgressDeferredLane =\n    workInProgressRootPingedLanes =\n    workInProgressRootInterleavedUpdatedLanes =\n    workInProgressRootSkippedLanes =\n    workInProgressRootExitStatus =\n      0;\n  workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =\n    null;\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1;\n  0 !== (lanes & 8) && (lanes |= lanes & 32);\n  var allEntangledLanes = root.entangledLanes;\n  if (0 !== allEntangledLanes)\n    for (\n      root = root.entanglements, allEntangledLanes &= lanes;\n      0 < allEntangledLanes;\n\n    ) {\n      var index$4 = 31 - clz32(allEntangledLanes),\n        lane = 1 << index$4;\n      lanes |= root[index$4];\n      allEntangledLanes &= ~lane;\n    }\n  entangledRenderLanes = lanes;\n  finishQueueingConcurrentUpdates();\n  return timeoutHandle;\n}\nfunction handleThrow(root, thrownValue) {\n  currentlyRenderingFiber$1 = null;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  thrownValue === SuspenseException\n    ? ((thrownValue = getSuspendedThenable()),\n      (workInProgressSuspendedReason = 3))\n    : thrownValue === SuspenseyCommitException\n      ? ((thrownValue = getSuspendedThenable()),\n        (workInProgressSuspendedReason = 4))\n      : (workInProgressSuspendedReason =\n          thrownValue === SelectiveHydrationException\n            ? 8\n            : null !== thrownValue &&\n                \"object\" === typeof thrownValue &&\n                \"function\" === typeof thrownValue.then\n              ? 6\n              : 1);\n  workInProgressThrownValue = thrownValue;\n  null === workInProgress &&\n    ((workInProgressRootExitStatus = 1),\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    ));\n}\nfunction pushDispatcher() {\n  var prevDispatcher = ReactSharedInternals.H;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  return null === prevDispatcher ? ContextOnlyDispatcher : prevDispatcher;\n}\nfunction pushAsyncDispatcher() {\n  var prevAsyncDispatcher = ReactSharedInternals.A;\n  ReactSharedInternals.A = DefaultAsyncDispatcher;\n  return prevAsyncDispatcher;\n}\nfunction renderDidSuspendDelayIfPossible() {\n  workInProgressRootExitStatus = 4;\n  workInProgressRootDidSkipSuspendedSiblings ||\n    ((workInProgressRootRenderLanes & 4194176) !==\n      workInProgressRootRenderLanes &&\n      null !== suspenseHandlerStackCursor.current) ||\n    (workInProgressRootIsPrerendering = !0);\n  (0 === (workInProgressRootSkippedLanes & 134217727) &&\n    0 === (workInProgressRootInterleavedUpdatedLanes & 134217727)) ||\n    null === workInProgressRoot ||\n    markRootSuspended(\n      workInProgressRoot,\n      workInProgressRootRenderLanes,\n      workInProgressDeferredLane,\n      !1\n    );\n}\nfunction renderRootSync(root, lanes, shouldYieldForPrerendering) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes)\n    (workInProgressTransitions = null), prepareFreshStack(root, lanes);\n  lanes = !1;\n  var exitStatus = workInProgressRootExitStatus;\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        var unitOfWork = workInProgress,\n          thrownValue = workInProgressThrownValue;\n        switch (workInProgressSuspendedReason) {\n          case 8:\n            resetWorkInProgressStack();\n            exitStatus = 6;\n            break a;\n          case 3:\n          case 2:\n          case 6:\n            null === suspenseHandlerStackCursor.current && (lanes = !0);\n            var reason = workInProgressSuspendedReason;\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n            if (\n              shouldYieldForPrerendering &&\n              workInProgressRootIsPrerendering\n            ) {\n              exitStatus = 0;\n              break a;\n            }\n            break;\n          default:\n            (reason = workInProgressSuspendedReason),\n              (workInProgressSuspendedReason = 0),\n              (workInProgressThrownValue = null),\n              throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n        }\n      }\n      workLoopSync();\n      exitStatus = workInProgressRootExitStatus;\n      break;\n    } catch (thrownValue$164) {\n      handleThrow(root, thrownValue$164);\n    }\n  while (1);\n  lanes && root.shellSuspendCounter++;\n  lastContextDependency = currentlyRenderingFiber = null;\n  executionContext = prevExecutionContext;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  null === workInProgress &&\n    ((workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0),\n    finishQueueingConcurrentUpdates());\n  return exitStatus;\n}\nfunction workLoopSync() {\n  for (; null !== workInProgress; ) performUnitOfWork(workInProgress);\n}\nfunction renderRootConcurrent(root, lanes) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes\n    ? ((workInProgressTransitions = null),\n      (workInProgressRootRenderTargetTime = now() + 500),\n      prepareFreshStack(root, lanes))\n    : (workInProgressRootIsPrerendering = checkIfRootIsPrerendering(\n        root,\n        lanes\n      ));\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        lanes = workInProgress;\n        var thrownValue = workInProgressThrownValue;\n        b: switch (workInProgressSuspendedReason) {\n          case 1:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 1);\n            break;\n          case 2:\n            if (isThenableResolved(thrownValue)) {\n              workInProgressSuspendedReason = 0;\n              workInProgressThrownValue = null;\n              replaySuspendedUnitOfWork(lanes);\n              break;\n            }\n            lanes = function () {\n              2 === workInProgressSuspendedReason &&\n                workInProgressRoot === root &&\n                (workInProgressSuspendedReason = 7);\n              ensureRootIsScheduled(root);\n            };\n            thrownValue.then(lanes, lanes);\n            break a;\n          case 3:\n            workInProgressSuspendedReason = 7;\n            break a;\n          case 4:\n            workInProgressSuspendedReason = 5;\n            break a;\n          case 7:\n            isThenableResolved(thrownValue)\n              ? ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                replaySuspendedUnitOfWork(lanes))\n              : ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                throwAndUnwindWorkLoop(root, lanes, thrownValue, 7));\n            break;\n          case 5:\n            var resource = null;\n            switch (workInProgress.tag) {\n              case 26:\n                resource = workInProgress.memoizedState;\n              case 5:\n              case 27:\n                var hostFiber = workInProgress;\n                if (resource ? preloadResource(resource) : 1) {\n                  workInProgressSuspendedReason = 0;\n                  workInProgressThrownValue = null;\n                  var sibling = hostFiber.sibling;\n                  if (null !== sibling) workInProgress = sibling;\n                  else {\n                    var returnFiber = hostFiber.return;\n                    null !== returnFiber\n                      ? ((workInProgress = returnFiber),\n                        completeUnitOfWork(returnFiber))\n                      : (workInProgress = null);\n                  }\n                  break b;\n                }\n            }\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 5);\n            break;\n          case 6:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 6);\n            break;\n          case 8:\n            resetWorkInProgressStack();\n            workInProgressRootExitStatus = 6;\n            break a;\n          default:\n            throw Error(formatProdErrorMessage(462));\n        }\n      }\n      workLoopConcurrent();\n      break;\n    } catch (thrownValue$166) {\n      handleThrow(root, thrownValue$166);\n    }\n  while (1);\n  lastContextDependency = currentlyRenderingFiber = null;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  executionContext = prevExecutionContext;\n  if (null !== workInProgress) return 0;\n  workInProgressRoot = null;\n  workInProgressRootRenderLanes = 0;\n  finishQueueingConcurrentUpdates();\n  return workInProgressRootExitStatus;\n}\nfunction workLoopConcurrent() {\n  for (; null !== workInProgress && !shouldYield(); )\n    performUnitOfWork(workInProgress);\n}\nfunction performUnitOfWork(unitOfWork) {\n  var next = beginWork(unitOfWork.alternate, unitOfWork, entangledRenderLanes);\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction replaySuspendedUnitOfWork(unitOfWork) {\n  var next = unitOfWork;\n  var current = next.alternate;\n  switch (next.tag) {\n    case 15:\n    case 0:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type,\n        void 0,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 11:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type.render,\n        next.ref,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 5:\n      resetHooksOnUnwind(next);\n    default:\n      unwindInterruptedWork(current, next),\n        (next = workInProgress =\n          resetWorkInProgress(next, entangledRenderLanes)),\n        (next = beginWork(current, next, entangledRenderLanes));\n  }\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction throwAndUnwindWorkLoop(\n  root,\n  unitOfWork,\n  thrownValue,\n  suspendedReason\n) {\n  lastContextDependency = currentlyRenderingFiber = null;\n  resetHooksOnUnwind(unitOfWork);\n  thenableState$1 = null;\n  thenableIndexCounter$1 = 0;\n  var returnFiber = unitOfWork.return;\n  try {\n    if (\n      throwException(\n        root,\n        returnFiber,\n        unitOfWork,\n        thrownValue,\n        workInProgressRootRenderLanes\n      )\n    ) {\n      workInProgressRootExitStatus = 1;\n      logUncaughtError(\n        root,\n        createCapturedValueAtFiber(thrownValue, root.current)\n      );\n      workInProgress = null;\n      return;\n    }\n  } catch (error) {\n    if (null !== returnFiber) throw ((workInProgress = returnFiber), error);\n    workInProgressRootExitStatus = 1;\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    );\n    workInProgress = null;\n    return;\n  }\n  if (unitOfWork.flags & 32768) {\n    if (isHydrating || 1 === suspendedReason) root = !0;\n    else if (\n      workInProgressRootIsPrerendering ||\n      0 !== (workInProgressRootRenderLanes & 536870912)\n    )\n      root = !1;\n    else if (\n      ((workInProgressRootDidSkipSuspendedSiblings = root = !0),\n      2 === suspendedReason || 3 === suspendedReason || 6 === suspendedReason)\n    )\n      (suspendedReason = suspenseHandlerStackCursor.current),\n        null !== suspendedReason &&\n          13 === suspendedReason.tag &&\n          (suspendedReason.flags |= 16384);\n    unwindUnitOfWork(unitOfWork, root);\n  } else completeUnitOfWork(unitOfWork);\n}\nfunction completeUnitOfWork(unitOfWork) {\n  var completedWork = unitOfWork;\n  do {\n    if (0 !== (completedWork.flags & 32768)) {\n      unwindUnitOfWork(\n        completedWork,\n        workInProgressRootDidSkipSuspendedSiblings\n      );\n      return;\n    }\n    unitOfWork = completedWork.return;\n    var next = completeWork(\n      completedWork.alternate,\n      completedWork,\n      entangledRenderLanes\n    );\n    if (null !== next) {\n      workInProgress = next;\n      return;\n    }\n    completedWork = completedWork.sibling;\n    if (null !== completedWork) {\n      workInProgress = completedWork;\n      return;\n    }\n    workInProgress = completedWork = unitOfWork;\n  } while (null !== completedWork);\n  0 === workInProgressRootExitStatus && (workInProgressRootExitStatus = 5);\n}\nfunction unwindUnitOfWork(unitOfWork, skipSiblings) {\n  do {\n    var next = unwindWork(unitOfWork.alternate, unitOfWork);\n    if (null !== next) {\n      next.flags &= 32767;\n      workInProgress = next;\n      return;\n    }\n    next = unitOfWork.return;\n    null !== next &&\n      ((next.flags |= 32768), (next.subtreeFlags = 0), (next.deletions = null));\n    if (\n      !skipSiblings &&\n      ((unitOfWork = unitOfWork.sibling), null !== unitOfWork)\n    ) {\n      workInProgress = unitOfWork;\n      return;\n    }\n    workInProgress = unitOfWork = next;\n  } while (null !== unitOfWork);\n  workInProgressRootExitStatus = 6;\n  workInProgress = null;\n}\nfunction commitRoot(\n  root,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  var prevTransition = ReactSharedInternals.T,\n    previousUpdateLanePriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      (ReactSharedInternals.T = null),\n      commitRootImpl(\n        root,\n        recoverableErrors,\n        transitions,\n        didIncludeRenderPhaseUpdate,\n        previousUpdateLanePriority,\n        spawnedLane,\n        updatedLanes,\n        suspendedRetryLanes,\n        suspendedCommitReason,\n        completedRenderStartTime,\n        completedRenderEndTime\n      );\n  } finally {\n    (ReactSharedInternals.T = prevTransition),\n      (ReactDOMSharedInternals.p = previousUpdateLanePriority);\n  }\n}\nfunction commitRootImpl(\n  root,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  renderPriorityLevel,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  do flushPassiveEffects();\n  while (null !== rootWithPendingPassiveEffects);\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var finishedWork = root.finishedWork;\n  didIncludeRenderPhaseUpdate = root.finishedLanes;\n  if (null === finishedWork) return null;\n  root.finishedWork = null;\n  root.finishedLanes = 0;\n  if (finishedWork === root.current) throw Error(formatProdErrorMessage(177));\n  root.callbackNode = null;\n  root.callbackPriority = 0;\n  root.cancelPendingCommit = null;\n  var remainingLanes = finishedWork.lanes | finishedWork.childLanes;\n  remainingLanes |= concurrentlyUpdatedLanes;\n  markRootFinished(\n    root,\n    didIncludeRenderPhaseUpdate,\n    remainingLanes,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes\n  );\n  root === workInProgressRoot &&\n    ((workInProgress = workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0));\n  (0 === (finishedWork.subtreeFlags & 10256) &&\n    0 === (finishedWork.flags & 10256)) ||\n    rootDoesHavePassiveEffects ||\n    ((rootDoesHavePassiveEffects = !0),\n    (pendingPassiveEffectsRemainingLanes = remainingLanes),\n    (pendingPassiveTransitions = transitions),\n    scheduleCallback$1(NormalPriority$1, function () {\n      flushPassiveEffects(!0);\n      return null;\n    }));\n  transitions = 0 !== (finishedWork.flags & 15990);\n  0 !== (finishedWork.subtreeFlags & 15990) || transitions\n    ? ((transitions = ReactSharedInternals.T),\n      (ReactSharedInternals.T = null),\n      (spawnedLane = ReactDOMSharedInternals.p),\n      (ReactDOMSharedInternals.p = 2),\n      (updatedLanes = executionContext),\n      (executionContext |= 4),\n      commitBeforeMutationEffects(root, finishedWork),\n      commitMutationEffectsOnFiber(finishedWork, root),\n      restoreSelection(selectionInformation, root.containerInfo),\n      (_enabled = !!eventsEnabled),\n      (selectionInformation = eventsEnabled = null),\n      (root.current = finishedWork),\n      commitLayoutEffectOnFiber(root, finishedWork.alternate, finishedWork),\n      requestPaint(),\n      (executionContext = updatedLanes),\n      (ReactDOMSharedInternals.p = spawnedLane),\n      (ReactSharedInternals.T = transitions))\n    : (root.current = finishedWork);\n  rootDoesHavePassiveEffects\n    ? ((rootDoesHavePassiveEffects = !1),\n      (rootWithPendingPassiveEffects = root),\n      (pendingPassiveEffectsLanes = didIncludeRenderPhaseUpdate))\n    : releaseRootPooledCache(root, remainingLanes);\n  remainingLanes = root.pendingLanes;\n  0 === remainingLanes && (legacyErrorBoundariesThatAlreadyFailed = null);\n  onCommitRoot(finishedWork.stateNode, renderPriorityLevel);\n  ensureRootIsScheduled(root);\n  if (null !== recoverableErrors)\n    for (\n      renderPriorityLevel = root.onRecoverableError, finishedWork = 0;\n      finishedWork < recoverableErrors.length;\n      finishedWork++\n    )\n      (remainingLanes = recoverableErrors[finishedWork]),\n        renderPriorityLevel(remainingLanes.value, {\n          componentStack: remainingLanes.stack\n        });\n  0 !== (pendingPassiveEffectsLanes & 3) && flushPassiveEffects();\n  remainingLanes = root.pendingLanes;\n  0 !== (didIncludeRenderPhaseUpdate & 4194218) && 0 !== (remainingLanes & 42)\n    ? root === rootWithNestedUpdates\n      ? nestedUpdateCount++\n      : ((nestedUpdateCount = 0), (rootWithNestedUpdates = root))\n    : (nestedUpdateCount = 0);\n  flushSyncWorkAcrossRoots_impl(0, !1);\n  return null;\n}\nfunction releaseRootPooledCache(root, remainingLanes) {\n  0 === (root.pooledCacheLanes &= remainingLanes) &&\n    ((remainingLanes = root.pooledCache),\n    null != remainingLanes &&\n      ((root.pooledCache = null), releaseCache(remainingLanes)));\n}\nfunction flushPassiveEffects() {\n  if (null !== rootWithPendingPassiveEffects) {\n    var root$170 = rootWithPendingPassiveEffects,\n      remainingLanes = pendingPassiveEffectsRemainingLanes;\n    pendingPassiveEffectsRemainingLanes = 0;\n    var renderPriority = lanesToEventPriority(pendingPassiveEffectsLanes),\n      prevTransition = ReactSharedInternals.T,\n      previousPriority = ReactDOMSharedInternals.p;\n    try {\n      ReactDOMSharedInternals.p = 32 > renderPriority ? 32 : renderPriority;\n      ReactSharedInternals.T = null;\n      if (null === rootWithPendingPassiveEffects)\n        var JSCompiler_inline_result = !1;\n      else {\n        renderPriority = pendingPassiveTransitions;\n        pendingPassiveTransitions = null;\n        var root = rootWithPendingPassiveEffects,\n          lanes = pendingPassiveEffectsLanes;\n        rootWithPendingPassiveEffects = null;\n        pendingPassiveEffectsLanes = 0;\n        if (0 !== (executionContext & 6))\n          throw Error(formatProdErrorMessage(331));\n        var prevExecutionContext = executionContext;\n        executionContext |= 4;\n        commitPassiveUnmountOnFiber(root.current);\n        commitPassiveMountOnFiber(root, root.current, lanes, renderPriority);\n        executionContext = prevExecutionContext;\n        flushSyncWorkAcrossRoots_impl(0, !1);\n        if (\n          injectedHook &&\n          \"function\" === typeof injectedHook.onPostCommitFiberRoot\n        )\n          try {\n            injectedHook.onPostCommitFiberRoot(rendererID, root);\n          } catch (err) {}\n        JSCompiler_inline_result = !0;\n      }\n      return JSCompiler_inline_result;\n    } finally {\n      (ReactDOMSharedInternals.p = previousPriority),\n        (ReactSharedInternals.T = prevTransition),\n        releaseRootPooledCache(root$170, remainingLanes);\n    }\n  }\n  return !1;\n}\nfunction captureCommitPhaseErrorOnRoot(rootFiber, sourceFiber, error) {\n  sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n  sourceFiber = createRootErrorUpdate(rootFiber.stateNode, sourceFiber, 2);\n  rootFiber = enqueueUpdate(rootFiber, sourceFiber, 2);\n  null !== rootFiber &&\n    (markRootUpdated$1(rootFiber, 2), ensureRootIsScheduled(rootFiber));\n}\nfunction captureCommitPhaseError(sourceFiber, nearestMountedAncestor, error) {\n  if (3 === sourceFiber.tag)\n    captureCommitPhaseErrorOnRoot(sourceFiber, sourceFiber, error);\n  else\n    for (; null !== nearestMountedAncestor; ) {\n      if (3 === nearestMountedAncestor.tag) {\n        captureCommitPhaseErrorOnRoot(\n          nearestMountedAncestor,\n          sourceFiber,\n          error\n        );\n        break;\n      } else if (1 === nearestMountedAncestor.tag) {\n        var instance = nearestMountedAncestor.stateNode;\n        if (\n          \"function\" ===\n            typeof nearestMountedAncestor.type.getDerivedStateFromError ||\n          (\"function\" === typeof instance.componentDidCatch &&\n            (null === legacyErrorBoundariesThatAlreadyFailed ||\n              !legacyErrorBoundariesThatAlreadyFailed.has(instance)))\n        ) {\n          sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n          error = createClassErrorUpdate(2);\n          instance = enqueueUpdate(nearestMountedAncestor, error, 2);\n          null !== instance &&\n            (initializeClassErrorUpdate(\n              error,\n              instance,\n              nearestMountedAncestor,\n              sourceFiber\n            ),\n            markRootUpdated$1(instance, 2),\n            ensureRootIsScheduled(instance));\n          break;\n        }\n      }\n      nearestMountedAncestor = nearestMountedAncestor.return;\n    }\n}\nfunction attachPingListener(root, wakeable, lanes) {\n  var pingCache = root.pingCache;\n  if (null === pingCache) {\n    pingCache = root.pingCache = new PossiblyWeakMap();\n    var threadIDs = new Set();\n    pingCache.set(wakeable, threadIDs);\n  } else\n    (threadIDs = pingCache.get(wakeable)),\n      void 0 === threadIDs &&\n        ((threadIDs = new Set()), pingCache.set(wakeable, threadIDs));\n  threadIDs.has(lanes) ||\n    ((workInProgressRootDidAttachPingListener = !0),\n    threadIDs.add(lanes),\n    (root = pingSuspendedRoot.bind(null, root, wakeable, lanes)),\n    wakeable.then(root, root));\n}\nfunction pingSuspendedRoot(root, wakeable, pingedLanes) {\n  var pingCache = root.pingCache;\n  null !== pingCache && pingCache.delete(wakeable);\n  root.pingedLanes |= root.suspendedLanes & pingedLanes;\n  root.warmLanes &= ~pingedLanes;\n  workInProgressRoot === root &&\n    (workInProgressRootRenderLanes & pingedLanes) === pingedLanes &&\n    (4 === workInProgressRootExitStatus ||\n    (3 === workInProgressRootExitStatus &&\n      (workInProgressRootRenderLanes & 62914560) ===\n        workInProgressRootRenderLanes &&\n      300 > now() - globalMostRecentFallbackTime)\n      ? 0 === (executionContext & 2) && prepareFreshStack(root, 0)\n      : (workInProgressRootPingedLanes |= pingedLanes),\n    workInProgressSuspendedRetryLanes === workInProgressRootRenderLanes &&\n      (workInProgressSuspendedRetryLanes = 0));\n  ensureRootIsScheduled(root);\n}\nfunction retryTimedOutBoundary(boundaryFiber, retryLane) {\n  0 === retryLane && (retryLane = claimNextRetryLane());\n  boundaryFiber = enqueueConcurrentRenderForLane(boundaryFiber, retryLane);\n  null !== boundaryFiber &&\n    (markRootUpdated$1(boundaryFiber, retryLane),\n    ensureRootIsScheduled(boundaryFiber));\n}\nfunction retryDehydratedSuspenseBoundary(boundaryFiber) {\n  var suspenseState = boundaryFiber.memoizedState,\n    retryLane = 0;\n  null !== suspenseState && (retryLane = suspenseState.retryLane);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction resolveRetryWakeable(boundaryFiber, wakeable) {\n  var retryLane = 0;\n  switch (boundaryFiber.tag) {\n    case 13:\n      var retryCache = boundaryFiber.stateNode;\n      var suspenseState = boundaryFiber.memoizedState;\n      null !== suspenseState && (retryLane = suspenseState.retryLane);\n      break;\n    case 19:\n      retryCache = boundaryFiber.stateNode;\n      break;\n    case 22:\n      retryCache = boundaryFiber.stateNode._retryCache;\n      break;\n    default:\n      throw Error(formatProdErrorMessage(314));\n  }\n  null !== retryCache && retryCache.delete(wakeable);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction scheduleCallback$1(priorityLevel, callback) {\n  return scheduleCallback$3(priorityLevel, callback);\n}\nvar firstScheduledRoot = null,\n  lastScheduledRoot = null,\n  didScheduleMicrotask = !1,\n  mightHavePendingSyncWork = !1,\n  isFlushingWork = !1,\n  currentEventTransitionLane = 0;\nfunction ensureRootIsScheduled(root) {\n  root !== lastScheduledRoot &&\n    null === root.next &&\n    (null === lastScheduledRoot\n      ? (firstScheduledRoot = lastScheduledRoot = root)\n      : (lastScheduledRoot = lastScheduledRoot.next = root));\n  mightHavePendingSyncWork = !0;\n  didScheduleMicrotask ||\n    ((didScheduleMicrotask = !0),\n    scheduleImmediateTask(processRootScheduleInMicrotask));\n}\nfunction flushSyncWorkAcrossRoots_impl(syncTransitionLanes, onlyLegacy) {\n  if (!isFlushingWork && mightHavePendingSyncWork) {\n    isFlushingWork = !0;\n    do {\n      var didPerformSomeWork = !1;\n      for (var root$172 = firstScheduledRoot; null !== root$172; ) {\n        if (!onlyLegacy)\n          if (0 !== syncTransitionLanes) {\n            var pendingLanes = root$172.pendingLanes;\n            if (0 === pendingLanes) var JSCompiler_inline_result = 0;\n            else {\n              var suspendedLanes = root$172.suspendedLanes,\n                pingedLanes = root$172.pingedLanes;\n              JSCompiler_inline_result =\n                (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;\n              JSCompiler_inline_result &=\n                pendingLanes & ~(suspendedLanes & ~pingedLanes);\n              JSCompiler_inline_result =\n                JSCompiler_inline_result & 201326677\n                  ? (JSCompiler_inline_result & 201326677) | 1\n                  : JSCompiler_inline_result\n                    ? JSCompiler_inline_result | 2\n                    : 0;\n            }\n            0 !== JSCompiler_inline_result &&\n              ((didPerformSomeWork = !0),\n              performSyncWorkOnRoot(root$172, JSCompiler_inline_result));\n          } else\n            (JSCompiler_inline_result = workInProgressRootRenderLanes),\n              (JSCompiler_inline_result = getNextLanes(\n                root$172,\n                root$172 === workInProgressRoot ? JSCompiler_inline_result : 0\n              )),\n              0 === (JSCompiler_inline_result & 3) ||\n                checkIfRootIsPrerendering(root$172, JSCompiler_inline_result) ||\n                ((didPerformSomeWork = !0),\n                performSyncWorkOnRoot(root$172, JSCompiler_inline_result));\n        root$172 = root$172.next;\n      }\n    } while (didPerformSomeWork);\n    isFlushingWork = !1;\n  }\n}\nfunction processRootScheduleInMicrotask() {\n  mightHavePendingSyncWork = didScheduleMicrotask = !1;\n  var syncTransitionLanes = 0;\n  0 !== currentEventTransitionLane &&\n    (shouldAttemptEagerTransition() &&\n      (syncTransitionLanes = currentEventTransitionLane),\n    (currentEventTransitionLane = 0));\n  for (\n    var currentTime = now(), prev = null, root = firstScheduledRoot;\n    null !== root;\n\n  ) {\n    var next = root.next,\n      nextLanes = scheduleTaskForRootDuringMicrotask(root, currentTime);\n    if (0 === nextLanes)\n      (root.next = null),\n        null === prev ? (firstScheduledRoot = next) : (prev.next = next),\n        null === next && (lastScheduledRoot = prev);\n    else if (\n      ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))\n    )\n      mightHavePendingSyncWork = !0;\n    root = next;\n  }\n  flushSyncWorkAcrossRoots_impl(syncTransitionLanes, !1);\n}\nfunction scheduleTaskForRootDuringMicrotask(root, currentTime) {\n  for (\n    var suspendedLanes = root.suspendedLanes,\n      pingedLanes = root.pingedLanes,\n      expirationTimes = root.expirationTimes,\n      lanes = root.pendingLanes & -62914561;\n    0 < lanes;\n\n  ) {\n    var index$5 = 31 - clz32(lanes),\n      lane = 1 << index$5,\n      expirationTime = expirationTimes[index$5];\n    if (-1 === expirationTime) {\n      if (0 === (lane & suspendedLanes) || 0 !== (lane & pingedLanes))\n        expirationTimes[index$5] = computeExpirationTime(lane, currentTime);\n    } else expirationTime <= currentTime && (root.expiredLanes |= lane);\n    lanes &= ~lane;\n  }\n  currentTime = workInProgressRoot;\n  suspendedLanes = workInProgressRootRenderLanes;\n  suspendedLanes = getNextLanes(\n    root,\n    root === currentTime ? suspendedLanes : 0\n  );\n  pingedLanes = root.callbackNode;\n  if (\n    0 === suspendedLanes ||\n    (root === currentTime && 2 === workInProgressSuspendedReason) ||\n    null !== root.cancelPendingCommit\n  )\n    return (\n      null !== pingedLanes &&\n        null !== pingedLanes &&\n        cancelCallback$1(pingedLanes),\n      (root.callbackNode = null),\n      (root.callbackPriority = 0)\n    );\n  if (\n    0 === (suspendedLanes & 3) ||\n    checkIfRootIsPrerendering(root, suspendedLanes)\n  ) {\n    currentTime = suspendedLanes & -suspendedLanes;\n    if (currentTime === root.callbackPriority) return currentTime;\n    null !== pingedLanes && cancelCallback$1(pingedLanes);\n    switch (lanesToEventPriority(suspendedLanes)) {\n      case 2:\n      case 8:\n        suspendedLanes = UserBlockingPriority;\n        break;\n      case 32:\n        suspendedLanes = NormalPriority$1;\n        break;\n      case 268435456:\n        suspendedLanes = IdlePriority;\n        break;\n      default:\n        suspendedLanes = NormalPriority$1;\n    }\n    pingedLanes = performWorkOnRootViaSchedulerTask.bind(null, root);\n    suspendedLanes = scheduleCallback$3(suspendedLanes, pingedLanes);\n    root.callbackPriority = currentTime;\n    root.callbackNode = suspendedLanes;\n    return currentTime;\n  }\n  null !== pingedLanes && null !== pingedLanes && cancelCallback$1(pingedLanes);\n  root.callbackPriority = 2;\n  root.callbackNode = null;\n  return 2;\n}\nfunction performWorkOnRootViaSchedulerTask(root, didTimeout) {\n  var originalCallbackNode = root.callbackNode;\n  if (flushPassiveEffects() && root.callbackNode !== originalCallbackNode)\n    return null;\n  var workInProgressRootRenderLanes$jscomp$0 = workInProgressRootRenderLanes;\n  workInProgressRootRenderLanes$jscomp$0 = getNextLanes(\n    root,\n    root === workInProgressRoot ? workInProgressRootRenderLanes$jscomp$0 : 0\n  );\n  if (0 === workInProgressRootRenderLanes$jscomp$0) return null;\n  performWorkOnRoot(root, workInProgressRootRenderLanes$jscomp$0, didTimeout);\n  scheduleTaskForRootDuringMicrotask(root, now());\n  return null != root.callbackNode && root.callbackNode === originalCallbackNode\n    ? performWorkOnRootViaSchedulerTask.bind(null, root)\n    : null;\n}\nfunction performSyncWorkOnRoot(root, lanes) {\n  if (flushPassiveEffects()) return null;\n  performWorkOnRoot(root, lanes, !0);\n}\nfunction scheduleImmediateTask(cb) {\n  scheduleMicrotask(function () {\n    0 !== (executionContext & 6)\n      ? scheduleCallback$3(ImmediatePriority, cb)\n      : cb();\n  });\n}\nfunction requestTransitionLane() {\n  0 === currentEventTransitionLane &&\n    (currentEventTransitionLane = claimNextTransitionLane());\n  return currentEventTransitionLane;\n}\nfunction coerceFormActionProp(actionProp) {\n  return null == actionProp ||\n    \"symbol\" === typeof actionProp ||\n    \"boolean\" === typeof actionProp\n    ? null\n    : \"function\" === typeof actionProp\n      ? actionProp\n      : sanitizeURL(\"\" + actionProp);\n}\nfunction createFormDataWithSubmitter(form, submitter) {\n  var temp = submitter.ownerDocument.createElement(\"input\");\n  temp.name = submitter.name;\n  temp.value = submitter.value;\n  form.id && temp.setAttribute(\"form\", form.id);\n  submitter.parentNode.insertBefore(temp, submitter);\n  form = new FormData(form);\n  temp.parentNode.removeChild(temp);\n  return form;\n}\nfunction extractEvents$1(\n  dispatchQueue,\n  domEventName,\n  maybeTargetInst,\n  nativeEvent,\n  nativeEventTarget\n) {\n  if (\n    \"submit\" === domEventName &&\n    maybeTargetInst &&\n    maybeTargetInst.stateNode === nativeEventTarget\n  ) {\n    var action = coerceFormActionProp(\n        (nativeEventTarget[internalPropsKey] || null).action\n      ),\n      submitter = nativeEvent.submitter;\n    submitter &&\n      ((domEventName = (domEventName = submitter[internalPropsKey] || null)\n        ? coerceFormActionProp(domEventName.formAction)\n        : submitter.getAttribute(\"formAction\")),\n      null !== domEventName && ((action = domEventName), (submitter = null)));\n    var event = new SyntheticEvent(\n      \"action\",\n      \"action\",\n      null,\n      nativeEvent,\n      nativeEventTarget\n    );\n    dispatchQueue.push({\n      event: event,\n      listeners: [\n        {\n          instance: null,\n          listener: function () {\n            if (nativeEvent.defaultPrevented) {\n              if (0 !== currentEventTransitionLane) {\n                var formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget);\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  null,\n                  formData\n                );\n              }\n            } else\n              \"function\" === typeof action &&\n                (event.preventDefault(),\n                (formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget)),\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  action,\n                  formData\n                ));\n          },\n          currentTarget: nativeEventTarget\n        }\n      ]\n    });\n  }\n}\nfor (\n  var i$jscomp$inline_1439 = 0;\n  i$jscomp$inline_1439 < simpleEventPluginEvents.length;\n  i$jscomp$inline_1439++\n) {\n  var eventName$jscomp$inline_1440 =\n      simpleEventPluginEvents[i$jscomp$inline_1439],\n    domEventName$jscomp$inline_1441 =\n      eventName$jscomp$inline_1440.toLowerCase(),\n    capitalizedEvent$jscomp$inline_1442 =\n      eventName$jscomp$inline_1440[0].toUpperCase() +\n      eventName$jscomp$inline_1440.slice(1);\n  registerSimpleEvent(\n    domEventName$jscomp$inline_1441,\n    \"on\" + capitalizedEvent$jscomp$inline_1442\n  );\n}\nregisterSimpleEvent(ANIMATION_END, \"onAnimationEnd\");\nregisterSimpleEvent(ANIMATION_ITERATION, \"onAnimationIteration\");\nregisterSimpleEvent(ANIMATION_START, \"onAnimationStart\");\nregisterSimpleEvent(\"dblclick\", \"onDoubleClick\");\nregisterSimpleEvent(\"focusin\", \"onFocus\");\nregisterSimpleEvent(\"focusout\", \"onBlur\");\nregisterSimpleEvent(TRANSITION_RUN, \"onTransitionRun\");\nregisterSimpleEvent(TRANSITION_START, \"onTransitionStart\");\nregisterSimpleEvent(TRANSITION_CANCEL, \"onTransitionCancel\");\nregisterSimpleEvent(TRANSITION_END, \"onTransitionEnd\");\nregisterDirectEvent(\"onMouseEnter\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onMouseLeave\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onPointerEnter\", [\"pointerout\", \"pointerover\"]);\nregisterDirectEvent(\"onPointerLeave\", [\"pointerout\", \"pointerover\"]);\nregisterTwoPhaseEvent(\n  \"onChange\",\n  \"change click focusin focusout input keydown keyup selectionchange\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onSelect\",\n  \"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\n    \" \"\n  )\n);\nregisterTwoPhaseEvent(\"onBeforeInput\", [\n  \"compositionend\",\n  \"keypress\",\n  \"textInput\",\n  \"paste\"\n]);\nregisterTwoPhaseEvent(\n  \"onCompositionEnd\",\n  \"compositionend focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionStart\",\n  \"compositionstart focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionUpdate\",\n  \"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \")\n);\nvar mediaEventTypes =\n    \"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\n      \" \"\n    ),\n  nonDelegatedEvents = new Set(\n    \"beforetoggle cancel close invalid load scroll scrollend toggle\"\n      .split(\" \")\n      .concat(mediaEventTypes)\n  );\nfunction processDispatchQueue(dispatchQueue, eventSystemFlags) {\n  eventSystemFlags = 0 !== (eventSystemFlags & 4);\n  for (var i = 0; i < dispatchQueue.length; i++) {\n    var _dispatchQueue$i = dispatchQueue[i],\n      event = _dispatchQueue$i.event;\n    _dispatchQueue$i = _dispatchQueue$i.listeners;\n    a: {\n      var previousInstance = void 0;\n      if (eventSystemFlags)\n        for (\n          var i$jscomp$0 = _dispatchQueue$i.length - 1;\n          0 <= i$jscomp$0;\n          i$jscomp$0--\n        ) {\n          var _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0],\n            instance = _dispatchListeners$i.instance,\n            currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n      else\n        for (\n          i$jscomp$0 = 0;\n          i$jscomp$0 < _dispatchQueue$i.length;\n          i$jscomp$0++\n        ) {\n          _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0];\n          instance = _dispatchListeners$i.instance;\n          currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n    }\n  }\n}\nfunction listenToNonDelegatedEvent(domEventName, targetElement) {\n  var JSCompiler_inline_result = targetElement[internalEventHandlersKey];\n  void 0 === JSCompiler_inline_result &&\n    (JSCompiler_inline_result = targetElement[internalEventHandlersKey] =\n      new Set());\n  var listenerSetKey = domEventName + \"__bubble\";\n  JSCompiler_inline_result.has(listenerSetKey) ||\n    (addTrappedEventListener(targetElement, domEventName, 2, !1),\n    JSCompiler_inline_result.add(listenerSetKey));\n}\nfunction listenToNativeEvent(domEventName, isCapturePhaseListener, target) {\n  var eventSystemFlags = 0;\n  isCapturePhaseListener && (eventSystemFlags |= 4);\n  addTrappedEventListener(\n    target,\n    domEventName,\n    eventSystemFlags,\n    isCapturePhaseListener\n  );\n}\nvar listeningMarker = \"_reactListening\" + Math.random().toString(36).slice(2);\nfunction listenToAllSupportedEvents(rootContainerElement) {\n  if (!rootContainerElement[listeningMarker]) {\n    rootContainerElement[listeningMarker] = !0;\n    allNativeEvents.forEach(function (domEventName) {\n      \"selectionchange\" !== domEventName &&\n        (nonDelegatedEvents.has(domEventName) ||\n          listenToNativeEvent(domEventName, !1, rootContainerElement),\n        listenToNativeEvent(domEventName, !0, rootContainerElement));\n    });\n    var ownerDocument =\n      9 === rootContainerElement.nodeType\n        ? rootContainerElement\n        : rootContainerElement.ownerDocument;\n    null === ownerDocument ||\n      ownerDocument[listeningMarker] ||\n      ((ownerDocument[listeningMarker] = !0),\n      listenToNativeEvent(\"selectionchange\", !1, ownerDocument));\n  }\n}\nfunction addTrappedEventListener(\n  targetContainer,\n  domEventName,\n  eventSystemFlags,\n  isCapturePhaseListener\n) {\n  switch (getEventPriority(domEventName)) {\n    case 2:\n      var listenerWrapper = dispatchDiscreteEvent;\n      break;\n    case 8:\n      listenerWrapper = dispatchContinuousEvent;\n      break;\n    default:\n      listenerWrapper = dispatchEvent;\n  }\n  eventSystemFlags = listenerWrapper.bind(\n    null,\n    domEventName,\n    eventSystemFlags,\n    targetContainer\n  );\n  listenerWrapper = void 0;\n  !passiveBrowserEventsSupported ||\n    (\"touchstart\" !== domEventName &&\n      \"touchmove\" !== domEventName &&\n      \"wheel\" !== domEventName) ||\n    (listenerWrapper = !0);\n  isCapturePhaseListener\n    ? void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          capture: !0,\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !0)\n    : void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !1);\n}\nfunction dispatchEventForPluginEventSystem(\n  domEventName,\n  eventSystemFlags,\n  nativeEvent,\n  targetInst$jscomp$0,\n  targetContainer\n) {\n  var ancestorInst = targetInst$jscomp$0;\n  if (\n    0 === (eventSystemFlags & 1) &&\n    0 === (eventSystemFlags & 2) &&\n    null !== targetInst$jscomp$0\n  )\n    a: for (;;) {\n      if (null === targetInst$jscomp$0) return;\n      var nodeTag = targetInst$jscomp$0.tag;\n      if (3 === nodeTag || 4 === nodeTag) {\n        var container = targetInst$jscomp$0.stateNode.containerInfo;\n        if (\n          container === targetContainer ||\n          (8 === container.nodeType && container.parentNode === targetContainer)\n        )\n          break;\n        if (4 === nodeTag)\n          for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {\n            var grandTag = nodeTag.tag;\n            if (3 === grandTag || 4 === grandTag)\n              if (\n                ((grandTag = nodeTag.stateNode.containerInfo),\n                grandTag === targetContainer ||\n                  (8 === grandTag.nodeType &&\n                    grandTag.parentNode === targetContainer))\n              )\n                return;\n            nodeTag = nodeTag.return;\n          }\n        for (; null !== container; ) {\n          nodeTag = getClosestInstanceFromNode(container);\n          if (null === nodeTag) return;\n          grandTag = nodeTag.tag;\n          if (\n            5 === grandTag ||\n            6 === grandTag ||\n            26 === grandTag ||\n            27 === grandTag\n          ) {\n            targetInst$jscomp$0 = ancestorInst = nodeTag;\n            continue a;\n          }\n          container = container.parentNode;\n        }\n      }\n      targetInst$jscomp$0 = targetInst$jscomp$0.return;\n    }\n  batchedUpdates$1(function () {\n    var targetInst = ancestorInst,\n      nativeEventTarget = getEventTarget(nativeEvent),\n      dispatchQueue = [];\n    a: {\n      var reactName = topLevelEventsToReactNames.get(domEventName);\n      if (void 0 !== reactName) {\n        var SyntheticEventCtor = SyntheticEvent,\n          reactEventType = domEventName;\n        switch (domEventName) {\n          case \"keypress\":\n            if (0 === getEventCharCode(nativeEvent)) break a;\n          case \"keydown\":\n          case \"keyup\":\n            SyntheticEventCtor = SyntheticKeyboardEvent;\n            break;\n          case \"focusin\":\n            reactEventType = \"focus\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"focusout\":\n            reactEventType = \"blur\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"beforeblur\":\n          case \"afterblur\":\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"click\":\n            if (2 === nativeEvent.button) break a;\n          case \"auxclick\":\n          case \"dblclick\":\n          case \"mousedown\":\n          case \"mousemove\":\n          case \"mouseup\":\n          case \"mouseout\":\n          case \"mouseover\":\n          case \"contextmenu\":\n            SyntheticEventCtor = SyntheticMouseEvent;\n            break;\n          case \"drag\":\n          case \"dragend\":\n          case \"dragenter\":\n          case \"dragexit\":\n          case \"dragleave\":\n          case \"dragover\":\n          case \"dragstart\":\n          case \"drop\":\n            SyntheticEventCtor = SyntheticDragEvent;\n            break;\n          case \"touchcancel\":\n          case \"touchend\":\n          case \"touchmove\":\n          case \"touchstart\":\n            SyntheticEventCtor = SyntheticTouchEvent;\n            break;\n          case ANIMATION_END:\n          case ANIMATION_ITERATION:\n          case ANIMATION_START:\n            SyntheticEventCtor = SyntheticAnimationEvent;\n            break;\n          case TRANSITION_END:\n            SyntheticEventCtor = SyntheticTransitionEvent;\n            break;\n          case \"scroll\":\n          case \"scrollend\":\n            SyntheticEventCtor = SyntheticUIEvent;\n            break;\n          case \"wheel\":\n            SyntheticEventCtor = SyntheticWheelEvent;\n            break;\n          case \"copy\":\n          case \"cut\":\n          case \"paste\":\n            SyntheticEventCtor = SyntheticClipboardEvent;\n            break;\n          case \"gotpointercapture\":\n          case \"lostpointercapture\":\n          case \"pointercancel\":\n          case \"pointerdown\":\n          case \"pointermove\":\n          case \"pointerout\":\n          case \"pointerover\":\n          case \"pointerup\":\n            SyntheticEventCtor = SyntheticPointerEvent;\n            break;\n          case \"toggle\":\n          case \"beforetoggle\":\n            SyntheticEventCtor = SyntheticToggleEvent;\n        }\n        var inCapturePhase = 0 !== (eventSystemFlags & 4),\n          accumulateTargetOnly =\n            !inCapturePhase &&\n            (\"scroll\" === domEventName || \"scrollend\" === domEventName),\n          reactEventName = inCapturePhase\n            ? null !== reactName\n              ? reactName + \"Capture\"\n              : null\n            : reactName;\n        inCapturePhase = [];\n        for (\n          var instance = targetInst, lastHostComponent;\n          null !== instance;\n\n        ) {\n          var _instance = instance;\n          lastHostComponent = _instance.stateNode;\n          _instance = _instance.tag;\n          (5 !== _instance && 26 !== _instance && 27 !== _instance) ||\n            null === lastHostComponent ||\n            null === reactEventName ||\n            ((_instance = getListener(instance, reactEventName)),\n            null != _instance &&\n              inCapturePhase.push(\n                createDispatchListener(instance, _instance, lastHostComponent)\n              ));\n          if (accumulateTargetOnly) break;\n          instance = instance.return;\n        }\n        0 < inCapturePhase.length &&\n          ((reactName = new SyntheticEventCtor(\n            reactName,\n            reactEventType,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: reactName, listeners: inCapturePhase }));\n      }\n    }\n    if (0 === (eventSystemFlags & 7)) {\n      a: {\n        reactName =\n          \"mouseover\" === domEventName || \"pointerover\" === domEventName;\n        SyntheticEventCtor =\n          \"mouseout\" === domEventName || \"pointerout\" === domEventName;\n        if (\n          reactName &&\n          nativeEvent !== currentReplayingEvent &&\n          (reactEventType =\n            nativeEvent.relatedTarget || nativeEvent.fromElement) &&\n          (getClosestInstanceFromNode(reactEventType) ||\n            reactEventType[internalContainerInstanceKey])\n        )\n          break a;\n        if (SyntheticEventCtor || reactName) {\n          reactName =\n            nativeEventTarget.window === nativeEventTarget\n              ? nativeEventTarget\n              : (reactName = nativeEventTarget.ownerDocument)\n                ? reactName.defaultView || reactName.parentWindow\n                : window;\n          if (SyntheticEventCtor) {\n            if (\n              ((reactEventType =\n                nativeEvent.relatedTarget || nativeEvent.toElement),\n              (SyntheticEventCtor = targetInst),\n              (reactEventType = reactEventType\n                ? getClosestInstanceFromNode(reactEventType)\n                : null),\n              null !== reactEventType &&\n                ((accumulateTargetOnly =\n                  getNearestMountedFiber(reactEventType)),\n                (inCapturePhase = reactEventType.tag),\n                reactEventType !== accumulateTargetOnly ||\n                  (5 !== inCapturePhase &&\n                    27 !== inCapturePhase &&\n                    6 !== inCapturePhase)))\n            )\n              reactEventType = null;\n          } else (SyntheticEventCtor = null), (reactEventType = targetInst);\n          if (SyntheticEventCtor !== reactEventType) {\n            inCapturePhase = SyntheticMouseEvent;\n            _instance = \"onMouseLeave\";\n            reactEventName = \"onMouseEnter\";\n            instance = \"mouse\";\n            if (\"pointerout\" === domEventName || \"pointerover\" === domEventName)\n              (inCapturePhase = SyntheticPointerEvent),\n                (_instance = \"onPointerLeave\"),\n                (reactEventName = \"onPointerEnter\"),\n                (instance = \"pointer\");\n            accumulateTargetOnly =\n              null == SyntheticEventCtor\n                ? reactName\n                : getNodeFromInstance(SyntheticEventCtor);\n            lastHostComponent =\n              null == reactEventType\n                ? reactName\n                : getNodeFromInstance(reactEventType);\n            reactName = new inCapturePhase(\n              _instance,\n              instance + \"leave\",\n              SyntheticEventCtor,\n              nativeEvent,\n              nativeEventTarget\n            );\n            reactName.target = accumulateTargetOnly;\n            reactName.relatedTarget = lastHostComponent;\n            _instance = null;\n            getClosestInstanceFromNode(nativeEventTarget) === targetInst &&\n              ((inCapturePhase = new inCapturePhase(\n                reactEventName,\n                instance + \"enter\",\n                reactEventType,\n                nativeEvent,\n                nativeEventTarget\n              )),\n              (inCapturePhase.target = lastHostComponent),\n              (inCapturePhase.relatedTarget = accumulateTargetOnly),\n              (_instance = inCapturePhase));\n            accumulateTargetOnly = _instance;\n            if (SyntheticEventCtor && reactEventType)\n              b: {\n                inCapturePhase = SyntheticEventCtor;\n                reactEventName = reactEventType;\n                instance = 0;\n                for (\n                  lastHostComponent = inCapturePhase;\n                  lastHostComponent;\n                  lastHostComponent = getParent(lastHostComponent)\n                )\n                  instance++;\n                lastHostComponent = 0;\n                for (\n                  _instance = reactEventName;\n                  _instance;\n                  _instance = getParent(_instance)\n                )\n                  lastHostComponent++;\n                for (; 0 < instance - lastHostComponent; )\n                  (inCapturePhase = getParent(inCapturePhase)), instance--;\n                for (; 0 < lastHostComponent - instance; )\n                  (reactEventName = getParent(reactEventName)),\n                    lastHostComponent--;\n                for (; instance--; ) {\n                  if (\n                    inCapturePhase === reactEventName ||\n                    (null !== reactEventName &&\n                      inCapturePhase === reactEventName.alternate)\n                  )\n                    break b;\n                  inCapturePhase = getParent(inCapturePhase);\n                  reactEventName = getParent(reactEventName);\n                }\n                inCapturePhase = null;\n              }\n            else inCapturePhase = null;\n            null !== SyntheticEventCtor &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                reactName,\n                SyntheticEventCtor,\n                inCapturePhase,\n                !1\n              );\n            null !== reactEventType &&\n              null !== accumulateTargetOnly &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                accumulateTargetOnly,\n                reactEventType,\n                inCapturePhase,\n                !0\n              );\n          }\n        }\n      }\n      a: {\n        reactName = targetInst ? getNodeFromInstance(targetInst) : window;\n        SyntheticEventCtor =\n          reactName.nodeName && reactName.nodeName.toLowerCase();\n        if (\n          \"select\" === SyntheticEventCtor ||\n          (\"input\" === SyntheticEventCtor && \"file\" === reactName.type)\n        )\n          var getTargetInstFunc = getTargetInstForChangeEvent;\n        else if (isTextInputElement(reactName))\n          if (isInputEventSupported)\n            getTargetInstFunc = getTargetInstForInputOrChangeEvent;\n          else {\n            getTargetInstFunc = getTargetInstForInputEventPolyfill;\n            var handleEventFunc = handleEventsForInputEventPolyfill;\n          }\n        else\n          (SyntheticEventCtor = reactName.nodeName),\n            !SyntheticEventCtor ||\n            \"input\" !== SyntheticEventCtor.toLowerCase() ||\n            (\"checkbox\" !== reactName.type && \"radio\" !== reactName.type)\n              ? targetInst &&\n                isCustomElement(targetInst.elementType) &&\n                (getTargetInstFunc = getTargetInstForChangeEvent)\n              : (getTargetInstFunc = getTargetInstForClickEvent);\n        if (\n          getTargetInstFunc &&\n          (getTargetInstFunc = getTargetInstFunc(domEventName, targetInst))\n        ) {\n          createAndAccumulateChangeEvent(\n            dispatchQueue,\n            getTargetInstFunc,\n            nativeEvent,\n            nativeEventTarget\n          );\n          break a;\n        }\n        handleEventFunc && handleEventFunc(domEventName, reactName, targetInst);\n        \"focusout\" === domEventName &&\n          targetInst &&\n          \"number\" === reactName.type &&\n          null != targetInst.memoizedProps.value &&\n          setDefaultValue(reactName, \"number\", reactName.value);\n      }\n      handleEventFunc = targetInst ? getNodeFromInstance(targetInst) : window;\n      switch (domEventName) {\n        case \"focusin\":\n          if (\n            isTextInputElement(handleEventFunc) ||\n            \"true\" === handleEventFunc.contentEditable\n          )\n            (activeElement = handleEventFunc),\n              (activeElementInst = targetInst),\n              (lastSelection = null);\n          break;\n        case \"focusout\":\n          lastSelection = activeElementInst = activeElement = null;\n          break;\n        case \"mousedown\":\n          mouseDown = !0;\n          break;\n        case \"contextmenu\":\n        case \"mouseup\":\n        case \"dragend\":\n          mouseDown = !1;\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n          break;\n        case \"selectionchange\":\n          if (skipSelectionChangeEvent) break;\n        case \"keydown\":\n        case \"keyup\":\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n      }\n      var fallbackData;\n      if (canUseCompositionEvent)\n        b: {\n          switch (domEventName) {\n            case \"compositionstart\":\n              var eventType = \"onCompositionStart\";\n              break b;\n            case \"compositionend\":\n              eventType = \"onCompositionEnd\";\n              break b;\n            case \"compositionupdate\":\n              eventType = \"onCompositionUpdate\";\n              break b;\n          }\n          eventType = void 0;\n        }\n      else\n        isComposing\n          ? isFallbackCompositionEnd(domEventName, nativeEvent) &&\n            (eventType = \"onCompositionEnd\")\n          : \"keydown\" === domEventName &&\n            229 === nativeEvent.keyCode &&\n            (eventType = \"onCompositionStart\");\n      eventType &&\n        (useFallbackCompositionData &&\n          \"ko\" !== nativeEvent.locale &&\n          (isComposing || \"onCompositionStart\" !== eventType\n            ? \"onCompositionEnd\" === eventType &&\n              isComposing &&\n              (fallbackData = getData())\n            : ((root = nativeEventTarget),\n              (startText = \"value\" in root ? root.value : root.textContent),\n              (isComposing = !0))),\n        (handleEventFunc = accumulateTwoPhaseListeners(targetInst, eventType)),\n        0 < handleEventFunc.length &&\n          ((eventType = new SyntheticCompositionEvent(\n            eventType,\n            domEventName,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: eventType, listeners: handleEventFunc }),\n          fallbackData\n            ? (eventType.data = fallbackData)\n            : ((fallbackData = getDataFromCustomEvent(nativeEvent)),\n              null !== fallbackData && (eventType.data = fallbackData))));\n      if (\n        (fallbackData = canUseTextInputEvent\n          ? getNativeBeforeInputChars(domEventName, nativeEvent)\n          : getFallbackBeforeInputChars(domEventName, nativeEvent))\n      )\n        (eventType = accumulateTwoPhaseListeners(targetInst, \"onBeforeInput\")),\n          0 < eventType.length &&\n            ((handleEventFunc = new SyntheticCompositionEvent(\n              \"onBeforeInput\",\n              \"beforeinput\",\n              null,\n              nativeEvent,\n              nativeEventTarget\n            )),\n            dispatchQueue.push({\n              event: handleEventFunc,\n              listeners: eventType\n            }),\n            (handleEventFunc.data = fallbackData));\n      extractEvents$1(\n        dispatchQueue,\n        domEventName,\n        targetInst,\n        nativeEvent,\n        nativeEventTarget\n      );\n    }\n    processDispatchQueue(dispatchQueue, eventSystemFlags);\n  });\n}\nfunction createDispatchListener(instance, listener, currentTarget) {\n  return {\n    instance: instance,\n    listener: listener,\n    currentTarget: currentTarget\n  };\n}\nfunction accumulateTwoPhaseListeners(targetFiber, reactName) {\n  for (\n    var captureName = reactName + \"Capture\", listeners = [];\n    null !== targetFiber;\n\n  ) {\n    var _instance2 = targetFiber,\n      stateNode = _instance2.stateNode;\n    _instance2 = _instance2.tag;\n    (5 !== _instance2 && 26 !== _instance2 && 27 !== _instance2) ||\n      null === stateNode ||\n      ((_instance2 = getListener(targetFiber, captureName)),\n      null != _instance2 &&\n        listeners.unshift(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ),\n      (_instance2 = getListener(targetFiber, reactName)),\n      null != _instance2 &&\n        listeners.push(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ));\n    targetFiber = targetFiber.return;\n  }\n  return listeners;\n}\nfunction getParent(inst) {\n  if (null === inst) return null;\n  do inst = inst.return;\n  while (inst && 5 !== inst.tag && 27 !== inst.tag);\n  return inst ? inst : null;\n}\nfunction accumulateEnterLeaveListenersForEvent(\n  dispatchQueue,\n  event,\n  target,\n  common,\n  inCapturePhase\n) {\n  for (\n    var registrationName = event._reactName, listeners = [];\n    null !== target && target !== common;\n\n  ) {\n    var _instance3 = target,\n      alternate = _instance3.alternate,\n      stateNode = _instance3.stateNode;\n    _instance3 = _instance3.tag;\n    if (null !== alternate && alternate === common) break;\n    (5 !== _instance3 && 26 !== _instance3 && 27 !== _instance3) ||\n      null === stateNode ||\n      ((alternate = stateNode),\n      inCapturePhase\n        ? ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.unshift(\n              createDispatchListener(target, stateNode, alternate)\n            ))\n        : inCapturePhase ||\n          ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.push(\n              createDispatchListener(target, stateNode, alternate)\n            )));\n    target = target.return;\n  }\n  0 !== listeners.length &&\n    dispatchQueue.push({ event: event, listeners: listeners });\n}\nvar NORMALIZE_NEWLINES_REGEX = /\\r\\n?/g,\n  NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\\u0000|\\uFFFD/g;\nfunction normalizeMarkupForTextOrAttribute(markup) {\n  return (\"string\" === typeof markup ? markup : \"\" + markup)\n    .replace(NORMALIZE_NEWLINES_REGEX, \"\\n\")\n    .replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, \"\");\n}\nfunction checkForUnmatchedText(serverText, clientText) {\n  clientText = normalizeMarkupForTextOrAttribute(clientText);\n  return normalizeMarkupForTextOrAttribute(serverText) === clientText ? !0 : !1;\n}\nfunction noop$1() {}\nfunction setProp(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"children\":\n      \"string\" === typeof value\n        ? \"body\" === tag ||\n          (\"textarea\" === tag && \"\" === value) ||\n          setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          \"body\" !== tag &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"className\":\n      setValueForKnownAttribute(domElement, \"class\", value);\n      break;\n    case \"tabIndex\":\n      setValueForKnownAttribute(domElement, \"tabindex\", value);\n      break;\n    case \"dir\":\n    case \"role\":\n    case \"viewBox\":\n    case \"width\":\n    case \"height\":\n      setValueForKnownAttribute(domElement, key, value);\n      break;\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"data\":\n      if (\"object\" !== tag) {\n        setValueForKnownAttribute(domElement, \"data\", value);\n        break;\n      }\n    case \"src\":\n    case \"href\":\n      if (\"\" === value && (\"a\" !== tag || \"href\" !== key)) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"action\":\n    case \"formAction\":\n      if (\"function\" === typeof value) {\n        domElement.setAttribute(\n          key,\n          \"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')\"\n        );\n        break;\n      } else\n        \"function\" === typeof prevValue &&\n          (\"formAction\" === key\n            ? (\"input\" !== tag &&\n                setProp(domElement, tag, \"name\", props.name, props, null),\n              setProp(\n                domElement,\n                tag,\n                \"formEncType\",\n                props.formEncType,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formMethod\",\n                props.formMethod,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formTarget\",\n                props.formTarget,\n                props,\n                null\n              ))\n            : (setProp(domElement, tag, \"encType\", props.encType, props, null),\n              setProp(domElement, tag, \"method\", props.method, props, null),\n              setProp(domElement, tag, \"target\", props.target, props, null)));\n      if (\n        null == value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"multiple\":\n      domElement.multiple =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"muted\":\n      domElement.muted =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"defaultValue\":\n    case \"defaultChecked\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"autoFocus\":\n      break;\n    case \"xlinkHref\":\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"boolean\" === typeof value ||\n        \"symbol\" === typeof value\n      ) {\n        domElement.removeAttribute(\"xlink:href\");\n        break;\n      }\n      key = sanitizeURL(\"\" + value);\n      domElement.setAttributeNS(\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:href\",\n        key\n      );\n      break;\n    case \"contentEditable\":\n    case \"spellCheck\":\n    case \"draggable\":\n    case \"value\":\n    case \"autoReverse\":\n    case \"externalResourcesRequired\":\n    case \"focusable\":\n    case \"preserveAlpha\":\n      null != value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\" + value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"inert\":\n    case \"allowFullScreen\":\n    case \"async\":\n    case \"autoPlay\":\n    case \"controls\":\n    case \"default\":\n    case \"defer\":\n    case \"disabled\":\n    case \"disablePictureInPicture\":\n    case \"disableRemotePlayback\":\n    case \"formNoValidate\":\n    case \"hidden\":\n    case \"loop\":\n    case \"noModule\":\n    case \"noValidate\":\n    case \"open\":\n    case \"playsInline\":\n    case \"readOnly\":\n    case \"required\":\n    case \"reversed\":\n    case \"scoped\":\n    case \"seamless\":\n    case \"itemScope\":\n      value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\")\n        : domElement.removeAttribute(key);\n      break;\n    case \"capture\":\n    case \"download\":\n      !0 === value\n        ? domElement.setAttribute(key, \"\")\n        : !1 !== value &&\n            null != value &&\n            \"function\" !== typeof value &&\n            \"symbol\" !== typeof value\n          ? domElement.setAttribute(key, value)\n          : domElement.removeAttribute(key);\n      break;\n    case \"cols\":\n    case \"rows\":\n    case \"size\":\n    case \"span\":\n      null != value &&\n      \"function\" !== typeof value &&\n      \"symbol\" !== typeof value &&\n      !isNaN(value) &&\n      1 <= value\n        ? domElement.setAttribute(key, value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"rowSpan\":\n    case \"start\":\n      null == value ||\n      \"function\" === typeof value ||\n      \"symbol\" === typeof value ||\n      isNaN(value)\n        ? domElement.removeAttribute(key)\n        : domElement.setAttribute(key, value);\n      break;\n    case \"popover\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      setValueForAttribute(domElement, \"popover\", value);\n      break;\n    case \"xlinkActuate\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:actuate\",\n        value\n      );\n      break;\n    case \"xlinkArcrole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:arcrole\",\n        value\n      );\n      break;\n    case \"xlinkRole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:role\",\n        value\n      );\n      break;\n    case \"xlinkShow\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:show\",\n        value\n      );\n      break;\n    case \"xlinkTitle\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:title\",\n        value\n      );\n      break;\n    case \"xlinkType\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:type\",\n        value\n      );\n      break;\n    case \"xmlBase\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:base\",\n        value\n      );\n      break;\n    case \"xmlLang\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:lang\",\n        value\n      );\n      break;\n    case \"xmlSpace\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:space\",\n        value\n      );\n      break;\n    case \"is\":\n      setValueForAttribute(domElement, \"is\", value);\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (\n        !(2 < key.length) ||\n        (\"o\" !== key[0] && \"O\" !== key[0]) ||\n        (\"n\" !== key[1] && \"N\" !== key[1])\n      )\n        (key = aliases.get(key) || key),\n          setValueForAttribute(domElement, key, value);\n  }\n}\nfunction setPropOnCustomElement(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"children\":\n      \"string\" === typeof value\n        ? setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (!registrationNameDependencies.hasOwnProperty(key))\n        a: {\n          if (\n            \"o\" === key[0] &&\n            \"n\" === key[1] &&\n            ((props = key.endsWith(\"Capture\")),\n            (tag = key.slice(2, props ? key.length - 7 : void 0)),\n            (prevValue = domElement[internalPropsKey] || null),\n            (prevValue = null != prevValue ? prevValue[key] : null),\n            \"function\" === typeof prevValue &&\n              domElement.removeEventListener(tag, prevValue, props),\n            \"function\" === typeof value)\n          ) {\n            \"function\" !== typeof prevValue &&\n              null !== prevValue &&\n              (key in domElement\n                ? (domElement[key] = null)\n                : domElement.hasAttribute(key) &&\n                  domElement.removeAttribute(key));\n            domElement.addEventListener(tag, value, props);\n            break a;\n          }\n          key in domElement\n            ? (domElement[key] = value)\n            : !0 === value\n              ? domElement.setAttribute(key, \"\")\n              : setValueForAttribute(domElement, key, value);\n        }\n  }\n}\nfunction setInitialProperties(domElement, tag, props) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"img\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      var hasSrc = !1,\n        hasSrcSet = !1,\n        propKey;\n      for (propKey in props)\n        if (props.hasOwnProperty(propKey)) {\n          var propValue = props[propKey];\n          if (null != propValue)\n            switch (propKey) {\n              case \"src\":\n                hasSrc = !0;\n                break;\n              case \"srcSet\":\n                hasSrcSet = !0;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                throw Error(formatProdErrorMessage(137, tag));\n              default:\n                setProp(domElement, tag, propKey, propValue, props, null);\n            }\n        }\n      hasSrcSet &&\n        setProp(domElement, tag, \"srcSet\", props.srcSet, props, null);\n      hasSrc && setProp(domElement, tag, \"src\", props.src, props, null);\n      return;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      var defaultValue = (propKey = propValue = hasSrcSet = null),\n        checked = null,\n        defaultChecked = null;\n      for (hasSrc in props)\n        if (props.hasOwnProperty(hasSrc)) {\n          var propValue$186 = props[hasSrc];\n          if (null != propValue$186)\n            switch (hasSrc) {\n              case \"name\":\n                hasSrcSet = propValue$186;\n                break;\n              case \"type\":\n                propValue = propValue$186;\n                break;\n              case \"checked\":\n                checked = propValue$186;\n                break;\n              case \"defaultChecked\":\n                defaultChecked = propValue$186;\n                break;\n              case \"value\":\n                propKey = propValue$186;\n                break;\n              case \"defaultValue\":\n                defaultValue = propValue$186;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                if (null != propValue$186)\n                  throw Error(formatProdErrorMessage(137, tag));\n                break;\n              default:\n                setProp(domElement, tag, hasSrc, propValue$186, props, null);\n            }\n        }\n      initInput(\n        domElement,\n        propKey,\n        defaultValue,\n        checked,\n        defaultChecked,\n        propValue,\n        hasSrcSet,\n        !1\n      );\n      track(domElement);\n      return;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      hasSrc = propValue = propKey = null;\n      for (hasSrcSet in props)\n        if (\n          props.hasOwnProperty(hasSrcSet) &&\n          ((defaultValue = props[hasSrcSet]), null != defaultValue)\n        )\n          switch (hasSrcSet) {\n            case \"value\":\n              propKey = defaultValue;\n              break;\n            case \"defaultValue\":\n              propValue = defaultValue;\n              break;\n            case \"multiple\":\n              hasSrc = defaultValue;\n            default:\n              setProp(domElement, tag, hasSrcSet, defaultValue, props, null);\n          }\n      tag = propKey;\n      props = propValue;\n      domElement.multiple = !!hasSrc;\n      null != tag\n        ? updateOptions(domElement, !!hasSrc, tag, !1)\n        : null != props && updateOptions(domElement, !!hasSrc, props, !0);\n      return;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      propKey = hasSrcSet = hasSrc = null;\n      for (propValue in props)\n        if (\n          props.hasOwnProperty(propValue) &&\n          ((defaultValue = props[propValue]), null != defaultValue)\n        )\n          switch (propValue) {\n            case \"value\":\n              hasSrc = defaultValue;\n              break;\n            case \"defaultValue\":\n              hasSrcSet = defaultValue;\n              break;\n            case \"children\":\n              propKey = defaultValue;\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != defaultValue) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              setProp(domElement, tag, propValue, defaultValue, props, null);\n          }\n      initTextarea(domElement, hasSrc, hasSrcSet, propKey);\n      track(domElement);\n      return;\n    case \"option\":\n      for (checked in props)\n        if (\n          props.hasOwnProperty(checked) &&\n          ((hasSrc = props[checked]), null != hasSrc)\n        )\n          switch (checked) {\n            case \"selected\":\n              domElement.selected =\n                hasSrc &&\n                \"function\" !== typeof hasSrc &&\n                \"symbol\" !== typeof hasSrc;\n              break;\n            default:\n              setProp(domElement, tag, checked, hasSrc, props, null);\n          }\n      return;\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", domElement);\n      listenToNonDelegatedEvent(\"close\", domElement);\n      break;\n    case \"iframe\":\n    case \"object\":\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (hasSrc = 0; hasSrc < mediaEventTypes.length; hasSrc++)\n        listenToNonDelegatedEvent(mediaEventTypes[hasSrc], domElement);\n      break;\n    case \"image\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      break;\n    case \"embed\":\n    case \"source\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", domElement),\n        listenToNonDelegatedEvent(\"load\", domElement);\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (defaultChecked in props)\n        if (\n          props.hasOwnProperty(defaultChecked) &&\n          ((hasSrc = props[defaultChecked]), null != hasSrc)\n        )\n          switch (defaultChecked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              throw Error(formatProdErrorMessage(137, tag));\n            default:\n              setProp(domElement, tag, defaultChecked, hasSrc, props, null);\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (propValue$186 in props)\n          props.hasOwnProperty(propValue$186) &&\n            ((hasSrc = props[propValue$186]),\n            void 0 !== hasSrc &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propValue$186,\n                hasSrc,\n                props,\n                void 0\n              ));\n        return;\n      }\n  }\n  for (defaultValue in props)\n    props.hasOwnProperty(defaultValue) &&\n      ((hasSrc = props[defaultValue]),\n      null != hasSrc &&\n        setProp(domElement, tag, defaultValue, hasSrc, props, null));\n}\nfunction updateProperties(domElement, tag, lastProps, nextProps) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"input\":\n      var name = null,\n        type = null,\n        value = null,\n        defaultValue = null,\n        lastDefaultValue = null,\n        checked = null,\n        defaultChecked = null;\n      for (propKey in lastProps) {\n        var lastProp = lastProps[propKey];\n        if (lastProps.hasOwnProperty(propKey) && null != lastProp)\n          switch (propKey) {\n            case \"checked\":\n              break;\n            case \"value\":\n              break;\n            case \"defaultValue\":\n              lastDefaultValue = lastProp;\n            default:\n              nextProps.hasOwnProperty(propKey) ||\n                setProp(domElement, tag, propKey, null, nextProps, lastProp);\n          }\n      }\n      for (var propKey$203 in nextProps) {\n        var propKey = nextProps[propKey$203];\n        lastProp = lastProps[propKey$203];\n        if (\n          nextProps.hasOwnProperty(propKey$203) &&\n          (null != propKey || null != lastProp)\n        )\n          switch (propKey$203) {\n            case \"type\":\n              type = propKey;\n              break;\n            case \"name\":\n              name = propKey;\n              break;\n            case \"checked\":\n              checked = propKey;\n              break;\n            case \"defaultChecked\":\n              defaultChecked = propKey;\n              break;\n            case \"value\":\n              value = propKey;\n              break;\n            case \"defaultValue\":\n              defaultValue = propKey;\n              break;\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              propKey !== lastProp &&\n                setProp(\n                  domElement,\n                  tag,\n                  propKey$203,\n                  propKey,\n                  nextProps,\n                  lastProp\n                );\n          }\n      }\n      updateInput(\n        domElement,\n        value,\n        defaultValue,\n        lastDefaultValue,\n        checked,\n        defaultChecked,\n        type,\n        name\n      );\n      return;\n    case \"select\":\n      propKey = value = defaultValue = propKey$203 = null;\n      for (type in lastProps)\n        if (\n          ((lastDefaultValue = lastProps[type]),\n          lastProps.hasOwnProperty(type) && null != lastDefaultValue)\n        )\n          switch (type) {\n            case \"value\":\n              break;\n            case \"multiple\":\n              propKey = lastDefaultValue;\n            default:\n              nextProps.hasOwnProperty(type) ||\n                setProp(\n                  domElement,\n                  tag,\n                  type,\n                  null,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      for (name in nextProps)\n        if (\n          ((type = nextProps[name]),\n          (lastDefaultValue = lastProps[name]),\n          nextProps.hasOwnProperty(name) &&\n            (null != type || null != lastDefaultValue))\n        )\n          switch (name) {\n            case \"value\":\n              propKey$203 = type;\n              break;\n            case \"defaultValue\":\n              defaultValue = type;\n              break;\n            case \"multiple\":\n              value = type;\n            default:\n              type !== lastDefaultValue &&\n                setProp(\n                  domElement,\n                  tag,\n                  name,\n                  type,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      tag = defaultValue;\n      lastProps = value;\n      nextProps = propKey;\n      null != propKey$203\n        ? updateOptions(domElement, !!lastProps, propKey$203, !1)\n        : !!nextProps !== !!lastProps &&\n          (null != tag\n            ? updateOptions(domElement, !!lastProps, tag, !0)\n            : updateOptions(domElement, !!lastProps, lastProps ? [] : \"\", !1));\n      return;\n    case \"textarea\":\n      propKey = propKey$203 = null;\n      for (defaultValue in lastProps)\n        if (\n          ((name = lastProps[defaultValue]),\n          lastProps.hasOwnProperty(defaultValue) &&\n            null != name &&\n            !nextProps.hasOwnProperty(defaultValue))\n        )\n          switch (defaultValue) {\n            case \"value\":\n              break;\n            case \"children\":\n              break;\n            default:\n              setProp(domElement, tag, defaultValue, null, nextProps, name);\n          }\n      for (value in nextProps)\n        if (\n          ((name = nextProps[value]),\n          (type = lastProps[value]),\n          nextProps.hasOwnProperty(value) && (null != name || null != type))\n        )\n          switch (value) {\n            case \"value\":\n              propKey$203 = name;\n              break;\n            case \"defaultValue\":\n              propKey = name;\n              break;\n            case \"children\":\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != name) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              name !== type &&\n                setProp(domElement, tag, value, name, nextProps, type);\n          }\n      updateTextarea(domElement, propKey$203, propKey);\n      return;\n    case \"option\":\n      for (var propKey$219 in lastProps)\n        if (\n          ((propKey$203 = lastProps[propKey$219]),\n          lastProps.hasOwnProperty(propKey$219) &&\n            null != propKey$203 &&\n            !nextProps.hasOwnProperty(propKey$219))\n        )\n          switch (propKey$219) {\n            case \"selected\":\n              domElement.selected = !1;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                propKey$219,\n                null,\n                nextProps,\n                propKey$203\n              );\n          }\n      for (lastDefaultValue in nextProps)\n        if (\n          ((propKey$203 = nextProps[lastDefaultValue]),\n          (propKey = lastProps[lastDefaultValue]),\n          nextProps.hasOwnProperty(lastDefaultValue) &&\n            propKey$203 !== propKey &&\n            (null != propKey$203 || null != propKey))\n        )\n          switch (lastDefaultValue) {\n            case \"selected\":\n              domElement.selected =\n                propKey$203 &&\n                \"function\" !== typeof propKey$203 &&\n                \"symbol\" !== typeof propKey$203;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                lastDefaultValue,\n                propKey$203,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    case \"img\":\n    case \"link\":\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"embed\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"source\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (var propKey$224 in lastProps)\n        (propKey$203 = lastProps[propKey$224]),\n          lastProps.hasOwnProperty(propKey$224) &&\n            null != propKey$203 &&\n            !nextProps.hasOwnProperty(propKey$224) &&\n            setProp(domElement, tag, propKey$224, null, nextProps, propKey$203);\n      for (checked in nextProps)\n        if (\n          ((propKey$203 = nextProps[checked]),\n          (propKey = lastProps[checked]),\n          nextProps.hasOwnProperty(checked) &&\n            propKey$203 !== propKey &&\n            (null != propKey$203 || null != propKey))\n        )\n          switch (checked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey$203)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                checked,\n                propKey$203,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (var propKey$229 in lastProps)\n          (propKey$203 = lastProps[propKey$229]),\n            lastProps.hasOwnProperty(propKey$229) &&\n              void 0 !== propKey$203 &&\n              !nextProps.hasOwnProperty(propKey$229) &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propKey$229,\n                void 0,\n                nextProps,\n                propKey$203\n              );\n        for (defaultChecked in nextProps)\n          (propKey$203 = nextProps[defaultChecked]),\n            (propKey = lastProps[defaultChecked]),\n            !nextProps.hasOwnProperty(defaultChecked) ||\n              propKey$203 === propKey ||\n              (void 0 === propKey$203 && void 0 === propKey) ||\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                defaultChecked,\n                propKey$203,\n                nextProps,\n                propKey\n              );\n        return;\n      }\n  }\n  for (var propKey$234 in lastProps)\n    (propKey$203 = lastProps[propKey$234]),\n      lastProps.hasOwnProperty(propKey$234) &&\n        null != propKey$203 &&\n        !nextProps.hasOwnProperty(propKey$234) &&\n        setProp(domElement, tag, propKey$234, null, nextProps, propKey$203);\n  for (lastProp in nextProps)\n    (propKey$203 = nextProps[lastProp]),\n      (propKey = lastProps[lastProp]),\n      !nextProps.hasOwnProperty(lastProp) ||\n        propKey$203 === propKey ||\n        (null == propKey$203 && null == propKey) ||\n        setProp(domElement, tag, lastProp, propKey$203, nextProps, propKey);\n}\nvar eventsEnabled = null,\n  selectionInformation = null;\nfunction getOwnerDocumentFromRootContainer(rootContainerElement) {\n  return 9 === rootContainerElement.nodeType\n    ? rootContainerElement\n    : rootContainerElement.ownerDocument;\n}\nfunction getOwnHostContext(namespaceURI) {\n  switch (namespaceURI) {\n    case \"http://www.w3.org/2000/svg\":\n      return 1;\n    case \"http://www.w3.org/1998/Math/MathML\":\n      return 2;\n    default:\n      return 0;\n  }\n}\nfunction getChildHostContextProd(parentNamespace, type) {\n  if (0 === parentNamespace)\n    switch (type) {\n      case \"svg\":\n        return 1;\n      case \"math\":\n        return 2;\n      default:\n        return 0;\n    }\n  return 1 === parentNamespace && \"foreignObject\" === type\n    ? 0\n    : parentNamespace;\n}\nfunction shouldSetTextContent(type, props) {\n  return (\n    \"textarea\" === type ||\n    \"noscript\" === type ||\n    \"string\" === typeof props.children ||\n    \"number\" === typeof props.children ||\n    \"bigint\" === typeof props.children ||\n    (\"object\" === typeof props.dangerouslySetInnerHTML &&\n      null !== props.dangerouslySetInnerHTML &&\n      null != props.dangerouslySetInnerHTML.__html)\n  );\n}\nvar currentPopstateTransitionEvent = null;\nfunction shouldAttemptEagerTransition() {\n  var event = window.event;\n  if (event && \"popstate\" === event.type) {\n    if (event === currentPopstateTransitionEvent) return !1;\n    currentPopstateTransitionEvent = event;\n    return !0;\n  }\n  currentPopstateTransitionEvent = null;\n  return !1;\n}\nvar scheduleTimeout = \"function\" === typeof setTimeout ? setTimeout : void 0,\n  cancelTimeout = \"function\" === typeof clearTimeout ? clearTimeout : void 0,\n  localPromise = \"function\" === typeof Promise ? Promise : void 0,\n  scheduleMicrotask =\n    \"function\" === typeof queueMicrotask\n      ? queueMicrotask\n      : \"undefined\" !== typeof localPromise\n        ? function (callback) {\n            return localPromise\n              .resolve(null)\n              .then(callback)\n              .catch(handleErrorInNextTick);\n          }\n        : scheduleTimeout;\nfunction handleErrorInNextTick(error) {\n  setTimeout(function () {\n    throw error;\n  });\n}\nfunction clearSuspenseBoundary(parentInstance, suspenseInstance) {\n  var node = suspenseInstance,\n    depth = 0;\n  do {\n    var nextNode = node.nextSibling;\n    parentInstance.removeChild(node);\n    if (nextNode && 8 === nextNode.nodeType)\n      if (((node = nextNode.data), \"/$\" === node)) {\n        if (0 === depth) {\n          parentInstance.removeChild(nextNode);\n          retryIfBlockedOn(suspenseInstance);\n          return;\n        }\n        depth--;\n      } else (\"$\" !== node && \"$?\" !== node && \"$!\" !== node) || depth++;\n    node = nextNode;\n  } while (node);\n  retryIfBlockedOn(suspenseInstance);\n}\nfunction clearContainerSparingly(container) {\n  var nextNode = container.firstChild;\n  nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);\n  for (; nextNode; ) {\n    var node = nextNode;\n    nextNode = nextNode.nextSibling;\n    switch (node.nodeName) {\n      case \"HTML\":\n      case \"HEAD\":\n      case \"BODY\":\n        clearContainerSparingly(node);\n        detachDeletedInstance(node);\n        continue;\n      case \"SCRIPT\":\n      case \"STYLE\":\n        continue;\n      case \"LINK\":\n        if (\"stylesheet\" === node.rel.toLowerCase()) continue;\n    }\n    container.removeChild(node);\n  }\n}\nfunction canHydrateInstance(instance, type, props, inRootOrSingleton) {\n  for (; 1 === instance.nodeType; ) {\n    var anyProps = props;\n    if (instance.nodeName.toLowerCase() !== type.toLowerCase()) {\n      if (\n        !inRootOrSingleton &&\n        (\"INPUT\" !== instance.nodeName || \"hidden\" !== instance.type)\n      )\n        break;\n    } else if (!inRootOrSingleton)\n      if (\"input\" === type && \"hidden\" === instance.type) {\n        var name = null == anyProps.name ? null : \"\" + anyProps.name;\n        if (\n          \"hidden\" === anyProps.type &&\n          instance.getAttribute(\"name\") === name\n        )\n          return instance;\n      } else return instance;\n    else if (!instance[internalHoistableMarker])\n      switch (type) {\n        case \"meta\":\n          if (!instance.hasAttribute(\"itemprop\")) break;\n          return instance;\n        case \"link\":\n          name = instance.getAttribute(\"rel\");\n          if (\"stylesheet\" === name && instance.hasAttribute(\"data-precedence\"))\n            break;\n          else if (\n            name !== anyProps.rel ||\n            instance.getAttribute(\"href\") !==\n              (null == anyProps.href ? null : anyProps.href) ||\n            instance.getAttribute(\"crossorigin\") !==\n              (null == anyProps.crossOrigin ? null : anyProps.crossOrigin) ||\n            instance.getAttribute(\"title\") !==\n              (null == anyProps.title ? null : anyProps.title)\n          )\n            break;\n          return instance;\n        case \"style\":\n          if (instance.hasAttribute(\"data-precedence\")) break;\n          return instance;\n        case \"script\":\n          name = instance.getAttribute(\"src\");\n          if (\n            (name !== (null == anyProps.src ? null : anyProps.src) ||\n              instance.getAttribute(\"type\") !==\n                (null == anyProps.type ? null : anyProps.type) ||\n              instance.getAttribute(\"crossorigin\") !==\n                (null == anyProps.crossOrigin ? null : anyProps.crossOrigin)) &&\n            name &&\n            instance.hasAttribute(\"async\") &&\n            !instance.hasAttribute(\"itemprop\")\n          )\n            break;\n          return instance;\n        default:\n          return instance;\n      }\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) break;\n  }\n  return null;\n}\nfunction canHydrateTextInstance(instance, text, inRootOrSingleton) {\n  if (\"\" === text) return null;\n  for (; 3 !== instance.nodeType; ) {\n    if (\n      (1 !== instance.nodeType ||\n        \"INPUT\" !== instance.nodeName ||\n        \"hidden\" !== instance.type) &&\n      !inRootOrSingleton\n    )\n      return null;\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) return null;\n  }\n  return instance;\n}\nfunction getNextHydratable(node) {\n  for (; null != node; node = node.nextSibling) {\n    var nodeType = node.nodeType;\n    if (1 === nodeType || 3 === nodeType) break;\n    if (8 === nodeType) {\n      nodeType = node.data;\n      if (\n        \"$\" === nodeType ||\n        \"$!\" === nodeType ||\n        \"$?\" === nodeType ||\n        \"F!\" === nodeType ||\n        \"F\" === nodeType\n      )\n        break;\n      if (\"/$\" === nodeType) return null;\n    }\n  }\n  return node;\n}\nfunction getParentSuspenseInstance(targetInstance) {\n  targetInstance = targetInstance.previousSibling;\n  for (var depth = 0; targetInstance; ) {\n    if (8 === targetInstance.nodeType) {\n      var data = targetInstance.data;\n      if (\"$\" === data || \"$!\" === data || \"$?\" === data) {\n        if (0 === depth) return targetInstance;\n        depth--;\n      } else \"/$\" === data && depth++;\n    }\n    targetInstance = targetInstance.previousSibling;\n  }\n  return null;\n}\nfunction resolveSingletonInstance(type, props, rootContainerInstance) {\n  props = getOwnerDocumentFromRootContainer(rootContainerInstance);\n  switch (type) {\n    case \"html\":\n      type = props.documentElement;\n      if (!type) throw Error(formatProdErrorMessage(452));\n      return type;\n    case \"head\":\n      type = props.head;\n      if (!type) throw Error(formatProdErrorMessage(453));\n      return type;\n    case \"body\":\n      type = props.body;\n      if (!type) throw Error(formatProdErrorMessage(454));\n      return type;\n    default:\n      throw Error(formatProdErrorMessage(451));\n  }\n}\nvar preloadPropsMap = new Map(),\n  preconnectsSet = new Set();\nfunction getHoistableRoot(container) {\n  return \"function\" === typeof container.getRootNode\n    ? container.getRootNode()\n    : container.ownerDocument;\n}\nvar previousDispatcher = ReactDOMSharedInternals.d;\nReactDOMSharedInternals.d = {\n  f: flushSyncWork,\n  r: requestFormReset,\n  D: prefetchDNS,\n  C: preconnect,\n  L: preload,\n  m: preloadModule,\n  X: preinitScript,\n  S: preinitStyle,\n  M: preinitModuleScript\n};\nfunction flushSyncWork() {\n  var previousWasRendering = previousDispatcher.f(),\n    wasRendering = flushSyncWork$1();\n  return previousWasRendering || wasRendering;\n}\nfunction requestFormReset(form) {\n  var formInst = getInstanceFromNode(form);\n  null !== formInst && 5 === formInst.tag && \"form\" === formInst.type\n    ? requestFormReset$1(formInst)\n    : previousDispatcher.r(form);\n}\nvar globalDocument = \"undefined\" === typeof document ? null : document;\nfunction preconnectAs(rel, href, crossOrigin) {\n  var ownerDocument = globalDocument;\n  if (ownerDocument && \"string\" === typeof href && href) {\n    var limitedEscapedHref =\n      escapeSelectorAttributeValueInsideDoubleQuotes(href);\n    limitedEscapedHref =\n      'link[rel=\"' + rel + '\"][href=\"' + limitedEscapedHref + '\"]';\n    \"string\" === typeof crossOrigin &&\n      (limitedEscapedHref += '[crossorigin=\"' + crossOrigin + '\"]');\n    preconnectsSet.has(limitedEscapedHref) ||\n      (preconnectsSet.add(limitedEscapedHref),\n      (rel = { rel: rel, crossOrigin: crossOrigin, href: href }),\n      null === ownerDocument.querySelector(limitedEscapedHref) &&\n        ((href = ownerDocument.createElement(\"link\")),\n        setInitialProperties(href, \"link\", rel),\n        markNodeAsHoistable(href),\n        ownerDocument.head.appendChild(href)));\n  }\n}\nfunction prefetchDNS(href) {\n  previousDispatcher.D(href);\n  preconnectAs(\"dns-prefetch\", href, null);\n}\nfunction preconnect(href, crossOrigin) {\n  previousDispatcher.C(href, crossOrigin);\n  preconnectAs(\"preconnect\", href, crossOrigin);\n}\nfunction preload(href, as, options) {\n  previousDispatcher.L(href, as, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href && as) {\n    var preloadSelector =\n      'link[rel=\"preload\"][as=\"' +\n      escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n      '\"]';\n    \"image\" === as\n      ? options && options.imageSrcSet\n        ? ((preloadSelector +=\n            '[imagesrcset=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(\n              options.imageSrcSet\n            ) +\n            '\"]'),\n          \"string\" === typeof options.imageSizes &&\n            (preloadSelector +=\n              '[imagesizes=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                options.imageSizes\n              ) +\n              '\"]'))\n        : (preloadSelector +=\n            '[href=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n            '\"]')\n      : (preloadSelector +=\n          '[href=\"' +\n          escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n          '\"]');\n    var key = preloadSelector;\n    switch (as) {\n      case \"style\":\n        key = getStyleKey(href);\n        break;\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    preloadPropsMap.has(key) ||\n      ((href = assign(\n        {\n          rel: \"preload\",\n          href:\n            \"image\" === as && options && options.imageSrcSet ? void 0 : href,\n          as: as\n        },\n        options\n      )),\n      preloadPropsMap.set(key, href),\n      null !== ownerDocument.querySelector(preloadSelector) ||\n        (\"style\" === as &&\n          ownerDocument.querySelector(getStylesheetSelectorFromKey(key))) ||\n        (\"script\" === as &&\n          ownerDocument.querySelector(getScriptSelectorFromKey(key))) ||\n        ((as = ownerDocument.createElement(\"link\")),\n        setInitialProperties(as, \"link\", href),\n        markNodeAsHoistable(as),\n        ownerDocument.head.appendChild(as)));\n  }\n}\nfunction preloadModule(href, options) {\n  previousDispatcher.m(href, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var as = options && \"string\" === typeof options.as ? options.as : \"script\",\n      preloadSelector =\n        'link[rel=\"modulepreload\"][as=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n        '\"][href=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n        '\"]',\n      key = preloadSelector;\n    switch (as) {\n      case \"audioworklet\":\n      case \"paintworklet\":\n      case \"serviceworker\":\n      case \"sharedworker\":\n      case \"worker\":\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    if (\n      !preloadPropsMap.has(key) &&\n      ((href = assign({ rel: \"modulepreload\", href: href }, options)),\n      preloadPropsMap.set(key, href),\n      null === ownerDocument.querySelector(preloadSelector))\n    ) {\n      switch (as) {\n        case \"audioworklet\":\n        case \"paintworklet\":\n        case \"serviceworker\":\n        case \"sharedworker\":\n        case \"worker\":\n        case \"script\":\n          if (ownerDocument.querySelector(getScriptSelectorFromKey(key)))\n            return;\n      }\n      as = ownerDocument.createElement(\"link\");\n      setInitialProperties(as, \"link\", href);\n      markNodeAsHoistable(as);\n      ownerDocument.head.appendChild(as);\n    }\n  }\n}\nfunction preinitStyle(href, precedence, options) {\n  previousDispatcher.S(href, precedence, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var styles = getResourcesFromRoot(ownerDocument).hoistableStyles,\n      key = getStyleKey(href);\n    precedence = precedence || \"default\";\n    var resource = styles.get(key);\n    if (!resource) {\n      var state = { loading: 0, preload: null };\n      if (\n        (resource = ownerDocument.querySelector(\n          getStylesheetSelectorFromKey(key)\n        ))\n      )\n        state.loading = 5;\n      else {\n        href = assign(\n          { rel: \"stylesheet\", href: href, \"data-precedence\": precedence },\n          options\n        );\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForStylesheet(href, options);\n        var link = (resource = ownerDocument.createElement(\"link\"));\n        markNodeAsHoistable(link);\n        setInitialProperties(link, \"link\", href);\n        link._p = new Promise(function (resolve, reject) {\n          link.onload = resolve;\n          link.onerror = reject;\n        });\n        link.addEventListener(\"load\", function () {\n          state.loading |= 1;\n        });\n        link.addEventListener(\"error\", function () {\n          state.loading |= 2;\n        });\n        state.loading |= 4;\n        insertStylesheet(resource, precedence, ownerDocument);\n      }\n      resource = {\n        type: \"stylesheet\",\n        instance: resource,\n        count: 1,\n        state: state\n      };\n      styles.set(key, resource);\n    }\n  }\n}\nfunction preinitScript(src, options) {\n  previousDispatcher.X(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0 }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction preinitModuleScript(src, options) {\n  previousDispatcher.M(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0, type: \"module\" }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction getResource(type, currentProps, pendingProps, currentResource) {\n  var JSCompiler_inline_result = (JSCompiler_inline_result =\n    rootInstanceStackCursor.current)\n    ? getHoistableRoot(JSCompiler_inline_result)\n    : null;\n  if (!JSCompiler_inline_result) throw Error(formatProdErrorMessage(446));\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return null;\n    case \"style\":\n      return \"string\" === typeof pendingProps.precedence &&\n        \"string\" === typeof pendingProps.href\n        ? ((currentProps = getStyleKey(pendingProps.href)),\n          (pendingProps = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles),\n          (currentResource = pendingProps.get(currentProps)),\n          currentResource ||\n            ((currentResource = {\n              type: \"style\",\n              instance: null,\n              count: 0,\n              state: null\n            }),\n            pendingProps.set(currentProps, currentResource)),\n          currentResource)\n        : { type: \"void\", instance: null, count: 0, state: null };\n    case \"link\":\n      if (\n        \"stylesheet\" === pendingProps.rel &&\n        \"string\" === typeof pendingProps.href &&\n        \"string\" === typeof pendingProps.precedence\n      ) {\n        type = getStyleKey(pendingProps.href);\n        var styles$242 = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles,\n          resource$243 = styles$242.get(type);\n        resource$243 ||\n          ((JSCompiler_inline_result =\n            JSCompiler_inline_result.ownerDocument || JSCompiler_inline_result),\n          (resource$243 = {\n            type: \"stylesheet\",\n            instance: null,\n            count: 0,\n            state: { loading: 0, preload: null }\n          }),\n          styles$242.set(type, resource$243),\n          (styles$242 = JSCompiler_inline_result.querySelector(\n            getStylesheetSelectorFromKey(type)\n          )) &&\n            !styles$242._p &&\n            ((resource$243.instance = styles$242),\n            (resource$243.state.loading = 5)),\n          preloadPropsMap.has(type) ||\n            ((pendingProps = {\n              rel: \"preload\",\n              as: \"style\",\n              href: pendingProps.href,\n              crossOrigin: pendingProps.crossOrigin,\n              integrity: pendingProps.integrity,\n              media: pendingProps.media,\n              hrefLang: pendingProps.hrefLang,\n              referrerPolicy: pendingProps.referrerPolicy\n            }),\n            preloadPropsMap.set(type, pendingProps),\n            styles$242 ||\n              preloadStylesheet(\n                JSCompiler_inline_result,\n                type,\n                pendingProps,\n                resource$243.state\n              )));\n        if (currentProps && null === currentResource)\n          throw Error(formatProdErrorMessage(528, \"\"));\n        return resource$243;\n      }\n      if (currentProps && null !== currentResource)\n        throw Error(formatProdErrorMessage(529, \"\"));\n      return null;\n    case \"script\":\n      return (\n        (currentProps = pendingProps.async),\n        (pendingProps = pendingProps.src),\n        \"string\" === typeof pendingProps &&\n        currentProps &&\n        \"function\" !== typeof currentProps &&\n        \"symbol\" !== typeof currentProps\n          ? ((currentProps = getScriptKey(pendingProps)),\n            (pendingProps = getResourcesFromRoot(\n              JSCompiler_inline_result\n            ).hoistableScripts),\n            (currentResource = pendingProps.get(currentProps)),\n            currentResource ||\n              ((currentResource = {\n                type: \"script\",\n                instance: null,\n                count: 0,\n                state: null\n              }),\n              pendingProps.set(currentProps, currentResource)),\n            currentResource)\n          : { type: \"void\", instance: null, count: 0, state: null }\n      );\n    default:\n      throw Error(formatProdErrorMessage(444, type));\n  }\n}\nfunction getStyleKey(href) {\n  return 'href=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(href) + '\"';\n}\nfunction getStylesheetSelectorFromKey(key) {\n  return 'link[rel=\"stylesheet\"][' + key + \"]\";\n}\nfunction stylesheetPropsFromRawProps(rawProps) {\n  return assign({}, rawProps, {\n    \"data-precedence\": rawProps.precedence,\n    precedence: null\n  });\n}\nfunction preloadStylesheet(ownerDocument, key, preloadProps, state) {\n  ownerDocument.querySelector('link[rel=\"preload\"][as=\"style\"][' + key + \"]\")\n    ? (state.loading = 1)\n    : ((key = ownerDocument.createElement(\"link\")),\n      (state.preload = key),\n      key.addEventListener(\"load\", function () {\n        return (state.loading |= 1);\n      }),\n      key.addEventListener(\"error\", function () {\n        return (state.loading |= 2);\n      }),\n      setInitialProperties(key, \"link\", preloadProps),\n      markNodeAsHoistable(key),\n      ownerDocument.head.appendChild(key));\n}\nfunction getScriptKey(src) {\n  return '[src=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(src) + '\"]';\n}\nfunction getScriptSelectorFromKey(key) {\n  return \"script[async]\" + key;\n}\nfunction acquireResource(hoistableRoot, resource, props) {\n  resource.count++;\n  if (null === resource.instance)\n    switch (resource.type) {\n      case \"style\":\n        var instance = hoistableRoot.querySelector(\n          'style[data-href~=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(props.href) +\n            '\"]'\n        );\n        if (instance)\n          return (\n            (resource.instance = instance),\n            markNodeAsHoistable(instance),\n            instance\n          );\n        var styleProps = assign({}, props, {\n          \"data-href\": props.href,\n          \"data-precedence\": props.precedence,\n          href: null,\n          precedence: null\n        });\n        instance = (hoistableRoot.ownerDocument || hoistableRoot).createElement(\n          \"style\"\n        );\n        markNodeAsHoistable(instance);\n        setInitialProperties(instance, \"style\", styleProps);\n        insertStylesheet(instance, props.precedence, hoistableRoot);\n        return (resource.instance = instance);\n      case \"stylesheet\":\n        styleProps = getStyleKey(props.href);\n        var instance$248 = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(styleProps)\n        );\n        if (instance$248)\n          return (\n            (resource.state.loading |= 4),\n            (resource.instance = instance$248),\n            markNodeAsHoistable(instance$248),\n            instance$248\n          );\n        instance = stylesheetPropsFromRawProps(props);\n        (styleProps = preloadPropsMap.get(styleProps)) &&\n          adoptPreloadPropsForStylesheet(instance, styleProps);\n        instance$248 = (\n          hoistableRoot.ownerDocument || hoistableRoot\n        ).createElement(\"link\");\n        markNodeAsHoistable(instance$248);\n        var linkInstance = instance$248;\n        linkInstance._p = new Promise(function (resolve, reject) {\n          linkInstance.onload = resolve;\n          linkInstance.onerror = reject;\n        });\n        setInitialProperties(instance$248, \"link\", instance);\n        resource.state.loading |= 4;\n        insertStylesheet(instance$248, props.precedence, hoistableRoot);\n        return (resource.instance = instance$248);\n      case \"script\":\n        instance$248 = getScriptKey(props.src);\n        if (\n          (styleProps = hoistableRoot.querySelector(\n            getScriptSelectorFromKey(instance$248)\n          ))\n        )\n          return (\n            (resource.instance = styleProps),\n            markNodeAsHoistable(styleProps),\n            styleProps\n          );\n        instance = props;\n        if ((styleProps = preloadPropsMap.get(instance$248)))\n          (instance = assign({}, props)),\n            adoptPreloadPropsForScript(instance, styleProps);\n        hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n        styleProps = hoistableRoot.createElement(\"script\");\n        markNodeAsHoistable(styleProps);\n        setInitialProperties(styleProps, \"link\", instance);\n        hoistableRoot.head.appendChild(styleProps);\n        return (resource.instance = styleProps);\n      case \"void\":\n        return null;\n      default:\n        throw Error(formatProdErrorMessage(443, resource.type));\n    }\n  else\n    \"stylesheet\" === resource.type &&\n      0 === (resource.state.loading & 4) &&\n      ((instance = resource.instance),\n      (resource.state.loading |= 4),\n      insertStylesheet(instance, props.precedence, hoistableRoot));\n  return resource.instance;\n}\nfunction insertStylesheet(instance, precedence, root) {\n  for (\n    var nodes = root.querySelectorAll(\n        'link[rel=\"stylesheet\"][data-precedence],style[data-precedence]'\n      ),\n      last = nodes.length ? nodes[nodes.length - 1] : null,\n      prior = last,\n      i = 0;\n    i < nodes.length;\n    i++\n  ) {\n    var node = nodes[i];\n    if (node.dataset.precedence === precedence) prior = node;\n    else if (prior !== last) break;\n  }\n  prior\n    ? prior.parentNode.insertBefore(instance, prior.nextSibling)\n    : ((precedence = 9 === root.nodeType ? root.head : root),\n      precedence.insertBefore(instance, precedence.firstChild));\n}\nfunction adoptPreloadPropsForStylesheet(stylesheetProps, preloadProps) {\n  null == stylesheetProps.crossOrigin &&\n    (stylesheetProps.crossOrigin = preloadProps.crossOrigin);\n  null == stylesheetProps.referrerPolicy &&\n    (stylesheetProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == stylesheetProps.title && (stylesheetProps.title = preloadProps.title);\n}\nfunction adoptPreloadPropsForScript(scriptProps, preloadProps) {\n  null == scriptProps.crossOrigin &&\n    (scriptProps.crossOrigin = preloadProps.crossOrigin);\n  null == scriptProps.referrerPolicy &&\n    (scriptProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == scriptProps.integrity &&\n    (scriptProps.integrity = preloadProps.integrity);\n}\nvar tagCaches = null;\nfunction getHydratableHoistableCache(type, keyAttribute, ownerDocument) {\n  if (null === tagCaches) {\n    var cache = new Map();\n    var caches = (tagCaches = new Map());\n    caches.set(ownerDocument, cache);\n  } else\n    (caches = tagCaches),\n      (cache = caches.get(ownerDocument)),\n      cache || ((cache = new Map()), caches.set(ownerDocument, cache));\n  if (cache.has(type)) return cache;\n  cache.set(type, null);\n  ownerDocument = ownerDocument.getElementsByTagName(type);\n  for (caches = 0; caches < ownerDocument.length; caches++) {\n    var node = ownerDocument[caches];\n    if (\n      !(\n        node[internalHoistableMarker] ||\n        node[internalInstanceKey] ||\n        (\"link\" === type && \"stylesheet\" === node.getAttribute(\"rel\"))\n      ) &&\n      \"http://www.w3.org/2000/svg\" !== node.namespaceURI\n    ) {\n      var nodeKey = node.getAttribute(keyAttribute) || \"\";\n      nodeKey = type + nodeKey;\n      var existing = cache.get(nodeKey);\n      existing ? existing.push(node) : cache.set(nodeKey, [node]);\n    }\n  }\n  return cache;\n}\nfunction mountHoistable(hoistableRoot, type, instance) {\n  hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n  hoistableRoot.head.insertBefore(\n    instance,\n    \"title\" === type ? hoistableRoot.querySelector(\"head > title\") : null\n  );\n}\nfunction isHostHoistableType(type, props, hostContext) {\n  if (1 === hostContext || null != props.itemProp) return !1;\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return !0;\n    case \"style\":\n      if (\n        \"string\" !== typeof props.precedence ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href\n      )\n        break;\n      return !0;\n    case \"link\":\n      if (\n        \"string\" !== typeof props.rel ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href ||\n        props.onLoad ||\n        props.onError\n      )\n        break;\n      switch (props.rel) {\n        case \"stylesheet\":\n          return (\n            (type = props.disabled),\n            \"string\" === typeof props.precedence && null == type\n          );\n        default:\n          return !0;\n      }\n    case \"script\":\n      if (\n        props.async &&\n        \"function\" !== typeof props.async &&\n        \"symbol\" !== typeof props.async &&\n        !props.onLoad &&\n        !props.onError &&\n        props.src &&\n        \"string\" === typeof props.src\n      )\n        return !0;\n  }\n  return !1;\n}\nfunction preloadResource(resource) {\n  return \"stylesheet\" === resource.type && 0 === (resource.state.loading & 3)\n    ? !1\n    : !0;\n}\nvar suspendedState = null;\nfunction noop() {}\nfunction suspendResource(hoistableRoot, resource, props) {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  if (\n    \"stylesheet\" === resource.type &&\n    (\"string\" !== typeof props.media ||\n      !1 !== matchMedia(props.media).matches) &&\n    0 === (resource.state.loading & 4)\n  ) {\n    if (null === resource.instance) {\n      var key = getStyleKey(props.href),\n        instance = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(key)\n        );\n      if (instance) {\n        hoistableRoot = instance._p;\n        null !== hoistableRoot &&\n          \"object\" === typeof hoistableRoot &&\n          \"function\" === typeof hoistableRoot.then &&\n          (state.count++,\n          (state = onUnsuspend.bind(state)),\n          hoistableRoot.then(state, state));\n        resource.state.loading |= 4;\n        resource.instance = instance;\n        markNodeAsHoistable(instance);\n        return;\n      }\n      instance = hoistableRoot.ownerDocument || hoistableRoot;\n      props = stylesheetPropsFromRawProps(props);\n      (key = preloadPropsMap.get(key)) &&\n        adoptPreloadPropsForStylesheet(props, key);\n      instance = instance.createElement(\"link\");\n      markNodeAsHoistable(instance);\n      var linkInstance = instance;\n      linkInstance._p = new Promise(function (resolve, reject) {\n        linkInstance.onload = resolve;\n        linkInstance.onerror = reject;\n      });\n      setInitialProperties(instance, \"link\", props);\n      resource.instance = instance;\n    }\n    null === state.stylesheets && (state.stylesheets = new Map());\n    state.stylesheets.set(resource, hoistableRoot);\n    (hoistableRoot = resource.state.preload) &&\n      0 === (resource.state.loading & 3) &&\n      (state.count++,\n      (resource = onUnsuspend.bind(state)),\n      hoistableRoot.addEventListener(\"load\", resource),\n      hoistableRoot.addEventListener(\"error\", resource));\n  }\n}\nfunction waitForCommitToBeReady() {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  state.stylesheets &&\n    0 === state.count &&\n    insertSuspendedStylesheets(state, state.stylesheets);\n  return 0 < state.count\n    ? function (commit) {\n        var stylesheetTimer = setTimeout(function () {\n          state.stylesheets &&\n            insertSuspendedStylesheets(state, state.stylesheets);\n          if (state.unsuspend) {\n            var unsuspend = state.unsuspend;\n            state.unsuspend = null;\n            unsuspend();\n          }\n        }, 6e4);\n        state.unsuspend = commit;\n        return function () {\n          state.unsuspend = null;\n          clearTimeout(stylesheetTimer);\n        };\n      }\n    : null;\n}\nfunction onUnsuspend() {\n  this.count--;\n  if (0 === this.count)\n    if (this.stylesheets) insertSuspendedStylesheets(this, this.stylesheets);\n    else if (this.unsuspend) {\n      var unsuspend = this.unsuspend;\n      this.unsuspend = null;\n      unsuspend();\n    }\n}\nvar precedencesByRoot = null;\nfunction insertSuspendedStylesheets(state, resources) {\n  state.stylesheets = null;\n  null !== state.unsuspend &&\n    (state.count++,\n    (precedencesByRoot = new Map()),\n    resources.forEach(insertStylesheetIntoRoot, state),\n    (precedencesByRoot = null),\n    onUnsuspend.call(state));\n}\nfunction insertStylesheetIntoRoot(root, resource) {\n  if (!(resource.state.loading & 4)) {\n    var precedences = precedencesByRoot.get(root);\n    if (precedences) var last = precedences.get(null);\n    else {\n      precedences = new Map();\n      precedencesByRoot.set(root, precedences);\n      for (\n        var nodes = root.querySelectorAll(\n            \"link[data-precedence],style[data-precedence]\"\n          ),\n          i = 0;\n        i < nodes.length;\n        i++\n      ) {\n        var node = nodes[i];\n        if (\n          \"LINK\" === node.nodeName ||\n          \"not all\" !== node.getAttribute(\"media\")\n        )\n          precedences.set(node.dataset.precedence, node), (last = node);\n      }\n      last && precedences.set(null, last);\n    }\n    nodes = resource.instance;\n    node = nodes.getAttribute(\"data-precedence\");\n    i = precedences.get(node) || last;\n    i === last && precedences.set(null, nodes);\n    precedences.set(node, nodes);\n    this.count++;\n    last = onUnsuspend.bind(this);\n    nodes.addEventListener(\"load\", last);\n    nodes.addEventListener(\"error\", last);\n    i\n      ? i.parentNode.insertBefore(nodes, i.nextSibling)\n      : ((root = 9 === root.nodeType ? root.head : root),\n        root.insertBefore(nodes, root.firstChild));\n    resource.state.loading |= 4;\n  }\n}\nvar HostTransitionContext = {\n  $$typeof: REACT_CONTEXT_TYPE,\n  Provider: null,\n  Consumer: null,\n  _currentValue: sharedNotPendingObject,\n  _currentValue2: sharedNotPendingObject,\n  _threadCount: 0\n};\nfunction FiberRootNode(\n  containerInfo,\n  tag,\n  hydrate,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  formState\n) {\n  this.tag = 1;\n  this.containerInfo = containerInfo;\n  this.finishedWork =\n    this.pingCache =\n    this.current =\n    this.pendingChildren =\n      null;\n  this.timeoutHandle = -1;\n  this.callbackNode =\n    this.next =\n    this.pendingContext =\n    this.context =\n    this.cancelPendingCommit =\n      null;\n  this.callbackPriority = 0;\n  this.expirationTimes = createLaneMap(-1);\n  this.entangledLanes =\n    this.shellSuspendCounter =\n    this.errorRecoveryDisabledLanes =\n    this.finishedLanes =\n    this.expiredLanes =\n    this.warmLanes =\n    this.pingedLanes =\n    this.suspendedLanes =\n    this.pendingLanes =\n      0;\n  this.entanglements = createLaneMap(0);\n  this.hiddenUpdates = createLaneMap(null);\n  this.identifierPrefix = identifierPrefix;\n  this.onUncaughtError = onUncaughtError;\n  this.onCaughtError = onCaughtError;\n  this.onRecoverableError = onRecoverableError;\n  this.pooledCache = null;\n  this.pooledCacheLanes = 0;\n  this.formState = formState;\n  this.incompleteTransitions = new Map();\n}\nfunction createFiberRoot(\n  containerInfo,\n  tag,\n  hydrate,\n  initialChildren,\n  hydrationCallbacks,\n  isStrictMode,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  transitionCallbacks,\n  formState\n) {\n  containerInfo = new FiberRootNode(\n    containerInfo,\n    tag,\n    hydrate,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    formState\n  );\n  tag = 1;\n  !0 === isStrictMode && (tag |= 24);\n  isStrictMode = createFiberImplClass(3, null, null, tag);\n  containerInfo.current = isStrictMode;\n  isStrictMode.stateNode = containerInfo;\n  tag = createCache();\n  tag.refCount++;\n  containerInfo.pooledCache = tag;\n  tag.refCount++;\n  isStrictMode.memoizedState = {\n    element: initialChildren,\n    isDehydrated: hydrate,\n    cache: tag\n  };\n  initializeUpdateQueue(isStrictMode);\n  return containerInfo;\n}\nfunction getContextForSubtree(parentComponent) {\n  if (!parentComponent) return emptyContextObject;\n  parentComponent = emptyContextObject;\n  return parentComponent;\n}\nfunction updateContainerImpl(\n  rootFiber,\n  lane,\n  element,\n  container,\n  parentComponent,\n  callback\n) {\n  parentComponent = getContextForSubtree(parentComponent);\n  null === container.context\n    ? (container.context = parentComponent)\n    : (container.pendingContext = parentComponent);\n  container = createUpdate(lane);\n  container.payload = { element: element };\n  callback = void 0 === callback ? null : callback;\n  null !== callback && (container.callback = callback);\n  element = enqueueUpdate(rootFiber, container, lane);\n  null !== element &&\n    (scheduleUpdateOnFiber(element, rootFiber, lane),\n    entangleTransitions(element, rootFiber, lane));\n}\nfunction markRetryLaneImpl(fiber, retryLane) {\n  fiber = fiber.memoizedState;\n  if (null !== fiber && null !== fiber.dehydrated) {\n    var a = fiber.retryLane;\n    fiber.retryLane = 0 !== a && a < retryLane ? a : retryLane;\n  }\n}\nfunction markRetryLaneIfNotHydrated(fiber, retryLane) {\n  markRetryLaneImpl(fiber, retryLane);\n  (fiber = fiber.alternate) && markRetryLaneImpl(fiber, retryLane);\n}\nfunction attemptContinuousHydration(fiber) {\n  if (13 === fiber.tag) {\n    var root = enqueueConcurrentRenderForLane(fiber, 67108864);\n    null !== root && scheduleUpdateOnFiber(root, fiber, 67108864);\n    markRetryLaneIfNotHydrated(fiber, 67108864);\n  }\n}\nvar _enabled = !0;\nfunction dispatchDiscreteEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchContinuousEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 8),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchEvent(\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (_enabled) {\n    var blockedOn = findInstanceBlockingEvent(nativeEvent);\n    if (null === blockedOn)\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        return_targetInst,\n        targetContainer\n      ),\n        clearIfContinuousEvent(domEventName, nativeEvent);\n    else if (\n      queueIfContinuousEvent(\n        blockedOn,\n        domEventName,\n        eventSystemFlags,\n        targetContainer,\n        nativeEvent\n      )\n    )\n      nativeEvent.stopPropagation();\n    else if (\n      (clearIfContinuousEvent(domEventName, nativeEvent),\n      eventSystemFlags & 4 &&\n        -1 < discreteReplayableEvents.indexOf(domEventName))\n    ) {\n      for (; null !== blockedOn; ) {\n        var fiber = getInstanceFromNode(blockedOn);\n        if (null !== fiber)\n          switch (fiber.tag) {\n            case 3:\n              fiber = fiber.stateNode;\n              if (fiber.current.memoizedState.isDehydrated) {\n                var lanes = getHighestPriorityLanes(fiber.pendingLanes);\n                if (0 !== lanes) {\n                  var root = fiber;\n                  root.pendingLanes |= 2;\n                  for (root.entangledLanes |= 2; lanes; ) {\n                    var lane = 1 << (31 - clz32(lanes));\n                    root.entanglements[1] |= lane;\n                    lanes &= ~lane;\n                  }\n                  ensureRootIsScheduled(fiber);\n                  0 === (executionContext & 6) &&\n                    ((workInProgressRootRenderTargetTime = now() + 500),\n                    flushSyncWorkAcrossRoots_impl(0, !1));\n                }\n              }\n              break;\n            case 13:\n              (root = enqueueConcurrentRenderForLane(fiber, 2)),\n                null !== root && scheduleUpdateOnFiber(root, fiber, 2),\n                flushSyncWork$1(),\n                markRetryLaneIfNotHydrated(fiber, 2);\n          }\n        fiber = findInstanceBlockingEvent(nativeEvent);\n        null === fiber &&\n          dispatchEventForPluginEventSystem(\n            domEventName,\n            eventSystemFlags,\n            nativeEvent,\n            return_targetInst,\n            targetContainer\n          );\n        if (fiber === blockedOn) break;\n        blockedOn = fiber;\n      }\n      null !== blockedOn && nativeEvent.stopPropagation();\n    } else\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        null,\n        targetContainer\n      );\n  }\n}\nfunction findInstanceBlockingEvent(nativeEvent) {\n  nativeEvent = getEventTarget(nativeEvent);\n  return findInstanceBlockingTarget(nativeEvent);\n}\nvar return_targetInst = null;\nfunction findInstanceBlockingTarget(targetNode) {\n  return_targetInst = null;\n  targetNode = getClosestInstanceFromNode(targetNode);\n  if (null !== targetNode) {\n    var nearestMounted = getNearestMountedFiber(targetNode);\n    if (null === nearestMounted) targetNode = null;\n    else {\n      var tag = nearestMounted.tag;\n      if (13 === tag) {\n        targetNode = getSuspenseInstanceFromFiber(nearestMounted);\n        if (null !== targetNode) return targetNode;\n        targetNode = null;\n      } else if (3 === tag) {\n        if (nearestMounted.stateNode.current.memoizedState.isDehydrated)\n          return 3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        targetNode = null;\n      } else nearestMounted !== targetNode && (targetNode = null);\n    }\n  }\n  return_targetInst = targetNode;\n  return null;\n}\nfunction getEventPriority(domEventName) {\n  switch (domEventName) {\n    case \"beforetoggle\":\n    case \"cancel\":\n    case \"click\":\n    case \"close\":\n    case \"contextmenu\":\n    case \"copy\":\n    case \"cut\":\n    case \"auxclick\":\n    case \"dblclick\":\n    case \"dragend\":\n    case \"dragstart\":\n    case \"drop\":\n    case \"focusin\":\n    case \"focusout\":\n    case \"input\":\n    case \"invalid\":\n    case \"keydown\":\n    case \"keypress\":\n    case \"keyup\":\n    case \"mousedown\":\n    case \"mouseup\":\n    case \"paste\":\n    case \"pause\":\n    case \"play\":\n    case \"pointercancel\":\n    case \"pointerdown\":\n    case \"pointerup\":\n    case \"ratechange\":\n    case \"reset\":\n    case \"resize\":\n    case \"seeked\":\n    case \"submit\":\n    case \"toggle\":\n    case \"touchcancel\":\n    case \"touchend\":\n    case \"touchstart\":\n    case \"volumechange\":\n    case \"change\":\n    case \"selectionchange\":\n    case \"textInput\":\n    case \"compositionstart\":\n    case \"compositionend\":\n    case \"compositionupdate\":\n    case \"beforeblur\":\n    case \"afterblur\":\n    case \"beforeinput\":\n    case \"blur\":\n    case \"fullscreenchange\":\n    case \"focus\":\n    case \"hashchange\":\n    case \"popstate\":\n    case \"select\":\n    case \"selectstart\":\n      return 2;\n    case \"drag\":\n    case \"dragenter\":\n    case \"dragexit\":\n    case \"dragleave\":\n    case \"dragover\":\n    case \"mousemove\":\n    case \"mouseout\":\n    case \"mouseover\":\n    case \"pointermove\":\n    case \"pointerout\":\n    case \"pointerover\":\n    case \"scroll\":\n    case \"touchmove\":\n    case \"wheel\":\n    case \"mouseenter\":\n    case \"mouseleave\":\n    case \"pointerenter\":\n    case \"pointerleave\":\n      return 8;\n    case \"message\":\n      switch (getCurrentPriorityLevel()) {\n        case ImmediatePriority:\n          return 2;\n        case UserBlockingPriority:\n          return 8;\n        case NormalPriority$1:\n        case LowPriority:\n          return 32;\n        case IdlePriority:\n          return 268435456;\n        default:\n          return 32;\n      }\n    default:\n      return 32;\n  }\n}\nvar hasScheduledReplayAttempt = !1,\n  queuedFocus = null,\n  queuedDrag = null,\n  queuedMouse = null,\n  queuedPointers = new Map(),\n  queuedPointerCaptures = new Map(),\n  queuedExplicitHydrationTargets = [],\n  discreteReplayableEvents =\n    \"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset\".split(\n      \" \"\n    );\nfunction clearIfContinuousEvent(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"focusin\":\n    case \"focusout\":\n      queuedFocus = null;\n      break;\n    case \"dragenter\":\n    case \"dragleave\":\n      queuedDrag = null;\n      break;\n    case \"mouseover\":\n    case \"mouseout\":\n      queuedMouse = null;\n      break;\n    case \"pointerover\":\n    case \"pointerout\":\n      queuedPointers.delete(nativeEvent.pointerId);\n      break;\n    case \"gotpointercapture\":\n    case \"lostpointercapture\":\n      queuedPointerCaptures.delete(nativeEvent.pointerId);\n  }\n}\nfunction accumulateOrCreateContinuousQueuedReplayableEvent(\n  existingQueuedEvent,\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (\n    null === existingQueuedEvent ||\n    existingQueuedEvent.nativeEvent !== nativeEvent\n  )\n    return (\n      (existingQueuedEvent = {\n        blockedOn: blockedOn,\n        domEventName: domEventName,\n        eventSystemFlags: eventSystemFlags,\n        nativeEvent: nativeEvent,\n        targetContainers: [targetContainer]\n      }),\n      null !== blockedOn &&\n        ((blockedOn = getInstanceFromNode(blockedOn)),\n        null !== blockedOn && attemptContinuousHydration(blockedOn)),\n      existingQueuedEvent\n    );\n  existingQueuedEvent.eventSystemFlags |= eventSystemFlags;\n  blockedOn = existingQueuedEvent.targetContainers;\n  null !== targetContainer &&\n    -1 === blockedOn.indexOf(targetContainer) &&\n    blockedOn.push(targetContainer);\n  return existingQueuedEvent;\n}\nfunction queueIfContinuousEvent(\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  switch (domEventName) {\n    case \"focusin\":\n      return (\n        (queuedFocus = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedFocus,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"dragenter\":\n      return (\n        (queuedDrag = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedDrag,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"mouseover\":\n      return (\n        (queuedMouse = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedMouse,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"pointerover\":\n      var pointerId = nativeEvent.pointerId;\n      queuedPointers.set(\n        pointerId,\n        accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedPointers.get(pointerId) || null,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )\n      );\n      return !0;\n    case \"gotpointercapture\":\n      return (\n        (pointerId = nativeEvent.pointerId),\n        queuedPointerCaptures.set(\n          pointerId,\n          accumulateOrCreateContinuousQueuedReplayableEvent(\n            queuedPointerCaptures.get(pointerId) || null,\n            blockedOn,\n            domEventName,\n            eventSystemFlags,\n            targetContainer,\n            nativeEvent\n          )\n        ),\n        !0\n      );\n  }\n  return !1;\n}\nfunction attemptExplicitHydrationTarget(queuedTarget) {\n  var targetInst = getClosestInstanceFromNode(queuedTarget.target);\n  if (null !== targetInst) {\n    var nearestMounted = getNearestMountedFiber(targetInst);\n    if (null !== nearestMounted)\n      if (((targetInst = nearestMounted.tag), 13 === targetInst)) {\n        if (\n          ((targetInst = getSuspenseInstanceFromFiber(nearestMounted)),\n          null !== targetInst)\n        ) {\n          queuedTarget.blockedOn = targetInst;\n          runWithPriority(queuedTarget.priority, function () {\n            if (13 === nearestMounted.tag) {\n              var lane = requestUpdateLane(),\n                root = enqueueConcurrentRenderForLane(nearestMounted, lane);\n              null !== root &&\n                scheduleUpdateOnFiber(root, nearestMounted, lane);\n              markRetryLaneIfNotHydrated(nearestMounted, lane);\n            }\n          });\n          return;\n        }\n      } else if (\n        3 === targetInst &&\n        nearestMounted.stateNode.current.memoizedState.isDehydrated\n      ) {\n        queuedTarget.blockedOn =\n          3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        return;\n      }\n  }\n  queuedTarget.blockedOn = null;\n}\nfunction attemptReplayContinuousQueuedEvent(queuedEvent) {\n  if (null !== queuedEvent.blockedOn) return !1;\n  for (\n    var targetContainers = queuedEvent.targetContainers;\n    0 < targetContainers.length;\n\n  ) {\n    var nextBlockedOn = findInstanceBlockingEvent(queuedEvent.nativeEvent);\n    if (null === nextBlockedOn) {\n      nextBlockedOn = queuedEvent.nativeEvent;\n      var nativeEventClone = new nextBlockedOn.constructor(\n        nextBlockedOn.type,\n        nextBlockedOn\n      );\n      currentReplayingEvent = nativeEventClone;\n      nextBlockedOn.target.dispatchEvent(nativeEventClone);\n      currentReplayingEvent = null;\n    } else\n      return (\n        (targetContainers = getInstanceFromNode(nextBlockedOn)),\n        null !== targetContainers &&\n          attemptContinuousHydration(targetContainers),\n        (queuedEvent.blockedOn = nextBlockedOn),\n        !1\n      );\n    targetContainers.shift();\n  }\n  return !0;\n}\nfunction attemptReplayContinuousQueuedEventInMap(queuedEvent, key, map) {\n  attemptReplayContinuousQueuedEvent(queuedEvent) && map.delete(key);\n}\nfunction replayUnblockedEvents() {\n  hasScheduledReplayAttempt = !1;\n  null !== queuedFocus &&\n    attemptReplayContinuousQueuedEvent(queuedFocus) &&\n    (queuedFocus = null);\n  null !== queuedDrag &&\n    attemptReplayContinuousQueuedEvent(queuedDrag) &&\n    (queuedDrag = null);\n  null !== queuedMouse &&\n    attemptReplayContinuousQueuedEvent(queuedMouse) &&\n    (queuedMouse = null);\n  queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap);\n  queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap);\n}\nfunction scheduleCallbackIfUnblocked(queuedEvent, unblocked) {\n  queuedEvent.blockedOn === unblocked &&\n    ((queuedEvent.blockedOn = null),\n    hasScheduledReplayAttempt ||\n      ((hasScheduledReplayAttempt = !0),\n      Scheduler.unstable_scheduleCallback(\n        Scheduler.unstable_NormalPriority,\n        replayUnblockedEvents\n      )));\n}\nvar lastScheduledReplayQueue = null;\nfunction scheduleReplayQueueIfNeeded(formReplayingQueue) {\n  lastScheduledReplayQueue !== formReplayingQueue &&\n    ((lastScheduledReplayQueue = formReplayingQueue),\n    Scheduler.unstable_scheduleCallback(\n      Scheduler.unstable_NormalPriority,\n      function () {\n        lastScheduledReplayQueue === formReplayingQueue &&\n          (lastScheduledReplayQueue = null);\n        for (var i = 0; i < formReplayingQueue.length; i += 3) {\n          var form = formReplayingQueue[i],\n            submitterOrAction = formReplayingQueue[i + 1],\n            formData = formReplayingQueue[i + 2];\n          if (\"function\" !== typeof submitterOrAction)\n            if (null === findInstanceBlockingTarget(submitterOrAction || form))\n              continue;\n            else break;\n          var formInst = getInstanceFromNode(form);\n          null !== formInst &&\n            (formReplayingQueue.splice(i, 3),\n            (i -= 3),\n            startHostTransition(\n              formInst,\n              {\n                pending: !0,\n                data: formData,\n                method: form.method,\n                action: submitterOrAction\n              },\n              submitterOrAction,\n              formData\n            ));\n        }\n      }\n    ));\n}\nfunction retryIfBlockedOn(unblocked) {\n  function unblock(queuedEvent) {\n    return scheduleCallbackIfUnblocked(queuedEvent, unblocked);\n  }\n  null !== queuedFocus && scheduleCallbackIfUnblocked(queuedFocus, unblocked);\n  null !== queuedDrag && scheduleCallbackIfUnblocked(queuedDrag, unblocked);\n  null !== queuedMouse && scheduleCallbackIfUnblocked(queuedMouse, unblocked);\n  queuedPointers.forEach(unblock);\n  queuedPointerCaptures.forEach(unblock);\n  for (var i = 0; i < queuedExplicitHydrationTargets.length; i++) {\n    var queuedTarget = queuedExplicitHydrationTargets[i];\n    queuedTarget.blockedOn === unblocked && (queuedTarget.blockedOn = null);\n  }\n  for (\n    ;\n    0 < queuedExplicitHydrationTargets.length &&\n    ((i = queuedExplicitHydrationTargets[0]), null === i.blockedOn);\n\n  )\n    attemptExplicitHydrationTarget(i),\n      null === i.blockedOn && queuedExplicitHydrationTargets.shift();\n  i = (unblocked.ownerDocument || unblocked).$$reactFormReplay;\n  if (null != i)\n    for (queuedTarget = 0; queuedTarget < i.length; queuedTarget += 3) {\n      var form = i[queuedTarget],\n        submitterOrAction = i[queuedTarget + 1],\n        formProps = form[internalPropsKey] || null;\n      if (\"function\" === typeof submitterOrAction)\n        formProps || scheduleReplayQueueIfNeeded(i);\n      else if (formProps) {\n        var action = null;\n        if (submitterOrAction && submitterOrAction.hasAttribute(\"formAction\"))\n          if (\n            ((form = submitterOrAction),\n            (formProps = submitterOrAction[internalPropsKey] || null))\n          )\n            action = formProps.formAction;\n          else {\n            if (null !== findInstanceBlockingTarget(form)) continue;\n          }\n        else action = formProps.action;\n        \"function\" === typeof action\n          ? (i[queuedTarget + 1] = action)\n          : (i.splice(queuedTarget, 3), (queuedTarget -= 3));\n        scheduleReplayQueueIfNeeded(i);\n      }\n    }\n}\nfunction ReactDOMRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.render = ReactDOMRoot.prototype.render =\n  function (children) {\n    var root = this._internalRoot;\n    if (null === root) throw Error(formatProdErrorMessage(409));\n    var current = root.current,\n      lane = requestUpdateLane();\n    updateContainerImpl(current, lane, children, root, null, null);\n  };\nReactDOMHydrationRoot.prototype.unmount = ReactDOMRoot.prototype.unmount =\n  function () {\n    var root = this._internalRoot;\n    if (null !== root) {\n      this._internalRoot = null;\n      var container = root.containerInfo;\n      0 === root.tag && flushPassiveEffects();\n      updateContainerImpl(root.current, 2, null, root, null, null);\n      flushSyncWork$1();\n      container[internalContainerInstanceKey] = null;\n    }\n  };\nfunction ReactDOMHydrationRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n  if (target) {\n    var updatePriority = resolveUpdatePriority();\n    target = { blockedOn: null, target: target, priority: updatePriority };\n    for (\n      var i = 0;\n      i < queuedExplicitHydrationTargets.length &&\n      0 !== updatePriority &&\n      updatePriority < queuedExplicitHydrationTargets[i].priority;\n      i++\n    );\n    queuedExplicitHydrationTargets.splice(i, 0, target);\n    0 === i && attemptExplicitHydrationTarget(target);\n  }\n};\nvar isomorphicReactPackageVersion$jscomp$inline_1686 = React.version;\nif (\n  \"19.0.0\" !==\n  isomorphicReactPackageVersion$jscomp$inline_1686\n)\n  throw Error(\n    formatProdErrorMessage(\n      527,\n      isomorphicReactPackageVersion$jscomp$inline_1686,\n      \"19.0.0\"\n    )\n  );\nReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n  var fiber = componentOrElement._reactInternals;\n  if (void 0 === fiber) {\n    if (\"function\" === typeof componentOrElement.render)\n      throw Error(formatProdErrorMessage(188));\n    componentOrElement = Object.keys(componentOrElement).join(\",\");\n    throw Error(formatProdErrorMessage(268, componentOrElement));\n  }\n  componentOrElement = findCurrentFiberUsingSlowPath(fiber);\n  componentOrElement =\n    null !== componentOrElement\n      ? findCurrentHostFiberImpl(componentOrElement)\n      : null;\n  componentOrElement =\n    null === componentOrElement ? null : componentOrElement.stateNode;\n  return componentOrElement;\n};\nvar internals$jscomp$inline_2165 = {\n  bundleType: 0,\n  version: \"19.0.0\",\n  rendererPackageName: \"react-dom\",\n  currentDispatcherRef: ReactSharedInternals,\n  findFiberByHostInstance: getClosestInstanceFromNode,\n  reconcilerVersion: \"19.0.0\"\n};\nif (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n  var hook$jscomp$inline_2166 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (\n    !hook$jscomp$inline_2166.isDisabled &&\n    hook$jscomp$inline_2166.supportsFiber\n  )\n    try {\n      (rendererID = hook$jscomp$inline_2166.inject(\n        internals$jscomp$inline_2165\n      )),\n        (injectedHook = hook$jscomp$inline_2166);\n    } catch (err) {}\n}\nexports.createRoot = function (container, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks));\n  options = createFiberRoot(\n    container,\n    1,\n    !1,\n    null,\n    null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    null\n  );\n  container[internalContainerInstanceKey] = options.current;\n  listenToAllSupportedEvents(\n    8 === container.nodeType ? container.parentNode : container\n  );\n  return new ReactDOMRoot(options);\n};\nexports.hydrateRoot = function (container, initialChildren, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null,\n    formState = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks),\n    void 0 !== options.formState && (formState = options.formState));\n  initialChildren = createFiberRoot(\n    container,\n    1,\n    !0,\n    initialChildren,\n    null != options ? options : null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    formState\n  );\n  initialChildren.context = getContextForSubtree(null);\n  options = initialChildren.current;\n  isStrictMode = requestUpdateLane();\n  identifierPrefix = createUpdate(isStrictMode);\n  identifierPrefix.callback = null;\n  enqueueUpdate(options, identifierPrefix, isStrictMode);\n  initialChildren.current.lanes = isStrictMode;\n  markRootUpdated$1(initialChildren, isStrictMode);\n  ensureRootIsScheduled(initialChildren);\n  container[internalContainerInstanceKey] = initialChildren.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMHydrationRoot(initialChildren);\n};\nexports.version = \"19.0.0\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals = { H: null, A: null, T: null, S: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, self, source, owner, props) {\n  self = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== self ? self : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(\n    oldElement.type,\n    newKey,\n    void 0,\n    void 0,\n    void 0,\n    oldElement.props\n  );\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction noop$1() {}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop$1, noop$1)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction noop() {}\nexports.Children = {\n  map: mapChildren,\n  forEach: function (children, forEachFunc, forEachContext) {\n    mapChildren(\n      children,\n      function () {\n        forEachFunc.apply(this, arguments);\n      },\n      forEachContext\n    );\n  },\n  count: function (children) {\n    var n = 0;\n    mapChildren(children, function () {\n      n++;\n    });\n    return n;\n  },\n  toArray: function (children) {\n    return (\n      mapChildren(children, function (child) {\n        return child;\n      }) || []\n    );\n  },\n  only: function (children) {\n    if (!isValidElement(children))\n      throw Error(\n        \"React.Children.only expected to receive a single React element child.\"\n      );\n    return children;\n  }\n};\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.act = function () {\n  throw Error(\"act(...) is not supported in production builds of React.\");\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key,\n    owner = void 0;\n  if (null != config)\n    for (propName in (void 0 !== config.ref && (owner = void 0),\n    void 0 !== config.key && (key = \"\" + config.key),\n    config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, void 0, void 0, owner, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, void 0, void 0, null, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = function (scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    ReactSharedInternals.T = prevTransition;\n  }\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, deps) {\n  return ReactSharedInternals.H.useEffect(create, deps);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = function (passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n};\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.0.0\";\n","/**\n * RegExp to match cookie-name in RFC 6265 sec 4.1.1\n * This refers out to the obsoleted definition of token in RFC 2616 sec 2.2\n * which has been replaced by the token definition in RFC 7230 appendix B.\n *\n * cookie-name       = token\n * token             = 1*tchar\n * tchar             = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" /\n *                     \"*\" / \"+\" / \"-\" / \".\" / \"^\" / \"_\" /\n *                     \"`\" / \"|\" / \"~\" / DIGIT / ALPHA\n *\n * Note: Allowing more characters - https://github.com/jshttp/cookie/issues/191\n * Allow same range as cookie value, except `=`, which delimits end of name.\n */\nconst cookieNameRegExp = /^[\\u0021-\\u003A\\u003C\\u003E-\\u007E]+$/;\n\n/**\n * RegExp to match cookie-value in RFC 6265 sec 4.1.1\n *\n * cookie-value      = *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\n * cookie-octet      = %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n *                     ; US-ASCII characters excluding CTLs,\n *                     ; whitespace DQUOTE, comma, semicolon,\n *                     ; and backslash\n *\n * Allowing more characters: https://github.com/jshttp/cookie/issues/191\n * Comma, backslash, and DQUOTE are not part of the parsing algorithm.\n */\nconst cookieValueRegExp = /^[\\u0021-\\u003A\\u003C-\\u007E]*$/;\n\n/**\n * RegExp to match domain-value in RFC 6265 sec 4.1.1\n *\n * domain-value      = <subdomain>\n *                     ; defined in [RFC1034], Section 3.5, as\n *                     ; enhanced by [RFC1123], Section 2.1\n * <subdomain>       = <label> | <subdomain> \".\" <label>\n * <label>           = <let-dig> [ [ <ldh-str> ] <let-dig> ]\n *                     Labels must be 63 characters or less.\n *                     'let-dig' not 'letter' in the first char, per RFC1123\n * <ldh-str>         = <let-dig-hyp> | <let-dig-hyp> <ldh-str>\n * <let-dig-hyp>     = <let-dig> | \"-\"\n * <let-dig>         = <letter> | <digit>\n * <letter>          = any one of the 52 alphabetic characters A through Z in\n *                     upper case and a through z in lower case\n * <digit>           = any one of the ten digits 0 through 9\n *\n * Keep support for leading dot: https://github.com/jshttp/cookie/issues/173\n *\n * > (Note that a leading %x2E (\".\"), if present, is ignored even though that\n * character is not permitted, but a trailing %x2E (\".\"), if present, will\n * cause the user agent to ignore the attribute.)\n */\nconst domainValueRegExp =\n  /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i;\n\n/**\n * RegExp to match path-value in RFC 6265 sec 4.1.1\n *\n * path-value        = <any CHAR except CTLs or \";\">\n * CHAR              = %x01-7F\n *                     ; defined in RFC 5234 appendix B.1\n */\nconst pathValueRegExp = /^[\\u0020-\\u003A\\u003D-\\u007E]*$/;\n\nconst __toString = Object.prototype.toString;\n\nconst NullObject = /* @__PURE__ */ (() => {\n  const C = function () {};\n  C.prototype = Object.create(null);\n  return C;\n})() as unknown as { new (): any };\n\n/**\n * Parse options.\n */\nexport interface ParseOptions {\n  /**\n   * Specifies a function that will be used to decode a [cookie-value](https://datatracker.ietf.org/doc/html/rfc6265#section-4.1.1).\n   * Since the value of a cookie has a limited character set (and must be a simple string), this function can be used to decode\n   * a previously-encoded cookie value into a JavaScript string.\n   *\n   * The default function is the global `decodeURIComponent`, wrapped in a `try..catch`. If an error\n   * is thrown it will return the cookie's original value. If you provide your own encode/decode\n   * scheme you must ensure errors are appropriately handled.\n   *\n   * @default decode\n   */\n  decode?: (str: string) => string | undefined;\n}\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n */\nexport function parse(\n  str: string,\n  options?: ParseOptions,\n): Record<string, string | undefined> {\n  const obj: Record<string, string | undefined> = new NullObject();\n  const len = str.length;\n  // RFC 6265 sec 4.1.1, RFC 2616 2.2 defines a cookie name consists of one char minimum, plus '='.\n  if (len < 2) return obj;\n\n  const dec = options?.decode || decode;\n  let index = 0;\n\n  do {\n    const eqIdx = str.indexOf(\"=\", index);\n    if (eqIdx === -1) break; // No more cookie pairs.\n\n    const colonIdx = str.indexOf(\";\", index);\n    const endIdx = colonIdx === -1 ? len : colonIdx;\n\n    if (eqIdx > endIdx) {\n      // backtrack on prior semicolon\n      index = str.lastIndexOf(\";\", eqIdx - 1) + 1;\n      continue;\n    }\n\n    const keyStartIdx = startIndex(str, index, eqIdx);\n    const keyEndIdx = endIndex(str, eqIdx, keyStartIdx);\n    const key = str.slice(keyStartIdx, keyEndIdx);\n\n    // only assign once\n    if (obj[key] === undefined) {\n      let valStartIdx = startIndex(str, eqIdx + 1, endIdx);\n      let valEndIdx = endIndex(str, endIdx, valStartIdx);\n\n      const value = dec(str.slice(valStartIdx, valEndIdx));\n      obj[key] = value;\n    }\n\n    index = endIdx + 1;\n  } while (index < len);\n\n  return obj;\n}\n\nfunction startIndex(str: string, index: number, max: number) {\n  do {\n    const code = str.charCodeAt(index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index;\n  } while (++index < max);\n  return max;\n}\n\nfunction endIndex(str: string, index: number, min: number) {\n  while (index > min) {\n    const code = str.charCodeAt(--index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index + 1;\n  }\n  return min;\n}\n\n/**\n * Serialize options.\n */\nexport interface SerializeOptions {\n  /**\n   * Specifies a function that will be used to encode a [cookie-value](https://datatracker.ietf.org/doc/html/rfc6265#section-4.1.1).\n   * Since value of a cookie has a limited character set (and must be a simple string), this function can be used to encode\n   * a value into a string suited for a cookie's value, and should mirror `decode` when parsing.\n   *\n   * @default encodeURIComponent\n   */\n  encode?: (str: string) => string;\n  /**\n   * Specifies the `number` (in seconds) to be the value for the [`Max-Age` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.2).\n   *\n   * The [cookie storage model specification](https://tools.ietf.org/html/rfc6265#section-5.3) states that if both `expires` and\n   * `maxAge` are set, then `maxAge` takes precedence, but it is possible not all clients by obey this,\n   * so if both are set, they should point to the same date and time.\n   */\n  maxAge?: number;\n  /**\n   * Specifies the `Date` object to be the value for the [`Expires` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.1).\n   * When no expiration is set clients consider this a \"non-persistent cookie\" and delete it the current session is over.\n   *\n   * The [cookie storage model specification](https://tools.ietf.org/html/rfc6265#section-5.3) states that if both `expires` and\n   * `maxAge` are set, then `maxAge` takes precedence, but it is possible not all clients by obey this,\n   * so if both are set, they should point to the same date and time.\n   */\n  expires?: Date;\n  /**\n   * Specifies the value for the [`Domain` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.3).\n   * When no domain is set clients consider the cookie to apply to the current domain only.\n   */\n  domain?: string;\n  /**\n   * Specifies the value for the [`Path` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.4).\n   * When no path is set, the path is considered the [\"default path\"](https://tools.ietf.org/html/rfc6265#section-5.1.4).\n   */\n  path?: string;\n  /**\n   * Enables the [`HttpOnly` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.6).\n   * When enabled, clients will not allow client-side JavaScript to see the cookie in `document.cookie`.\n   */\n  httpOnly?: boolean;\n  /**\n   * Enables the [`Secure` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.5).\n   * When enabled, clients will only send the cookie back if the browser has a HTTPS connection.\n   */\n  secure?: boolean;\n  /**\n   * Enables the [`Partitioned` `Set-Cookie` attribute](https://tools.ietf.org/html/draft-cutler-httpbis-partitioned-cookies/).\n   * When enabled, clients will only send the cookie back when the current domain _and_ top-level domain matches.\n   *\n   * This is an attribute that has not yet been fully standardized, and may change in the future.\n   * This also means clients may ignore this attribute until they understand it. More information\n   * about can be found in [the proposal](https://github.com/privacycg/CHIPS).\n   */\n  partitioned?: boolean;\n  /**\n   * Specifies the value for the [`Priority` `Set-Cookie` attribute](https://tools.ietf.org/html/draft-west-cookie-priority-00#section-4.1).\n   *\n   * - `'low'` will set the `Priority` attribute to `Low`.\n   * - `'medium'` will set the `Priority` attribute to `Medium`, the default priority when not set.\n   * - `'high'` will set the `Priority` attribute to `High`.\n   *\n   * More information about priority levels can be found in [the specification](https://tools.ietf.org/html/draft-west-cookie-priority-00#section-4.1).\n   */\n  priority?: \"low\" | \"medium\" | \"high\";\n  /**\n   * Specifies the value for the [`SameSite` `Set-Cookie` attribute](https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-09#section-5.4.7).\n   *\n   * - `true` will set the `SameSite` attribute to `Strict` for strict same site enforcement.\n   * - `'lax'` will set the `SameSite` attribute to `Lax` for lax same site enforcement.\n   * - `'none'` will set the `SameSite` attribute to `None` for an explicit cross-site cookie.\n   * - `'strict'` will set the `SameSite` attribute to `Strict` for strict same site enforcement.\n   *\n   * More information about enforcement levels can be found in [the specification](https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-09#section-5.4.7).\n   */\n  sameSite?: boolean | \"lax\" | \"strict\" | \"none\";\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize a name value pair into a cookie string suitable for\n * http headers. An optional options object specifies cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n */\nexport function serialize(\n  name: string,\n  val: string,\n  options?: SerializeOptions,\n): string {\n  const enc = options?.encode || encodeURIComponent;\n\n  if (!cookieNameRegExp.test(name)) {\n    throw new TypeError(`argument name is invalid: ${name}`);\n  }\n\n  const value = enc(val);\n\n  if (!cookieValueRegExp.test(value)) {\n    throw new TypeError(`argument val is invalid: ${val}`);\n  }\n\n  let str = name + \"=\" + value;\n  if (!options) return str;\n\n  if (options.maxAge !== undefined) {\n    if (!Number.isInteger(options.maxAge)) {\n      throw new TypeError(`option maxAge is invalid: ${options.maxAge}`);\n    }\n\n    str += \"; Max-Age=\" + options.maxAge;\n  }\n\n  if (options.domain) {\n    if (!domainValueRegExp.test(options.domain)) {\n      throw new TypeError(`option domain is invalid: ${options.domain}`);\n    }\n\n    str += \"; Domain=\" + options.domain;\n  }\n\n  if (options.path) {\n    if (!pathValueRegExp.test(options.path)) {\n      throw new TypeError(`option path is invalid: ${options.path}`);\n    }\n\n    str += \"; Path=\" + options.path;\n  }\n\n  if (options.expires) {\n    if (\n      !isDate(options.expires) ||\n      !Number.isFinite(options.expires.valueOf())\n    ) {\n      throw new TypeError(`option expires is invalid: ${options.expires}`);\n    }\n\n    str += \"; Expires=\" + options.expires.toUTCString();\n  }\n\n  if (options.httpOnly) {\n    str += \"; HttpOnly\";\n  }\n\n  if (options.secure) {\n    str += \"; Secure\";\n  }\n\n  if (options.partitioned) {\n    str += \"; Partitioned\";\n  }\n\n  if (options.priority) {\n    const priority =\n      typeof options.priority === \"string\"\n        ? options.priority.toLowerCase()\n        : undefined;\n    switch (priority) {\n      case \"low\":\n        str += \"; Priority=Low\";\n        break;\n      case \"medium\":\n        str += \"; Priority=Medium\";\n        break;\n      case \"high\":\n        str += \"; Priority=High\";\n        break;\n      default:\n        throw new TypeError(`option priority is invalid: ${options.priority}`);\n    }\n  }\n\n  if (options.sameSite) {\n    const sameSite =\n      typeof options.sameSite === \"string\"\n        ? options.sameSite.toLowerCase()\n        : options.sameSite;\n    switch (sameSite) {\n      case true:\n      case \"strict\":\n        str += \"; SameSite=Strict\";\n        break;\n      case \"lax\":\n        str += \"; SameSite=Lax\";\n        break;\n      case \"none\":\n        str += \"; SameSite=None\";\n        break;\n      default:\n        throw new TypeError(`option sameSite is invalid: ${options.sameSite}`);\n    }\n  }\n\n  return str;\n}\n\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n */\nfunction decode(str: string): string {\n  if (str.indexOf(\"%\") === -1) return str;\n\n  try {\n    return decodeURIComponent(str);\n  } catch (e) {\n    return str;\n  }\n}\n\n/**\n * Determine if value is a Date.\n */\nfunction isDate(val: any): val is Date {\n  return __toString.call(val) === \"[object Date]\";\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom-client.production.js');\n} else {\n  module.exports = require('./cjs/react-dom-client.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * react-dom.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction noop() {}\nvar Internals = {\n    d: {\n      f: noop,\n      r: function () {\n        throw Error(formatProdErrorMessage(522));\n      },\n      D: noop,\n      C: noop,\n      L: noop,\n      m: noop,\n      X: noop,\n      S: noop,\n      M: noop\n    },\n    p: 0,\n    findDOMNode: null\n  },\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\");\nfunction createPortal$1(children, containerInfo, implementation) {\n  var key =\n    3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;\n  return {\n    $$typeof: REACT_PORTAL_TYPE,\n    key: null == key ? null : \"\" + key,\n    children: children,\n    containerInfo: containerInfo,\n    implementation: implementation\n  };\n}\nvar ReactSharedInternals =\n  React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;\nfunction getCrossOriginStringAs(as, input) {\n  if (\"font\" === as) return \"\";\n  if (\"string\" === typeof input)\n    return \"use-credentials\" === input ? input : \"\";\n}\nexports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  Internals;\nexports.createPortal = function (children, container) {\n  var key =\n    2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;\n  if (\n    !container ||\n    (1 !== container.nodeType &&\n      9 !== container.nodeType &&\n      11 !== container.nodeType)\n  )\n    throw Error(formatProdErrorMessage(299));\n  return createPortal$1(children, container, null, key);\n};\nexports.flushSync = function (fn) {\n  var previousTransition = ReactSharedInternals.T,\n    previousUpdatePriority = Internals.p;\n  try {\n    if (((ReactSharedInternals.T = null), (Internals.p = 2), fn)) return fn();\n  } finally {\n    (ReactSharedInternals.T = previousTransition),\n      (Internals.p = previousUpdatePriority),\n      Internals.d.f();\n  }\n};\nexports.preconnect = function (href, options) {\n  \"string\" === typeof href &&\n    (options\n      ? ((options = options.crossOrigin),\n        (options =\n          \"string\" === typeof options\n            ? \"use-credentials\" === options\n              ? options\n              : \"\"\n            : void 0))\n      : (options = null),\n    Internals.d.C(href, options));\n};\nexports.prefetchDNS = function (href) {\n  \"string\" === typeof href && Internals.d.D(href);\n};\nexports.preinit = function (href, options) {\n  if (\"string\" === typeof href && options && \"string\" === typeof options.as) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin),\n      integrity =\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      fetchPriority =\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0;\n    \"style\" === as\n      ? Internals.d.S(\n          href,\n          \"string\" === typeof options.precedence ? options.precedence : void 0,\n          {\n            crossOrigin: crossOrigin,\n            integrity: integrity,\n            fetchPriority: fetchPriority\n          }\n        )\n      : \"script\" === as &&\n        Internals.d.X(href, {\n          crossOrigin: crossOrigin,\n          integrity: integrity,\n          fetchPriority: fetchPriority,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n  }\n};\nexports.preinitModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (\"object\" === typeof options && null !== options) {\n      if (null == options.as || \"script\" === options.as) {\n        var crossOrigin = getCrossOriginStringAs(\n          options.as,\n          options.crossOrigin\n        );\n        Internals.d.M(href, {\n          crossOrigin: crossOrigin,\n          integrity:\n            \"string\" === typeof options.integrity ? options.integrity : void 0,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n      }\n    } else null == options && Internals.d.M(href);\n};\nexports.preload = function (href, options) {\n  if (\n    \"string\" === typeof href &&\n    \"object\" === typeof options &&\n    null !== options &&\n    \"string\" === typeof options.as\n  ) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin);\n    Internals.d.L(href, as, {\n      crossOrigin: crossOrigin,\n      integrity:\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      nonce: \"string\" === typeof options.nonce ? options.nonce : void 0,\n      type: \"string\" === typeof options.type ? options.type : void 0,\n      fetchPriority:\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0,\n      referrerPolicy:\n        \"string\" === typeof options.referrerPolicy\n          ? options.referrerPolicy\n          : void 0,\n      imageSrcSet:\n        \"string\" === typeof options.imageSrcSet ? options.imageSrcSet : void 0,\n      imageSizes:\n        \"string\" === typeof options.imageSizes ? options.imageSizes : void 0,\n      media: \"string\" === typeof options.media ? options.media : void 0\n    });\n  }\n};\nexports.preloadModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (options) {\n      var crossOrigin = getCrossOriginStringAs(options.as, options.crossOrigin);\n      Internals.d.m(href, {\n        as:\n          \"string\" === typeof options.as && \"script\" !== options.as\n            ? options.as\n            : void 0,\n        crossOrigin: crossOrigin,\n        integrity:\n          \"string\" === typeof options.integrity ? options.integrity : void 0\n      });\n    } else Internals.d.m(href);\n};\nexports.requestFormReset = function (form) {\n  Internals.d.r(form);\n};\nexports.unstable_batchedUpdates = function (fn, a) {\n  return fn(a);\n};\nexports.useFormState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useFormState(action, initialState, permalink);\n};\nexports.useFormStatus = function () {\n  return ReactSharedInternals.H.useHostTransitionStatus();\n};\nexports.version = \"19.0.0\";\n","/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/**\n * @license React\n * scheduler.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nfunction push(heap, node) {\n  var index = heap.length;\n  heap.push(node);\n  a: for (; 0 < index; ) {\n    var parentIndex = (index - 1) >>> 1,\n      parent = heap[parentIndex];\n    if (0 < compare(parent, node))\n      (heap[parentIndex] = node), (heap[index] = parent), (index = parentIndex);\n    else break a;\n  }\n}\nfunction peek(heap) {\n  return 0 === heap.length ? null : heap[0];\n}\nfunction pop(heap) {\n  if (0 === heap.length) return null;\n  var first = heap[0],\n    last = heap.pop();\n  if (last !== first) {\n    heap[0] = last;\n    a: for (\n      var index = 0, length = heap.length, halfLength = length >>> 1;\n      index < halfLength;\n\n    ) {\n      var leftIndex = 2 * (index + 1) - 1,\n        left = heap[leftIndex],\n        rightIndex = leftIndex + 1,\n        right = heap[rightIndex];\n      if (0 > compare(left, last))\n        rightIndex < length && 0 > compare(right, left)\n          ? ((heap[index] = right),\n            (heap[rightIndex] = last),\n            (index = rightIndex))\n          : ((heap[index] = left),\n            (heap[leftIndex] = last),\n            (index = leftIndex));\n      else if (rightIndex < length && 0 > compare(right, last))\n        (heap[index] = right), (heap[rightIndex] = last), (index = rightIndex);\n      else break a;\n    }\n  }\n  return first;\n}\nfunction compare(a, b) {\n  var diff = a.sortIndex - b.sortIndex;\n  return 0 !== diff ? diff : a.id - b.id;\n}\nexports.unstable_now = void 0;\nif (\"object\" === typeof performance && \"function\" === typeof performance.now) {\n  var localPerformance = performance;\n  exports.unstable_now = function () {\n    return localPerformance.now();\n  };\n} else {\n  var localDate = Date,\n    initialTime = localDate.now();\n  exports.unstable_now = function () {\n    return localDate.now() - initialTime;\n  };\n}\nvar taskQueue = [],\n  timerQueue = [],\n  taskIdCounter = 1,\n  currentTask = null,\n  currentPriorityLevel = 3,\n  isPerformingWork = !1,\n  isHostCallbackScheduled = !1,\n  isHostTimeoutScheduled = !1,\n  localSetTimeout = \"function\" === typeof setTimeout ? setTimeout : null,\n  localClearTimeout = \"function\" === typeof clearTimeout ? clearTimeout : null,\n  localSetImmediate = \"undefined\" !== typeof setImmediate ? setImmediate : null;\nfunction advanceTimers(currentTime) {\n  for (var timer = peek(timerQueue); null !== timer; ) {\n    if (null === timer.callback) pop(timerQueue);\n    else if (timer.startTime <= currentTime)\n      pop(timerQueue),\n        (timer.sortIndex = timer.expirationTime),\n        push(taskQueue, timer);\n    else break;\n    timer = peek(timerQueue);\n  }\n}\nfunction handleTimeout(currentTime) {\n  isHostTimeoutScheduled = !1;\n  advanceTimers(currentTime);\n  if (!isHostCallbackScheduled)\n    if (null !== peek(taskQueue))\n      (isHostCallbackScheduled = !0), requestHostCallback();\n    else {\n      var firstTimer = peek(timerQueue);\n      null !== firstTimer &&\n        requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);\n    }\n}\nvar isMessageLoopRunning = !1,\n  taskTimeoutID = -1,\n  frameInterval = 5,\n  startTime = -1;\nfunction shouldYieldToHost() {\n  return exports.unstable_now() - startTime < frameInterval ? !1 : !0;\n}\nfunction performWorkUntilDeadline() {\n  if (isMessageLoopRunning) {\n    var currentTime = exports.unstable_now();\n    startTime = currentTime;\n    var hasMoreWork = !0;\n    try {\n      a: {\n        isHostCallbackScheduled = !1;\n        isHostTimeoutScheduled &&\n          ((isHostTimeoutScheduled = !1),\n          localClearTimeout(taskTimeoutID),\n          (taskTimeoutID = -1));\n        isPerformingWork = !0;\n        var previousPriorityLevel = currentPriorityLevel;\n        try {\n          b: {\n            advanceTimers(currentTime);\n            for (\n              currentTask = peek(taskQueue);\n              null !== currentTask &&\n              !(\n                currentTask.expirationTime > currentTime && shouldYieldToHost()\n              );\n\n            ) {\n              var callback = currentTask.callback;\n              if (\"function\" === typeof callback) {\n                currentTask.callback = null;\n                currentPriorityLevel = currentTask.priorityLevel;\n                var continuationCallback = callback(\n                  currentTask.expirationTime <= currentTime\n                );\n                currentTime = exports.unstable_now();\n                if (\"function\" === typeof continuationCallback) {\n                  currentTask.callback = continuationCallback;\n                  advanceTimers(currentTime);\n                  hasMoreWork = !0;\n                  break b;\n                }\n                currentTask === peek(taskQueue) && pop(taskQueue);\n                advanceTimers(currentTime);\n              } else pop(taskQueue);\n              currentTask = peek(taskQueue);\n            }\n            if (null !== currentTask) hasMoreWork = !0;\n            else {\n              var firstTimer = peek(timerQueue);\n              null !== firstTimer &&\n                requestHostTimeout(\n                  handleTimeout,\n                  firstTimer.startTime - currentTime\n                );\n              hasMoreWork = !1;\n            }\n          }\n          break a;\n        } finally {\n          (currentTask = null),\n            (currentPriorityLevel = previousPriorityLevel),\n            (isPerformingWork = !1);\n        }\n        hasMoreWork = void 0;\n      }\n    } finally {\n      hasMoreWork\n        ? schedulePerformWorkUntilDeadline()\n        : (isMessageLoopRunning = !1);\n    }\n  }\n}\nvar schedulePerformWorkUntilDeadline;\nif (\"function\" === typeof localSetImmediate)\n  schedulePerformWorkUntilDeadline = function () {\n    localSetImmediate(performWorkUntilDeadline);\n  };\nelse if (\"undefined\" !== typeof MessageChannel) {\n  var channel = new MessageChannel(),\n    port = channel.port2;\n  channel.port1.onmessage = performWorkUntilDeadline;\n  schedulePerformWorkUntilDeadline = function () {\n    port.postMessage(null);\n  };\n} else\n  schedulePerformWorkUntilDeadline = function () {\n    localSetTimeout(performWorkUntilDeadline, 0);\n  };\nfunction requestHostCallback() {\n  isMessageLoopRunning ||\n    ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline());\n}\nfunction requestHostTimeout(callback, ms) {\n  taskTimeoutID = localSetTimeout(function () {\n    callback(exports.unstable_now());\n  }, ms);\n}\nexports.unstable_IdlePriority = 5;\nexports.unstable_ImmediatePriority = 1;\nexports.unstable_LowPriority = 4;\nexports.unstable_NormalPriority = 3;\nexports.unstable_Profiling = null;\nexports.unstable_UserBlockingPriority = 2;\nexports.unstable_cancelCallback = function (task) {\n  task.callback = null;\n};\nexports.unstable_continueExecution = function () {\n  isHostCallbackScheduled ||\n    isPerformingWork ||\n    ((isHostCallbackScheduled = !0), requestHostCallback());\n};\nexports.unstable_forceFrameRate = function (fps) {\n  0 > fps || 125 < fps\n    ? console.error(\n        \"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"\n      )\n    : (frameInterval = 0 < fps ? Math.floor(1e3 / fps) : 5);\n};\nexports.unstable_getCurrentPriorityLevel = function () {\n  return currentPriorityLevel;\n};\nexports.unstable_getFirstCallbackNode = function () {\n  return peek(taskQueue);\n};\nexports.unstable_next = function (eventHandler) {\n  switch (currentPriorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n      var priorityLevel = 3;\n      break;\n    default:\n      priorityLevel = currentPriorityLevel;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_pauseExecution = function () {};\nexports.unstable_requestPaint = function () {};\nexports.unstable_runWithPriority = function (priorityLevel, eventHandler) {\n  switch (priorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    case 5:\n      break;\n    default:\n      priorityLevel = 3;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_scheduleCallback = function (\n  priorityLevel,\n  callback,\n  options\n) {\n  var currentTime = exports.unstable_now();\n  \"object\" === typeof options && null !== options\n    ? ((options = options.delay),\n      (options =\n        \"number\" === typeof options && 0 < options\n          ? currentTime + options\n          : currentTime))\n    : (options = currentTime);\n  switch (priorityLevel) {\n    case 1:\n      var timeout = -1;\n      break;\n    case 2:\n      timeout = 250;\n      break;\n    case 5:\n      timeout = 1073741823;\n      break;\n    case 4:\n      timeout = 1e4;\n      break;\n    default:\n      timeout = 5e3;\n  }\n  timeout = options + timeout;\n  priorityLevel = {\n    id: taskIdCounter++,\n    callback: callback,\n    priorityLevel: priorityLevel,\n    startTime: options,\n    expirationTime: timeout,\n    sortIndex: -1\n  };\n  options > currentTime\n    ? ((priorityLevel.sortIndex = options),\n      push(timerQueue, priorityLevel),\n      null === peek(taskQueue) &&\n        priorityLevel === peek(timerQueue) &&\n        (isHostTimeoutScheduled\n          ? (localClearTimeout(taskTimeoutID), (taskTimeoutID = -1))\n          : (isHostTimeoutScheduled = !0),\n        requestHostTimeout(handleTimeout, options - currentTime)))\n    : ((priorityLevel.sortIndex = timeout),\n      push(taskQueue, priorityLevel),\n      isHostCallbackScheduled ||\n        isPerformingWork ||\n        ((isHostCallbackScheduled = !0), requestHostCallback()));\n  return priorityLevel;\n};\nexports.unstable_shouldYield = shouldYieldToHost;\nexports.unstable_wrapCallback = function (callback) {\n  var parentPriorityLevel = currentPriorityLevel;\n  return function () {\n    var previousPriorityLevel = currentPriorityLevel;\n    currentPriorityLevel = parentPriorityLevel;\n    try {\n      return callback.apply(this, arguments);\n    } finally {\n      currentPriorityLevel = previousPriorityLevel;\n    }\n  };\n};\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * react-router v7.3.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n\n// lib/router/history.ts\nvar Action = /* @__PURE__ */ ((Action2) => {\n  Action2[\"Pop\"] = \"POP\";\n  Action2[\"Push\"] = \"PUSH\";\n  Action2[\"Replace\"] = \"REPLACE\";\n  return Action2;\n})(Action || {});\nvar PopStateEventType = \"popstate\";\nfunction createMemoryHistory(options = {}) {\n  let { initialEntries = [\"/\"], initialIndex, v5Compat = false } = options;\n  let entries;\n  entries = initialEntries.map(\n    (entry, index2) => createMemoryLocation(\n      entry,\n      typeof entry === \"string\" ? null : entry.state,\n      index2 === 0 ? \"default\" : void 0\n    )\n  );\n  let index = clampIndex(\n    initialIndex == null ? entries.length - 1 : initialIndex\n  );\n  let action = \"POP\" /* Pop */;\n  let listener = null;\n  function clampIndex(n) {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation() {\n    return entries[index];\n  }\n  function createMemoryLocation(to, state = null, key) {\n    let location = createLocation(\n      entries ? getCurrentLocation().pathname : \"/\",\n      to,\n      state,\n      key\n    );\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in memory history: ${JSON.stringify(\n        to\n      )}`\n    );\n    return location;\n  }\n  function createHref2(to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  let history = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref: createHref2,\n    createURL(to) {\n      return new URL(createHref2(to), \"http://localhost\");\n    },\n    encodeLocation(to) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\"\n      };\n    },\n    push(to, state) {\n      action = \"PUSH\" /* Push */;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 1 });\n      }\n    },\n    replace(to, state) {\n      action = \"REPLACE\" /* Replace */;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 0 });\n      }\n    },\n    go(delta) {\n      action = \"POP\" /* Pop */;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({ action, location: nextLocation, delta });\n      }\n    },\n    listen(fn) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    }\n  };\n  return history;\n}\nfunction createBrowserHistory(options = {}) {\n  function createBrowserLocation(window2, globalHistory) {\n    let { pathname, search, hash } = window2.location;\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      globalHistory.state && globalHistory.state.usr || null,\n      globalHistory.state && globalHistory.state.key || \"default\"\n    );\n  }\n  function createBrowserHref(window2, to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  return getUrlBasedHistory(\n    createBrowserLocation,\n    createBrowserHref,\n    null,\n    options\n  );\n}\nfunction createHashHistory(options = {}) {\n  function createHashLocation(window2, globalHistory) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\"\n    } = parsePath(window2.location.hash.substring(1));\n    if (!pathname.startsWith(\"/\") && !pathname.startsWith(\".\")) {\n      pathname = \"/\" + pathname;\n    }\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      globalHistory.state && globalHistory.state.usr || null,\n      globalHistory.state && globalHistory.state.key || \"default\"\n    );\n  }\n  function createHashHref(window2, to) {\n    let base = window2.document.querySelector(\"base\");\n    let href2 = \"\";\n    if (base && base.getAttribute(\"href\")) {\n      let url = window2.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href2 = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n    return href2 + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n  function validateHashLocation(location, to) {\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in hash history.push(${JSON.stringify(\n        to\n      )})`\n    );\n  }\n  return getUrlBasedHistory(\n    createHashLocation,\n    createHashHref,\n    validateHashLocation,\n    options\n  );\n}\nfunction invariant(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\nfunction warning(cond, message) {\n  if (!cond) {\n    if (typeof console !== \"undefined\") console.warn(message);\n    try {\n      throw new Error(message);\n    } catch (e) {\n    }\n  }\n}\nfunction createKey() {\n  return Math.random().toString(36).substring(2, 10);\n}\nfunction getHistoryState(location, index) {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index\n  };\n}\nfunction createLocation(current, to, state = null, key) {\n  let location = {\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\",\n    ...typeof to === \"string\" ? parsePath(to) : to,\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: to && to.key || key || createKey()\n  };\n  return location;\n}\nfunction createPath({\n  pathname = \"/\",\n  search = \"\",\n  hash = \"\"\n}) {\n  if (search && search !== \"?\")\n    pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\")\n    pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\nfunction parsePath(path) {\n  let parsedPath = {};\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substring(hashIndex);\n      path = path.substring(0, hashIndex);\n    }\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substring(searchIndex);\n      path = path.substring(0, searchIndex);\n    }\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n  return parsedPath;\n}\nfunction getUrlBasedHistory(getLocation, createHref2, validateLocation, options = {}) {\n  let { window: window2 = document.defaultView, v5Compat = false } = options;\n  let globalHistory = window2.history;\n  let action = \"POP\" /* Pop */;\n  let listener = null;\n  let index = getIndex();\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState({ ...globalHistory.state, idx: index }, \"\");\n  }\n  function getIndex() {\n    let state = globalHistory.state || { idx: null };\n    return state.idx;\n  }\n  function handlePop() {\n    action = \"POP\" /* Pop */;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({ action, location: history.location, delta });\n    }\n  }\n  function push(to, state) {\n    action = \"PUSH\" /* Push */;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      if (error instanceof DOMException && error.name === \"DataCloneError\") {\n        throw error;\n      }\n      window2.location.assign(url);\n    }\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 1 });\n    }\n  }\n  function replace2(to, state) {\n    action = \"REPLACE\" /* Replace */;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 0 });\n    }\n  }\n  function createURL(to) {\n    let base = window2.location.origin !== \"null\" ? window2.location.origin : window2.location.href;\n    let href2 = typeof to === \"string\" ? to : createPath(to);\n    href2 = href2.replace(/ $/, \"%20\");\n    invariant(\n      base,\n      `No window.location.(origin|href) available to create URL for href: ${href2}`\n    );\n    return new URL(href2, base);\n  }\n  let history = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window2, globalHistory);\n    },\n    listen(fn) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window2.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n      return () => {\n        window2.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref2(window2, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash\n      };\n    },\n    push,\n    replace: replace2,\n    go(n) {\n      return globalHistory.go(n);\n    }\n  };\n  return history;\n}\n\n// lib/router/utils.ts\nfunction unstable_createContext(defaultValue) {\n  return { defaultValue };\n}\nvar _map;\nvar unstable_RouterContextProvider = class {\n  constructor(init) {\n    __privateAdd(this, _map, /* @__PURE__ */ new Map());\n    if (init) {\n      for (let [context, value] of init) {\n        this.set(context, value);\n      }\n    }\n  }\n  get(context) {\n    if (__privateGet(this, _map).has(context)) {\n      return __privateGet(this, _map).get(context);\n    }\n    if (context.defaultValue !== void 0) {\n      return context.defaultValue;\n    }\n    throw new Error(\"No value found for context\");\n  }\n  set(context, value) {\n    __privateGet(this, _map).set(context, value);\n  }\n};\n_map = new WeakMap();\nvar immutableRouteKeys = /* @__PURE__ */ new Set([\n  \"lazy\",\n  \"caseSensitive\",\n  \"path\",\n  \"id\",\n  \"index\",\n  \"children\"\n]);\nfunction isIndexRoute(route) {\n  return route.index === true;\n}\nfunction convertRoutesToDataRoutes(routes, mapRouteProperties2, parentPath = [], manifest = {}) {\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, String(index)];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(\n      route.index !== true || !route.children,\n      `Cannot specify children on an index route`\n    );\n    invariant(\n      !manifest[id],\n      `Found a route id collision on id \"${id}\".  Route id's must be globally unique within Data Router usages`\n    );\n    if (isIndexRoute(route)) {\n      let indexRoute = {\n        ...route,\n        ...mapRouteProperties2(route),\n        id\n      };\n      manifest[id] = indexRoute;\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute = {\n        ...route,\n        ...mapRouteProperties2(route),\n        id,\n        children: void 0\n      };\n      manifest[id] = pathOrLayoutRoute;\n      if (route.children) {\n        pathOrLayoutRoute.children = convertRoutesToDataRoutes(\n          route.children,\n          mapRouteProperties2,\n          treePath,\n          manifest\n        );\n      }\n      return pathOrLayoutRoute;\n    }\n  });\n}\nfunction matchRoutes(routes, locationArg, basename = \"/\") {\n  return matchRoutesImpl(routes, locationArg, basename, false);\n}\nfunction matchRoutesImpl(routes, locationArg, basename, allowPartial) {\n  let location = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n  if (pathname == null) {\n    return null;\n  }\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    let decoded = decodePath(pathname);\n    matches = matchRouteBranch(\n      branches[i],\n      decoded,\n      allowPartial\n    );\n  }\n  return matches;\n}\nfunction convertRouteMatchToUiMatch(match, loaderData) {\n  let { route, pathname, params } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id],\n    handle: route.handle\n  };\n}\nfunction flattenRoutes(routes, branches = [], parentsMeta = [], parentPath = \"\") {\n  let flattenRoute = (route, index, relativePath) => {\n    let meta = {\n      relativePath: relativePath === void 0 ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route\n    };\n    if (meta.relativePath.startsWith(\"/\")) {\n      invariant(\n        meta.relativePath.startsWith(parentPath),\n        `Absolute route path \"${meta.relativePath}\" nested under path \"${parentPath}\" is not valid. An absolute child route path must start with the combined path of all its parent routes.`\n      );\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n    if (route.children && route.children.length > 0) {\n      invariant(\n        // Our types know better, but runtime JS may not!\n        // @ts-expect-error\n        route.index !== true,\n        `Index routes must not have child routes. Please remove all child routes from route path \"${path}\".`\n      );\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n    if (route.path == null && !route.index) {\n      return;\n    }\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta\n    });\n  };\n  routes.forEach((route, index) => {\n    if (route.path === \"\" || !route.path?.includes(\"?\")) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, exploded);\n      }\n    }\n  });\n  return branches;\n}\nfunction explodeOptionalSegments(path) {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n  let [first, ...rest] = segments;\n  let isOptional = first.endsWith(\"?\");\n  let required = first.replace(/\\?$/, \"\");\n  if (rest.length === 0) {\n    return isOptional ? [required, \"\"] : [required];\n  }\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n  let result = [];\n  result.push(\n    ...restExploded.map(\n      (subpath) => subpath === \"\" ? required : [required, subpath].join(\"/\")\n    )\n  );\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n  return result.map(\n    (exploded) => path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded\n  );\n}\nfunction rankRouteBranches(branches) {\n  branches.sort(\n    (a, b) => a.score !== b.score ? b.score - a.score : compareIndexes(\n      a.routesMeta.map((meta) => meta.childrenIndex),\n      b.routesMeta.map((meta) => meta.childrenIndex)\n    )\n  );\n}\nvar paramRe = /^:[\\w-]+$/;\nvar dynamicSegmentValue = 3;\nvar indexRouteValue = 2;\nvar emptySegmentValue = 1;\nvar staticSegmentValue = 10;\nvar splatPenalty = -2;\nvar isSplat = (s) => s === \"*\";\nfunction computeScore(path, index) {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n  return segments.filter((s) => !isSplat(s)).reduce(\n    (score, segment) => score + (paramRe.test(segment) ? dynamicSegmentValue : segment === \"\" ? emptySegmentValue : staticSegmentValue),\n    initialScore\n  );\n}\nfunction compareIndexes(a, b) {\n  let siblings = a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n  return siblings ? (\n    // If two routes are siblings, we should try to match the earlier sibling\n    // first. This allows people to have fine-grained control over the matching\n    // behavior by simply putting routes with identical paths in the order they\n    // want them tried.\n    a[a.length - 1] - b[b.length - 1]\n  ) : (\n    // Otherwise, it doesn't really make sense to rank non-siblings by index,\n    // so they sort equally.\n    0\n  );\n}\nfunction matchRouteBranch(branch, pathname, allowPartial = false) {\n  let { routesMeta } = branch;\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname = matchedPathname === \"/\" ? pathname : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath(\n      { path: meta.relativePath, caseSensitive: meta.caseSensitive, end },\n      remainingPathname\n    );\n    let route = meta.route;\n    if (!match && end && allowPartial && !routesMeta[routesMeta.length - 1].route.index) {\n      match = matchPath(\n        {\n          path: meta.relativePath,\n          caseSensitive: meta.caseSensitive,\n          end: false\n        },\n        remainingPathname\n      );\n    }\n    if (!match) {\n      return null;\n    }\n    Object.assign(matchedParams, match.params);\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(\n        joinPaths([matchedPathname, match.pathnameBase])\n      ),\n      route\n    });\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n  return matches;\n}\nfunction generatePath(originalPath, params = {}) {\n  let path = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(\n      false,\n      `Route path \"${path}\" will be treated as if it were \"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must always follow a \\`/\\` in the pattern. To get rid of this warning, please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n    );\n    path = path.replace(/\\*$/, \"/*\");\n  }\n  const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n  const stringify = (p) => p == null ? \"\" : typeof p === \"string\" ? p : String(p);\n  const segments = path.split(/\\/+/).map((segment, index, array) => {\n    const isLastSegment = index === array.length - 1;\n    if (isLastSegment && segment === \"*\") {\n      const star = \"*\";\n      return stringify(params[star]);\n    }\n    const keyMatch = segment.match(/^:([\\w-]+)(\\??)$/);\n    if (keyMatch) {\n      const [, key, optional] = keyMatch;\n      let param = params[key];\n      invariant(optional === \"?\" || param != null, `Missing \":${key}\" param`);\n      return stringify(param);\n    }\n    return segment.replace(/\\?$/g, \"\");\n  }).filter((segment) => !!segment);\n  return prefix + segments.join(\"/\");\n}\nfunction matchPath(pattern, pathname) {\n  if (typeof pattern === \"string\") {\n    pattern = { path: pattern, caseSensitive: false, end: true };\n  }\n  let [matcher, compiledParams] = compilePath(\n    pattern.path,\n    pattern.caseSensitive,\n    pattern.end\n  );\n  let match = pathname.match(matcher);\n  if (!match) return null;\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params = compiledParams.reduce(\n    (memo2, { paramName, isOptional }, index) => {\n      if (paramName === \"*\") {\n        let splatValue = captureGroups[index] || \"\";\n        pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\\/+$/, \"$1\");\n      }\n      const value = captureGroups[index];\n      if (isOptional && !value) {\n        memo2[paramName] = void 0;\n      } else {\n        memo2[paramName] = (value || \"\").replace(/%2F/g, \"/\");\n      }\n      return memo2;\n    },\n    {}\n  );\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern\n  };\n}\nfunction compilePath(path, caseSensitive = false, end = true) {\n  warning(\n    path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"),\n    `Route path \"${path}\" will be treated as if it were \"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must always follow a \\`/\\` in the pattern. To get rid of this warning, please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n  );\n  let params = [];\n  let regexpSource = \"^\" + path.replace(/\\/*\\*?$/, \"\").replace(/^\\/*/, \"/\").replace(/[\\\\.*+^${}|()[\\]]/g, \"\\\\$&\").replace(\n    /\\/:([\\w-]+)(\\?)?/g,\n    (_, paramName, isOptional) => {\n      params.push({ paramName, isOptional: isOptional != null });\n      return isOptional ? \"/?([^\\\\/]+)?\" : \"/([^\\\\/]+)\";\n    }\n  );\n  if (path.endsWith(\"*\")) {\n    params.push({ paramName: \"*\" });\n    regexpSource += path === \"*\" || path === \"/*\" ? \"(.*)$\" : \"(?:\\\\/(.+)|\\\\/*)$\";\n  } else if (end) {\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else {\n  }\n  let matcher = new RegExp(regexpSource, caseSensitive ? void 0 : \"i\");\n  return [matcher, params];\n}\nfunction decodePath(value) {\n  try {\n    return value.split(\"/\").map((v) => decodeURIComponent(v).replace(/\\//g, \"%2F\")).join(\"/\");\n  } catch (error) {\n    warning(\n      false,\n      `The URL path \"${value}\" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${error}).`\n    );\n    return value;\n  }\n}\nfunction stripBasename(pathname, basename) {\n  if (basename === \"/\") return pathname;\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n  let startIndex = basename.endsWith(\"/\") ? basename.length - 1 : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    return null;\n  }\n  return pathname.slice(startIndex) || \"/\";\n}\nfunction resolvePath(to, fromPathname = \"/\") {\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\"\n  } = typeof to === \"string\" ? parsePath(to) : to;\n  let pathname = toPathname ? toPathname.startsWith(\"/\") ? toPathname : resolvePathname(toPathname, fromPathname) : fromPathname;\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash)\n  };\n}\nfunction resolvePathname(relativePath, fromPathname) {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n  relativeSegments.forEach((segment) => {\n    if (segment === \"..\") {\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\nfunction getInvalidPathError(char, field, dest, path) {\n  return `Cannot include a '${char}' character in a manually specified \\`to.${field}\\` field [${JSON.stringify(\n    path\n  )}].  Please separate it out to the \\`to.${dest}\\` field. Alternatively you may provide the full path as a string in <Link to=\"...\"> and the router will parse it for you.`;\n}\nfunction getPathContributingMatches(matches) {\n  return matches.filter(\n    (match, index) => index === 0 || match.route.path && match.route.path.length > 0\n  );\n}\nfunction getResolveToMatches(matches) {\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches.map(\n    (match, idx) => idx === pathMatches.length - 1 ? match.pathname : match.pathnameBase\n  );\n}\nfunction resolveTo(toArg, routePathnames, locationPathname, isPathRelative = false) {\n  let to;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = { ...toArg };\n    invariant(\n      !to.pathname || !to.pathname.includes(\"?\"),\n      getInvalidPathError(\"?\", \"pathname\", \"search\", to)\n    );\n    invariant(\n      !to.pathname || !to.pathname.includes(\"#\"),\n      getInvalidPathError(\"#\", \"pathname\", \"hash\", to)\n    );\n    invariant(\n      !to.search || !to.search.includes(\"#\"),\n      getInvalidPathError(\"#\", \"search\", \"hash\", to)\n    );\n  }\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n  let from;\n  if (toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n    if (!isPathRelative && toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n      to.pathname = toSegments.join(\"/\");\n    }\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n  let path = resolvePath(to, from);\n  let hasExplicitTrailingSlash = toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  let hasCurrentTrailingSlash = (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (!path.pathname.endsWith(\"/\") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {\n    path.pathname += \"/\";\n  }\n  return path;\n}\nvar joinPaths = (paths) => paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\nvar normalizePathname = (pathname) => pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\nvar normalizeSearch = (search) => !search || search === \"?\" ? \"\" : search.startsWith(\"?\") ? search : \"?\" + search;\nvar normalizeHash = (hash) => !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\nvar DataWithResponseInit = class {\n  constructor(data2, init) {\n    this.type = \"DataWithResponseInit\";\n    this.data = data2;\n    this.init = init || null;\n  }\n};\nfunction data(data2, init) {\n  return new DataWithResponseInit(\n    data2,\n    typeof init === \"number\" ? { status: init } : init\n  );\n}\nvar redirect = (url, init = 302) => {\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = { status: responseInit };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n  return new Response(null, { ...responseInit, headers });\n};\nvar redirectDocument = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Reload-Document\", \"true\");\n  return response;\n};\nvar replace = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Replace\", \"true\");\n  return response;\n};\nvar ErrorResponseImpl = class {\n  constructor(status, statusText, data2, internal = false) {\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data2 instanceof Error) {\n      this.data = data2.toString();\n      this.error = data2;\n    } else {\n      this.data = data2;\n    }\n  }\n};\nfunction isRouteErrorResponse(error) {\n  return error != null && typeof error.status === \"number\" && typeof error.statusText === \"string\" && typeof error.internal === \"boolean\" && \"data\" in error;\n}\n\n// lib/router/router.ts\nvar validMutationMethodsArr = [\n  \"POST\",\n  \"PUT\",\n  \"PATCH\",\n  \"DELETE\"\n];\nvar validMutationMethods = new Set(\n  validMutationMethodsArr\n);\nvar validRequestMethodsArr = [\n  \"GET\",\n  ...validMutationMethodsArr\n];\nvar validRequestMethods = new Set(validRequestMethodsArr);\nvar redirectStatusCodes = /* @__PURE__ */ new Set([301, 302, 303, 307, 308]);\nvar redirectPreserveMethodStatusCodes = /* @__PURE__ */ new Set([307, 308]);\nvar IDLE_NAVIGATION = {\n  state: \"idle\",\n  location: void 0,\n  formMethod: void 0,\n  formAction: void 0,\n  formEncType: void 0,\n  formData: void 0,\n  json: void 0,\n  text: void 0\n};\nvar IDLE_FETCHER = {\n  state: \"idle\",\n  data: void 0,\n  formMethod: void 0,\n  formAction: void 0,\n  formEncType: void 0,\n  formData: void 0,\n  json: void 0,\n  text: void 0\n};\nvar IDLE_BLOCKER = {\n  state: \"unblocked\",\n  proceed: void 0,\n  reset: void 0,\n  location: void 0\n};\nvar ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar defaultMapRouteProperties = (route) => ({\n  hasErrorBoundary: Boolean(route.hasErrorBoundary)\n});\nvar TRANSITIONS_STORAGE_KEY = \"remix-router-transitions\";\nvar ResetLoaderDataSymbol = Symbol(\"ResetLoaderData\");\nfunction createRouter(init) {\n  const routerWindow = init.window ? init.window : typeof window !== \"undefined\" ? window : void 0;\n  const isBrowser2 = typeof routerWindow !== \"undefined\" && typeof routerWindow.document !== \"undefined\" && typeof routerWindow.document.createElement !== \"undefined\";\n  invariant(\n    init.routes.length > 0,\n    \"You must provide a non-empty routes array to createRouter\"\n  );\n  let mapRouteProperties2 = init.mapRouteProperties || defaultMapRouteProperties;\n  let manifest = {};\n  let dataRoutes = convertRoutesToDataRoutes(\n    init.routes,\n    mapRouteProperties2,\n    void 0,\n    manifest\n  );\n  let inFlightDataRoutes;\n  let basename = init.basename || \"/\";\n  let dataStrategyImpl = init.dataStrategy || defaultDataStrategyWithMiddleware;\n  let future = {\n    unstable_middleware: false,\n    ...init.future\n  };\n  let unlistenHistory = null;\n  let subscribers = /* @__PURE__ */ new Set();\n  let savedScrollPositions2 = null;\n  let getScrollRestorationKey2 = null;\n  let getScrollPosition = null;\n  let initialScrollRestored = init.hydrationData != null;\n  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);\n  let initialMatchesIsFOW = false;\n  let initialErrors = null;\n  if (initialMatches == null && !init.patchRoutesOnNavigation) {\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname\n    });\n    let { matches, route } = getShortCircuitMatches(dataRoutes);\n    initialMatches = matches;\n    initialErrors = { [route.id]: error };\n  }\n  if (initialMatches && !init.hydrationData) {\n    let fogOfWar = checkFogOfWar(\n      initialMatches,\n      dataRoutes,\n      init.history.location.pathname\n    );\n    if (fogOfWar.active) {\n      initialMatches = null;\n    }\n  }\n  let initialized;\n  if (!initialMatches) {\n    initialized = false;\n    initialMatches = [];\n    let fogOfWar = checkFogOfWar(\n      null,\n      dataRoutes,\n      init.history.location.pathname\n    );\n    if (fogOfWar.active && fogOfWar.matches) {\n      initialMatchesIsFOW = true;\n      initialMatches = fogOfWar.matches;\n    }\n  } else if (initialMatches.some((m) => m.route.lazy)) {\n    initialized = false;\n  } else if (!initialMatches.some((m) => m.route.loader)) {\n    initialized = true;\n  } else {\n    let loaderData = init.hydrationData ? init.hydrationData.loaderData : null;\n    let errors = init.hydrationData ? init.hydrationData.errors : null;\n    if (errors) {\n      let idx = initialMatches.findIndex(\n        (m) => errors[m.route.id] !== void 0\n      );\n      initialized = initialMatches.slice(0, idx + 1).every((m) => !shouldLoadRouteOnHydration(m.route, loaderData, errors));\n    } else {\n      initialized = initialMatches.every(\n        (m) => !shouldLoadRouteOnHydration(m.route, loaderData, errors)\n      );\n    }\n  }\n  let router;\n  let state = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: init.hydrationData && init.hydrationData.loaderData || {},\n    actionData: init.hydrationData && init.hydrationData.actionData || null,\n    errors: init.hydrationData && init.hydrationData.errors || initialErrors,\n    fetchers: /* @__PURE__ */ new Map(),\n    blockers: /* @__PURE__ */ new Map()\n  };\n  let pendingAction = \"POP\" /* Pop */;\n  let pendingPreventScrollReset = false;\n  let pendingNavigationController;\n  let pendingViewTransitionEnabled = false;\n  let appliedViewTransitions = /* @__PURE__ */ new Map();\n  let removePageHideEventListener = null;\n  let isUninterruptedRevalidation = false;\n  let isRevalidationRequired = false;\n  let cancelledFetcherLoads = /* @__PURE__ */ new Set();\n  let fetchControllers = /* @__PURE__ */ new Map();\n  let incrementingLoadId = 0;\n  let pendingNavigationLoadId = -1;\n  let fetchReloadIds = /* @__PURE__ */ new Map();\n  let fetchRedirectIds = /* @__PURE__ */ new Set();\n  let fetchLoadMatches = /* @__PURE__ */ new Map();\n  let activeFetchers = /* @__PURE__ */ new Map();\n  let fetchersQueuedForDeletion = /* @__PURE__ */ new Set();\n  let blockerFunctions = /* @__PURE__ */ new Map();\n  let unblockBlockerHistoryUpdate = void 0;\n  let pendingRevalidationDfd = null;\n  function initialize() {\n    unlistenHistory = init.history.listen(\n      ({ action: historyAction, location, delta }) => {\n        if (unblockBlockerHistoryUpdate) {\n          unblockBlockerHistoryUpdate();\n          unblockBlockerHistoryUpdate = void 0;\n          return;\n        }\n        warning(\n          blockerFunctions.size === 0 || delta != null,\n          \"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.\"\n        );\n        let blockerKey = shouldBlockNavigation({\n          currentLocation: state.location,\n          nextLocation: location,\n          historyAction\n        });\n        if (blockerKey && delta != null) {\n          let nextHistoryUpdatePromise = new Promise((resolve) => {\n            unblockBlockerHistoryUpdate = resolve;\n          });\n          init.history.go(delta * -1);\n          updateBlocker(blockerKey, {\n            state: \"blocked\",\n            location,\n            proceed() {\n              updateBlocker(blockerKey, {\n                state: \"proceeding\",\n                proceed: void 0,\n                reset: void 0,\n                location\n              });\n              nextHistoryUpdatePromise.then(() => init.history.go(delta));\n            },\n            reset() {\n              let blockers = new Map(state.blockers);\n              blockers.set(blockerKey, IDLE_BLOCKER);\n              updateState({ blockers });\n            }\n          });\n          return;\n        }\n        return startNavigation(historyAction, location);\n      }\n    );\n    if (isBrowser2) {\n      restoreAppliedTransitions(routerWindow, appliedViewTransitions);\n      let _saveAppliedTransitions = () => persistAppliedTransitions(routerWindow, appliedViewTransitions);\n      routerWindow.addEventListener(\"pagehide\", _saveAppliedTransitions);\n      removePageHideEventListener = () => routerWindow.removeEventListener(\"pagehide\", _saveAppliedTransitions);\n    }\n    if (!state.initialized) {\n      startNavigation(\"POP\" /* Pop */, state.location, {\n        initialHydration: true\n      });\n    }\n    return router;\n  }\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    if (removePageHideEventListener) {\n      removePageHideEventListener();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n  function subscribe(fn) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n  function updateState(newState, opts = {}) {\n    state = {\n      ...state,\n      ...newState\n    };\n    let unmountedFetchers = [];\n    let mountedFetchers = [];\n    state.fetchers.forEach((fetcher, key) => {\n      if (fetcher.state === \"idle\") {\n        if (fetchersQueuedForDeletion.has(key)) {\n          unmountedFetchers.push(key);\n        } else {\n          mountedFetchers.push(key);\n        }\n      }\n    });\n    fetchersQueuedForDeletion.forEach((key) => {\n      if (!state.fetchers.has(key) && !fetchControllers.has(key)) {\n        unmountedFetchers.push(key);\n      }\n    });\n    [...subscribers].forEach(\n      (subscriber) => subscriber(state, {\n        deletedFetchers: unmountedFetchers,\n        viewTransitionOpts: opts.viewTransitionOpts,\n        flushSync: opts.flushSync === true\n      })\n    );\n    unmountedFetchers.forEach((key) => deleteFetcher(key));\n    mountedFetchers.forEach((key) => state.fetchers.delete(key));\n  }\n  function completeNavigation(location, newState, { flushSync } = {}) {\n    let isActionReload = state.actionData != null && state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && state.navigation.state === \"loading\" && location.state?._isRedirect !== true;\n    let actionData;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      actionData = state.actionData;\n    } else {\n      actionData = null;\n    }\n    let loaderData = newState.loaderData ? mergeLoaderData(\n      state.loaderData,\n      newState.loaderData,\n      newState.matches || [],\n      newState.errors\n    ) : state.loaderData;\n    let blockers = state.blockers;\n    if (blockers.size > 0) {\n      blockers = new Map(blockers);\n      blockers.forEach((_, k) => blockers.set(k, IDLE_BLOCKER));\n    }\n    let preventScrollReset = pendingPreventScrollReset === true || state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && location.state?._isRedirect !== true;\n    if (inFlightDataRoutes) {\n      dataRoutes = inFlightDataRoutes;\n      inFlightDataRoutes = void 0;\n    }\n    if (isUninterruptedRevalidation) {\n    } else if (pendingAction === \"POP\" /* Pop */) {\n    } else if (pendingAction === \"PUSH\" /* Push */) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === \"REPLACE\" /* Replace */) {\n      init.history.replace(location, location.state);\n    }\n    let viewTransitionOpts;\n    if (pendingAction === \"POP\" /* Pop */) {\n      let priorPaths = appliedViewTransitions.get(state.location.pathname);\n      if (priorPaths && priorPaths.has(location.pathname)) {\n        viewTransitionOpts = {\n          currentLocation: state.location,\n          nextLocation: location\n        };\n      } else if (appliedViewTransitions.has(location.pathname)) {\n        viewTransitionOpts = {\n          currentLocation: location,\n          nextLocation: state.location\n        };\n      }\n    } else if (pendingViewTransitionEnabled) {\n      let toPaths = appliedViewTransitions.get(state.location.pathname);\n      if (toPaths) {\n        toPaths.add(location.pathname);\n      } else {\n        toPaths = /* @__PURE__ */ new Set([location.pathname]);\n        appliedViewTransitions.set(state.location.pathname, toPaths);\n      }\n      viewTransitionOpts = {\n        currentLocation: state.location,\n        nextLocation: location\n      };\n    }\n    updateState(\n      {\n        ...newState,\n        // matches, errors, fetchers go through as-is\n        actionData,\n        loaderData,\n        historyAction: pendingAction,\n        location,\n        initialized: true,\n        navigation: IDLE_NAVIGATION,\n        revalidation: \"idle\",\n        restoreScrollPosition: getSavedScrollPosition(\n          location,\n          newState.matches || state.matches\n        ),\n        preventScrollReset,\n        blockers\n      },\n      {\n        viewTransitionOpts,\n        flushSync: flushSync === true\n      }\n    );\n    pendingAction = \"POP\" /* Pop */;\n    pendingPreventScrollReset = false;\n    pendingViewTransitionEnabled = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    pendingRevalidationDfd?.resolve();\n    pendingRevalidationDfd = null;\n  }\n  async function navigate(to, opts) {\n    if (typeof to === \"number\") {\n      init.history.go(to);\n      return;\n    }\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      to,\n      opts?.fromRouteId,\n      opts?.relative\n    );\n    let { path, submission, error } = normalizeNavigateOptions(\n      false,\n      normalizedPath,\n      opts\n    );\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n    nextLocation = {\n      ...nextLocation,\n      ...init.history.encodeLocation(nextLocation)\n    };\n    let userReplace = opts && opts.replace != null ? opts.replace : void 0;\n    let historyAction = \"PUSH\" /* Push */;\n    if (userReplace === true) {\n      historyAction = \"REPLACE\" /* Replace */;\n    } else if (userReplace === false) {\n    } else if (submission != null && isMutationMethod(submission.formMethod) && submission.formAction === state.location.pathname + state.location.search) {\n      historyAction = \"REPLACE\" /* Replace */;\n    }\n    let preventScrollReset = opts && \"preventScrollReset\" in opts ? opts.preventScrollReset === true : void 0;\n    let flushSync = (opts && opts.flushSync) === true;\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction\n    });\n    if (blockerKey) {\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey, {\n            state: \"proceeding\",\n            proceed: void 0,\n            reset: void 0,\n            location: nextLocation\n          });\n          navigate(to, opts);\n        },\n        reset() {\n          let blockers = new Map(state.blockers);\n          blockers.set(blockerKey, IDLE_BLOCKER);\n          updateState({ blockers });\n        }\n      });\n      return;\n    }\n    await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace,\n      enableViewTransition: opts && opts.viewTransition,\n      flushSync\n    });\n  }\n  function revalidate() {\n    if (!pendingRevalidationDfd) {\n      pendingRevalidationDfd = createDeferred();\n    }\n    interruptActiveLoads();\n    updateState({ revalidation: \"loading\" });\n    let promise = pendingRevalidationDfd.promise;\n    if (state.navigation.state === \"submitting\") {\n      return promise;\n    }\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true\n      });\n      return promise;\n    }\n    startNavigation(\n      pendingAction || state.historyAction,\n      state.navigation.location,\n      {\n        overrideNavigation: state.navigation,\n        // Proxy through any rending view transition\n        enableViewTransition: pendingViewTransitionEnabled === true\n      }\n    );\n    return promise;\n  }\n  async function startNavigation(historyAction, location, opts) {\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation = (opts && opts.startUninterruptedRevalidation) === true;\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n    pendingViewTransitionEnabled = (opts && opts.enableViewTransition) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = opts?.initialHydration && state.matches && state.matches.length > 0 && !initialMatchesIsFOW ? (\n      // `matchRoutes()` has already been called if we're in here via `router.initialize()`\n      state.matches\n    ) : matchRoutes(routesToUse, location, basename);\n    let flushSync = (opts && opts.flushSync) === true;\n    if (matches && state.initialized && !isRevalidationRequired && isHashChangeOnly(state.location, location) && !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))) {\n      completeNavigation(location, { matches }, { flushSync });\n      return;\n    }\n    let fogOfWar = checkFogOfWar(matches, routesToUse, location.pathname);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    if (!matches) {\n      let { error, notFoundMatches, route } = handleNavigational404(\n        location.pathname\n      );\n      completeNavigation(\n        location,\n        {\n          matches: notFoundMatches,\n          loaderData: {},\n          errors: {\n            [route.id]: error\n          }\n        },\n        { flushSync }\n      );\n      return;\n    }\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(\n      init.history,\n      location,\n      pendingNavigationController.signal,\n      opts && opts.submission\n    );\n    let scopedContext = new unstable_RouterContextProvider(\n      init.unstable_getContext ? await init.unstable_getContext() : void 0\n    );\n    let pendingActionResult;\n    if (opts && opts.pendingError) {\n      pendingActionResult = [\n        findNearestBoundary(matches).route.id,\n        { type: \"error\" /* error */, error: opts.pendingError }\n      ];\n    } else if (opts && opts.submission && isMutationMethod(opts.submission.formMethod)) {\n      let actionResult = await handleAction(\n        request,\n        location,\n        opts.submission,\n        matches,\n        scopedContext,\n        fogOfWar.active,\n        { replace: opts.replace, flushSync }\n      );\n      if (actionResult.shortCircuited) {\n        return;\n      }\n      if (actionResult.pendingActionResult) {\n        let [routeId, result] = actionResult.pendingActionResult;\n        if (isErrorResult(result) && isRouteErrorResponse(result.error) && result.error.status === 404) {\n          pendingNavigationController = null;\n          completeNavigation(location, {\n            matches: actionResult.matches,\n            loaderData: {},\n            errors: {\n              [routeId]: result.error\n            }\n          });\n          return;\n        }\n      }\n      matches = actionResult.matches || matches;\n      pendingActionResult = actionResult.pendingActionResult;\n      loadingNavigation = getLoadingNavigation(location, opts.submission);\n      flushSync = false;\n      fogOfWar.active = false;\n      request = createClientSideRequest(\n        init.history,\n        request.url,\n        request.signal\n      );\n    }\n    let {\n      shortCircuited,\n      matches: updatedMatches,\n      loaderData,\n      errors\n    } = await handleLoaders(\n      request,\n      location,\n      matches,\n      scopedContext,\n      fogOfWar.active,\n      loadingNavigation,\n      opts && opts.submission,\n      opts && opts.fetcherSubmission,\n      opts && opts.replace,\n      opts && opts.initialHydration === true,\n      flushSync,\n      pendingActionResult\n    );\n    if (shortCircuited) {\n      return;\n    }\n    pendingNavigationController = null;\n    completeNavigation(location, {\n      matches: updatedMatches || matches,\n      ...getActionDataForCommit(pendingActionResult),\n      loaderData,\n      errors\n    });\n  }\n  async function handleAction(request, location, submission, matches, scopedContext, isFogOfWar, opts = {}) {\n    interruptActiveLoads();\n    let navigation = getSubmittingNavigation(location, submission);\n    updateState({ navigation }, { flushSync: opts.flushSync === true });\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        matches,\n        location.pathname,\n        request.signal\n      );\n      if (discoverResult.type === \"aborted\") {\n        return { shortCircuited: true };\n      } else if (discoverResult.type === \"error\") {\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          pendingActionResult: [\n            boundaryId,\n            {\n              type: \"error\" /* error */,\n              error: discoverResult.error\n            }\n          ]\n        };\n      } else if (!discoverResult.matches) {\n        let { notFoundMatches, error, route } = handleNavigational404(\n          location.pathname\n        );\n        return {\n          matches: notFoundMatches,\n          pendingActionResult: [\n            route.id,\n            {\n              type: \"error\" /* error */,\n              error\n            }\n          ]\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let result;\n    let actionMatch = getTargetMatch(matches, location);\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      result = {\n        type: \"error\" /* error */,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id\n        })\n      };\n    } else {\n      let results = await callDataStrategy(\n        \"action\",\n        request,\n        [actionMatch],\n        matches,\n        scopedContext,\n        null\n      );\n      result = results[actionMatch.route.id];\n      if (!result) {\n        for (let match of matches) {\n          if (results[match.route.id]) {\n            result = results[match.route.id];\n            break;\n          }\n        }\n      }\n      if (request.signal.aborted) {\n        return { shortCircuited: true };\n      }\n    }\n    if (isRedirectResult(result)) {\n      let replace2;\n      if (opts && opts.replace != null) {\n        replace2 = opts.replace;\n      } else {\n        let location2 = normalizeRedirectLocation(\n          result.response.headers.get(\"Location\"),\n          new URL(request.url),\n          basename\n        );\n        replace2 = location2 === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(request, result, true, {\n        submission,\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      if ((opts && opts.replace) !== true) {\n        pendingAction = \"PUSH\" /* Push */;\n      }\n      return {\n        matches,\n        pendingActionResult: [boundaryMatch.route.id, result]\n      };\n    }\n    return {\n      matches,\n      pendingActionResult: [actionMatch.route.id, result]\n    };\n  }\n  async function handleLoaders(request, location, matches, scopedContext, isFogOfWar, overrideNavigation, submission, fetcherSubmission, replace2, initialHydration, flushSync, pendingActionResult) {\n    let loadingNavigation = overrideNavigation || getLoadingNavigation(location, submission);\n    let activeSubmission = submission || fetcherSubmission || getSubmissionFromNavigation(loadingNavigation);\n    let shouldUpdateNavigationState = !isUninterruptedRevalidation && !initialHydration;\n    if (isFogOfWar) {\n      if (shouldUpdateNavigationState) {\n        let actionData = getUpdatedActionData(pendingActionResult);\n        updateState(\n          {\n            navigation: loadingNavigation,\n            ...actionData !== void 0 ? { actionData } : {}\n          },\n          {\n            flushSync\n          }\n        );\n      }\n      let discoverResult = await discoverRoutes(\n        matches,\n        location.pathname,\n        request.signal\n      );\n      if (discoverResult.type === \"aborted\") {\n        return { shortCircuited: true };\n      } else if (discoverResult.type === \"error\") {\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          loaderData: {},\n          errors: {\n            [boundaryId]: discoverResult.error\n          }\n        };\n      } else if (!discoverResult.matches) {\n        let { error, notFoundMatches, route } = handleNavigational404(\n          location.pathname\n        );\n        return {\n          matches: notFoundMatches,\n          loaderData: {},\n          errors: {\n            [route.id]: error\n          }\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(\n      init.history,\n      state,\n      matches,\n      activeSubmission,\n      location,\n      initialHydration === true,\n      isRevalidationRequired,\n      cancelledFetcherLoads,\n      fetchersQueuedForDeletion,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      pendingActionResult\n    );\n    pendingNavigationLoadId = ++incrementingLoadId;\n    if (matchesToLoad.length === 0 && revalidatingFetchers.length === 0) {\n      let updatedFetchers2 = markFetchRedirectsDone();\n      completeNavigation(\n        location,\n        {\n          matches,\n          loaderData: {},\n          // Commit pending error if we're short circuiting\n          errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? { [pendingActionResult[0]]: pendingActionResult[1].error } : null,\n          ...getActionDataForCommit(pendingActionResult),\n          ...updatedFetchers2 ? { fetchers: new Map(state.fetchers) } : {}\n        },\n        { flushSync }\n      );\n      return { shortCircuited: true };\n    }\n    if (shouldUpdateNavigationState) {\n      let updates = {};\n      if (!isFogOfWar) {\n        updates.navigation = loadingNavigation;\n        let actionData = getUpdatedActionData(pendingActionResult);\n        if (actionData !== void 0) {\n          updates.actionData = actionData;\n        }\n      }\n      if (revalidatingFetchers.length > 0) {\n        updates.fetchers = getUpdatedRevalidatingFetchers(revalidatingFetchers);\n      }\n      updateState(updates, { flushSync });\n    }\n    revalidatingFetchers.forEach((rf) => {\n      abortFetcher(rf.key);\n      if (rf.controller) {\n        fetchControllers.set(rf.key, rf.controller);\n      }\n    });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach((f) => abortFetcher(f.key));\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.addEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n    let { loaderResults, fetcherResults } = await callLoadersAndMaybeResolveData(\n      matches,\n      matchesToLoad,\n      revalidatingFetchers,\n      request,\n      scopedContext\n    );\n    if (request.signal.aborted) {\n      return { shortCircuited: true };\n    }\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.removeEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n    revalidatingFetchers.forEach((rf) => fetchControllers.delete(rf.key));\n    let redirect2 = findRedirect(loaderResults);\n    if (redirect2) {\n      await startRedirectNavigation(request, redirect2.result, true, {\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    redirect2 = findRedirect(fetcherResults);\n    if (redirect2) {\n      fetchRedirectIds.add(redirect2.key);\n      await startRedirectNavigation(request, redirect2.result, true, {\n        replace: replace2\n      });\n      return { shortCircuited: true };\n    }\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      loaderResults,\n      pendingActionResult,\n      revalidatingFetchers,\n      fetcherResults\n    );\n    if (initialHydration && state.errors) {\n      errors = { ...state.errors, ...errors };\n    }\n    let updatedFetchers = markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n    let shouldUpdateFetchers = updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n    return {\n      matches,\n      loaderData,\n      errors,\n      ...shouldUpdateFetchers ? { fetchers: new Map(state.fetchers) } : {}\n    };\n  }\n  function getUpdatedActionData(pendingActionResult) {\n    if (pendingActionResult && !isErrorResult(pendingActionResult[1])) {\n      return {\n        [pendingActionResult[0]]: pendingActionResult[1].data\n      };\n    } else if (state.actionData) {\n      if (Object.keys(state.actionData).length === 0) {\n        return null;\n      } else {\n        return state.actionData;\n      }\n    }\n  }\n  function getUpdatedRevalidatingFetchers(revalidatingFetchers) {\n    revalidatingFetchers.forEach((rf) => {\n      let fetcher = state.fetchers.get(rf.key);\n      let revalidatingFetcher = getLoadingFetcher(\n        void 0,\n        fetcher ? fetcher.data : void 0\n      );\n      state.fetchers.set(rf.key, revalidatingFetcher);\n    });\n    return new Map(state.fetchers);\n  }\n  async function fetch2(key, routeId, href2, opts) {\n    abortFetcher(key);\n    let flushSync = (opts && opts.flushSync) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      href2,\n      routeId,\n      opts?.relative\n    );\n    let matches = matchRoutes(routesToUse, normalizedPath, basename);\n    let fogOfWar = checkFogOfWar(matches, routesToUse, normalizedPath);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    if (!matches) {\n      setFetcherError(\n        key,\n        routeId,\n        getInternalRouterError(404, { pathname: normalizedPath }),\n        { flushSync }\n      );\n      return;\n    }\n    let { path, submission, error } = normalizeNavigateOptions(\n      true,\n      normalizedPath,\n      opts\n    );\n    if (error) {\n      setFetcherError(key, routeId, error, { flushSync });\n      return;\n    }\n    let match = getTargetMatch(matches, path);\n    let scopedContext = new unstable_RouterContextProvider(\n      init.unstable_getContext ? await init.unstable_getContext() : void 0\n    );\n    let preventScrollReset = (opts && opts.preventScrollReset) === true;\n    if (submission && isMutationMethod(submission.formMethod)) {\n      await handleFetcherAction(\n        key,\n        routeId,\n        path,\n        match,\n        matches,\n        scopedContext,\n        fogOfWar.active,\n        flushSync,\n        preventScrollReset,\n        submission\n      );\n      return;\n    }\n    fetchLoadMatches.set(key, { routeId, path });\n    await handleFetcherLoader(\n      key,\n      routeId,\n      path,\n      match,\n      matches,\n      scopedContext,\n      fogOfWar.active,\n      flushSync,\n      preventScrollReset,\n      submission\n    );\n  }\n  async function handleFetcherAction(key, routeId, path, match, requestMatches, scopedContext, isFogOfWar, flushSync, preventScrollReset, submission) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n    function detectAndHandle405Error(m) {\n      if (!m.route.action && !m.route.lazy) {\n        let error = getInternalRouterError(405, {\n          method: submission.formMethod,\n          pathname: path,\n          routeId\n        });\n        setFetcherError(key, routeId, error, { flushSync });\n        return true;\n      }\n      return false;\n    }\n    if (!isFogOfWar && detectAndHandle405Error(match)) {\n      return;\n    }\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(key, getSubmittingFetcher(submission, existingFetcher), {\n      flushSync\n    });\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal,\n      submission\n    );\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        requestMatches,\n        path,\n        fetchRequest.signal,\n        key\n      );\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, { flushSync });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(\n          key,\n          routeId,\n          getInternalRouterError(404, { pathname: path }),\n          { flushSync }\n        );\n        return;\n      } else {\n        requestMatches = discoverResult.matches;\n        match = getTargetMatch(requestMatches, path);\n        if (detectAndHandle405Error(match)) {\n          return;\n        }\n      }\n    }\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let actionResults = await callDataStrategy(\n      \"action\",\n      fetchRequest,\n      [match],\n      requestMatches,\n      scopedContext,\n      key\n    );\n    let actionResult = actionResults[match.route.id];\n    if (fetchRequest.signal.aborted) {\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n    if (fetchersQueuedForDeletion.has(key)) {\n      if (isRedirectResult(actionResult) || isErrorResult(actionResult)) {\n        updateFetcherState(key, getDoneFetcher(void 0));\n        return;\n      }\n    } else {\n      if (isRedirectResult(actionResult)) {\n        fetchControllers.delete(key);\n        if (pendingNavigationLoadId > originatingLoadId) {\n          updateFetcherState(key, getDoneFetcher(void 0));\n          return;\n        } else {\n          fetchRedirectIds.add(key);\n          updateFetcherState(key, getLoadingFetcher(submission));\n          return startRedirectNavigation(fetchRequest, actionResult, false, {\n            fetcherSubmission: submission,\n            preventScrollReset\n          });\n        }\n      }\n      if (isErrorResult(actionResult)) {\n        setFetcherError(key, routeId, actionResult.error);\n        return;\n      }\n    }\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(\n      init.history,\n      nextLocation,\n      abortController.signal\n    );\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches = state.navigation.state !== \"idle\" ? matchRoutes(routesToUse, state.navigation.location, basename) : state.matches;\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n    let loadFetcher = getLoadingFetcher(submission, actionResult.data);\n    state.fetchers.set(key, loadFetcher);\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(\n      init.history,\n      state,\n      matches,\n      submission,\n      nextLocation,\n      false,\n      isRevalidationRequired,\n      cancelledFetcherLoads,\n      fetchersQueuedForDeletion,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      [match.route.id, actionResult]\n    );\n    revalidatingFetchers.filter((rf) => rf.key !== key).forEach((rf) => {\n      let staleKey = rf.key;\n      let existingFetcher2 = state.fetchers.get(staleKey);\n      let revalidatingFetcher = getLoadingFetcher(\n        void 0,\n        existingFetcher2 ? existingFetcher2.data : void 0\n      );\n      state.fetchers.set(staleKey, revalidatingFetcher);\n      abortFetcher(staleKey);\n      if (rf.controller) {\n        fetchControllers.set(staleKey, rf.controller);\n      }\n    });\n    updateState({ fetchers: new Map(state.fetchers) });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach((rf) => abortFetcher(rf.key));\n    abortController.signal.addEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n    let { loaderResults, fetcherResults } = await callLoadersAndMaybeResolveData(\n      matches,\n      matchesToLoad,\n      revalidatingFetchers,\n      revalidationRequest,\n      scopedContext\n    );\n    if (abortController.signal.aborted) {\n      return;\n    }\n    abortController.signal.removeEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach((r) => fetchControllers.delete(r.key));\n    let redirect2 = findRedirect(loaderResults);\n    if (redirect2) {\n      return startRedirectNavigation(\n        revalidationRequest,\n        redirect2.result,\n        false,\n        { preventScrollReset }\n      );\n    }\n    redirect2 = findRedirect(fetcherResults);\n    if (redirect2) {\n      fetchRedirectIds.add(redirect2.key);\n      return startRedirectNavigation(\n        revalidationRequest,\n        redirect2.result,\n        false,\n        { preventScrollReset }\n      );\n    }\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      loaderResults,\n      void 0,\n      revalidatingFetchers,\n      fetcherResults\n    );\n    if (state.fetchers.has(key)) {\n      let doneFetcher = getDoneFetcher(actionResult.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n    abortStaleFetchLoads(loadId);\n    if (state.navigation.state === \"loading\" && loadId > pendingNavigationLoadId) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers)\n      });\n    } else {\n      updateState({\n        errors,\n        loaderData: mergeLoaderData(\n          state.loaderData,\n          loaderData,\n          matches,\n          errors\n        ),\n        fetchers: new Map(state.fetchers)\n      });\n      isRevalidationRequired = false;\n    }\n  }\n  async function handleFetcherLoader(key, routeId, path, match, matches, scopedContext, isFogOfWar, flushSync, preventScrollReset, submission) {\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(\n      key,\n      getLoadingFetcher(\n        submission,\n        existingFetcher ? existingFetcher.data : void 0\n      ),\n      { flushSync }\n    );\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal\n    );\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(\n        matches,\n        path,\n        fetchRequest.signal,\n        key\n      );\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, { flushSync });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(\n          key,\n          routeId,\n          getInternalRouterError(404, { pathname: path }),\n          { flushSync }\n        );\n        return;\n      } else {\n        matches = discoverResult.matches;\n        match = getTargetMatch(matches, path);\n      }\n    }\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let results = await callDataStrategy(\n      \"loader\",\n      fetchRequest,\n      [match],\n      matches,\n      scopedContext,\n      key\n    );\n    let result = results[match.route.id];\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n    if (fetchersQueuedForDeletion.has(key)) {\n      updateFetcherState(key, getDoneFetcher(void 0));\n      return;\n    }\n    if (isRedirectResult(result)) {\n      if (pendingNavigationLoadId > originatingLoadId) {\n        updateFetcherState(key, getDoneFetcher(void 0));\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        await startRedirectNavigation(fetchRequest, result, false, {\n          preventScrollReset\n        });\n        return;\n      }\n    }\n    if (isErrorResult(result)) {\n      setFetcherError(key, routeId, result.error);\n      return;\n    }\n    updateFetcherState(key, getDoneFetcher(result.data));\n  }\n  async function startRedirectNavigation(request, redirect2, isNavigation, {\n    submission,\n    fetcherSubmission,\n    preventScrollReset,\n    replace: replace2\n  } = {}) {\n    if (redirect2.response.headers.has(\"X-Remix-Revalidate\")) {\n      isRevalidationRequired = true;\n    }\n    let location = redirect2.response.headers.get(\"Location\");\n    invariant(location, \"Expected a Location header on the redirect Response\");\n    location = normalizeRedirectLocation(\n      location,\n      new URL(request.url),\n      basename\n    );\n    let redirectLocation = createLocation(state.location, location, {\n      _isRedirect: true\n    });\n    if (isBrowser2) {\n      let isDocumentReload = false;\n      if (redirect2.response.headers.has(\"X-Remix-Reload-Document\")) {\n        isDocumentReload = true;\n      } else if (ABSOLUTE_URL_REGEX.test(location)) {\n        const url = init.history.createURL(location);\n        isDocumentReload = // Hard reload if it's an absolute URL to a new origin\n        url.origin !== routerWindow.location.origin || // Hard reload if it's an absolute URL that does not match our basename\n        stripBasename(url.pathname, basename) == null;\n      }\n      if (isDocumentReload) {\n        if (replace2) {\n          routerWindow.location.replace(location);\n        } else {\n          routerWindow.location.assign(location);\n        }\n        return;\n      }\n    }\n    pendingNavigationController = null;\n    let redirectNavigationType = replace2 === true || redirect2.response.headers.has(\"X-Remix-Replace\") ? \"REPLACE\" /* Replace */ : \"PUSH\" /* Push */;\n    let { formMethod, formAction, formEncType } = state.navigation;\n    if (!submission && !fetcherSubmission && formMethod && formAction && formEncType) {\n      submission = getSubmissionFromNavigation(state.navigation);\n    }\n    let activeSubmission = submission || fetcherSubmission;\n    if (redirectPreserveMethodStatusCodes.has(redirect2.response.status) && activeSubmission && isMutationMethod(activeSubmission.formMethod)) {\n      await startNavigation(redirectNavigationType, redirectLocation, {\n        submission: {\n          ...activeSubmission,\n          formAction: location\n        },\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : void 0\n      });\n    } else {\n      let overrideNavigation = getLoadingNavigation(\n        redirectLocation,\n        submission\n      );\n      await startNavigation(redirectNavigationType, redirectLocation, {\n        overrideNavigation,\n        // Send fetcher submissions through for shouldRevalidate\n        fetcherSubmission,\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : void 0\n      });\n    }\n  }\n  async function callDataStrategy(type, request, matchesToLoad, matches, scopedContext, fetcherKey) {\n    let results;\n    let dataResults = {};\n    try {\n      results = await callDataStrategyImpl(\n        dataStrategyImpl,\n        type,\n        request,\n        matchesToLoad,\n        matches,\n        fetcherKey,\n        manifest,\n        mapRouteProperties2,\n        scopedContext,\n        future.unstable_middleware\n      );\n    } catch (e) {\n      matchesToLoad.forEach((m) => {\n        dataResults[m.route.id] = {\n          type: \"error\" /* error */,\n          error: e\n        };\n      });\n      return dataResults;\n    }\n    for (let [routeId, result] of Object.entries(results)) {\n      if (isRedirectDataStrategyResult(result)) {\n        let response = result.result;\n        dataResults[routeId] = {\n          type: \"redirect\" /* redirect */,\n          response: normalizeRelativeRoutingRedirectResponse(\n            response,\n            request,\n            routeId,\n            matches,\n            basename\n          )\n        };\n      } else {\n        dataResults[routeId] = await convertDataStrategyResultToDataResult(\n          result\n        );\n      }\n    }\n    return dataResults;\n  }\n  async function callLoadersAndMaybeResolveData(matches, matchesToLoad, fetchersToLoad, request, scopedContext) {\n    let loaderResultsPromise = callDataStrategy(\n      \"loader\",\n      request,\n      matchesToLoad,\n      matches,\n      scopedContext,\n      null\n    );\n    let fetcherResultsPromise = Promise.all(\n      fetchersToLoad.map(async (f) => {\n        if (f.matches && f.match && f.controller) {\n          let results = await callDataStrategy(\n            \"loader\",\n            createClientSideRequest(init.history, f.path, f.controller.signal),\n            [f.match],\n            f.matches,\n            scopedContext,\n            f.key\n          );\n          let result = results[f.match.route.id];\n          return { [f.key]: result };\n        } else {\n          return Promise.resolve({\n            [f.key]: {\n              type: \"error\" /* error */,\n              error: getInternalRouterError(404, {\n                pathname: f.path\n              })\n            }\n          });\n        }\n      })\n    );\n    let loaderResults = await loaderResultsPromise;\n    let fetcherResults = (await fetcherResultsPromise).reduce(\n      (acc, r) => Object.assign(acc, r),\n      {}\n    );\n    return {\n      loaderResults,\n      fetcherResults\n    };\n  }\n  function interruptActiveLoads() {\n    isRevalidationRequired = true;\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.add(key);\n      }\n      abortFetcher(key);\n    });\n  }\n  function updateFetcherState(key, fetcher, opts = {}) {\n    state.fetchers.set(key, fetcher);\n    updateState(\n      { fetchers: new Map(state.fetchers) },\n      { flushSync: (opts && opts.flushSync) === true }\n    );\n  }\n  function setFetcherError(key, routeId, error, opts = {}) {\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState(\n      {\n        errors: {\n          [boundaryMatch.route.id]: error\n        },\n        fetchers: new Map(state.fetchers)\n      },\n      { flushSync: (opts && opts.flushSync) === true }\n    );\n  }\n  function getFetcher(key) {\n    activeFetchers.set(key, (activeFetchers.get(key) || 0) + 1);\n    if (fetchersQueuedForDeletion.has(key)) {\n      fetchersQueuedForDeletion.delete(key);\n    }\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n  function deleteFetcher(key) {\n    let fetcher = state.fetchers.get(key);\n    if (fetchControllers.has(key) && !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))) {\n      abortFetcher(key);\n    }\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    fetchersQueuedForDeletion.delete(key);\n    cancelledFetcherLoads.delete(key);\n    state.fetchers.delete(key);\n  }\n  function queueFetcherForDeletion(key) {\n    let count = (activeFetchers.get(key) || 0) - 1;\n    if (count <= 0) {\n      activeFetchers.delete(key);\n      fetchersQueuedForDeletion.add(key);\n    } else {\n      activeFetchers.set(key, count);\n    }\n    updateState({ fetchers: new Map(state.fetchers) });\n  }\n  function abortFetcher(key) {\n    let controller = fetchControllers.get(key);\n    if (controller) {\n      controller.abort();\n      fetchControllers.delete(key);\n    }\n  }\n  function markFetchersDone(keys) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher = getDoneFetcher(fetcher.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n  function markFetchRedirectsDone() {\n    let doneKeys = [];\n    let updatedFetchers = false;\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, `Expected fetcher: ${key}`);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n        updatedFetchers = true;\n      }\n    }\n    markFetchersDone(doneKeys);\n    return updatedFetchers;\n  }\n  function abortStaleFetchLoads(landedId) {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, `Expected fetcher: ${key}`);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n  function getBlocker(key, fn) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n    return blocker;\n  }\n  function deleteBlocker(key) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n  function updateBlocker(key, newBlocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    invariant(\n      blocker.state === \"unblocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"proceeding\" || blocker.state === \"blocked\" && newBlocker.state === \"unblocked\" || blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\",\n      `Invalid blocker state transition: ${blocker.state} -> ${newBlocker.state}`\n    );\n    let blockers = new Map(state.blockers);\n    blockers.set(key, newBlocker);\n    updateState({ blockers });\n  }\n  function shouldBlockNavigation({\n    currentLocation,\n    nextLocation,\n    historyAction\n  }) {\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n    if (blocker && blocker.state === \"proceeding\") {\n      return;\n    }\n    if (blockerFunction({ currentLocation, nextLocation, historyAction })) {\n      return blockerKey;\n    }\n  }\n  function handleNavigational404(pathname) {\n    let error = getInternalRouterError(404, { pathname });\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let { matches, route } = getShortCircuitMatches(routesToUse);\n    return { notFoundMatches: matches, route, error };\n  }\n  function enableScrollRestoration(positions, getPosition, getKey) {\n    savedScrollPositions2 = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey2 = getKey || null;\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({ restoreScrollPosition: y });\n      }\n    }\n    return () => {\n      savedScrollPositions2 = null;\n      getScrollPosition = null;\n      getScrollRestorationKey2 = null;\n    };\n  }\n  function getScrollKey(location, matches) {\n    if (getScrollRestorationKey2) {\n      let key = getScrollRestorationKey2(\n        location,\n        matches.map((m) => convertRouteMatchToUiMatch(m, state.loaderData))\n      );\n      return key || location.key;\n    }\n    return location.key;\n  }\n  function saveScrollPosition(location, matches) {\n    if (savedScrollPositions2 && getScrollPosition) {\n      let key = getScrollKey(location, matches);\n      savedScrollPositions2[key] = getScrollPosition();\n    }\n  }\n  function getSavedScrollPosition(location, matches) {\n    if (savedScrollPositions2) {\n      let key = getScrollKey(location, matches);\n      let y = savedScrollPositions2[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n  function checkFogOfWar(matches, routesToUse, pathname) {\n    if (init.patchRoutesOnNavigation) {\n      if (!matches) {\n        let fogMatches = matchRoutesImpl(\n          routesToUse,\n          pathname,\n          basename,\n          true\n        );\n        return { active: true, matches: fogMatches || [] };\n      } else {\n        if (Object.keys(matches[0].params).length > 0) {\n          let partialMatches = matchRoutesImpl(\n            routesToUse,\n            pathname,\n            basename,\n            true\n          );\n          return { active: true, matches: partialMatches };\n        }\n      }\n    }\n    return { active: false, matches: null };\n  }\n  async function discoverRoutes(matches, pathname, signal, fetcherKey) {\n    if (!init.patchRoutesOnNavigation) {\n      return { type: \"success\", matches };\n    }\n    let partialMatches = matches;\n    while (true) {\n      let isNonHMR = inFlightDataRoutes == null;\n      let routesToUse = inFlightDataRoutes || dataRoutes;\n      let localManifest = manifest;\n      try {\n        await init.patchRoutesOnNavigation({\n          signal,\n          path: pathname,\n          matches: partialMatches,\n          fetcherKey,\n          patch: (routeId, children) => {\n            if (signal.aborted) return;\n            patchRoutesImpl(\n              routeId,\n              children,\n              routesToUse,\n              localManifest,\n              mapRouteProperties2\n            );\n          }\n        });\n      } catch (e) {\n        return { type: \"error\", error: e, partialMatches };\n      } finally {\n        if (isNonHMR && !signal.aborted) {\n          dataRoutes = [...dataRoutes];\n        }\n      }\n      if (signal.aborted) {\n        return { type: \"aborted\" };\n      }\n      let newMatches = matchRoutes(routesToUse, pathname, basename);\n      if (newMatches) {\n        return { type: \"success\", matches: newMatches };\n      }\n      let newPartialMatches = matchRoutesImpl(\n        routesToUse,\n        pathname,\n        basename,\n        true\n      );\n      if (!newPartialMatches || partialMatches.length === newPartialMatches.length && partialMatches.every(\n        (m, i) => m.route.id === newPartialMatches[i].route.id\n      )) {\n        return { type: \"success\", matches: null };\n      }\n      partialMatches = newPartialMatches;\n    }\n  }\n  function _internalSetRoutes(newRoutes) {\n    manifest = {};\n    inFlightDataRoutes = convertRoutesToDataRoutes(\n      newRoutes,\n      mapRouteProperties2,\n      void 0,\n      manifest\n    );\n  }\n  function patchRoutes(routeId, children) {\n    let isNonHMR = inFlightDataRoutes == null;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    patchRoutesImpl(\n      routeId,\n      children,\n      routesToUse,\n      manifest,\n      mapRouteProperties2\n    );\n    if (isNonHMR) {\n      dataRoutes = [...dataRoutes];\n      updateState({});\n    }\n  }\n  router = {\n    get basename() {\n      return basename;\n    },\n    get future() {\n      return future;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    get window() {\n      return routerWindow;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch: fetch2,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: (to) => init.history.createHref(to),\n    encodeLocation: (to) => init.history.encodeLocation(to),\n    getFetcher,\n    deleteFetcher: queueFetcherForDeletion,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    patchRoutes,\n    _internalFetchControllers: fetchControllers,\n    // TODO: Remove setRoutes, it's temporary to avoid dealing with\n    // updating the tree while validating the update algorithm.\n    _internalSetRoutes\n  };\n  return router;\n}\nfunction createStaticHandler(routes, opts) {\n  invariant(\n    routes.length > 0,\n    \"You must provide a non-empty routes array to createStaticHandler\"\n  );\n  let manifest = {};\n  let basename = (opts ? opts.basename : null) || \"/\";\n  let mapRouteProperties2 = opts?.mapRouteProperties || defaultMapRouteProperties;\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    mapRouteProperties2,\n    void 0,\n    manifest\n  );\n  async function query(request, {\n    requestContext,\n    filterMatchesToLoad,\n    skipLoaderErrorBubbling,\n    skipRevalidation,\n    dataStrategy,\n    unstable_respond: respond\n  } = {}) {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    requestContext = requestContext != null ? requestContext : new unstable_RouterContextProvider();\n    if (!isValidMethod(method) && method !== \"HEAD\") {\n      let error = getInternalRouterError(405, { method });\n      let { matches: methodNotAllowedMatches, route } = getShortCircuitMatches(dataRoutes);\n      let staticContext = {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n      return respond ? respond(staticContext) : staticContext;\n    } else if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } = getShortCircuitMatches(dataRoutes);\n      let staticContext = {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n      return respond ? respond(staticContext) : staticContext;\n    }\n    if (respond && matches.some((m) => m.route.unstable_middleware)) {\n      invariant(\n        requestContext instanceof unstable_RouterContextProvider,\n        \"When using middleware in `staticHandler.query()`, any provided `requestContext` must bean instance of `unstable_RouterContextProvider`\"\n      );\n      try {\n        let renderedStaticContext;\n        let response = await runMiddlewarePipeline(\n          {\n            request,\n            matches,\n            params: matches[0].params,\n            // If we're calling middleware then it must be enabled so we can cast\n            // this to the proper type knowing it's not an `AppLoadContext`\n            context: requestContext\n          },\n          true,\n          async () => {\n            let result2 = await queryImpl(\n              request,\n              location,\n              matches,\n              requestContext,\n              dataStrategy || null,\n              skipLoaderErrorBubbling === true,\n              null,\n              filterMatchesToLoad || null,\n              skipRevalidation === true\n            );\n            if (isResponse(result2)) {\n              return result2;\n            }\n            renderedStaticContext = { location, basename, ...result2 };\n            let res = await respond(renderedStaticContext);\n            return res;\n          },\n          async (e) => {\n            if (isResponse(e.error)) {\n              return e.error;\n            }\n            if (renderedStaticContext) {\n              if (e.routeId in renderedStaticContext.loaderData) {\n                renderedStaticContext.loaderData[e.routeId] = void 0;\n              }\n              return respond(\n                getStaticContextFromError(\n                  dataRoutes,\n                  renderedStaticContext,\n                  e.error,\n                  findNearestBoundary(matches, e.routeId).route.id\n                )\n              );\n            } else {\n              let loaderIdx = matches.findIndex((m) => m.route.loader);\n              let boundary = loaderIdx >= 0 ? findNearestBoundary(matches, matches[loaderIdx].route.id) : findNearestBoundary(matches);\n              return respond({\n                matches,\n                location,\n                basename,\n                loaderData: {},\n                actionData: null,\n                errors: {\n                  [boundary.route.id]: e.error\n                },\n                statusCode: isRouteErrorResponse(e.error) ? e.error.status : 500,\n                actionHeaders: {},\n                loaderHeaders: {}\n              });\n            }\n          }\n        );\n        invariant(isResponse(response), \"Expected a response in query()\");\n        return response;\n      } catch (e) {\n        if (isResponse(e)) {\n          return e;\n        }\n        throw e;\n      }\n    }\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      dataStrategy || null,\n      skipLoaderErrorBubbling === true,\n      null,\n      filterMatchesToLoad || null,\n      skipRevalidation === true\n    );\n    if (isResponse(result)) {\n      return result;\n    }\n    return { location, basename, ...result };\n  }\n  async function queryRoute(request, {\n    routeId,\n    requestContext,\n    dataStrategy,\n    unstable_respond: respond\n  } = {}) {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    requestContext = requestContext != null ? requestContext : new unstable_RouterContextProvider();\n    if (!isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") {\n      throw getInternalRouterError(405, { method });\n    } else if (!matches) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n    let match = routeId ? matches.find((m) => m.route.id === routeId) : getTargetMatch(matches, location);\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId\n      });\n    } else if (!match) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n    if (respond && matches.some((m) => m.route.unstable_middleware)) {\n      invariant(\n        requestContext instanceof unstable_RouterContextProvider,\n        \"When using middleware in `staticHandler.queryRoute()`, any provided `requestContext` must bean instance of `unstable_RouterContextProvider`\"\n      );\n      let response = await runMiddlewarePipeline(\n        {\n          request,\n          matches,\n          params: matches[0].params,\n          // If we're calling middleware then it must be enabled so we can cast\n          // this to the proper type knowing it's not an `AppLoadContext`\n          context: requestContext\n        },\n        true,\n        async () => {\n          let result2 = await queryImpl(\n            request,\n            location,\n            matches,\n            requestContext,\n            dataStrategy || null,\n            false,\n            match,\n            null,\n            false\n          );\n          if (isResponse(result2)) {\n            return respond(result2);\n          }\n          let error2 = result2.errors ? Object.values(result2.errors)[0] : void 0;\n          if (error2 !== void 0) {\n            throw error2;\n          }\n          let value = result2.actionData ? Object.values(result2.actionData)[0] : Object.values(result2.loaderData)[0];\n          return typeof value === \"string\" ? new Response(value) : Response.json(value);\n        },\n        (e) => {\n          if (isResponse(e.error)) {\n            return respond(e.error);\n          }\n          return new Response(String(e.error), {\n            status: 500,\n            statusText: \"Unexpected Server Error\"\n          });\n        }\n      );\n      return response;\n    }\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      dataStrategy || null,\n      false,\n      match,\n      null,\n      false\n    );\n    if (isResponse(result)) {\n      return result;\n    }\n    let error = result.errors ? Object.values(result.errors)[0] : void 0;\n    if (error !== void 0) {\n      throw error;\n    }\n    if (result.actionData) {\n      return Object.values(result.actionData)[0];\n    }\n    if (result.loaderData) {\n      return Object.values(result.loaderData)[0];\n    }\n    return void 0;\n  }\n  async function queryImpl(request, location, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, filterMatchesToLoad, skipRevalidation) {\n    invariant(\n      request.signal,\n      \"query()/queryRoute() requests must contain an AbortController signal\"\n    );\n    try {\n      if (isMutationMethod(request.method)) {\n        let result2 = await submit(\n          request,\n          matches,\n          routeMatch || getTargetMatch(matches, location),\n          requestContext,\n          dataStrategy,\n          skipLoaderErrorBubbling,\n          routeMatch != null,\n          filterMatchesToLoad,\n          skipRevalidation\n        );\n        return result2;\n      }\n      let result = await loadRouteData(\n        request,\n        matches,\n        requestContext,\n        dataStrategy,\n        skipLoaderErrorBubbling,\n        routeMatch,\n        filterMatchesToLoad\n      );\n      return isResponse(result) ? result : {\n        ...result,\n        actionData: null,\n        actionHeaders: {}\n      };\n    } catch (e) {\n      if (isDataStrategyResult(e) && isResponse(e.result)) {\n        if (e.type === \"error\" /* error */) {\n          throw e.result;\n        }\n        return e.result;\n      }\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n  async function submit(request, matches, actionMatch, requestContext, dataStrategy, skipLoaderErrorBubbling, isRouteRequest, filterMatchesToLoad, skipRevalidation) {\n    let result;\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: \"error\" /* error */,\n        error\n      };\n    } else {\n      let results = await callDataStrategy(\n        \"action\",\n        request,\n        [actionMatch],\n        matches,\n        isRouteRequest,\n        requestContext,\n        dataStrategy\n      );\n      result = results[actionMatch.route.id];\n      if (request.signal.aborted) {\n        throwStaticHandlerAbortedError(request, isRouteRequest);\n      }\n    }\n    if (isRedirectResult(result)) {\n      throw new Response(null, {\n        status: result.response.status,\n        headers: {\n          Location: result.response.headers.get(\"Location\")\n        }\n      });\n    }\n    if (isRouteRequest) {\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: { [actionMatch.route.id]: result.data },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {}\n      };\n    }\n    if (skipRevalidation) {\n      if (isErrorResult(result)) {\n        let boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);\n        return {\n          statusCode: isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,\n          actionData: null,\n          actionHeaders: {\n            ...result.headers ? { [actionMatch.route.id]: result.headers } : {}\n          },\n          matches,\n          loaderData: {},\n          errors: {\n            [boundaryMatch.route.id]: result.error\n          },\n          loaderHeaders: {}\n        };\n      } else {\n        return {\n          actionData: {\n            [actionMatch.route.id]: result.data\n          },\n          actionHeaders: result.headers ? { [actionMatch.route.id]: result.headers } : {},\n          matches,\n          loaderData: {},\n          errors: null,\n          statusCode: result.statusCode || 200,\n          loaderHeaders: {}\n        };\n      }\n    }\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal\n    });\n    if (isErrorResult(result)) {\n      let boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);\n      let handlerContext2 = await loadRouteData(\n        loaderRequest,\n        matches,\n        requestContext,\n        dataStrategy,\n        skipLoaderErrorBubbling,\n        null,\n        filterMatchesToLoad,\n        [boundaryMatch.route.id, result]\n      );\n      return {\n        ...handlerContext2,\n        statusCode: isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,\n        actionData: null,\n        actionHeaders: {\n          ...result.headers ? { [actionMatch.route.id]: result.headers } : {}\n        }\n      };\n    }\n    let handlerContext = await loadRouteData(\n      loaderRequest,\n      matches,\n      requestContext,\n      dataStrategy,\n      skipLoaderErrorBubbling,\n      null,\n      filterMatchesToLoad\n    );\n    return {\n      ...handlerContext,\n      actionData: {\n        [actionMatch.route.id]: result.data\n      },\n      // action status codes take precedence over loader status codes\n      ...result.statusCode ? { statusCode: result.statusCode } : {},\n      actionHeaders: result.headers ? { [actionMatch.route.id]: result.headers } : {}\n    };\n  }\n  async function loadRouteData(request, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, filterMatchesToLoad, pendingActionResult) {\n    let isRouteRequest = routeMatch != null;\n    if (isRouteRequest && !routeMatch?.route.loader && !routeMatch?.route.lazy) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch?.route.id\n      });\n    }\n    let requestMatches = routeMatch ? [routeMatch] : pendingActionResult && isErrorResult(pendingActionResult[1]) ? getLoaderMatchesUntilBoundary(matches, pendingActionResult[0]) : matches;\n    let matchesToLoad = requestMatches.filter(\n      (m) => (m.route.loader || m.route.lazy) && (!filterMatchesToLoad || filterMatchesToLoad(m))\n    );\n    if (matchesToLoad.length === 0) {\n      return {\n        matches,\n        // Add a null for all matched routes for proper revalidation on the client\n        loaderData: matches.reduce(\n          (acc, m) => Object.assign(acc, { [m.route.id]: null }),\n          {}\n        ),\n        errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? {\n          [pendingActionResult[0]]: pendingActionResult[1].error\n        } : null,\n        statusCode: 200,\n        loaderHeaders: {}\n      };\n    }\n    let results = await callDataStrategy(\n      \"loader\",\n      request,\n      matchesToLoad,\n      matches,\n      isRouteRequest,\n      requestContext,\n      dataStrategy\n    );\n    if (request.signal.aborted) {\n      throwStaticHandlerAbortedError(request, isRouteRequest);\n    }\n    let handlerContext = processRouteLoaderData(\n      matches,\n      results,\n      pendingActionResult,\n      true,\n      skipLoaderErrorBubbling\n    );\n    let executedLoaders = new Set(\n      matchesToLoad.map((match) => match.route.id)\n    );\n    matches.forEach((match) => {\n      if (!executedLoaders.has(match.route.id)) {\n        handlerContext.loaderData[match.route.id] = null;\n      }\n    });\n    return {\n      ...handlerContext,\n      matches\n    };\n  }\n  async function callDataStrategy(type, request, matchesToLoad, matches, isRouteRequest, requestContext, dataStrategy) {\n    let results = await callDataStrategyImpl(\n      dataStrategy || defaultDataStrategy,\n      type,\n      request,\n      matchesToLoad,\n      matches,\n      null,\n      manifest,\n      mapRouteProperties2,\n      requestContext,\n      false\n      // middleware not done via dataStrategy in the static handler\n    );\n    let dataResults = {};\n    await Promise.all(\n      matches.map(async (match) => {\n        if (!(match.route.id in results)) {\n          return;\n        }\n        let result = results[match.route.id];\n        if (isRedirectDataStrategyResult(result)) {\n          let response = result.result;\n          throw normalizeRelativeRoutingRedirectResponse(\n            response,\n            request,\n            match.route.id,\n            matches,\n            basename\n          );\n        }\n        if (isResponse(result.result) && isRouteRequest) {\n          throw result;\n        }\n        dataResults[match.route.id] = await convertDataStrategyResultToDataResult(result);\n      })\n    );\n    return dataResults;\n  }\n  return {\n    dataRoutes,\n    query,\n    queryRoute\n  };\n}\nfunction getStaticContextFromError(routes, handlerContext, error, boundaryId) {\n  let errorBoundaryId = boundaryId || handlerContext._deepestRenderedBoundaryId || routes[0].id;\n  return {\n    ...handlerContext,\n    statusCode: isRouteErrorResponse(error) ? error.status : 500,\n    errors: {\n      [errorBoundaryId]: error\n    }\n  };\n}\nfunction throwStaticHandlerAbortedError(request, isRouteRequest) {\n  if (request.signal.reason !== void 0) {\n    throw request.signal.reason;\n  }\n  let method = isRouteRequest ? \"queryRoute\" : \"query\";\n  throw new Error(\n    `${method}() call aborted without an \\`AbortSignal.reason\\`: ${request.method} ${request.url}`\n  );\n}\nfunction isSubmissionNavigation(opts) {\n  return opts != null && (\"formData\" in opts && opts.formData != null || \"body\" in opts && opts.body !== void 0);\n}\nfunction normalizeTo(location, matches, basename, to, fromRouteId, relative) {\n  let contextualMatches;\n  let activeRouteMatch;\n  if (fromRouteId) {\n    contextualMatches = [];\n    for (let match of matches) {\n      contextualMatches.push(match);\n      if (match.route.id === fromRouteId) {\n        activeRouteMatch = match;\n        break;\n      }\n    }\n  } else {\n    contextualMatches = matches;\n    activeRouteMatch = matches[matches.length - 1];\n  }\n  let path = resolveTo(\n    to ? to : \".\",\n    getResolveToMatches(contextualMatches),\n    stripBasename(location.pathname, basename) || location.pathname,\n    relative === \"path\"\n  );\n  if (to == null) {\n    path.search = location.search;\n    path.hash = location.hash;\n  }\n  if ((to == null || to === \"\" || to === \".\") && activeRouteMatch) {\n    let nakedIndex = hasNakedIndexQuery(path.search);\n    if (activeRouteMatch.route.index && !nakedIndex) {\n      path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n    } else if (!activeRouteMatch.route.index && nakedIndex) {\n      let params = new URLSearchParams(path.search);\n      let indexValues = params.getAll(\"index\");\n      params.delete(\"index\");\n      indexValues.filter((v) => v).forEach((v) => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? `?${qs}` : \"\";\n    }\n  }\n  if (basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\nfunction normalizeNavigateOptions(isFetcher, path, opts) {\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return { path };\n  }\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, { method: opts.formMethod })\n    };\n  }\n  let getInvalidBodyError = () => ({\n    path,\n    error: getInternalRouterError(400, { type: \"invalid-body\" })\n  });\n  let rawFormMethod = opts.formMethod || \"get\";\n  let formMethod = rawFormMethod.toUpperCase();\n  let formAction = stripHashFromPath(path);\n  if (opts.body !== void 0) {\n    if (opts.formEncType === \"text/plain\") {\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      let text = typeof opts.body === \"string\" ? opts.body : opts.body instanceof FormData || opts.body instanceof URLSearchParams ? (\n        // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data\n        Array.from(opts.body.entries()).reduce(\n          (acc, [name, value]) => `${acc}${name}=${value}\n`,\n          \"\"\n        )\n      ) : String(opts.body);\n      return {\n        path,\n        submission: {\n          formMethod,\n          formAction,\n          formEncType: opts.formEncType,\n          formData: void 0,\n          json: void 0,\n          text\n        }\n      };\n    } else if (opts.formEncType === \"application/json\") {\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      try {\n        let json = typeof opts.body === \"string\" ? JSON.parse(opts.body) : opts.body;\n        return {\n          path,\n          submission: {\n            formMethod,\n            formAction,\n            formEncType: opts.formEncType,\n            formData: void 0,\n            json,\n            text: void 0\n          }\n        };\n      } catch (e) {\n        return getInvalidBodyError();\n      }\n    }\n  }\n  invariant(\n    typeof FormData === \"function\",\n    \"FormData is not available in this environment\"\n  );\n  let searchParams;\n  let formData;\n  if (opts.formData) {\n    searchParams = convertFormDataToSearchParams(opts.formData);\n    formData = opts.formData;\n  } else if (opts.body instanceof FormData) {\n    searchParams = convertFormDataToSearchParams(opts.body);\n    formData = opts.body;\n  } else if (opts.body instanceof URLSearchParams) {\n    searchParams = opts.body;\n    formData = convertSearchParamsToFormData(searchParams);\n  } else if (opts.body == null) {\n    searchParams = new URLSearchParams();\n    formData = new FormData();\n  } else {\n    try {\n      searchParams = new URLSearchParams(opts.body);\n      formData = convertSearchParamsToFormData(searchParams);\n    } catch (e) {\n      return getInvalidBodyError();\n    }\n  }\n  let submission = {\n    formMethod,\n    formAction,\n    formEncType: opts && opts.formEncType || \"application/x-www-form-urlencoded\",\n    formData,\n    json: void 0,\n    text: void 0\n  };\n  if (isMutationMethod(submission.formMethod)) {\n    return { path, submission };\n  }\n  let parsedPath = parsePath(path);\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = `?${searchParams}`;\n  return { path: createPath(parsedPath), submission };\n}\nfunction getLoaderMatchesUntilBoundary(matches, boundaryId, includeBoundary = false) {\n  let index = matches.findIndex((m) => m.route.id === boundaryId);\n  if (index >= 0) {\n    return matches.slice(0, includeBoundary ? index + 1 : index);\n  }\n  return matches;\n}\nfunction getMatchesToLoad(history, state, matches, submission, location, initialHydration, isRevalidationRequired, cancelledFetcherLoads, fetchersQueuedForDeletion, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionResult) {\n  let actionResult = pendingActionResult ? isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : pendingActionResult[1].data : void 0;\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n  let boundaryMatches = matches;\n  if (initialHydration && state.errors) {\n    boundaryMatches = getLoaderMatchesUntilBoundary(\n      matches,\n      Object.keys(state.errors)[0],\n      true\n    );\n  } else if (pendingActionResult && isErrorResult(pendingActionResult[1])) {\n    boundaryMatches = getLoaderMatchesUntilBoundary(\n      matches,\n      pendingActionResult[0]\n    );\n  }\n  let actionStatus = pendingActionResult ? pendingActionResult[1].statusCode : void 0;\n  let shouldSkipRevalidation = actionStatus && actionStatus >= 400;\n  let navigationMatches = boundaryMatches.filter((match, index) => {\n    let { route } = match;\n    if (route.lazy) {\n      return true;\n    }\n    if (route.loader == null) {\n      return false;\n    }\n    if (initialHydration) {\n      return shouldLoadRouteOnHydration(route, state.loaderData, state.errors);\n    }\n    if (isNewLoader(state.loaderData, state.matches[index], match)) {\n      return true;\n    }\n    let currentRouteMatch = state.matches[index];\n    let nextRouteMatch = match;\n    return shouldRevalidateLoader(match, {\n      currentUrl,\n      currentParams: currentRouteMatch.params,\n      nextUrl,\n      nextParams: nextRouteMatch.params,\n      ...submission,\n      actionResult,\n      actionStatus,\n      defaultShouldRevalidate: shouldSkipRevalidation ? false : (\n        // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n        isRevalidationRequired || currentUrl.pathname + currentUrl.search === nextUrl.pathname + nextUrl.search || // Search params affect all loaders\n        currentUrl.search !== nextUrl.search || isNewRouteInstance(currentRouteMatch, nextRouteMatch)\n      )\n    });\n  });\n  let revalidatingFetchers = [];\n  fetchLoadMatches.forEach((f, key) => {\n    if (initialHydration || !matches.some((m) => m.route.id === f.routeId) || fetchersQueuedForDeletion.has(key)) {\n      return;\n    }\n    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);\n    if (!fetcherMatches) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: null,\n        match: null,\n        controller: null\n      });\n      return;\n    }\n    let fetcher = state.fetchers.get(key);\n    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);\n    let shouldRevalidate = false;\n    if (fetchRedirectIds.has(key)) {\n      shouldRevalidate = false;\n    } else if (cancelledFetcherLoads.has(key)) {\n      cancelledFetcherLoads.delete(key);\n      shouldRevalidate = true;\n    } else if (fetcher && fetcher.state !== \"idle\" && fetcher.data === void 0) {\n      shouldRevalidate = isRevalidationRequired;\n    } else {\n      shouldRevalidate = shouldRevalidateLoader(fetcherMatch, {\n        currentUrl,\n        currentParams: state.matches[state.matches.length - 1].params,\n        nextUrl,\n        nextParams: matches[matches.length - 1].params,\n        ...submission,\n        actionResult,\n        actionStatus,\n        defaultShouldRevalidate: shouldSkipRevalidation ? false : isRevalidationRequired\n      });\n    }\n    if (shouldRevalidate) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: fetcherMatches,\n        match: fetcherMatch,\n        controller: new AbortController()\n      });\n    }\n  });\n  return [navigationMatches, revalidatingFetchers];\n}\nfunction shouldLoadRouteOnHydration(route, loaderData, errors) {\n  if (route.lazy) {\n    return true;\n  }\n  if (!route.loader) {\n    return false;\n  }\n  let hasData = loaderData != null && loaderData[route.id] !== void 0;\n  let hasError = errors != null && errors[route.id] !== void 0;\n  if (!hasData && hasError) {\n    return false;\n  }\n  if (typeof route.loader === \"function\" && route.loader.hydrate === true) {\n    return true;\n  }\n  return !hasData && !hasError;\n}\nfunction isNewLoader(currentLoaderData, currentMatch, match) {\n  let isNew = (\n    // [a] -> [a, b]\n    !currentMatch || // [a, b] -> [a, c]\n    match.route.id !== currentMatch.route.id\n  );\n  let isMissingData = !currentLoaderData.hasOwnProperty(match.route.id);\n  return isNew || isMissingData;\n}\nfunction isNewRouteInstance(currentMatch, match) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname || // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    currentPath != null && currentPath.endsWith(\"*\") && currentMatch.params[\"*\"] !== match.params[\"*\"]\n  );\n}\nfunction shouldRevalidateLoader(loaderMatch, arg) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n  return arg.defaultShouldRevalidate;\n}\nfunction patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties2) {\n  let childrenToPatch;\n  if (routeId) {\n    let route = manifest[routeId];\n    invariant(\n      route,\n      `No route found to patch children into: routeId = ${routeId}`\n    );\n    if (!route.children) {\n      route.children = [];\n    }\n    childrenToPatch = route.children;\n  } else {\n    childrenToPatch = routesToUse;\n  }\n  let uniqueChildren = children.filter(\n    (newRoute) => !childrenToPatch.some(\n      (existingRoute) => isSameRoute(newRoute, existingRoute)\n    )\n  );\n  let newRoutes = convertRoutesToDataRoutes(\n    uniqueChildren,\n    mapRouteProperties2,\n    [routeId || \"_\", \"patch\", String(childrenToPatch?.length || \"0\")],\n    manifest\n  );\n  childrenToPatch.push(...newRoutes);\n}\nfunction isSameRoute(newRoute, existingRoute) {\n  if (\"id\" in newRoute && \"id\" in existingRoute && newRoute.id === existingRoute.id) {\n    return true;\n  }\n  if (!(newRoute.index === existingRoute.index && newRoute.path === existingRoute.path && newRoute.caseSensitive === existingRoute.caseSensitive)) {\n    return false;\n  }\n  if ((!newRoute.children || newRoute.children.length === 0) && (!existingRoute.children || existingRoute.children.length === 0)) {\n    return true;\n  }\n  return newRoute.children.every(\n    (aChild, i) => existingRoute.children?.some((bChild) => isSameRoute(aChild, bChild))\n  );\n}\nasync function loadLazyRouteModule(route, mapRouteProperties2, manifest) {\n  if (!route.lazy) {\n    return;\n  }\n  let lazyRoute = await route.lazy();\n  if (!route.lazy) {\n    return;\n  }\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n  let routeUpdates = {};\n  for (let lazyRouteProperty in lazyRoute) {\n    let staticRouteValue = routeToUpdate[lazyRouteProperty];\n    let isPropertyStaticallyDefined = staticRouteValue !== void 0 && // This property isn't static since it should always be updated based\n    // on the route updates\n    lazyRouteProperty !== \"hasErrorBoundary\";\n    warning(\n      !isPropertyStaticallyDefined,\n      `Route \"${routeToUpdate.id}\" has a static property \"${lazyRouteProperty}\" defined but its lazy function is also returning a value for this property. The lazy route property \"${lazyRouteProperty}\" will be ignored.`\n    );\n    if (!isPropertyStaticallyDefined && !immutableRouteKeys.has(lazyRouteProperty)) {\n      routeUpdates[lazyRouteProperty] = lazyRoute[lazyRouteProperty];\n    }\n  }\n  Object.assign(routeToUpdate, routeUpdates);\n  Object.assign(routeToUpdate, {\n    // To keep things framework agnostic, we use the provided `mapRouteProperties`\n    // function to set the framework-aware properties (`element`/`hasErrorBoundary`)\n    // since the logic will differ between frameworks.\n    ...mapRouteProperties2(routeToUpdate),\n    lazy: void 0\n  });\n}\nasync function defaultDataStrategy(args) {\n  let matchesToLoad = args.matches.filter((m) => m.shouldLoad);\n  let keyedResults = {};\n  let results = await Promise.all(matchesToLoad.map((m) => m.resolve()));\n  results.forEach((result, i) => {\n    keyedResults[matchesToLoad[i].route.id] = result;\n  });\n  return keyedResults;\n}\nasync function defaultDataStrategyWithMiddleware(args) {\n  if (!args.matches.some((m) => m.route.unstable_middleware)) {\n    return defaultDataStrategy(args);\n  }\n  return runMiddlewarePipeline(\n    args,\n    false,\n    () => defaultDataStrategy(args),\n    (e) => ({ [e.routeId]: { type: \"error\", result: e.error } })\n  );\n}\nasync function runMiddlewarePipeline(args, propagateResult, handler, errorHandler) {\n  let { matches, request, params, context } = args;\n  let middlewareState = {\n    handlerResult: void 0,\n    propagateResult\n  };\n  try {\n    let tuples = matches.flatMap(\n      (m) => m.route.unstable_middleware ? m.route.unstable_middleware.map((fn) => [m.route.id, fn]) : []\n    );\n    let result = await callRouteMiddleware(\n      { request, params, context },\n      tuples,\n      middlewareState,\n      handler\n    );\n    return middlewareState.propagateResult ? result : middlewareState.handlerResult;\n  } catch (e) {\n    if (!(e instanceof MiddlewareError)) {\n      throw e;\n    }\n    let result = await errorHandler(e);\n    if (propagateResult || !middlewareState.handlerResult) {\n      return result;\n    }\n    return Object.assign(middlewareState.handlerResult, result);\n  }\n}\nvar MiddlewareError = class {\n  constructor(routeId, error) {\n    this.routeId = routeId;\n    this.error = error;\n  }\n};\nasync function callRouteMiddleware(args, middlewares, middlewareState, handler, idx = 0) {\n  let { request } = args;\n  if (request.signal.aborted) {\n    if (request.signal.reason) {\n      throw request.signal.reason;\n    }\n    throw new Error(\n      `Request aborted without an \\`AbortSignal.reason\\`: ${request.method} ${request.url}`\n    );\n  }\n  let tuple = middlewares[idx];\n  if (!tuple) {\n    middlewareState.handlerResult = await handler();\n    return middlewareState.handlerResult;\n  }\n  let [routeId, middleware] = tuple;\n  let nextCalled = false;\n  let nextResult = void 0;\n  let next = async () => {\n    if (nextCalled) {\n      throw new Error(\"You may only call `next()` once per middleware\");\n    }\n    nextCalled = true;\n    let result = await callRouteMiddleware(\n      args,\n      middlewares,\n      middlewareState,\n      handler,\n      idx + 1\n    );\n    if (middlewareState.propagateResult) {\n      nextResult = result;\n      return nextResult;\n    }\n  };\n  try {\n    let result = await middleware(\n      {\n        request: args.request,\n        params: args.params,\n        context: args.context\n      },\n      next\n    );\n    if (nextCalled) {\n      if (result === void 0) {\n        return nextResult;\n      } else {\n        return result;\n      }\n    } else {\n      return next();\n    }\n  } catch (e) {\n    if (e instanceof MiddlewareError) {\n      throw e;\n    }\n    throw new MiddlewareError(routeId, e);\n  }\n}\nasync function callDataStrategyImpl(dataStrategyImpl, type, request, matchesToLoad, matches, fetcherKey, manifest, mapRouteProperties2, scopedContext, enableMiddleware) {\n  let loadRouteDefinitionsPromises = matches.map(\n    (m) => m.route.lazy ? loadLazyRouteModule(m.route, mapRouteProperties2, manifest) : void 0\n  );\n  if (enableMiddleware) {\n    await Promise.all(loadRouteDefinitionsPromises);\n  }\n  let dsMatches = matches.map((match, i) => {\n    let loadRoutePromise = loadRouteDefinitionsPromises[i];\n    let shouldLoad = matchesToLoad.some((m) => m.route.id === match.route.id);\n    let resolve = async (handlerOverride) => {\n      if (handlerOverride && request.method === \"GET\" && (match.route.lazy || match.route.loader)) {\n        shouldLoad = true;\n      }\n      return shouldLoad ? callLoaderOrAction(\n        type,\n        request,\n        match,\n        loadRoutePromise,\n        handlerOverride,\n        scopedContext\n      ) : Promise.resolve({ type: \"data\" /* data */, result: void 0 });\n    };\n    return {\n      ...match,\n      shouldLoad,\n      resolve\n    };\n  });\n  let results = await dataStrategyImpl({\n    matches: dsMatches,\n    request,\n    params: matches[0].params,\n    fetcherKey,\n    context: scopedContext\n  });\n  try {\n    await Promise.all(loadRouteDefinitionsPromises);\n  } catch (e) {\n  }\n  return results;\n}\nasync function callLoaderOrAction(type, request, match, loadRoutePromise, handlerOverride, scopedContext) {\n  let result;\n  let onReject;\n  let runHandler = (handler) => {\n    let reject;\n    let abortPromise = new Promise((_, r) => reject = r);\n    onReject = () => reject();\n    request.signal.addEventListener(\"abort\", onReject);\n    let actualHandler = (ctx) => {\n      if (typeof handler !== \"function\") {\n        return Promise.reject(\n          new Error(\n            `You cannot call the handler for a route which defines a boolean \"${type}\" [routeId: ${match.route.id}]`\n          )\n        );\n      }\n      return handler(\n        {\n          request,\n          params: match.params,\n          context: scopedContext\n        },\n        ...ctx !== void 0 ? [ctx] : []\n      );\n    };\n    let handlerPromise = (async () => {\n      try {\n        let val = await (handlerOverride ? handlerOverride((ctx) => actualHandler(ctx)) : actualHandler());\n        return { type: \"data\", result: val };\n      } catch (e) {\n        return { type: \"error\", result: e };\n      }\n    })();\n    return Promise.race([handlerPromise, abortPromise]);\n  };\n  try {\n    let handler = match.route[type];\n    if (loadRoutePromise) {\n      if (handler) {\n        let handlerError;\n        let [value] = await Promise.all([\n          // If the handler throws, don't let it immediately bubble out,\n          // since we need to let the lazy() execution finish so we know if this\n          // route has a boundary that can handle the error\n          runHandler(handler).catch((e) => {\n            handlerError = e;\n          }),\n          loadRoutePromise\n        ]);\n        if (handlerError !== void 0) {\n          throw handlerError;\n        }\n        result = value;\n      } else {\n        await loadRoutePromise;\n        handler = match.route[type];\n        if (handler) {\n          result = await runHandler(handler);\n        } else if (type === \"action\") {\n          let url = new URL(request.url);\n          let pathname = url.pathname + url.search;\n          throw getInternalRouterError(405, {\n            method: request.method,\n            pathname,\n            routeId: match.route.id\n          });\n        } else {\n          return { type: \"data\" /* data */, result: void 0 };\n        }\n      }\n    } else if (!handler) {\n      let url = new URL(request.url);\n      let pathname = url.pathname + url.search;\n      throw getInternalRouterError(404, {\n        pathname\n      });\n    } else {\n      result = await runHandler(handler);\n    }\n  } catch (e) {\n    return { type: \"error\" /* error */, result: e };\n  } finally {\n    if (onReject) {\n      request.signal.removeEventListener(\"abort\", onReject);\n    }\n  }\n  return result;\n}\nasync function convertDataStrategyResultToDataResult(dataStrategyResult) {\n  let { result, type } = dataStrategyResult;\n  if (isResponse(result)) {\n    let data2;\n    try {\n      let contentType = result.headers.get(\"Content-Type\");\n      if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n        if (result.body == null) {\n          data2 = null;\n        } else {\n          data2 = await result.json();\n        }\n      } else {\n        data2 = await result.text();\n      }\n    } catch (e) {\n      return { type: \"error\" /* error */, error: e };\n    }\n    if (type === \"error\" /* error */) {\n      return {\n        type: \"error\" /* error */,\n        error: new ErrorResponseImpl(result.status, result.statusText, data2),\n        statusCode: result.status,\n        headers: result.headers\n      };\n    }\n    return {\n      type: \"data\" /* data */,\n      data: data2,\n      statusCode: result.status,\n      headers: result.headers\n    };\n  }\n  if (type === \"error\" /* error */) {\n    if (isDataWithResponseInit(result)) {\n      if (result.data instanceof Error) {\n        return {\n          type: \"error\" /* error */,\n          error: result.data,\n          statusCode: result.init?.status,\n          headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n        };\n      }\n      return {\n        type: \"error\" /* error */,\n        error: new ErrorResponseImpl(\n          result.init?.status || 500,\n          void 0,\n          result.data\n        ),\n        statusCode: isRouteErrorResponse(result) ? result.status : void 0,\n        headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n      };\n    }\n    return {\n      type: \"error\" /* error */,\n      error: result,\n      statusCode: isRouteErrorResponse(result) ? result.status : void 0\n    };\n  }\n  if (isDataWithResponseInit(result)) {\n    return {\n      type: \"data\" /* data */,\n      data: result.data,\n      statusCode: result.init?.status,\n      headers: result.init?.headers ? new Headers(result.init.headers) : void 0\n    };\n  }\n  return { type: \"data\" /* data */, data: result };\n}\nfunction normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename) {\n  let location = response.headers.get(\"Location\");\n  invariant(\n    location,\n    \"Redirects returned/thrown from loaders/actions must have a Location header\"\n  );\n  if (!ABSOLUTE_URL_REGEX.test(location)) {\n    let trimmedMatches = matches.slice(\n      0,\n      matches.findIndex((m) => m.route.id === routeId) + 1\n    );\n    location = normalizeTo(\n      new URL(request.url),\n      trimmedMatches,\n      basename,\n      location\n    );\n    response.headers.set(\"Location\", location);\n  }\n  return response;\n}\nfunction normalizeRedirectLocation(location, currentUrl, basename) {\n  if (ABSOLUTE_URL_REGEX.test(location)) {\n    let normalizedLocation = location;\n    let url = normalizedLocation.startsWith(\"//\") ? new URL(currentUrl.protocol + normalizedLocation) : new URL(normalizedLocation);\n    let isSameBasename = stripBasename(url.pathname, basename) != null;\n    if (url.origin === currentUrl.origin && isSameBasename) {\n      return url.pathname + url.search + url.hash;\n    }\n  }\n  return location;\n}\nfunction createClientSideRequest(history, location, signal, submission) {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init = { signal };\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let { formMethod, formEncType } = submission;\n    init.method = formMethod.toUpperCase();\n    if (formEncType === \"application/json\") {\n      init.headers = new Headers({ \"Content-Type\": formEncType });\n      init.body = JSON.stringify(submission.json);\n    } else if (formEncType === \"text/plain\") {\n      init.body = submission.text;\n    } else if (formEncType === \"application/x-www-form-urlencoded\" && submission.formData) {\n      init.body = convertFormDataToSearchParams(submission.formData);\n    } else {\n      init.body = submission.formData;\n    }\n  }\n  return new Request(url, init);\n}\nfunction convertFormDataToSearchParams(formData) {\n  let searchParams = new URLSearchParams();\n  for (let [key, value] of formData.entries()) {\n    searchParams.append(key, typeof value === \"string\" ? value : value.name);\n  }\n  return searchParams;\n}\nfunction convertSearchParamsToFormData(searchParams) {\n  let formData = new FormData();\n  for (let [key, value] of searchParams.entries()) {\n    formData.append(key, value);\n  }\n  return formData;\n}\nfunction processRouteLoaderData(matches, results, pendingActionResult, isStaticHandler = false, skipLoaderErrorBubbling = false) {\n  let loaderData = {};\n  let errors = null;\n  let statusCode;\n  let foundError = false;\n  let loaderHeaders = {};\n  let pendingError = pendingActionResult && isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : void 0;\n  matches.forEach((match) => {\n    if (!(match.route.id in results)) {\n      return;\n    }\n    let id = match.route.id;\n    let result = results[id];\n    invariant(\n      !isRedirectResult(result),\n      \"Cannot handle redirect results in processLoaderData\"\n    );\n    if (isErrorResult(result)) {\n      let error = result.error;\n      if (pendingError !== void 0) {\n        error = pendingError;\n        pendingError = void 0;\n      }\n      errors = errors || {};\n      if (skipLoaderErrorBubbling) {\n        errors[id] = error;\n      } else {\n        let boundaryMatch = findNearestBoundary(matches, id);\n        if (errors[boundaryMatch.route.id] == null) {\n          errors[boundaryMatch.route.id] = error;\n        }\n      }\n      if (!isStaticHandler) {\n        loaderData[id] = ResetLoaderDataSymbol;\n      }\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error) ? result.error.status : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      loaderData[id] = result.data;\n      if (result.statusCode && result.statusCode !== 200 && !foundError) {\n        statusCode = result.statusCode;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    }\n  });\n  if (pendingError !== void 0 && pendingActionResult) {\n    errors = { [pendingActionResult[0]]: pendingError };\n    loaderData[pendingActionResult[0]] = void 0;\n  }\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders\n  };\n}\nfunction processLoaderData(state, matches, results, pendingActionResult, revalidatingFetchers, fetcherResults) {\n  let { loaderData, errors } = processRouteLoaderData(\n    matches,\n    results,\n    pendingActionResult\n  );\n  revalidatingFetchers.forEach((rf) => {\n    let { key, match, controller } = rf;\n    let result = fetcherResults[key];\n    invariant(result, \"Did not find corresponding fetcher result\");\n    if (controller && controller.signal.aborted) {\n      return;\n    } else if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match?.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = {\n          ...errors,\n          [boundaryMatch.route.id]: result.error\n        };\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else {\n      let doneFetcher = getDoneFetcher(result.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  });\n  return { loaderData, errors };\n}\nfunction mergeLoaderData(loaderData, newLoaderData, matches, errors) {\n  let mergedLoaderData = Object.entries(newLoaderData).filter(([, v]) => v !== ResetLoaderDataSymbol).reduce((merged, [k, v]) => {\n    merged[k] = v;\n    return merged;\n  }, {});\n  for (let match of matches) {\n    let id = match.route.id;\n    if (!newLoaderData.hasOwnProperty(id) && loaderData.hasOwnProperty(id) && match.route.loader) {\n      mergedLoaderData[id] = loaderData[id];\n    }\n    if (errors && errors.hasOwnProperty(id)) {\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\nfunction getActionDataForCommit(pendingActionResult) {\n  if (!pendingActionResult) {\n    return {};\n  }\n  return isErrorResult(pendingActionResult[1]) ? {\n    // Clear out prior actionData on errors\n    actionData: {}\n  } : {\n    actionData: {\n      [pendingActionResult[0]]: pendingActionResult[1].data\n    }\n  };\n}\nfunction findNearestBoundary(matches, routeId) {\n  let eligibleMatches = routeId ? matches.slice(0, matches.findIndex((m) => m.route.id === routeId) + 1) : [...matches];\n  return eligibleMatches.reverse().find((m) => m.route.hasErrorBoundary === true) || matches[0];\n}\nfunction getShortCircuitMatches(routes) {\n  let route = routes.length === 1 ? routes[0] : routes.find((r) => r.index || !r.path || r.path === \"/\") || {\n    id: `__shim-error-route__`\n  };\n  return {\n    matches: [\n      {\n        params: {},\n        pathname: \"\",\n        pathnameBase: \"\",\n        route\n      }\n    ],\n    route\n  };\n}\nfunction getInternalRouterError(status, {\n  pathname,\n  routeId,\n  method,\n  type,\n  message\n} = {}) {\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage = `You made a ${method} request to \"${pathname}\" but did not provide a \\`loader\\` for route \"${routeId}\", so there is no way to handle the request.`;\n    } else if (type === \"invalid-body\") {\n      errorMessage = \"Unable to encode submission body\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = `Route \"${routeId}\" does not match URL \"${pathname}\"`;\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = `No route matches URL \"${pathname}\"`;\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage = `You made a ${method.toUpperCase()} request to \"${pathname}\" but did not provide an \\`action\\` for route \"${routeId}\", so there is no way to handle the request.`;\n    } else if (method) {\n      errorMessage = `Invalid request method \"${method.toUpperCase()}\"`;\n    }\n  }\n  return new ErrorResponseImpl(\n    status || 500,\n    statusText,\n    new Error(errorMessage),\n    true\n  );\n}\nfunction findRedirect(results) {\n  let entries = Object.entries(results);\n  for (let i = entries.length - 1; i >= 0; i--) {\n    let [key, result] = entries[i];\n    if (isRedirectResult(result)) {\n      return { key, result };\n    }\n  }\n}\nfunction stripHashFromPath(path) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath({ ...parsedPath, hash: \"\" });\n}\nfunction isHashChangeOnly(a, b) {\n  if (a.pathname !== b.pathname || a.search !== b.search) {\n    return false;\n  }\n  if (a.hash === \"\") {\n    return b.hash !== \"\";\n  } else if (a.hash === b.hash) {\n    return true;\n  } else if (b.hash !== \"\") {\n    return true;\n  }\n  return false;\n}\nfunction isDataStrategyResult(result) {\n  return result != null && typeof result === \"object\" && \"type\" in result && \"result\" in result && (result.type === \"data\" /* data */ || result.type === \"error\" /* error */);\n}\nfunction isRedirectDataStrategyResult(result) {\n  return isResponse(result.result) && redirectStatusCodes.has(result.result.status);\n}\nfunction isErrorResult(result) {\n  return result.type === \"error\" /* error */;\n}\nfunction isRedirectResult(result) {\n  return (result && result.type) === \"redirect\" /* redirect */;\n}\nfunction isDataWithResponseInit(value) {\n  return typeof value === \"object\" && value != null && \"type\" in value && \"data\" in value && \"init\" in value && value.type === \"DataWithResponseInit\";\n}\nfunction isResponse(value) {\n  return value != null && typeof value.status === \"number\" && typeof value.statusText === \"string\" && typeof value.headers === \"object\" && typeof value.body !== \"undefined\";\n}\nfunction isRedirectStatusCode(statusCode) {\n  return redirectStatusCodes.has(statusCode);\n}\nfunction isRedirectResponse(result) {\n  return isResponse(result) && isRedirectStatusCode(result.status) && result.headers.has(\"Location\");\n}\nfunction isValidMethod(method) {\n  return validRequestMethods.has(method.toUpperCase());\n}\nfunction isMutationMethod(method) {\n  return validMutationMethods.has(method.toUpperCase());\n}\nfunction hasNakedIndexQuery(search) {\n  return new URLSearchParams(search).getAll(\"index\").some((v) => v === \"\");\n}\nfunction getTargetMatch(matches, location) {\n  let search = typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (matches[matches.length - 1].route.index && hasNakedIndexQuery(search || \"\")) {\n    return matches[matches.length - 1];\n  }\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\nfunction getSubmissionFromNavigation(navigation) {\n  let { formMethod, formAction, formEncType, text, formData, json } = navigation;\n  if (!formMethod || !formAction || !formEncType) {\n    return;\n  }\n  if (text != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: void 0,\n      json: void 0,\n      text\n    };\n  } else if (formData != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData,\n      json: void 0,\n      text: void 0\n    };\n  } else if (json !== void 0) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: void 0,\n      json,\n      text: void 0\n    };\n  }\n}\nfunction getLoadingNavigation(location, submission) {\n  if (submission) {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text\n    };\n    return navigation;\n  } else {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: void 0,\n      formAction: void 0,\n      formEncType: void 0,\n      formData: void 0,\n      json: void 0,\n      text: void 0\n    };\n    return navigation;\n  }\n}\nfunction getSubmittingNavigation(location, submission) {\n  let navigation = {\n    state: \"submitting\",\n    location,\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text\n  };\n  return navigation;\n}\nfunction getLoadingFetcher(submission, data2) {\n  if (submission) {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n      data: data2\n    };\n    return fetcher;\n  } else {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: void 0,\n      formAction: void 0,\n      formEncType: void 0,\n      formData: void 0,\n      json: void 0,\n      text: void 0,\n      data: data2\n    };\n    return fetcher;\n  }\n}\nfunction getSubmittingFetcher(submission, existingFetcher) {\n  let fetcher = {\n    state: \"submitting\",\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n    data: existingFetcher ? existingFetcher.data : void 0\n  };\n  return fetcher;\n}\nfunction getDoneFetcher(data2) {\n  let fetcher = {\n    state: \"idle\",\n    formMethod: void 0,\n    formAction: void 0,\n    formEncType: void 0,\n    formData: void 0,\n    json: void 0,\n    text: void 0,\n    data: data2\n  };\n  return fetcher;\n}\nfunction restoreAppliedTransitions(_window, transitions) {\n  try {\n    let sessionPositions = _window.sessionStorage.getItem(\n      TRANSITIONS_STORAGE_KEY\n    );\n    if (sessionPositions) {\n      let json = JSON.parse(sessionPositions);\n      for (let [k, v] of Object.entries(json || {})) {\n        if (v && Array.isArray(v)) {\n          transitions.set(k, new Set(v || []));\n        }\n      }\n    }\n  } catch (e) {\n  }\n}\nfunction persistAppliedTransitions(_window, transitions) {\n  if (transitions.size > 0) {\n    let json = {};\n    for (let [k, v] of transitions) {\n      json[k] = [...v];\n    }\n    try {\n      _window.sessionStorage.setItem(\n        TRANSITIONS_STORAGE_KEY,\n        JSON.stringify(json)\n      );\n    } catch (error) {\n      warning(\n        false,\n        `Failed to save applied view transitions in sessionStorage (${error}).`\n      );\n    }\n  }\n}\nfunction createDeferred() {\n  let resolve;\n  let reject;\n  let promise = new Promise((res, rej) => {\n    resolve = async (val) => {\n      res(val);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n    reject = async (error) => {\n      rej(error);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n  });\n  return {\n    promise,\n    //@ts-ignore\n    resolve,\n    //@ts-ignore\n    reject\n  };\n}\n\n// lib/components.tsx\nimport * as React3 from \"react\";\n\n// lib/context.ts\nimport * as React from \"react\";\nvar DataRouterContext = React.createContext(null);\nDataRouterContext.displayName = \"DataRouter\";\nvar DataRouterStateContext = React.createContext(null);\nDataRouterStateContext.displayName = \"DataRouterState\";\nvar ViewTransitionContext = React.createContext({\n  isTransitioning: false\n});\nViewTransitionContext.displayName = \"ViewTransition\";\nvar FetchersContext = React.createContext(\n  /* @__PURE__ */ new Map()\n);\nFetchersContext.displayName = \"Fetchers\";\nvar AwaitContext = React.createContext(null);\nAwaitContext.displayName = \"Await\";\nvar NavigationContext = React.createContext(\n  null\n);\nNavigationContext.displayName = \"Navigation\";\nvar LocationContext = React.createContext(\n  null\n);\nLocationContext.displayName = \"Location\";\nvar RouteContext = React.createContext({\n  outlet: null,\n  matches: [],\n  isDataRoute: false\n});\nRouteContext.displayName = \"Route\";\nvar RouteErrorContext = React.createContext(null);\nRouteErrorContext.displayName = \"RouteError\";\n\n// lib/hooks.tsx\nimport * as React2 from \"react\";\nvar ENABLE_DEV_WARNINGS = true;\nfunction useHref(to, { relative } = {}) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useHref() may be used only in the context of a <Router> component.`\n  );\n  let { basename, navigator: navigator2 } = React2.useContext(NavigationContext);\n  let { hash, pathname, search } = useResolvedPath(to, { relative });\n  let joinedPathname = pathname;\n  if (basename !== \"/\") {\n    joinedPathname = pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n  return navigator2.createHref({ pathname: joinedPathname, search, hash });\n}\nfunction useInRouterContext() {\n  return React2.useContext(LocationContext) != null;\n}\nfunction useLocation() {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useLocation() may be used only in the context of a <Router> component.`\n  );\n  return React2.useContext(LocationContext).location;\n}\nfunction useNavigationType() {\n  return React2.useContext(LocationContext).navigationType;\n}\nfunction useMatch(pattern) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useMatch() may be used only in the context of a <Router> component.`\n  );\n  let { pathname } = useLocation();\n  return React2.useMemo(\n    () => matchPath(pattern, decodePath(pathname)),\n    [pathname, pattern]\n  );\n}\nvar navigateEffectWarning = `You should call navigate() in a React.useEffect(), not when your component is first rendered.`;\nfunction useIsomorphicLayoutEffect(cb) {\n  let isStatic = React2.useContext(NavigationContext).static;\n  if (!isStatic) {\n    React2.useLayoutEffect(cb);\n  }\n}\nfunction useNavigate() {\n  let { isDataRoute } = React2.useContext(RouteContext);\n  return isDataRoute ? useNavigateStable() : useNavigateUnstable();\n}\nfunction useNavigateUnstable() {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useNavigate() may be used only in the context of a <Router> component.`\n  );\n  let dataRouterContext = React2.useContext(DataRouterContext);\n  let { basename, navigator: navigator2 } = React2.useContext(NavigationContext);\n  let { matches } = React2.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches));\n  let activeRef = React2.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React2.useCallback(\n    (to, options = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n      if (!activeRef.current) return;\n      if (typeof to === \"number\") {\n        navigator2.go(to);\n        return;\n      }\n      let path = resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        options.relative === \"path\"\n      );\n      if (dataRouterContext == null && basename !== \"/\") {\n        path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n      }\n      (!!options.replace ? navigator2.replace : navigator2.push)(\n        path,\n        options.state,\n        options\n      );\n    },\n    [\n      basename,\n      navigator2,\n      routePathnamesJson,\n      locationPathname,\n      dataRouterContext\n    ]\n  );\n  return navigate;\n}\nvar OutletContext = React2.createContext(null);\nfunction useOutletContext() {\n  return React2.useContext(OutletContext);\n}\nfunction useOutlet(context) {\n  let outlet = React2.useContext(RouteContext).outlet;\n  if (outlet) {\n    return /* @__PURE__ */ React2.createElement(OutletContext.Provider, { value: context }, outlet);\n  }\n  return outlet;\n}\nfunction useParams() {\n  let { matches } = React2.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? routeMatch.params : {};\n}\nfunction useResolvedPath(to, { relative } = {}) {\n  let { matches } = React2.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches));\n  return React2.useMemo(\n    () => resolveTo(\n      to,\n      JSON.parse(routePathnamesJson),\n      locationPathname,\n      relative === \"path\"\n    ),\n    [to, routePathnamesJson, locationPathname, relative]\n  );\n}\nfunction useRoutes(routes, locationArg) {\n  return useRoutesImpl(routes, locationArg);\n}\nfunction useRoutesImpl(routes, locationArg, dataRouterState, future) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useRoutes() may be used only in the context of a <Router> component.`\n  );\n  let { navigator: navigator2, static: isStatic } = React2.useContext(NavigationContext);\n  let { matches: parentMatches } = React2.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n  if (ENABLE_DEV_WARNINGS) {\n    let parentPath = parentRoute && parentRoute.path || \"\";\n    warningOnce(\n      parentPathname,\n      !parentRoute || parentPath.endsWith(\"*\") || parentPath.endsWith(\"*?\"),\n      `You rendered descendant <Routes> (or called \\`useRoutes()\\`) at \"${parentPathname}\" (under <Route path=\"${parentPath}\">) but the parent route path has no trailing \"*\". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path=\"${parentPath}\"> to <Route path=\"${parentPath === \"/\" ? \"*\" : `${parentPath}/*`}\">.`\n    );\n  }\n  let locationFromContext = useLocation();\n  let location;\n  if (locationArg) {\n    let parsedLocationArg = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n    invariant(\n      parentPathnameBase === \"/\" || parsedLocationArg.pathname?.startsWith(parentPathnameBase),\n      `When overriding the location using \\`<Routes location>\\` or \\`useRoutes(routes, location)\\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is \"${parentPathnameBase}\" but pathname \"${parsedLocationArg.pathname}\" was given in the \\`location\\` prop.`\n    );\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n  let pathname = location.pathname || \"/\";\n  let remainingPathname = pathname;\n  if (parentPathnameBase !== \"/\") {\n    let parentSegments = parentPathnameBase.replace(/^\\//, \"\").split(\"/\");\n    let segments = pathname.replace(/^\\//, \"\").split(\"/\");\n    remainingPathname = \"/\" + segments.slice(parentSegments.length).join(\"/\");\n  }\n  let matches = !isStatic && dataRouterState && dataRouterState.matches && dataRouterState.matches.length > 0 ? dataRouterState.matches : matchRoutes(routes, { pathname: remainingPathname });\n  if (ENABLE_DEV_WARNINGS) {\n    warning(\n      parentRoute || matches != null,\n      `No routes matched location \"${location.pathname}${location.search}${location.hash}\" `\n    );\n    warning(\n      matches == null || matches[matches.length - 1].route.element !== void 0 || matches[matches.length - 1].route.Component !== void 0 || matches[matches.length - 1].route.lazy !== void 0,\n      `Matched leaf route at location \"${location.pathname}${location.search}${location.hash}\" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an \"empty\" page.`\n    );\n  }\n  let renderedMatches = _renderMatches(\n    matches && matches.map(\n      (match) => Object.assign({}, match, {\n        params: Object.assign({}, parentParams, match.params),\n        pathname: joinPaths([\n          parentPathnameBase,\n          // Re-encode pathnames that were decoded inside matchRoutes\n          navigator2.encodeLocation ? navigator2.encodeLocation(match.pathname).pathname : match.pathname\n        ]),\n        pathnameBase: match.pathnameBase === \"/\" ? parentPathnameBase : joinPaths([\n          parentPathnameBase,\n          // Re-encode pathnames that were decoded inside matchRoutes\n          navigator2.encodeLocation ? navigator2.encodeLocation(match.pathnameBase).pathname : match.pathnameBase\n        ])\n      })\n    ),\n    parentMatches,\n    dataRouterState,\n    future\n  );\n  if (locationArg && renderedMatches) {\n    return /* @__PURE__ */ React2.createElement(\n      LocationContext.Provider,\n      {\n        value: {\n          location: {\n            pathname: \"/\",\n            search: \"\",\n            hash: \"\",\n            state: null,\n            key: \"default\",\n            ...location\n          },\n          navigationType: \"POP\" /* Pop */\n        }\n      },\n      renderedMatches\n    );\n  }\n  return renderedMatches;\n}\nfunction DefaultErrorComponent() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error) ? `${error.status} ${error.statusText}` : error instanceof Error ? error.message : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = { padding: \"0.5rem\", backgroundColor: lightgrey };\n  let codeStyles = { padding: \"2px 4px\", backgroundColor: lightgrey };\n  let devInfo = null;\n  if (ENABLE_DEV_WARNINGS) {\n    console.error(\n      \"Error handled by React Router default ErrorBoundary:\",\n      error\n    );\n    devInfo = /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(\"p\", null, \"\\u{1F4BF} Hey developer \\u{1F44B}\"), /* @__PURE__ */ React2.createElement(\"p\", null, \"You can provide a way better UX than this when your app throws errors by providing your own \", /* @__PURE__ */ React2.createElement(\"code\", { style: codeStyles }, \"ErrorBoundary\"), \" or\", \" \", /* @__PURE__ */ React2.createElement(\"code\", { style: codeStyles }, \"errorElement\"), \" prop on your route.\"));\n  }\n  return /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(\"h2\", null, \"Unexpected Application Error!\"), /* @__PURE__ */ React2.createElement(\"h3\", { style: { fontStyle: \"italic\" } }, message), stack ? /* @__PURE__ */ React2.createElement(\"pre\", { style: preStyles }, stack) : null, devInfo);\n}\nvar defaultErrorElement = /* @__PURE__ */ React2.createElement(DefaultErrorComponent, null);\nvar RenderErrorBoundary = class extends React2.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: props.location,\n      revalidation: props.revalidation,\n      error: props.error\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  static getDerivedStateFromProps(props, state) {\n    if (state.location !== props.location || state.revalidation !== \"idle\" && props.revalidation === \"idle\") {\n      return {\n        error: props.error,\n        location: props.location,\n        revalidation: props.revalidation\n      };\n    }\n    return {\n      error: props.error !== void 0 ? props.error : state.error,\n      location: state.location,\n      revalidation: props.revalidation || state.revalidation\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\n      \"React Router caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n  render() {\n    return this.state.error !== void 0 ? /* @__PURE__ */ React2.createElement(RouteContext.Provider, { value: this.props.routeContext }, /* @__PURE__ */ React2.createElement(\n      RouteErrorContext.Provider,\n      {\n        value: this.state.error,\n        children: this.props.component\n      }\n    )) : this.props.children;\n  }\n};\nfunction RenderedRoute({ routeContext, match, children }) {\n  let dataRouterContext = React2.useContext(DataRouterContext);\n  if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) {\n    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n  }\n  return /* @__PURE__ */ React2.createElement(RouteContext.Provider, { value: routeContext }, children);\n}\nfunction _renderMatches(matches, parentMatches = [], dataRouterState = null, future = null) {\n  if (matches == null) {\n    if (!dataRouterState) {\n      return null;\n    }\n    if (dataRouterState.errors) {\n      matches = dataRouterState.matches;\n    } else if (parentMatches.length === 0 && !dataRouterState.initialized && dataRouterState.matches.length > 0) {\n      matches = dataRouterState.matches;\n    } else {\n      return null;\n    }\n  }\n  let renderedMatches = matches;\n  let errors = dataRouterState?.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(\n      (m) => m.route.id && errors?.[m.route.id] !== void 0\n    );\n    invariant(\n      errorIndex >= 0,\n      `Could not find a matching route for errors on route IDs: ${Object.keys(\n        errors\n      ).join(\",\")}`\n    );\n    renderedMatches = renderedMatches.slice(\n      0,\n      Math.min(renderedMatches.length, errorIndex + 1)\n    );\n  }\n  let renderFallback = false;\n  let fallbackIndex = -1;\n  if (dataRouterState) {\n    for (let i = 0; i < renderedMatches.length; i++) {\n      let match = renderedMatches[i];\n      if (match.route.HydrateFallback || match.route.hydrateFallbackElement) {\n        fallbackIndex = i;\n      }\n      if (match.route.id) {\n        let { loaderData, errors: errors2 } = dataRouterState;\n        let needsToRunLoader = match.route.loader && !loaderData.hasOwnProperty(match.route.id) && (!errors2 || errors2[match.route.id] === void 0);\n        if (match.route.lazy || needsToRunLoader) {\n          renderFallback = true;\n          if (fallbackIndex >= 0) {\n            renderedMatches = renderedMatches.slice(0, fallbackIndex + 1);\n          } else {\n            renderedMatches = [renderedMatches[0]];\n          }\n          break;\n        }\n      }\n    }\n  }\n  return renderedMatches.reduceRight((outlet, match, index) => {\n    let error;\n    let shouldRenderHydrateFallback = false;\n    let errorElement = null;\n    let hydrateFallbackElement = null;\n    if (dataRouterState) {\n      error = errors && match.route.id ? errors[match.route.id] : void 0;\n      errorElement = match.route.errorElement || defaultErrorElement;\n      if (renderFallback) {\n        if (fallbackIndex < 0 && index === 0) {\n          warningOnce(\n            \"route-fallback\",\n            false,\n            \"No `HydrateFallback` element provided to render during initial hydration\"\n          );\n          shouldRenderHydrateFallback = true;\n          hydrateFallbackElement = null;\n        } else if (fallbackIndex === index) {\n          shouldRenderHydrateFallback = true;\n          hydrateFallbackElement = match.route.hydrateFallbackElement || null;\n        }\n      }\n    }\n    let matches2 = parentMatches.concat(renderedMatches.slice(0, index + 1));\n    let getChildren = () => {\n      let children;\n      if (error) {\n        children = errorElement;\n      } else if (shouldRenderHydrateFallback) {\n        children = hydrateFallbackElement;\n      } else if (match.route.Component) {\n        children = /* @__PURE__ */ React2.createElement(match.route.Component, null);\n      } else if (match.route.element) {\n        children = match.route.element;\n      } else {\n        children = outlet;\n      }\n      return /* @__PURE__ */ React2.createElement(\n        RenderedRoute,\n        {\n          match,\n          routeContext: {\n            outlet,\n            matches: matches2,\n            isDataRoute: dataRouterState != null\n          },\n          children\n        }\n      );\n    };\n    return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /* @__PURE__ */ React2.createElement(\n      RenderErrorBoundary,\n      {\n        location: dataRouterState.location,\n        revalidation: dataRouterState.revalidation,\n        component: errorElement,\n        error,\n        children: getChildren(),\n        routeContext: { outlet: null, matches: matches2, isDataRoute: true }\n      }\n    ) : getChildren();\n  }, null);\n}\nfunction getDataRouterConsoleError(hookName) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;\n}\nfunction useDataRouterContext(hookName) {\n  let ctx = React2.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\nfunction useDataRouterState(hookName) {\n  let state = React2.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\nfunction useRouteContext(hookName) {\n  let route = React2.useContext(RouteContext);\n  invariant(route, getDataRouterConsoleError(hookName));\n  return route;\n}\nfunction useCurrentRouteId(hookName) {\n  let route = useRouteContext(hookName);\n  let thisRoute = route.matches[route.matches.length - 1];\n  invariant(\n    thisRoute.route.id,\n    `${hookName} can only be used on routes that contain a unique \"id\"`\n  );\n  return thisRoute.route.id;\n}\nfunction useRouteId() {\n  return useCurrentRouteId(\"useRouteId\" /* UseRouteId */);\n}\nfunction useNavigation() {\n  let state = useDataRouterState(\"useNavigation\" /* UseNavigation */);\n  return state.navigation;\n}\nfunction useRevalidator() {\n  let dataRouterContext = useDataRouterContext(\"useRevalidator\" /* UseRevalidator */);\n  let state = useDataRouterState(\"useRevalidator\" /* UseRevalidator */);\n  return React2.useMemo(\n    () => ({\n      async revalidate() {\n        await dataRouterContext.router.revalidate();\n      },\n      state: state.revalidation\n    }),\n    [dataRouterContext.router, state.revalidation]\n  );\n}\nfunction useMatches() {\n  let { matches, loaderData } = useDataRouterState(\n    \"useMatches\" /* UseMatches */\n  );\n  return React2.useMemo(\n    () => matches.map((m) => convertRouteMatchToUiMatch(m, loaderData)),\n    [matches, loaderData]\n  );\n}\nfunction useLoaderData() {\n  let state = useDataRouterState(\"useLoaderData\" /* UseLoaderData */);\n  let routeId = useCurrentRouteId(\"useLoaderData\" /* UseLoaderData */);\n  return state.loaderData[routeId];\n}\nfunction useRouteLoaderData(routeId) {\n  let state = useDataRouterState(\"useRouteLoaderData\" /* UseRouteLoaderData */);\n  return state.loaderData[routeId];\n}\nfunction useActionData() {\n  let state = useDataRouterState(\"useActionData\" /* UseActionData */);\n  let routeId = useCurrentRouteId(\"useLoaderData\" /* UseLoaderData */);\n  return state.actionData ? state.actionData[routeId] : void 0;\n}\nfunction useRouteError() {\n  let error = React2.useContext(RouteErrorContext);\n  let state = useDataRouterState(\"useRouteError\" /* UseRouteError */);\n  let routeId = useCurrentRouteId(\"useRouteError\" /* UseRouteError */);\n  if (error !== void 0) {\n    return error;\n  }\n  return state.errors?.[routeId];\n}\nfunction useAsyncValue() {\n  let value = React2.useContext(AwaitContext);\n  return value?._data;\n}\nfunction useAsyncError() {\n  let value = React2.useContext(AwaitContext);\n  return value?._error;\n}\nvar blockerId = 0;\nfunction useBlocker(shouldBlock) {\n  let { router, basename } = useDataRouterContext(\"useBlocker\" /* UseBlocker */);\n  let state = useDataRouterState(\"useBlocker\" /* UseBlocker */);\n  let [blockerKey, setBlockerKey] = React2.useState(\"\");\n  let blockerFunction = React2.useCallback(\n    (arg) => {\n      if (typeof shouldBlock !== \"function\") {\n        return !!shouldBlock;\n      }\n      if (basename === \"/\") {\n        return shouldBlock(arg);\n      }\n      let { currentLocation, nextLocation, historyAction } = arg;\n      return shouldBlock({\n        currentLocation: {\n          ...currentLocation,\n          pathname: stripBasename(currentLocation.pathname, basename) || currentLocation.pathname\n        },\n        nextLocation: {\n          ...nextLocation,\n          pathname: stripBasename(nextLocation.pathname, basename) || nextLocation.pathname\n        },\n        historyAction\n      });\n    },\n    [basename, shouldBlock]\n  );\n  React2.useEffect(() => {\n    let key = String(++blockerId);\n    setBlockerKey(key);\n    return () => router.deleteBlocker(key);\n  }, [router]);\n  React2.useEffect(() => {\n    if (blockerKey !== \"\") {\n      router.getBlocker(blockerKey, blockerFunction);\n    }\n  }, [router, blockerKey, blockerFunction]);\n  return blockerKey && state.blockers.has(blockerKey) ? state.blockers.get(blockerKey) : IDLE_BLOCKER;\n}\nfunction useNavigateStable() {\n  let { router } = useDataRouterContext(\"useNavigate\" /* UseNavigateStable */);\n  let id = useCurrentRouteId(\"useNavigate\" /* UseNavigateStable */);\n  let activeRef = React2.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React2.useCallback(\n    async (to, options = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n      if (!activeRef.current) return;\n      if (typeof to === \"number\") {\n        router.navigate(to);\n      } else {\n        await router.navigate(to, { fromRouteId: id, ...options });\n      }\n    },\n    [router, id]\n  );\n  return navigate;\n}\nvar alreadyWarned = {};\nfunction warningOnce(key, cond, message) {\n  if (!cond && !alreadyWarned[key]) {\n    alreadyWarned[key] = true;\n    warning(false, message);\n  }\n}\n\n// lib/server-runtime/warnings.ts\nvar alreadyWarned2 = {};\nfunction warnOnce(condition, message) {\n  if (!condition && !alreadyWarned2[message]) {\n    alreadyWarned2[message] = true;\n    console.warn(message);\n  }\n}\n\n// lib/components.tsx\nvar ENABLE_DEV_WARNINGS2 = true;\nfunction mapRouteProperties(route) {\n  let updates = {\n    // Note: this check also occurs in createRoutesFromChildren so update\n    // there if you change this -- please and thank you!\n    hasErrorBoundary: route.hasErrorBoundary || route.ErrorBoundary != null || route.errorElement != null\n  };\n  if (route.Component) {\n    if (ENABLE_DEV_WARNINGS2) {\n      if (route.element) {\n        warning(\n          false,\n          \"You should not include both `Component` and `element` on your route - `Component` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      element: React3.createElement(route.Component),\n      Component: void 0\n    });\n  }\n  if (route.HydrateFallback) {\n    if (ENABLE_DEV_WARNINGS2) {\n      if (route.hydrateFallbackElement) {\n        warning(\n          false,\n          \"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      hydrateFallbackElement: React3.createElement(route.HydrateFallback),\n      HydrateFallback: void 0\n    });\n  }\n  if (route.ErrorBoundary) {\n    if (ENABLE_DEV_WARNINGS2) {\n      if (route.errorElement) {\n        warning(\n          false,\n          \"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      errorElement: React3.createElement(route.ErrorBoundary),\n      ErrorBoundary: void 0\n    });\n  }\n  return updates;\n}\nfunction createMemoryRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    unstable_getContext: opts?.unstable_getContext,\n    future: opts?.future,\n    history: createMemoryHistory({\n      initialEntries: opts?.initialEntries,\n      initialIndex: opts?.initialIndex\n    }),\n    hydrationData: opts?.hydrationData,\n    routes,\n    mapRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation\n  }).initialize();\n}\nvar Deferred = class {\n  constructor() {\n    this.status = \"pending\";\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = (value) => {\n        if (this.status === \"pending\") {\n          this.status = \"resolved\";\n          resolve(value);\n        }\n      };\n      this.reject = (reason) => {\n        if (this.status === \"pending\") {\n          this.status = \"rejected\";\n          reject(reason);\n        }\n      };\n    });\n  }\n};\nfunction RouterProvider({\n  router,\n  flushSync: reactDomFlushSyncImpl\n}) {\n  let [state, setStateImpl] = React3.useState(router.state);\n  let [pendingState, setPendingState] = React3.useState();\n  let [vtContext, setVtContext] = React3.useState({\n    isTransitioning: false\n  });\n  let [renderDfd, setRenderDfd] = React3.useState();\n  let [transition, setTransition] = React3.useState();\n  let [interruption, setInterruption] = React3.useState();\n  let fetcherData = React3.useRef(/* @__PURE__ */ new Map());\n  let setState = React3.useCallback(\n    (newState, { deletedFetchers, flushSync, viewTransitionOpts }) => {\n      newState.fetchers.forEach((fetcher, key) => {\n        if (fetcher.data !== void 0) {\n          fetcherData.current.set(key, fetcher.data);\n        }\n      });\n      deletedFetchers.forEach((key) => fetcherData.current.delete(key));\n      warnOnce(\n        flushSync === false || reactDomFlushSyncImpl != null,\n        'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from \"react-router/dom\"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.'\n      );\n      let isViewTransitionAvailable = router.window != null && router.window.document != null && typeof router.window.document.startViewTransition === \"function\";\n      warnOnce(\n        viewTransitionOpts == null || isViewTransitionAvailable,\n        \"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available.\"\n      );\n      if (!viewTransitionOpts || !isViewTransitionAvailable) {\n        if (reactDomFlushSyncImpl && flushSync) {\n          reactDomFlushSyncImpl(() => setStateImpl(newState));\n        } else {\n          React3.startTransition(() => setStateImpl(newState));\n        }\n        return;\n      }\n      if (reactDomFlushSyncImpl && flushSync) {\n        reactDomFlushSyncImpl(() => {\n          if (transition) {\n            renderDfd && renderDfd.resolve();\n            transition.skipTransition();\n          }\n          setVtContext({\n            isTransitioning: true,\n            flushSync: true,\n            currentLocation: viewTransitionOpts.currentLocation,\n            nextLocation: viewTransitionOpts.nextLocation\n          });\n        });\n        let t = router.window.document.startViewTransition(() => {\n          reactDomFlushSyncImpl(() => setStateImpl(newState));\n        });\n        t.finished.finally(() => {\n          reactDomFlushSyncImpl(() => {\n            setRenderDfd(void 0);\n            setTransition(void 0);\n            setPendingState(void 0);\n            setVtContext({ isTransitioning: false });\n          });\n        });\n        reactDomFlushSyncImpl(() => setTransition(t));\n        return;\n      }\n      if (transition) {\n        renderDfd && renderDfd.resolve();\n        transition.skipTransition();\n        setInterruption({\n          state: newState,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation\n        });\n      } else {\n        setPendingState(newState);\n        setVtContext({\n          isTransitioning: true,\n          flushSync: false,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation\n        });\n      }\n    },\n    [router.window, reactDomFlushSyncImpl, transition, renderDfd]\n  );\n  React3.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n  React3.useEffect(() => {\n    if (vtContext.isTransitioning && !vtContext.flushSync) {\n      setRenderDfd(new Deferred());\n    }\n  }, [vtContext]);\n  React3.useEffect(() => {\n    if (renderDfd && pendingState && router.window) {\n      let newState = pendingState;\n      let renderPromise = renderDfd.promise;\n      let transition2 = router.window.document.startViewTransition(async () => {\n        React3.startTransition(() => setStateImpl(newState));\n        await renderPromise;\n      });\n      transition2.finished.finally(() => {\n        setRenderDfd(void 0);\n        setTransition(void 0);\n        setPendingState(void 0);\n        setVtContext({ isTransitioning: false });\n      });\n      setTransition(transition2);\n    }\n  }, [pendingState, renderDfd, router.window]);\n  React3.useEffect(() => {\n    if (renderDfd && pendingState && state.location.key === pendingState.location.key) {\n      renderDfd.resolve();\n    }\n  }, [renderDfd, transition, state.location, pendingState]);\n  React3.useEffect(() => {\n    if (!vtContext.isTransitioning && interruption) {\n      setPendingState(interruption.state);\n      setVtContext({\n        isTransitioning: true,\n        flushSync: false,\n        currentLocation: interruption.currentLocation,\n        nextLocation: interruption.nextLocation\n      });\n      setInterruption(void 0);\n    }\n  }, [vtContext.isTransitioning, interruption]);\n  let navigator2 = React3.useMemo(() => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: (n) => router.navigate(n),\n      push: (to, state2, opts) => router.navigate(to, {\n        state: state2,\n        preventScrollReset: opts?.preventScrollReset\n      }),\n      replace: (to, state2, opts) => router.navigate(to, {\n        replace: true,\n        state: state2,\n        preventScrollReset: opts?.preventScrollReset\n      })\n    };\n  }, [router]);\n  let basename = router.basename || \"/\";\n  let dataRouterContext = React3.useMemo(\n    () => ({\n      router,\n      navigator: navigator2,\n      static: false,\n      basename\n    }),\n    [router, navigator2, basename]\n  );\n  return /* @__PURE__ */ React3.createElement(React3.Fragment, null, /* @__PURE__ */ React3.createElement(DataRouterContext.Provider, { value: dataRouterContext }, /* @__PURE__ */ React3.createElement(DataRouterStateContext.Provider, { value: state }, /* @__PURE__ */ React3.createElement(FetchersContext.Provider, { value: fetcherData.current }, /* @__PURE__ */ React3.createElement(ViewTransitionContext.Provider, { value: vtContext }, /* @__PURE__ */ React3.createElement(\n    Router,\n    {\n      basename,\n      location: state.location,\n      navigationType: state.historyAction,\n      navigator: navigator2\n    },\n    /* @__PURE__ */ React3.createElement(\n      MemoizedDataRoutes,\n      {\n        routes: router.routes,\n        future: router.future,\n        state\n      }\n    )\n  ))))), null);\n}\nvar MemoizedDataRoutes = React3.memo(DataRoutes);\nfunction DataRoutes({\n  routes,\n  future,\n  state\n}) {\n  return useRoutesImpl(routes, void 0, state, future);\n}\nfunction MemoryRouter({\n  basename,\n  children,\n  initialEntries,\n  initialIndex\n}) {\n  let historyRef = React3.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React3.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React3.useCallback(\n    (newState) => {\n      React3.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React3.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React3.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nfunction Navigate({\n  to,\n  replace: replace2,\n  state,\n  relative\n}) {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of\n    // the router loaded. We can help them understand how to avoid that.\n    `<Navigate> may be used only in the context of a <Router> component.`\n  );\n  let { static: isStatic } = React3.useContext(NavigationContext);\n  warning(\n    !isStatic,\n    `<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.`\n  );\n  let { matches } = React3.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let navigate = useNavigate();\n  let path = resolveTo(\n    to,\n    getResolveToMatches(matches),\n    locationPathname,\n    relative === \"path\"\n  );\n  let jsonPath = JSON.stringify(path);\n  React3.useEffect(() => {\n    navigate(JSON.parse(jsonPath), { replace: replace2, state, relative });\n  }, [navigate, jsonPath, relative, replace2, state]);\n  return null;\n}\nfunction Outlet(props) {\n  return useOutlet(props.context);\n}\nfunction Route(_props) {\n  invariant(\n    false,\n    `A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`\n  );\n}\nfunction Router({\n  basename: basenameProp = \"/\",\n  children = null,\n  location: locationProp,\n  navigationType = \"POP\" /* Pop */,\n  navigator: navigator2,\n  static: staticProp = false\n}) {\n  invariant(\n    !useInRouterContext(),\n    `You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`\n  );\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React3.useMemo(\n    () => ({\n      basename,\n      navigator: navigator2,\n      static: staticProp,\n      future: {}\n    }),\n    [basename, navigator2, staticProp]\n  );\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\"\n  } = locationProp;\n  let locationContext = React3.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n    if (trailingPathname == null) {\n      return null;\n    }\n    return {\n      location: {\n        pathname: trailingPathname,\n        search,\n        hash,\n        state,\n        key\n      },\n      navigationType\n    };\n  }, [basename, pathname, search, hash, state, key, navigationType]);\n  warning(\n    locationContext != null,\n    `<Router basename=\"${basename}\"> is not able to match the URL \"${pathname}${search}${hash}\" because it does not start with the basename, so the <Router> won't render anything.`\n  );\n  if (locationContext == null) {\n    return null;\n  }\n  return /* @__PURE__ */ React3.createElement(NavigationContext.Provider, { value: navigationContext }, /* @__PURE__ */ React3.createElement(LocationContext.Provider, { children, value: locationContext }));\n}\nfunction Routes({\n  children,\n  location\n}) {\n  return useRoutes(createRoutesFromChildren(children), location);\n}\nfunction Await({\n  children,\n  errorElement,\n  resolve\n}) {\n  return /* @__PURE__ */ React3.createElement(AwaitErrorBoundary, { resolve, errorElement }, /* @__PURE__ */ React3.createElement(ResolveAwait, null, children));\n}\nvar AwaitErrorBoundary = class extends React3.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\n      \"<Await> caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n  render() {\n    let { children, errorElement, resolve } = this.props;\n    let promise = null;\n    let status = 0 /* pending */;\n    if (!(resolve instanceof Promise)) {\n      status = 1 /* success */;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_data\", { get: () => resolve });\n    } else if (this.state.error) {\n      status = 2 /* error */;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {\n      });\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_error\", { get: () => renderError });\n    } else if (resolve._tracked) {\n      promise = resolve;\n      status = \"_error\" in promise ? 2 /* error */ : \"_data\" in promise ? 1 /* success */ : 0 /* pending */;\n    } else {\n      status = 0 /* pending */;\n      Object.defineProperty(resolve, \"_tracked\", { get: () => true });\n      promise = resolve.then(\n        (data2) => Object.defineProperty(resolve, \"_data\", { get: () => data2 }),\n        (error) => Object.defineProperty(resolve, \"_error\", { get: () => error })\n      );\n    }\n    if (status === 2 /* error */ && !errorElement) {\n      throw promise._error;\n    }\n    if (status === 2 /* error */) {\n      return /* @__PURE__ */ React3.createElement(AwaitContext.Provider, { value: promise, children: errorElement });\n    }\n    if (status === 1 /* success */) {\n      return /* @__PURE__ */ React3.createElement(AwaitContext.Provider, { value: promise, children });\n    }\n    throw promise;\n  }\n};\nfunction ResolveAwait({\n  children\n}) {\n  let data2 = useAsyncValue();\n  let toRender = typeof children === \"function\" ? children(data2) : children;\n  return /* @__PURE__ */ React3.createElement(React3.Fragment, null, toRender);\n}\nfunction createRoutesFromChildren(children, parentPath = []) {\n  let routes = [];\n  React3.Children.forEach(children, (element, index) => {\n    if (!React3.isValidElement(element)) {\n      return;\n    }\n    let treePath = [...parentPath, index];\n    if (element.type === React3.Fragment) {\n      routes.push.apply(\n        routes,\n        createRoutesFromChildren(element.props.children, treePath)\n      );\n      return;\n    }\n    invariant(\n      element.type === Route,\n      `[${typeof element.type === \"string\" ? element.type : element.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`\n    );\n    invariant(\n      !element.props.index || !element.props.children,\n      \"An index route cannot have child routes.\"\n    );\n    let route = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      Component: element.props.Component,\n      index: element.props.index,\n      path: element.props.path,\n      loader: element.props.loader,\n      action: element.props.action,\n      hydrateFallbackElement: element.props.hydrateFallbackElement,\n      HydrateFallback: element.props.HydrateFallback,\n      errorElement: element.props.errorElement,\n      ErrorBoundary: element.props.ErrorBoundary,\n      hasErrorBoundary: element.props.hasErrorBoundary === true || element.props.ErrorBoundary != null || element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n      lazy: element.props.lazy\n    };\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(\n        element.props.children,\n        treePath\n      );\n    }\n    routes.push(route);\n  });\n  return routes;\n}\nvar createRoutesFromElements = createRoutesFromChildren;\nfunction renderMatches(matches) {\n  return _renderMatches(matches);\n}\n\n// lib/dom/lib.tsx\nimport * as React10 from \"react\";\n\n// lib/dom/dom.ts\nvar defaultMethod = \"get\";\nvar defaultEncType = \"application/x-www-form-urlencoded\";\nfunction isHtmlElement(object) {\n  return object != null && typeof object.tagName === \"string\";\n}\nfunction isButtonElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\nfunction isFormElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\nfunction isInputElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\nfunction shouldProcessLinkClick(event, target) {\n  return event.button === 0 && // Ignore everything but left clicks\n  (!target || target === \"_self\") && // Let browser handle \"target=_blank\" etc.\n  !isModifiedEvent(event);\n}\nfunction createSearchParams(init = \"\") {\n  return new URLSearchParams(\n    typeof init === \"string\" || Array.isArray(init) || init instanceof URLSearchParams ? init : Object.keys(init).reduce((memo2, key) => {\n      let value = init[key];\n      return memo2.concat(\n        Array.isArray(value) ? value.map((v) => [key, v]) : [[key, value]]\n      );\n    }, [])\n  );\n}\nfunction getSearchParamsForLocation(locationSearch, defaultSearchParams) {\n  let searchParams = createSearchParams(locationSearch);\n  if (defaultSearchParams) {\n    defaultSearchParams.forEach((_, key) => {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach((value) => {\n          searchParams.append(key, value);\n        });\n      }\n    });\n  }\n  return searchParams;\n}\nvar _formDataSupportsSubmitter = null;\nfunction isFormDataSubmitterSupported() {\n  if (_formDataSupportsSubmitter === null) {\n    try {\n      new FormData(\n        document.createElement(\"form\"),\n        // @ts-expect-error if FormData supports the submitter parameter, this will throw\n        0\n      );\n      _formDataSupportsSubmitter = false;\n    } catch (e) {\n      _formDataSupportsSubmitter = true;\n    }\n  }\n  return _formDataSupportsSubmitter;\n}\nvar supportedFormEncTypes = /* @__PURE__ */ new Set([\n  \"application/x-www-form-urlencoded\",\n  \"multipart/form-data\",\n  \"text/plain\"\n]);\nfunction getFormEncType(encType) {\n  if (encType != null && !supportedFormEncTypes.has(encType)) {\n    warning(\n      false,\n      `\"${encType}\" is not a valid \\`encType\\` for \\`<Form>\\`/\\`<fetcher.Form>\\` and will default to \"${defaultEncType}\"`\n    );\n    return null;\n  }\n  return encType;\n}\nfunction getFormSubmissionInfo(target, basename) {\n  let method;\n  let action;\n  let encType;\n  let formData;\n  let body;\n  if (isFormElement(target)) {\n    let attr = target.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(target);\n  } else if (isButtonElement(target) || isInputElement(target) && (target.type === \"submit\" || target.type === \"image\")) {\n    let form = target.form;\n    if (form == null) {\n      throw new Error(\n        `Cannot submit a <button> or <input type=\"submit\"> without a <form>`\n      );\n    }\n    let attr = target.getAttribute(\"formaction\") || form.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"formmethod\") || form.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"formenctype\")) || getFormEncType(form.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(form, target);\n    if (!isFormDataSubmitterSupported()) {\n      let { name, type, value } = target;\n      if (type === \"image\") {\n        let prefix = name ? `${name}.` : \"\";\n        formData.append(`${prefix}x`, \"0\");\n        formData.append(`${prefix}y`, \"0\");\n      } else if (name) {\n        formData.append(name, value);\n      }\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\n      `Cannot submit element that is not <form>, <button>, or <input type=\"submit|image\">`\n    );\n  } else {\n    method = defaultMethod;\n    action = null;\n    encType = defaultEncType;\n    body = target;\n  }\n  if (formData && encType === \"text/plain\") {\n    body = formData;\n    formData = void 0;\n  }\n  return { action, method: method.toLowerCase(), encType, formData, body };\n}\n\n// lib/dom/ssr/components.tsx\nimport * as React9 from \"react\";\n\n// lib/dom/ssr/invariant.ts\nfunction invariant2(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\n\n// lib/dom/ssr/routeModules.ts\nasync function loadRouteModule(route, routeModulesCache) {\n  if (route.id in routeModulesCache) {\n    return routeModulesCache[route.id];\n  }\n  try {\n    let routeModule = await import(\n      /* @vite-ignore */\n      /* webpackIgnore: true */\n      route.module\n    );\n    routeModulesCache[route.id] = routeModule;\n    return routeModule;\n  } catch (error) {\n    console.error(\n      `Error loading route module \\`${route.module}\\`, reloading page...`\n    );\n    console.error(error);\n    if (window.__reactRouterContext && window.__reactRouterContext.isSpaMode && // @ts-expect-error\n    import.meta.hot) {\n      throw error;\n    }\n    window.location.reload();\n    return new Promise(() => {\n    });\n  }\n}\n\n// lib/dom/ssr/links.ts\nfunction getKeyedLinksForMatches(matches, routeModules, manifest) {\n  let descriptors = matches.map((match) => {\n    let module = routeModules[match.route.id];\n    let route = manifest.routes[match.route.id];\n    return [\n      route && route.css ? route.css.map((href2) => ({ rel: \"stylesheet\", href: href2 })) : [],\n      module?.links?.() || []\n    ];\n  }).flat(2);\n  let preloads = getModuleLinkHrefs(matches, manifest);\n  return dedupeLinkDescriptors(descriptors, preloads);\n}\nfunction getRouteCssDescriptors(route) {\n  if (!route.css) return [];\n  return route.css.map((href2) => ({ rel: \"stylesheet\", href: href2 }));\n}\nasync function prefetchRouteCss(route) {\n  if (!route.css) return;\n  let descriptors = getRouteCssDescriptors(route);\n  await Promise.all(descriptors.map(prefetchStyleLink));\n}\nasync function prefetchStyleLinks(route, routeModule) {\n  if (!route.css && !routeModule.links || !isPreloadSupported()) return;\n  let descriptors = [];\n  if (route.css) {\n    descriptors.push(...getRouteCssDescriptors(route));\n  }\n  if (routeModule.links) {\n    descriptors.push(...routeModule.links());\n  }\n  if (descriptors.length === 0) return;\n  let styleLinks = [];\n  for (let descriptor of descriptors) {\n    if (!isPageLinkDescriptor(descriptor) && descriptor.rel === \"stylesheet\") {\n      styleLinks.push({\n        ...descriptor,\n        rel: \"preload\",\n        as: \"style\"\n      });\n    }\n  }\n  await Promise.all(styleLinks.map(prefetchStyleLink));\n}\nasync function prefetchStyleLink(descriptor) {\n  return new Promise((resolve) => {\n    if (descriptor.media && !window.matchMedia(descriptor.media).matches || document.querySelector(\n      `link[rel=\"stylesheet\"][href=\"${descriptor.href}\"]`\n    )) {\n      return resolve();\n    }\n    let link = document.createElement(\"link\");\n    Object.assign(link, descriptor);\n    function removeLink() {\n      if (document.head.contains(link)) {\n        document.head.removeChild(link);\n      }\n    }\n    link.onload = () => {\n      removeLink();\n      resolve();\n    };\n    link.onerror = () => {\n      removeLink();\n      resolve();\n    };\n    document.head.appendChild(link);\n  });\n}\nfunction isPageLinkDescriptor(object) {\n  return object != null && typeof object.page === \"string\";\n}\nfunction isHtmlLinkDescriptor(object) {\n  if (object == null) {\n    return false;\n  }\n  if (object.href == null) {\n    return object.rel === \"preload\" && typeof object.imageSrcSet === \"string\" && typeof object.imageSizes === \"string\";\n  }\n  return typeof object.rel === \"string\" && typeof object.href === \"string\";\n}\nasync function getKeyedPrefetchLinks(matches, manifest, routeModules) {\n  let links = await Promise.all(\n    matches.map(async (match) => {\n      let route = manifest.routes[match.route.id];\n      if (route) {\n        let mod = await loadRouteModule(route, routeModules);\n        return mod.links ? mod.links() : [];\n      }\n      return [];\n    })\n  );\n  return dedupeLinkDescriptors(\n    links.flat(1).filter(isHtmlLinkDescriptor).filter((link) => link.rel === \"stylesheet\" || link.rel === \"preload\").map(\n      (link) => link.rel === \"stylesheet\" ? { ...link, rel: \"prefetch\", as: \"style\" } : { ...link, rel: \"prefetch\" }\n    )\n  );\n}\nfunction getNewMatchesForLinks(page, nextMatches, currentMatches, manifest, location, mode) {\n  let isNew = (match, index) => {\n    if (!currentMatches[index]) return true;\n    return match.route.id !== currentMatches[index].route.id;\n  };\n  let matchPathChanged = (match, index) => {\n    return (\n      // param change, /users/123 -> /users/456\n      currentMatches[index].pathname !== match.pathname || // splat param changed, which is not present in match.path\n      // e.g. /files/images/avatar.jpg -> files/finances.xls\n      currentMatches[index].route.path?.endsWith(\"*\") && currentMatches[index].params[\"*\"] !== match.params[\"*\"]\n    );\n  };\n  if (mode === \"assets\") {\n    return nextMatches.filter(\n      (match, index) => isNew(match, index) || matchPathChanged(match, index)\n    );\n  }\n  if (mode === \"data\") {\n    return nextMatches.filter((match, index) => {\n      let manifestRoute = manifest.routes[match.route.id];\n      if (!manifestRoute || !manifestRoute.hasLoader) {\n        return false;\n      }\n      if (isNew(match, index) || matchPathChanged(match, index)) {\n        return true;\n      }\n      if (match.route.shouldRevalidate) {\n        let routeChoice = match.route.shouldRevalidate({\n          currentUrl: new URL(\n            location.pathname + location.search + location.hash,\n            window.origin\n          ),\n          currentParams: currentMatches[0]?.params || {},\n          nextUrl: new URL(page, window.origin),\n          nextParams: match.params,\n          defaultShouldRevalidate: true\n        });\n        if (typeof routeChoice === \"boolean\") {\n          return routeChoice;\n        }\n      }\n      return true;\n    });\n  }\n  return [];\n}\nfunction getModuleLinkHrefs(matches, manifest, { includeHydrateFallback } = {}) {\n  return dedupeHrefs(\n    matches.map((match) => {\n      let route = manifest.routes[match.route.id];\n      if (!route) return [];\n      let hrefs = [route.module];\n      if (route.clientActionModule) {\n        hrefs = hrefs.concat(route.clientActionModule);\n      }\n      if (route.clientLoaderModule) {\n        hrefs = hrefs.concat(route.clientLoaderModule);\n      }\n      if (includeHydrateFallback && route.hydrateFallbackModule) {\n        hrefs = hrefs.concat(route.hydrateFallbackModule);\n      }\n      if (route.imports) {\n        hrefs = hrefs.concat(route.imports);\n      }\n      return hrefs;\n    }).flat(1)\n  );\n}\nfunction dedupeHrefs(hrefs) {\n  return [...new Set(hrefs)];\n}\nfunction sortKeys(obj) {\n  let sorted = {};\n  let keys = Object.keys(obj).sort();\n  for (let key of keys) {\n    sorted[key] = obj[key];\n  }\n  return sorted;\n}\nfunction dedupeLinkDescriptors(descriptors, preloads) {\n  let set = /* @__PURE__ */ new Set();\n  let preloadsSet = new Set(preloads);\n  return descriptors.reduce((deduped, descriptor) => {\n    let alreadyModulePreload = preloads && !isPageLinkDescriptor(descriptor) && descriptor.as === \"script\" && descriptor.href && preloadsSet.has(descriptor.href);\n    if (alreadyModulePreload) {\n      return deduped;\n    }\n    let key = JSON.stringify(sortKeys(descriptor));\n    if (!set.has(key)) {\n      set.add(key);\n      deduped.push({ key, link: descriptor });\n    }\n    return deduped;\n  }, []);\n}\nvar _isPreloadSupported;\nfunction isPreloadSupported() {\n  if (_isPreloadSupported !== void 0) {\n    return _isPreloadSupported;\n  }\n  let el = document.createElement(\"link\");\n  _isPreloadSupported = el.relList.supports(\"preload\");\n  el = null;\n  return _isPreloadSupported;\n}\n\n// lib/dom/ssr/markup.ts\nvar ESCAPE_LOOKUP = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nvar ESCAPE_REGEX = /[&><\\u2028\\u2029]/g;\nfunction escapeHtml(html) {\n  return html.replace(ESCAPE_REGEX, (match) => ESCAPE_LOOKUP[match]);\n}\nfunction createHtml(html) {\n  return { __html: html };\n}\n\n// lib/dom/ssr/single-fetch.tsx\nimport * as React4 from \"react\";\nimport { decode } from \"turbo-stream\";\n\n// lib/dom/ssr/data.ts\nasync function createRequestInit(request) {\n  let init = { signal: request.signal };\n  if (request.method !== \"GET\") {\n    init.method = request.method;\n    let contentType = request.headers.get(\"Content-Type\");\n    if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n      init.headers = { \"Content-Type\": contentType };\n      init.body = JSON.stringify(await request.json());\n    } else if (contentType && /\\btext\\/plain\\b/.test(contentType)) {\n      init.headers = { \"Content-Type\": contentType };\n      init.body = await request.text();\n    } else if (contentType && /\\bapplication\\/x-www-form-urlencoded\\b/.test(contentType)) {\n      init.body = new URLSearchParams(await request.text());\n    } else {\n      init.body = await request.formData();\n    }\n  }\n  return init;\n}\n\n// lib/dom/ssr/single-fetch.tsx\nvar SingleFetchRedirectSymbol = Symbol(\"SingleFetchRedirect\");\nfunction StreamTransfer({\n  context,\n  identifier,\n  reader,\n  textDecoder,\n  nonce\n}) {\n  if (!context.renderMeta || !context.renderMeta.didRenderScripts) {\n    return null;\n  }\n  if (!context.renderMeta.streamCache) {\n    context.renderMeta.streamCache = {};\n  }\n  let { streamCache } = context.renderMeta;\n  let promise = streamCache[identifier];\n  if (!promise) {\n    promise = streamCache[identifier] = reader.read().then((result) => {\n      streamCache[identifier].result = {\n        done: result.done,\n        value: textDecoder.decode(result.value, { stream: true })\n      };\n    }).catch((e) => {\n      streamCache[identifier].error = e;\n    });\n  }\n  if (promise.error) {\n    throw promise.error;\n  }\n  if (promise.result === void 0) {\n    throw promise;\n  }\n  let { done, value } = promise.result;\n  let scriptTag = value ? /* @__PURE__ */ React4.createElement(\n    \"script\",\n    {\n      nonce,\n      dangerouslySetInnerHTML: {\n        __html: `window.__reactRouterContext.streamController.enqueue(${escapeHtml(\n          JSON.stringify(value)\n        )});`\n      }\n    }\n  ) : null;\n  if (done) {\n    return /* @__PURE__ */ React4.createElement(React4.Fragment, null, scriptTag, /* @__PURE__ */ React4.createElement(\n      \"script\",\n      {\n        nonce,\n        dangerouslySetInnerHTML: {\n          __html: `window.__reactRouterContext.streamController.close();`\n        }\n      }\n    ));\n  } else {\n    return /* @__PURE__ */ React4.createElement(React4.Fragment, null, scriptTag, /* @__PURE__ */ React4.createElement(React4.Suspense, null, /* @__PURE__ */ React4.createElement(\n      StreamTransfer,\n      {\n        context,\n        identifier: identifier + 1,\n        reader,\n        textDecoder,\n        nonce\n      }\n    )));\n  }\n}\nfunction getSingleFetchDataStrategy(manifest, routeModules, ssr, basename, getRouter) {\n  return async (args) => {\n    let { request, matches, fetcherKey } = args;\n    if (request.method !== \"GET\") {\n      return runMiddlewarePipeline(\n        args,\n        false,\n        () => singleFetchActionStrategy(request, matches, basename),\n        (e) => ({ [e.routeId]: { type: \"error\", result: e.error } })\n      );\n    }\n    if (!ssr) {\n      let foundRevalidatingServerLoader = matches.some(\n        (m) => m.shouldLoad && manifest.routes[m.route.id]?.hasLoader && !manifest.routes[m.route.id]?.hasClientLoader\n      );\n      if (!foundRevalidatingServerLoader) {\n        return runMiddlewarePipeline(\n          args,\n          false,\n          () => nonSsrStrategy(manifest, request, matches, basename),\n          (e) => ({ [e.routeId]: { type: \"error\", result: e.error } })\n        );\n      }\n    }\n    if (fetcherKey) {\n      return runMiddlewarePipeline(\n        args,\n        false,\n        () => singleFetchLoaderFetcherStrategy(request, matches, basename),\n        (e) => ({ [e.routeId]: { type: \"error\", result: e.error } })\n      );\n    }\n    return runMiddlewarePipeline(\n      args,\n      false,\n      () => singleFetchLoaderNavigationStrategy(\n        manifest,\n        routeModules,\n        ssr,\n        getRouter(),\n        request,\n        matches,\n        basename\n      ),\n      (e) => ({ [e.routeId]: { type: \"error\", result: e.error } })\n    );\n  };\n}\nasync function singleFetchActionStrategy(request, matches, basename) {\n  let actionMatch = matches.find((m) => m.shouldLoad);\n  invariant2(actionMatch, \"No action match found\");\n  let actionStatus = void 0;\n  let result = await actionMatch.resolve(async (handler) => {\n    let result2 = await handler(async () => {\n      let url = singleFetchUrl(request.url, basename);\n      let init = await createRequestInit(request);\n      let { data: data2, status } = await fetchAndDecode(url, init);\n      actionStatus = status;\n      return unwrapSingleFetchResult(\n        data2,\n        actionMatch.route.id\n      );\n    });\n    return result2;\n  });\n  if (isResponse(result.result) || isRouteErrorResponse(result.result)) {\n    return { [actionMatch.route.id]: result };\n  }\n  return {\n    [actionMatch.route.id]: {\n      type: result.type,\n      result: data(result.result, actionStatus)\n    }\n  };\n}\nasync function nonSsrStrategy(manifest, request, matches, basename) {\n  let matchesToLoad = matches.filter((m) => m.shouldLoad);\n  let url = stripIndexParam(singleFetchUrl(request.url, basename));\n  let init = await createRequestInit(request);\n  let results = {};\n  await Promise.all(\n    matchesToLoad.map(\n      (m) => m.resolve(async (handler) => {\n        try {\n          let result = manifest.routes[m.route.id]?.hasClientLoader ? await fetchSingleLoader(handler, url, init, m.route.id) : await handler();\n          results[m.route.id] = { type: \"data\", result };\n        } catch (e) {\n          results[m.route.id] = { type: \"error\", result: e };\n        }\n      })\n    )\n  );\n  return results;\n}\nfunction isOptedOut(manifestRoute, routeModule, match, router) {\n  return match.route.id in router.state.loaderData && manifestRoute && manifestRoute.hasLoader && routeModule && routeModule.shouldRevalidate;\n}\nasync function singleFetchLoaderNavigationStrategy(manifest, routeModules, ssr, router, request, matches, basename) {\n  let routesParams = /* @__PURE__ */ new Set();\n  let foundOptOutRoute = false;\n  let routeDfds = matches.map(() => createDeferred2());\n  let routesLoadedPromise = Promise.all(routeDfds.map((d) => d.promise));\n  let singleFetchDfd = createDeferred2();\n  let url = stripIndexParam(singleFetchUrl(request.url, basename));\n  let init = await createRequestInit(request);\n  let results = {};\n  let resolvePromise = Promise.all(\n    matches.map(\n      async (m, i) => m.resolve(async (handler) => {\n        routeDfds[i].resolve();\n        let manifestRoute = manifest.routes[m.route.id];\n        if (!m.shouldLoad) {\n          if (!router.state.initialized) {\n            return;\n          }\n          if (isOptedOut(manifestRoute, routeModules[m.route.id], m, router)) {\n            foundOptOutRoute = true;\n            return;\n          }\n        }\n        if (manifestRoute && manifestRoute.hasClientLoader) {\n          if (manifestRoute.hasLoader) {\n            foundOptOutRoute = true;\n          }\n          try {\n            let result = await fetchSingleLoader(\n              handler,\n              url,\n              init,\n              m.route.id\n            );\n            results[m.route.id] = { type: \"data\", result };\n          } catch (e) {\n            results[m.route.id] = { type: \"error\", result: e };\n          }\n          return;\n        }\n        if (manifestRoute && manifestRoute.hasLoader) {\n          routesParams.add(m.route.id);\n        }\n        try {\n          let result = await handler(async () => {\n            let data2 = await singleFetchDfd.promise;\n            return unwrapSingleFetchResults(data2, m.route.id);\n          });\n          results[m.route.id] = {\n            type: \"data\",\n            result\n          };\n        } catch (e) {\n          results[m.route.id] = {\n            type: \"error\",\n            result: e\n          };\n        }\n      })\n    )\n  );\n  await routesLoadedPromise;\n  if ((!router.state.initialized || routesParams.size === 0) && !window.__reactRouterHdrActive) {\n    singleFetchDfd.resolve({});\n  } else {\n    try {\n      if (ssr && foundOptOutRoute && routesParams.size > 0) {\n        url.searchParams.set(\n          \"_routes\",\n          matches.filter((m) => routesParams.has(m.route.id)).map((m) => m.route.id).join(\",\")\n        );\n      }\n      let data2 = await fetchAndDecode(url, init);\n      singleFetchDfd.resolve(data2.data);\n    } catch (e) {\n      singleFetchDfd.reject(e);\n    }\n  }\n  await resolvePromise;\n  return results;\n}\nasync function singleFetchLoaderFetcherStrategy(request, matches, basename) {\n  let fetcherMatch = matches.find((m) => m.shouldLoad);\n  invariant2(fetcherMatch, \"No fetcher match found\");\n  let result = await fetcherMatch.resolve(async (handler) => {\n    let url = stripIndexParam(singleFetchUrl(request.url, basename));\n    let init = await createRequestInit(request);\n    return fetchSingleLoader(handler, url, init, fetcherMatch.route.id);\n  });\n  return { [fetcherMatch.route.id]: result };\n}\nfunction fetchSingleLoader(handler, url, init, routeId) {\n  return handler(async () => {\n    let singleLoaderUrl = new URL(url);\n    singleLoaderUrl.searchParams.set(\"_routes\", routeId);\n    let { data: data2 } = await fetchAndDecode(singleLoaderUrl, init);\n    return unwrapSingleFetchResults(data2, routeId);\n  });\n}\nfunction stripIndexParam(url) {\n  let indexValues = url.searchParams.getAll(\"index\");\n  url.searchParams.delete(\"index\");\n  let indexValuesToKeep = [];\n  for (let indexValue of indexValues) {\n    if (indexValue) {\n      indexValuesToKeep.push(indexValue);\n    }\n  }\n  for (let toKeep of indexValuesToKeep) {\n    url.searchParams.append(\"index\", toKeep);\n  }\n  return url;\n}\nfunction singleFetchUrl(reqUrl, basename) {\n  let url = typeof reqUrl === \"string\" ? new URL(\n    reqUrl,\n    // This can be called during the SSR flow via PrefetchPageLinksImpl so\n    // don't assume window is available\n    typeof window === \"undefined\" ? \"server://singlefetch/\" : window.location.origin\n  ) : reqUrl;\n  if (url.pathname === \"/\") {\n    url.pathname = \"_root.data\";\n  } else if (basename && stripBasename(url.pathname, basename) === \"/\") {\n    url.pathname = `${basename.replace(/\\/$/, \"\")}/_root.data`;\n  } else {\n    url.pathname = `${url.pathname.replace(/\\/$/, \"\")}.data`;\n  }\n  return url;\n}\nasync function fetchAndDecode(url, init) {\n  let res = await fetch(url, init);\n  if (res.status === 404 && !res.headers.has(\"X-Remix-Response\")) {\n    throw new ErrorResponseImpl(404, \"Not Found\", true);\n  }\n  const NO_BODY_STATUS_CODES2 = /* @__PURE__ */ new Set([100, 101, 204, 205]);\n  if (NO_BODY_STATUS_CODES2.has(res.status)) {\n    if (!init.method || init.method === \"GET\") {\n      return { status: res.status, data: {} };\n    } else {\n      return { status: res.status, data: { data: void 0 } };\n    }\n  }\n  invariant2(res.body, \"No response body to decode\");\n  try {\n    let decoded = await decodeViaTurboStream(res.body, window);\n    return { status: res.status, data: decoded.value };\n  } catch (e) {\n    throw new Error(\"Unable to decode turbo-stream response\");\n  }\n}\nfunction decodeViaTurboStream(body, global2) {\n  return decode(body, {\n    plugins: [\n      (type, ...rest) => {\n        if (type === \"SanitizedError\") {\n          let [name, message, stack] = rest;\n          let Constructor = Error;\n          if (name && name in global2 && typeof global2[name] === \"function\") {\n            Constructor = global2[name];\n          }\n          let error = new Constructor(message);\n          error.stack = stack;\n          return { value: error };\n        }\n        if (type === \"ErrorResponse\") {\n          let [data2, status, statusText] = rest;\n          return {\n            value: new ErrorResponseImpl(status, statusText, data2)\n          };\n        }\n        if (type === \"SingleFetchRedirect\") {\n          return { value: { [SingleFetchRedirectSymbol]: rest[0] } };\n        }\n        if (type === \"SingleFetchClassInstance\") {\n          return { value: rest[0] };\n        }\n        if (type === \"SingleFetchFallback\") {\n          return { value: void 0 };\n        }\n      }\n    ]\n  });\n}\nfunction unwrapSingleFetchResults(results, routeId) {\n  let redirect2 = results[SingleFetchRedirectSymbol];\n  if (redirect2) {\n    return unwrapSingleFetchResult(redirect2, routeId);\n  }\n  return results[routeId] !== void 0 ? unwrapSingleFetchResult(results[routeId], routeId) : null;\n}\nfunction unwrapSingleFetchResult(result, routeId) {\n  if (\"error\" in result) {\n    throw result.error;\n  } else if (\"redirect\" in result) {\n    let headers = {};\n    if (result.revalidate) {\n      headers[\"X-Remix-Revalidate\"] = \"yes\";\n    }\n    if (result.reload) {\n      headers[\"X-Remix-Reload-Document\"] = \"yes\";\n    }\n    if (result.replace) {\n      headers[\"X-Remix-Replace\"] = \"yes\";\n    }\n    throw redirect(result.redirect, { status: result.status, headers });\n  } else if (\"data\" in result) {\n    return result.data;\n  } else {\n    throw new Error(`No response found for routeId \"${routeId}\"`);\n  }\n}\nfunction createDeferred2() {\n  let resolve;\n  let reject;\n  let promise = new Promise((res, rej) => {\n    resolve = async (val) => {\n      res(val);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n    reject = async (error) => {\n      rej(error);\n      try {\n        await promise;\n      } catch (e) {\n      }\n    };\n  });\n  return {\n    promise,\n    //@ts-ignore\n    resolve,\n    //@ts-ignore\n    reject\n  };\n}\n\n// lib/dom/ssr/fog-of-war.ts\nimport * as React8 from \"react\";\n\n// lib/dom/ssr/routes.tsx\nimport * as React7 from \"react\";\n\n// lib/dom/ssr/errorBoundaries.tsx\nimport * as React5 from \"react\";\nvar RemixErrorBoundary = class extends React5.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: props.error || null, location: props.location };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  static getDerivedStateFromProps(props, state) {\n    if (state.location !== props.location) {\n      return { error: props.error || null, location: props.location };\n    }\n    return { error: props.error || state.error, location: state.location };\n  }\n  render() {\n    if (this.state.error) {\n      return /* @__PURE__ */ React5.createElement(\n        RemixRootDefaultErrorBoundary,\n        {\n          error: this.state.error,\n          isOutsideRemixApp: true\n        }\n      );\n    } else {\n      return this.props.children;\n    }\n  }\n};\nfunction RemixRootDefaultErrorBoundary({\n  error,\n  isOutsideRemixApp\n}) {\n  console.error(error);\n  let heyDeveloper = /* @__PURE__ */ React5.createElement(\n    \"script\",\n    {\n      dangerouslySetInnerHTML: {\n        __html: `\n        console.log(\n          \"\\u{1F4BF} Hey developer \\u{1F44B}. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information.\"\n        );\n      `\n      }\n    }\n  );\n  if (isRouteErrorResponse(error)) {\n    return /* @__PURE__ */ React5.createElement(BoundaryShell, { title: \"Unhandled Thrown Response!\" }, /* @__PURE__ */ React5.createElement(\"h1\", { style: { fontSize: \"24px\" } }, error.status, \" \", error.statusText), heyDeveloper);\n  }\n  let errorInstance;\n  if (error instanceof Error) {\n    errorInstance = error;\n  } else {\n    let errorString = error == null ? \"Unknown Error\" : typeof error === \"object\" && \"toString\" in error ? error.toString() : JSON.stringify(error);\n    errorInstance = new Error(errorString);\n  }\n  return /* @__PURE__ */ React5.createElement(\n    BoundaryShell,\n    {\n      title: \"Application Error!\",\n      isOutsideRemixApp\n    },\n    /* @__PURE__ */ React5.createElement(\"h1\", { style: { fontSize: \"24px\" } }, \"Application Error\"),\n    /* @__PURE__ */ React5.createElement(\n      \"pre\",\n      {\n        style: {\n          padding: \"2rem\",\n          background: \"hsla(10, 50%, 50%, 0.1)\",\n          color: \"red\",\n          overflow: \"auto\"\n        }\n      },\n      errorInstance.stack\n    ),\n    heyDeveloper\n  );\n}\nfunction BoundaryShell({\n  title,\n  renderScripts,\n  isOutsideRemixApp,\n  children\n}) {\n  let { routeModules } = useFrameworkContext();\n  if (routeModules.root?.Layout && !isOutsideRemixApp) {\n    return children;\n  }\n  return /* @__PURE__ */ React5.createElement(\"html\", { lang: \"en\" }, /* @__PURE__ */ React5.createElement(\"head\", null, /* @__PURE__ */ React5.createElement(\"meta\", { charSet: \"utf-8\" }), /* @__PURE__ */ React5.createElement(\n    \"meta\",\n    {\n      name: \"viewport\",\n      content: \"width=device-width,initial-scale=1,viewport-fit=cover\"\n    }\n  ), /* @__PURE__ */ React5.createElement(\"title\", null, title)), /* @__PURE__ */ React5.createElement(\"body\", null, /* @__PURE__ */ React5.createElement(\"main\", { style: { fontFamily: \"system-ui, sans-serif\", padding: \"2rem\" } }, children, renderScripts ? /* @__PURE__ */ React5.createElement(Scripts, null) : null)));\n}\n\n// lib/dom/ssr/fallback.tsx\nimport * as React6 from \"react\";\nfunction RemixRootDefaultHydrateFallback() {\n  return /* @__PURE__ */ React6.createElement(BoundaryShell, { title: \"Loading...\", renderScripts: true }, /* @__PURE__ */ React6.createElement(\n    \"script\",\n    {\n      dangerouslySetInnerHTML: {\n        __html: `\n              console.log(\n                \"\\u{1F4BF} Hey developer \\u{1F44B}. You can provide a way better UX than this \" +\n                \"when your app is loading JS modules and/or running \\`clientLoader\\` \" +\n                \"functions. Check out https://remix.run/route/hydrate-fallback \" +\n                \"for more information.\"\n              );\n            `\n      }\n    }\n  ));\n}\n\n// lib/dom/ssr/routes.tsx\nfunction groupRoutesByParentId(manifest) {\n  let routes = {};\n  Object.values(manifest).forEach((route) => {\n    if (route) {\n      let parentId = route.parentId || \"\";\n      if (!routes[parentId]) {\n        routes[parentId] = [];\n      }\n      routes[parentId].push(route);\n    }\n  });\n  return routes;\n}\nfunction getRouteComponents(route, routeModule, isSpaMode) {\n  let Component4 = getRouteModuleComponent(routeModule);\n  let HydrateFallback = routeModule.HydrateFallback && (!isSpaMode || route.id === \"root\") ? routeModule.HydrateFallback : route.id === \"root\" ? RemixRootDefaultHydrateFallback : void 0;\n  let ErrorBoundary = routeModule.ErrorBoundary ? routeModule.ErrorBoundary : route.id === \"root\" ? () => /* @__PURE__ */ React7.createElement(RemixRootDefaultErrorBoundary, { error: useRouteError() }) : void 0;\n  if (route.id === \"root\" && routeModule.Layout) {\n    return {\n      ...Component4 ? {\n        element: /* @__PURE__ */ React7.createElement(routeModule.Layout, null, /* @__PURE__ */ React7.createElement(Component4, null))\n      } : { Component: Component4 },\n      ...ErrorBoundary ? {\n        errorElement: /* @__PURE__ */ React7.createElement(routeModule.Layout, null, /* @__PURE__ */ React7.createElement(ErrorBoundary, null))\n      } : { ErrorBoundary },\n      ...HydrateFallback ? {\n        hydrateFallbackElement: /* @__PURE__ */ React7.createElement(routeModule.Layout, null, /* @__PURE__ */ React7.createElement(HydrateFallback, null))\n      } : { HydrateFallback }\n    };\n  }\n  return { Component: Component4, ErrorBoundary, HydrateFallback };\n}\nfunction createServerRoutes(manifest, routeModules, future, isSpaMode, parentId = \"\", routesByParentId = groupRoutesByParentId(manifest), spaModeLazyPromise = Promise.resolve({ Component: () => null })) {\n  return (routesByParentId[parentId] || []).map((route) => {\n    let routeModule = routeModules[route.id];\n    invariant2(\n      routeModule,\n      \"No `routeModule` available to create server routes\"\n    );\n    let dataRoute = {\n      ...getRouteComponents(route, routeModule, isSpaMode),\n      caseSensitive: route.caseSensitive,\n      id: route.id,\n      index: route.index,\n      path: route.path,\n      handle: routeModule.handle,\n      // For SPA Mode, all routes are lazy except root.  However we tell the\n      // router root is also lazy here too since we don't need a full\n      // implementation - we just need a `lazy` prop to tell the RR rendering\n      // where to stop which is always at the root route in SPA mode\n      lazy: isSpaMode ? () => spaModeLazyPromise : void 0,\n      // For partial hydration rendering, we need to indicate when the route\n      // has a loader/clientLoader, but it won't ever be called during the static\n      // render, so just give it a no-op function so we can render down to the\n      // proper fallback\n      loader: route.hasLoader || route.hasClientLoader ? () => null : void 0\n      // We don't need middleware/action/shouldRevalidate on these routes since\n      // they're for a static render\n    };\n    let children = createServerRoutes(\n      manifest,\n      routeModules,\n      future,\n      isSpaMode,\n      route.id,\n      routesByParentId,\n      spaModeLazyPromise\n    );\n    if (children.length > 0) dataRoute.children = children;\n    return dataRoute;\n  });\n}\nfunction createClientRoutesWithHMRRevalidationOptOut(needsRevalidation, manifest, routeModulesCache, initialState, ssr, isSpaMode) {\n  return createClientRoutes(\n    manifest,\n    routeModulesCache,\n    initialState,\n    ssr,\n    isSpaMode,\n    \"\",\n    groupRoutesByParentId(manifest),\n    needsRevalidation\n  );\n}\nfunction preventInvalidServerHandlerCall(type, route) {\n  if (type === \"loader\" && !route.hasLoader || type === \"action\" && !route.hasAction) {\n    let fn = type === \"action\" ? \"serverAction()\" : \"serverLoader()\";\n    let msg = `You are trying to call ${fn} on a route that does not have a server ${type} (routeId: \"${route.id}\")`;\n    console.error(msg);\n    throw new ErrorResponseImpl(400, \"Bad Request\", new Error(msg), true);\n  }\n}\nfunction noActionDefinedError(type, routeId) {\n  let article = type === \"clientAction\" ? \"a\" : \"an\";\n  let msg = `Route \"${routeId}\" does not have ${article} ${type}, but you are trying to submit to it. To fix this, please add ${article} \\`${type}\\` function to the route`;\n  console.error(msg);\n  throw new ErrorResponseImpl(405, \"Method Not Allowed\", new Error(msg), true);\n}\nfunction createClientRoutes(manifest, routeModulesCache, initialState, ssr, isSpaMode, parentId = \"\", routesByParentId = groupRoutesByParentId(manifest), needsRevalidation) {\n  return (routesByParentId[parentId] || []).map((route) => {\n    let routeModule = routeModulesCache[route.id];\n    function fetchServerHandler(singleFetch) {\n      invariant2(\n        typeof singleFetch === \"function\",\n        \"No single fetch function available for route handler\"\n      );\n      return singleFetch();\n    }\n    function fetchServerLoader(singleFetch) {\n      if (!route.hasLoader) return Promise.resolve(null);\n      return fetchServerHandler(singleFetch);\n    }\n    function fetchServerAction(singleFetch) {\n      if (!route.hasAction) {\n        throw noActionDefinedError(\"action\", route.id);\n      }\n      return fetchServerHandler(singleFetch);\n    }\n    function prefetchModule(modulePath) {\n      import(\n        /* @vite-ignore */\n        /* webpackIgnore: true */\n        modulePath\n      );\n    }\n    function prefetchRouteModuleChunks(route2) {\n      if (route2.clientActionModule) {\n        prefetchModule(route2.clientActionModule);\n      }\n      if (route2.clientLoaderModule) {\n        prefetchModule(route2.clientLoaderModule);\n      }\n    }\n    async function prefetchStylesAndCallHandler(handler) {\n      let cachedModule = routeModulesCache[route.id];\n      let linkPrefetchPromise = cachedModule ? prefetchStyleLinks(route, cachedModule) : Promise.resolve();\n      try {\n        return handler();\n      } finally {\n        await linkPrefetchPromise;\n      }\n    }\n    let dataRoute = {\n      id: route.id,\n      index: route.index,\n      path: route.path\n    };\n    if (routeModule) {\n      Object.assign(dataRoute, {\n        ...dataRoute,\n        ...getRouteComponents(route, routeModule, isSpaMode),\n        unstable_middleware: routeModule.unstable_clientMiddleware,\n        handle: routeModule.handle,\n        shouldRevalidate: getShouldRevalidateFunction(\n          routeModule,\n          route,\n          ssr,\n          needsRevalidation\n        )\n      });\n      let hasInitialData = initialState && initialState.loaderData && route.id in initialState.loaderData;\n      let initialData = hasInitialData ? initialState?.loaderData?.[route.id] : void 0;\n      let hasInitialError = initialState && initialState.errors && route.id in initialState.errors;\n      let initialError = hasInitialError ? initialState?.errors?.[route.id] : void 0;\n      let isHydrationRequest = needsRevalidation == null && (routeModule.clientLoader?.hydrate === true || !route.hasLoader);\n      dataRoute.loader = async ({ request, params, context }, singleFetch) => {\n        try {\n          let result = await prefetchStylesAndCallHandler(async () => {\n            invariant2(\n              routeModule,\n              \"No `routeModule` available for critical-route loader\"\n            );\n            if (!routeModule.clientLoader) {\n              return fetchServerLoader(singleFetch);\n            }\n            return routeModule.clientLoader({\n              request,\n              params,\n              context,\n              async serverLoader() {\n                preventInvalidServerHandlerCall(\"loader\", route);\n                if (isHydrationRequest) {\n                  if (hasInitialData) {\n                    return initialData;\n                  }\n                  if (hasInitialError) {\n                    throw initialError;\n                  }\n                }\n                return fetchServerLoader(singleFetch);\n              }\n            });\n          });\n          return result;\n        } finally {\n          isHydrationRequest = false;\n        }\n      };\n      dataRoute.loader.hydrate = shouldHydrateRouteLoader(\n        route,\n        routeModule,\n        isSpaMode\n      );\n      dataRoute.action = ({ request, params, context }, singleFetch) => {\n        return prefetchStylesAndCallHandler(async () => {\n          invariant2(\n            routeModule,\n            \"No `routeModule` available for critical-route action\"\n          );\n          if (!routeModule.clientAction) {\n            if (isSpaMode) {\n              throw noActionDefinedError(\"clientAction\", route.id);\n            }\n            return fetchServerAction(singleFetch);\n          }\n          return routeModule.clientAction({\n            request,\n            params,\n            context,\n            async serverAction() {\n              preventInvalidServerHandlerCall(\"action\", route);\n              return fetchServerAction(singleFetch);\n            }\n          });\n        });\n      };\n    } else {\n      if (!route.hasClientLoader) {\n        dataRoute.loader = (_, singleFetch) => prefetchStylesAndCallHandler(() => {\n          return fetchServerLoader(singleFetch);\n        });\n      } else if (route.clientLoaderModule) {\n        dataRoute.loader = async (args, singleFetch) => {\n          invariant2(route.clientLoaderModule);\n          let { clientLoader } = await import(\n            /* @vite-ignore */\n            /* webpackIgnore: true */\n            route.clientLoaderModule\n          );\n          return clientLoader({\n            ...args,\n            async serverLoader() {\n              preventInvalidServerHandlerCall(\"loader\", route);\n              return fetchServerLoader(singleFetch);\n            }\n          });\n        };\n      }\n      if (!route.hasClientAction) {\n        dataRoute.action = (_, singleFetch) => prefetchStylesAndCallHandler(() => {\n          if (isSpaMode) {\n            throw noActionDefinedError(\"clientAction\", route.id);\n          }\n          return fetchServerAction(singleFetch);\n        });\n      } else if (route.clientActionModule) {\n        dataRoute.action = async (args, singleFetch) => {\n          invariant2(route.clientActionModule);\n          prefetchRouteModuleChunks(route);\n          let { clientAction } = await import(\n            /* @vite-ignore */\n            /* webpackIgnore: true */\n            route.clientActionModule\n          );\n          return clientAction({\n            ...args,\n            async serverAction() {\n              preventInvalidServerHandlerCall(\"action\", route);\n              return fetchServerAction(singleFetch);\n            }\n          });\n        };\n      }\n      dataRoute.lazy = async () => {\n        if (route.clientLoaderModule || route.clientActionModule) {\n          await new Promise((resolve) => setTimeout(resolve, 0));\n        }\n        let modPromise = loadRouteModuleWithBlockingLinks(\n          route,\n          routeModulesCache\n        );\n        prefetchRouteModuleChunks(route);\n        let mod = await modPromise;\n        let lazyRoute = { ...mod };\n        if (mod.clientLoader) {\n          let clientLoader = mod.clientLoader;\n          lazyRoute.loader = (args, singleFetch) => clientLoader({\n            ...args,\n            async serverLoader() {\n              preventInvalidServerHandlerCall(\"loader\", route);\n              return fetchServerLoader(singleFetch);\n            }\n          });\n        }\n        if (mod.clientAction) {\n          let clientAction = mod.clientAction;\n          lazyRoute.action = (args, singleFetch) => clientAction({\n            ...args,\n            async serverAction() {\n              preventInvalidServerHandlerCall(\"action\", route);\n              return fetchServerAction(singleFetch);\n            }\n          });\n        }\n        return {\n          ...lazyRoute.loader ? { loader: lazyRoute.loader } : {},\n          ...lazyRoute.action ? { action: lazyRoute.action } : {},\n          unstable_middleware: mod.unstable_clientMiddleware,\n          hasErrorBoundary: lazyRoute.hasErrorBoundary,\n          shouldRevalidate: getShouldRevalidateFunction(\n            lazyRoute,\n            route,\n            ssr,\n            needsRevalidation\n          ),\n          handle: lazyRoute.handle,\n          // No need to wrap these in layout since the root route is never\n          // loaded via route.lazy()\n          Component: lazyRoute.Component,\n          ErrorBoundary: lazyRoute.ErrorBoundary\n        };\n      };\n    }\n    let children = createClientRoutes(\n      manifest,\n      routeModulesCache,\n      initialState,\n      ssr,\n      isSpaMode,\n      route.id,\n      routesByParentId,\n      needsRevalidation\n    );\n    if (children.length > 0) dataRoute.children = children;\n    return dataRoute;\n  });\n}\nfunction getShouldRevalidateFunction(route, manifestRoute, ssr, needsRevalidation) {\n  if (needsRevalidation) {\n    return wrapShouldRevalidateForHdr(\n      manifestRoute.id,\n      route.shouldRevalidate,\n      needsRevalidation\n    );\n  }\n  if (!ssr && manifestRoute.hasLoader && !manifestRoute.hasClientLoader) {\n    if (route.shouldRevalidate) {\n      let fn = route.shouldRevalidate;\n      return (opts) => fn({ ...opts, defaultShouldRevalidate: false });\n    } else {\n      return () => false;\n    }\n  }\n  if (ssr && route.shouldRevalidate) {\n    let fn = route.shouldRevalidate;\n    return (opts) => fn({ ...opts, defaultShouldRevalidate: true });\n  }\n  return route.shouldRevalidate;\n}\nfunction wrapShouldRevalidateForHdr(routeId, routeShouldRevalidate, needsRevalidation) {\n  let handledRevalidation = false;\n  return (arg) => {\n    if (!handledRevalidation) {\n      handledRevalidation = true;\n      return needsRevalidation.has(routeId);\n    }\n    return routeShouldRevalidate ? routeShouldRevalidate(arg) : arg.defaultShouldRevalidate;\n  };\n}\nasync function loadRouteModuleWithBlockingLinks(route, routeModules) {\n  let routeModulePromise = loadRouteModule(route, routeModules);\n  let prefetchRouteCssPromise = prefetchRouteCss(route);\n  let routeModule = await routeModulePromise;\n  await Promise.all([\n    prefetchRouteCssPromise,\n    prefetchStyleLinks(route, routeModule)\n  ]);\n  return {\n    Component: getRouteModuleComponent(routeModule),\n    ErrorBoundary: routeModule.ErrorBoundary,\n    unstable_clientMiddleware: routeModule.unstable_clientMiddleware,\n    clientAction: routeModule.clientAction,\n    clientLoader: routeModule.clientLoader,\n    handle: routeModule.handle,\n    links: routeModule.links,\n    meta: routeModule.meta,\n    shouldRevalidate: routeModule.shouldRevalidate\n  };\n}\nfunction getRouteModuleComponent(routeModule) {\n  if (routeModule.default == null) return void 0;\n  let isEmptyObject = typeof routeModule.default === \"object\" && Object.keys(routeModule.default).length === 0;\n  if (!isEmptyObject) {\n    return routeModule.default;\n  }\n}\nfunction shouldHydrateRouteLoader(route, routeModule, isSpaMode) {\n  return isSpaMode && route.id !== \"root\" || routeModule.clientLoader != null && (routeModule.clientLoader.hydrate === true || route.hasLoader !== true);\n}\n\n// lib/dom/ssr/fog-of-war.ts\nvar nextPaths = /* @__PURE__ */ new Set();\nvar discoveredPathsMaxSize = 1e3;\nvar discoveredPaths = /* @__PURE__ */ new Set();\nvar URL_LIMIT = 7680;\nfunction isFogOfWarEnabled(ssr) {\n  return ssr === true;\n}\nfunction getPartialManifest(manifest, router) {\n  let routeIds = new Set(router.state.matches.map((m) => m.route.id));\n  let segments = router.state.location.pathname.split(\"/\").filter(Boolean);\n  let paths = [\"/\"];\n  segments.pop();\n  while (segments.length > 0) {\n    paths.push(`/${segments.join(\"/\")}`);\n    segments.pop();\n  }\n  paths.forEach((path) => {\n    let matches = matchRoutes(router.routes, path, router.basename);\n    if (matches) {\n      matches.forEach((m) => routeIds.add(m.route.id));\n    }\n  });\n  let initialRoutes = [...routeIds].reduce(\n    (acc, id) => Object.assign(acc, { [id]: manifest.routes[id] }),\n    {}\n  );\n  return {\n    ...manifest,\n    routes: initialRoutes\n  };\n}\nfunction getPatchRoutesOnNavigationFunction(manifest, routeModules, ssr, isSpaMode, basename) {\n  if (!isFogOfWarEnabled(ssr)) {\n    return void 0;\n  }\n  return async ({ path, patch, signal, fetcherKey }) => {\n    if (discoveredPaths.has(path)) {\n      return;\n    }\n    await fetchAndApplyManifestPatches(\n      [path],\n      fetcherKey ? window.location.href : path,\n      manifest,\n      routeModules,\n      ssr,\n      isSpaMode,\n      basename,\n      patch,\n      signal\n    );\n  };\n}\nfunction useFogOFWarDiscovery(router, manifest, routeModules, ssr, isSpaMode) {\n  React8.useEffect(() => {\n    if (!isFogOfWarEnabled(ssr) || navigator.connection?.saveData === true) {\n      return;\n    }\n    function registerElement(el) {\n      let path = el.tagName === \"FORM\" ? el.getAttribute(\"action\") : el.getAttribute(\"href\");\n      if (!path) {\n        return;\n      }\n      let pathname = el.tagName === \"A\" ? el.pathname : new URL(path, window.location.origin).pathname;\n      if (!discoveredPaths.has(pathname)) {\n        nextPaths.add(pathname);\n      }\n    }\n    async function fetchPatches() {\n      document.querySelectorAll(\"a[data-discover], form[data-discover]\").forEach(registerElement);\n      let lazyPaths = Array.from(nextPaths.keys()).filter((path) => {\n        if (discoveredPaths.has(path)) {\n          nextPaths.delete(path);\n          return false;\n        }\n        return true;\n      });\n      if (lazyPaths.length === 0) {\n        return;\n      }\n      try {\n        await fetchAndApplyManifestPatches(\n          lazyPaths,\n          null,\n          manifest,\n          routeModules,\n          ssr,\n          isSpaMode,\n          router.basename,\n          router.patchRoutes\n        );\n      } catch (e) {\n        console.error(\"Failed to fetch manifest patches\", e);\n      }\n    }\n    let debouncedFetchPatches = debounce(fetchPatches, 100);\n    fetchPatches();\n    let observer = new MutationObserver(() => debouncedFetchPatches());\n    observer.observe(document.documentElement, {\n      subtree: true,\n      childList: true,\n      attributes: true,\n      attributeFilter: [\"data-discover\", \"href\", \"action\"]\n    });\n    return () => observer.disconnect();\n  }, [ssr, isSpaMode, manifest, routeModules, router]);\n}\nvar MANIFEST_VERSION_STORAGE_KEY = \"react-router-manifest-version\";\nasync function fetchAndApplyManifestPatches(paths, errorReloadPath, manifest, routeModules, ssr, isSpaMode, basename, patchRoutes, signal) {\n  let manifestPath = `${basename != null ? basename : \"/\"}/__manifest`.replace(\n    /\\/+/g,\n    \"/\"\n  );\n  let url = new URL(manifestPath, window.location.origin);\n  paths.sort().forEach((path) => url.searchParams.append(\"p\", path));\n  url.searchParams.set(\"version\", manifest.version);\n  if (url.toString().length > URL_LIMIT) {\n    nextPaths.clear();\n    return;\n  }\n  let serverPatches;\n  try {\n    let res = await fetch(url, { signal });\n    if (!res.ok) {\n      throw new Error(`${res.status} ${res.statusText}`);\n    } else if (res.status === 204 && res.headers.has(\"X-Remix-Reload-Document\")) {\n      if (!errorReloadPath) {\n        console.warn(\n          \"Detected a manifest version mismatch during eager route discovery. The next navigation/fetch to an undiscovered route will result in a new document navigation to sync up with the latest manifest.\"\n        );\n        return;\n      }\n      if (sessionStorage.getItem(MANIFEST_VERSION_STORAGE_KEY) === manifest.version) {\n        console.error(\n          \"Unable to discover routes due to manifest version mismatch.\"\n        );\n        return;\n      }\n      sessionStorage.setItem(MANIFEST_VERSION_STORAGE_KEY, manifest.version);\n      window.location.href = errorReloadPath;\n      throw new Error(\"Detected manifest version mismatch, reloading...\");\n    } else if (res.status >= 400) {\n      throw new Error(await res.text());\n    }\n    sessionStorage.removeItem(MANIFEST_VERSION_STORAGE_KEY);\n    serverPatches = await res.json();\n  } catch (e) {\n    if (signal?.aborted) return;\n    throw e;\n  }\n  let knownRoutes = new Set(Object.keys(manifest.routes));\n  let patches = Object.values(serverPatches).reduce((acc, route) => {\n    if (route && !knownRoutes.has(route.id)) {\n      acc[route.id] = route;\n    }\n    return acc;\n  }, {});\n  Object.assign(manifest.routes, patches);\n  paths.forEach((p) => addToFifoQueue(p, discoveredPaths));\n  let parentIds = /* @__PURE__ */ new Set();\n  Object.values(patches).forEach((patch) => {\n    if (patch && (!patch.parentId || !patches[patch.parentId])) {\n      parentIds.add(patch.parentId);\n    }\n  });\n  parentIds.forEach(\n    (parentId) => patchRoutes(\n      parentId || null,\n      createClientRoutes(patches, routeModules, null, ssr, isSpaMode, parentId)\n    )\n  );\n}\nfunction addToFifoQueue(path, queue) {\n  if (queue.size >= discoveredPathsMaxSize) {\n    let first = queue.values().next().value;\n    queue.delete(first);\n  }\n  queue.add(path);\n}\nfunction debounce(callback, wait) {\n  let timeoutId;\n  return (...args) => {\n    window.clearTimeout(timeoutId);\n    timeoutId = window.setTimeout(() => callback(...args), wait);\n  };\n}\n\n// lib/dom/ssr/components.tsx\nfunction useDataRouterContext2() {\n  let context = React9.useContext(DataRouterContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <DataRouterContext.Provider> element\"\n  );\n  return context;\n}\nfunction useDataRouterStateContext() {\n  let context = React9.useContext(DataRouterStateContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <DataRouterStateContext.Provider> element\"\n  );\n  return context;\n}\nvar FrameworkContext = React9.createContext(void 0);\nFrameworkContext.displayName = \"FrameworkContext\";\nfunction useFrameworkContext() {\n  let context = React9.useContext(FrameworkContext);\n  invariant2(\n    context,\n    \"You must render this element inside a <HydratedRouter> element\"\n  );\n  return context;\n}\nfunction usePrefetchBehavior(prefetch, theirElementProps) {\n  let frameworkContext = React9.useContext(FrameworkContext);\n  let [maybePrefetch, setMaybePrefetch] = React9.useState(false);\n  let [shouldPrefetch, setShouldPrefetch] = React9.useState(false);\n  let { onFocus, onBlur, onMouseEnter, onMouseLeave, onTouchStart } = theirElementProps;\n  let ref = React9.useRef(null);\n  React9.useEffect(() => {\n    if (prefetch === \"render\") {\n      setShouldPrefetch(true);\n    }\n    if (prefetch === \"viewport\") {\n      let callback = (entries) => {\n        entries.forEach((entry) => {\n          setShouldPrefetch(entry.isIntersecting);\n        });\n      };\n      let observer = new IntersectionObserver(callback, { threshold: 0.5 });\n      if (ref.current) observer.observe(ref.current);\n      return () => {\n        observer.disconnect();\n      };\n    }\n  }, [prefetch]);\n  React9.useEffect(() => {\n    if (maybePrefetch) {\n      let id = setTimeout(() => {\n        setShouldPrefetch(true);\n      }, 100);\n      return () => {\n        clearTimeout(id);\n      };\n    }\n  }, [maybePrefetch]);\n  let setIntent = () => {\n    setMaybePrefetch(true);\n  };\n  let cancelIntent = () => {\n    setMaybePrefetch(false);\n    setShouldPrefetch(false);\n  };\n  if (!frameworkContext) {\n    return [false, ref, {}];\n  }\n  if (prefetch !== \"intent\") {\n    return [shouldPrefetch, ref, {}];\n  }\n  return [\n    shouldPrefetch,\n    ref,\n    {\n      onFocus: composeEventHandlers(onFocus, setIntent),\n      onBlur: composeEventHandlers(onBlur, cancelIntent),\n      onMouseEnter: composeEventHandlers(onMouseEnter, setIntent),\n      onMouseLeave: composeEventHandlers(onMouseLeave, cancelIntent),\n      onTouchStart: composeEventHandlers(onTouchStart, setIntent)\n    }\n  ];\n}\nfunction composeEventHandlers(theirHandler, ourHandler) {\n  return (event) => {\n    theirHandler && theirHandler(event);\n    if (!event.defaultPrevented) {\n      ourHandler(event);\n    }\n  };\n}\nfunction getActiveMatches(matches, errors, isSpaMode) {\n  if (isSpaMode && !isHydrated) {\n    return [matches[0]];\n  }\n  if (errors) {\n    let errorIdx = matches.findIndex((m) => errors[m.route.id] !== void 0);\n    return matches.slice(0, errorIdx + 1);\n  }\n  return matches;\n}\nfunction Links() {\n  let { isSpaMode, manifest, routeModules, criticalCss } = useFrameworkContext();\n  let { errors, matches: routerMatches } = useDataRouterStateContext();\n  let matches = getActiveMatches(routerMatches, errors, isSpaMode);\n  let keyedLinks = React9.useMemo(\n    () => getKeyedLinksForMatches(matches, routeModules, manifest),\n    [matches, routeModules, manifest]\n  );\n  return /* @__PURE__ */ React9.createElement(React9.Fragment, null, typeof criticalCss === \"string\" ? /* @__PURE__ */ React9.createElement(\"style\", { dangerouslySetInnerHTML: { __html: criticalCss } }) : null, typeof criticalCss === \"object\" ? /* @__PURE__ */ React9.createElement(\"link\", { rel: \"stylesheet\", href: criticalCss.href }) : null, keyedLinks.map(\n    ({ key, link }) => isPageLinkDescriptor(link) ? /* @__PURE__ */ React9.createElement(PrefetchPageLinks, { key, ...link }) : /* @__PURE__ */ React9.createElement(\"link\", { key, ...link })\n  ));\n}\nfunction PrefetchPageLinks({\n  page,\n  ...dataLinkProps\n}) {\n  let { router } = useDataRouterContext2();\n  let matches = React9.useMemo(\n    () => matchRoutes(router.routes, page, router.basename),\n    [router.routes, page, router.basename]\n  );\n  if (!matches) {\n    return null;\n  }\n  return /* @__PURE__ */ React9.createElement(PrefetchPageLinksImpl, { page, matches, ...dataLinkProps });\n}\nfunction useKeyedPrefetchLinks(matches) {\n  let { manifest, routeModules } = useFrameworkContext();\n  let [keyedPrefetchLinks, setKeyedPrefetchLinks] = React9.useState([]);\n  React9.useEffect(() => {\n    let interrupted = false;\n    void getKeyedPrefetchLinks(matches, manifest, routeModules).then(\n      (links) => {\n        if (!interrupted) {\n          setKeyedPrefetchLinks(links);\n        }\n      }\n    );\n    return () => {\n      interrupted = true;\n    };\n  }, [matches, manifest, routeModules]);\n  return keyedPrefetchLinks;\n}\nfunction PrefetchPageLinksImpl({\n  page,\n  matches: nextMatches,\n  ...linkProps\n}) {\n  let location = useLocation();\n  let { manifest, routeModules } = useFrameworkContext();\n  let { basename } = useDataRouterContext2();\n  let { loaderData, matches } = useDataRouterStateContext();\n  let newMatchesForData = React9.useMemo(\n    () => getNewMatchesForLinks(\n      page,\n      nextMatches,\n      matches,\n      manifest,\n      location,\n      \"data\"\n    ),\n    [page, nextMatches, matches, manifest, location]\n  );\n  let newMatchesForAssets = React9.useMemo(\n    () => getNewMatchesForLinks(\n      page,\n      nextMatches,\n      matches,\n      manifest,\n      location,\n      \"assets\"\n    ),\n    [page, nextMatches, matches, manifest, location]\n  );\n  let dataHrefs = React9.useMemo(() => {\n    if (page === location.pathname + location.search + location.hash) {\n      return [];\n    }\n    let routesParams = /* @__PURE__ */ new Set();\n    let foundOptOutRoute = false;\n    nextMatches.forEach((m) => {\n      let manifestRoute = manifest.routes[m.route.id];\n      if (!manifestRoute || !manifestRoute.hasLoader) {\n        return;\n      }\n      if (!newMatchesForData.some((m2) => m2.route.id === m.route.id) && m.route.id in loaderData && routeModules[m.route.id]?.shouldRevalidate) {\n        foundOptOutRoute = true;\n      } else if (manifestRoute.hasClientLoader) {\n        foundOptOutRoute = true;\n      } else {\n        routesParams.add(m.route.id);\n      }\n    });\n    if (routesParams.size === 0) {\n      return [];\n    }\n    let url = singleFetchUrl(page, basename);\n    if (foundOptOutRoute && routesParams.size > 0) {\n      url.searchParams.set(\n        \"_routes\",\n        nextMatches.filter((m) => routesParams.has(m.route.id)).map((m) => m.route.id).join(\",\")\n      );\n    }\n    return [url.pathname + url.search];\n  }, [\n    basename,\n    loaderData,\n    location,\n    manifest,\n    newMatchesForData,\n    nextMatches,\n    page,\n    routeModules\n  ]);\n  let moduleHrefs = React9.useMemo(\n    () => getModuleLinkHrefs(newMatchesForAssets, manifest),\n    [newMatchesForAssets, manifest]\n  );\n  let keyedPrefetchLinks = useKeyedPrefetchLinks(newMatchesForAssets);\n  return /* @__PURE__ */ React9.createElement(React9.Fragment, null, dataHrefs.map((href2) => /* @__PURE__ */ React9.createElement(\"link\", { key: href2, rel: \"prefetch\", as: \"fetch\", href: href2, ...linkProps })), moduleHrefs.map((href2) => /* @__PURE__ */ React9.createElement(\"link\", { key: href2, rel: \"modulepreload\", href: href2, ...linkProps })), keyedPrefetchLinks.map(({ key, link }) => (\n    // these don't spread `linkProps` because they are full link descriptors\n    // already with their own props\n    /* @__PURE__ */ React9.createElement(\"link\", { key, ...link })\n  )));\n}\nfunction Meta() {\n  let { isSpaMode, routeModules } = useFrameworkContext();\n  let {\n    errors,\n    matches: routerMatches,\n    loaderData\n  } = useDataRouterStateContext();\n  let location = useLocation();\n  let _matches = getActiveMatches(routerMatches, errors, isSpaMode);\n  let error = null;\n  if (errors) {\n    error = errors[_matches[_matches.length - 1].route.id];\n  }\n  let meta = [];\n  let leafMeta = null;\n  let matches = [];\n  for (let i = 0; i < _matches.length; i++) {\n    let _match = _matches[i];\n    let routeId = _match.route.id;\n    let data2 = loaderData[routeId];\n    let params = _match.params;\n    let routeModule = routeModules[routeId];\n    let routeMeta = [];\n    let match = {\n      id: routeId,\n      data: data2,\n      meta: [],\n      params: _match.params,\n      pathname: _match.pathname,\n      handle: _match.route.handle,\n      error\n    };\n    matches[i] = match;\n    if (routeModule?.meta) {\n      routeMeta = typeof routeModule.meta === \"function\" ? routeModule.meta({\n        data: data2,\n        params,\n        location,\n        matches,\n        error\n      }) : Array.isArray(routeModule.meta) ? [...routeModule.meta] : routeModule.meta;\n    } else if (leafMeta) {\n      routeMeta = [...leafMeta];\n    }\n    routeMeta = routeMeta || [];\n    if (!Array.isArray(routeMeta)) {\n      throw new Error(\n        \"The route at \" + _match.route.path + \" returns an invalid value. All route meta functions must return an array of meta objects.\\n\\nTo reference the meta function API, see https://remix.run/route/meta\"\n      );\n    }\n    match.meta = routeMeta;\n    matches[i] = match;\n    meta = [...routeMeta];\n    leafMeta = meta;\n  }\n  return /* @__PURE__ */ React9.createElement(React9.Fragment, null, meta.flat().map((metaProps) => {\n    if (!metaProps) {\n      return null;\n    }\n    if (\"tagName\" in metaProps) {\n      let { tagName, ...rest } = metaProps;\n      if (!isValidMetaTag(tagName)) {\n        console.warn(\n          `A meta object uses an invalid tagName: ${tagName}. Expected either 'link' or 'meta'`\n        );\n        return null;\n      }\n      let Comp = tagName;\n      return /* @__PURE__ */ React9.createElement(Comp, { key: JSON.stringify(rest), ...rest });\n    }\n    if (\"title\" in metaProps) {\n      return /* @__PURE__ */ React9.createElement(\"title\", { key: \"title\" }, String(metaProps.title));\n    }\n    if (\"charset\" in metaProps) {\n      metaProps.charSet ?? (metaProps.charSet = metaProps.charset);\n      delete metaProps.charset;\n    }\n    if (\"charSet\" in metaProps && metaProps.charSet != null) {\n      return typeof metaProps.charSet === \"string\" ? /* @__PURE__ */ React9.createElement(\"meta\", { key: \"charSet\", charSet: metaProps.charSet }) : null;\n    }\n    if (\"script:ld+json\" in metaProps) {\n      try {\n        let json = JSON.stringify(metaProps[\"script:ld+json\"]);\n        return /* @__PURE__ */ React9.createElement(\n          \"script\",\n          {\n            key: `script:ld+json:${json}`,\n            type: \"application/ld+json\",\n            dangerouslySetInnerHTML: { __html: json }\n          }\n        );\n      } catch (err) {\n        return null;\n      }\n    }\n    return /* @__PURE__ */ React9.createElement(\"meta\", { key: JSON.stringify(metaProps), ...metaProps });\n  }));\n}\nfunction isValidMetaTag(tagName) {\n  return typeof tagName === \"string\" && /^(meta|link)$/.test(tagName);\n}\nvar isHydrated = false;\nfunction Scripts(props) {\n  let { manifest, serverHandoffString, isSpaMode, ssr, renderMeta } = useFrameworkContext();\n  let { router, static: isStatic, staticContext } = useDataRouterContext2();\n  let { matches: routerMatches } = useDataRouterStateContext();\n  let enableFogOfWar = isFogOfWarEnabled(ssr);\n  if (renderMeta) {\n    renderMeta.didRenderScripts = true;\n  }\n  let matches = getActiveMatches(routerMatches, null, isSpaMode);\n  React9.useEffect(() => {\n    isHydrated = true;\n  }, []);\n  let initialScripts = React9.useMemo(() => {\n    let streamScript = \"window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());\";\n    let contextScript = staticContext ? `window.__reactRouterContext = ${serverHandoffString};${streamScript}` : \" \";\n    let routeModulesScript = !isStatic ? \" \" : `${manifest.hmr?.runtime ? `import ${JSON.stringify(manifest.hmr.runtime)};` : \"\"}${!enableFogOfWar ? `import ${JSON.stringify(manifest.url)}` : \"\"};\n${matches.map((match, routeIndex) => {\n      let routeVarName = `route${routeIndex}`;\n      let manifestEntry = manifest.routes[match.route.id];\n      invariant2(manifestEntry, `Route ${match.route.id} not found in manifest`);\n      let {\n        clientActionModule,\n        clientLoaderModule,\n        hydrateFallbackModule,\n        module\n      } = manifestEntry;\n      let chunks = [\n        ...clientActionModule ? [\n          {\n            module: clientActionModule,\n            varName: `${routeVarName}_clientAction`\n          }\n        ] : [],\n        ...clientLoaderModule ? [\n          {\n            module: clientLoaderModule,\n            varName: `${routeVarName}_clientLoader`\n          }\n        ] : [],\n        ...hydrateFallbackModule ? [\n          {\n            module: hydrateFallbackModule,\n            varName: `${routeVarName}_HydrateFallback`\n          }\n        ] : [],\n        { module, varName: `${routeVarName}_main` }\n      ];\n      if (chunks.length === 1) {\n        return `import * as ${routeVarName} from ${JSON.stringify(module)};`;\n      }\n      let chunkImportsSnippet = chunks.map((chunk) => `import * as ${chunk.varName} from \"${chunk.module}\";`).join(\"\\n\");\n      let mergedChunksSnippet = `const ${routeVarName} = {${chunks.map((chunk) => `...${chunk.varName}`).join(\",\")}};`;\n      return [chunkImportsSnippet, mergedChunksSnippet].join(\"\\n\");\n    }).join(\"\\n\")}\n  ${enableFogOfWar ? (\n      // Inline a minimal manifest with the SSR matches\n      `window.__reactRouterManifest = ${JSON.stringify(\n        getPartialManifest(manifest, router),\n        null,\n        2\n      )};`\n    ) : \"\"}\n  window.__reactRouterRouteModules = {${matches.map((match, index) => `${JSON.stringify(match.route.id)}:route${index}`).join(\",\")}};\n\nimport(${JSON.stringify(manifest.entry.module)});`;\n    return /* @__PURE__ */ React9.createElement(React9.Fragment, null, /* @__PURE__ */ React9.createElement(\n      \"script\",\n      {\n        ...props,\n        suppressHydrationWarning: true,\n        dangerouslySetInnerHTML: createHtml(contextScript),\n        type: void 0\n      }\n    ), /* @__PURE__ */ React9.createElement(\n      \"script\",\n      {\n        ...props,\n        suppressHydrationWarning: true,\n        dangerouslySetInnerHTML: createHtml(routeModulesScript),\n        type: \"module\",\n        async: true\n      }\n    ));\n  }, []);\n  let preloads = isHydrated ? [] : manifest.entry.imports.concat(\n    getModuleLinkHrefs(matches, manifest, {\n      includeHydrateFallback: true\n    })\n  );\n  return isHydrated ? null : /* @__PURE__ */ React9.createElement(React9.Fragment, null, !enableFogOfWar ? /* @__PURE__ */ React9.createElement(\n    \"link\",\n    {\n      rel: \"modulepreload\",\n      href: manifest.url,\n      crossOrigin: props.crossOrigin\n    }\n  ) : null, /* @__PURE__ */ React9.createElement(\n    \"link\",\n    {\n      rel: \"modulepreload\",\n      href: manifest.entry.module,\n      crossOrigin: props.crossOrigin\n    }\n  ), dedupe(preloads).map((path) => /* @__PURE__ */ React9.createElement(\n    \"link\",\n    {\n      key: path,\n      rel: \"modulepreload\",\n      href: path,\n      crossOrigin: props.crossOrigin\n    }\n  )), initialScripts);\n}\nfunction dedupe(array) {\n  return [...new Set(array)];\n}\nfunction mergeRefs(...refs) {\n  return (value) => {\n    refs.forEach((ref) => {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    });\n  };\n}\n\n// lib/dom/lib.tsx\nvar isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\ntry {\n  if (isBrowser) {\n    window.__reactRouterVersion = \"7.3.0\";\n  }\n} catch (e) {\n}\nfunction createBrowserRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    unstable_getContext: opts?.unstable_getContext,\n    future: opts?.future,\n    history: createBrowserHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation,\n    window: opts?.window\n  }).initialize();\n}\nfunction createHashRouter(routes, opts) {\n  return createRouter({\n    basename: opts?.basename,\n    unstable_getContext: opts?.unstable_getContext,\n    future: opts?.future,\n    history: createHashHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n    dataStrategy: opts?.dataStrategy,\n    patchRoutesOnNavigation: opts?.patchRoutesOnNavigation,\n    window: opts?.window\n  }).initialize();\n}\nfunction parseHydrationData() {\n  let state = window?.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = {\n      ...state,\n      errors: deserializeErrors(state.errors)\n    };\n  }\n  return state;\n}\nfunction deserializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponseImpl(\n        val.status,\n        val.statusText,\n        val.data,\n        val.internal === true\n      );\n    } else if (val && val.__type === \"Error\") {\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            let error = new ErrorConstructor(val.message);\n            error.stack = \"\";\n            serialized[key] = error;\n          } catch (e) {\n          }\n        }\n      }\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        error.stack = \"\";\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\nfunction BrowserRouter({\n  basename,\n  children,\n  window: window2\n}) {\n  let historyRef = React10.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({ window: window2, v5Compat: true });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      React10.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nfunction HashRouter({ basename, children, window: window2 }) {\n  let historyRef = React10.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({ window: window2, v5Compat: true });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      React10.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nfunction HistoryRouter({\n  basename,\n  children,\n  history\n}) {\n  let [state, setStateImpl] = React10.useState({\n    action: history.action,\n    location: history.location\n  });\n  let setState = React10.useCallback(\n    (newState) => {\n      React10.startTransition(() => setStateImpl(newState));\n    },\n    [setStateImpl]\n  );\n  React10.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /* @__PURE__ */ React10.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location: state.location,\n      navigationType: state.action,\n      navigator: history\n    }\n  );\n}\nHistoryRouter.displayName = \"unstable_HistoryRouter\";\nvar ABSOLUTE_URL_REGEX2 = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar Link = React10.forwardRef(\n  function LinkWithRef({\n    onClick,\n    discover = \"render\",\n    prefetch = \"none\",\n    relative,\n    reloadDocument,\n    replace: replace2,\n    state,\n    target,\n    to,\n    preventScrollReset,\n    viewTransition,\n    ...rest\n  }, forwardedRef) {\n    let { basename } = React10.useContext(NavigationContext);\n    let isAbsolute = typeof to === \"string\" && ABSOLUTE_URL_REGEX2.test(to);\n    let absoluteHref;\n    let isExternal = false;\n    if (typeof to === \"string\" && isAbsolute) {\n      absoluteHref = to;\n      if (isBrowser) {\n        try {\n          let currentUrl = new URL(window.location.href);\n          let targetUrl = to.startsWith(\"//\") ? new URL(currentUrl.protocol + to) : new URL(to);\n          let path = stripBasename(targetUrl.pathname, basename);\n          if (targetUrl.origin === currentUrl.origin && path != null) {\n            to = path + targetUrl.search + targetUrl.hash;\n          } else {\n            isExternal = true;\n          }\n        } catch (e) {\n          warning(\n            false,\n            `<Link to=\"${to}\"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`\n          );\n        }\n      }\n    }\n    let href2 = useHref(to, { relative });\n    let [shouldPrefetch, prefetchRef, prefetchHandlers] = usePrefetchBehavior(\n      prefetch,\n      rest\n    );\n    let internalOnClick = useLinkClickHandler(to, {\n      replace: replace2,\n      state,\n      target,\n      preventScrollReset,\n      relative,\n      viewTransition\n    });\n    function handleClick(event) {\n      if (onClick) onClick(event);\n      if (!event.defaultPrevented) {\n        internalOnClick(event);\n      }\n    }\n    let link = (\n      // eslint-disable-next-line jsx-a11y/anchor-has-content\n      /* @__PURE__ */ React10.createElement(\n        \"a\",\n        {\n          ...rest,\n          ...prefetchHandlers,\n          href: absoluteHref || href2,\n          onClick: isExternal || reloadDocument ? onClick : handleClick,\n          ref: mergeRefs(forwardedRef, prefetchRef),\n          target,\n          \"data-discover\": !isAbsolute && discover === \"render\" ? \"true\" : void 0\n        }\n      )\n    );\n    return shouldPrefetch && !isAbsolute ? /* @__PURE__ */ React10.createElement(React10.Fragment, null, link, /* @__PURE__ */ React10.createElement(PrefetchPageLinks, { page: href2 })) : link;\n  }\n);\nLink.displayName = \"Link\";\nvar NavLink = React10.forwardRef(\n  function NavLinkWithRef({\n    \"aria-current\": ariaCurrentProp = \"page\",\n    caseSensitive = false,\n    className: classNameProp = \"\",\n    end = false,\n    style: styleProp,\n    to,\n    viewTransition,\n    children,\n    ...rest\n  }, ref) {\n    let path = useResolvedPath(to, { relative: rest.relative });\n    let location = useLocation();\n    let routerState = React10.useContext(DataRouterStateContext);\n    let { navigator: navigator2, basename } = React10.useContext(NavigationContext);\n    let isTransitioning = routerState != null && // Conditional usage is OK here because the usage of a data router is static\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useViewTransitionState(path) && viewTransition === true;\n    let toPathname = navigator2.encodeLocation ? navigator2.encodeLocation(path).pathname : path.pathname;\n    let locationPathname = location.pathname;\n    let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;\n    if (!caseSensitive) {\n      locationPathname = locationPathname.toLowerCase();\n      nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;\n      toPathname = toPathname.toLowerCase();\n    }\n    if (nextLocationPathname && basename) {\n      nextLocationPathname = stripBasename(nextLocationPathname, basename) || nextLocationPathname;\n    }\n    const endSlashPosition = toPathname !== \"/\" && toPathname.endsWith(\"/\") ? toPathname.length - 1 : toPathname.length;\n    let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(endSlashPosition) === \"/\";\n    let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === \"/\");\n    let renderProps = {\n      isActive,\n      isPending,\n      isTransitioning\n    };\n    let ariaCurrent = isActive ? ariaCurrentProp : void 0;\n    let className;\n    if (typeof classNameProp === \"function\") {\n      className = classNameProp(renderProps);\n    } else {\n      className = [\n        classNameProp,\n        isActive ? \"active\" : null,\n        isPending ? \"pending\" : null,\n        isTransitioning ? \"transitioning\" : null\n      ].filter(Boolean).join(\" \");\n    }\n    let style = typeof styleProp === \"function\" ? styleProp(renderProps) : styleProp;\n    return /* @__PURE__ */ React10.createElement(\n      Link,\n      {\n        ...rest,\n        \"aria-current\": ariaCurrent,\n        className,\n        ref,\n        style,\n        to,\n        viewTransition\n      },\n      typeof children === \"function\" ? children(renderProps) : children\n    );\n  }\n);\nNavLink.displayName = \"NavLink\";\nvar Form = React10.forwardRef(\n  ({\n    discover = \"render\",\n    fetcherKey,\n    navigate,\n    reloadDocument,\n    replace: replace2,\n    state,\n    method = defaultMethod,\n    action,\n    onSubmit,\n    relative,\n    preventScrollReset,\n    viewTransition,\n    ...props\n  }, forwardedRef) => {\n    let submit = useSubmit();\n    let formAction = useFormAction(action, { relative });\n    let formMethod = method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n    let isAbsolute = typeof action === \"string\" && ABSOLUTE_URL_REGEX2.test(action);\n    let submitHandler = (event) => {\n      onSubmit && onSubmit(event);\n      if (event.defaultPrevented) return;\n      event.preventDefault();\n      let submitter = event.nativeEvent.submitter;\n      let submitMethod = submitter?.getAttribute(\"formmethod\") || method;\n      submit(submitter || event.currentTarget, {\n        fetcherKey,\n        method: submitMethod,\n        navigate,\n        replace: replace2,\n        state,\n        relative,\n        preventScrollReset,\n        viewTransition\n      });\n    };\n    return /* @__PURE__ */ React10.createElement(\n      \"form\",\n      {\n        ref: forwardedRef,\n        method: formMethod,\n        action: formAction,\n        onSubmit: reloadDocument ? onSubmit : submitHandler,\n        ...props,\n        \"data-discover\": !isAbsolute && discover === \"render\" ? \"true\" : void 0\n      }\n    );\n  }\n);\nForm.displayName = \"Form\";\nfunction ScrollRestoration({\n  getKey,\n  storageKey,\n  ...props\n}) {\n  let remixContext = React10.useContext(FrameworkContext);\n  let { basename } = React10.useContext(NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  useScrollRestoration({ getKey, storageKey });\n  let ssrKey = React10.useMemo(\n    () => {\n      if (!remixContext || !getKey) return null;\n      let userKey = getScrollRestorationKey(\n        location,\n        matches,\n        basename,\n        getKey\n      );\n      return userKey !== location.key ? userKey : null;\n    },\n    // Nah, we only need this the first time for the SSR render\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  if (!remixContext || remixContext.isSpaMode) {\n    return null;\n  }\n  let restoreScroll = ((storageKey2, restoreKey) => {\n    if (!window.history.state || !window.history.state.key) {\n      let key = Math.random().toString(32).slice(2);\n      window.history.replaceState({ key }, \"\");\n    }\n    try {\n      let positions = JSON.parse(sessionStorage.getItem(storageKey2) || \"{}\");\n      let storedY = positions[restoreKey || window.history.state.key];\n      if (typeof storedY === \"number\") {\n        window.scrollTo(0, storedY);\n      }\n    } catch (error) {\n      console.error(error);\n      sessionStorage.removeItem(storageKey2);\n    }\n  }).toString();\n  return /* @__PURE__ */ React10.createElement(\n    \"script\",\n    {\n      ...props,\n      suppressHydrationWarning: true,\n      dangerouslySetInnerHTML: {\n        __html: `(${restoreScroll})(${JSON.stringify(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        )}, ${JSON.stringify(ssrKey)})`\n      }\n    }\n  );\n}\nScrollRestoration.displayName = \"ScrollRestoration\";\nfunction getDataRouterConsoleError2(hookName) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`;\n}\nfunction useDataRouterContext3(hookName) {\n  let ctx = React10.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError2(hookName));\n  return ctx;\n}\nfunction useDataRouterState2(hookName) {\n  let state = React10.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError2(hookName));\n  return state;\n}\nfunction useLinkClickHandler(to, {\n  target,\n  replace: replaceProp,\n  state,\n  preventScrollReset,\n  relative,\n  viewTransition\n} = {}) {\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, { relative });\n  return React10.useCallback(\n    (event) => {\n      if (shouldProcessLinkClick(event, target)) {\n        event.preventDefault();\n        let replace2 = replaceProp !== void 0 ? replaceProp : createPath(location) === createPath(path);\n        navigate(to, {\n          replace: replace2,\n          state,\n          preventScrollReset,\n          relative,\n          viewTransition\n        });\n      }\n    },\n    [\n      location,\n      navigate,\n      path,\n      replaceProp,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      relative,\n      viewTransition\n    ]\n  );\n}\nfunction useSearchParams(defaultInit) {\n  warning(\n    typeof URLSearchParams !== \"undefined\",\n    `You cannot use the \\`useSearchParams\\` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.`\n  );\n  let defaultSearchParamsRef = React10.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React10.useRef(false);\n  let location = useLocation();\n  let searchParams = React10.useMemo(\n    () => (\n      // Only merge in the defaults if we haven't yet called setSearchParams.\n      // Once we call that we want those to take precedence, otherwise you can't\n      // remove a param with setSearchParams({}) if it has an initial value\n      getSearchParamsForLocation(\n        location.search,\n        hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current\n      )\n    ),\n    [location.search]\n  );\n  let navigate = useNavigate();\n  let setSearchParams = React10.useCallback(\n    (nextInit, navigateOptions) => {\n      const newSearchParams = createSearchParams(\n        typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit\n      );\n      hasSetSearchParamsRef.current = true;\n      navigate(\"?\" + newSearchParams, navigateOptions);\n    },\n    [navigate, searchParams]\n  );\n  return [searchParams, setSearchParams];\n}\nvar fetcherId = 0;\nvar getUniqueFetcherId = () => `__${String(++fetcherId)}__`;\nfunction useSubmit() {\n  let { router } = useDataRouterContext3(\"useSubmit\" /* UseSubmit */);\n  let { basename } = React10.useContext(NavigationContext);\n  let currentRouteId = useRouteId();\n  return React10.useCallback(\n    async (target, options = {}) => {\n      let { action, method, encType, formData, body } = getFormSubmissionInfo(\n        target,\n        basename\n      );\n      if (options.navigate === false) {\n        let key = options.fetcherKey || getUniqueFetcherId();\n        await router.fetch(key, currentRouteId, options.action || action, {\n          preventScrollReset: options.preventScrollReset,\n          formData,\n          body,\n          formMethod: options.method || method,\n          formEncType: options.encType || encType,\n          flushSync: options.flushSync\n        });\n      } else {\n        await router.navigate(options.action || action, {\n          preventScrollReset: options.preventScrollReset,\n          formData,\n          body,\n          formMethod: options.method || method,\n          formEncType: options.encType || encType,\n          replace: options.replace,\n          state: options.state,\n          fromRouteId: currentRouteId,\n          flushSync: options.flushSync,\n          viewTransition: options.viewTransition\n        });\n      }\n    },\n    [router, basename, currentRouteId]\n  );\n}\nfunction useFormAction(action, { relative } = {}) {\n  let { basename } = React10.useContext(NavigationContext);\n  let routeContext = React10.useContext(RouteContext);\n  invariant(routeContext, \"useFormAction must be used inside a RouteContext\");\n  let [match] = routeContext.matches.slice(-1);\n  let path = { ...useResolvedPath(action ? action : \".\", { relative }) };\n  let location = useLocation();\n  if (action == null) {\n    path.search = location.search;\n    let params = new URLSearchParams(path.search);\n    let indexValues = params.getAll(\"index\");\n    let hasNakedIndexParam = indexValues.some((v) => v === \"\");\n    if (hasNakedIndexParam) {\n      params.delete(\"index\");\n      indexValues.filter((v) => v).forEach((v) => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? `?${qs}` : \"\";\n    }\n  }\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n  }\n  if (basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\nfunction useFetcher({\n  key\n} = {}) {\n  let { router } = useDataRouterContext3(\"useFetcher\" /* UseFetcher */);\n  let state = useDataRouterState2(\"useFetcher\" /* UseFetcher */);\n  let fetcherData = React10.useContext(FetchersContext);\n  let route = React10.useContext(RouteContext);\n  let routeId = route.matches[route.matches.length - 1]?.route.id;\n  invariant(fetcherData, `useFetcher must be used inside a FetchersContext`);\n  invariant(route, `useFetcher must be used inside a RouteContext`);\n  invariant(\n    routeId != null,\n    `useFetcher can only be used on routes that contain a unique \"id\"`\n  );\n  let defaultKey = React10.useId();\n  let [fetcherKey, setFetcherKey] = React10.useState(key || defaultKey);\n  if (key && key !== fetcherKey) {\n    setFetcherKey(key);\n  }\n  React10.useEffect(() => {\n    router.getFetcher(fetcherKey);\n    return () => router.deleteFetcher(fetcherKey);\n  }, [router, fetcherKey]);\n  let load = React10.useCallback(\n    async (href2, opts) => {\n      invariant(routeId, \"No routeId available for fetcher.load()\");\n      await router.fetch(fetcherKey, routeId, href2, opts);\n    },\n    [fetcherKey, routeId, router]\n  );\n  let submitImpl = useSubmit();\n  let submit = React10.useCallback(\n    async (target, opts) => {\n      await submitImpl(target, {\n        ...opts,\n        navigate: false,\n        fetcherKey\n      });\n    },\n    [fetcherKey, submitImpl]\n  );\n  let FetcherForm = React10.useMemo(() => {\n    let FetcherForm2 = React10.forwardRef(\n      (props, ref) => {\n        return /* @__PURE__ */ React10.createElement(Form, { ...props, navigate: false, fetcherKey, ref });\n      }\n    );\n    FetcherForm2.displayName = \"fetcher.Form\";\n    return FetcherForm2;\n  }, [fetcherKey]);\n  let fetcher = state.fetchers.get(fetcherKey) || IDLE_FETCHER;\n  let data2 = fetcherData.get(fetcherKey);\n  let fetcherWithComponents = React10.useMemo(\n    () => ({\n      Form: FetcherForm,\n      submit,\n      load,\n      ...fetcher,\n      data: data2\n    }),\n    [FetcherForm, submit, load, fetcher, data2]\n  );\n  return fetcherWithComponents;\n}\nfunction useFetchers() {\n  let state = useDataRouterState2(\"useFetchers\" /* UseFetchers */);\n  return Array.from(state.fetchers.entries()).map(([key, fetcher]) => ({\n    ...fetcher,\n    key\n  }));\n}\nvar SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nvar savedScrollPositions = {};\nfunction getScrollRestorationKey(location, matches, basename, getKey) {\n  let key = null;\n  if (getKey) {\n    if (basename !== \"/\") {\n      key = getKey(\n        {\n          ...location,\n          pathname: stripBasename(location.pathname, basename) || location.pathname\n        },\n        matches\n      );\n    } else {\n      key = getKey(location, matches);\n    }\n  }\n  if (key == null) {\n    key = location.key;\n  }\n  return key;\n}\nfunction useScrollRestoration({\n  getKey,\n  storageKey\n} = {}) {\n  let { router } = useDataRouterContext3(\"useScrollRestoration\" /* UseScrollRestoration */);\n  let { restoreScrollPosition, preventScrollReset } = useDataRouterState2(\n    \"useScrollRestoration\" /* UseScrollRestoration */\n  );\n  let { basename } = React10.useContext(NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n  React10.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n  usePageHide(\n    React10.useCallback(() => {\n      if (navigation.state === \"idle\") {\n        let key = getScrollRestorationKey(location, matches, basename, getKey);\n        savedScrollPositions[key] = window.scrollY;\n      }\n      try {\n        sessionStorage.setItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY,\n          JSON.stringify(savedScrollPositions)\n        );\n      } catch (error) {\n        warning(\n          false,\n          `Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${error}).`\n        );\n      }\n      window.history.scrollRestoration = \"auto\";\n    }, [navigation.state, getKey, basename, location, matches, storageKey])\n  );\n  if (typeof document !== \"undefined\") {\n    React10.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        );\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n      }\n    }, [storageKey]);\n    React10.useLayoutEffect(() => {\n      let disableScrollRestoration = router?.enableScrollRestoration(\n        savedScrollPositions,\n        () => window.scrollY,\n        getKey ? (location2, matches2) => getScrollRestorationKey(location2, matches2, basename, getKey) : void 0\n      );\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, basename, getKey]);\n    React10.useLayoutEffect(() => {\n      if (restoreScrollPosition === false) {\n        return;\n      }\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n      if (location.hash) {\n        let el = document.getElementById(\n          decodeURIComponent(location.hash.slice(1))\n        );\n        if (el) {\n          el.scrollIntoView();\n          return;\n        }\n      }\n      if (preventScrollReset === true) {\n        return;\n      }\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\nfunction useBeforeUnload(callback, options) {\n  let { capture } = options || {};\n  React10.useEffect(() => {\n    let opts = capture != null ? { capture } : void 0;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\nfunction usePageHide(callback, options) {\n  let { capture } = options || {};\n  React10.useEffect(() => {\n    let opts = capture != null ? { capture } : void 0;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\nfunction usePrompt({\n  when,\n  message\n}) {\n  let blocker = useBlocker(when);\n  React10.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n  React10.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n}\nfunction useViewTransitionState(to, opts = {}) {\n  let vtContext = React10.useContext(ViewTransitionContext);\n  invariant(\n    vtContext != null,\n    \"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?\"\n  );\n  let { basename } = useDataRouterContext3(\n    \"useViewTransitionState\" /* useViewTransitionState */\n  );\n  let path = useResolvedPath(to, { relative: opts.relative });\n  if (!vtContext.isTransitioning) {\n    return false;\n  }\n  let currentPath = stripBasename(vtContext.currentLocation.pathname, basename) || vtContext.currentLocation.pathname;\n  let nextPath = stripBasename(vtContext.nextLocation.pathname, basename) || vtContext.nextLocation.pathname;\n  return matchPath(path.pathname, nextPath) != null || matchPath(path.pathname, currentPath) != null;\n}\n\n// lib/dom/server.tsx\nimport * as React11 from \"react\";\nfunction StaticRouter({\n  basename,\n  children,\n  location: locationProp = \"/\"\n}) {\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let action = \"POP\" /* Pop */;\n  let location = {\n    pathname: locationProp.pathname || \"/\",\n    search: locationProp.search || \"\",\n    hash: locationProp.hash || \"\",\n    state: locationProp.state != null ? locationProp.state : null,\n    key: locationProp.key || \"default\"\n  };\n  let staticNavigator = getStatelessNavigator();\n  return /* @__PURE__ */ React11.createElement(\n    Router,\n    {\n      basename,\n      children,\n      location,\n      navigationType: action,\n      navigator: staticNavigator,\n      static: true\n    }\n  );\n}\nfunction StaticRouterProvider({\n  context,\n  router,\n  hydrate = true,\n  nonce\n}) {\n  invariant(\n    router && context,\n    \"You must provide `router` and `context` to <StaticRouterProvider>\"\n  );\n  let dataRouterContext = {\n    router,\n    navigator: getStatelessNavigator(),\n    static: true,\n    staticContext: context,\n    basename: context.basename || \"/\"\n  };\n  let fetchersContext = /* @__PURE__ */ new Map();\n  let hydrateScript = \"\";\n  if (hydrate !== false) {\n    let data2 = {\n      loaderData: context.loaderData,\n      actionData: context.actionData,\n      errors: serializeErrors(context.errors)\n    };\n    let json = htmlEscape(JSON.stringify(JSON.stringify(data2)));\n    hydrateScript = `window.__staticRouterHydrationData = JSON.parse(${json});`;\n  }\n  let { state } = dataRouterContext.router;\n  return /* @__PURE__ */ React11.createElement(React11.Fragment, null, /* @__PURE__ */ React11.createElement(DataRouterContext.Provider, { value: dataRouterContext }, /* @__PURE__ */ React11.createElement(DataRouterStateContext.Provider, { value: state }, /* @__PURE__ */ React11.createElement(FetchersContext.Provider, { value: fetchersContext }, /* @__PURE__ */ React11.createElement(ViewTransitionContext.Provider, { value: { isTransitioning: false } }, /* @__PURE__ */ React11.createElement(\n    Router,\n    {\n      basename: dataRouterContext.basename,\n      location: state.location,\n      navigationType: state.historyAction,\n      navigator: dataRouterContext.navigator,\n      static: dataRouterContext.static\n    },\n    /* @__PURE__ */ React11.createElement(\n      DataRoutes2,\n      {\n        routes: router.routes,\n        future: router.future,\n        state\n      }\n    )\n  ))))), hydrateScript ? /* @__PURE__ */ React11.createElement(\n    \"script\",\n    {\n      suppressHydrationWarning: true,\n      nonce,\n      dangerouslySetInnerHTML: { __html: hydrateScript }\n    }\n  ) : null);\n}\nfunction DataRoutes2({\n  routes,\n  future,\n  state\n}) {\n  return useRoutesImpl(routes, void 0, state, future);\n}\nfunction serializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (isRouteErrorResponse(val)) {\n      serialized[key] = { ...val, __type: \"RouteErrorResponse\" };\n    } else if (val instanceof Error) {\n      serialized[key] = {\n        message: val.message,\n        __type: \"Error\",\n        // If this is a subclass (i.e., ReferenceError), send up the type so we\n        // can re-create the same type during hydration.\n        ...val.name !== \"Error\" ? {\n          __subType: val.name\n        } : {}\n      };\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\nfunction getStatelessNavigator() {\n  return {\n    createHref,\n    encodeLocation,\n    push(to) {\n      throw new Error(\n        `You cannot use navigator.push() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${JSON.stringify(to)})\\` somewhere in your app.`\n      );\n    },\n    replace(to) {\n      throw new Error(\n        `You cannot use navigator.replace() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${JSON.stringify(to)}, { replace: true })\\` somewhere in your app.`\n      );\n    },\n    go(delta) {\n      throw new Error(\n        `You cannot use navigator.go() on the server because it is a stateless environment. This error was probably triggered when you did a \\`navigate(${delta})\\` somewhere in your app.`\n      );\n    },\n    back() {\n      throw new Error(\n        `You cannot use navigator.back() on the server because it is a stateless environment.`\n      );\n    },\n    forward() {\n      throw new Error(\n        `You cannot use navigator.forward() on the server because it is a stateless environment.`\n      );\n    }\n  };\n}\nfunction createStaticHandler2(routes, opts) {\n  return createStaticHandler(routes, {\n    ...opts,\n    mapRouteProperties\n  });\n}\nfunction createStaticRouter(routes, context, opts = {}) {\n  let manifest = {};\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    mapRouteProperties,\n    void 0,\n    manifest\n  );\n  let matches = context.matches.map((match) => {\n    let route = manifest[match.route.id] || match.route;\n    return {\n      ...match,\n      route\n    };\n  });\n  let msg = (method) => `You cannot use router.${method}() on the server because it is a stateless environment`;\n  return {\n    get basename() {\n      return context.basename;\n    },\n    get future() {\n      return {\n        unstable_middleware: false,\n        ...opts?.future\n      };\n    },\n    get state() {\n      return {\n        historyAction: \"POP\" /* Pop */,\n        location: context.location,\n        matches,\n        loaderData: context.loaderData,\n        actionData: context.actionData,\n        errors: context.errors,\n        initialized: true,\n        navigation: IDLE_NAVIGATION,\n        restoreScrollPosition: null,\n        preventScrollReset: false,\n        revalidation: \"idle\",\n        fetchers: /* @__PURE__ */ new Map(),\n        blockers: /* @__PURE__ */ new Map()\n      };\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    get window() {\n      return void 0;\n    },\n    initialize() {\n      throw msg(\"initialize\");\n    },\n    subscribe() {\n      throw msg(\"subscribe\");\n    },\n    enableScrollRestoration() {\n      throw msg(\"enableScrollRestoration\");\n    },\n    navigate() {\n      throw msg(\"navigate\");\n    },\n    fetch() {\n      throw msg(\"fetch\");\n    },\n    revalidate() {\n      throw msg(\"revalidate\");\n    },\n    createHref,\n    encodeLocation,\n    getFetcher() {\n      return IDLE_FETCHER;\n    },\n    deleteFetcher() {\n      throw msg(\"deleteFetcher\");\n    },\n    dispose() {\n      throw msg(\"dispose\");\n    },\n    getBlocker() {\n      return IDLE_BLOCKER;\n    },\n    deleteBlocker() {\n      throw msg(\"deleteBlocker\");\n    },\n    patchRoutes() {\n      throw msg(\"patchRoutes\");\n    },\n    _internalFetchControllers: /* @__PURE__ */ new Map(),\n    _internalSetRoutes() {\n      throw msg(\"_internalSetRoutes\");\n    }\n  };\n}\nfunction createHref(to) {\n  return typeof to === \"string\" ? to : createPath(to);\n}\nfunction encodeLocation(to) {\n  let href2 = typeof to === \"string\" ? to : createPath(to);\n  href2 = href2.replace(/ $/, \"%20\");\n  let encoded = ABSOLUTE_URL_REGEX3.test(href2) ? new URL(href2) : new URL(href2, \"http://localhost\");\n  return {\n    pathname: encoded.pathname,\n    search: encoded.search,\n    hash: encoded.hash\n  };\n}\nvar ABSOLUTE_URL_REGEX3 = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nvar ESCAPE_LOOKUP2 = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nvar ESCAPE_REGEX2 = /[&><\\u2028\\u2029]/g;\nfunction htmlEscape(str) {\n  return str.replace(ESCAPE_REGEX2, (match) => ESCAPE_LOOKUP2[match]);\n}\n\n// lib/dom/ssr/server.tsx\nimport * as React12 from \"react\";\nfunction ServerRouter({\n  context,\n  url,\n  nonce\n}) {\n  if (typeof url === \"string\") {\n    url = new URL(url);\n  }\n  let { manifest, routeModules, criticalCss, serverHandoffString } = context;\n  let routes = createServerRoutes(\n    manifest.routes,\n    routeModules,\n    context.future,\n    context.isSpaMode\n  );\n  context.staticHandlerContext.loaderData = {\n    ...context.staticHandlerContext.loaderData\n  };\n  for (let match of context.staticHandlerContext.matches) {\n    let routeId = match.route.id;\n    let route = routeModules[routeId];\n    let manifestRoute = context.manifest.routes[routeId];\n    if (route && manifestRoute && shouldHydrateRouteLoader(manifestRoute, route, context.isSpaMode) && (route.HydrateFallback || !manifestRoute.hasLoader)) {\n      delete context.staticHandlerContext.loaderData[routeId];\n    }\n  }\n  let router = createStaticRouter(routes, context.staticHandlerContext);\n  return /* @__PURE__ */ React12.createElement(React12.Fragment, null, /* @__PURE__ */ React12.createElement(\n    FrameworkContext.Provider,\n    {\n      value: {\n        manifest,\n        routeModules,\n        criticalCss,\n        serverHandoffString,\n        future: context.future,\n        ssr: context.ssr,\n        isSpaMode: context.isSpaMode,\n        serializeError: context.serializeError,\n        renderMeta: context.renderMeta\n      }\n    },\n    /* @__PURE__ */ React12.createElement(RemixErrorBoundary, { location: router.state.location }, /* @__PURE__ */ React12.createElement(\n      StaticRouterProvider,\n      {\n        router,\n        context: context.staticHandlerContext,\n        hydrate: false\n      }\n    ))\n  ), context.serverHandoffStream ? /* @__PURE__ */ React12.createElement(React12.Suspense, null, /* @__PURE__ */ React12.createElement(\n    StreamTransfer,\n    {\n      context,\n      identifier: 0,\n      reader: context.serverHandoffStream.getReader(),\n      textDecoder: new TextDecoder(),\n      nonce\n    }\n  )) : null);\n}\n\n// lib/dom/ssr/routes-test-stub.tsx\nimport * as React13 from \"react\";\nfunction createRoutesStub(routes, unstable_getContext) {\n  return function RoutesTestStub({\n    initialEntries,\n    initialIndex,\n    hydrationData,\n    future\n  }) {\n    let routerRef = React13.useRef();\n    let remixContextRef = React13.useRef();\n    if (routerRef.current == null) {\n      remixContextRef.current = {\n        future: {\n          unstable_middleware: future?.unstable_middleware === true\n        },\n        manifest: {\n          routes: {},\n          entry: { imports: [], module: \"\" },\n          url: \"\",\n          version: \"\"\n        },\n        routeModules: {},\n        ssr: false,\n        isSpaMode: false\n      };\n      let patched = processRoutes(\n        // @ts-expect-error `StubRouteObject` is stricter about `loader`/`action`\n        // types compared to `AgnosticRouteObject`\n        convertRoutesToDataRoutes(routes, (r) => r),\n        remixContextRef.current.manifest,\n        remixContextRef.current.routeModules\n      );\n      routerRef.current = createMemoryRouter(patched, {\n        unstable_getContext,\n        initialEntries,\n        initialIndex,\n        hydrationData\n      });\n    }\n    return /* @__PURE__ */ React13.createElement(FrameworkContext.Provider, { value: remixContextRef.current }, /* @__PURE__ */ React13.createElement(RouterProvider, { router: routerRef.current }));\n  };\n}\nfunction processRoutes(routes, manifest, routeModules, parentId) {\n  return routes.map((route) => {\n    if (!route.id) {\n      throw new Error(\n        \"Expected a route.id in @remix-run/testing processRoutes() function\"\n      );\n    }\n    let newRoute = {\n      id: route.id,\n      path: route.path,\n      index: route.index,\n      Component: route.Component,\n      HydrateFallback: route.HydrateFallback,\n      ErrorBoundary: route.ErrorBoundary,\n      action: route.action,\n      loader: route.loader,\n      handle: route.handle,\n      shouldRevalidate: route.shouldRevalidate\n    };\n    let entryRoute = {\n      id: route.id,\n      path: route.path,\n      index: route.index,\n      parentId,\n      hasAction: route.action != null,\n      hasLoader: route.loader != null,\n      // When testing routes, you should just be stubbing loader/action, not\n      // trying to re-implement the full loader/clientLoader/SSR/hydration flow.\n      // That is better tested via E2E tests.\n      hasClientAction: false,\n      hasClientLoader: false,\n      hasErrorBoundary: route.ErrorBoundary != null,\n      // any need for these?\n      module: \"build/stub-path-to-module.js\",\n      clientActionModule: void 0,\n      clientLoaderModule: void 0,\n      hydrateFallbackModule: void 0\n    };\n    manifest.routes[newRoute.id] = entryRoute;\n    routeModules[route.id] = {\n      default: route.Component || Outlet,\n      ErrorBoundary: route.ErrorBoundary || void 0,\n      handle: route.handle,\n      links: route.links,\n      meta: route.meta,\n      shouldRevalidate: route.shouldRevalidate\n    };\n    if (route.children) {\n      newRoute.children = processRoutes(\n        route.children,\n        manifest,\n        routeModules,\n        newRoute.id\n      );\n    }\n    return newRoute;\n  });\n}\n\n// lib/server-runtime/cookies.ts\nimport { parse, serialize } from \"cookie\";\n\n// lib/server-runtime/crypto.ts\nvar encoder = new TextEncoder();\nvar sign = async (value, secret) => {\n  let data2 = encoder.encode(value);\n  let key = await createKey2(secret, [\"sign\"]);\n  let signature = await crypto.subtle.sign(\"HMAC\", key, data2);\n  let hash = btoa(String.fromCharCode(...new Uint8Array(signature))).replace(\n    /=+$/,\n    \"\"\n  );\n  return value + \".\" + hash;\n};\nvar unsign = async (cookie, secret) => {\n  let index = cookie.lastIndexOf(\".\");\n  let value = cookie.slice(0, index);\n  let hash = cookie.slice(index + 1);\n  let data2 = encoder.encode(value);\n  let key = await createKey2(secret, [\"verify\"]);\n  let signature = byteStringToUint8Array(atob(hash));\n  let valid = await crypto.subtle.verify(\"HMAC\", key, signature, data2);\n  return valid ? value : false;\n};\nvar createKey2 = async (secret, usages) => crypto.subtle.importKey(\n  \"raw\",\n  encoder.encode(secret),\n  { name: \"HMAC\", hash: \"SHA-256\" },\n  false,\n  usages\n);\nfunction byteStringToUint8Array(byteString) {\n  let array = new Uint8Array(byteString.length);\n  for (let i = 0; i < byteString.length; i++) {\n    array[i] = byteString.charCodeAt(i);\n  }\n  return array;\n}\n\n// lib/server-runtime/cookies.ts\nvar createCookie = (name, cookieOptions = {}) => {\n  let { secrets = [], ...options } = {\n    path: \"/\",\n    sameSite: \"lax\",\n    ...cookieOptions\n  };\n  warnOnceAboutExpiresCookie(name, options.expires);\n  return {\n    get name() {\n      return name;\n    },\n    get isSigned() {\n      return secrets.length > 0;\n    },\n    get expires() {\n      return typeof options.maxAge !== \"undefined\" ? new Date(Date.now() + options.maxAge * 1e3) : options.expires;\n    },\n    async parse(cookieHeader, parseOptions) {\n      if (!cookieHeader) return null;\n      let cookies = parse(cookieHeader, { ...options, ...parseOptions });\n      if (name in cookies) {\n        let value = cookies[name];\n        if (typeof value === \"string\" && value !== \"\") {\n          let decoded = await decodeCookieValue(value, secrets);\n          return decoded;\n        } else {\n          return \"\";\n        }\n      } else {\n        return null;\n      }\n    },\n    async serialize(value, serializeOptions) {\n      return serialize(\n        name,\n        value === \"\" ? \"\" : await encodeCookieValue(value, secrets),\n        {\n          ...options,\n          ...serializeOptions\n        }\n      );\n    }\n  };\n};\nvar isCookie = (object) => {\n  return object != null && typeof object.name === \"string\" && typeof object.isSigned === \"boolean\" && typeof object.parse === \"function\" && typeof object.serialize === \"function\";\n};\nasync function encodeCookieValue(value, secrets) {\n  let encoded = encodeData(value);\n  if (secrets.length > 0) {\n    encoded = await sign(encoded, secrets[0]);\n  }\n  return encoded;\n}\nasync function decodeCookieValue(value, secrets) {\n  if (secrets.length > 0) {\n    for (let secret of secrets) {\n      let unsignedValue = await unsign(value, secret);\n      if (unsignedValue !== false) {\n        return decodeData(unsignedValue);\n      }\n    }\n    return null;\n  }\n  return decodeData(value);\n}\nfunction encodeData(value) {\n  return btoa(myUnescape(encodeURIComponent(JSON.stringify(value))));\n}\nfunction decodeData(value) {\n  try {\n    return JSON.parse(decodeURIComponent(myEscape(atob(value))));\n  } catch (error) {\n    return {};\n  }\n}\nfunction myEscape(value) {\n  let str = value.toString();\n  let result = \"\";\n  let index = 0;\n  let chr, code;\n  while (index < str.length) {\n    chr = str.charAt(index++);\n    if (/[\\w*+\\-./@]/.exec(chr)) {\n      result += chr;\n    } else {\n      code = chr.charCodeAt(0);\n      if (code < 256) {\n        result += \"%\" + hex(code, 2);\n      } else {\n        result += \"%u\" + hex(code, 4).toUpperCase();\n      }\n    }\n  }\n  return result;\n}\nfunction hex(code, length) {\n  let result = code.toString(16);\n  while (result.length < length) result = \"0\" + result;\n  return result;\n}\nfunction myUnescape(value) {\n  let str = value.toString();\n  let result = \"\";\n  let index = 0;\n  let chr, part;\n  while (index < str.length) {\n    chr = str.charAt(index++);\n    if (chr === \"%\") {\n      if (str.charAt(index) === \"u\") {\n        part = str.slice(index + 1, index + 5);\n        if (/^[\\da-f]{4}$/i.exec(part)) {\n          result += String.fromCharCode(parseInt(part, 16));\n          index += 5;\n          continue;\n        }\n      } else {\n        part = str.slice(index, index + 2);\n        if (/^[\\da-f]{2}$/i.exec(part)) {\n          result += String.fromCharCode(parseInt(part, 16));\n          index += 2;\n          continue;\n        }\n      }\n    }\n    result += chr;\n  }\n  return result;\n}\nfunction warnOnceAboutExpiresCookie(name, expires) {\n  warnOnce(\n    !expires,\n    `The \"${name}\" cookie has an \"expires\" property set. This will cause the expires value to not be updated when the session is committed. Instead, you should set the expires value when serializing the cookie. You can use \\`commitSession(session, { expires })\\` if using a session storage object, or \\`cookie.serialize(\"value\", { expires })\\` if you're using the cookie directly.`\n  );\n}\n\n// lib/server-runtime/entry.ts\nfunction createEntryRouteModules(manifest) {\n  return Object.keys(manifest).reduce((memo2, routeId) => {\n    let route = manifest[routeId];\n    if (route) {\n      memo2[routeId] = route.module;\n    }\n    return memo2;\n  }, {});\n}\n\n// lib/server-runtime/mode.ts\nvar ServerMode = /* @__PURE__ */ ((ServerMode2) => {\n  ServerMode2[\"Development\"] = \"development\";\n  ServerMode2[\"Production\"] = \"production\";\n  ServerMode2[\"Test\"] = \"test\";\n  return ServerMode2;\n})(ServerMode || {});\nfunction isServerMode(value) {\n  return value === \"development\" /* Development */ || value === \"production\" /* Production */ || value === \"test\" /* Test */;\n}\n\n// lib/server-runtime/errors.ts\nfunction sanitizeError(error, serverMode) {\n  if (error instanceof Error && serverMode !== \"development\" /* Development */) {\n    let sanitized = new Error(\"Unexpected Server Error\");\n    sanitized.stack = void 0;\n    return sanitized;\n  }\n  return error;\n}\nfunction sanitizeErrors(errors, serverMode) {\n  return Object.entries(errors).reduce((acc, [routeId, error]) => {\n    return Object.assign(acc, { [routeId]: sanitizeError(error, serverMode) });\n  }, {});\n}\nfunction serializeError(error, serverMode) {\n  let sanitized = sanitizeError(error, serverMode);\n  return {\n    message: sanitized.message,\n    stack: sanitized.stack\n  };\n}\nfunction serializeErrors2(errors, serverMode) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (isRouteErrorResponse(val)) {\n      serialized[key] = { ...val, __type: \"RouteErrorResponse\" };\n    } else if (val instanceof Error) {\n      let sanitized = sanitizeError(val, serverMode);\n      serialized[key] = {\n        message: sanitized.message,\n        stack: sanitized.stack,\n        __type: \"Error\",\n        // If this is a subclass (i.e., ReferenceError), send up the type so we\n        // can re-create the same type during hydration.  This will only apply\n        // in dev mode since all production errors are sanitized to normal\n        // Error instances\n        ...sanitized.name !== \"Error\" ? {\n          __subType: sanitized.name\n        } : {}\n      };\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\n\n// lib/server-runtime/routeMatching.ts\nfunction matchServerRoutes(routes, pathname, basename) {\n  let matches = matchRoutes(\n    routes,\n    pathname,\n    basename\n  );\n  if (!matches) return null;\n  return matches.map((match) => ({\n    params: match.params,\n    pathname: match.pathname,\n    route: match.route\n  }));\n}\n\n// lib/server-runtime/data.ts\nasync function callRouteHandler(handler, args) {\n  let result = await handler({\n    request: stripRoutesParam(stripIndexParam2(args.request)),\n    params: args.params,\n    context: args.context\n  });\n  if (isDataWithResponseInit(result) && result.init && result.init.status && isRedirectStatusCode(result.init.status)) {\n    throw new Response(null, result.init);\n  }\n  return result;\n}\nfunction stripIndexParam2(request) {\n  let url = new URL(request.url);\n  let indexValues = url.searchParams.getAll(\"index\");\n  url.searchParams.delete(\"index\");\n  let indexValuesToKeep = [];\n  for (let indexValue of indexValues) {\n    if (indexValue) {\n      indexValuesToKeep.push(indexValue);\n    }\n  }\n  for (let toKeep of indexValuesToKeep) {\n    url.searchParams.append(\"index\", toKeep);\n  }\n  let init = {\n    method: request.method,\n    body: request.body,\n    headers: request.headers,\n    signal: request.signal\n  };\n  if (init.body) {\n    init.duplex = \"half\";\n  }\n  return new Request(url.href, init);\n}\nfunction stripRoutesParam(request) {\n  let url = new URL(request.url);\n  url.searchParams.delete(\"_routes\");\n  let init = {\n    method: request.method,\n    body: request.body,\n    headers: request.headers,\n    signal: request.signal\n  };\n  if (init.body) {\n    init.duplex = \"half\";\n  }\n  return new Request(url.href, init);\n}\n\n// lib/server-runtime/invariant.ts\nfunction invariant3(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    console.error(\n      \"The following error is a bug in React Router; please open an issue! https://github.com/remix-run/react-router/issues/new/choose\"\n    );\n    throw new Error(message);\n  }\n}\n\n// lib/server-runtime/routes.ts\nfunction groupRoutesByParentId2(manifest) {\n  let routes = {};\n  Object.values(manifest).forEach((route) => {\n    if (route) {\n      let parentId = route.parentId || \"\";\n      if (!routes[parentId]) {\n        routes[parentId] = [];\n      }\n      routes[parentId].push(route);\n    }\n  });\n  return routes;\n}\nfunction createRoutes(manifest, parentId = \"\", routesByParentId = groupRoutesByParentId2(manifest)) {\n  return (routesByParentId[parentId] || []).map((route) => ({\n    ...route,\n    children: createRoutes(manifest, route.id, routesByParentId)\n  }));\n}\nfunction createStaticHandlerDataRoutes(manifest, future, parentId = \"\", routesByParentId = groupRoutesByParentId2(manifest)) {\n  return (routesByParentId[parentId] || []).map((route) => {\n    let commonRoute = {\n      // Always include root due to default boundaries\n      hasErrorBoundary: route.id === \"root\" || route.module.ErrorBoundary != null,\n      id: route.id,\n      path: route.path,\n      unstable_middleware: route.module.unstable_middleware,\n      // Need to use RR's version in the param typed here to permit the optional\n      // context even though we know it'll always be provided in remix\n      loader: route.module.loader ? async (args) => {\n        if (args.request.headers.has(\"X-React-Router-Prerender-Data\")) {\n          const preRenderedData = args.request.headers.get(\n            \"X-React-Router-Prerender-Data\"\n          );\n          let encoded = preRenderedData ? decodeURI(preRenderedData) : preRenderedData;\n          invariant3(encoded, \"Missing prerendered data for route\");\n          let uint8array = new TextEncoder().encode(encoded);\n          let stream = new ReadableStream({\n            start(controller) {\n              controller.enqueue(uint8array);\n              controller.close();\n            }\n          });\n          let decoded = await decodeViaTurboStream(stream, global);\n          let data2 = decoded.value;\n          invariant3(\n            data2 && route.id in data2,\n            \"Unable to decode prerendered data\"\n          );\n          let result = data2[route.id];\n          invariant3(\"data\" in result, \"Unable to process prerendered data\");\n          return result.data;\n        }\n        let val = await callRouteHandler(route.module.loader, args);\n        return val;\n      } : void 0,\n      action: route.module.action ? (args) => callRouteHandler(route.module.action, args) : void 0,\n      handle: route.module.handle\n    };\n    return route.index ? {\n      index: true,\n      ...commonRoute\n    } : {\n      caseSensitive: route.caseSensitive,\n      children: createStaticHandlerDataRoutes(\n        manifest,\n        future,\n        route.id,\n        routesByParentId\n      ),\n      ...commonRoute\n    };\n  });\n}\n\n// lib/server-runtime/markup.ts\nvar ESCAPE_LOOKUP3 = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nvar ESCAPE_REGEX3 = /[&><\\u2028\\u2029]/g;\nfunction escapeHtml2(html) {\n  return html.replace(ESCAPE_REGEX3, (match) => ESCAPE_LOOKUP3[match]);\n}\n\n// lib/server-runtime/serverHandoff.ts\nfunction createServerHandoffString(serverHandoff) {\n  return escapeHtml2(JSON.stringify(serverHandoff));\n}\n\n// lib/server-runtime/dev.ts\nvar globalDevServerHooksKey = \"__reactRouterDevServerHooks\";\nfunction setDevServerHooks(devServerHooks) {\n  globalThis[globalDevServerHooksKey] = devServerHooks;\n}\nfunction getDevServerHooks() {\n  return globalThis[globalDevServerHooksKey];\n}\n\n// lib/server-runtime/single-fetch.ts\nimport { encode } from \"turbo-stream\";\n\n// lib/server-runtime/headers.ts\nimport { splitCookiesString } from \"set-cookie-parser\";\nfunction getDocumentHeaders(build, context) {\n  let boundaryIdx = context.errors ? context.matches.findIndex((m) => context.errors[m.route.id]) : -1;\n  let matches = boundaryIdx >= 0 ? context.matches.slice(0, boundaryIdx + 1) : context.matches;\n  let errorHeaders;\n  if (boundaryIdx >= 0) {\n    let { actionHeaders, actionData, loaderHeaders, loaderData } = context;\n    context.matches.slice(boundaryIdx).some((match) => {\n      let id = match.route.id;\n      if (actionHeaders[id] && (!actionData || !actionData.hasOwnProperty(id))) {\n        errorHeaders = actionHeaders[id];\n      } else if (loaderHeaders[id] && !loaderData.hasOwnProperty(id)) {\n        errorHeaders = loaderHeaders[id];\n      }\n      return errorHeaders != null;\n    });\n  }\n  return matches.reduce((parentHeaders, match, idx) => {\n    let { id } = match.route;\n    let route = build.routes[id];\n    invariant3(route, `Route with id \"${id}\" not found in build`);\n    let routeModule = route.module;\n    let loaderHeaders = context.loaderHeaders[id] || new Headers();\n    let actionHeaders = context.actionHeaders[id] || new Headers();\n    let includeErrorHeaders = errorHeaders != null && idx === matches.length - 1;\n    let includeErrorCookies = includeErrorHeaders && errorHeaders !== loaderHeaders && errorHeaders !== actionHeaders;\n    if (routeModule.headers == null) {\n      let headers2 = new Headers(parentHeaders);\n      if (includeErrorCookies) {\n        prependCookies(errorHeaders, headers2);\n      }\n      prependCookies(actionHeaders, headers2);\n      prependCookies(loaderHeaders, headers2);\n      return headers2;\n    }\n    let headers = new Headers(\n      routeModule.headers ? typeof routeModule.headers === \"function\" ? routeModule.headers({\n        loaderHeaders,\n        parentHeaders,\n        actionHeaders,\n        errorHeaders: includeErrorHeaders ? errorHeaders : void 0\n      }) : routeModule.headers : void 0\n    );\n    if (includeErrorCookies) {\n      prependCookies(errorHeaders, headers);\n    }\n    prependCookies(actionHeaders, headers);\n    prependCookies(loaderHeaders, headers);\n    prependCookies(parentHeaders, headers);\n    return headers;\n  }, new Headers());\n}\nfunction prependCookies(parentHeaders, childHeaders) {\n  let parentSetCookieString = parentHeaders.get(\"Set-Cookie\");\n  if (parentSetCookieString) {\n    let cookies = splitCookiesString(parentSetCookieString);\n    let childCookies = new Set(childHeaders.getSetCookie());\n    cookies.forEach((cookie) => {\n      if (!childCookies.has(cookie)) {\n        childHeaders.append(\"Set-Cookie\", cookie);\n      }\n    });\n  }\n}\n\n// lib/server-runtime/single-fetch.ts\nvar NO_BODY_STATUS_CODES = /* @__PURE__ */ new Set([100, 101, 204, 205, 304]);\nvar SINGLE_FETCH_REDIRECT_STATUS = 202;\nasync function singleFetchAction(build, serverMode, staticHandler, request, handlerUrl, loadContext, handleError) {\n  try {\n    let respond2 = function(context) {\n      let headers = getDocumentHeaders(build, context);\n      if (isRedirectStatusCode(context.statusCode) && headers.has(\"Location\")) {\n        return generateSingleFetchResponse(request, build, serverMode, {\n          result: getSingleFetchRedirect(\n            context.statusCode,\n            headers,\n            build.basename\n          ),\n          headers,\n          status: SINGLE_FETCH_REDIRECT_STATUS\n        });\n      }\n      if (context.errors) {\n        Object.values(context.errors).forEach((err) => {\n          if (!isRouteErrorResponse(err) || err.error) {\n            handleError(err);\n          }\n        });\n        context.errors = sanitizeErrors(context.errors, serverMode);\n      }\n      let singleFetchResult;\n      if (context.errors) {\n        singleFetchResult = { error: Object.values(context.errors)[0] };\n      } else {\n        singleFetchResult = {\n          data: Object.values(context.actionData || {})[0]\n        };\n      }\n      return generateSingleFetchResponse(request, build, serverMode, {\n        result: singleFetchResult,\n        headers,\n        status: context.statusCode\n      });\n    };\n    var respond = respond2;\n    let handlerRequest = new Request(handlerUrl, {\n      method: request.method,\n      body: request.body,\n      headers: request.headers,\n      signal: request.signal,\n      ...request.body ? { duplex: \"half\" } : void 0\n    });\n    let result = await staticHandler.query(handlerRequest, {\n      requestContext: loadContext,\n      skipLoaderErrorBubbling: true,\n      skipRevalidation: true,\n      unstable_respond: respond2\n    });\n    if (!isResponse(result)) {\n      result = respond2(result);\n    }\n    if (isRedirectResponse(result)) {\n      return generateSingleFetchResponse(request, build, serverMode, {\n        result: getSingleFetchRedirect(\n          result.status,\n          result.headers,\n          build.basename\n        ),\n        headers: result.headers,\n        status: SINGLE_FETCH_REDIRECT_STATUS\n      });\n    }\n    return result;\n  } catch (error) {\n    handleError(error);\n    return generateSingleFetchResponse(request, build, serverMode, {\n      result: { error },\n      headers: new Headers(),\n      status: 500\n    });\n  }\n}\nasync function singleFetchLoaders(build, serverMode, staticHandler, request, handlerUrl, loadContext, handleError) {\n  try {\n    let respond2 = function(context) {\n      let headers = getDocumentHeaders(build, context);\n      if (isRedirectStatusCode(context.statusCode) && headers.has(\"Location\")) {\n        return generateSingleFetchResponse(request, build, serverMode, {\n          result: {\n            [SingleFetchRedirectSymbol]: getSingleFetchRedirect(\n              context.statusCode,\n              headers,\n              build.basename\n            )\n          },\n          headers,\n          status: SINGLE_FETCH_REDIRECT_STATUS\n        });\n      }\n      if (context.errors) {\n        Object.values(context.errors).forEach((err) => {\n          if (!isRouteErrorResponse(err) || err.error) {\n            handleError(err);\n          }\n        });\n        context.errors = sanitizeErrors(context.errors, serverMode);\n      }\n      let results = {};\n      let loadedMatches = new Set(\n        context.matches.filter(\n          (m) => loadRouteIds ? loadRouteIds.has(m.route.id) : m.route.loader != null\n        ).map((m) => m.route.id)\n      );\n      if (context.errors) {\n        for (let [id, error] of Object.entries(context.errors)) {\n          results[id] = { error };\n        }\n      }\n      for (let [id, data2] of Object.entries(context.loaderData)) {\n        if (!(id in results) && loadedMatches.has(id)) {\n          results[id] = { data: data2 };\n        }\n      }\n      return generateSingleFetchResponse(request, build, serverMode, {\n        result: results,\n        headers,\n        status: context.statusCode\n      });\n    };\n    var respond = respond2;\n    let handlerRequest = new Request(handlerUrl, {\n      headers: request.headers,\n      signal: request.signal\n    });\n    let routesParam = new URL(request.url).searchParams.get(\"_routes\");\n    let loadRouteIds = routesParam ? new Set(routesParam.split(\",\")) : null;\n    let result = await staticHandler.query(handlerRequest, {\n      requestContext: loadContext,\n      filterMatchesToLoad: (m) => !loadRouteIds || loadRouteIds.has(m.route.id),\n      skipLoaderErrorBubbling: true,\n      unstable_respond: respond2\n    });\n    if (!isResponse(result)) {\n      result = respond2(result);\n    }\n    if (isRedirectResponse(result)) {\n      return generateSingleFetchResponse(request, build, serverMode, {\n        result: {\n          [SingleFetchRedirectSymbol]: getSingleFetchRedirect(\n            result.status,\n            result.headers,\n            build.basename\n          )\n        },\n        headers: result.headers,\n        status: SINGLE_FETCH_REDIRECT_STATUS\n      });\n    }\n    return result;\n  } catch (error) {\n    handleError(error);\n    return generateSingleFetchResponse(request, build, serverMode, {\n      result: { root: { error } },\n      headers: new Headers(),\n      status: 500\n    });\n  }\n}\nfunction generateSingleFetchResponse(request, build, serverMode, {\n  result,\n  headers,\n  status\n}) {\n  let resultHeaders = new Headers(headers);\n  resultHeaders.set(\"X-Remix-Response\", \"yes\");\n  if (NO_BODY_STATUS_CODES.has(status)) {\n    return new Response(null, { status, headers: resultHeaders });\n  }\n  resultHeaders.set(\"Content-Type\", \"text/x-script\");\n  return new Response(\n    encodeViaTurboStream(\n      result,\n      request.signal,\n      build.entry.module.streamTimeout,\n      serverMode\n    ),\n    {\n      status: status || 200,\n      headers: resultHeaders\n    }\n  );\n}\nfunction getSingleFetchRedirect(status, headers, basename) {\n  let redirect2 = headers.get(\"Location\");\n  if (basename) {\n    redirect2 = stripBasename(redirect2, basename) || redirect2;\n  }\n  return {\n    redirect: redirect2,\n    status,\n    revalidate: (\n      // Technically X-Remix-Revalidate isn't needed here - that was an implementation\n      // detail of ?_data requests as our way to tell the front end to revalidate when\n      // we didn't have a response body to include that information in.\n      // With single fetch, we tell the front end via this revalidate boolean field.\n      // However, we're respecting it for now because it may be something folks have\n      // used in their own responses\n      // TODO(v3): Consider removing or making this official public API\n      headers.has(\"X-Remix-Revalidate\") || headers.has(\"Set-Cookie\")\n    ),\n    reload: headers.has(\"X-Remix-Reload-Document\"),\n    replace: headers.has(\"X-Remix-Replace\")\n  };\n}\nfunction encodeViaTurboStream(data2, requestSignal, streamTimeout, serverMode) {\n  let controller = new AbortController();\n  let timeoutId = setTimeout(\n    () => controller.abort(new Error(\"Server Timeout\")),\n    typeof streamTimeout === \"number\" ? streamTimeout : 4950\n  );\n  requestSignal.addEventListener(\"abort\", () => clearTimeout(timeoutId));\n  return encode(data2, {\n    signal: controller.signal,\n    plugins: [\n      (value) => {\n        if (value instanceof Error) {\n          let { name, message, stack } = serverMode === \"production\" /* Production */ ? sanitizeError(value, serverMode) : value;\n          return [\"SanitizedError\", name, message, stack];\n        }\n        if (value instanceof ErrorResponseImpl) {\n          let { data: data3, status, statusText } = value;\n          return [\"ErrorResponse\", data3, status, statusText];\n        }\n        if (value && typeof value === \"object\" && SingleFetchRedirectSymbol in value) {\n          return [\"SingleFetchRedirect\", value[SingleFetchRedirectSymbol]];\n        }\n      }\n    ],\n    postPlugins: [\n      (value) => {\n        if (!value) return;\n        if (typeof value !== \"object\") return;\n        return [\n          \"SingleFetchClassInstance\",\n          Object.fromEntries(Object.entries(value))\n        ];\n      },\n      () => [\"SingleFetchFallback\"]\n    ]\n  });\n}\n\n// lib/server-runtime/server.ts\nfunction derive(build, mode) {\n  let routes = createRoutes(build.routes);\n  let dataRoutes = createStaticHandlerDataRoutes(build.routes, build.future);\n  let serverMode = isServerMode(mode) ? mode : \"production\" /* Production */;\n  let staticHandler = createStaticHandler(dataRoutes, {\n    basename: build.basename\n  });\n  let errorHandler = build.entry.module.handleError || ((error, { request }) => {\n    if (serverMode !== \"test\" /* Test */ && !request.signal.aborted) {\n      console.error(\n        // @ts-expect-error This is \"private\" from users but intended for internal use\n        isRouteErrorResponse(error) && error.error ? error.error : error\n      );\n    }\n  });\n  return {\n    routes,\n    dataRoutes,\n    serverMode,\n    staticHandler,\n    errorHandler\n  };\n}\nvar createRequestHandler = (build, mode) => {\n  let _build;\n  let routes;\n  let serverMode;\n  let staticHandler;\n  let errorHandler;\n  return async function requestHandler(request, initialContext) {\n    _build = typeof build === \"function\" ? await build() : build;\n    let loadContext = _build.future.unstable_middleware ? new unstable_RouterContextProvider(\n      initialContext\n    ) : initialContext || {};\n    if (typeof build === \"function\") {\n      let derived = derive(_build, mode);\n      routes = derived.routes;\n      serverMode = derived.serverMode;\n      staticHandler = derived.staticHandler;\n      errorHandler = derived.errorHandler;\n    } else if (!routes || !serverMode || !staticHandler || !errorHandler) {\n      let derived = derive(_build, mode);\n      routes = derived.routes;\n      serverMode = derived.serverMode;\n      staticHandler = derived.staticHandler;\n      errorHandler = derived.errorHandler;\n    }\n    let url = new URL(request.url);\n    let normalizedBasename = _build.basename || \"/\";\n    let normalizedPath = url.pathname;\n    if (stripBasename(normalizedPath, normalizedBasename) === \"/_root.data\") {\n      normalizedPath = normalizedBasename;\n    } else if (normalizedPath.endsWith(\".data\")) {\n      normalizedPath = normalizedPath.replace(/\\.data$/, \"\");\n    }\n    if (stripBasename(normalizedPath, normalizedBasename) !== \"/\" && normalizedPath.endsWith(\"/\")) {\n      normalizedPath = normalizedPath.slice(0, -1);\n    }\n    let params = {};\n    let handleError = (error) => {\n      if (mode === \"development\" /* Development */) {\n        getDevServerHooks()?.processRequestError?.(error);\n      }\n      errorHandler(error, {\n        context: loadContext,\n        params,\n        request\n      });\n    };\n    if (!_build.ssr) {\n      if (_build.prerender.length === 0) {\n        request.headers.set(\"X-React-Router-SPA-Mode\", \"yes\");\n      } else if (!_build.prerender.includes(normalizedPath) && !_build.prerender.includes(normalizedPath + \"/\")) {\n        if (url.pathname.endsWith(\".data\")) {\n          errorHandler(\n            new ErrorResponseImpl(\n              404,\n              \"Not Found\",\n              `Refusing to SSR the path \\`${normalizedPath}\\` because \\`ssr:false\\` is set and the path is not included in the \\`prerender\\` config, so in production the path will be a 404.`\n            ),\n            {\n              context: loadContext,\n              params,\n              request\n            }\n          );\n          return new Response(\"Not Found\", {\n            status: 404,\n            statusText: \"Not Found\"\n          });\n        } else {\n          request.headers.set(\"X-React-Router-SPA-Mode\", \"yes\");\n        }\n      }\n    }\n    let manifestUrl = `${normalizedBasename}/__manifest`.replace(/\\/+/g, \"/\");\n    if (url.pathname === manifestUrl) {\n      try {\n        let res = await handleManifestRequest(_build, routes, url);\n        return res;\n      } catch (e) {\n        handleError(e);\n        return new Response(\"Unknown Server Error\", { status: 500 });\n      }\n    }\n    let matches = matchServerRoutes(routes, url.pathname, _build.basename);\n    if (matches && matches.length > 0) {\n      Object.assign(params, matches[0].params);\n    }\n    let response;\n    if (url.pathname.endsWith(\".data\")) {\n      let handlerUrl = new URL(request.url);\n      handlerUrl.pathname = normalizedPath;\n      let singleFetchMatches = matchServerRoutes(\n        routes,\n        handlerUrl.pathname,\n        _build.basename\n      );\n      response = await handleSingleFetchRequest(\n        serverMode,\n        _build,\n        staticHandler,\n        request,\n        handlerUrl,\n        loadContext,\n        handleError\n      );\n      if (_build.entry.module.handleDataRequest) {\n        response = await _build.entry.module.handleDataRequest(response, {\n          context: loadContext,\n          params: singleFetchMatches ? singleFetchMatches[0].params : {},\n          request\n        });\n        if (isRedirectResponse(response)) {\n          let result = getSingleFetchRedirect(\n            response.status,\n            response.headers,\n            _build.basename\n          );\n          if (request.method === \"GET\") {\n            result = {\n              [SingleFetchRedirectSymbol]: result\n            };\n          }\n          let headers = new Headers(response.headers);\n          headers.set(\"Content-Type\", \"text/x-script\");\n          return new Response(\n            encodeViaTurboStream(\n              result,\n              request.signal,\n              _build.entry.module.streamTimeout,\n              serverMode\n            ),\n            {\n              status: SINGLE_FETCH_REDIRECT_STATUS,\n              headers\n            }\n          );\n        }\n      }\n    } else if (!request.headers.has(\"X-React-Router-SPA-Mode\") && matches && matches[matches.length - 1].route.module.default == null && matches[matches.length - 1].route.module.ErrorBoundary == null) {\n      response = await handleResourceRequest(\n        serverMode,\n        _build,\n        staticHandler,\n        matches.slice(-1)[0].route.id,\n        request,\n        loadContext,\n        handleError\n      );\n    } else {\n      let { pathname } = url;\n      let criticalCss = void 0;\n      if (_build.getCriticalCss) {\n        criticalCss = await _build.getCriticalCss({ pathname });\n      } else if (mode === \"development\" /* Development */ && getDevServerHooks()?.getCriticalCss) {\n        criticalCss = await getDevServerHooks()?.getCriticalCss?.(pathname);\n      }\n      response = await handleDocumentRequest(\n        serverMode,\n        _build,\n        staticHandler,\n        request,\n        loadContext,\n        handleError,\n        criticalCss\n      );\n    }\n    if (request.method === \"HEAD\") {\n      return new Response(null, {\n        headers: response.headers,\n        status: response.status,\n        statusText: response.statusText\n      });\n    }\n    return response;\n  };\n};\nasync function handleManifestRequest(build, routes, url) {\n  if (build.assets.version !== url.searchParams.get(\"version\")) {\n    return new Response(null, {\n      status: 204,\n      headers: {\n        \"X-Remix-Reload-Document\": \"true\"\n      }\n    });\n  }\n  let patches = {};\n  if (url.searchParams.has(\"p\")) {\n    for (let path of url.searchParams.getAll(\"p\")) {\n      let matches = matchServerRoutes(routes, path, build.basename);\n      if (matches) {\n        for (let match of matches) {\n          let routeId = match.route.id;\n          let route = build.assets.routes[routeId];\n          if (route) {\n            patches[routeId] = route;\n          }\n        }\n      }\n    }\n    return Response.json(patches, {\n      headers: {\n        \"Cache-Control\": \"public, max-age=31536000, immutable\"\n      }\n    });\n  }\n  return new Response(\"Invalid Request\", { status: 400 });\n}\nasync function handleSingleFetchRequest(serverMode, build, staticHandler, request, handlerUrl, loadContext, handleError) {\n  let response = request.method !== \"GET\" ? await singleFetchAction(\n    build,\n    serverMode,\n    staticHandler,\n    request,\n    handlerUrl,\n    loadContext,\n    handleError\n  ) : await singleFetchLoaders(\n    build,\n    serverMode,\n    staticHandler,\n    request,\n    handlerUrl,\n    loadContext,\n    handleError\n  );\n  return response;\n}\nasync function handleDocumentRequest(serverMode, build, staticHandler, request, loadContext, handleError, criticalCss) {\n  let isSpaMode = request.headers.has(\"X-React-Router-SPA-Mode\");\n  try {\n    let response = await staticHandler.query(request, {\n      requestContext: loadContext,\n      unstable_respond: build.future.unstable_middleware ? (ctx) => renderHtml(ctx, isSpaMode) : void 0\n    });\n    return isResponse(response) ? response : renderHtml(response, isSpaMode);\n  } catch (error) {\n    handleError(error);\n    return new Response(null, { status: 500 });\n  }\n  async function renderHtml(context, isSpaMode2) {\n    if (isResponse(context)) {\n      return context;\n    }\n    let headers = getDocumentHeaders(build, context);\n    if (NO_BODY_STATUS_CODES.has(context.statusCode)) {\n      return new Response(null, { status: context.statusCode, headers });\n    }\n    if (context.errors) {\n      Object.values(context.errors).forEach((err) => {\n        if (!isRouteErrorResponse(err) || err.error) {\n          handleError(err);\n        }\n      });\n      context.errors = sanitizeErrors(context.errors, serverMode);\n    }\n    let state = {\n      loaderData: context.loaderData,\n      actionData: context.actionData,\n      errors: serializeErrors2(context.errors, serverMode)\n    };\n    let entryContext = {\n      manifest: build.assets,\n      routeModules: createEntryRouteModules(build.routes),\n      staticHandlerContext: context,\n      criticalCss,\n      serverHandoffString: createServerHandoffString({\n        basename: build.basename,\n        criticalCss,\n        future: build.future,\n        ssr: build.ssr,\n        isSpaMode: isSpaMode2\n      }),\n      serverHandoffStream: encodeViaTurboStream(\n        state,\n        request.signal,\n        build.entry.module.streamTimeout,\n        serverMode\n      ),\n      renderMeta: {},\n      future: build.future,\n      ssr: build.ssr,\n      isSpaMode: isSpaMode2,\n      serializeError: (err) => serializeError(err, serverMode)\n    };\n    let handleDocumentRequestFunction = build.entry.module.default;\n    try {\n      return await handleDocumentRequestFunction(\n        request,\n        context.statusCode,\n        headers,\n        entryContext,\n        loadContext\n      );\n    } catch (error) {\n      handleError(error);\n      let errorForSecondRender = error;\n      if (isResponse(error)) {\n        try {\n          let data2 = await unwrapResponse(error);\n          errorForSecondRender = new ErrorResponseImpl(\n            error.status,\n            error.statusText,\n            data2\n          );\n        } catch (e) {\n        }\n      }\n      context = getStaticContextFromError(\n        staticHandler.dataRoutes,\n        context,\n        errorForSecondRender\n      );\n      if (context.errors) {\n        context.errors = sanitizeErrors(context.errors, serverMode);\n      }\n      let state2 = {\n        loaderData: context.loaderData,\n        actionData: context.actionData,\n        errors: serializeErrors2(context.errors, serverMode)\n      };\n      entryContext = {\n        ...entryContext,\n        staticHandlerContext: context,\n        serverHandoffString: createServerHandoffString({\n          basename: build.basename,\n          future: build.future,\n          ssr: build.ssr,\n          isSpaMode: isSpaMode2\n        }),\n        serverHandoffStream: encodeViaTurboStream(\n          state2,\n          request.signal,\n          build.entry.module.streamTimeout,\n          serverMode\n        ),\n        renderMeta: {}\n      };\n      try {\n        return await handleDocumentRequestFunction(\n          request,\n          context.statusCode,\n          headers,\n          entryContext,\n          loadContext\n        );\n      } catch (error2) {\n        handleError(error2);\n        return returnLastResortErrorResponse(error2, serverMode);\n      }\n    }\n  }\n}\nasync function handleResourceRequest(serverMode, build, staticHandler, routeId, request, loadContext, handleError) {\n  try {\n    let response = await staticHandler.queryRoute(request, {\n      routeId,\n      requestContext: loadContext,\n      unstable_respond: build.future.unstable_middleware ? (ctx) => ctx : void 0\n    });\n    if (isResponse(response)) {\n      return response;\n    }\n    if (typeof response === \"string\") {\n      return new Response(response);\n    }\n    return Response.json(response);\n  } catch (error) {\n    if (isResponse(error)) {\n      error.headers.set(\"X-Remix-Catch\", \"yes\");\n      return error;\n    }\n    if (isRouteErrorResponse(error)) {\n      if (error) {\n        handleError(error);\n      }\n      return errorResponseToJson(error, serverMode);\n    }\n    if (error instanceof Error && error.message === \"Expected a response from queryRoute\") {\n      let newError = new Error(\n        \"Expected a Response to be returned from resource route handler\"\n      );\n      handleError(newError);\n      return returnLastResortErrorResponse(newError, serverMode);\n    }\n    handleError(error);\n    return returnLastResortErrorResponse(error, serverMode);\n  }\n}\nfunction errorResponseToJson(errorResponse, serverMode) {\n  return Response.json(\n    serializeError(\n      // @ts-expect-error This is \"private\" from users but intended for internal use\n      errorResponse.error || new Error(\"Unexpected Server Error\"),\n      serverMode\n    ),\n    {\n      status: errorResponse.status,\n      statusText: errorResponse.statusText,\n      headers: {\n        \"X-Remix-Error\": \"yes\"\n      }\n    }\n  );\n}\nfunction returnLastResortErrorResponse(error, serverMode) {\n  let message = \"Unexpected Server Error\";\n  if (serverMode !== \"production\" /* Production */) {\n    message += `\n\n${String(error)}`;\n  }\n  return new Response(message, {\n    status: 500,\n    headers: {\n      \"Content-Type\": \"text/plain\"\n    }\n  });\n}\nfunction unwrapResponse(response) {\n  let contentType = response.headers.get(\"Content-Type\");\n  return contentType && /\\bapplication\\/json\\b/.test(contentType) ? response.body == null ? null : response.json() : response.text();\n}\n\n// lib/server-runtime/sessions.ts\nfunction flash(name) {\n  return `__flash_${name}__`;\n}\nvar createSession = (initialData = {}, id = \"\") => {\n  let map = new Map(Object.entries(initialData));\n  return {\n    get id() {\n      return id;\n    },\n    get data() {\n      return Object.fromEntries(map);\n    },\n    has(name) {\n      return map.has(name) || map.has(flash(name));\n    },\n    get(name) {\n      if (map.has(name)) return map.get(name);\n      let flashName = flash(name);\n      if (map.has(flashName)) {\n        let value = map.get(flashName);\n        map.delete(flashName);\n        return value;\n      }\n      return void 0;\n    },\n    set(name, value) {\n      map.set(name, value);\n    },\n    flash(name, value) {\n      map.set(flash(name), value);\n    },\n    unset(name) {\n      map.delete(name);\n    }\n  };\n};\nvar isSession = (object) => {\n  return object != null && typeof object.id === \"string\" && typeof object.data !== \"undefined\" && typeof object.has === \"function\" && typeof object.get === \"function\" && typeof object.set === \"function\" && typeof object.flash === \"function\" && typeof object.unset === \"function\";\n};\nfunction createSessionStorage({\n  cookie: cookieArg,\n  createData,\n  readData,\n  updateData,\n  deleteData\n}) {\n  let cookie = isCookie(cookieArg) ? cookieArg : createCookie(cookieArg?.name || \"__session\", cookieArg);\n  warnOnceAboutSigningSessionCookie(cookie);\n  return {\n    async getSession(cookieHeader, options) {\n      let id = cookieHeader && await cookie.parse(cookieHeader, options);\n      let data2 = id && await readData(id);\n      return createSession(data2 || {}, id || \"\");\n    },\n    async commitSession(session, options) {\n      let { id, data: data2 } = session;\n      let expires = options?.maxAge != null ? new Date(Date.now() + options.maxAge * 1e3) : options?.expires != null ? options.expires : cookie.expires;\n      if (id) {\n        await updateData(id, data2, expires);\n      } else {\n        id = await createData(data2, expires);\n      }\n      return cookie.serialize(id, options);\n    },\n    async destroySession(session, options) {\n      await deleteData(session.id);\n      return cookie.serialize(\"\", {\n        ...options,\n        maxAge: void 0,\n        expires: /* @__PURE__ */ new Date(0)\n      });\n    }\n  };\n}\nfunction warnOnceAboutSigningSessionCookie(cookie) {\n  warnOnce(\n    cookie.isSigned,\n    `The \"${cookie.name}\" cookie is not signed, but session cookies should be signed to prevent tampering on the client before they are sent back to the server. See https://remix.run/utils/cookies#signing-cookies for more information.`\n  );\n}\n\n// lib/server-runtime/sessions/cookieStorage.ts\nfunction createCookieSessionStorage({ cookie: cookieArg } = {}) {\n  let cookie = isCookie(cookieArg) ? cookieArg : createCookie(cookieArg?.name || \"__session\", cookieArg);\n  warnOnceAboutSigningSessionCookie(cookie);\n  return {\n    async getSession(cookieHeader, options) {\n      return createSession(\n        cookieHeader && await cookie.parse(cookieHeader, options) || {}\n      );\n    },\n    async commitSession(session, options) {\n      let serializedCookie = await cookie.serialize(session.data, options);\n      if (serializedCookie.length > 4096) {\n        throw new Error(\n          \"Cookie length will exceed browser maximum. Length: \" + serializedCookie.length\n        );\n      }\n      return serializedCookie;\n    },\n    async destroySession(_session, options) {\n      return cookie.serialize(\"\", {\n        ...options,\n        maxAge: void 0,\n        expires: /* @__PURE__ */ new Date(0)\n      });\n    }\n  };\n}\n\n// lib/server-runtime/sessions/memoryStorage.ts\nfunction createMemorySessionStorage({ cookie } = {}) {\n  let map = /* @__PURE__ */ new Map();\n  return createSessionStorage({\n    cookie,\n    async createData(data2, expires) {\n      let id = Math.random().toString(36).substring(2, 10);\n      map.set(id, { data: data2, expires });\n      return id;\n    },\n    async readData(id) {\n      if (map.has(id)) {\n        let { data: data2, expires } = map.get(id);\n        if (!expires || expires > /* @__PURE__ */ new Date()) {\n          return data2;\n        }\n        if (expires) map.delete(id);\n      }\n      return null;\n    },\n    async updateData(id, data2, expires) {\n      map.set(id, { data: data2, expires });\n    },\n    async deleteData(id) {\n      map.delete(id);\n    }\n  });\n}\n\n// lib/href.ts\nfunction href(path, ...args) {\n  let params = args[0];\n  return path.split(\"/\").map((segment) => {\n    const match = segment.match(/^:([\\w-]+)(\\?)?/);\n    if (!match) return segment;\n    const param = match[1];\n    const value = params ? params[param] : void 0;\n    const isRequired = match[2] === void 0;\n    if (isRequired && value === void 0) {\n      throw Error(\n        `Path '${path}' requires param '${param}' but it was not provided`\n      );\n    }\n    return value;\n  }).filter((segment) => segment !== void 0).join(\"/\");\n}\n\n// lib/dom/ssr/errors.ts\nfunction deserializeErrors2(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponseImpl(\n        val.status,\n        val.statusText,\n        val.data,\n        val.internal === true\n      );\n    } else if (val && val.__type === \"Error\") {\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            let error = new ErrorConstructor(val.message);\n            error.stack = val.stack;\n            serialized[key] = error;\n          } catch (e) {\n          }\n        }\n      }\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        error.stack = val.stack;\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\n\nexport {\n  Action,\n  createBrowserHistory,\n  invariant,\n  createPath,\n  parsePath,\n  unstable_createContext,\n  unstable_RouterContextProvider,\n  matchRoutes,\n  generatePath,\n  matchPath,\n  resolvePath,\n  data,\n  redirect,\n  redirectDocument,\n  replace,\n  ErrorResponseImpl,\n  isRouteErrorResponse,\n  IDLE_NAVIGATION,\n  IDLE_FETCHER,\n  IDLE_BLOCKER,\n  createRouter,\n  DataRouterContext,\n  DataRouterStateContext,\n  ViewTransitionContext,\n  FetchersContext,\n  NavigationContext,\n  LocationContext,\n  RouteContext,\n  useHref,\n  useInRouterContext,\n  useLocation,\n  useNavigationType,\n  useMatch,\n  useNavigate,\n  useOutletContext,\n  useOutlet,\n  useParams,\n  useResolvedPath,\n  useRoutes,\n  useNavigation,\n  useRevalidator,\n  useMatches,\n  useLoaderData,\n  useRouteLoaderData,\n  useActionData,\n  useRouteError,\n  useAsyncValue,\n  useAsyncError,\n  useBlocker,\n  mapRouteProperties,\n  createMemoryRouter,\n  RouterProvider,\n  MemoryRouter,\n  Navigate,\n  Outlet,\n  Route,\n  Router,\n  Routes,\n  Await,\n  createRoutesFromChildren,\n  createRoutesFromElements,\n  renderMatches,\n  createSearchParams,\n  SingleFetchRedirectSymbol,\n  getSingleFetchDataStrategy,\n  decodeViaTurboStream,\n  RemixErrorBoundary,\n  createClientRoutesWithHMRRevalidationOptOut,\n  createClientRoutes,\n  shouldHydrateRouteLoader,\n  getPatchRoutesOnNavigationFunction,\n  useFogOFWarDiscovery,\n  FrameworkContext,\n  Links,\n  PrefetchPageLinks,\n  Meta,\n  Scripts,\n  createBrowserRouter,\n  createHashRouter,\n  BrowserRouter,\n  HashRouter,\n  HistoryRouter,\n  Link,\n  NavLink,\n  Form,\n  ScrollRestoration,\n  useLinkClickHandler,\n  useSearchParams,\n  useSubmit,\n  useFormAction,\n  useFetcher,\n  useFetchers,\n  useScrollRestoration,\n  useBeforeUnload,\n  usePrompt,\n  useViewTransitionState,\n  StaticRouter,\n  StaticRouterProvider,\n  createStaticHandler2 as createStaticHandler,\n  createStaticRouter,\n  ServerRouter,\n  createRoutesStub,\n  createCookie,\n  isCookie,\n  ServerMode,\n  setDevServerHooks,\n  createRequestHandler,\n  createSession,\n  isSession,\n  createSessionStorage,\n  createCookieSessionStorage,\n  createMemorySessionStorage,\n  href,\n  deserializeErrors2 as deserializeErrors\n};\n","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach((key) => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + (content || \"\"));\n    };\n    return fileReader.readAsDataURL(data);\n};\nfunction toArray(data) {\n    if (data instanceof Uint8Array) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return new Uint8Array(data);\n    }\n    else {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n    }\n}\nlet TEXT_ENCODER;\nexport function encodePacketToBinary(packet, callback) {\n    if (withNativeBlob && packet.data instanceof Blob) {\n        return packet.data.arrayBuffer().then(toArray).then(callback);\n    }\n    else if (withNativeArrayBuffer &&\n        (packet.data instanceof ArrayBuffer || isView(packet.data))) {\n        return callback(toArray(packet.data));\n    }\n    encodePacket(packet, false, (encoded) => {\n        if (!TEXT_ENCODER) {\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\nexport { encodePacket };\n","// imported from https://github.com/socketio/base64-arraybuffer\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nexport const encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexport const decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE, } from \"./commons.js\";\nimport { decode } from \"./contrib/base64-arraybuffer.js\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nexport const decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType),\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType),\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1),\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type],\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            if (data instanceof Blob) {\n                // from WebSocket + binaryType \"blob\"\n                return data;\n            }\n            else {\n                // from HTTP long-polling or WebTransport\n                return new Blob([data]);\n            }\n        case \"arraybuffer\":\n        default:\n            if (data instanceof ArrayBuffer) {\n                // from HTTP long-polling (base64) or WebSocket + binaryType \"arraybuffer\"\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n    }\n};\n","import { encodePacket, encodePacketToBinary } from \"./encodePacket.js\";\nimport { decodePacket } from \"./decodePacket.js\";\nimport { ERROR_PACKET, } from \"./commons.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, (encodedPacket) => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport function createPacketEncoderStream() {\n    return new TransformStream({\n        transform(packet, controller) {\n            encodePacketToBinary(packet, (encodedPacket) => {\n                const payloadLength = encodedPacket.length;\n                let header;\n                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n                if (payloadLength < 126) {\n                    header = new Uint8Array(1);\n                    new DataView(header.buffer).setUint8(0, payloadLength);\n                }\n                else if (payloadLength < 65536) {\n                    header = new Uint8Array(3);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 126);\n                    view.setUint16(1, payloadLength);\n                }\n                else {\n                    header = new Uint8Array(9);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 127);\n                    view.setBigUint64(1, BigInt(payloadLength));\n                }\n                // first bit indicates whether the payload is plain text (0) or binary (1)\n                if (packet.data && typeof packet.data !== \"string\") {\n                    header[0] |= 0x80;\n                }\n                controller.enqueue(header);\n                controller.enqueue(encodedPacket);\n            });\n        },\n    });\n}\nlet TEXT_DECODER;\nfunction totalLength(chunks) {\n    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);\n}\nfunction concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n        return chunks.shift();\n    }\n    const buffer = new Uint8Array(size);\n    let j = 0;\n    for (let i = 0; i < size; i++) {\n        buffer[i] = chunks[0][j++];\n        if (j === chunks[0].length) {\n            chunks.shift();\n            j = 0;\n        }\n    }\n    if (chunks.length && j < chunks[0].length) {\n        chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n}\nexport function createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n        TEXT_DECODER = new TextDecoder();\n    }\n    const chunks = [];\n    let state = 0 /* State.READ_HEADER */;\n    let expectedLength = -1;\n    let isBinary = false;\n    return new TransformStream({\n        transform(chunk, controller) {\n            chunks.push(chunk);\n            while (true) {\n                if (state === 0 /* State.READ_HEADER */) {\n                    if (totalLength(chunks) < 1) {\n                        break;\n                    }\n                    const header = concatChunks(chunks, 1);\n                    isBinary = (header[0] & 0x80) === 0x80;\n                    expectedLength = header[0] & 0x7f;\n                    if (expectedLength < 126) {\n                        state = 3 /* State.READ_PAYLOAD */;\n                    }\n                    else if (expectedLength === 126) {\n                        state = 1 /* State.READ_EXTENDED_LENGTH_16 */;\n                    }\n                    else {\n                        state = 2 /* State.READ_EXTENDED_LENGTH_64 */;\n                    }\n                }\n                else if (state === 1 /* State.READ_EXTENDED_LENGTH_16 */) {\n                    if (totalLength(chunks) < 2) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 2);\n                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else if (state === 2 /* State.READ_EXTENDED_LENGTH_64 */) {\n                    if (totalLength(chunks) < 8) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 8);\n                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);\n                    const n = view.getUint32(0);\n                    if (n > Math.pow(2, 53 - 32) - 1) {\n                        // the maximum safe integer in JavaScript is 2^53 - 1\n                        controller.enqueue(ERROR_PACKET);\n                        break;\n                    }\n                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else {\n                    if (totalLength(chunks) < expectedLength) {\n                        break;\n                    }\n                    const data = concatChunks(chunks, expectedLength);\n                    controller.enqueue(decodePacket(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n                    state = 0 /* State.READ_HEADER */;\n                }\n                if (expectedLength === 0 || expectedLength > maxPayload) {\n                    controller.enqueue(ERROR_PACKET);\n                    break;\n                }\n            }\n        },\n    });\n}\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload, };\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","export const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return (cb) => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\nexport const defaultBinaryType = \"arraybuffer\";\nexport function createCookieJar() { }\n","import { globalThisShim as globalThis } from \"./globals.node.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n/**\n * Generates a random 8-characters string.\n */\nexport function randomString() {\n    return (Date.now().toString(36).substring(3) +\n        Math.random().toString(36).substring(2, 5));\n}\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nimport { encode } from \"./contrib/parseqs.js\";\nexport class TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n        this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port !== 443)) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = encode(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","import { Transport } from \"../transport.js\";\nimport { randomString } from \"../util.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nexport class Polling extends Transport {\n    constructor() {\n        super(...arguments);\n        this._polling = false;\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this._poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this._polling || !this.writable) {\n            let total = 0;\n            if (this._polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    _poll() {\n        this._polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this._polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this._poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = randomString();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\n","// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexport const hasCORS = value;\n","import { Polling } from \"./polling.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globals.node.js\";\nimport { hasCORS } from \"../contrib/has-cors.js\";\nfunction empty() { }\nexport class BaseXHR extends Polling {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(createRequest, uri, opts) {\n        super();\n        this.createRequest = createRequest;\n        installTimerFunctions(this, opts);\n        this._opts = opts;\n        this._method = opts.method || \"GET\";\n        this._uri = uri;\n        this._data = undefined !== opts.data ? opts.data : null;\n        this._create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    _create() {\n        var _a;\n        const opts = pick(this._opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this._opts.xd;\n        const xhr = (this._xhr = this.createRequest(opts));\n        try {\n            xhr.open(this._method, this._uri, true);\n            try {\n                if (this._opts.extraHeaders) {\n                    // @ts-ignore\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this._opts.extraHeaders) {\n                        if (this._opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this._opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this._method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this._opts.withCredentials;\n            }\n            if (this._opts.requestTimeout) {\n                xhr.timeout = this._opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(\n                    // @ts-ignore\n                    xhr.getResponseHeader(\"set-cookie\"));\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this._onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this._onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this._data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this._onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this._index = Request.requestsCount++;\n            Request.requests[this._index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    _onError(err) {\n        this.emitReserved(\"error\", err, this._xhr);\n        this._cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    _cleanup(fromError) {\n        if (\"undefined\" === typeof this._xhr || null === this._xhr) {\n            return;\n        }\n        this._xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this._xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this._index];\n        }\n        this._xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    _onLoad() {\n        const data = this._xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this._cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this._cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\nconst hasXHR2 = (function () {\n    const xhr = newRequest({\n        xdomain: false,\n    });\n    return xhr && xhr.responseType !== null;\n})();\n/**\n * HTTP long-polling based on the built-in `XMLHttpRequest` object.\n *\n * Usage: browser\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n */\nexport class XHR extends BaseXHR {\n    constructor(opts) {\n        super(opts);\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd }, this.opts);\n        return new Request(newRequest, this.uri(), opts);\n    }\n}\nfunction newRequest(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { pick, randomString } from \"../util.js\";\nimport { encodePacket } from \"engine.io-parser\";\nimport { globalThisShim as globalThis, nextTick } from \"../globals.node.js\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class BaseWS extends Transport {\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws = this.createSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    this.doWrite(packet, data);\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.onerror = () => { };\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = randomString();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\nconst WebSocketCtor = globalThis.WebSocket || globalThis.MozWebSocket;\n/**\n * WebSocket transport based on the built-in `WebSocket` object.\n *\n * Usage: browser, Node.js (since v21), Deno, Bun\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\n * @see https://caniuse.com/mdn-api_websocket\n * @see https://nodejs.org/api/globals.html#websocket\n */\nexport class WS extends BaseWS {\n    createSocket(uri, protocols, opts) {\n        return !isReactNative\n            ? protocols\n                ? new WebSocketCtor(uri, protocols)\n                : new WebSocketCtor(uri)\n            : new WebSocketCtor(uri, protocols, opts);\n    }\n    doWrite(_packet, data) {\n        this.ws.send(data);\n    }\n}\n","import { XHR } from \"./polling-xhr.node.js\";\nimport { WS } from \"./websocket.node.js\";\nimport { WT } from \"./webtransport.js\";\nexport const transports = {\n    websocket: WS,\n    webtransport: WT,\n    polling: XHR,\n};\n","import { Transport } from \"../transport.js\";\nimport { nextTick } from \"../globals.node.js\";\nimport { createPacketDecoderStream, createPacketEncoderStream, } from \"engine.io-parser\";\n/**\n * WebTransport transport based on the built-in `WebTransport` object.\n *\n * Usage: browser, Node.js (with the `@fails-components/webtransport` package)\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebTransport\n * @see https://caniuse.com/webtransport\n */\nexport class WT extends Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        try {\n            // @ts-ignore\n            this._transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this._transport.closed\n            .then(() => {\n            this.onClose();\n        })\n            .catch((err) => {\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this._transport.ready.then(() => {\n            this._transport.createBidirectionalStream().then((stream) => {\n                const decoderStream = createPacketDecoderStream(Number.MAX_SAFE_INTEGER, this.socket.binaryType);\n                const reader = stream.readable.pipeThrough(decoderStream).getReader();\n                const encoderStream = createPacketEncoderStream();\n                encoderStream.readable.pipeTo(stream.writable);\n                this._writer = encoderStream.writable.getWriter();\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            return;\n                        }\n                        this.onPacket(value);\n                        read();\n                    })\n                        .catch((err) => {\n                    });\n                };\n                read();\n                const packet = { type: \"open\" };\n                if (this.query.sid) {\n                    packet.data = `{\"sid\":\"${this.query.sid}\"}`;\n                }\n                this._writer.write(packet).then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            this._writer.write(packet).then(() => {\n                if (lastPacket) {\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this._transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    if (str.length > 8000) {\n        throw \"URI too long\";\n    }\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","import { transports as DEFAULT_TRANSPORTS } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nimport { createCookieJar, defaultBinaryType, nextTick, } from \"./globals.node.js\";\nconst withEventListeners = typeof addEventListener === \"function\" &&\n    typeof removeEventListener === \"function\";\nconst OFFLINE_EVENT_LISTENERS = [];\nif (withEventListeners) {\n    // within a ServiceWorker, any event handler for the 'offline' event must be added on the initial evaluation of the\n    // script, so we create one single event listener here which will forward the event to the socket instances\n    addEventListener(\"offline\", () => {\n        OFFLINE_EVENT_LISTENERS.forEach((listener) => listener());\n    }, false);\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes without upgrade mechanism, which means that it will keep the first low-level transport that\n * successfully establishes the connection.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithoutUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithoutUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithUpgrade\n * @see Socket\n */\nexport class SocketWithoutUpgrade extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts) {\n        super();\n        this.binaryType = defaultBinaryType;\n        this.writeBuffer = [];\n        this._prevBufferLen = 0;\n        this._pingInterval = -1;\n        this._pingTimeout = -1;\n        this._maxPayload = -1;\n        /**\n         * The expiration timestamp of the {@link _pingTimeoutTimer} object is tracked, in case the timer is throttled and the\n         * callback is not fired on time. This can happen for example when a laptop is suspended or when a phone is locked.\n         */\n        this._pingTimeoutTime = Infinity;\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            const parsedUri = parse(uri);\n            opts.hostname = parsedUri.host;\n            opts.secure =\n                parsedUri.protocol === \"https\" || parsedUri.protocol === \"wss\";\n            opts.port = parsedUri.port;\n            if (parsedUri.query)\n                opts.query = parsedUri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = [];\n        this._transportsByName = {};\n        opts.transports.forEach((t) => {\n            const transportName = t.prototype.name;\n            this.transports.push(transportName);\n            this._transportsByName[transportName] = t;\n        });\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        if (withEventListeners) {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this._beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this._offlineEventListener = () => {\n                    this._onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener);\n            }\n        }\n        if (this.opts.withCredentials) {\n            this._cookieJar = createCookieJar();\n        }\n        this._open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        return new this._transportsByName[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    _open() {\n        if (this.transports.length === 0) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        const transportName = this.opts.rememberUpgrade &&\n            SocketWithoutUpgrade.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1\n            ? \"websocket\"\n            : this.transports[0];\n        this.readyState = \"opening\";\n        const transport = this.createTransport(transportName);\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this._onDrain.bind(this))\n            .on(\"packet\", this._onPacket.bind(this))\n            .on(\"error\", this._onError.bind(this))\n            .on(\"close\", (reason) => this._onClose(\"transport close\", reason));\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        SocketWithoutUpgrade.priorWebsocketSuccess =\n            \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    _onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this._sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    this._resetPingTimeout();\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this._onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this._pingInterval = data.pingInterval;\n        this._pingTimeout = data.pingTimeout;\n        this._maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this._resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    _resetPingTimeout() {\n        this.clearTimeoutFn(this._pingTimeoutTimer);\n        const delay = this._pingInterval + this._pingTimeout;\n        this._pingTimeoutTime = Date.now() + delay;\n        this._pingTimeoutTimer = this.setTimeoutFn(() => {\n            this._onClose(\"ping timeout\");\n        }, delay);\n        if (this.opts.autoUnref) {\n            this._pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    _onDrain() {\n        this.writeBuffer.splice(0, this._prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this._prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this._getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this._prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    _getWritablePackets() {\n        const shouldCheckPayloadSize = this._maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this._maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Checks whether the heartbeat timer has expired but the socket has not yet been notified.\n     *\n     * Note: this method is private for now because it does not really fit the WebSocket API, but if we put it in the\n     * `write()` method then the message would not be buffered by the Socket.IO client.\n     *\n     * @return {boolean}\n     * @private\n     */\n    /* private */ _hasPingExpired() {\n        if (!this._pingTimeoutTime)\n            return true;\n        const hasExpired = Date.now() > this._pingTimeoutTime;\n        if (hasExpired) {\n            this._pingTimeoutTime = 0;\n            nextTick(() => {\n                this._onClose(\"ping timeout\");\n            }, this.setTimeoutFn);\n        }\n        return hasExpired;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a message. Alias of {@link Socket#write}.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    send(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    _sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this._onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    _onError(err) {\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        if (this.opts.tryAllTransports &&\n            this.transports.length > 1 &&\n            this.readyState === \"opening\") {\n            this.transports.shift();\n            return this._open();\n        }\n        this.emitReserved(\"error\", err);\n        this._onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    _onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this._pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (withEventListeners) {\n                if (this._beforeunloadEventListener) {\n                    removeEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n                }\n                if (this._offlineEventListener) {\n                    const i = OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);\n                    if (i !== -1) {\n                        OFFLINE_EVENT_LISTENERS.splice(i, 1);\n                    }\n                }\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this._prevBufferLen = 0;\n        }\n    }\n}\nSocketWithoutUpgrade.protocol = protocol;\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see Socket\n */\nexport class SocketWithUpgrade extends SocketWithoutUpgrade {\n    constructor() {\n        super(...arguments);\n        this._upgrades = [];\n    }\n    onOpen() {\n        super.onOpen();\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            for (let i = 0; i < this._upgrades.length; i++) {\n                this._probe(this._upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    _probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    SocketWithoutUpgrade.priorWebsocketSuccess =\n                        \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this._upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    onHandshake(data) {\n        this._upgrades = this._filterUpgrades(data.upgrades);\n        super.onHandshake(data);\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    _filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        for (let i = 0; i < upgrades.length; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * @example\n * import { Socket } from \"engine.io-client\";\n *\n * const socket = new Socket();\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see SocketWithUpgrade\n */\nexport class Socket extends SocketWithUpgrade {\n    constructor(uri, opts = {}) {\n        const o = typeof uri === \"object\" ? uri : opts;\n        if (!o.transports ||\n            (o.transports && typeof o.transports[0] === \"string\")) {\n            o.transports = (o.transports || [\"polling\", \"websocket\", \"webtransport\"])\n                .map((transportName) => DEFAULT_TRANSPORTS[transportName])\n                .filter((t) => !!t);\n        }\n        super(uri, o);\n    }\n}\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        /**\n         * A map containing acknowledgement handlers.\n         *\n         * The `withError` attribute is used to differentiate handlers that accept an error as first argument:\n         *\n         * - `socket.emit(\"test\", (err, value) => { ... })` with `ackTimeout` option\n         * - `socket.timeout(5000).emit(\"test\", (err, value) => { ... })`\n         * - `const value = await socket.emitWithAck(\"test\")`\n         *\n         * From those that don't:\n         *\n         * - `socket.emit(\"test\", (value) => { ... });`\n         *\n         * In the first case, the handlers will be called with an error when:\n         *\n         * - the timeout is reached\n         * - the socket gets disconnected\n         *\n         * In the second case, the handlers will be simply discarded upon disconnection, since the client will never receive\n         * an acknowledgement from the server.\n         *\n         * @private\n         */\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        var _a, _b, _c;\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = (_b = (_a = this.io.engine) === null || _a === void 0 ? void 0 : _a.transport) === null || _b === void 0 ? void 0 : _b.writable;\n        const isConnected = this.connected && !((_c = this.io.engine) === null || _c === void 0 ? void 0 : _c._hasPingExpired());\n        const discardPacket = this.flags.volatile && !isTransportWritable;\n        if (discardPacket) {\n        }\n        else if (isConnected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        const fn = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, args);\n        };\n        fn.withError = true;\n        this.acks[id] = fn;\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        return new Promise((resolve, reject) => {\n            const fn = (arg1, arg2) => {\n                return arg1 ? reject(arg1) : resolve(arg2);\n            };\n            fn.withError = true;\n            args.push(fn);\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n        this._clearAcks();\n    }\n    /**\n     * Clears the acknowledgement handlers upon disconnection, since the client will never receive an acknowledgement from\n     * the server.\n     *\n     * @private\n     */\n    _clearAcks() {\n        Object.keys(this.acks).forEach((id) => {\n            const isBuffered = this.sendBuffer.some((packet) => String(packet.id) === id);\n            if (!isBuffered) {\n                // note: handlers that do not accept an error as first argument are ignored here\n                const ack = this.acks[id];\n                delete this.acks[id];\n                if (ack.withError) {\n                    ack.call(this, new Error(\"socket has been disconnected\"));\n                }\n            }\n        });\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowledgement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (typeof ack !== \"function\") {\n            return;\n        }\n        delete this.acks[packet.id];\n        // @ts-ignore FIXME ack is incorrectly inferred as 'never'\n        if (ack.withError) {\n            packet.data.unshift(null);\n        }\n        // @ts-ignore\n        ack.apply(this, packet.data);\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        if (!v) {\n            this.skipReconnect = true;\n        }\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), \n        // @ts-ignore\n        on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called when:\n     *\n     * - the low-level engine is closed\n     * - the parser encountered a badly formatted packet\n     * - all sockets are disconnected\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        var _a;\n        this.cleanup();\n        (_a = this.engine) === null || _a === void 0 ? void 0 : _a.close();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\nexport { Fetch, NodeXHR, XHR, NodeWebSocket, WebSocket, WebTransport, } from \"engine.io-client\";\n","import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","import { io } from 'socket.io-client';\r\n\r\nconst socket = io(\"https://webhunt.onrender.com\");\r\n\r\nexport default socket;","import { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport socket from \"src/components/socket\";\r\n\r\nexport default function ReactUI() {\r\n\r\n\tlet c = document.getElementById('game') as HTMLCanvasElement;\r\n    c.hidden = false;\r\n\r\n\tconst [user, setUser] = useState({ loggedIn: false, displayName: \"\", id: \"\"});\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch(\"https://webhunt.onrender.com/account\", { \r\n\t\t\tmethod: 'GET',\r\n\t\t\tmode: 'cors',\r\n\t\t\tcredentials: 'include',\r\n\t\t}).then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tsetUser(data);\r\n\t\t\t});\r\n\t}, [])\r\n\r\n\tconst menuComponent = () => {\r\n\t\tif (user.loggedIn) {\r\n\t\t\tsetInterval(() => {\r\n\t\t\t\tsocket.emit('login', socket.id, user.displayName, user.id);\r\n\t\t\t}, 200);\r\n\t\t\treturn (\r\n\t\t\t<div id='menu'>\r\n\t\t\t\t<div>Logged in as {'' + user.displayName}</div>\r\n\t\t\t</div>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div id='menu'>\r\n\t\t\t\t\t<Link style={{ textDecoration: 'none', color: \"black\",}} id=\"menu_login\" to='/login'>Login</Link>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n  \treturn (\r\n\t\t<>\r\n\t\t\t{menuComponent()}\r\n\t\t</>\r\n\t);\r\n}\r\n","export default function Login() {\r\n    let c = document.getElementById('game') as HTMLCanvasElement;\r\n    c.hidden = true;\r\n\r\n    const handleSubmit = (e: any) => {\r\n        e.preventDefault();\r\n        const url = \"https://webhunt.onrender.com/auth/google\";\r\n        window.open(url, '_self');\r\n    }\r\n\t\r\n    return (\r\n      <>\r\n        <form onSubmit={handleSubmit}>\r\n            <input type=\"submit\" value=\"Login\"/>\r\n        </form>\r\n      </>\r\n   );\r\n}\r\n","import { KAPLAYCtx } from \"kaplay\";\r\n\r\nexport const updateCamZoom = (k: KAPLAYCtx) => {\r\n    if (k.width() < 1000 || k.height() < 800) {\r\n        k.setCamScale(0.5)\r\n    } else {\r\n        k.setCamScale(1)\r\n    }\r\n}\r\n\r\nexport const updateCamPos = (k: KAPLAYCtx, posVec2: any) => {\r\n    k.tween(\r\n        k.getCamPos(),\r\n        posVec2,\r\n        0.1,\r\n        (newPos) => k.setCamPos(newPos),\r\n        k.easings.linear\r\n    )\r\n}\r\n\r\n// relative mouse position depending on camera position and scale\r\nexport const getRelativeMousePos = (k: KAPLAYCtx) => {\r\n    return k.vec2(k.getCamPos().add((k.mousePos().x - k.center().x) / k.getCamScale().x, (k.mousePos().y - k.center().y) / k.getCamScale().y))\r\n}\r\n\r\n","import { KAPLAYCtx } from \"kaplay\";\r\nimport { updateCamPos, updateCamZoom } from \"../utils/camUtils\";\r\n\r\nimport socket from \"src/components/socket\";\r\n\r\nexport default function init_create_room(k: KAPLAYCtx) {\r\n    k.scene('create_room', () => {\r\n\r\n        let background = k.add([\r\n            k.rect(k.width(), k.height()),\r\n            k.anchor('center'),\r\n            k.pos(k.center()),\r\n        ])\r\n\r\n        updateCamPos(k, background.pos);\r\n        updateCamZoom(k);\r\n\r\n        k.add([\r\n            k.text('Create a room', { size: 64, font: 'gaegu' }),\r\n            k.pos(k.center().x, k.center().y - 360),\r\n            k.anchor('center'),\r\n            k.color(0, 0, 0),\r\n        ])\r\n\r\n        let cancel = k.add([\r\n            k.text('cancel', { size: 64, font: 'gaegu' }),\r\n            k.pos(k.center().x - 128, k.center().y + 320),\r\n            k.anchor('center'),\r\n            k.area(),\r\n            k.color(0, 0, 0),\r\n            k.scale(1),\r\n            'menu_button',\r\n        ])\r\n\r\n        let create = k.add([\r\n            k.text('create', { size: 64, font: 'gaegu' }),\r\n            k.pos(k.center().x + 128, k.center().y + 320),\r\n            k.anchor('center'),\r\n            k.area(),\r\n            k.color(0, 0, 0),\r\n            k.scale(1),\r\n            'menu_button',\r\n        ])\r\n\r\n        const fields = init_fields(k);\r\n        \r\n        k.onHover('menu_button', (btn) => {\r\n            k.tween(\r\n                btn.scale,\r\n                k.vec2(1.2),\r\n                0.1,\r\n                (newScale) => btn.scale = newScale,\r\n                k.easings.linear\r\n            )\r\n        })\r\n\r\n\r\n        k.onHoverEnd('menu_button', (btn) => {\r\n            k.tween(\r\n                btn.scale,\r\n                k.vec2(1),\r\n                0.1,\r\n                (newScale) => btn.scale = newScale,\r\n                k.easings.linear\r\n            )\r\n        })\r\n\r\n        cancel.onClick(() => {\r\n            k.go('menu');\r\n        })\r\n\r\n        create.onClick(() => {\r\n            let room_info = {\r\n                name: fields[0].text,\r\n                max_players: parseInt(fields[1].text),\r\n                round_time: parseInt(fields[2].text.split('s')[0]),\r\n                board_size: parseInt(fields[3].text.split('x')[0]),\r\n            }\r\n\r\n            socket.emit('create_room', socket.id, room_info, (response: any) => {\r\n                if (response.status === 'ok') {\r\n                    k.go('room');\r\n                } else {\r\n                    console.log(response.message);\r\n                }\r\n            })\r\n        })\r\n\r\n        k.onUpdate(() => {\r\n            updateCamPos(k, background.pos);\r\n            updateCamZoom(k);\r\n        })\r\n    });\r\n}\r\n\r\nconst init_fields = (k: KAPLAYCtx) => {\r\n    // name field\r\n    const inputRect = new k.Rect(k.vec2(0), 24*16, 68)\r\n    k.add([\r\n        k.text('name:', { size: 48, font: 'gaegu' }),\r\n        k.pos(k.center().x, k.center().y - 280),\r\n        k.anchor('center'),\r\n        k.color(0, 0, 0),\r\n    ])\r\n\r\n    let name_pos = k.vec2(k.center().x, k.center().y - 210);\r\n    let name_input = k.add([\r\n        k.text('', { size: 64, font: 'gaegu' }),\r\n        k.area({ shape: inputRect }),\r\n        k.textInput(true, 10),\r\n        k.pos(name_pos),\r\n        k.anchor('center'),\r\n        k.color(0, 0, 0),\r\n        k.scale(1),\r\n    ]);\r\n\r\n    k.add([\r\n        k.rect(inputRect.width, inputRect.height, {fill: false}),\r\n        k.pos(name_pos),\r\n        k.outline(4, k.rgb(0, 0, 0)),\r\n        k.anchor('center'),\r\n    ])\r\n\r\n    // max players field\r\n    const max_players_pos = k.vec2(k.center().x - 64, k.center().y - 100);\r\n    k.add([\r\n        k.text('max. players:', { size: 48, font: 'gaegu' }),\r\n        k.pos(max_players_pos),\r\n        k.anchor('center'),\r\n        k.color(0, 0, 0),\r\n    ])\r\n\r\n    k.add([\r\n        k.polygon([\r\n            k.vec2(0, 0),\r\n            k.vec2(32, -24),\r\n            k.vec2(64, 0),\r\n            ], { fill: false }),\r\n        k.pos(k.center().x + 128, max_players_pos.y - 28),\r\n        k.anchor('center'),\r\n        k.area(),\r\n        k.color(0, 0, 0),\r\n        k.outline(4),\r\n        'players_up',   \r\n    ])\r\n\r\n    k.add([\r\n        k.polygon([\r\n            k.vec2(0, 0),\r\n            k.vec2(32, 24),\r\n            k.vec2(64, 0),\r\n            ], { fill: false }),\r\n        k.pos(k.center().x + 128, max_players_pos.y + 28),\r\n        k.anchor('center'),\r\n        k.area(),\r\n        k.color(0, 0, 0),\r\n        k.outline(4),\r\n        'players_down',\r\n    ])\r\n\r\n    let player_count = k.add([\r\n        k.text('2', { size: 48, font: 'gaegu' }),\r\n        k.pos(k.center().x + 160, max_players_pos.y),\r\n        k.anchor('center'),\r\n        k.color(0, 0, 0),\r\n    ])\r\n\r\n\r\n    // time / round field\r\n    const total_time_pos = k.vec2(k.center().x - 64, k.center().y + 32);\r\n    k.add([\r\n        k.text('time / round:', { size: 48, font: 'gaegu' }),\r\n        k.pos(total_time_pos),\r\n        k.anchor('center'),\r\n        k.color(0, 0, 0),\r\n    ])\r\n    \r\n    k.add([\r\n        k.polygon([\r\n            k.vec2(0, 0),\r\n            k.vec2(32, -24),\r\n            k.vec2(64, 0),\r\n            ], { fill: false }),\r\n        k.pos(k.center().x + 128, total_time_pos.y - 28),\r\n        k.anchor('center'),\r\n        k.area(),\r\n        k.color(0, 0, 0),\r\n        k.outline(4),\r\n        'time_up',   \r\n    ])\r\n\r\n    k.add([\r\n        k.polygon([\r\n            k.vec2(0, 0),\r\n            k.vec2(32, 24),\r\n            k.vec2(64, 0),\r\n            ], { fill: false }),\r\n        k.pos(k.center().x + 128, total_time_pos.y + 28),\r\n        k.anchor('center'),\r\n        k.area(),\r\n        k.color(0, 0, 0),\r\n        k.outline(4),\r\n        'time_down',\r\n    ])\r\n\r\n    let total_time = k.add([\r\n        k.text('60s', { size: 48, font: 'gaegu' }),\r\n        k.pos(k.center().x + 160, total_time_pos.y),\r\n        k.anchor('center'),\r\n        k.color(0, 0, 0),\r\n    ])\r\n\r\n    // board size field\r\n    const board_size_pos = k.vec2(k.center().x - 64, k.center().y + 164);\r\n    k.add([\r\n        k.text('board size:', { size: 48, font: 'gaegu' }),\r\n        k.pos(board_size_pos),\r\n        k.anchor('center'),\r\n        k.color(0, 0, 0),\r\n    ])\r\n\r\n    k.add([\r\n        k.polygon([\r\n            k.vec2(0, 0),\r\n            k.vec2(32, -24),\r\n            k.vec2(64, 0),\r\n            ], { fill: false }),\r\n        k.pos(k.center().x + 128, board_size_pos.y - 28),\r\n        k.anchor('center'),\r\n        k.area(),\r\n        k.color(0, 0, 0),\r\n        k.outline(4),\r\n        'board_up',   \r\n    ])\r\n\r\n    k.add([\r\n        k.polygon([\r\n            k.vec2(0, 0),\r\n            k.vec2(32, 24),\r\n            k.vec2(64, 0),\r\n            ], { fill: false }),\r\n        k.pos(k.center().x + 128, board_size_pos.y + 28),\r\n        k.anchor('center'),\r\n        k.area(),\r\n        k.color(0, 0, 0),\r\n        k.outline(4),\r\n        'board_down',\r\n    ])\r\n\r\n    let board_size = k.add([\r\n        k.text('4x4', { size: 48, font: 'gaegu' }),\r\n        k.pos(k.center().x + 160, board_size_pos.y),\r\n        k.anchor('center'),\r\n        k.color(0, 0, 0),\r\n    ])\r\n\r\n    name_input.onClick(() => {\r\n        let text = prompt('enter a room name: ');\r\n        if (text === null) return;\r\n        name_input.text = text;\r\n    })\r\n\r\n    k.onClick('players_up', () => {\r\n        let count = parseInt(player_count.text);\r\n        if (count < 16) count++;\r\n        player_count.text = count.toString();\r\n    })\r\n\r\n    k.onClick('players_down', () => {\r\n        let count = parseInt(player_count.text);\r\n        if (count > 2) count-- \r\n        player_count.text = count.toString();\r\n    })\r\n\r\n    k.onClick('time_up', () => {\r\n        let time = parseInt(total_time.text);\r\n        if (time < 120) time += 10;\r\n        let time_string = time.toString() + 's';\r\n        total_time.text = time_string;\r\n    })\r\n\r\n    k.onClick('time_down', () => {\r\n        let time = parseInt(total_time.text);\r\n        if (time > 10) time -= 10;\r\n        let time_string = time.toString() + 's';\r\n        total_time.text = time_string;\r\n    })\r\n\r\n    k.onClick('board_up', () => {\r\n        let size = parseInt(board_size.text.split('x')[0]);\r\n        if (size < 9) size++;\r\n        let size_string = size.toString() + 'x' + size.toString();\r\n        board_size.text = size_string;\r\n    })\r\n\r\n    k.onClick('board_down', () => {\r\n        let size = parseInt(board_size.text.split('x')[0]);\r\n        if (size > 3) size--;\r\n        let size_string = size.toString() + 'x' + size.toString();\r\n        board_size.text = size_string;\r\n    })\r\n\r\n    return ([name_input, player_count, total_time, board_size]);\r\n}","import { clamp, lerp } from \"./math\";\n\nexport type RGBValue = [number, number, number];\nexport type RGBAValue = [number, number, number, number];\n\n/**\n * 0-255 RGBA color.\n *\n * @group Math\n */\nexport class Color {\n    /** Red (0-255. */\n    r: number = 255;\n    /** Green (0-255). */\n    g: number = 255;\n    /** Blue (0-255). */\n    b: number = 255;\n\n    constructor(r: number, g: number, b: number) {\n        this.r = clamp(r, 0, 255);\n        this.g = clamp(g, 0, 255);\n        this.b = clamp(b, 0, 255);\n    }\n\n    // TODO: Type arr as tuple (no in ts-strict branch yet)\n    static fromArray(arr: number[]) {\n        return new Color(arr[0], arr[1], arr[2]);\n    }\n\n    /**\n     * Create color from hex string or literal.\n     *\n     * @example\n     * ```js\n     * Color.fromHex(0xfcef8d)\n     * Color.fromHex(\"#5ba675\")\n     * Color.fromHex(\"d46eb3\")\n     * ```\n     *\n     * @since v3000.0\n     */\n    static fromHex(hex: string | number) {\n        if (typeof hex === \"number\") {\n            return new Color(\n                (hex >> 16) & 0xff,\n                (hex >> 8) & 0xff,\n                (hex >> 0) & 0xff,\n            );\n        }\n        else if (typeof hex === \"string\") {\n            const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(\n                hex,\n            );\n\n            if (!result) throw new Error(\"Invalid hex color format\");\n\n            return new Color(\n                parseInt(result[1], 16),\n                parseInt(result[2], 16),\n                parseInt(result[3], 16),\n            );\n        }\n        else {\n            throw new Error(\"Invalid hex color format\");\n        }\n    }\n\n    // TODO: use range of [0, 360] [0, 100] [0, 100]?\n    static fromHSL(h: number, s: number, l: number) {\n        if (s == 0) {\n            return new Color(255 * l, 255 * l, 255 * l);\n        }\n\n        const hue2rgb = (p: number, q: number, t: number) => {\n            if (t < 0) t += 1;\n            if (t > 1) t -= 1;\n            if (t < 1 / 6) return p + (q - p) * 6 * t;\n            if (t < 1 / 2) return q;\n            if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n            return p;\n        };\n\n        const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        const p = 2 * l - q;\n        const r = hue2rgb(p, q, h + 1 / 3);\n        const g = hue2rgb(p, q, h);\n        const b = hue2rgb(p, q, h - 1 / 3);\n\n        return new Color(\n            Math.round(r * 255),\n            Math.round(g * 255),\n            Math.round(b * 255),\n        );\n    }\n\n    static RED = new Color(255, 0, 0);\n    static GREEN = new Color(0, 255, 0);\n    static BLUE = new Color(0, 0, 255);\n    static YELLOW = new Color(255, 255, 0);\n    static MAGENTA = new Color(255, 0, 255);\n    static CYAN = new Color(0, 255, 255);\n    static WHITE = new Color(255, 255, 255);\n    static BLACK = new Color(0, 0, 0);\n\n    clone(): Color {\n        return new Color(this.r, this.g, this.b);\n    }\n\n    /** Lighten the color (adds RGB by n). */\n    lighten(a: number): Color {\n        return new Color(this.r + a, this.g + a, this.b + a);\n    }\n\n    /** Darkens the color (subtracts RGB by n). */\n    darken(a: number): Color {\n        return this.lighten(-a);\n    }\n\n    invert(): Color {\n        return new Color(255 - this.r, 255 - this.g, 255 - this.b);\n    }\n\n    mult(other: Color): Color {\n        return new Color(\n            this.r * other.r / 255,\n            this.g * other.g / 255,\n            this.b * other.b / 255,\n        );\n    }\n\n    /**\n     * Linear interpolate to a destination color.\n     *\n     * @since v3000.0\n     */\n    lerp(dest: Color, t: number): Color {\n        return new Color(\n            lerp(this.r, dest.r, t),\n            lerp(this.g, dest.g, t),\n            lerp(this.b, dest.b, t),\n        );\n    }\n\n    /**\n     * Convert color into HSL format.\n     *\n     * @since v3001.0\n     */\n    toHSL(): [number, number, number] {\n        const r = this.r / 255;\n        const g = this.g / 255;\n        const b = this.b / 255;\n        const max = Math.max(r, g, b), min = Math.min(r, g, b);\n        let h = (max + min) / 2;\n        let s = h;\n        const l = h;\n        if (max == min) {\n            h = s = 0;\n        }\n        else {\n            const d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch (max) {\n                case r:\n                    h = (g - b) / d + (g < b ? 6 : 0);\n                    break;\n                case g:\n                    h = (b - r) / d + 2;\n                    break;\n                case b:\n                    h = (r - g) / d + 4;\n                    break;\n            }\n            h /= 6;\n        }\n        return [h, s, l];\n    }\n\n    eq(other: Color): boolean {\n        return this.r === other.r\n            && this.g === other.g\n            && this.b === other.b;\n    }\n\n    toString(): string {\n        return `rgb(${this.r}, ${this.g}, ${this.b})`;\n    }\n\n    /**\n     * Return the hex string of color.\n     *\n     * @since v3000.0\n     */\n    toHex(): string {\n        return \"#\"\n            + ((1 << 24) + (this.r << 16) + (this.g << 8) + this.b).toString(16)\n                .slice(1);\n    }\n\n    /**\n     * Return the color converted to an array.\n     *\n     * @since v3001.0\n     */\n    toArray(): Array<number> {\n        return [this.r, this.g, this.b];\n    }\n}\n\nexport type ColorArgs =\n    // rgb(new Color(255, 255, 255))\n    | [Color]\n    /**\n     * rgb(new Color(255, 255, 255), 1)\n     *\n     * This is only used to parse directly the color of background. This\n     * syntax shouldn't be used to set opacity. Use `opacity()` comp instead.\n     */\n    | [Color, number]\n    // rgb(255, 255, 255)\n    | RGBValue\n    /**\n     * rgb(255, 255, 255, 1)\n     *\n     * This is only used to parse directly the color of background. This\n     * syntax shouldn't be used to set opacity. Use `opacity()` comp instead.\n     */\n    | RGBAValue\n    // rgb(\"#ffffff\")\n    | [string]\n    | [number[]]\n    | [];\n\nexport function rgb(...args: ColorArgs): Color {\n    if (args.length === 0) {\n        return new Color(255, 255, 255);\n    }\n    else if (args.length === 1) {\n        if (args[0] instanceof Color) {\n            // rgb(new Color(255, 255, 255))\n            return args[0].clone();\n        }\n        else if (typeof args[0] === \"string\") {\n            // rgb(\"#ffffff\")\n            return Color.fromHex(args[0]);\n        }\n        else if (Array.isArray(args[0]) && args[0].length === 3) {\n            // rgb([255, 255, 255])\n            return Color.fromArray(args[0]);\n        }\n    }\n    else if (args.length === 2) {\n        if (args[0] instanceof Color) {\n            return args[0].clone();\n        }\n    }\n    else if (args.length === 3 || args.length === 4) {\n        return new Color(args[0], args[1], args[2]);\n    }\n\n    throw new Error(\"Invalid color arguments\");\n}\n\nexport const hsl2rgb = (h: number, s: number, l: number) =>\n    Color.fromHSL(h, s, l);\n","import type { GameObj, LerpValue, RNGValue } from \"../types\";\nimport { Color, rgb } from \"./color\";\n\n/**\n * Possible arguments for a Vec2.\n *\n * @group Math\n */\nexport type Vec2Args =\n    | [number, number]\n    | [number]\n    | [Vec2]\n    | [number | Vec2]\n    | [];\n\nexport function deg2rad(deg: number): number {\n    return deg * Math.PI / 180;\n}\n\nexport function rad2deg(rad: number): number {\n    return rad * 180 / Math.PI;\n}\n\nexport function clamp(\n    val: number,\n    min: number,\n    max: number,\n): number {\n    if (min > max) {\n        return clamp(val, max, min);\n    }\n    return Math.min(Math.max(val, min), max);\n}\n\nexport function lerp<V extends LerpValue>(\n    a: V,\n    b: V,\n    t: number,\n): V {\n    if (typeof a === \"number\" && typeof b === \"number\") {\n        return a + (b - a) * t as V;\n    }\n    else if (a instanceof Vec2 && b instanceof Vec2) {\n        return a.lerp(b, t) as V;\n    }\n    else if (a instanceof Color && b instanceof Color) {\n        return a.lerp(b, t) as V;\n    }\n    throw new Error(\n        `Bad value for lerp(): ${a}, ${b}. Only number, Vec2 and Color is supported.`,\n    );\n}\n\nexport function map(\n    v: number,\n    l1: number,\n    h1: number,\n    l2: number,\n    h2: number,\n): number {\n    return l2 + (v - l1) / (h1 - l1) * (h2 - l2);\n}\n\nexport function mapc(\n    v: number,\n    l1: number,\n    h1: number,\n    l2: number,\n    h2: number,\n): number {\n    return clamp(map(v, l1, h1, l2, h2), l2, h2);\n}\n\nexport function step(edge: number, x: number) {\n    return x < edge ? 0 : 1;\n}\n\nexport function smoothstep(edge0: number, edge1: number, x: number) {\n    x = clamp((x - edge0) / (edge1 - edge0), 0, 1);\n    return x * x * (3.0 - 2.0 * x);\n}\n\n/**\n * A 2D vector.\n *\n * @group Math\n */\nexport class Vec2 {\n    /** The x coordinate */\n    x: number = 0;\n    /** The y coordinate */\n    y: number = 0;\n\n    constructor(x: number = 0, y: number = x) {\n        this.x = x;\n        this.y = y;\n    }\n\n    /** Create a new Vec2 from an angle in degrees */\n    static fromAngle(deg: number) {\n        const angle = deg2rad(deg);\n        return new Vec2(Math.cos(angle), Math.sin(angle));\n    }\n\n    /** Create a new Vec2 from an array */\n    static fromArray(arr: Array<number>) {\n        return new Vec2(arr[0], arr[1]);\n    }\n\n    /** An empty vector. (0, 0) */\n    static ZERO = new Vec2(0, 0);\n    /** A vector with both components of 1. (1, 1) */\n    static ONE = new Vec2(1, 1);\n    /** A vector signaling to the left. (-1, 0) */\n    static LEFT = new Vec2(-1, 0);\n    /** A vector signaling to the right. (1, 0) */\n    static RIGHT = new Vec2(1, 0);\n    /** A vector signaling up. (0, -1) */\n    static UP = new Vec2(0, -1);\n    /** A vector signaling down. (0, 1) */\n    static DOWN = new Vec2(0, 1);\n\n    /** Clone the vector */\n    clone(): Vec2 {\n        return new Vec2(this.x, this.y);\n    }\n\n    /** Returns the addition with another vector. */\n    add(...args: Vec2Args): Vec2 {\n        const p2 = vec2(...args);\n        return new Vec2(this.x + p2.x, this.y + p2.y);\n    }\n\n    /** Returns the subtraction with another vector. */\n    sub(...args: Vec2Args): Vec2 {\n        const p2 = vec2(...args);\n        return new Vec2(this.x - p2.x, this.y - p2.y);\n    }\n\n    /** Scale by another vector. or a single number */\n    scale(...args: Vec2Args): Vec2 {\n        const s = vec2(...args);\n        return new Vec2(this.x * s.x, this.y * s.y);\n    }\n\n    /** Get distance between another vector */\n    dist(...args: Vec2Args): number {\n        const p2 = vec2(...args);\n        return this.sub(p2).len();\n    }\n\n    /** Get squared distance between another vector */\n    sdist(...args: Vec2Args): number {\n        const p2 = vec2(...args);\n        return this.sub(p2).slen();\n    }\n\n    /**\n     * Calculates the squared distance between the vectors\n     * @param v The vector\n     * @param other The other vector\n     * @returns The distance between the vectors\n     */\n    static sdist(v: Vec2, other: Vec2): number {\n        const x = v.x - other.x;\n        const y = v.y - other.y;\n        return x * x + y * y;\n    }\n\n    /**\n     * Get length of the vector\n     *\n     * @since v3000.0\n     */\n    len(): number {\n        return Math.sqrt(this.dot(this));\n    }\n\n    /**\n     * Get squared length of the vector\n     *\n     * @since v3000.0\n     */\n    slen(): number {\n        return this.dot(this);\n    }\n\n    /**\n     * Get the unit vector (length of 1).\n     */\n    unit(): Vec2 {\n        const len = this.len();\n        return len === 0 ? new Vec2(0) : this.scale(1 / len);\n    }\n\n    /**\n     * Get the perpendicular vector.\n     */\n    normal(): Vec2 {\n        return new Vec2(this.y, -this.x);\n    }\n\n    /**\n     * Get the reflection of a vector with a normal.\n     *\n     * @since v3000.0\n     */\n    reflect(normal: Vec2) {\n        return this.sub(normal.scale(2 * this.dot(normal)));\n    }\n\n    /**\n     * Get the projection of a vector onto another vector.\n     *\n     * @since v3000.0\n     */\n    project(on: Vec2) {\n        return on.scale(on.dot(this) / on.len());\n    }\n\n    /**\n     * Get the rejection of a vector onto another vector.\n     *\n     * @since v3000.0\n     */\n    reject(on: Vec2) {\n        return this.sub(this.project(on));\n    }\n\n    /**\n     * Get the dot product with another vector.\n     */\n    dot(p2: Vec2): number {\n        return this.x * p2.x + this.y * p2.y;\n    }\n\n    /**\n     * Get the dot product between 2 vectors.\n     *\n     * @since v3000.0\n     */\n    static dot(v: Vec2, other: Vec2): number {\n        return v.x * v.x + v.y * v.y;\n    }\n\n    /**\n     * Get the cross product with another vector.\n     *\n     * @since v3000.0\n     */\n    cross(p2: Vec2): number {\n        return this.x * p2.y - this.y * p2.x;\n    }\n\n    /**\n     * Get the cross product between 2 vectors.\n     *\n     * @since v3000.0\n     */\n    static cross(v: Vec2, other: Vec2): number {\n        return v.x * other.y - v.y * other.x;\n    }\n\n    /**\n     * Get the angle of the vector in degrees.\n     */\n    angle(...args: Vec2Args): number {\n        const p2 = vec2(...args);\n        return rad2deg(Math.atan2(this.y - p2.y, this.x - p2.x));\n    }\n\n    /**\n     * Get the angle between this vector and another vector.\n     *\n     * @since v3000.0\n     */\n    angleBetween(...args: Vec2Args): number {\n        const p2 = vec2(...args);\n        return rad2deg(Math.atan2(this.cross(p2), this.dot(p2)));\n    }\n\n    /**\n     * Linear interpolate to a destination vector (for positions).\n     */\n    lerp(dest: Vec2, t: number): Vec2 {\n        return new Vec2(lerp(this.x, dest.x, t), lerp(this.y, dest.y, t));\n    }\n\n    /**\n     * Spherical linear interpolate to a destination vector (for rotations).\n     *\n     * @since v3000.0\n     */\n    slerp(dest: Vec2, t: number): Vec2 {\n        const cos = this.dot(dest);\n        const sin = this.cross(dest);\n        const angle = Math.atan2(sin, cos);\n        return this\n            .scale(Math.sin((1 - t) * angle))\n            .add(dest.scale(Math.sin(t * angle)))\n            .scale(1 / sin);\n    }\n\n    /**\n     * If the vector (x, y) is zero.\n     *\n     * @since v3000.0\n     */\n    isZero(): boolean {\n        return this.x === 0 && this.y === 0;\n    }\n\n    /**\n     * To n precision floating point.\n     */\n    toFixed(n: number): Vec2 {\n        return new Vec2(Number(this.x.toFixed(n)), Number(this.y.toFixed(n)));\n    }\n\n    /**\n     * Multiply by a Mat4.\n     *\n     * @since v3000.0\n     */\n    transform(m: Mat4): Vec2 {\n        return m.multVec2(this);\n    }\n\n    /**\n     * See if one vector is equal to another.\n     *\n     * @since v3000.0\n     */\n    eq(other: Vec2): boolean {\n        return this.x === other.x && this.y === other.y;\n    }\n\n    /** Converts the vector to a {@link Rect `Rect()`} with the vector as the origin.\n     * @since v3000.0.\n     */\n    bbox(): Rect {\n        return new Rect(this, 0, 0);\n    }\n\n    /** Converts the vector to a readable string. */\n    toString(): string {\n        return `vec2(${this.x.toFixed(2)}, ${this.y.toFixed(2)})`;\n    }\n\n    /** Converts the vector to an array.\n     * @since v3001.0\n     */\n    toArray(): Array<number> {\n        return [this.x, this.y];\n    }\n}\n\nexport function vec2(...args: Vec2Args): Vec2 {\n    if (args.length === 1) {\n        if (args[0] instanceof Vec2) {\n            return new Vec2(args[0].x, args[0].y);\n        }\n        else if (Array.isArray(args[0]) && args[0].length === 2) {\n            return new Vec2(...args[0]);\n        }\n    }\n    // @ts-ignore\n    return new Vec2(...args);\n}\n\n/**\n * @group Math\n */\nexport class Quad {\n    x: number = 0;\n    y: number = 0;\n    w: number = 1;\n    h: number = 1;\n    constructor(x: number, y: number, w: number, h: number) {\n        this.x = x;\n        this.y = y;\n        this.w = w;\n        this.h = h;\n    }\n    scale(other: Quad): Quad {\n        return new Quad(\n            this.x + this.w * other.x,\n            this.y + this.h * other.y,\n            this.w * other.w,\n            this.h * other.h,\n        );\n    }\n    pos() {\n        return new Vec2(this.x, this.y);\n    }\n    clone(): Quad {\n        return new Quad(this.x, this.y, this.w, this.h);\n    }\n    eq(other: Quad): boolean {\n        return this.x === other.x\n            && this.y === other.y\n            && this.w === other.w\n            && this.h === other.h;\n    }\n    toString(): string {\n        return `quad(${this.x}, ${this.y}, ${this.w}, ${this.h})`;\n    }\n}\n\nexport function quad(x: number, y: number, w: number, h: number): Quad {\n    return new Quad(x, y, w, h);\n}\n\n// Internal class\nclass Mat2 {\n    // 2x2 matrix\n    a: number;\n    b: number;\n    c: number;\n    d: number;\n\n    constructor(a: number, b: number, c: number, d: number) {\n        this.a = a;\n        this.b = b;\n        this.c = c;\n        this.d = d;\n    }\n\n    mul(other: Mat2) {\n        return new Mat2(\n            this.a * other.a + this.b * other.c,\n            this.a * other.b + this.b * other.d,\n            this.c * other.a + this.d * other.c,\n            this.c * other.b + this.d * other.d,\n        );\n    }\n\n    transform(point: Vec2): Vec2 {\n        return vec2(\n            this.a * point.x + this.b * point.y,\n            this.c * point.x + this.d * point.y,\n        );\n    }\n\n    get inverse() {\n        const det = this.det;\n        return new Mat2(\n            this.d / det,\n            -this.b / det,\n            -this.c / det,\n            this.a / det,\n        );\n    }\n\n    get transpose() {\n        return new Mat2(\n            this.a,\n            this.c,\n            this.b,\n            this.d,\n        );\n    }\n\n    get eigenvalues() {\n        const m = this.trace / 2;\n        const d = this.det;\n        const e1 = m + Math.sqrt(m * m - d);\n        const e2 = m - Math.sqrt(m * m - d);\n        return [e1, e2];\n    }\n\n    eigenvectors(e1: number, e2: number) {\n        if (this.c != 0) {\n            return [[e1 - this.d, this.c], [e2 - this.d, this.c]];\n        }\n        else if (this.b != 0) {\n            return [[this.b, e1 - this.a], [this.b, e2 - this.a]];\n        }\n        else {\n            if (Math.abs(this.transform(vec2(1, 0)).x - e1) < Number.EPSILON) {\n                return [[1, 0], [0, 1]];\n            }\n            else {\n                return [[0, 1], [1, 0]];\n            }\n        }\n    }\n\n    get det() {\n        return this.a * this.d - this.b * this.c;\n    }\n\n    get trace() {\n        return this.a + this.d;\n    }\n\n    static rotation(radians: number) {\n        const c = Math.cos(radians);\n        const s = Math.sin(radians);\n        return new Mat2(\n            c,\n            s,\n            -s,\n            c,\n        );\n    }\n\n    static scale(x: number, y: number) {\n        return new Mat2(x, 0, 0, y);\n    }\n}\n\n// Internal class\nclass Mat23 {\n    // 2x3 matrix, since the last column is always (0, 0, 1)\n    a: number;\n    b: number; // 0\n    c: number;\n    d: number; // 0\n    e: number;\n    f: number; // 1\n    constructor(\n        a: number = 1,\n        b: number = 0,\n        c: number = 0,\n        d: number = 1,\n        e: number = 0,\n        f: number = 0,\n    ) {\n        this.a = a;\n        this.b = b;\n        this.c = c;\n        this.d = d;\n        this.e = e;\n        this.f = f;\n    }\n    static fromMat2(m: Mat2) {\n        return new Mat23(\n            m.a,\n            m.b,\n            m.c,\n            m.d,\n            0,\n            0,\n        );\n    }\n    toMat2() {\n        return new Mat2(\n            this.a,\n            this.b,\n            this.c,\n            this.d,\n        );\n    }\n    static fromTranslation(t: Vec2) {\n        return new Mat23(\n            1,\n            0,\n            0,\n            1,\n            t.x,\n            t.y,\n        );\n    }\n    static fromRotation(radians: number) {\n        const c = Math.cos(radians);\n        const s = Math.sin(radians);\n        return new Mat23(\n            c,\n            s,\n            -s,\n            c,\n            0,\n            0,\n        );\n    }\n    static fromScale(s: Vec2): Mat23 {\n        return new Mat23(\n            s.x,\n            0,\n            0,\n            s.y,\n            0,\n            0,\n        );\n    }\n    mul(other: Mat23): Mat23 {\n        return new Mat23(\n            other.a * this.a + other.b * this.c,\n            other.a * this.b + other.b * this.d,\n            other.c * this.a + other.d * this.c,\n            other.c * this.b + other.d * this.d,\n            other.e * this.a + other.f * this.c + this.e,\n            other.e * this.b + other.f * this.d + this.f,\n        );\n    }\n    translate(t: Vec2): Mat23 {\n        this.e += t.x * this.a + t.y * this.c;\n        this.f += t.y * this.b + t.x * this.d;\n        return this;\n    }\n    rotate(radians: number): Mat23 {\n        const c = Math.cos(radians);\n        const s = Math.sin(radians);\n        const oldA = this.a;\n        const oldB = this.b;\n        this.a = c * this.a + s * this.c;\n        this.b = c * this.b + s * this.d;\n        this.c = c * this.c - s * oldA;\n        this.d = c * this.d - s * oldB;\n        return this;\n    }\n    scale(s: Vec2): Mat23 {\n        this.a *= s.x;\n        this.b *= s.x;\n        this.c *= s.y;\n        this.d *= s.y;\n        return this;\n    }\n    transform(p: Vec2) {\n        return vec2(\n            this.a * p.x + this.c * p.y + this.e,\n            this.b * p.x + this.d * p.y + this.f,\n        );\n    }\n\n    get det() {\n        return this.a * this.d - this.b * this.c;\n    }\n\n    get inverse() {\n        const det = this.det;\n        return new Mat23(\n            this.d / det,\n            -this.b / det,\n            -this.c / det,\n            this.a / det,\n            (this.c * this.f - this.d * this.e) / det,\n            (this.b * this.e - this.a * this.f) / det,\n        );\n    }\n}\n\n// Internal class\nclass Mat3 {\n    // m11 m12 m13\n    // m21 m22 m23\n    // m31 m32 m33\n    m11: number;\n    m12: number;\n    m13: number;\n    m21: number;\n    m22: number;\n    m23: number;\n    m31: number;\n    m32: number;\n    m33: number;\n\n    constructor(\n        m11: number,\n        m12: number,\n        m13: number,\n        m21: number,\n        m22: number,\n        m23: number,\n        m31: number,\n        m32: number,\n        m33: number,\n    ) {\n        this.m11 = m11;\n        this.m12 = m12;\n        this.m13 = m13;\n        this.m21 = m21;\n        this.m22 = m22;\n        this.m23 = m23;\n        this.m31 = m31;\n        this.m32 = m32;\n        this.m33 = m33;\n    }\n\n    static fromMat2(m: Mat2) {\n        return new Mat3(\n            m.a,\n            m.b,\n            0,\n            m.c,\n            m.d,\n            0,\n            0,\n            0,\n            1,\n        );\n    }\n\n    toMat2() {\n        return new Mat2(\n            this.m11,\n            this.m12,\n            this.m21,\n            this.m22,\n        );\n    }\n\n    mul(other: Mat3): Mat3 {\n        return new Mat3(\n            this.m11 * other.m11 + this.m12 * other.m21 + this.m13 * other.m31,\n            this.m11 * other.m12 + this.m12 * other.m22 + this.m13 * other.m32,\n            this.m11 * other.m13 + this.m12 * other.m23 + this.m13 * other.m33,\n            this.m21 * other.m11 + this.m22 * other.m21 + this.m23 * other.m31,\n            this.m21 * other.m12 + this.m22 * other.m22 + this.m23 * other.m32,\n            this.m21 * other.m13 + this.m22 * other.m23 + this.m23 * other.m33,\n            this.m31 * other.m11 + this.m32 * other.m21 + this.m33 * other.m31,\n            this.m31 * other.m12 + this.m32 * other.m22 + this.m33 * other.m32,\n            this.m31 * other.m13 + this.m32 * other.m23 + this.m33 * other.m33,\n        );\n    }\n\n    get det(): number {\n        return this.m11 * this.m22 * this.m33 + this.m12 * this.m23 * this.m31\n            + this.m13 * this.m21 * this.m32 - this.m13 * this.m22 * this.m31\n            - this.m12 * this.m21 * this.m33 - this.m11 * this.m23 * this.m32;\n    }\n\n    rotate(radians: number) {\n        const c = Math.cos(radians);\n        const s = Math.sin(radians);\n        const oldA = this.m11;\n        const oldB = this.m12;\n        this.m11 = c * this.m11 + s * this.m21;\n        this.m12 = c * this.m12 + s * this.m22;\n        this.m21 = c * this.m21 - s * oldA;\n        this.m22 = c * this.m22 - s * oldB;\n        return this;\n    }\n\n    scale(x: number, y: number) {\n        this.m11 *= x;\n        this.m12 *= x;\n        this.m21 *= y;\n        this.m22 *= y;\n        return this;\n    }\n\n    get inverse(): Mat3 {\n        const det = this.det;\n        return new Mat3(\n            (this.m22 * this.m33 - this.m23 * this.m32) / det,\n            (this.m13 * this.m32 - this.m12 * this.m33) / det,\n            (this.m12 * this.m23 - this.m13 * this.m22) / det,\n            (this.m23 * this.m31 - this.m21 * this.m33) / det,\n            (this.m11 * this.m33 - this.m13 * this.m31) / det,\n            (this.m13 * this.m21 - this.m11 * this.m23) / det,\n            (this.m21 * this.m32 - this.m22 * this.m31) / det,\n            (this.m12 * this.m31 - this.m11 * this.m32) / det,\n            (this.m11 * this.m22 - this.m12 * this.m21) / det,\n        );\n    }\n\n    get transpose(): Mat3 {\n        return new Mat3(\n            this.m11,\n            this.m21,\n            this.m31,\n            this.m12,\n            this.m22,\n            this.m32,\n            this.m13,\n            this.m23,\n            this.m33,\n        );\n    }\n}\n\n/**\n * @group Math\n */\nexport class Mat4 {\n    m: number[] = [\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n    ];\n\n    constructor(m?: number[]) {\n        if (m) {\n            this.m = m;\n        }\n    }\n\n    static translate(p: Vec2): Mat4 {\n        return new Mat4([\n            1,\n            0,\n            0,\n            0,\n            0,\n            1,\n            0,\n            0,\n            0,\n            0,\n            1,\n            0,\n            p.x,\n            p.y,\n            0,\n            1,\n        ]);\n    }\n\n    static scale(s: Vec2): Mat4 {\n        return new Mat4([\n            s.x,\n            0,\n            0,\n            0,\n            0,\n            s.y,\n            0,\n            0,\n            0,\n            0,\n            1,\n            0,\n            0,\n            0,\n            0,\n            1,\n        ]);\n    }\n\n    static rotateX(a: number): Mat4 {\n        a = deg2rad(-a);\n        const c = Math.cos(a);\n        const s = Math.sin(a);\n        return new Mat4([\n            1,\n            0,\n            0,\n            0,\n            0,\n            c,\n            -s,\n            0,\n            0,\n            s,\n            c,\n            0,\n            0,\n            0,\n            0,\n            1,\n        ]);\n    }\n\n    static rotateY(a: number): Mat4 {\n        a = deg2rad(-a);\n        const c = Math.cos(a);\n        const s = Math.sin(a);\n        return new Mat4([\n            c,\n            0,\n            s,\n            0,\n            0,\n            1,\n            0,\n            0,\n            -s,\n            0,\n            c,\n            0,\n            0,\n            0,\n            0,\n            1,\n        ]);\n    }\n\n    static rotateZ(a: number): Mat4 {\n        a = deg2rad(-a);\n        const c = Math.cos(a);\n        const s = Math.sin(a);\n        return new Mat4([\n            c,\n            -s,\n            0,\n            0,\n            s,\n            c,\n            0,\n            0,\n            0,\n            0,\n            1,\n            0,\n            0,\n            0,\n            0,\n            1,\n        ]);\n    }\n\n    translate(p: Vec2) {\n        this.m[12] += this.m[0] * p.x + this.m[4] * p.y;\n        this.m[13] += this.m[1] * p.x + this.m[5] * p.y;\n        this.m[14] += this.m[2] * p.x + this.m[6] * p.y;\n        this.m[15] += this.m[3] * p.x + this.m[7] * p.y;\n        return this;\n    }\n\n    scale(p: Vec2) {\n        this.m[0] *= p.x;\n        this.m[4] *= p.y;\n        this.m[1] *= p.x;\n        this.m[5] *= p.y;\n        this.m[2] *= p.x;\n        this.m[6] *= p.y;\n        this.m[3] *= p.x;\n        this.m[7] *= p.y;\n        return this;\n    }\n\n    rotate(a: number): Mat4 {\n        a = deg2rad(-a);\n        const c = Math.cos(a);\n        const s = Math.sin(a);\n        const m0 = this.m[0];\n        const m1 = this.m[1];\n        const m4 = this.m[4];\n        const m5 = this.m[5];\n        this.m[0] = m0 * c + m1 * s;\n        this.m[1] = -m0 * s + m1 * c;\n        this.m[4] = m4 * c + m5 * s;\n        this.m[5] = -m4 * s + m5 * c;\n        return this;\n    }\n\n    // TODO: in-place variant\n    mult(other: Mat4): Mat4 {\n        const out = [];\n        for (let i = 0; i < 4; i++) {\n            for (let j = 0; j < 4; j++) {\n                out[i * 4 + j] = this.m[0 * 4 + j] * other.m[i * 4 + 0]\n                    + this.m[1 * 4 + j] * other.m[i * 4 + 1]\n                    + this.m[2 * 4 + j] * other.m[i * 4 + 2]\n                    + this.m[3 * 4 + j] * other.m[i * 4 + 3];\n            }\n        }\n        return new Mat4(out);\n    }\n\n    multVec2(p: Vec2): Vec2 {\n        return new Vec2(\n            p.x * this.m[0] + p.y * this.m[4] + this.m[12],\n            p.x * this.m[1] + p.y * this.m[5] + this.m[13],\n        );\n    }\n\n    getTranslation() {\n        return new Vec2(this.m[12], this.m[13]);\n    }\n\n    getScale() {\n        if (this.m[0] != 0 || this.m[1] != 0) {\n            const det = this.m[0] * this.m[5] - this.m[1] * this.m[4];\n            const r = Math.sqrt(this.m[0] * this.m[0] + this.m[1] * this.m[1]);\n            return new Vec2(r, det / r);\n        }\n        else if (this.m[4] != 0 || this.m[5] != 0) {\n            const det = this.m[0] * this.m[5] - this.m[1] * this.m[4];\n            const s = Math.sqrt(this.m[4] * this.m[4] + this.m[5] * this.m[5]);\n            return new Vec2(det / s, s);\n        }\n        else {\n            return new Vec2(0, 0);\n        }\n    }\n\n    getRotation() {\n        if (this.m[0] != 0 || this.m[1] != 0) {\n            const r = Math.sqrt(this.m[0] * this.m[0] + this.m[1] * this.m[1]);\n            return rad2deg(\n                this.m[1] > 0\n                    ? Math.acos(this.m[0] / r)\n                    : -Math.acos(this.m[0] / r),\n            );\n        }\n        else if (this.m[4] != 0 || this.m[5] != 0) {\n            const s = Math.sqrt(this.m[4] * this.m[4] + this.m[5] * this.m[5]);\n            return rad2deg(\n                Math.PI / 2 - (this.m[5] > 0\n                    ? Math.acos(-this.m[4] / s)\n                    : -Math.acos(this.m[4] / s)),\n            );\n        }\n        else {\n            return 0;\n        }\n    }\n\n    getSkew() {\n        if (this.m[0] != 0 || this.m[1] != 0) {\n            const r = Math.sqrt(this.m[0] * this.m[0] + this.m[1] * this.m[1]);\n            return new Vec2(\n                Math.atan(this.m[0] * this.m[4] + this.m[1] * this.m[5])\n                    / (r * r),\n                0,\n            );\n        }\n        else if (this.m[4] != 0 || this.m[5] != 0) {\n            const s = Math.sqrt(this.m[4] * this.m[4] + this.m[5] * this.m[5]);\n            return new Vec2(\n                0,\n                Math.atan(this.m[0] * this.m[4] + this.m[1] * this.m[5])\n                    / (s * s),\n            );\n        }\n        else {\n            return new Vec2(0, 0);\n        }\n    }\n\n    invert(): Mat4 {\n        const out = [];\n\n        const f00 = this.m[10] * this.m[15] - this.m[14] * this.m[11];\n        const f01 = this.m[9] * this.m[15] - this.m[13] * this.m[11];\n        const f02 = this.m[9] * this.m[14] - this.m[13] * this.m[10];\n        const f03 = this.m[8] * this.m[15] - this.m[12] * this.m[11];\n        const f04 = this.m[8] * this.m[14] - this.m[12] * this.m[10];\n        const f05 = this.m[8] * this.m[13] - this.m[12] * this.m[9];\n        const f06 = this.m[6] * this.m[15] - this.m[14] * this.m[7];\n        const f07 = this.m[5] * this.m[15] - this.m[13] * this.m[7];\n        const f08 = this.m[5] * this.m[14] - this.m[13] * this.m[6];\n        const f09 = this.m[4] * this.m[15] - this.m[12] * this.m[7];\n        const f10 = this.m[4] * this.m[14] - this.m[12] * this.m[6];\n        const f11 = this.m[5] * this.m[15] - this.m[13] * this.m[7];\n        const f12 = this.m[4] * this.m[13] - this.m[12] * this.m[5];\n        const f13 = this.m[6] * this.m[11] - this.m[10] * this.m[7];\n        const f14 = this.m[5] * this.m[11] - this.m[9] * this.m[7];\n        const f15 = this.m[5] * this.m[10] - this.m[9] * this.m[6];\n        const f16 = this.m[4] * this.m[11] - this.m[8] * this.m[7];\n        const f17 = this.m[4] * this.m[10] - this.m[8] * this.m[6];\n        const f18 = this.m[4] * this.m[9] - this.m[8] * this.m[5];\n\n        out[0] = this.m[5] * f00 - this.m[6] * f01 + this.m[7] * f02;\n        out[4] = -(this.m[4] * f00 - this.m[6] * f03 + this.m[7] * f04);\n        out[8] = this.m[4] * f01 - this.m[5] * f03 + this.m[7] * f05;\n        out[12] = -(this.m[4] * f02 - this.m[5] * f04 + this.m[6] * f05);\n\n        out[1] = -(this.m[1] * f00 - this.m[2] * f01 + this.m[3] * f02);\n        out[5] = this.m[0] * f00 - this.m[2] * f03 + this.m[3] * f04;\n        out[9] = -(this.m[0] * f01 - this.m[1] * f03 + this.m[3] * f05);\n        out[13] = this.m[0] * f02 - this.m[1] * f04 + this.m[2] * f05;\n\n        out[2] = this.m[1] * f06 - this.m[2] * f07 + this.m[3] * f08;\n        out[6] = -(this.m[0] * f06 - this.m[2] * f09 + this.m[3] * f10);\n        out[10] = this.m[0] * f11 - this.m[1] * f09 + this.m[3] * f12;\n        out[14] = -(this.m[0] * f08 - this.m[1] * f10 + this.m[2] * f12);\n\n        out[3] = -(this.m[1] * f13 - this.m[2] * f14 + this.m[3] * f15);\n        out[7] = this.m[0] * f13 - this.m[2] * f16 + this.m[3] * f17;\n        out[11] = -(this.m[0] * f14 - this.m[1] * f16 + this.m[3] * f18);\n        out[15] = this.m[0] * f15 - this.m[1] * f17 + this.m[2] * f18;\n\n        const det = this.m[0] * out[0]\n            + this.m[1] * out[4]\n            + this.m[2] * out[8]\n            + this.m[3] * out[12];\n\n        for (let i = 0; i < 4; i++) {\n            for (let j = 0; j < 4; j++) {\n                out[i * 4 + j] *= 1.0 / det;\n            }\n        }\n\n        return new Mat4(out);\n    }\n\n    clone(): Mat4 {\n        return new Mat4([...this.m]);\n    }\n\n    toString(): string {\n        return this.m.toString();\n    }\n}\n\nexport function wave(\n    lo: number,\n    hi: number,\n    t: number,\n    f = (t: number) => -Math.cos(t),\n): number {\n    return lo + (f(t) + 1) / 2 * (hi - lo);\n}\n\n// basic ANSI C LCG\nconst A = 1103515245;\nconst C = 12345;\nconst M = 2147483648;\n\n/**\n * @group Math\n */\nexport class RNG {\n    seed: number;\n    constructor(seed: number) {\n        this.seed = seed;\n    }\n    gen(): number {\n        this.seed = (A * this.seed + C) % M;\n        return this.seed / M;\n    }\n    genNumber(a: number, b: number): number {\n        return a + this.gen() * (b - a);\n    }\n    genVec2(a: Vec2, b: Vec2): Vec2 {\n        return new Vec2(\n            this.genNumber(a.x, b.x),\n            this.genNumber(a.y, b.y),\n        );\n    }\n    genColor(a: Color, b: Color): Color {\n        return new Color(\n            this.genNumber(a.r, b.r),\n            this.genNumber(a.g, b.g),\n            this.genNumber(a.b, b.b),\n        );\n    }\n    genAny<T = RNGValue>(...args: [] | [T] | [T, T]): T {\n        if (args.length === 0) {\n            return this.gen() as T;\n        }\n        else if (args.length === 1) {\n            if (typeof args[0] === \"number\") {\n                return this.genNumber(0, args[0]) as T;\n            }\n            else if (args[0] instanceof Vec2) {\n                return this.genVec2(vec2(0, 0), args[0]) as T;\n            }\n            else if (args[0] instanceof Color) {\n                return this.genColor(rgb(0, 0, 0), args[0]) as T;\n            }\n        }\n        else if (args.length === 2) {\n            if (typeof args[0] === \"number\" && typeof args[1] === \"number\") {\n                return this.genNumber(args[0], args[1]) as T;\n            }\n            else if (args[0] instanceof Vec2 && args[1] instanceof Vec2) {\n                return this.genVec2(args[0], args[1]) as T;\n            }\n            else if (args[0] instanceof Color && args[1] instanceof Color) {\n                return this.genColor(args[0], args[1]) as T;\n            }\n        }\n\n        throw new Error(\"More than 2 arguments not supported\");\n    }\n}\n\n// TODO: let user pass seed\nconst defRNG = new RNG(Date.now());\n\nexport function randSeed(seed?: number): number {\n    if (seed != null) {\n        defRNG.seed = seed;\n    }\n    return defRNG.seed;\n}\n\nexport function rand<T = number>(...args: [] | [T] | [T, T]) {\n    return defRNG.genAny(...args);\n}\n\nexport function randi(...args: [] | [number] | [number, number]) {\n    return Math.floor(rand(...(args.length > 0 ? args : [2])));\n}\n\nexport function chance(p: number): boolean {\n    return rand() <= p;\n}\n\nexport function shuffle<T>(list: T[]): T[] {\n    for (let i = list.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [list[i], list[j]] = [list[j], list[i]];\n    }\n    return list;\n}\n\nexport function chooseMultiple<T>(list: T[], count: number): T[] {\n    return list.length <= count\n        ? list.slice()\n        : shuffle(list.slice()).slice(0, count);\n}\n\nexport function choose<T>(list: T[]): T {\n    return list[randi(list.length)];\n}\n\n// TODO: better name\nexport function testRectRect2(r1: Rect, r2: Rect): boolean {\n    return r1.pos.x + r1.width >= r2.pos.x\n        && r1.pos.x <= r2.pos.x + r2.width\n        && r1.pos.y + r1.height >= r2.pos.y\n        && r1.pos.y <= r2.pos.y + r2.height;\n}\n\nexport function testRectRect(r1: Rect, r2: Rect): boolean {\n    return r1.pos.x + r1.width > r2.pos.x\n        && r1.pos.x < r2.pos.x + r2.width\n        && r1.pos.y + r1.height > r2.pos.y\n        && r1.pos.y < r2.pos.y + r2.height;\n}\n\n// TODO: better name\nexport function testLineLineT(l1: Line, l2: Line): number | null {\n    if (\n        (l1.p1.x === l1.p2.x && l1.p1.y === l1.p2.y)\n        || (l2.p1.x === l2.p2.x && l2.p1.y === l2.p2.y)\n    ) {\n        return null;\n    }\n\n    const denom = (l2.p2.y - l2.p1.y) * (l1.p2.x - l1.p1.x)\n        - (l2.p2.x - l2.p1.x) * (l1.p2.y - l1.p1.y);\n\n    // parallel\n    if (denom === 0) {\n        return null;\n    }\n\n    const ua = ((l2.p2.x - l2.p1.x) * (l1.p1.y - l2.p1.y)\n        - (l2.p2.y - l2.p1.y) * (l1.p1.x - l2.p1.x)) / denom;\n    const ub = ((l1.p2.x - l1.p1.x) * (l1.p1.y - l2.p1.y)\n        - (l1.p2.y - l1.p1.y) * (l1.p1.x - l2.p1.x)) / denom;\n\n    // is the intersection on the segments\n    if (ua < 0 || ua > 1 || ub < 0 || ub > 1) {\n        return null;\n    }\n\n    return ua;\n}\n\nexport function testLineLine(l1: Line, l2: Line): Vec2 | null {\n    const t = testLineLineT(l1, l2);\n    if (!t) return null;\n    return vec2(\n        l1.p1.x + t * (l1.p2.x - l1.p1.x),\n        l1.p1.y + t * (l1.p2.y - l1.p1.y),\n    );\n}\n\nexport function testRectLine(r: Rect, l: Line): boolean {\n    /*if (testRectPoint(r, l.p1) || testRectPoint(r, l.p2)) {\n        return true\n    }\n    const pts = r.points()\n    return !!testLineLine(l, new Line(pts[0], pts[1]))\n        || !!testLineLine(l, new Line(pts[1], pts[2]))\n        || !!testLineLine(l, new Line(pts[2], pts[3]))\n        || !!testLineLine(l, new Line(pts[3], pts[0]))*/\n    const dir = l.p2.sub(l.p1);\n    let tmin = Number.NEGATIVE_INFINITY, tmax = Number.POSITIVE_INFINITY;\n\n    if (dir.x != 0.0) {\n        const tx1 = (r.pos.x - l.p1.x) / dir.x;\n        const tx2 = (r.pos.x + r.width - l.p1.x) / dir.x;\n\n        tmin = Math.max(tmin, Math.min(tx1, tx2));\n        tmax = Math.min(tmax, Math.max(tx1, tx2));\n    }\n\n    if (dir.y != 0.0) {\n        const ty1 = (r.pos.y - l.p1.y) / dir.y;\n        const ty2 = (r.pos.y + r.height - l.p1.y) / dir.y;\n\n        tmin = Math.max(tmin, Math.min(ty1, ty2));\n        tmax = Math.min(tmax, Math.max(ty1, ty2));\n    }\n\n    return tmax >= tmin && tmax >= 0 && tmin <= 1;\n}\n\nexport function testRectPoint2(r: Rect, pt: Vec2): boolean {\n    return pt.x >= r.pos.x\n        && pt.x <= r.pos.x + r.width\n        && pt.y >= r.pos.y\n        && pt.y <= r.pos.y + r.height;\n}\n\nexport function testRectPoint(r: Rect, pt: Vec2): boolean {\n    return pt.x > r.pos.x\n        && pt.x < r.pos.x + r.width\n        && pt.y > r.pos.y\n        && pt.y < r.pos.y + r.height;\n}\n\nexport function testRectCircle(r: Rect, c: Circle): boolean {\n    const nx = Math.max(r.pos.x, Math.min(c.center.x, r.pos.x + r.width));\n    const ny = Math.max(r.pos.y, Math.min(c.center.y, r.pos.y + r.height));\n    const nearestPoint = vec2(nx, ny);\n    return nearestPoint.sdist(c.center) <= c.radius * c.radius;\n}\n\nexport function testRectPolygon(r: Rect, p: Polygon): boolean {\n    return testPolygonPolygon(p, new Polygon(r.points()));\n}\n\nexport function testLinePoint(l: Line, pt: Vec2): boolean {\n    const v1 = pt.sub(l.p1);\n    const v2 = l.p2.sub(l.p1);\n\n    // Check if sine is 0, in that case lines are parallel.\n    // If not parallel, the point cannot lie on the line.\n    if (Math.abs(v1.cross(v2)) > Number.EPSILON) {\n        return false;\n    }\n\n    // Scalar projection of v1 on v2\n    const t = v1.dot(v2) / v2.dot(v2);\n    // Since t is percentual distance of pt from line.p1 on the line,\n    // it should be between 0% and 100%\n    return t >= 0 && t <= 1;\n}\n\nexport function testLineCircle(l: Line, circle: Circle): boolean {\n    const v = l.p2.sub(l.p1);\n    const a = v.dot(v);\n    const centerToOrigin = l.p1.sub(circle.center);\n    const b = 2 * v.dot(centerToOrigin);\n    const c = centerToOrigin.dot(centerToOrigin)\n        - circle.radius * circle.radius;\n    // Calculate the discriminant of ax^2 + bx + c\n    const dis = b * b - 4 * a * c;\n\n    // No root\n    if ((a <= Number.EPSILON) || (dis < 0)) {\n        return false;\n    }\n    // One possible root\n    else if (dis == 0) {\n        const t = -b / (2 * a);\n        if (t >= 0 && t <= 1) {\n            return true;\n        }\n    }\n    // Two possible roots\n    else {\n        const t1 = (-b + Math.sqrt(dis)) / (2 * a);\n        const t2 = (-b - Math.sqrt(dis)) / (2 * a);\n        if ((t1 >= 0 && t1 <= 1) || (t2 >= 0 && t2 <= 1)) {\n            return true;\n        }\n    }\n\n    // Check if line is completely within the circle\n    // We only need to check one point, since the line didn't cross the circle\n    return testCirclePoint(circle, l.p1);\n}\n\nexport function testLinePolygon(l: Line, p: Polygon): boolean {\n    // test if line is inside\n    if (testPolygonPoint(p, l.p1) || testPolygonPoint(p, l.p2)) {\n        return true;\n    }\n\n    // test each line\n    for (let i = 0; i < p.pts.length; i++) {\n        const p1 = p.pts[i];\n        const p2 = p.pts[(i + 1) % p.pts.length];\n        if (testLineLine(l, new Line(p1, p2))) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function testCirclePoint(c: Circle, p: Vec2): boolean {\n    return c.center.sdist(p) < c.radius * c.radius;\n}\n\nexport function testCircleCircle(c1: Circle, c2: Circle): boolean {\n    return c1.center.sdist(c2.center)\n        < (c1.radius + c2.radius) * (c1.radius + c2.radius);\n}\n\nexport function testCirclePolygon(c: Circle, p: Polygon): boolean {\n    // For each edge check for intersection\n    let prev = p.pts[p.pts.length - 1];\n    for (const cur of p.pts) {\n        if (testLineCircle(new Line(prev, cur), c)) {\n            return true;\n        }\n        prev = cur;\n    }\n\n    // Check if the polygon is completely within the circle\n    // We only need to check one point, since the polygon didn't cross the circle\n    if (testCirclePoint(c, p.pts[0])) {\n        return true;\n    }\n\n    // Check if the circle is completely within the polygon\n    return testPolygonPoint(p, c.center);\n}\n\nexport function testPolygonPolygon(p1: Polygon, p2: Polygon): boolean {\n    for (let i = 0; i < p1.pts.length; i++) {\n        if (\n            testLinePolygon(\n                new Line(p1.pts[i], p1.pts[(i + 1) % p1.pts.length]),\n                p2,\n            )\n        ) {\n            return true;\n        }\n    }\n    // Check if any of the points of the polygon lie in the other polygon\n    if (\n        p1.pts.some(p => testPolygonPoint(p2, p))\n        || p2.pts.some(p => testPolygonPoint(p1, p))\n    ) {\n        return true;\n    }\n    return false;\n}\n\n// https://wrf.ecse.rpi.edu/Research/Short_Notes/pnpoly.html\nexport function testPolygonPoint(poly: Polygon, pt: Vec2): boolean {\n    let c = false;\n    const p = poly.pts;\n\n    for (let i = 0, j = p.length - 1; i < p.length; j = i++) {\n        if (\n            ((p[i].y > pt.y) != (p[j].y > pt.y))\n            && (pt.x\n                < (p[j].x - p[i].x) * (pt.y - p[i].y) / (p[j].y - p[i].y)\n                    + p[i].x)\n        ) {\n            c = !c;\n        }\n    }\n\n    return c;\n}\n\nexport function testEllipsePoint(ellipse: Ellipse, pt: Vec2): boolean {\n    // Transform the point into the ellipse's unrotated coordinate system at the origin\n    pt = pt.sub(ellipse.center);\n    const angle = deg2rad(ellipse.angle);\n    const c = Math.cos(angle);\n    const s = Math.sin(angle);\n    const vx = pt.x * c + pt.y * s;\n    const vy = -pt.x * s + pt.y * c;\n    return vx * vx / (ellipse.radiusX * ellipse.radiusX)\n            + vy * vy / (ellipse.radiusY * ellipse.radiusY) < 1;\n}\n\nexport function testEllipseCircle(ellipse: Ellipse, circle: Circle): boolean {\n    // This is an approximation, because the parallel curve of an ellipse is an octic algebraic curve, not just a larger ellipse.\n    // Transform the circle's center into the ellipse's unrotated coordinate system at the origin\n    const center = circle.center.sub(ellipse.center);\n    const angle = deg2rad(ellipse.angle);\n    const c = Math.cos(angle);\n    const s = Math.sin(angle);\n    const cx = center.x * c + center.y * s;\n    const cy = -center.x * s + center.y * c;\n    // Test with an approximate Minkowski sum of the ellipse and the circle\n    return testEllipsePoint(\n        new Ellipse(\n            vec2(),\n            ellipse.radiusX + circle.radius,\n            ellipse.radiusY + circle.radius,\n            0,\n        ),\n        vec2(cx, cy),\n    );\n}\n\nexport function testEllipseLine(ellipse: Ellipse, line: Line): boolean {\n    // Transform the line to the coordinate system where the ellipse is a unit circle\n    const T = ellipse.toMat2().inverse;\n    line = new Line(\n        T.transform(line.p1.sub(ellipse.center)),\n        T.transform(line.p2.sub(ellipse.center)),\n    );\n    return testLineCircle(line, new Circle(vec2(), 1));\n}\n\nexport function testEllipseEllipse(\n    ellipse1: Ellipse,\n    ellipse2: Ellipse,\n): boolean {\n    // First check if one of the ellipses isn't secretly a circle\n    if (ellipse1.radiusX === ellipse1.radiusY) {\n        return testEllipseCircle(\n            ellipse2,\n            new Circle(ellipse1.center, ellipse1.radiusX),\n        );\n    }\n    else if (ellipse2.radiusX === ellipse2.radiusY) {\n        return testEllipseCircle(\n            ellipse1,\n            new Circle(ellipse2.center, ellipse2.radiusX),\n        );\n    }\n    // No luck, we need to solve the equation\n    /*\n    Etayo, Fernando, Laureano Gonzalez-Vega, and Natalia del Rio. \"A new approach to characterizing the relative position of two ellipses depending on one parameter.\" Computer aided geometric design 23, no. 4 (2006): 324-350.\n    */\n    const A1 = new Mat3(\n        1 / ellipse1.radiusX ** 2,\n        0,\n        0,\n        0,\n        1 / ellipse1.radiusY ** 2,\n        0,\n        0,\n        0,\n        -1,\n    );\n    const A2 = new Mat3(\n        1 / ellipse2.radiusX ** 2,\n        0,\n        0,\n        0,\n        1 / ellipse2.radiusY ** 2,\n        0,\n        0,\n        0,\n        -1,\n    );\n\n    const x1 = ellipse1.center.x;\n    const y1 = ellipse1.center.y;\n    const x2 = ellipse2.center.x;\n    const y2 = ellipse2.center.y;\n    const theta1 = deg2rad(ellipse1.angle);\n    const theta2 = deg2rad(ellipse2.angle);\n\n    const M1 = new Mat3(\n        Math.cos(theta1),\n        -Math.sin(theta1),\n        x1,\n        Math.sin(theta1),\n        Math.cos(theta1),\n        y1,\n        0,\n        0,\n        1,\n    );\n    const M2 = new Mat3(\n        Math.cos(theta2),\n        -Math.sin(theta2),\n        x2,\n        Math.sin(theta2),\n        Math.cos(theta2),\n        y2,\n        0,\n        0,\n        1,\n    );\n    const M1inv = M1.inverse;\n    const M2inv = M2.inverse;\n\n    const A = M1inv.transpose.mul(A1).mul(M1inv);\n    const B = M2inv.transpose.mul(A2).mul(M2inv);\n\n    const a11 = A.m11;\n    const a12 = A.m12;\n    const a13 = A.m13;\n    const a21 = A.m21;\n    const a22 = A.m22;\n    const a23 = A.m23;\n    const a31 = A.m31;\n    const a32 = A.m32;\n    const a33 = A.m33;\n\n    const b11 = B.m11;\n    const b12 = B.m12;\n    const b13 = B.m13;\n    const b21 = B.m21;\n    const b22 = B.m22;\n    const b23 = B.m23;\n    const b31 = B.m31;\n    const b32 = B.m32;\n    const b33 = B.m33;\n\n    const factor = a11 * a22 * a33 - a11 * a23 * a32 - a12 * a21 * a33\n        + a12 * a23 * a31 + a13 * a21 * a32 - a13 * a22 * a31;\n    const a =\n        (a11 * a22 * b33 - a11 * a23 * b32 - a11 * a32 * b23 + a11 * a33 * b22\n            - a12 * a21 * b33 + a12 * a23 * b31 + a12 * a31 * b23\n            - a12 * a33 * b21 + a13 * a21 * b32 - a13 * a22 * b31\n            - a13 * a31 * b22 + a13 * a32 * b21 + a21 * a32 * b13\n            - a21 * a33 * b12 - a22 * a31 * b13 + a22 * a33 * b11\n            + a23 * a31 * b12 - a23 * a32 * b11) / factor;\n    const b =\n        (a11 * b22 * b33 - a11 * b23 * b32 - a12 * b21 * b33 + a12 * b23 * b31\n            + a13 * b21 * b32 - a13 * b22 * b31 - a21 * b12 * b33\n            + a21 * b13 * b32 + a22 * b11 * b33 - a22 * b13 * b31\n            - a23 * b11 * b32 + a23 * b12 * b31 + a31 * b12 * b23\n            - a31 * b13 * b22 - a32 * b11 * b23 + a32 * b13 * b21\n            + a33 * b11 * b22 - a33 * b12 * b21) / factor;\n    const c =\n        (b11 * b22 * b33 - b11 * b23 * b32 - b12 * b21 * b33 + b12 * b23 * b31\n            + b13 * b21 * b32 - b13 * b22 * b31) / factor;\n\n    if (a >= 0) {\n        const condition1 = -3 * b + a ** 2;\n        const condition2 = 3 * a * c + b * a ** 2 - 4 * b ** 2;\n        const condition3 = -27 * c ** 2 + 18 * c * a * b + a ** 2 * b ** 2\n            - 4 * a ** 3 * c - 4 * b ** 3;\n        if (condition1 > 0 && condition2 < 0 && condition3 > 0) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    else {\n        const condition1 = -3 * b + a ** 2;\n        const condition2 = -27 * c ** 2 + 18 * c * a * b + a ** 2 * b ** 2\n            - 4 * a ** 3 * c - 4 * b ** 3;\n        if (condition1 > 0 && condition2 > 0) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n}\n\nexport function testEllipseRect(ellipse: Ellipse, rect: Rect): boolean {\n    return testEllipsePolygon(ellipse, new Polygon(rect.points()));\n}\n\nexport function testEllipsePolygon(ellipse: Ellipse, poly: Polygon): boolean {\n    // Transform the polygon to the coordinate system where the ellipse is a unit circle\n    const T = ellipse.toMat2().inverse;\n    poly = new Polygon(poly.pts.map(p => T.transform(p.sub(ellipse.center))));\n    return testCirclePolygon(new Circle(vec2(), 1), poly);\n}\n\nexport function testPointPoint(p1: Vec2, p2: Vec2): boolean {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n/**\n * @group Math\n */\nexport type ShapeType = Point | Circle | Line | Rect | Polygon | Ellipse;\n\nexport function testPointShape(point: Point, shape: ShapeType): boolean {\n    if (shape instanceof Vec2) {\n        return testPointPoint(shape as Vec2, point.pt);\n    }\n    else if (shape instanceof Circle) {\n        return testCirclePoint(shape as Circle, point.pt);\n    }\n    else if (shape instanceof Line) {\n        return testLinePoint(shape as Line, point.pt);\n    }\n    else if (shape instanceof Rect) {\n        return testRectPoint(shape as Rect, point.pt);\n    }\n    else if (shape instanceof Polygon) {\n        return testPolygonPoint(shape as Polygon, point.pt);\n    }\n    else if (shape instanceof Ellipse) {\n        return testEllipsePoint(shape as Ellipse, point.pt);\n    }\n    else {\n        return false;\n    }\n}\n\nexport function testLineShape(line: Line, shape: ShapeType | Vec2): boolean {\n    if (shape instanceof Vec2) {\n        return testLinePoint(line, shape as Vec2);\n    }\n    else if (shape instanceof Circle) {\n        return testLineCircle(line, shape as Circle);\n    }\n    else if (shape instanceof Line) {\n        return testLineLine(line, shape as Line) != null;\n    }\n    else if (shape instanceof Rect) {\n        return testRectLine(shape as Rect, line);\n    }\n    else if (shape instanceof Polygon) {\n        return testLinePolygon(line, shape as Polygon);\n    }\n    else if (shape instanceof Ellipse) {\n        return testEllipseLine(shape as Ellipse, line);\n    }\n    else {\n        return false;\n    }\n}\n\nexport function testCircleShape(\n    circle: Circle,\n    shape: ShapeType | Vec2,\n): boolean {\n    if (shape instanceof Vec2) {\n        return testCirclePoint(circle, shape as Vec2);\n    }\n    else if (shape instanceof Circle) {\n        return testCircleCircle(circle, shape as Circle);\n    }\n    else if (shape instanceof Line) {\n        return testLineCircle(shape as Line, circle);\n    }\n    else if (shape instanceof Rect) {\n        return testRectCircle(shape as Rect, circle);\n    }\n    else if (shape instanceof Polygon) {\n        return testCirclePolygon(circle, shape as Polygon);\n    }\n    else if (shape instanceof Ellipse) {\n        return testEllipseCircle(shape as Ellipse, circle);\n    }\n    else {\n        return false;\n    }\n}\n\nexport function testRectShape(rect: Rect, shape: ShapeType | Vec2): boolean {\n    if (shape instanceof Vec2) {\n        return testRectPoint(rect, shape as Vec2);\n    }\n    else if (shape instanceof Circle) {\n        return testRectCircle(rect, shape as Circle);\n    }\n    else if (shape instanceof Line) {\n        return testRectLine(rect, shape as Line);\n    }\n    else if (shape instanceof Rect) {\n        return testRectRect(rect, shape as Rect);\n    }\n    else if (shape instanceof Polygon) {\n        return testRectPolygon(rect, shape as Polygon);\n    }\n    else if (shape instanceof Ellipse) {\n        return testEllipseRect(shape as Ellipse, rect);\n    }\n    else {\n        return false;\n    }\n}\n\nexport function testPolygonShape(\n    polygon: Polygon,\n    shape: ShapeType | Vec2,\n): boolean {\n    if (shape instanceof Vec2) {\n        return testPolygonPoint(polygon, shape as Vec2);\n    }\n    else if (shape instanceof Circle) {\n        return testCirclePolygon(shape as Circle, polygon);\n    }\n    else if (shape instanceof Line) {\n        return testLinePolygon(shape as Line, polygon);\n    }\n    else if (shape instanceof Rect) {\n        return testRectPolygon(shape as Rect, polygon);\n    }\n    else if (shape instanceof Polygon) {\n        return testPolygonPolygon(shape as Polygon, polygon);\n    }\n    else if (shape instanceof Ellipse) {\n        return testEllipsePolygon(shape as Ellipse, polygon);\n    }\n    else {\n        return false;\n    }\n}\n\nexport function testEllipseShape(ellipse: Ellipse, shape: ShapeType): boolean {\n    if (shape instanceof Vec2) {\n        return testEllipsePoint(ellipse, shape as Vec2);\n    }\n    else if (shape instanceof Circle) {\n        return testEllipseCircle(ellipse, shape as Circle);\n    }\n    else if (shape instanceof Line) {\n        return testEllipseLine(ellipse, shape as Line);\n    }\n    else if (shape instanceof Rect) {\n        return testEllipseRect(ellipse, shape as Rect);\n    }\n    else if (shape instanceof Polygon) {\n        return testEllipsePolygon(ellipse, shape as Polygon);\n    }\n    else if (shape instanceof Ellipse) {\n        return testEllipseEllipse(shape as Ellipse, ellipse);\n    }\n    else {\n        return false;\n    }\n}\n\nexport function testShapeShape(shape1: ShapeType, shape2: ShapeType): boolean {\n    if (shape1 instanceof Vec2) {\n        return testPointShape(new Point(shape1), shape2);\n    }\n    else if (shape1 instanceof Circle) {\n        return testCircleShape(shape1 as Circle, shape2);\n    }\n    else if (shape1 instanceof Line) {\n        return testLineShape(shape1 as Line, shape2);\n    }\n    else if (shape1 instanceof Rect) {\n        return testRectShape(shape1 as Rect, shape2);\n    }\n    else if (shape1 instanceof Polygon) {\n        return testPolygonShape(shape1 as Polygon, shape2);\n    }\n    else if (shape1 instanceof Ellipse) {\n        return testEllipseShape(shape1 as Ellipse, shape2);\n    }\n    else {\n        return false;\n    }\n}\n\n/**\n * @group Math\n */\nexport type RaycastHit = {\n    fraction: number;\n    normal: Vec2;\n    point: Vec2;\n    gridPos?: Vec2;\n    object?: GameObj;\n};\n\n/**\n * @group Math\n */\nexport type RaycastResult = RaycastHit | null;\n\nfunction raycastLine(origin: Vec2, direction: Vec2, line: Line): RaycastResult {\n    const a = origin;\n    const c = line.p1;\n    const d = line.p2;\n    const ab = direction;\n    const cd = d.sub(c);\n    const abxcd = ab.cross(cd);\n    // If parallel, no intersection\n    if (Math.abs(abxcd) < Number.EPSILON) {\n        return null;\n    }\n    const ac = c.sub(a);\n    const s = ac.cross(cd) / abxcd;\n    // Outside the ray\n    if (s <= 0 || s >= 1) {\n        return null;\n    }\n    // Outside the line\n    const t = ac.cross(ab) / abxcd;\n    if (t <= 0 || t >= 1) {\n        return null;\n    }\n\n    const normal = cd.normal().unit();\n    if (direction.dot(normal) > 0) {\n        normal.x *= -1;\n        normal.y *= -1;\n    }\n\n    return {\n        point: a.add(ab.scale(s)),\n        normal: normal,\n        fraction: s,\n    };\n}\n\nfunction raycastRect(origin: Vec2, direction: Vec2, rect: Rect) {\n    let tmin = Number.NEGATIVE_INFINITY, tmax = Number.POSITIVE_INFINITY;\n    let normal;\n\n    if (origin.x != 0.0) {\n        const tx1 = (rect.pos.x - origin.x) / direction.x;\n        const tx2 = (rect.pos.x + rect.width - origin.x) / direction.x;\n\n        normal = vec2(-Math.sign(direction.x), 0);\n\n        tmin = Math.max(tmin, Math.min(tx1, tx2));\n        tmax = Math.min(tmax, Math.max(tx1, tx2));\n    }\n\n    if (origin.y != 0.0) {\n        const ty1 = (rect.pos.y - origin.y) / direction.y;\n        const ty2 = (rect.pos.y + rect.height - origin.y) / direction.y;\n\n        if (Math.min(ty1, ty2) > tmin) {\n            normal = vec2(0, -Math.sign(direction.y));\n        }\n\n        tmin = Math.max(tmin, Math.min(ty1, ty2));\n        tmax = Math.min(tmax, Math.max(ty1, ty2));\n    }\n\n    if (tmax >= tmin && tmin >= 0 && tmin <= 1) {\n        const point = origin.add(direction.scale(tmin));\n\n        return {\n            point: point,\n            normal: normal,\n            fraction: tmin,\n        };\n    }\n    else {\n        return null;\n    }\n}\n\nfunction raycastCircle(\n    origin: Vec2,\n    direction: Vec2,\n    circle: Circle,\n): RaycastResult {\n    const a = origin;\n    const c = circle.center;\n    const ab = direction;\n    const A = ab.dot(ab);\n    const centerToOrigin = a.sub(c);\n    const B = 2 * ab.dot(centerToOrigin);\n    const C = centerToOrigin.dot(centerToOrigin)\n        - circle.radius * circle.radius;\n    // Calculate the discriminant of ax^2 + bx + c\n    const disc = B * B - 4 * A * C;\n    // No root\n    if ((A <= Number.EPSILON) || (disc < 0)) {\n        return null;\n    }\n    // One possible root\n    else if (disc == 0) {\n        const t = -B / (2 * A);\n        if (t >= 0 && t <= 1) {\n            const point = a.add(ab.scale(t));\n            return {\n                point: point,\n                normal: point.sub(c),\n                fraction: t,\n            };\n        }\n    }\n    // Two possible roots\n    else {\n        const t1 = (-B + Math.sqrt(disc)) / (2 * A);\n        const t2 = (-B - Math.sqrt(disc)) / (2 * A);\n        let t = null;\n        if (t1 >= 0 && t1 <= 1) {\n            t = t1;\n        }\n        if (t2 >= 0 && t2 <= 1) {\n            t = Math.min(t2, t ?? t2);\n        }\n        if (t != null) {\n            const point = a.add(ab.scale(t));\n            return {\n                point: point,\n                normal: point.sub(c).unit(),\n                fraction: t,\n            };\n        }\n    }\n\n    return null;\n}\n\nfunction raycastPolygon(\n    origin: Vec2,\n    direction: Vec2,\n    polygon: Polygon,\n): RaycastResult {\n    const points = polygon.pts;\n    let minHit = null;\n\n    let prev = points[points.length - 1];\n    for (let i = 0; i < points.length; i++) {\n        const cur = points[i];\n        const hit = raycastLine(origin, direction, new Line(prev, cur));\n        if (hit && (!minHit || minHit.fraction > hit.fraction)) {\n            minHit = hit;\n        }\n        prev = cur;\n    }\n\n    return minHit;\n}\n\nfunction raycastEllipse(\n    origin: Vec2,\n    direction: Vec2,\n    ellipse: Ellipse,\n): RaycastResult {\n    // Transforms from unit circle to rotated ellipse\n    const T = ellipse.toMat2();\n    // Transforms from rotated ellipse to unit circle\n    const TI = T.inverse;\n    // Transform both origin and direction into the unit circle coordinate system\n    const Torigin = TI.transform(origin.sub(ellipse.center));\n    const Tdirection = TI.transform(direction);\n    // Raycast as if we have a circle\n    const result = raycastCircle(Torigin, Tdirection, new Circle(vec2(), 1));\n    if (result) {\n        const R = Mat2.rotation(deg2rad(-ellipse.angle));\n        const S = Mat2.scale(ellipse.radiusX, ellipse.radiusY);\n        // Scale the point so we have a point on the unrotated ellipse\n        const p = S.transform(result.point);\n        // transform the result point to the coordinate system of the rotated ellipse\n        const point = T.transform(result.point).add(ellipse.center);\n        const fraction = point.dist(origin) / direction.len();\n        return {\n            point: point,\n            // Calculate the normal at the unrotated ellipse, then rotate the normal to the rotated ellipse\n            normal: R.transform(\n                vec2(ellipse.radiusY ** 2 * p.x, ellipse.radiusX ** 2 * p.y),\n            ).unit(),\n            fraction,\n        };\n    }\n    return result;\n}\n\nexport function raycastGrid(\n    origin: Vec2,\n    direction: Vec2,\n    gridPosHit: (gridPos: Vec2) => boolean | RaycastResult,\n    maxDistance: number = 64,\n): RaycastResult | null {\n    const pos = origin;\n    const len = direction.len();\n    const dir = direction.scale(1 / len);\n    let t = 0;\n    const gridPos = vec2(Math.floor(origin.x), Math.floor(origin.y));\n    const step = vec2(dir.x > 0 ? 1 : -1, dir.y > 0 ? 1 : -1);\n    const tDelta = vec2(Math.abs(1 / dir.x), Math.abs(1 / dir.y));\n    const dist = vec2(\n        (step.x > 0) ? (gridPos.x + 1 - origin.x) : (origin.x - gridPos.x),\n        (step.y > 0) ? (gridPos.y + 1 - origin.y) : (origin.y - gridPos.y),\n    );\n    const tMax = vec2(\n        (tDelta.x < Infinity) ? tDelta.x * dist.x : Infinity,\n        (tDelta.y < Infinity) ? tDelta.y * dist.y : Infinity,\n    );\n    let steppedIndex = -1;\n    while (t <= maxDistance) {\n        const hit = gridPosHit(gridPos);\n        if (hit === true) {\n            return {\n                point: pos.add(dir.scale(t)),\n                normal: vec2(\n                    steppedIndex === 0 ? -step.x : 0,\n                    steppedIndex === 1 ? -step.y : 0,\n                ),\n                fraction: t / len, // Since dir is normalized, t is len times too large\n                gridPos,\n            };\n        }\n        else if (hit) {\n            return hit;\n        }\n        if (tMax.x < tMax.y) {\n            gridPos.x += step.x;\n            t = tMax.x;\n            tMax.x += tDelta.x;\n            steppedIndex = 0;\n        }\n        else {\n            gridPos.y += step.y;\n            t = tMax.y;\n            tMax.y += tDelta.y;\n            steppedIndex = 1;\n        }\n    }\n\n    return null;\n}\n\nexport class Point {\n    pt: Vec2;\n    constructor(pt: Vec2) {\n        this.pt = pt.clone();\n    }\n    transform(m: Mat4): Point {\n        return new Point(m.multVec2(this.pt));\n    }\n    bbox(): Rect {\n        return new Rect(this.pt, 0, 0);\n    }\n    area(): number {\n        return 0;\n    }\n    clone(): Point {\n        return new Point(this.pt);\n    }\n    collides(shape: ShapeType): boolean {\n        return testPointShape(this, shape);\n    }\n    contains(point: Vec2): boolean {\n        return this.pt.eq(point);\n    }\n    raycast(origin: Vec2, direction: Vec2): RaycastResult {\n        return null;\n    }\n    random(): Vec2 {\n        return this.pt.clone();\n    }\n}\n\n/**\n * @group Math\n */\nexport class Line {\n    p1: Vec2;\n    p2: Vec2;\n    constructor(p1: Vec2, p2: Vec2) {\n        this.p1 = p1.clone();\n        this.p2 = p2.clone();\n    }\n    transform(m: Mat4): Line {\n        return new Line(m.multVec2(this.p1), m.multVec2(this.p2));\n    }\n    bbox(): Rect {\n        return Rect.fromPoints(this.p1, this.p2);\n    }\n    area(): number {\n        return this.p1.dist(this.p2);\n    }\n    clone(): Line {\n        return new Line(this.p1, this.p2);\n    }\n    collides(shape: ShapeType | Vec2): boolean {\n        return testLineShape(this, shape);\n    }\n    contains(point: Vec2): boolean {\n        return this.collides(point);\n    }\n    raycast(origin: Vec2, direction: Vec2): RaycastResult {\n        return raycastLine(origin, direction, this);\n    }\n    random(): Vec2 {\n        return this.p1.add(this.p2.sub(this.p1).scale(rand(1)));\n    }\n}\n\n// TODO: use x: number y: number (x, y, width, height)\n/**\n * @group Math\n */\nexport class Rect {\n    pos: Vec2;\n    width: number;\n    height: number;\n    constructor(pos: Vec2, width: number, height: number) {\n        this.pos = pos.clone();\n        this.width = width;\n        this.height = height;\n    }\n    static fromPoints(p1: Vec2, p2: Vec2): Rect {\n        return new Rect(p1.clone(), p2.x - p1.x, p2.y - p1.y);\n    }\n    center(): Vec2 {\n        return new Vec2(\n            this.pos.x + this.width / 2,\n            this.pos.y + this.height / 2,\n        );\n    }\n    points(): [Vec2, Vec2, Vec2, Vec2] {\n        return [\n            this.pos,\n            this.pos.add(this.width, 0),\n            this.pos.add(this.width, this.height),\n            this.pos.add(0, this.height),\n        ];\n    }\n    transform(m: Mat4): Polygon {\n        return new Polygon(this.points().map((pt) => m.multVec2(pt)));\n    }\n    bbox(): Rect {\n        return this.clone();\n    }\n    area(): number {\n        return this.width * this.height;\n    }\n    clone(): Rect {\n        return new Rect(this.pos.clone(), this.width, this.height);\n    }\n    distToPoint(p: Vec2): number {\n        return Math.sqrt(this.sdistToPoint(p));\n    }\n    sdistToPoint(p: Vec2): number {\n        const min = this.pos;\n        const max = this.pos.add(this.width, this.height);\n        const dx = Math.max(min.x - p.x, 0, p.x - max.x);\n        const dy = Math.max(min.y - p.y, 0, p.y - max.y);\n        return dx * dx + dy * dy;\n    }\n    collides(shape: ShapeType | Vec2): boolean {\n        return testRectShape(this, shape);\n    }\n    contains(point: Vec2): boolean {\n        return this.collides(point);\n    }\n    raycast(origin: Vec2, direction: Vec2): RaycastResult {\n        // Further type checking is needed here @mflerackers\n        // @ts-ignore\n        return raycastRect(origin, direction, this);\n    }\n    random(): Vec2 {\n        return this.pos.add(rand(this.width), rand(this.height));\n    }\n}\n\n/**\n * @group Math\n */\nexport class Circle {\n    center: Vec2;\n    radius: number;\n    constructor(center: Vec2, radius: number) {\n        this.center = center.clone();\n        this.radius = radius;\n    }\n    transform(tr: Mat4): Ellipse {\n        return new Ellipse(this.center, this.radius, this.radius).transform(tr);\n    }\n    bbox(): Rect {\n        return Rect.fromPoints(\n            this.center.sub(vec2(this.radius)),\n            this.center.add(vec2(this.radius)),\n        );\n    }\n    area(): number {\n        return this.radius * this.radius * Math.PI;\n    }\n    clone(): Circle {\n        return new Circle(this.center, this.radius);\n    }\n    collides(shape: ShapeType | Vec2): boolean {\n        return testCircleShape(this, shape);\n    }\n    contains(point: Vec2): boolean {\n        return this.collides(point);\n    }\n    raycast(origin: Vec2, direction: Vec2): RaycastResult {\n        return raycastCircle(origin, direction, this);\n    }\n    random(): Vec2 {\n        // TODO: Not uniform!!\n        return this.center.add(\n            Vec2.fromAngle(rand(360)).scale(rand(this.radius)),\n        );\n    }\n}\n\n/**\n * @group Math\n */\nexport class Ellipse {\n    center: Vec2;\n    radiusX: number;\n    radiusY: number;\n    angle: number;\n    constructor(center: Vec2, rx: number, ry: number, degrees: number = 0) {\n        this.center = center.clone();\n        this.radiusX = rx;\n        this.radiusY = ry;\n        this.angle = degrees;\n    }\n    static fromMat2(tr: Mat2): Ellipse {\n        const inv = tr.inverse;\n        const M = inv.transpose.mul(inv);\n        const [e1, e2] = M.eigenvalues;\n        const [v1, v2] = M.eigenvectors(e1, e2);\n\n        const [a, b] = [1 / Math.sqrt(e1), 1 / Math.sqrt(e2)];\n\n        // Make sure we use the semi-major axis for the rotation\n        if (a > b) {\n            return new Ellipse(\n                vec2(),\n                a,\n                b,\n                rad2deg(Math.atan2(-v1[1], v1[0])),\n            );\n        }\n        else {\n            return new Ellipse(\n                vec2(),\n                b,\n                a,\n                rad2deg(Math.atan2(-v2[1], v2[0])),\n            );\n        }\n    }\n    toMat2(): Mat2 {\n        const a = deg2rad(this.angle);\n        const c = Math.cos(a);\n        const s = Math.sin(a);\n        return new Mat2(\n            c * this.radiusX,\n            -s * this.radiusY,\n            s * this.radiusX,\n            c * this.radiusY,\n        );\n    }\n    transform(tr: Mat4): Ellipse {\n        if (this.angle == 0 && tr.getRotation() == 0) {\n            // No rotation, so we can just take the scale and translation\n            return new Ellipse(\n                tr.multVec2(this.center),\n                tr.m[0] * this.radiusX,\n                tr.m[5] * this.radiusY,\n            );\n        }\n        else {\n            // Rotation. We can't just add angles, as the scale can squeeze the\n            // ellipse and thus change the angle.\n            // Get the transformation which maps the unit circle onto the ellipse\n            let T = this.toMat2();\n            // Transform the transformation matrix with the rotation+scale matrix\n            const angle = tr.getRotation();\n            const scale = tr.getScale();\n            const M = Mat3.fromMat2(T).scale(scale.x, scale.y).rotate(angle);\n            T = M.toMat2();\n            // Return the ellipse made from the transformed unit circle\n            const ellipse = Ellipse.fromMat2(T);\n            ellipse.center = tr.multVec2(this.center);\n            return ellipse;\n        }\n    }\n    bbox(): Rect {\n        if (this.angle == 0) {\n            // No rotation, so the semi-major and semi-minor axis give the extends\n            return Rect.fromPoints(\n                this.center.sub(vec2(this.radiusX, this.radiusY)),\n                this.center.add(vec2(this.radiusX, this.radiusY)),\n            );\n        }\n        else {\n            // Rotation. We need to find the maximum x and y distance from the\n            // center of the rotated ellipse\n            const angle = deg2rad(this.angle);\n            const c = Math.cos(angle);\n            const s = Math.sin(angle);\n            const ux = this.radiusX * c;\n            const uy = this.radiusX * s;\n            const vx = this.radiusY * s;\n            const vy = this.radiusY * c;\n\n            const halfwidth = Math.sqrt(ux * ux + vx * vx);\n            const halfheight = Math.sqrt(uy * uy + vy * vy);\n\n            return Rect.fromPoints(\n                this.center.sub(vec2(halfwidth, halfheight)),\n                this.center.add(vec2(halfwidth, halfheight)),\n            );\n        }\n    }\n    area(): number {\n        return this.radiusX * this.radiusY * Math.PI;\n    }\n    clone(): Ellipse {\n        return new Ellipse(this.center, this.radiusX, this.radiusY, this.angle);\n    }\n    collides(shape: ShapeType): boolean {\n        return testEllipseShape(this, shape);\n    }\n    contains(point: Vec2): boolean {\n        // Both methods work, but the second one is faster\n        /*let T = this.toTransform()\n        point = point.sub(this.center)\n        point = T.inverse.transform(point)\n        return testCirclePoint(new Circle(vec2(), 1), point)*/\n        point = point.sub(this.center);\n        const angle = deg2rad(this.angle);\n        const c = Math.cos(angle);\n        const s = Math.sin(angle);\n        const vx = point.x * c + point.y * s;\n        const vy = -point.x * s + point.y * c;\n        return vx * vx / (this.radiusX * this.radiusX)\n                + vy * vy / (this.radiusY * this.radiusY) < 1;\n    }\n    raycast(origin: Vec2, direction: Vec2): RaycastResult {\n        return raycastEllipse(origin, direction, this);\n    }\n    random(): Vec2 {\n        return this.center;\n    }\n}\n\nfunction segmentLineIntersection(a: Vec2, b: Vec2, c: Vec2, d: Vec2) {\n    const ab = b.sub(a);\n    const cd = d.sub(c);\n    let s = ab.cross(cd);\n    if (s < 0.00001 && s > -0.00001) return null;\n    const ac = c.sub(a);\n    s = ac.cross(cd) / s;\n    if (s < 0 || s > 1) return null;\n    return a.add(ab.scale(s));\n}\n\n/**\n * @group Math\n */\nexport class Polygon {\n    pts: Vec2[];\n    constructor(pts: Vec2[]) {\n        if (pts.length < 3) {\n            throw new Error(\"Polygons should have at least 3 vertices\");\n        }\n        this.pts = pts;\n    }\n    transform(m: Mat4): Polygon {\n        return new Polygon(this.pts.map((pt) => m.multVec2(pt)));\n    }\n    bbox(): Rect {\n        const p1 = vec2(Number.MAX_VALUE);\n        const p2 = vec2(-Number.MAX_VALUE);\n        for (const pt of this.pts) {\n            p1.x = Math.min(p1.x, pt.x);\n            p2.x = Math.max(p2.x, pt.x);\n            p1.y = Math.min(p1.y, pt.y);\n            p2.y = Math.max(p2.y, pt.y);\n        }\n        return Rect.fromPoints(p1, p2);\n    }\n    area(): number {\n        let total = 0;\n        const l = this.pts.length;\n        for (let i = 0; i < l; i++) {\n            const p1 = this.pts[i];\n            const p2 = this.pts[(i + 1) % l];\n            total += p1.x * p2.y * 0.5;\n            total -= p2.x * p1.y * 0.5;\n        }\n        return Math.abs(total);\n    }\n    clone(): Polygon {\n        return new Polygon(this.pts.map((pt) => pt.clone()));\n    }\n    collides(shape: ShapeType | Vec2): boolean {\n        return testPolygonShape(this, shape);\n    }\n    contains(point: Vec2): boolean {\n        return this.collides(point);\n    }\n    raycast(origin: Vec2, direction: Vec2): RaycastResult {\n        return raycastPolygon(origin, direction, this);\n    }\n    random(): Vec2 {\n        /**\n         * TODO:\n         * - cut into triangles\n         * - choose a random triangle with probability linked to surface area\n         * - choose a random point in the triangle\n         */\n        return vec2();\n    }\n    cut(a: Vec2, b: Vec2): [Polygon | null, Polygon | null] {\n        const surfaceLine = new Line(a, b);\n        const left: Array<Vec2> = [];\n        const right: Array<Vec2> = [];\n        const ab = b.sub(a);\n        let prev = this.pts[this.pts.length - 1];\n        let ap = prev.sub(a);\n        let wasLeft = ab.cross(ap) > 0;\n        this.pts.forEach(p => {\n            ap = p.sub(a);\n            const isLeft = ab.cross(ap) > 0;\n            if (wasLeft != isLeft) {\n                // Since the points are on opposite sides of the line, we know they intersect\n                const intersection = segmentLineIntersection(prev, p, a, b);\n                left.push(intersection!);\n                right.push(intersection!);\n                wasLeft = isLeft;\n            }\n            (isLeft ? left : right).push(p);\n            prev = p;\n        });\n        return [\n            left.length ? new Polygon(left) : null,\n            right.length ? new Polygon(right) : null,\n        ];\n    }\n}\n\nexport function evaluateQuadratic(\n    pt1: Vec2,\n    pt2: Vec2,\n    pt3: Vec2,\n    t: number,\n) {\n    const t2 = t * t;\n    const mt = 1 - t;\n    const mt2 = mt * mt;\n    return pt1.scale(mt2).add(pt2.scale(2 * mt * t)).add(\n        pt3.scale(t2),\n    );\n}\n\nexport function evaluateQuadraticFirstDerivative(\n    pt1: Vec2,\n    pt2: Vec2,\n    pt3: Vec2,\n    t: number,\n) {\n    const mt = 1 - t;\n    return pt2.sub(pt1).scale(2 * mt).add(pt3.sub(pt2).scale(2 * t));\n}\n\nexport function evaluateQuadraticSecondDerivative(\n    pt1: Vec2,\n    pt2: Vec2,\n    pt3: Vec2,\n    t: number,\n) {\n    return pt3.sub(pt2.scale(2)).add(pt1).scale(2);\n}\n\nexport function evaluateBezier(\n    pt1: Vec2,\n    pt2: Vec2,\n    pt3: Vec2,\n    pt4: Vec2,\n    t: number,\n) {\n    const t2 = t * t;\n    const t3 = t2 * t;\n    const mt = 1 - t;\n    const mt2 = mt * mt;\n    const mt3 = mt2 * mt;\n    return pt1.scale(mt3).add(pt2.scale(3 * mt2 * t)).add(\n        pt3.scale(3 * mt * t2),\n    ).add(pt4.scale(t3));\n}\n\nexport function evaluateBezierFirstDerivative(\n    pt1: Vec2,\n    pt2: Vec2,\n    pt3: Vec2,\n    pt4: Vec2,\n    t: number,\n) {\n    const t2 = t * t;\n    const mt = 1 - t;\n    const mt2 = mt * mt;\n    return pt2.sub(pt1).scale(3 * mt2).add(pt3.sub(pt2).scale(6 * mt * t)).add(\n        pt4.sub(pt3).scale(3 * t2),\n    );\n}\n\nexport function evaluateBezierSecondDerivative(\n    pt1: Vec2,\n    pt2: Vec2,\n    pt3: Vec2,\n    pt4: Vec2,\n    t: number,\n) {\n    const mt = 1 - t;\n    return pt3.sub(pt2.scale(2)).add(pt1).scale(6 * mt).add(\n        pt4.sub(pt3.scale(2)).add(pt2).scale(6 * t),\n    );\n}\n\nexport function evaluateCatmullRom(\n    pt1: Vec2,\n    pt2: Vec2,\n    pt3: Vec2,\n    pt4: Vec2,\n    t: number,\n) {\n    const A = 0.5 * (((-t + 2) * t - 1) * t);\n    const B = 0.5 * (((3 * t - 5) * t) * t + 2);\n    const C = 0.5 * (((-3 * t + 4) * t + 1) * t);\n    const D = 0.5 * (((t - 1) * t) * t);\n    return pt1.scale(A).add(pt2.scale(B)).add(pt3.scale(C)).add(pt4.scale(D));\n}\n\nexport function evaluateCatmullRomFirstDerivative(\n    pt1: Vec2,\n    pt2: Vec2,\n    pt3: Vec2,\n    pt4: Vec2,\n    t: number,\n) {\n    const A = 0.5 * ((-3 * t + 4) * t - 1);\n    const B = 0.5 * ((9 * t - 10) * t);\n    const C = 0.5 * ((-9 * t + 8) * t + 1);\n    const D = 0.5 * ((3 * t - 2) * t);\n    return pt1.scale(A).add(pt2.scale(B)).add(pt3.scale(C)).add(pt4.scale(D));\n}\n\nexport function normalizedCurve(curve: (t: number) => Vec2) {\n    const curveLength = curveLengthApproximation(curve);\n    const length = curveLength(1);\n    return (s: number) => {\n        const l = s * length;\n        const t = curveLength(l, true);\n        return curve(t);\n    };\n}\n\nexport function curveLengthApproximation(\n    curve: (t: number) => Vec2,\n    entries: number = 10,\n    detail: number = 10,\n) {\n    const llut = [0];\n    const tlut = [0];\n    const dt = 1 / (entries - 1);\n    const ddt = dt / detail;\n    let length = 0;\n    let pp = curve(0);\n    let t = 0;\n    for (let e = 1; e < entries; e++) {\n        for (let d = 0; d < detail; d++) {\n            t += ddt;\n            const p = curve(t);\n            const l = p.dist(pp);\n            length += l;\n            pp = p;\n        }\n        llut[e] = length;\n        tlut[e] = t;\n    }\n    tlut[entries - 1] = 1;\n    return (t: number, inverse: boolean = false) => {\n        if (inverse) {\n            const l = t;\n            if (l <= 0) return 0;\n            if (l >= length) return 1;\n            let index = 0;\n            while (llut[index + 1] < l) index++;\n            const t1 = tlut[index];\n            const t2 = tlut[index + 1];\n            const l1 = llut[index];\n            const l2 = llut[index + 1];\n            const a = (l - l1) / (l2 - l1);\n            return t1 + (t2 - t1) * a;\n        }\n        else {\n            if (t <= 0) return 0;\n            if (t >= 1) return llut[entries - 1];\n            let index = 0;\n            while (tlut[index + 1] < t) index++;\n            const t1 = tlut[index];\n            const t2 = tlut[index + 1];\n            const l1 = llut[index];\n            const l2 = llut[index + 1];\n            const a = (t - t1) / (t2 - t1);\n            return l1 + (l2 - l1) * a;\n        }\n    };\n}\n\n/**\n * A second order function returning an evaluator for the given 1D Hermite curve\n * @param pt1 First point\n * @param m1 First control point (tangent)\n * @param m2 Second control point (tangent)\n * @param pt2 Second point\n * @returns A function which gives the value on the 1D Hermite curve at t\n */\nexport function hermite(pt1: number, m1: number, m2: number, pt2: number) {\n    const A = 2 * pt1 + m1 - 2 * pt2 + m2;\n    const B = -3 * pt1 + 3 * pt2 - 2 * m1 - m2;\n    const C = m1;\n    const D = pt1;\n\n    return (t: number) => {\n        const t2 = t * t;\n        const t3 = t2 * t;\n        return A * t3 + B * t2 + C * t + D;\n    };\n}\n\n/**\n * A second order function returning an evaluator for the given 2D Cardinal curve\n * @param pt1 Previous point\n * @param pt2 First point\n * @param pt3 Second point\n * @param pt4 Next point\n * @param tension The tension of the curve, [0..1] from round to tight.\n * @param h The hermite function or one of its derivatives.\n * @returns A function which gives the value on the 2D Cardinal curve at t\n */\nexport function cardinal(\n    pt1: Vec2,\n    pt2: Vec2,\n    pt3: Vec2,\n    pt4: Vec2,\n    tension: number,\n    h = hermite,\n) {\n    const hx = h(\n        pt2.x,\n        (1 - tension) * (pt3.x - pt1.x),\n        (1 - tension) * (pt4.x - pt2.x),\n        pt3.x,\n    );\n    const hy = h(\n        pt2.y,\n        (1 - tension) * (pt3.y - pt1.y),\n        (1 - tension) * (pt4.y - pt2.y),\n        pt3.y,\n    );\n    return (t: number) => {\n        return new Vec2(hx(t), hy(t));\n    };\n}\n\n/**\n * A second order function returning an evaluator for the given 2D Catmull-Rom curve\n * @param pt1 Previous point\n * @param pt2 First point\n * @param pt3 Second point\n * @param pt4 Next point\n * @returns A function which gives the value on the 2D Catmull-Rom curve at t\n */\nexport function catmullRom(\n    pt1: Vec2,\n    pt2: Vec2,\n    pt3: Vec2,\n    pt4: Vec2,\n    h = hermite,\n) {\n    // A Catmull-Rom curve is a Cardinal curve with as tension 0.5\n    return cardinal(pt1, pt2, pt3, pt4, 0.5, h);\n}\n\n/**\n * A second order function returning an evaluator for the given 2D quadratic Bezier curve\n * @param pt1 First point\n * @param pt2 First control point\n * @param pt3 Second control point\n * @param pt4 Second point\n * @returns A function which gives the value on the 2D quadratic Bezier curve at t\n */\nexport function bezier(\n    pt1: Vec2,\n    pt2: Vec2,\n    pt3: Vec2,\n    pt4: Vec2,\n    h = hermite,\n) {\n    // Convert the Bezier to a Catmull-Rom curve\n    return catmullRom(\n        pt4.add(pt1.sub(pt2).scale(6)),\n        pt1,\n        pt4,\n        pt1.add(pt4.sub(pt3).scale(6)),\n        h,\n    );\n}\n\n/**\n * A second order function returning an evaluator for the given 2D Kochanek–Bartels curve\n * @param pt1 Previous point\n * @param pt2 First point\n * @param pt3 Second point\n * @param pt4 Next point\n * @param tension The tension of the curve, [-1..1] from round to tight.\n * @param continuity The continuity of the curve, [-1..1] from box corners to inverted corners.\n * @param bias The bias of the curve, [-1..1] from pre-shoot to post-shoot.\n * @returns A function which gives the value on the 2D Kochanek–Bartels curve at t\n */\nexport function kochanekBartels(\n    pt1: Vec2,\n    pt2: Vec2,\n    pt3: Vec2,\n    pt4: Vec2,\n    tension: number,\n    continuity: number,\n    bias: number,\n    h = hermite,\n) {\n    const hx = h(\n        pt2.x,\n        0.5 * (1 - tension) * (1 + bias) * (1 + continuity) * (pt2.x - pt1.x)\n            + 0.5 * (1 - tension) * (1 - bias) * (1 - continuity)\n                * (pt3.x - pt2.x),\n        0.5 * (1 - tension) * (1 + bias) * (1 - continuity) * (pt3.x - pt2.x)\n            + 0.5 * (1 - tension) * (1 - bias) * (1 + continuity)\n                * (pt4.x - pt3.x),\n        pt3.x,\n    );\n    const hy = h(\n        pt2.y,\n        0.5 * (1 - tension) * (1 + bias) * (1 + continuity) * (pt2.y - pt1.y)\n            + 0.5 * (1 - tension) * (1 - bias) * (1 - continuity)\n                * (pt3.y - pt2.y),\n        0.5 * (1 - tension) * (1 + bias) * (1 - continuity) * (pt3.y - pt2.y)\n            + 0.5 * (1 - tension) * (1 - bias) * (1 + continuity)\n                * (pt4.y - pt3.y),\n        pt3.y,\n    );\n    return (t: number) => {\n        return new Vec2(hx(t), hy(t));\n    };\n}\n\n/**\n * A second order function returning an evaluator for the derivative of the given 1D Hermite curve\n * @param pt1 First point\n * @param m1 First control point (tangent)\n * @param m2 Second control point (tangent)\n * @param pt2 Second point\n * @returns A function which gives the first derivative on the 1D Hermite curve at t\n */\nexport function hermiteFirstDerivative(\n    pt1: number,\n    m1: number,\n    m2: number,\n    pt2: number,\n) {\n    const A = 2 * pt1 + m1 - 2 * pt2 + m2;\n    const B = -3 * pt1 + 3 * pt2 - 2 * m1 + m2;\n    const C = m1;\n\n    return (t: number) => {\n        const t2 = t * t;\n        return 3 * A * t2 + 2 * B * t + C;\n    };\n}\n\n// True if t is between 0 and 1\nfunction inZeroOneDomain(t: number) {\n    return 0 <= t && t <= 1;\n}\n\n// True if a and b are almost equal\nfunction approximately(a: number, b: number) {\n    return Math.abs(a - b) <= Number.EPSILON;\n}\n\n// Calculates the cube root ∛ of the given number\nfunction cubeRoot(v: number) {\n    if (v < 0) {\n        return -Math.pow(-v, 1 / 3);\n    }\n    else {\n        return Math.pow(v, 1 / 3);\n    }\n}\n\n// Get all cubic roots of the given 1 dimensional bezier\nfunction getCubicRoots(pa: number, pb: number, pc: number, pd: number) {\n    let a = 3 * pa - 6 * pb + 3 * pc;\n    let b = -3 * pa + 3 * pb;\n    let c = pa;\n    let d = -pa + 3 * pb - 3 * pc + pd;\n\n    if (approximately(d, 0)) {\n        if (approximately(a, 0)) {\n            if (approximately(b, 0)) {\n                return [];\n            }\n            return [-c / b].filter(inZeroOneDomain);\n        }\n        const q = Math.sqrt(b * b - 4 * a * c);\n        const a2 = 2 * a;\n        return [(q - b) / a2, (-b - q) / a2].filter(inZeroOneDomain);\n    }\n\n    a /= d;\n    b /= d;\n    c /= d;\n\n    const p = (3 * b - a * a) / 3;\n    const p3 = p / 3;\n    const q = (2 * a * a * a - 9 * a * b + 27 * c) / 27;\n    const q2 = q / 2;\n    const discriminant = q2 * q2 + p3 * p3 * p3;\n\n    if (discriminant < 0) {\n        const mp3 = -p / 3;\n        const mp33 = mp3 * mp3 * mp3;\n        const r = Math.sqrt(mp33);\n        const t = -q / (2 * r);\n        const cosphi = t < -1 ? -1 : t > 1 ? 1 : t;\n        const phi = Math.acos(cosphi);\n        const crtr = cubeRoot(r);\n        const t1 = 2 * crtr;\n        const root1 = t1 * Math.cos(phi / 3) - a / 3;\n        const root2 = t1 * Math.cos((phi + 2 * Math.PI) / 3) - a / 3;\n        const root3 = t1 * Math.cos((phi + 4 * Math.PI) / 3) - a / 3;\n        return [root1, root2, root3].filter(inZeroOneDomain);\n    }\n\n    if (discriminant === 0) {\n        const u1 = q2 < 0 ? cubeRoot(-q2) : -cubeRoot(q2);\n        const root1 = 2 * u1 - a / 3;\n        const root2 = -u1 - a / 3;\n        return [root1, root2].filter(inZeroOneDomain);\n    }\n\n    const sd = Math.sqrt(discriminant);\n    const u1 = cubeRoot(sd - q2);\n    const v1 = cubeRoot(sd + q2);\n    const root1 = u1 - v1 - a / 3;\n    return [root1].filter(inZeroOneDomain);\n}\n\n// Returns y for the given x on the cubic bezier by first calculating the t for the given x, then calculating y from t\nfunction cubicBezierYforX(a: Vec2, b: Vec2, c: Vec2, d: Vec2, x: number) {\n    // Get t for x\n    const t = getCubicRoots(a.x - x, b.x - x, c.x - x, d.x - x);\n    if (t.length > 0) {\n        // Get y for t\n        return evaluateBezier(a, b, c, d, t[0]).y;\n    }\n    return NaN;\n}\n\nexport function easingLinear(keys: Vec2[]) {\n    if (!keys || keys.length == 0) {\n        throw new Error(\n            \"Need at least one point for easingLinear.\",\n        );\n    }\n    const len = keys.length;\n    return (x: number) => {\n        // Before start\n        if (x <= 0 || keys.length == 1 || x <= keys[0].x) {\n            return keys[0].y;\n        }\n        for (let i = 0; i < len; i++) {\n            if (keys[i].x >= x) {\n                // Linear map\n                return map(\n                    x,\n                    keys[i - 1].x,\n                    keys[i].x,\n                    keys[i - 1].y,\n                    keys[i].y,\n                );\n            }\n        }\n        // After end\n        return keys[keys.length - 1].y;\n    };\n}\n\nexport function easingCubicBezier(p1: Vec2, p2: Vec2) {\n    return (x: number) => {\n        return cubicBezierYforX(vec2(0, 0), p1, p2, vec2(1, 1), x);\n    };\n}\n\nexport type StepPosition =\n    | \"jump-start\"\n    | \"jump-end\"\n    | \"jump-none\"\n    | \"jump-both\";\n\nexport function easingSteps(\n    steps: number,\n    position: StepPosition = \"jump-end\",\n) {\n    const xdist = 1 / steps;\n    const jumpStart = position == \"jump-start\" || position == \"jump-both\";\n    const jumpEnd = position == \"jump-end\" || position == \"jump-both\";\n    const ydist = 1 / (steps + (jumpEnd ? 1 : 0));\n    const startY = jumpStart ? ydist : 0;\n    return (x: number) => {\n        const step = Math.floor(x / xdist);\n        return startY + step * ydist;\n    };\n}\n\nexport type SatResult = {\n    normal: Vec2;\n    distance: number;\n};\n\nexport function sat(p1: Polygon, p2: Polygon): SatResult | null {\n    let overlap = Number.MAX_VALUE;\n    let result: SatResult = { normal: vec2(0), distance: 0 };\n    for (const poly of [p1, p2]) {\n        for (let i = 0; i < poly.pts.length; i++) {\n            const a = poly.pts[i];\n            const b = poly.pts[(i + 1) % poly.pts.length];\n            const axisProj = b.sub(a).normal().unit();\n            let min1 = Number.MAX_VALUE;\n            let max1 = -Number.MAX_VALUE;\n            for (let j = 0; j < p1.pts.length; j++) {\n                const q = p1.pts[j].dot(axisProj);\n                min1 = Math.min(min1, q);\n                max1 = Math.max(max1, q);\n            }\n            let min2 = Number.MAX_VALUE;\n            let max2 = -Number.MAX_VALUE;\n            for (let j = 0; j < p2.pts.length; j++) {\n                const q = p2.pts[j].dot(axisProj);\n                min2 = Math.min(min2, q);\n                max2 = Math.max(max2, q);\n            }\n            const o = Math.min(max1, max2) - Math.max(min1, min2);\n            if (o < 0) {\n                return null;\n            }\n            if (o < Math.abs(overlap)) {\n                const o1 = max2 - min1;\n                const o2 = min2 - max1;\n                overlap = Math.abs(o1) < Math.abs(o2) ? o1 : o2;\n                result.normal = axisProj;\n                result.distance = overlap;\n            }\n        }\n    }\n    return result;\n}\n\n// true if the angle is oriented counter clockwise\nfunction isOrientedCcw(a: Vec2, b: Vec2, c: Vec2) {\n    // return det(b-a, c-a) >= 0\n    return ((b.x - a.x) * (c.y - a.y) - (b.y - a.y) * (c.x - a.x)) >= 0;\n}\n\n// true if the polygon is oriented counter clockwise\nfunction isOrientedCcwPolygon(polygon: Vec2[]) {\n    let total = 0;\n    let prev: Vec2 = polygon[polygon.length - 1];\n    for (let i = 0; i < polygon.length; i++) {\n        total += (polygon[i].x - prev.x) * (polygon[i].y + prev.y);\n        prev = polygon[i];\n    }\n    return total < 0;\n}\n\n// true if a and b are on the same side of the line c->d\nfunction onSameSide(a: Vec2, b: Vec2, c: Vec2, d: Vec2) {\n    const px = d.x - c.x, py = d.y - c.y;\n    // return det(p, a-c) * det(p, b-c) >= 0\n    const l = px * (a.y - c.y) - py * (a.x - c.x);\n    const m = px * (b.y - c.y) - py * (b.x - c.x);\n    return l * m >= 0;\n}\n\n// true if p is contained in the triangle abc\nfunction pointInTriangle(p: Vec2, a: Vec2, b: Vec2, c: Vec2) {\n    return onSameSide(p, a, b, c) && onSameSide(p, b, a, c)\n        && onSameSide(p, c, a, b);\n}\n\n// true if any vertex in the list `vertices' is in the triangle abc.\nfunction someInTriangle(vertices: Vec2[], a: Vec2, b: Vec2, c: Vec2) {\n    for (const p of vertices) {\n        if (\n            (p !== a) && (p !== b) && (p !== c) && pointInTriangle(p, a, b, c)\n        ) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\n// true if the triangle is an ear, which is whether it can be cut off from the polygon without leaving a hole behind\nfunction isEar(a: Vec2, b: Vec2, c: Vec2, vertices: Vec2[]) {\n    return isOrientedCcw(a, b, c) && !someInTriangle(vertices, a, b, c);\n}\n\nexport function triangulate(pts: Vec2[]): Vec2[][] {\n    if (pts.length < 3) {\n        return [];\n    }\n    if (pts.length == 3) {\n        return [pts];\n    }\n\n    /* Create a list of indexes to the previous and next points of a given point\n    prev_idx[i] gives the index to the previous point of the point at i */\n    let nextIdx = [];\n    let prevIdx = [];\n    let idx = 0;\n    for (let i = 0; i < pts.length; i++) {\n        const lm = pts[idx];\n        const pt = pts[i];\n        if (pt.x < lm.x || (pt.x == lm.x && pt.y < lm.y)) {\n            idx = idx;\n        }\n        nextIdx[i] = i + 1;\n        prevIdx[i] = i - 1;\n    }\n    nextIdx[nextIdx.length - 1] = 0;\n    prevIdx[0] = prevIdx.length - 1;\n\n    // If the polygon is not counter clockwise, swap the lists, thus reversing the winding\n    if (!isOrientedCcwPolygon(pts)) {\n        [nextIdx, prevIdx] = [prevIdx, nextIdx];\n    }\n\n    const concaveVertices = [];\n    for (let i = 0; i < pts.length; ++i) {\n        if (!isOrientedCcw(pts[prevIdx[i]], pts[i], pts[nextIdx[i]])) {\n            concaveVertices.push(pts[i]);\n        }\n    }\n\n    const triangles = [];\n    let nVertices = pts.length;\n    let current = 1;\n    let skipped = 0;\n    let next;\n    let prev;\n    while (nVertices > 3) {\n        next = nextIdx[current];\n        prev = prevIdx[current];\n        const a = pts[prev];\n        const b = pts[current];\n        const c = pts[next];\n        if (isEar(a, b, c, concaveVertices)) {\n            triangles.push([a, b, c]);\n            nextIdx[prev] = next;\n            prevIdx[next] = prev;\n            concaveVertices.splice(concaveVertices.indexOf(b), 1);\n            --nVertices;\n            skipped = 0;\n        }\n        else if (++skipped > nVertices) {\n            return [];\n        }\n        current = next;\n    }\n    next = nextIdx[current];\n    prev = prevIdx[current];\n    triangles.push([pts[prev], pts[current], pts[next]]);\n\n    return triangles;\n}\n\nexport function isConvex(pts: Vec2[]) {\n    if (pts.length < 3) {\n        return false;\n    }\n\n    // a polygon is convex if all corners turn in the same direction\n    // turning direction can be determined using the cross-product of\n    // the forward difference vectors\n    let i = pts.length - 2;\n    let j = pts.length - 1;\n    let k = 0;\n    let p = pts[j].sub(pts[i]);\n    let q = pts[k].sub(pts[j]);\n    let winding = p.cross(q);\n\n    while (k + 1 < pts.length) {\n        i = j;\n        j = k;\n        k++;\n        p = pts[j].sub(pts[i]);\n        q = pts[k].sub(pts[j]);\n\n        if (p.cross(q) * winding < 0) {\n            return false;\n        }\n    }\n    return true;\n}\n","// some default charsets for loading bitmap fonts\nexport const ASCII_CHARS =\n\t\" !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\";\nexport const DEF_ANCHOR = \"topleft\";\nexport const BG_GRID_SIZE = 64;\nexport const DEF_FONT = \"monospace\";\nexport const DBG_FONT = \"monospace\";\nexport const DEF_TEXT_SIZE = 36;\nexport const DEF_TEXT_CACHE_SIZE = 64;\nexport const MAX_TEXT_CACHE_SIZE = 256;\nexport const FONT_ATLAS_WIDTH = 2048;\nexport const FONT_ATLAS_HEIGHT = 2048;\nexport const SPRITE_ATLAS_WIDTH = 2048;\nexport const SPRITE_ATLAS_HEIGHT = 2048;\n// 0.1 pixel padding to texture coordinates to prevent artifact\nexport const UV_PAD = 0.1;\nexport const DEF_HASH_GRID_SIZE = 64;\nexport const DEF_FONT_FILTER = \"linear\";\nexport const LOG_MAX = 8;\nexport const LOG_TIME = 4;\nexport const VERTEX_FORMAT = [\n\t{ name: \"a_pos\", size: 2 },\n\t{ name: \"a_uv\", size: 2 },\n\t{ name: \"a_color\", size: 4 },\n];\nconst STRIDE = VERTEX_FORMAT.reduce((sum, f) => sum + f.size, 0);\nconst MAX_BATCHED_QUAD = 2048;\nexport const MAX_BATCHED_VERTS = MAX_BATCHED_QUAD * 4 * STRIDE;\nexport const MAX_BATCHED_INDICES = MAX_BATCHED_QUAD * 6;\n// vertex shader template, replace {{user}} with user vertex shader code\nexport const VERT_TEMPLATE = `\nattribute vec2 a_pos;\nattribute vec2 a_uv;\nattribute vec4 a_color;\n\nvarying vec2 v_pos;\nvarying vec2 v_uv;\nvarying vec4 v_color;\n\nvec4 def_vert() {\n\treturn vec4(a_pos, 0.0, 1.0);\n}\n\n{{user}}\n\nvoid main() {\n\tvec4 pos = vert(a_pos, a_uv, a_color);\n\tv_pos = a_pos;\n\tv_uv = a_uv;\n\tv_color = a_color;\n\tgl_Position = pos;\n}\n`;\n// fragment shader template, replace {{user}} with user fragment shader code\nexport const FRAG_TEMPLATE = `\nprecision mediump float;\n\nvarying vec2 v_pos;\nvarying vec2 v_uv;\nvarying vec4 v_color;\n\nuniform sampler2D u_tex;\n\nvec4 def_frag() {\n\tvec4 texColor = texture2D(u_tex, v_uv);\n\treturn vec4((v_color.rgb * texColor.rgb), texColor.a) * v_color.a;\n}\n\n{{user}}\n\nvoid main() {\n\tgl_FragColor = frag(v_pos, v_uv, v_color, u_tex);\n\tif (gl_FragColor.a == 0.0) {\n\t\tdiscard;\n\t}\n}\n`;\n// default {{user}} vertex shader code\nexport const DEF_VERT = `\nvec4 vert(vec2 pos, vec2 uv, vec4 color) {\n\treturn def_vert();\n}\n`;\n// default {{user}} fragment shader code\nexport const DEF_FRAG = `\nvec4 frag(vec2 pos, vec2 uv, vec4 color, sampler2D tex) {\n\treturn def_frag();\n}\n`;\nexport const COMP_DESC = new Set([\"id\", \"require\"]);\nexport const COMP_EVENTS = new Set([\n\t\"add\",\n\t\"fixedUpdate\",\n\t\"update\",\n\t\"draw\",\n\t\"destroy\",\n\t\"inspect\",\n\t\"drawInspect\",\n]);\nexport const DEF_OFFSCREEN_DIS = 200;\n// maximum y velocity with body()\nexport const DEF_JUMP_FORCE = 640;\nexport const MAX_VEL = 65536;\nexport const EVENT_CANCEL_SYMBOL = Symbol.for(\"kaplay.cancel\");\n","import { EVENT_CANCEL_SYMBOL } from \"../constants\";\n\nexport class Registry<T> extends Map<number, T> {\n    private lastID: number = 0;\n    push(v: T): number {\n        const id = this.lastID;\n        this.set(id, v);\n        this.lastID++;\n        return id;\n    }\n    pushd(v: T): () => void {\n        const id = this.push(v);\n        return () => this.delete(id);\n    }\n}\n\n/**\n * A controller for all events in KAPLAY.\n *\n * @example\n * ```js\n * // Create a new event\n * const logHi = onUpdate(() => {\n *    debug.log(\"hi\");\n * });\n *\n * // Pause the event\n * logHi.paused = true;\n *\n * // Cancel the event\n * logHi.cancel();\n *\n * ```\n * @group Events\n */\nexport class KEventController {\n    /** If the event is paused */\n    paused: boolean = false;\n    /** Cancel the event */\n    cancel: () => void;\n\n    constructor(cancel: () => void) {\n        this.cancel = cancel;\n    }\n    static join(events: KEventController[]): KEventController {\n        const ev = new KEventController(() =>\n            events.forEach((e) => e.cancel())\n        );\n        Object.defineProperty(ev, \"paused\", {\n            get: () => events[0].paused,\n            set: (p: boolean) => events.forEach((e) => e.paused = p),\n        });\n        ev.paused = false;\n        return ev;\n    }\n    static replace(oldEv: KEventController, newEv: KEventController) {\n        oldEv.cancel = () => newEv.cancel();\n        newEv.paused = oldEv.paused;\n        Object.defineProperty(oldEv, \"paused\", {\n            get: () => newEv.paused,\n            set: (p: boolean) => newEv.paused = p,\n        });\n\n        return oldEv;\n    }\n}\n\nexport class KEvent<Args extends any[] = any[]> {\n    private cancellers: WeakMap<(...args: Args) => unknown, () => void> =\n        new WeakMap();\n    private handlers: Registry<(...args: Args) => unknown> = new Registry();\n\n    add(action: (...args: Args) => unknown): KEventController {\n        function handler(...args: Args) {\n            if (ev.paused) return;\n            return action(...args);\n        }\n\n        const cancel = this.handlers.pushd(handler);\n        const ev = new KEventController(cancel);\n        this.cancellers.set(handler, cancel);\n        return ev;\n    }\n    addOnce(\n        action: (...args: (Args | PromiseLike<Args>)[]) => void,\n    ): KEventController {\n        const ev = this.add((...args) => {\n            ev.cancel();\n            action(...args);\n        });\n        return ev;\n    }\n    next(): Promise<Args> {\n        return new Promise((res) => this.addOnce(res));\n    }\n    trigger(...args: Args) {\n        this.handlers.forEach((action) => {\n            const result = action(...args);\n            let cancel;\n\n            if (\n                result === EVENT_CANCEL_SYMBOL\n                && (cancel = this.cancellers.get(action))\n            ) {\n                cancel();\n            }\n        });\n    }\n    numListeners(): number {\n        return this.handlers.size;\n    }\n    clear() {\n        this.handlers.clear();\n    }\n}\n\n// TODO: only accept one argument?\nexport class KEventHandler<EventMap extends Record<string, any[]>> {\n    private handlers: Partial<\n        {\n            [Name in keyof EventMap]: KEvent<EventMap[Name]>;\n        }\n    > = {};\n    registers: Partial<\n        {\n            [Name in keyof EventMap]: Registry<\n                (...args: EventMap[Name]) => void\n            >;\n        }\n    > = {};\n    on<Name extends keyof EventMap>(\n        name: Name,\n        action: (...args: EventMap[Name]) => void,\n    ): KEventController {\n        if (!this.handlers[name]) {\n            this.handlers[name] = new KEvent<EventMap[Name]>();\n        }\n        return this.handlers[name].add(action);\n    }\n    onOnce<Name extends keyof EventMap>(\n        name: Name,\n        action: (...args: EventMap[Name]) => void,\n    ): KEventController {\n        const ev = this.on(name, (...args) => {\n            ev.cancel();\n            action(...args);\n        });\n        return ev;\n    }\n    next<Name extends keyof EventMap>(name: Name): Promise<unknown> {\n        return new Promise((res) => {\n            // TODO: can only pass 1 val to resolve()\n            this.onOnce(name, (...args: EventMap[Name]) => res(args[0]));\n        });\n    }\n    trigger<Name extends keyof EventMap>(name: Name, ...args: EventMap[Name]) {\n        if (this.handlers[name]) {\n            this.handlers[name].trigger(...args);\n        }\n    }\n    remove<Name extends keyof EventMap>(name: Name) {\n        delete this.handlers[name];\n    }\n    clear() {\n        this.handlers = {};\n    }\n    numListeners<Name extends keyof EventMap>(name: Name): number {\n        return this.handlers[name]?.numListeners() ?? 0;\n    }\n}\n","import { Color } from \"../math/color\";\nimport { Vec2 } from \"../math/math\";\n\nexport const arrayIsColor = (arr: unknown[]): arr is Color[] => {\n    return arr[0] instanceof Color;\n};\n\nexport const arrayIsVec2 = (arr: unknown[]): arr is Vec2[] => {\n    return arr[0] instanceof Vec2;\n};\n\nexport const arrayIsNumber = (arr: unknown[]): arr is number[] => {\n    return typeof arr[0] === \"number\";\n};\n\nexport function isClass(obj: any): obj is Function {\n    return obj?.prototype\n        && Object.getOwnPropertyDescriptor(obj.prototype, \"constructor\")\n            !== undefined;\n}\n","export class BinaryHeap<T> {\n    _items: T[];\n    _compareFn: (a: T, b: T) => boolean;\n\n    /**\n     * Creates a binary heap with the given compare function\n     * Not passing a compare function will give a min heap\n     */\n    constructor(compareFn = (a: T, b: T) => a < b) {\n        this._compareFn = compareFn;\n        this._items = [];\n    }\n\n    /**\n     * Insert an item into the binary heap\n     */\n    insert(item: T) {\n        this._items.push(item);\n        this.moveUp(this._items.length - 1);\n    }\n\n    /**\n     * Remove the smallest item from the binary heap in case of a min heap\n     * or the greatest item from the binary heap in case of a max heap\n     */\n    remove() {\n        if (this._items.length === 0) {\n            return null;\n        }\n        const item = this._items[0];\n        const lastItem = this._items.pop();\n        if (this._items.length !== 0) {\n            this._items[0] = lastItem as T;\n            this.moveDown(0);\n        }\n        return item;\n    }\n\n    /**\n     * Remove all items\n     */\n    clear() {\n        this._items.splice(0, this._items.length);\n    }\n\n    moveUp(pos: number) {\n        while (pos > 0) {\n            const parent = Math.floor((pos - 1) / 2);\n            if (!this._compareFn(this._items[pos], this._items[parent])) {\n                if (this._items[pos] >= this._items[parent]) {\n                    break;\n                }\n            }\n            this.swap(pos, parent);\n            pos = parent;\n        }\n    }\n\n    moveDown(pos: number) {\n        while (pos < Math.floor(this._items.length / 2)) {\n            let child = 2 * pos + 1;\n            if (\n                child < this._items.length - 1\n                && !this._compareFn(this._items[child], this._items[child + 1])\n            ) {\n                ++child;\n            }\n            if (this._compareFn(this._items[pos], this._items[child])) {\n                break;\n            }\n            this.swap(pos, child);\n            pos = child;\n        }\n    }\n\n    swap(index1: number, index2: number) {\n        [this._items[index1], this._items[index2]] = [\n            this._items[index2],\n            this._items[index1],\n        ];\n    }\n\n    /**\n     * Returns the amount of items\n     */\n    get length() {\n        return this._items.length;\n    }\n}\n","export function base64ToArrayBuffer(base64: string): ArrayBuffer {\n    const binstr = window.atob(base64);\n    const len = binstr.length;\n    const bytes = new Uint8Array(len);\n    for (let i = 0; i < len; i++) {\n        bytes[i] = binstr.charCodeAt(i);\n    }\n    return bytes.buffer;\n}\n\nexport function dataURLToArrayBuffer(url: string): ArrayBuffer {\n    return base64ToArrayBuffer(url.split(\",\")[1]);\n}\n\nexport function download(filename: string, url: string) {\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = filename;\n    a.click();\n}\n\nexport function downloadText(filename: string, text: string) {\n    download(filename, \"data:text/plain;charset=utf-8,\" + text);\n}\n\nexport function downloadJSON(filename: string, data: any) {\n    downloadText(filename, JSON.stringify(data));\n}\n\nexport function downloadBlob(filename: string, blob: Blob) {\n    const url = URL.createObjectURL(blob);\n    download(filename, url);\n    URL.revokeObjectURL(url);\n}\n\nexport const isDataURL = (str: string) => str.match(/^data:\\w+\\/\\w+;base64,.+/);\nexport const getFileExt = (p: string) => p.split(\".\").pop();\nexport const getFileName = (p: string) => p.split(\".\").slice(0, -1).join(\".\");\n","export function deepEq(o1: any, o2: any): boolean {\n    if (o1 === o2) {\n        return true;\n    }\n    const t1 = typeof o1;\n    const t2 = typeof o2;\n    if (t1 !== t2) {\n        return false;\n    }\n    if (t1 === \"object\" && t2 === \"object\" && o1 !== null && o2 !== null) {\n        if (Array.isArray(o1) !== Array.isArray(o2)) {\n            return false;\n        }\n        const k1 = Object.keys(o1);\n        const k2 = Object.keys(o2);\n        if (k1.length !== k2.length) {\n            return false;\n        }\n        for (const k of k1) {\n            const v1 = o1[k];\n            const v2 = o2[k];\n            if (!deepEq(v1, v2)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n}\n","const warned = new Set();\n\nexport const getErrorMessage = (error: unknown) =>\n    (error instanceof Error) ? error.message : String(error);\n\nexport function deprecate(\n    oldName: string,\n    newName: string,\n    newFunc: (...args: unknown[]) => any,\n) {\n    return (...args: unknown[]) => {\n        deprecateMsg(oldName, newName);\n        return newFunc(...args);\n    };\n}\n\nexport function warn(msg: string) {\n    if (!warned.has(msg)) {\n        warned.add(msg);\n        console.warn(msg);\n    }\n}\n\nexport function deprecateMsg(oldName: string, newName: string) {\n    warn(`${oldName} is deprecated. Use ${newName} instead.`);\n}\n","export function toFixed(n: number, f: number) {\n    return Number(n.toFixed(f));\n}\n","type Func = (...args: any[]) => any;\n\nexport function overload2<A extends Func, B extends Func>(\n    fn1: A,\n    fn2: B,\n): A & B {\n    return ((...args) => {\n        const al = args.length;\n        if (al === fn1.length) return fn1(...args);\n        if (al === fn2.length) return fn2(...args);\n    }) as A & B;\n}\n\nexport function overload3<\n    A extends Func,\n    B extends Func,\n    C extends Func,\n>(fn1: A, fn2: B, fn3: C): A & B & C {\n    return ((...args) => {\n        const al = args.length;\n        if (al === fn1.length) return fn1(...args);\n        if (al === fn2.length) return fn2(...args);\n        if (al === fn3.length) return fn3(...args);\n    }) as A & B & C;\n}\n\nexport function overload4<\n    A extends Func,\n    B extends Func,\n    C extends Func,\n    D extends Func,\n>(fn1: A, fn2: B, fn3: C, fn4: D): A & B & C & D {\n    return ((...args) => {\n        const al = args.length;\n        if (al === fn1.length) return fn1(...args);\n        if (al === fn2.length) return fn2(...args);\n        if (al === fn3.length) return fn3(...args);\n        if (al === fn4.length) return fn4(...args);\n    }) as A & B & C & D;\n}\n","const enum EnumRunesCode {\n    HIGH_SURROGATE_START = 0xd800,\n    HIGH_SURROGATE_END = 0xdbff,\n\n    LOW_SURROGATE_START = 0xdc00,\n\n    REGIONAL_INDICATOR_START = 0x1f1e6,\n    REGIONAL_INDICATOR_END = 0x1f1ff,\n\n    FITZPATRICK_MODIFIER_START = 0x1f3fb,\n    FITZPATRICK_MODIFIER_END = 0x1f3ff,\n\n    VARIATION_MODIFIER_START = 0xfe00,\n    VARIATION_MODIFIER_END = 0xfe0f,\n\n    DIACRITICAL_MARKS_START = 0x20d0,\n    DIACRITICAL_MARKS_END = 0x20ff,\n\n    SUBDIVISION_INDICATOR_START = 0x1f3f4,\n    TAGS_START = 0xe0000,\n    TAGS_END = 0xe007f,\n\n    ZWJ = 0x200d,\n}\n\nconst GRAPHEMES = Object.freeze([\n    0x0308, // ( ◌̈ ) COMBINING DIAERESIS\n    0x0937, // ( ष ) DEVANAGARI LETTER SSA\n    0x093F, // ( ि ) DEVANAGARI VOWEL SIGN I\n    0x0BA8, // ( ந ) TAMIL LETTER NA\n    0x0BBF, // ( ி ) TAMIL VOWEL SIGN I\n    0x0BCD, // ( ◌்) TAMIL SIGN VIRAMA\n    0x0E31, // ( ◌ั ) THAI CHARACTER MAI HAN-AKAT\n    0x0E33, // ( ำ ) THAI CHARACTER SARA AM\n    0x0E40, // ( เ ) THAI CHARACTER SARA E\n    0x0E49, // ( เ ) THAI CHARACTER MAI THO\n    0x1100, // ( ᄀ ) HANGUL CHOSEONG KIYEOK\n    0x1161, // ( ᅡ ) HANGUL JUNGSEONG A\n    0x11A8, // ( ᆨ ) HANGUL JONGSEONG KIYEOK\n]);\n\nenum EnumCodeUnits {\n    unit_1 = 1,\n    unit_2 = 2,\n    unit_4 = 4,\n}\n\nexport function runes(string: string): string[] {\n    if (typeof string !== \"string\") {\n        throw new TypeError(\"string cannot be undefined or null\");\n    }\n    const result: string[] = [];\n    let i = 0;\n    let increment = 0;\n    while (i < string.length) {\n        increment += nextUnits(i + increment, string);\n        if (isGrapheme(string[i + increment])) {\n            increment++;\n        }\n        if (isVariationSelector(string[i + increment])) {\n            increment++;\n        }\n        if (isDiacriticalMark(string[i + increment])) {\n            increment++;\n        }\n        if (isZeroWidthJoiner(string[i + increment])) {\n            increment++;\n            continue;\n        }\n        result.push(string.substring(i, i + increment));\n        i += increment;\n        increment = 0;\n    }\n    return result;\n}\n\n// Decide how many code units make up the current character.\n// BMP characters: 1 code unit\n// Non-BMP characters (represented by surrogate pairs): 2 code units\n// Emoji with skin-tone modifiers: 4 code units (2 code points)\n// Country flags: 4 code units (2 code points)\n// Variations: 2 code units\n// Subdivision flags: 14 code units (7 code points)\nfunction nextUnits(i: number, string: string) {\n    const current = string[i];\n    // If we don't have a value that is part of a surrogate pair, or we're at\n    // the end, only take the value at i\n    if (!isFirstOfSurrogatePair(current) || i === string.length - 1) {\n        return EnumCodeUnits.unit_1;\n    }\n\n    const currentPair = current + string[i + 1];\n    const nextPair = string.substring(i + 2, i + 5);\n\n    // Country flags are comprised of two regional indicator symbols,\n    // each represented by a surrogate pair.\n    // See http://emojipedia.org/flags/\n    // If both pairs are regional indicator symbols, take 4\n    if (isRegionalIndicator(currentPair) && isRegionalIndicator(nextPair)) {\n        return EnumCodeUnits.unit_4;\n    }\n\n    // https://unicode.org/emoji/charts/full-emoji-list.html#subdivision-flag\n    // See https://emojipedia.org/emoji-tag-sequence/\n    // If nextPair is in Tags(https://en.wikipedia.org/wiki/Tags_(Unicode_block)),\n    // then find next closest U+E007F(CANCEL TAG)\n    if (\n        isSubdivisionFlag(currentPair)\n        && isSupplementarySpecialpurposePlane(nextPair)\n    ) {\n        return string.slice(i).indexOf(\n            String.fromCodePoint(EnumRunesCode.TAGS_END),\n        ) + 2;\n    }\n\n    // If the next pair make a Fitzpatrick skin tone\n    // modifier, take 4\n    // See http://emojipedia.org/modifiers/\n    // Technically, only some code points are meant to be\n    // combined with the skin tone modifiers. This function\n    // does not check the current pair to see if it is\n    // one of them.\n    if (isFitzpatrickModifier(nextPair)) {\n        return EnumCodeUnits.unit_4;\n    }\n    return EnumCodeUnits.unit_2;\n}\n\nfunction isFirstOfSurrogatePair(string: string) {\n    return string\n        && betweenInclusive(\n            string[0].charCodeAt(0),\n            EnumRunesCode.HIGH_SURROGATE_START,\n            EnumRunesCode.HIGH_SURROGATE_END,\n        );\n}\n\nfunction isRegionalIndicator(string: string) {\n    return betweenInclusive(\n        codePointFromSurrogatePair(string),\n        EnumRunesCode.REGIONAL_INDICATOR_START,\n        EnumRunesCode.REGIONAL_INDICATOR_END,\n    );\n}\n\nfunction isSubdivisionFlag(string: string) {\n    return betweenInclusive(\n        codePointFromSurrogatePair(string),\n        EnumRunesCode.SUBDIVISION_INDICATOR_START,\n        EnumRunesCode.SUBDIVISION_INDICATOR_START,\n    );\n}\n\nfunction isFitzpatrickModifier(string: string) {\n    return betweenInclusive(\n        codePointFromSurrogatePair(string),\n        EnumRunesCode.FITZPATRICK_MODIFIER_START,\n        EnumRunesCode.FITZPATRICK_MODIFIER_END,\n    );\n}\n\nfunction isVariationSelector(string: string) {\n    return typeof string === \"string\"\n        && betweenInclusive(\n            string.charCodeAt(0),\n            EnumRunesCode.VARIATION_MODIFIER_START,\n            EnumRunesCode.VARIATION_MODIFIER_END,\n        );\n}\n\nfunction isDiacriticalMark(string: string) {\n    return typeof string === \"string\"\n        && betweenInclusive(\n            string.charCodeAt(0),\n            EnumRunesCode.DIACRITICAL_MARKS_START,\n            EnumRunesCode.DIACRITICAL_MARKS_END,\n        );\n}\n\nfunction isSupplementarySpecialpurposePlane(string: string) {\n    const codePoint = string.codePointAt(0);\n    return (typeof string === \"string\" && typeof codePoint === \"number\"\n        && betweenInclusive(\n            codePoint,\n            EnumRunesCode.TAGS_START,\n            EnumRunesCode.TAGS_END,\n        ));\n}\n\nfunction isGrapheme(string: string) {\n    return typeof string === \"string\"\n        && GRAPHEMES.includes(string.charCodeAt(0));\n}\n\nfunction isZeroWidthJoiner(string: string) {\n    return typeof string === \"string\"\n        && string.charCodeAt(0) === EnumRunesCode.ZWJ;\n}\n\nfunction codePointFromSurrogatePair(pair: string) {\n    const highOffset = pair.charCodeAt(0) - EnumRunesCode.HIGH_SURROGATE_START;\n    const lowOffset = pair.charCodeAt(1) - EnumRunesCode.LOW_SURROGATE_START;\n    return (highOffset << 10) + lowOffset + 0x10000;\n}\n\nfunction betweenInclusive(value: number, lower: number, upper: number) {\n    return value >= lower && value <= upper;\n}\n\nexport function substring(string: string, start?: number, width?: number) {\n    const chars = runes(string);\n    if (start === undefined) {\n        return string;\n    }\n    if (start >= chars.length) {\n        return \"\";\n    }\n    const rest = chars.length - start;\n    const stringWidth = width === undefined ? rest : width;\n    let endIndex: number | null = start + stringWidth;\n\n    if (endIndex > (start + rest)) {\n        endIndex = null;\n    }\n\n    if (endIndex === null) {\n        return chars.slice(start).join(\"\");\n    }\n\n    return chars.slice(start, endIndex).join(\"\");\n}\n","export const isEqOrIncludes = <T>(listOrSmt: T | T[], el: unknown): boolean => {\n    if (Array.isArray(listOrSmt)) {\n        return (listOrSmt as any[])?.includes(el);\n    }\n\n    return listOrSmt === el;\n};\n\nexport const setHasOrIncludes = <K>(\n    set: Set<K>,\n    key: K | K[],\n): boolean => {\n    if (Array.isArray(key)) {\n        return key.some((k) => set.has(k));\n    }\n\n    return set.has(key);\n};\n\nexport const mapAddOrPush = <K, V>(\n    map: Map<K, V[]>,\n    key: K,\n    value: V,\n): void => {\n    if (map.has(key)) {\n        map.get(key)?.push(value);\n    }\n    else {\n        map.set(key, [value]);\n    }\n};\n","// everything related to canvas, game loop and input\n\nimport type {\n    Cursor,\n    GamepadDef,\n    GamepadStick,\n    Key,\n    KGamepad,\n    KGamepadButton,\n    MouseButton,\n} from \"../types\";\n\nimport { map, Vec2, vec2 } from \"../math/math\";\n\nimport {\n    isEqOrIncludes,\n    KEventController,\n    KEventHandler,\n    overload2,\n    setHasOrIncludes,\n} from \"../utils\";\n\nimport GAMEPAD_MAP from \"../data/gamepad.json\" assert { type: \"json\" };\nimport type { AppEventMap } from \"../game\";\nimport {\n    type ButtonBinding,\n    type ButtonsDef,\n    getLastInputDeviceType,\n    parseButtonBindings,\n} from \"./inputBindings\";\n\nexport class ButtonState<T = string> {\n    pressed: Set<T> = new Set([]);\n    pressedRepeat: Set<T> = new Set([]);\n    released: Set<T> = new Set([]);\n    down: Set<T> = new Set([]);\n    update() {\n        this.pressed.clear();\n        this.released.clear();\n        this.pressedRepeat.clear();\n    }\n    press(btn: T) {\n        this.pressed.add(btn);\n        this.pressedRepeat.add(btn);\n        this.down.add(btn);\n    }\n    pressRepeat(btn: T) {\n        this.pressedRepeat.add(btn);\n    }\n    release(btn: T) {\n        this.down.delete(btn);\n        this.pressed.delete(btn);\n        this.released.add(btn);\n    }\n}\n\nclass GamepadState {\n    buttonState: ButtonState<KGamepadButton> = new ButtonState();\n    stickState: Map<GamepadStick, Vec2> = new Map();\n}\n\nclass FPSCounter {\n    private dts: number[] = [];\n    private timer: number = 0;\n    fps: number = 0;\n    tick(dt: number) {\n        this.dts.push(dt);\n        this.timer += dt;\n        if (this.timer >= 1) {\n            this.timer = 0;\n            this.fps = Math.round(\n                1 / (this.dts.reduce((a, b) => a + b) / this.dts.length),\n            );\n            this.dts = [];\n        }\n    }\n}\n\nexport type App = ReturnType<typeof initApp>;\nexport type AppState = ReturnType<typeof initAppState>;\n\nexport let appState: AppState;\n\nconst GP_MAP = GAMEPAD_MAP as Record<string, GamepadDef>;\n\nexport const initAppState = (opt: {\n    canvas: HTMLCanvasElement;\n    touchToMouse?: boolean;\n    gamepads?: Record<string, GamepadDef>;\n    pixelDensity?: number;\n    maxFPS?: number;\n    buttons?: ButtonsDef;\n}) => {\n    const buttons = opt.buttons ?? {};\n\n    return {\n        canvas: opt.canvas,\n        buttons: buttons,\n        buttonsByKey: new Map<Key, string[]>(),\n        buttonsByMouse: new Map<MouseButton, string[]>(),\n        buttonsByGamepad: new Map<KGamepadButton, string[]>(),\n        buttonsByKeyCode: new Map<string, string[]>(),\n        loopID: null as null | number,\n        stopped: false,\n        dt: 0,\n        fixedDt: 1 / 50,\n        restDt: 0,\n        time: 0,\n        realTime: 0,\n        fpsCounter: new FPSCounter(),\n        timeScale: 1,\n        skipTime: false,\n        isHidden: false,\n        numFrames: 0,\n        mousePos: new Vec2(0),\n        mouseDeltaPos: new Vec2(0),\n        keyState: new ButtonState<Key>(),\n        mouseState: new ButtonState<MouseButton>(),\n        mergedGamepadState: new GamepadState(),\n        gamepadStates: new Map<number, GamepadState>(),\n        lastInputDevice: null as \"mouse\" | \"keyboard\" | \"gamepad\" | null,\n        // unified input state\n        buttonState: new ButtonState<string>(),\n        gamepads: [] as KGamepad[],\n        charInputted: [] as string[],\n        isMouseMoved: false,\n        lastWidth: opt.canvas.offsetWidth,\n        lastHeight: opt.canvas.offsetHeight,\n        events: new KEventHandler<AppEventMap>(),\n    };\n};\n\nexport const initApp = (opt: {\n    canvas: HTMLCanvasElement;\n    touchToMouse?: boolean;\n    gamepads?: Record<string, GamepadDef>;\n    pixelDensity?: number;\n    maxFPS?: number;\n    buttons?: ButtonsDef;\n}) => {\n    if (!opt.canvas) {\n        throw new Error(\"Please provide a canvas\");\n    }\n\n    const state = initAppState(opt);\n    appState = state;\n    parseButtonBindings();\n\n    function dt() {\n        return state.dt * state.timeScale;\n    }\n\n    function fixedDt() {\n        return state.fixedDt * state.timeScale;\n    }\n\n    function restDt() {\n        return state.restDt * state.timeScale;\n    }\n\n    function isHidden() {\n        return state.isHidden;\n    }\n\n    function time() {\n        return state.time;\n    }\n\n    function fps() {\n        return state.fpsCounter.fps;\n    }\n\n    function numFrames() {\n        return state.numFrames;\n    }\n\n    function screenshot(): string {\n        return state.canvas.toDataURL();\n    }\n\n    function setCursor(c: Cursor): void {\n        state.canvas.style.cursor = c;\n    }\n\n    function getCursor(): Cursor {\n        return state.canvas.style.cursor;\n    }\n\n    function setCursorLocked(b: boolean): void {\n        if (b) {\n            try {\n                const res = state.canvas\n                    .requestPointerLock() as unknown as Promise<void>;\n                if (res.catch) {\n                    res.catch((e) => console.error(e));\n                }\n            } catch (e) {\n                console.error(e);\n            }\n        }\n        else {\n            document.exitPointerLock();\n        }\n    }\n\n    function isCursorLocked(): boolean {\n        return !!document.pointerLockElement;\n    }\n\n    // wrappers around full screen functions to work across browsers\n    function enterFullscreen(el: HTMLElement) {\n        if (el.requestFullscreen) el.requestFullscreen();\n        // @ts-ignore\n        else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();\n    }\n\n    function exitFullscreen() {\n        if (document.exitFullscreen) document.exitFullscreen();\n        // @ts-ignore\n        else if (document.webkitExitFullScreen) document.webkitExitFullScreen();\n    }\n\n    function setFullscreen(f: boolean = true) {\n        if (f) {\n            enterFullscreen(state.canvas);\n        }\n        else {\n            exitFullscreen();\n        }\n    }\n\n    function isFullscreen(): boolean {\n        return document.fullscreenElement === state.canvas\n            // @ts-ignore\n            || document.webkitFullscreenElement === state.canvas;\n    }\n\n    function quit() {\n        state.stopped = true;\n        const ce = Object.entries(canvasEvents);\n        const de = Object.entries(docEvents);\n        const we = Object.entries(winEvents);\n        type EL = EventListenerOrEventListenerObject;\n        for (const [name, val] of ce) {\n            state.canvas.removeEventListener(name, val as EL);\n        }\n        for (const [name, val] of de) {\n            document.removeEventListener(name, val as EL);\n        }\n        for (const [name, val] of we) {\n            window.removeEventListener(name, val as EL);\n        }\n        resizeObserver.disconnect();\n    }\n\n    function run(\n        fixedUpdate: () => void,\n        update: (processInput: () => void, resetInput: () => void) => void,\n    ) {\n        if (state.loopID !== null) {\n            cancelAnimationFrame(state.loopID);\n        }\n\n        let fixedAccumulatedDt = 0;\n        let accumulatedDt = 0;\n\n        const frame = (t: number) => {\n            if (state.stopped) return;\n\n            // TODO: allow background actions?\n            if (document.visibilityState !== \"visible\") {\n                state.loopID = requestAnimationFrame(frame);\n                return;\n            }\n\n            const loopTime = t / 1000;\n            const realDt = Math.min(loopTime - state.realTime, 0.25);\n            const desiredDt = opt.maxFPS ? 1 / opt.maxFPS : 0;\n\n            state.realTime = loopTime;\n            accumulatedDt += realDt;\n\n            if (accumulatedDt > desiredDt) {\n                if (!state.skipTime) {\n                    fixedAccumulatedDt += accumulatedDt;\n                    state.dt = state.fixedDt;\n                    state.restDt = 0;\n                    while (fixedAccumulatedDt > state.fixedDt) {\n                        fixedAccumulatedDt -= state.fixedDt;\n                        if (fixedAccumulatedDt < state.fixedDt) {\n                            state.restDt = fixedAccumulatedDt;\n                        }\n                        fixedUpdate();\n                    }\n                    state.restDt = fixedAccumulatedDt;\n                    state.dt = accumulatedDt;\n                    state.time += dt();\n                    state.fpsCounter.tick(state.dt);\n                }\n                accumulatedDt = 0;\n                state.skipTime = false;\n                state.numFrames++;\n\n                update(processInput, resetInput);\n            }\n\n            state.loopID = requestAnimationFrame(frame);\n        };\n\n        frame(0);\n    }\n\n    function isTouchscreen() {\n        return (\"ontouchstart\" in window) || navigator.maxTouchPoints > 0;\n    }\n\n    function mousePos(): Vec2 {\n        return state.mousePos.clone();\n    }\n\n    function mouseDeltaPos(): Vec2 {\n        return state.mouseDeltaPos.clone();\n    }\n\n    function isMousePressed(m: MouseButton = \"left\"): boolean {\n        return state.mouseState.pressed.has(m);\n    }\n\n    function isMouseDown(m: MouseButton = \"left\"): boolean {\n        return state.mouseState.down.has(m);\n    }\n\n    function isMouseReleased(m: MouseButton = \"left\"): boolean {\n        return state.mouseState.released.has(m);\n    }\n\n    function isMouseMoved(): boolean {\n        return state.isMouseMoved;\n    }\n\n    function isKeyPressed(k?: Key | Key[]): boolean {\n        return k === undefined\n            ? state.keyState.pressed.size > 0\n            : setHasOrIncludes(state.keyState.pressed, k);\n    }\n\n    function isKeyPressedRepeat(k?: Key | Key[]): boolean {\n        return k === undefined\n            ? state.keyState.pressedRepeat.size > 0\n            : setHasOrIncludes(state.keyState.pressedRepeat, k);\n    }\n\n    function isKeyDown(k?: Key | Key[]): boolean {\n        return k === undefined\n            ? state.keyState.down.size > 0\n            : setHasOrIncludes(state.keyState.down, k);\n    }\n\n    function isKeyReleased(k?: Key | Key[]): boolean {\n        return k === undefined\n            ? state.keyState.released.size > 0\n            : setHasOrIncludes(state.keyState.released, k);\n    }\n\n    function isGamepadButtonPressed(\n        btn?: KGamepadButton | KGamepadButton[],\n    ): boolean {\n        return btn === undefined\n            ? state.mergedGamepadState.buttonState.pressed.size > 0\n            : setHasOrIncludes(\n                state.mergedGamepadState.buttonState.pressed,\n                btn,\n            );\n    }\n\n    function isGamepadButtonDown(\n        btn?: KGamepadButton | KGamepadButton[],\n    ): boolean {\n        return btn === undefined\n            ? state.mergedGamepadState.buttonState.down.size > 0\n            : setHasOrIncludes(state.mergedGamepadState.buttonState.down, btn);\n    }\n\n    function isGamepadButtonReleased(\n        btn?: KGamepadButton | KGamepadButton[],\n    ): boolean {\n        return btn === undefined\n            ? state.mergedGamepadState.buttonState.released.size > 0\n            : setHasOrIncludes(\n                state.mergedGamepadState.buttonState.released,\n                btn,\n            );\n    }\n\n    function isButtonPressed(btn?: string | string[]): boolean {\n        return btn === undefined\n            ? state.buttonState.pressed.size > 0\n            : setHasOrIncludes(state.buttonState.pressed, btn);\n    }\n\n    function isButtonDown(btn?: string | string[]): boolean {\n        return btn === undefined\n            ? state.buttonState.down.size > 0\n            : setHasOrIncludes(state.buttonState.down, btn);\n    }\n\n    function isButtonReleased(btn?: string | string[]): boolean {\n        return btn === undefined\n            ? state.buttonState.released.size > 0\n            : setHasOrIncludes(state.buttonState.released, btn);\n    }\n\n    function getButton(btn: string): ButtonBinding {\n        return state.buttons?.[btn];\n    }\n\n    function setButton(btn: string, binding: ButtonBinding) {\n        state.buttons[btn] = {\n            ...state.buttons[btn],\n            ...binding,\n        };\n    }\n\n    function pressButton(btn: string) {\n        state.buttonState.press(btn);\n        state.events.trigger(\"buttonPress\", btn);\n    }\n\n    function releaseButton(btn: string) {\n        state.buttonState.release(btn);\n        state.events.trigger(\"buttonRelease\", btn);\n    }\n\n    function onResize(action: () => void): KEventController {\n        return state.events.on(\"resize\", action);\n    }\n\n    // input callbacks\n    const onKeyDown = overload2((action: (key: Key) => void) => {\n        return state.events.on(\"keyDown\", action);\n    }, (key: Key | Key[], action: (key: Key) => void) => {\n        return state.events.on(\n            \"keyDown\",\n            (k) => isEqOrIncludes(key, k) && action(k),\n        );\n    });\n\n    // key pressed is equal to the key by the user\n    const onKeyPress = overload2((action: (key: Key) => void) => {\n        return state.events.on(\"keyPress\", (k) => action(k));\n    }, (key: Key | Key[], action: (key: Key) => void) => {\n        return state.events.on(\n            \"keyPress\",\n            (k) => isEqOrIncludes(key, k) && action(k),\n        );\n    });\n\n    const onKeyPressRepeat = overload2((action: (key: Key) => void) => {\n        return state.events.on(\"keyPressRepeat\", action);\n    }, (key: Key | Key[], action: (key: Key) => void) => {\n        return state.events.on(\n            \"keyPressRepeat\",\n            (k) => isEqOrIncludes(key, k) && action(k),\n        );\n    });\n\n    const onKeyRelease = overload2((action: (key: Key) => void) => {\n        return state.events.on(\"keyRelease\", action);\n    }, (key: Key | Key[], action: (key: Key) => void) => {\n        return state.events.on(\n            \"keyRelease\",\n            (k) => isEqOrIncludes(key, k) && action(k),\n        );\n    });\n\n    const onMouseDown = overload2((action: (m: MouseButton) => void) => {\n        return state.events.on(\"mouseDown\", (m) => action(m));\n    }, (\n        mouse: MouseButton | MouseButton[],\n        action: (m: MouseButton) => void,\n    ) => {\n        return state.events.on(\n            \"mouseDown\",\n            (m) => isEqOrIncludes(mouse, m) && action(m),\n        );\n    });\n\n    const onMousePress = overload2((action: (m: MouseButton) => void) => {\n        return state.events.on(\"mousePress\", (m) => action(m));\n    }, (\n        mouse: MouseButton | MouseButton[],\n        action: (m: MouseButton) => void,\n    ) => {\n        return state.events.on(\n            \"mousePress\",\n            (m) => isEqOrIncludes(mouse, m) && action(m),\n        );\n    });\n\n    const onMouseRelease = overload2((action: (m: MouseButton) => void) => {\n        return state.events.on(\"mouseRelease\", (m) => action(m));\n    }, (\n        mouse: MouseButton | MouseButton[],\n        action: (m: MouseButton) => void,\n    ) => {\n        return state.events.on(\"mouseRelease\", (m) => m === mouse && action(m));\n    });\n\n    function onMouseMove(f: (pos: Vec2, dpos: Vec2) => void): KEventController {\n        return state.events.on(\n            \"mouseMove\",\n            () => f(mousePos(), mouseDeltaPos()),\n        );\n    }\n\n    function onCharInput(action: (ch: string) => void): KEventController {\n        return state.events.on(\"charInput\", action);\n    }\n\n    function onTouchStart(f: (pos: Vec2, t: Touch) => void): KEventController {\n        return state.events.on(\"touchStart\", f);\n    }\n\n    function onTouchMove(f: (pos: Vec2, t: Touch) => void): KEventController {\n        return state.events.on(\"touchMove\", f);\n    }\n\n    function onTouchEnd(f: (pos: Vec2, t: Touch) => void): KEventController {\n        return state.events.on(\"touchEnd\", f);\n    }\n\n    function onScroll(action: (delta: Vec2) => void): KEventController {\n        return state.events.on(\"scroll\", action);\n    }\n\n    function onHide(action: () => void): KEventController {\n        return state.events.on(\"hide\", action);\n    }\n\n    function onShow(action: () => void): KEventController {\n        return state.events.on(\"show\", action);\n    }\n\n    const onGamepadButtonPress = overload2(\n        (action: (btn: KGamepadButton, gamepad: KGamepad) => void) => {\n            return state.events.on(\n                \"gamepadButtonPress\",\n                (b, gp) => action(b, gp),\n            );\n        },\n        (\n            btn: KGamepadButton | KGamepadButton[],\n            action: (btn: KGamepadButton, gamepad: KGamepad) => void,\n        ) => {\n            return state.events.on(\n                \"gamepadButtonPress\",\n                (b, gp) => isEqOrIncludes(btn, b) && action(b, gp),\n            );\n        },\n    );\n\n    const onGamepadButtonDown = overload2(\n        (action: (btn: KGamepadButton, gamepad: KGamepad) => void) => {\n            return state.events.on(\n                \"gamepadButtonDown\",\n                (b, gp) => action(b, gp),\n            );\n        },\n        (\n            btn: KGamepadButton,\n            action: (btn: KGamepadButton, gamepad: KGamepad) => void,\n        ) => {\n            return state.events.on(\n                \"gamepadButtonDown\",\n                (b, gp) => isEqOrIncludes(btn, b) && action(b, gp),\n            );\n        },\n    );\n\n    const onGamepadButtonRelease = overload2(\n        (action: (btn: KGamepadButton, gamepad: KGamepad) => void) => {\n            return state.events.on(\n                \"gamepadButtonRelease\",\n                (b, gp) => action(b, gp),\n            );\n        },\n        (\n            btn: KGamepadButton | KGamepadButton[],\n            action: (btn: KGamepadButton, gamepad: KGamepad) => void,\n        ) => {\n            return state.events.on(\n                \"gamepadButtonRelease\",\n                (b, gp) => isEqOrIncludes(btn, b) && action(b, gp),\n            );\n        },\n    );\n\n    function onGamepadStick(\n        stick: GamepadStick,\n        action: (value: Vec2, gp: KGamepad) => void,\n    ): KEventController {\n        return state.events.on(\n            \"gamepadStick\",\n            (a, v, gp) => a === stick && action(v, gp),\n        );\n    }\n\n    function onGamepadConnect(action: (gamepad: KGamepad) => void) {\n        state.events.on(\"gamepadConnect\", action);\n    }\n\n    function onGamepadDisconnect(action: (gamepad: KGamepad) => void) {\n        state.events.on(\"gamepadDisconnect\", action);\n    }\n\n    function getGamepadStick(stick: GamepadStick): Vec2 {\n        return state.mergedGamepadState.stickState.get(stick) || new Vec2(0);\n    }\n\n    function charInputted(): string[] {\n        return [...state.charInputted];\n    }\n\n    function getGamepads(): KGamepad[] {\n        return [...state.gamepads];\n    }\n\n    const onButtonPress = overload2((action: (btn: string) => void) => {\n        return state.events.on(\"buttonPress\", (b) => action(b));\n    }, (btn: string | string, action: (btn: string) => void) => {\n        return state.events.on(\n            \"buttonPress\",\n            (b) => isEqOrIncludes(btn, b) && action(b),\n        );\n    });\n\n    const onButtonDown = overload2((action: (btn: string) => void) => {\n        return state.events.on(\"buttonDown\", (b) => action(b));\n    }, (btn: string | string, action: (btn: string) => void) => {\n        return state.events.on(\n            \"buttonDown\",\n            (b) => isEqOrIncludes(btn, b) && action(b),\n        );\n    });\n\n    const onButtonRelease = overload2((action: (btn: string) => void) => {\n        return state.events.on(\"buttonRelease\", (b) => action(b));\n    }, (btn: string | string, action: (btn: string) => void) => {\n        return state.events.on(\n            \"buttonRelease\",\n            (b) => isEqOrIncludes(btn, b) && action(b),\n        );\n    });\n\n    function processInput() {\n        state.events.trigger(\"input\");\n        state.keyState.down.forEach((k) => state.events.trigger(\"keyDown\", k));\n        state.mouseState.down.forEach((k) =>\n            state.events.trigger(\"mouseDown\", k)\n        );\n        state.buttonState.down.forEach((btn) => {\n            state.events.trigger(\"buttonDown\", btn);\n        });\n\n        processGamepad();\n    }\n\n    function resetInput() {\n        state.keyState.update();\n        state.mouseState.update();\n        state.buttonState.update();\n\n        state.mergedGamepadState.buttonState.update();\n        state.mergedGamepadState.stickState.forEach((v, k) => {\n            state.mergedGamepadState.stickState.set(k, new Vec2(0));\n        });\n\n        state.charInputted = [];\n        state.isMouseMoved = false;\n        state.mouseDeltaPos = new Vec2(0);\n\n        state.gamepadStates.forEach((s) => {\n            s.buttonState.update();\n            s.stickState.forEach((v, k) => {\n                s.stickState.set(k, new Vec2(0));\n            });\n        });\n    }\n\n    function registerGamepad(browserGamepad: Gamepad) {\n        const gamepad: KGamepad = {\n            index: browserGamepad.index,\n            isPressed: (btn: KGamepadButton) => {\n                return state.gamepadStates.get(browserGamepad.index)\n                    ?.buttonState\n                    .pressed.has(btn) || false;\n            },\n            isDown: (btn: KGamepadButton) => {\n                return state.gamepadStates.get(browserGamepad.index)\n                    ?.buttonState\n                    .down.has(btn) || false;\n            },\n            isReleased: (btn: KGamepadButton) => {\n                return state.gamepadStates.get(browserGamepad.index)\n                    ?.buttonState\n                    .released.has(btn) || false;\n            },\n            getStick: (stick: GamepadStick) => {\n                return state.gamepadStates.get(browserGamepad.index)?.stickState\n                    .get(stick) || vec2();\n            },\n        };\n\n        state.gamepads.push(gamepad);\n\n        state.gamepadStates.set(browserGamepad.index, {\n            buttonState: new ButtonState(),\n            stickState: new Map([\n                [\"left\", new Vec2(0)],\n                [\"right\", new Vec2(0)],\n            ]),\n        });\n\n        return gamepad;\n    }\n\n    function removeGamepad(gamepad: Gamepad) {\n        state.gamepads = state.gamepads.filter((g) =>\n            g.index !== gamepad.index\n        );\n        state.gamepadStates.delete(gamepad.index);\n    }\n\n    // TODO: Clean up this function\n    function processGamepad() {\n        for (const browserGamepad of navigator.getGamepads()) {\n            if (\n                browserGamepad && !state.gamepadStates.has(\n                    browserGamepad.index,\n                )\n            ) {\n                registerGamepad(browserGamepad);\n            }\n        }\n\n        for (const gamepad of state.gamepads) {\n            const browserGamepad = navigator.getGamepads()[gamepad.index];\n            if (!browserGamepad) continue;\n\n            const customMap = opt.gamepads ?? {};\n            const map = customMap[browserGamepad.id]\n                || GP_MAP[browserGamepad.id] || GP_MAP[\"default\"];\n            const gamepadState = state.gamepadStates.get(gamepad.index);\n            if (!gamepadState) continue;\n\n            for (let i = 0; i < browserGamepad.buttons.length; i++) {\n                const gamepadBtn = map.buttons[i];\n                const browserGamepadBtn = browserGamepad.buttons[i];\n                const isGamepadButtonBind = state.buttonsByGamepad.has(\n                    gamepadBtn,\n                );\n\n                if (browserGamepadBtn.pressed) {\n                    if (gamepadState.buttonState.down.has(gamepadBtn)) {\n                        state.events.trigger(\n                            \"gamepadButtonDown\",\n                            gamepadBtn,\n                            gamepad,\n                        );\n\n                        continue;\n                    }\n\n                    state.lastInputDevice = \"gamepad\";\n\n                    if (isGamepadButtonBind) {\n                        // replicate input in merged state, defined button state and gamepad state\n                        state.buttonsByGamepad.get(gamepadBtn)?.forEach(\n                            (btn) => {\n                                state.buttonState.press(btn);\n                                state.events.trigger(\"buttonPress\", btn);\n                            },\n                        );\n                    }\n\n                    state.mergedGamepadState.buttonState.press(gamepadBtn);\n                    gamepadState.buttonState.press(gamepadBtn);\n                    state.events.trigger(\n                        \"gamepadButtonPress\",\n                        gamepadBtn,\n                        gamepad,\n                    );\n                }\n                else if (gamepadState.buttonState.down.has(gamepadBtn)) {\n                    if (isGamepadButtonBind) {\n                        state.buttonsByGamepad.get(gamepadBtn)?.forEach(\n                            (btn) => {\n                                state.buttonState.release(btn);\n                                state.events.trigger(\"buttonRelease\", btn);\n                            },\n                        );\n                    }\n\n                    state.mergedGamepadState.buttonState.release(\n                        gamepadBtn,\n                    );\n                    gamepadState.buttonState.release(gamepadBtn);\n\n                    state.events.trigger(\n                        \"gamepadButtonRelease\",\n                        gamepadBtn,\n                        gamepad,\n                    );\n                }\n            }\n\n            for (const stickName in map.sticks) {\n                const stick = map.sticks[stickName as GamepadStick];\n                if (!stick) continue;\n                const value = new Vec2(\n                    browserGamepad.axes[stick.x],\n                    browserGamepad.axes[stick.y],\n                );\n                gamepadState.stickState.set(stickName as GamepadStick, value);\n                state.mergedGamepadState.stickState.set(\n                    stickName as GamepadStick,\n                    value,\n                );\n                state.events.trigger(\"gamepadStick\", stickName, value, gamepad);\n            }\n        }\n    }\n\n    type EventList<M> = {\n        [event in keyof M]?: (event: M[event]) => void;\n    };\n\n    const canvasEvents: EventList<HTMLElementEventMap> = {};\n    const docEvents: EventList<DocumentEventMap> = {};\n    const winEvents: EventList<WindowEventMap> = {};\n\n    const pd = opt.pixelDensity || 1;\n\n    canvasEvents.mousemove = (e) => {\n        const mousePos = new Vec2(e.offsetX, e.offsetY);\n        const mouseDeltaPos = new Vec2(e.movementX, e.movementY);\n\n        if (isFullscreen()) {\n            const cw = state.canvas.width / pd;\n            const ch = state.canvas.height / pd;\n            const ww = window.innerWidth;\n            const wh = window.innerHeight;\n            const rw = ww / wh;\n            const rc = cw / ch;\n            if (rw > rc) {\n                const ratio = wh / ch;\n                const offset = (ww - (cw * ratio)) / 2;\n                mousePos.x = map(e.offsetX - offset, 0, cw * ratio, 0, cw);\n                mousePos.y = map(e.offsetY, 0, ch * ratio, 0, ch);\n            }\n            else {\n                const ratio = ww / cw;\n                const offset = (wh - (ch * ratio)) / 2;\n                mousePos.x = map(e.offsetX, 0, cw * ratio, 0, cw);\n                mousePos.y = map(e.offsetY - offset, 0, ch * ratio, 0, ch);\n            }\n        }\n\n        state.events.onOnce(\"input\", () => {\n            state.isMouseMoved = true;\n            state.mousePos = mousePos;\n            state.mouseDeltaPos = mouseDeltaPos;\n            state.events.trigger(\"mouseMove\");\n        });\n    };\n\n    const MOUSE_BUTTONS: MouseButton[] = [\n        \"left\",\n        \"middle\",\n        \"right\",\n        \"back\",\n        \"forward\",\n    ];\n\n    canvasEvents.mousedown = (e) => {\n        state.events.onOnce(\"input\", () => {\n            const m = MOUSE_BUTTONS[e.button];\n            if (!m) return;\n\n            state.lastInputDevice = \"mouse\";\n\n            if (state.buttonsByMouse.has(m)) {\n                state.buttonsByMouse.get(m)?.forEach((btn) => {\n                    state.buttonState.press(btn);\n                    state.events.trigger(\"buttonPress\", btn);\n                });\n            }\n\n            state.mouseState.press(m);\n            state.events.trigger(\"mousePress\", m);\n        });\n    };\n\n    canvasEvents.mouseup = (e) => {\n        state.events.onOnce(\"input\", () => {\n            const m = MOUSE_BUTTONS[e.button];\n            if (!m) return;\n\n            if (state.buttonsByMouse.has(m)) {\n                state.buttonsByMouse.get(m)?.forEach((btn) => {\n                    state.buttonState.release(btn);\n                    state.events.trigger(\"buttonRelease\", btn);\n                });\n            }\n\n            state.mouseState.release(m);\n            state.events.trigger(\"mouseRelease\", m);\n        });\n    };\n\n    const PREVENT_DEFAULT_KEYS = new Set([\n        \" \",\n        \"ArrowLeft\",\n        \"ArrowRight\",\n        \"ArrowUp\",\n        \"ArrowDown\",\n        \"Tab\",\n    ]);\n\n    // translate these key names to a simpler version\n    const KEY_ALIAS = {\n        \"ArrowLeft\": \"left\",\n        \"ArrowRight\": \"right\",\n        \"ArrowUp\": \"up\",\n        \"ArrowDown\": \"down\",\n        \" \": \"space\",\n    };\n\n    canvasEvents.keydown = (e) => {\n        if (PREVENT_DEFAULT_KEYS.has(e.key)) {\n            e.preventDefault();\n        }\n        state.events.onOnce(\"input\", () => {\n            const k: Key = KEY_ALIAS[e.key as keyof typeof KEY_ALIAS] as Key\n                || e.key.toLowerCase();\n            const code = e.code;\n\n            if (k === undefined) throw new Error(`Unknown key: ${e.key}`);\n            if (k.length === 1) {\n                state.events.trigger(\"charInput\", k);\n                state.charInputted.push(k);\n            }\n            else if (k === \"space\") {\n                state.events.trigger(\"charInput\", \" \");\n                state.charInputted.push(\" \");\n            }\n            if (e.repeat) {\n                state.keyState.pressRepeat(k);\n                state.events.trigger(\"keyPressRepeat\", k);\n            }\n            else {\n                state.lastInputDevice = \"keyboard\";\n\n                if (state.buttonsByKey.has(k)) {\n                    state.buttonsByKey.get(k)?.forEach((btn) => {\n                        state.buttonState.press(btn);\n                        state.events.trigger(\"buttonPress\", btn);\n                    });\n                }\n\n                if (state.buttonsByKeyCode.has(code)) {\n                    state.buttonsByKeyCode.get(code)?.forEach((btn) => {\n                        state.buttonState.press(btn);\n                        state.events.trigger(\"buttonPress\", btn);\n                    });\n                }\n\n                state.keyState.press(k);\n                state.events.trigger(\"keyPressRepeat\", k);\n                state.events.trigger(\"keyPress\", k);\n            }\n        });\n    };\n\n    canvasEvents.keyup = (e) => {\n        state.events.onOnce(\"input\", () => {\n            const k: Key = KEY_ALIAS[e.key as keyof typeof KEY_ALIAS] as Key\n                || e.key.toLowerCase();\n            const code = e.code;\n\n            if (state.buttonsByKey.has(k)) {\n                state.buttonsByKey.get(k)?.forEach((btn) => {\n                    state.buttonState.release(btn);\n                    state.events.trigger(\"buttonRelease\", btn);\n                });\n            }\n\n            if (state.buttonsByKeyCode.has(code)) {\n                state.buttonsByKeyCode.get(code)?.forEach((btn) => {\n                    state.buttonState.release(btn);\n                    state.events.trigger(\"buttonRelease\", btn);\n                });\n            }\n\n            state.keyState.release(k);\n            state.events.trigger(\"keyRelease\", k);\n        });\n    };\n\n    // TODO: handle all touches at once instead of sequentially\n    canvasEvents.touchstart = (e) => {\n        // disable long tap context menu\n        e.preventDefault();\n\n        state.events.onOnce(\"input\", () => {\n            const touches = [...e.changedTouches];\n            const box = state.canvas.getBoundingClientRect();\n            if (opt.touchToMouse !== false) {\n                state.mousePos = new Vec2(\n                    touches[0].clientX - box.x,\n                    touches[0].clientY - box.y,\n                );\n\n                state.lastInputDevice = \"mouse\";\n\n                if (state.buttonsByMouse.has(\"left\")) {\n                    state.buttonsByMouse.get(\"left\")?.forEach((btn) => {\n                        state.buttonState.press(btn);\n                        state.events.trigger(\"buttonPress\", btn);\n                    });\n                }\n\n                state.mouseState.press(\"left\");\n                state.events.trigger(\"mousePress\", \"left\");\n            }\n            touches.forEach((t) => {\n                state.events.trigger(\n                    \"touchStart\",\n                    new Vec2(t.clientX - box.x, t.clientY - box.y),\n                    t,\n                );\n            });\n        });\n    };\n\n    canvasEvents.touchmove = (e) => {\n        // disable scrolling\n        e.preventDefault();\n        state.events.onOnce(\"input\", () => {\n            const touches = [...e.changedTouches];\n            const box = state.canvas.getBoundingClientRect();\n            if (opt.touchToMouse !== false) {\n                const lastMousePos = state.mousePos;\n                state.mousePos = new Vec2(\n                    touches[0].clientX - box.x,\n                    touches[0].clientY - box.y,\n                );\n                state.mouseDeltaPos = state.mousePos.sub(lastMousePos);\n                state.events.trigger(\"mouseMove\");\n            }\n            touches.forEach((t) => {\n                state.events.trigger(\n                    \"touchMove\",\n                    new Vec2(t.clientX - box.x, t.clientY - box.y),\n                    t,\n                );\n            });\n        });\n    };\n\n    canvasEvents.touchend = (e) => {\n        state.events.onOnce(\"input\", () => {\n            const touches = [...e.changedTouches];\n            const box = state.canvas.getBoundingClientRect();\n            if (opt.touchToMouse !== false) {\n                state.mousePos = new Vec2(\n                    touches[0].clientX - box.x,\n                    touches[0].clientY - box.y,\n                );\n                state.mouseDeltaPos = new Vec2(0, 0);\n\n                if (state.buttonsByMouse.has(\"left\")) {\n                    state.buttonsByMouse.get(\"left\")?.forEach((btn) => {\n                        state.buttonState.release(btn);\n                        state.events.trigger(\"buttonRelease\", btn);\n                    });\n                }\n\n                state.mouseState.release(\"left\");\n                state.events.trigger(\"mouseRelease\", \"left\");\n            }\n            touches.forEach((t) => {\n                state.events.trigger(\n                    \"touchEnd\",\n                    new Vec2(t.clientX - box.x, t.clientY - box.y),\n                    t,\n                );\n            });\n        });\n    };\n\n    canvasEvents.touchcancel = (e) => {\n        state.events.onOnce(\"input\", () => {\n            const touches = [...e.changedTouches];\n            const box = state.canvas.getBoundingClientRect();\n            if (opt.touchToMouse !== false) {\n                state.mousePos = new Vec2(\n                    touches[0].clientX - box.x,\n                    touches[0].clientY - box.y,\n                );\n                state.mouseState.release(\"left\");\n                state.events.trigger(\"mouseRelease\", \"left\");\n            }\n            touches.forEach((t) => {\n                state.events.trigger(\n                    \"touchEnd\",\n                    new Vec2(t.clientX - box.x, t.clientY - box.y),\n                    t,\n                );\n            });\n        });\n    };\n\n    // TODO: option to not prevent default?\n    canvasEvents.wheel = (e) => {\n        e.preventDefault();\n        state.events.onOnce(\"input\", () => {\n            state.events.trigger(\"scroll\", new Vec2(e.deltaX, e.deltaY));\n        });\n    };\n\n    canvasEvents.contextmenu = (e) => e.preventDefault();\n\n    docEvents.visibilitychange = () => {\n        if (document.visibilityState === \"visible\") {\n            // prevent a surge of dt when switch back after the tab being hidden for a while\n            state.skipTime = true;\n            state.isHidden = false;\n            state.events.trigger(\"show\");\n        }\n        else {\n            state.isHidden = true;\n            state.events.trigger(\"hide\");\n        }\n    };\n\n    winEvents.gamepadconnected = (e) => {\n        const kbGamepad = registerGamepad(e.gamepad);\n        state.events.onOnce(\"input\", () => {\n            state.events.trigger(\"gamepadConnect\", kbGamepad);\n        });\n    };\n\n    winEvents.gamepaddisconnected = (e) => {\n        const kbGamepad =\n            getGamepads().filter((g) => g.index === e.gamepad.index)[0];\n        removeGamepad(e.gamepad);\n        state.events.onOnce(\"input\", () => {\n            state.events.trigger(\"gamepadDisconnect\", kbGamepad);\n        });\n    };\n\n    for (const [name, val] of Object.entries(canvasEvents)) {\n        state.canvas.addEventListener(\n            name,\n            val as EventListenerOrEventListenerObject,\n        );\n    }\n\n    for (const [name, val] of Object.entries(docEvents)) {\n        document.addEventListener(\n            name,\n            val as EventListenerOrEventListenerObject,\n        );\n    }\n\n    for (const [name, val] of Object.entries(winEvents)) {\n        window.addEventListener(\n            name,\n            val as EventListenerOrEventListenerObject,\n        );\n    }\n\n    const resizeObserver = new ResizeObserver((entries) => {\n        for (const entry of entries) {\n            if (entry.target !== state.canvas) continue;\n            if (\n                state.lastWidth === state.canvas.offsetWidth\n                && state.lastHeight === state.canvas.offsetHeight\n            ) return;\n            state.lastWidth = state.canvas.offsetWidth;\n            state.lastHeight = state.canvas.offsetHeight;\n            state.events.onOnce(\"input\", () => {\n                state.events.trigger(\"resize\");\n            });\n        }\n    });\n\n    resizeObserver.observe(state.canvas);\n\n    return {\n        state,\n        dt,\n        fixedDt,\n        restDt,\n        time,\n        run,\n        canvas: state.canvas,\n        fps,\n        numFrames,\n        quit,\n        isHidden,\n        setFullscreen,\n        isFullscreen,\n        setCursor,\n        screenshot,\n        getGamepads,\n        getCursor,\n        setCursorLocked,\n        isCursorLocked,\n        isTouchscreen,\n        mousePos,\n        mouseDeltaPos,\n        isKeyDown,\n        isKeyPressed,\n        isKeyPressedRepeat,\n        isKeyReleased,\n        isMouseDown,\n        isMousePressed,\n        isMouseReleased,\n        isMouseMoved,\n        isGamepadButtonPressed,\n        isGamepadButtonDown,\n        isGamepadButtonReleased,\n        getGamepadStick,\n        isButtonPressed,\n        isButtonDown,\n        isButtonReleased,\n        setButton,\n        getButton,\n        pressButton,\n        releaseButton,\n        charInputted,\n        onResize,\n        onKeyDown,\n        onKeyPress,\n        onKeyPressRepeat,\n        onKeyRelease,\n        onMouseDown,\n        onMousePress,\n        onMouseRelease,\n        onMouseMove,\n        onCharInput,\n        onTouchStart,\n        onTouchMove,\n        onTouchEnd,\n        onScroll,\n        onHide,\n        onShow,\n        onGamepadButtonDown,\n        onGamepadButtonPress,\n        onGamepadButtonRelease,\n        onGamepadStick,\n        onGamepadConnect,\n        onGamepadDisconnect,\n        onButtonPress,\n        onButtonDown,\n        onButtonRelease,\n        getLastInputDeviceType,\n        events: state.events,\n    };\n};\n","export const uid = (() => {\n    let id = 0;\n    return () => id++;\n})();\n","import type { KAPLAYCtx, Key, KGamepadButton, MouseButton } from \"../types\";\nimport { mapAddOrPush } from \"../utils\";\nimport { appState } from \"./app\";\n\n/**\n * A button binding.\n *\n * @group Button Bindings\n */\nexport type ButtonBinding = {\n    keyboard?: Key | Key[];\n    keyboardCode?: string | string[];\n    gamepad?: KGamepadButton | KGamepadButton[];\n    mouse?: MouseButton | MouseButton[];\n};\n\n/**\n * A buttons definition for an action (jump, walk-left, run).\n *\n * @group Button Bindings\n */\nexport type ButtonsDef = Record<string, ButtonBinding>;\n\n/**\n * A button binding device\n *\n * @group Button Bindings\n */\nexport type ButtonBindingDevice = \"keyboard\" | \"gamepad\" | \"mouse\";\n\nexport const getLastInputDeviceType: KAPLAYCtx[\"getLastInputDeviceType\"] =\n    () => {\n        return appState.lastInputDevice;\n    };\n\n// pass the user `buttons` definition to different keymaps\nexport const parseButtonBindings = () => {\n    const btns = appState.buttons;\n\n    for (const b in btns) {\n        const keyboardBtns = btns[b].keyboard && [btns[b].keyboard].flat();\n        const keyboardCodes = btns[b].keyboardCode\n            && [btns[b].keyboardCode].flat();\n        const gamepadBtns = btns[b].gamepad && [btns[b].gamepad].flat();\n        const mouseBtns = btns[b].mouse && [btns[b].mouse].flat();\n\n        if (keyboardBtns) {\n            keyboardBtns.forEach((k) => {\n                mapAddOrPush(appState.buttonsByKey, k, b);\n            });\n        }\n\n        if (keyboardCodes) {\n            keyboardCodes.forEach((k) => {\n                mapAddOrPush(appState.buttonsByKeyCode, k, b);\n            });\n        }\n\n        if (gamepadBtns) {\n            gamepadBtns.forEach((g) => {\n                mapAddOrPush(appState.buttonsByGamepad, g, b);\n            });\n        }\n\n        if (mouseBtns) {\n            mouseBtns.forEach((m) => {\n                mapAddOrPush(appState.buttonsByMouse, m, b);\n            });\n        }\n    }\n};\n","{\n  \"Joy-Con L+R (STANDARD GAMEPAD Vendor: 057e Product: 200e)\": {\n    \"buttons\": {\n      \"0\": \"south\",\n      \"1\": \"east\",\n      \"2\": \"west\",\n      \"3\": \"north\",\n      \"4\": \"lshoulder\",\n      \"5\": \"rshoulder\",\n      \"6\": \"ltrigger\",\n      \"7\": \"rtrigger\",\n      \"8\": \"select\",\n      \"9\": \"start\",\n      \"10\": \"lstick\",\n      \"11\": \"rstick\",\n      \"12\": \"dpad-up\",\n      \"13\": \"dpad-down\",\n      \"14\": \"dpad-left\",\n      \"15\": \"dpad-right\",\n      \"16\": \"home\",\n      \"17\": \"capture\"\n    },\n    \"sticks\": {\n      \"left\": { \"x\": 0, \"y\": 1 },\n      \"right\": { \"x\": 2, \"y\": 3 }\n    }\n  },\n  \"Joy-Con (L) (STANDARD GAMEPAD Vendor: 057e Product: 2006)\": {\n    \"buttons\": {\n      \"0\": \"south\",\n      \"1\": \"east\",\n      \"2\": \"west\",\n      \"3\": \"north\",\n      \"4\": \"lshoulder\",\n      \"5\": \"rshoulder\",\n      \"9\": \"select\",\n      \"10\": \"lstick\",\n      \"16\": \"start\"\n    },\n    \"sticks\": {\n      \"left\": { \"x\": 0, \"y\": 1 }\n    }\n  },\n  \"Joy-Con (R) (STANDARD GAMEPAD Vendor: 057e Product: 2007)\": {\n    \"buttons\": {\n      \"0\": \"south\",\n      \"1\": \"east\",\n      \"2\": \"west\",\n      \"3\": \"north\",\n      \"4\": \"lshoulder\",\n      \"5\": \"rshoulder\",\n      \"9\": \"start\",\n      \"10\": \"lstick\",\n      \"16\": \"select\"\n    },\n    \"sticks\": {\n      \"left\": { \"x\": 0, \"y\": 1 }\n    }\n  },\n  \"Pro Controller (STANDARD GAMEPAD Vendor: 057e Product: 2009)\": {\n    \"buttons\": {\n      \"0\": \"south\",\n      \"1\": \"east\",\n      \"2\": \"west\",\n      \"3\": \"north\",\n      \"4\": \"lshoulder\",\n      \"5\": \"rshoulder\",\n      \"6\": \"ltrigger\",\n      \"7\": \"rtrigger\",\n      \"8\": \"select\",\n      \"9\": \"start\",\n      \"10\": \"lstick\",\n      \"11\": \"rstick\",\n      \"12\": \"dpad-up\",\n      \"13\": \"dpad-down\",\n      \"14\": \"dpad-left\",\n      \"15\": \"dpad-right\",\n      \"16\": \"home\",\n      \"17\": \"capture\"\n    },\n    \"sticks\": {\n      \"left\": { \"x\": 0, \"y\": 1 },\n      \"right\": { \"x\": 2, \"y\": 3 }\n    }\n  },\n  \"default\": {\n    \"buttons\": {\n      \"0\": \"south\",\n      \"1\": \"east\",\n      \"2\": \"west\",\n      \"3\": \"north\",\n      \"4\": \"lshoulder\",\n      \"5\": \"rshoulder\",\n      \"6\": \"ltrigger\",\n      \"7\": \"rtrigger\",\n      \"8\": \"select\",\n      \"9\": \"start\",\n      \"10\": \"lstick\",\n      \"11\": \"rstick\",\n      \"12\": \"dpad-up\",\n      \"13\": \"dpad-down\",\n      \"14\": \"dpad-left\",\n      \"15\": \"dpad-right\",\n      \"16\": \"home\"\n    },\n    \"sticks\": {\n      \"left\": { \"x\": 0, \"y\": 1 },\n      \"right\": { \"x\": 2, \"y\": 3 }\n    }\n  }\n}\n","import { _k } from \"../kaplay\";\n\nexport function dt() {\n    return _k.app.dt();\n}\n\nexport function fixedDt() {\n    return _k.app.fixedDt();\n}\n\nexport function restDt() {\n    return _k.app.restDt();\n}\n","import { Vec2 } from \"../math/math\";\nimport { type Anchor } from \"../types\";\nimport type { TextAlign } from \"./draw\";\n\nconst TOP_LEFT = new Vec2(-1, -1);\nconst TOP = new Vec2(0, -1);\nconst TOP_RIGHT = new Vec2(1, -1);\nconst LEFT = new Vec2(-1, 0);\nconst CENTER = new Vec2(0, 0);\nconst RIGHT = new Vec2(1, 0);\nconst BOTTOM_LEFT = new Vec2(-1, 1);\nconst BOTTOM = new Vec2(0, 1);\nconst BOTTOM_RIGHT = new Vec2(1, 1);\n\n// convert anchor string to a vec2 offset\nexport function anchorPt(orig: Anchor | Vec2): Vec2 {\n    switch (orig) {\n        case \"topleft\":\n            return TOP_LEFT;\n        case \"top\":\n            return TOP;\n        case \"topright\":\n            return TOP_RIGHT;\n        case \"left\":\n            return LEFT;\n        case \"center\":\n            return CENTER;\n        case \"right\":\n            return RIGHT;\n        case \"botleft\":\n            return BOTTOM_LEFT;\n        case \"bot\":\n            return BOTTOM;\n        case \"botright\":\n            return BOTTOM_RIGHT;\n        default:\n            return orig;\n    }\n}\n\nexport function alignPt(align: TextAlign): number {\n    switch (align) {\n        case \"left\":\n            return 0;\n        case \"center\":\n            return 0.5;\n        case \"right\":\n            return 1;\n        default:\n            return 0;\n    }\n}\n\nexport function createEmptyAudioBuffer(ctx: AudioContext) {\n    return ctx.createBuffer(1, 1, 44100);\n}\n","// https://easings.net/\nconst c1 = 1.70158;\nconst c2 = c1 * 1.525;\nconst c3 = c1 + 1;\nconst c4 = (2 * Math.PI) / 3;\nconst c5 = (2 * Math.PI) / 4.5;\n\nconst easings = {\n    linear: (x: number) => x,\n    easeInSine: (x: number) => 1 - Math.cos((x * Math.PI) / 2),\n    easeOutSine: (x: number) => Math.sin((x * Math.PI) / 2),\n    easeInOutSine: (x: number) => -(Math.cos(Math.PI * x) - 1) / 2,\n    easeInQuad: (x: number) => x * x,\n    easeOutQuad: (x: number) => 1 - (1 - x) * (1 - x),\n    easeInOutQuad: (x: number) =>\n        x < 0.5 ? 2 * x * x : 1 - Math.pow(-2 * x + 2, 2) / 2,\n    easeInCubic: (x: number) => x * x * x,\n    easeOutCubic: (x: number) => 1 - Math.pow(1 - x, 3),\n    easeInOutCubic: (x: number) =>\n        x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2,\n    easeInQuart: (x: number) => x * x * x * x,\n    easeOutQuart: (x: number) => 1 - Math.pow(1 - x, 4),\n    easeInOutQuart: (x: number) =>\n        x < 0.5 ? 8 * x * x * x * x : 1 - Math.pow(-2 * x + 2, 4) / 2,\n    easeInQuint: (x: number) => x * x * x * x * x,\n    easeOutQuint: (x: number) => 1 - Math.pow(1 - x, 5),\n    easeInOutQuint: (x: number) =>\n        x < 0.5 ? 16 * x * x * x * x * x : 1 - Math.pow(-2 * x + 2, 5) / 2,\n    easeInExpo: (x: number) => x === 0 ? 0 : Math.pow(2, 10 * x - 10),\n    easeOutExpo: (x: number) => x === 1 ? 1 : 1 - Math.pow(2, -10 * x),\n    easeInOutExpo: (x: number) => {\n        return x === 0\n            ? 0\n            : x === 1\n            ? 1\n            : x < 0.5\n            ? Math.pow(2, 20 * x - 10) / 2\n            : (2 - Math.pow(2, -20 * x + 10)) / 2;\n    },\n    easeInCirc: (x: number) => 1 - Math.sqrt(1 - Math.pow(x, 2)),\n    easeOutCirc: (x: number) => Math.sqrt(1 - Math.pow(x - 1, 2)),\n    easeInOutCirc: (x: number) => {\n        return x < 0.5\n            ? (1 - Math.sqrt(1 - Math.pow(2 * x, 2))) / 2\n            : (Math.sqrt(1 - Math.pow(-2 * x + 2, 2)) + 1) / 2;\n    },\n    easeInBack: (x: number) => c3 * x * x * x - c1 * x * x,\n    easeOutBack: (x: number) =>\n        1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2),\n    easeInOutBack: (x: number) => {\n        return x < 0.5\n            ? (Math.pow(2 * x, 2) * ((c2 + 1) * 2 * x - c2)) / 2\n            : (Math.pow(2 * x - 2, 2) * ((c2 + 1) * (x * 2 - 2) + c2) + 2) / 2;\n    },\n    easeInElastic: (x: number) => {\n        return x === 0\n            ? 0\n            : x === 1\n            ? 1\n            : -Math.pow(2, 10 * x - 10) * Math.sin((x * 10 - 10.75) * c4);\n    },\n    easeOutElastic: (x: number) => {\n        return x === 0\n            ? 0\n            : x === 1\n            ? 1\n            : Math.pow(2, -10 * x) * Math.sin((x * 10 - 0.75) * c4) + 1;\n    },\n    easeInOutElastic: (x: number) => {\n        return x === 0\n            ? 0\n            : x === 1\n            ? 1\n            : x < 0.5\n            ? -(Math.pow(2, 20 * x - 10) * Math.sin((20 * x - 11.125) * c5)) / 2\n            : (Math.pow(2, -20 * x + 10) * Math.sin((20 * x - 11.125) * c5)) / 2\n                + 1;\n    },\n    easeInBounce: (x: number) => 1 - easings.easeOutBounce(1 - x),\n    easeOutBounce: (x: number) => {\n        const n1 = 7.5625;\n        const d1 = 2.75;\n        if (x < 1 / d1) {\n            return n1 * x * x;\n        }\n        else if (x < 2 / d1) {\n            return n1 * (x -= 1.5 / d1) * x + 0.75;\n        }\n        else if (x < 2.5 / d1) {\n            return n1 * (x -= 2.25 / d1) * x + 0.9375;\n        }\n        else {\n            return n1 * (x -= 2.625 / d1) * x + 0.984375;\n        }\n    },\n    easeInOutBounce: (x: number) => {\n        return x < 0.5\n            ? (1 - easings.easeOutBounce(1 - 2 * x)) / 2\n            : (1 + easings.easeOutBounce(2 * x - 1)) / 2;\n    },\n};\n\nexport default easings;\n","import { BinaryHeap } from \"../utils\";\nimport { Vec2 } from \"./math\";\n\nexport interface Graph {\n    /* Returns the reachable neighbours of this location */\n    getNeighbours(node: number): number[];\n    /* Returns the cost to go from the node to its neighbor */\n    getCost(node: number, neighbor: number): number;\n    /* Returns the cost to go from the node to the goal */\n    getHeuristic(node: number, goal: number): number;\n    /* Returns the path as locations */\n    getPath(from: number, to: number): number[];\n    /* Returns the path as waypoints */\n    getWaypointPath(\n        from: Vec2,\n        to: Vec2,\n        opt: any,\n    ): Vec2[];\n}\n\nfunction buildPath(start: number, goal: number, cameFrom: Map<number, number>) {\n    const path = [];\n    let node = goal;\n    path.push(node);\n    while (node !== start) {\n        // TODO: Remove non-null assertion\n        node = cameFrom.get(node)!;\n        if (node == undefined) return null;\n        path.push(node);\n    }\n    return path.reverse();\n}\n\nexport function breadthFirstSearch(\n    graph: Graph,\n    start: number,\n    goal: number,\n) {\n    let frontier = [];\n    frontier.push(start);\n\n    let cameFrom = new Map<number, number>();\n    cameFrom.set(start, start);\n\n    while (frontier.length !== 0) {\n        let current = frontier.pop();\n\n        if (current === goal) {\n            break;\n        }\n\n        // TODO: Remove non-null assertion\n        const neighbours = graph.getNeighbours(current!);\n        for (let next of neighbours) {\n            if (!cameFrom.get(next)) {\n                frontier.push(next);\n                // TODO: Remove non-null assertion\n                cameFrom.set(next, current!);\n            }\n        }\n    }\n    return buildPath(start, goal, cameFrom);\n}\n\nexport function dijkstraSearch(\n    graph: Graph,\n    start: number,\n    goal: number,\n) {\n    interface CostNode {\n        cost: number;\n        node: number;\n    }\n    const frontier = new BinaryHeap<CostNode>();\n    frontier.insert({ cost: 0, node: start });\n\n    const cameFrom = new Map<number, number>();\n    cameFrom.set(start, start);\n    const costSoFar = new Map<number, number>();\n    costSoFar.set(start, 0);\n\n    while (frontier.length !== 0) {\n        const current = frontier.remove()?.node;\n\n        if (current === goal) {\n            break;\n        }\n\n        // TODO: Remove non-null assertion\n        const neighbours = graph.getNeighbours(current!);\n        for (let next of neighbours) {\n            const newCost = (costSoFar.get(current!) || 0)\n                + graph.getCost(current!, next);\n            if (\n                !costSoFar.has(next)\n                || newCost < costSoFar.get(next)!\n            ) {\n                costSoFar.set(next, newCost);\n                frontier.insert({ cost: newCost, node: next });\n                cameFrom.set(next, current!);\n            }\n        }\n    }\n\n    return buildPath(start, goal, cameFrom);\n}\n\nexport function aStarSearch(\n    graph: Graph,\n    start: number,\n    goal: number,\n): number[] {\n    interface CostNode {\n        cost: number;\n        node: number;\n    }\n    const frontier = new BinaryHeap<CostNode>((a, b) => a.cost < b.cost);\n    frontier.insert({ cost: 0, node: start });\n\n    const cameFrom = new Map<number, number>();\n    cameFrom.set(start, start);\n    const costSoFar = new Map<number, number>();\n    costSoFar.set(start, 0);\n\n    while (frontier.length !== 0) {\n        const current = frontier.remove()?.node;\n\n        if (current === goal) {\n            break;\n        }\n\n        // TODO: Remove non-null assertion\n        const neighbours = graph.getNeighbours(current!);\n        for (let next of neighbours) {\n            const newCost = (costSoFar.get(current!) || 0)\n                + graph.getCost(current!, next)\n                + graph.getHeuristic(next, goal);\n            if (\n                !costSoFar.has(next)\n                || newCost < costSoFar.get(next)!\n            ) {\n                costSoFar.set(next, newCost);\n                frontier.insert({ cost: newCost, node: next });\n                cameFrom.set(next, current!);\n            }\n        }\n    }\n\n    // TODO: Remove non-null assertion\n    return buildPath(start, goal, cameFrom)!;\n}\n","import { Vec2, vec2 } from \"./math\";\nimport { aStarSearch, type Graph } from \"./navigation\";\n\nclass NavEdge {\n    a: Vec2;\n    b: Vec2;\n    polygon: WeakRef<NavPolygon>;\n\n    constructor(a: Vec2, b: Vec2, polygon: NavPolygon) {\n        this.a = a;\n        this.b = b;\n        this.polygon = new WeakRef(polygon);\n    }\n\n    isLeft(x: number, y: number) {\n        return ((this.b.x - this.a.x) * (y - this.a.y)\n            - (x - this.a.x) * (this.b.y - this.a.y));\n    }\n\n    get middle() {\n        return this.a.add(this.b).scale(0.5);\n    }\n}\n\nclass NavPolygon {\n    // I don't know if set a default affects how the code is did\n    // TODO: Remove non-null assertion\n    private _edges!: NavEdge[];\n    private _centroid!: Vec2;\n    private _id: number;\n\n    constructor(id: number) {\n        this._id = id;\n    }\n\n    get id() {\n        return this._id;\n    }\n\n    set edges(edges: NavEdge[]) {\n        this._edges = edges;\n        let centerX = 0;\n        let centerY = 0;\n        let area = 0;\n        for (let edge of this._edges) {\n            edge.polygon = new WeakRef(this);\n            const cross = edge.a.x * edge.b.y - edge.a.y * edge.b.x;\n            centerX += (edge.a.x + edge.b.x) * cross;\n            centerY += (edge.a.y + edge.b.y) * cross;\n            area += cross;\n        }\n        area /= 2;\n        this._centroid = vec2(centerX / (6 * area), centerY / (6 * area));\n    }\n\n    get edges(): NavEdge[] {\n        return this._edges;\n    }\n\n    get centroid(): Vec2 {\n        return this._centroid;\n    }\n\n    // https://web.archive.org/web/20130126163405/http://geomalgorithms.com/a03-_inclusion.html\n    /*contains(x: number, y: number) {\n        let wn = 0;\n\n        for (let edge of this._edges) {\n            if (edge.a.y <= y) {\n                if (edge.b.y > y) {\n                    if (edge.isLeft(x, y) > 0) {\n                        ++wn;\n                    }\n                }\n            } else {\n                if (edge.b.y <= y) {\n                    if (edge.isLeft(x, y) < 0) {\n                        --wn;\n                    }\n                }\n            }\n        }\n        return wn;\n    }*/\n\n    contains(p: Vec2) {\n        let c = false;\n\n        for (const e of this.edges) {\n            if (\n                ((e.b.y > p.y) != (e.a.y > p.y))\n                && (p.x\n                    < (e.a.x - e.b.x) * (p.y - e.b.y) / (e.a.y - e.b.y) + e.b.x)\n            ) {\n                c = !c;\n            }\n        }\n\n        return c;\n    }\n}\n\nexport class NavMesh implements Graph {\n    private _polygons: NavPolygon[];\n    private _pointCache: { [key: string]: Vec2 };\n    private _edgeCache: { [key: string]: NavEdge };\n\n    constructor() {\n        this._polygons = [];\n        this._pointCache = {};\n        this._edgeCache = {};\n    }\n\n    private _addPoint(p: Vec2) {\n        let point = this._pointCache[`${p.x}_${p.y}`];\n        if (point) {\n            return point;\n        }\n        point = p.clone();\n        this._pointCache[`${p.x}_${p.y}`] = point;\n        return point;\n    }\n\n    private _addEdge(edge: NavEdge): NavEdge {\n        const key = `${edge.a.x}_${edge.a.y}-${edge.b.x}_${edge.b.y}`;\n        this._edgeCache[key] = edge;\n        return edge;\n    }\n\n    private _findEdge(a: Vec2, b: Vec2) {\n        const key = `${a.x}_${a.y}-${b.x}_${b.y}`;\n        return this._edgeCache[key];\n    }\n\n    private _findCommonEdge(a: NavPolygon, b: NavPolygon): NavEdge | null {\n        for (const edge of a.edges) {\n            const e = this._findEdge(edge.b, edge.a);\n            // TODO: Remove non-null assertion\n            if (e && e.polygon.deref()!.id === b.id) {\n                return e;\n            }\n        }\n        return null;\n    }\n\n    addPolygon(vertices: Vec2[]) {\n        const polygon = new NavPolygon(this._polygons.length);\n        const edges = vertices.map((v, index) =>\n            new NavEdge(v, vertices[(index + 1) % vertices.length], polygon)\n        );\n        polygon.edges = edges;\n        this._polygons.push(polygon);\n        for (const edge of polygon.edges) {\n            this._addEdge(edge);\n        }\n        return polygon;\n    }\n\n    addRect(pos: Vec2, size: Vec2) {\n        const a = this._addPoint(pos);\n        const b = this._addPoint(pos.add(size.x, 0));\n        const c = this._addPoint(pos.add(size));\n        const d = this._addPoint(pos.add(0, size.y));\n        return this.addPolygon([a, b, c, d]);\n    }\n\n    private _getLocation(p: Vec2): NavPolygon | null {\n        for (let polygon of this._polygons) {\n            if (polygon.contains(p)) {\n                return polygon;\n            }\n        }\n        return null;\n    }\n\n    getNeighbours(index: number): number[] {\n        const neighbours = [];\n        for (let edge of this._polygons[index].edges) {\n            // Lookup polygons with reverse edge\n            const pairEdge = this._findEdge(edge.b, edge.a);\n            if (pairEdge) {\n                const pairPolygon = pairEdge.polygon.deref();\n                if (pairPolygon) {\n                    neighbours.push(pairPolygon.id);\n                }\n            }\n        }\n        return neighbours;\n    }\n\n    getCost(a: number, b: number) {\n        return 1;\n    }\n\n    getHeuristic(indexA: number, indexB: number) {\n        const a = this._polygons[indexA];\n        const b = this._polygons[indexB];\n        const x = a.centroid.x - b.centroid.x;\n        const y = a.centroid.y - b.centroid.y;\n        return Math.sqrt(x * x + y * y);\n    }\n\n    getPath(start: number, goal: number): number[] {\n        // Points are not within the navigation mesh\n        if (start === undefined || goal === undefined) {\n            return [];\n        }\n\n        // Same polygon\n        if (start === goal) {\n            return [start, goal];\n        }\n\n        return aStarSearch(this, start, goal);\n    }\n\n    getWaypointPath(start: Vec2, goal: Vec2, opt: any): Vec2[] {\n        const type = opt?.type || \"centroids\";\n\n        const startPolygon = this._getLocation(start);\n        const goalPolygon = this._getLocation(goal);\n\n        // Points are not within the navigation mesh\n        if (startPolygon === undefined || goalPolygon === undefined) {\n            return [];\n        }\n\n        // TODO: Remove non-null assertion\n        const path = this.getPath(startPolygon!.id, goalPolygon!.id);\n\n        // No path was found\n        if (!path) {\n            return [];\n        }\n\n        if (type === \"edges\") {\n            const edges = [];\n            for (let i = 1; i < path.length; i++) {\n                const p1 = this._polygons[path[i - 1]];\n                const p2 = this._polygons[path[i]];\n                const edge = this._findCommonEdge(p1, p2);\n                // TODO: Remove non-null assertion\n                edges.push(\n                    edge!.middle.add(\n                        p2.centroid.sub(edge!.middle).unit().scale(4),\n                    ),\n                );\n            }\n            return [start, ...edges, goal];\n        }\n        else { // type === \"centroids\"\n            return [\n                start,\n                ...path.slice(1, -1).map(index =>\n                    this._polygons[index].centroid\n                ),\n                goal,\n            ];\n        }\n    }\n}\n","import { height, width } from \"../gfx\";\nimport type { GameObj } from \"../types\";\nimport { deg2rad, Mat4, Vec2, vec2 } from \"./math\";\n\nexport function calcTransform(obj: GameObj): Mat4 {\n    const tr = new Mat4();\n    if (obj.pos) tr.translate(obj.pos);\n    if (obj.scale) tr.scale(obj.scale);\n    if (obj.angle) tr.rotate(obj.angle);\n    return obj.parent ? tr.mult(obj.parent.transform) : tr;\n}\n\n// convert a screen space coordinate to webgl normalized device coordinate\nexport function screen2ndc(pt: Vec2): Vec2 {\n    return new Vec2(\n        pt.x / width() * 2 - 1,\n        -pt.y / height() * 2 + 1,\n    );\n}\n\nexport function getArcPts(\n    pos: Vec2,\n    radiusX: number,\n    radiusY: number,\n    start: number,\n    end: number,\n    res: number = 1,\n): Vec2[] {\n    // normalize and turn start and end angles to radians\n    start = deg2rad(start % 360);\n    end = deg2rad(end % 360);\n    if (end <= start) end += Math.PI * 2;\n\n    const pts: Vec2[] = [];\n    const nverts = Math.ceil((end - start) / deg2rad(8) * res);\n    const step = (end - start) / nverts;\n\n    // Rotate vector v by r nverts+1 times\n    let v = vec2(Math.cos(start), Math.sin(start));\n    const r = vec2(Math.cos(step), Math.sin(step));\n    for (let i = 0; i <= nverts; i++) {\n        pts.push(pos.add(radiusX * v.x, radiusY * v.y));\n        // cos(a + b) = cos(a)cos(b) - sin(a)sin(b)\n        // sin(a + b) = cos(a)sin(b) + sin(a)cos(b)\n        v = vec2(v.x * r.x - v.y * r.y, v.x * r.y + v.y * r.x);\n    }\n\n    return pts;\n}\n","import { _k } from \"../kaplay\";\nimport { type ColorArgs, rgb } from \"../math\";\n\nexport function setBackground(...args: ColorArgs) {\n    const color = rgb(...args);\n    const alpha = args[3] ?? 1;\n\n    _k.gfx.bgColor = color;\n    _k.gfx.bgAlpha = alpha;\n\n    _k.gfx.ggl.gl.clearColor(\n        color.r / 255,\n        color.g / 255,\n        color.b / 255,\n        alpha,\n    );\n}\n\nexport function getBackground() {\n    return _k.gfx.bgColor?.clone?.() ?? null;\n}\n","import { _k } from \"../kaplay\";\nimport { type Mat4, Vec2, vec2, type Vec2Args } from \"../math/math\";\n\nexport function pushTranslate(...args: Vec2Args | [undefined]) {\n    if (args[0] === undefined) return;\n\n    const p = vec2(...args);\n    if (p.x === 0 && p.y === 0) return;\n    _k.gfx.transform.translate(p);\n}\n\nexport function pushTransform() {\n    _k.gfx.transformStack.push(_k.gfx.transform.clone());\n}\n\nexport function pushMatrix(m: Mat4) {\n    _k.gfx.transform = m.clone();\n}\n\nexport function pushScale(\n    ...args: Vec2Args | [undefined] | [undefined, undefined]\n) {\n    if (args[0] === undefined) return;\n\n    const p = vec2(...args);\n    if (p.x === 1 && p.y === 1) return;\n    _k.gfx.transform.scale(p);\n}\n\nexport function pushRotate(a: number | undefined) {\n    if (!a) return;\n\n    _k.gfx.transform.rotate(a);\n}\n\nexport function popTransform() {\n    if (_k.gfx.transformStack.length > 0) {\n        // if there's more than 1 element, it will return obviously a Mat4\n        _k.gfx.transform = _k.gfx.transformStack.pop()!;\n    }\n}\n\nexport function flush() {\n    _k.gfx.renderer.flush();\n}\n\n// get game width\nexport function width(): number {\n    return _k.gfx.width;\n}\n\n// get game height\nexport function height(): number {\n    return _k.gfx.height;\n}\n\nexport function getViewportScale() {\n    return (_k.gfx.viewport.width + _k.gfx.viewport.height)\n        / (_k.gfx.width + _k.gfx.height);\n}\n\n// transform a point from content space to view space\nexport function contentToView(pt: Vec2) {\n    return new Vec2(\n        pt.x * _k.gfx.viewport.width / _k.gfx.width,\n        pt.y * _k.gfx.viewport.height / _k.gfx.height,\n    );\n}\n\n// transform a point from window space to content space\nexport function windowToContent(pt: Vec2) {\n    return new Vec2(\n        (pt.x - _k.gfx.viewport.x) * width() / _k.gfx.viewport.width,\n        (pt.y - _k.gfx.viewport.y) * height() / _k.gfx.viewport.height,\n    );\n}\n\nexport function mousePos() {\n    return windowToContent(_k.app.mousePos());\n}\n\nexport function center(): Vec2 {\n    return vec2(width() / 2, height() / 2);\n}\n","import { type GfxCtx, Texture } from \"../gfx\";\nimport { Quad, Vec2 } from \"../math/math\";\nimport type { ImageSource } from \"../types\";\n\nexport default class TexPacker {\n    private lastTextureId: number = 0;\n    private textures: Texture[] = [];\n    private bigTextures: Texture[] = [];\n    private texturesPosition: Map<number, {\n        position: Vec2;\n        size: Vec2;\n        texture: Texture;\n    }> = new Map();\n    private canvas: HTMLCanvasElement;\n    private c2d: CanvasRenderingContext2D;\n    private x: number = 0;\n    private y: number = 0;\n    private curHeight: number = 0;\n    private gfx: GfxCtx;\n    private padding: number;\n\n    constructor(gfx: GfxCtx, w: number, h: number, padding: number) {\n        this.gfx = gfx;\n        this.canvas = document.createElement(\"canvas\");\n        this.canvas.width = w;\n        this.canvas.height = h;\n        this.textures = [Texture.fromImage(gfx, this.canvas)];\n        this.bigTextures = [];\n        this.padding = padding;\n\n        const context2D = this.canvas.getContext(\"2d\");\n        if (!context2D) throw new Error(\"Failed to get 2d context\");\n\n        this.c2d = context2D;\n    }\n\n    add(img: ImageSource): [Texture, Quad, number] {\n        const paddedWidth = img.width + this.padding * 2;\n        const paddedHeight = img.height + this.padding * 2;\n\n        if (\n            paddedWidth > this.canvas.width || paddedHeight > this.canvas.height\n        ) {\n            const tex = Texture.fromImage(this.gfx, img);\n            this.bigTextures.push(tex);\n            return [tex, new Quad(0, 0, 1, 1), 0];\n        }\n\n        // next row\n        if (this.x + paddedWidth > this.canvas.width) {\n            this.x = 0;\n            this.y += this.curHeight;\n            this.curHeight = 0;\n        }\n\n        // next texture\n        if (this.y + paddedHeight > this.canvas.height) {\n            this.c2d.clearRect(0, 0, this.canvas.width, this.canvas.height);\n            this.textures.push(Texture.fromImage(this.gfx, this.canvas));\n            this.x = 0;\n            this.y = 0;\n            this.curHeight = 0;\n        }\n\n        const curTex = this.textures[this.textures.length - 1];\n        const pos = new Vec2(this.x + this.padding, this.y + this.padding);\n\n        this.x += paddedWidth;\n\n        if (paddedHeight > this.curHeight) {\n            this.curHeight = paddedHeight;\n        }\n\n        if (img instanceof ImageData) {\n            this.c2d.putImageData(img, pos.x, pos.y);\n        }\n        else {\n            this.c2d.drawImage(img, pos.x, pos.y);\n        }\n\n        curTex.update(this.canvas);\n\n        this.texturesPosition.set(this.lastTextureId, {\n            position: pos,\n            size: new Vec2(img.width, img.height),\n            texture: curTex,\n        });\n\n        this.lastTextureId++;\n\n        return [\n            curTex,\n            new Quad(\n                pos.x / this.canvas.width,\n                pos.y / this.canvas.height,\n                img.width / this.canvas.width,\n                img.height / this.canvas.height,\n            ),\n            this.lastTextureId - 1,\n        ];\n    }\n    free() {\n        for (const tex of this.textures) {\n            tex.free();\n        }\n        for (const tex of this.bigTextures) {\n            tex.free();\n        }\n    }\n}\n","import { _k } from \"../kaplay\";\nimport { isDataURL } from \"../utils\";\n\nexport function fixURL<D>(url: D): D {\n    if (typeof url !== \"string\" || isDataURL(url)) return url;\n    return _k.assets.urlPrefix + url as D;\n}\n","import { SPRITE_ATLAS_HEIGHT, SPRITE_ATLAS_WIDTH } from \"../constants\";\nimport type { GfxCtx } from \"../gfx/gfx\";\nimport TexPacker from \"../gfx/texPacker\";\nimport { _k } from \"../kaplay\";\nimport { KEvent } from \"../utils\";\nimport type { BitmapFontData } from \"./bitmapFont\";\nimport type { FontData } from \"./font\";\nimport type { ShaderData } from \"./shader\";\nimport type { SoundData } from \"./sound\";\nimport type { SpriteData } from \"./sprite\";\nimport { fixURL } from \"./utils\";\n\n/**\n * An asset is a resource that is loaded asynchronously.\n */\nexport class Asset<D> {\n    loaded: boolean = false;\n    data: D | null = null;\n    error: Error | null = null;\n    private onLoadEvents: KEvent<[D]> = new KEvent();\n    private onErrorEvents: KEvent<[Error]> = new KEvent();\n    private onFinishEvents: KEvent<[]> = new KEvent();\n    constructor(loader: Promise<D>) {\n        loader.then((data) => {\n            this.loaded = true;\n            this.data = data;\n            this.onLoadEvents.trigger(data);\n        }).catch((err) => {\n            this.error = err;\n            if (this.onErrorEvents.numListeners() > 0) {\n                this.onErrorEvents.trigger(err);\n            }\n            else {\n                throw err;\n            }\n        }).finally(() => {\n            this.onFinishEvents.trigger();\n            this.loaded = true;\n        });\n    }\n    static loaded<D>(data: D): Asset<D> {\n        const asset = new Asset(Promise.resolve(data)) as Asset<D>;\n        asset.data = data;\n        asset.loaded = true;\n        return asset;\n    }\n    onLoad(action: (data: D) => void) {\n        if (this.loaded && this.data) {\n            action(this.data);\n        }\n        else {\n            this.onLoadEvents.add(action);\n        }\n        return this;\n    }\n    onError(action: (err: Error) => void) {\n        if (this.loaded && this.error) {\n            action(this.error);\n        }\n        else {\n            this.onErrorEvents.add(action);\n        }\n        return this;\n    }\n    onFinish(action: () => void) {\n        if (this.loaded) {\n            action();\n        }\n        else {\n            this.onFinishEvents.add(action);\n        }\n        return this;\n    }\n    then(action: (data: D) => void): Asset<D> {\n        return this.onLoad(action);\n    }\n    catch(action: (err: Error) => void): Asset<D> {\n        return this.onError(action);\n    }\n    finally(action: () => void): Asset<D> {\n        return this.onFinish(action);\n    }\n}\n\nexport class AssetBucket<D> {\n    assets: Map<string, Asset<D>> = new Map();\n    lastUID: number = 0;\n    add(name: string | null, loader: Promise<D>): Asset<D> {\n        // if user don't provide a name we use a generated one\n        const id = name ?? (this.lastUID++ + \"\");\n        const asset = new Asset(loader);\n        this.assets.set(id, asset);\n        return asset;\n    }\n    addLoaded(name: string | null, data: D): Asset<D> {\n        const id = name ?? (this.lastUID++ + \"\");\n        const asset = Asset.loaded(data);\n        this.assets.set(id, asset);\n        return asset;\n    }\n    // if not found return undefined\n    get(handle: string): Asset<D> | undefined {\n        return this.assets.get(handle);\n    }\n    progress(): number {\n        if (this.assets.size === 0) {\n            return 1;\n        }\n        let loaded = 0;\n        this.assets.forEach((asset) => {\n            if (asset.loaded) {\n                loaded++;\n            }\n        });\n        return loaded / this.assets.size;\n    }\n\n    getFailedAssets(): [string, Asset<D>][] {\n        return Array.from(this.assets.keys()).filter(a =>\n            this.assets.get(a)!.error !== null\n        ).map(a => [a, this.assets.get(a)!]);\n    }\n}\n\nexport function fetchURL(url: string) {\n    return fetch(url)\n        .then((res) => {\n            if (!res.ok) throw new Error(`Failed to fetch \"${url}\"`);\n            return res;\n        });\n}\n\nexport function fetchJSON(path: string) {\n    return fetchURL(path).then((res) => res.json());\n}\n\nexport function fetchText(path: string) {\n    return fetchURL(path).then((res) => res.text());\n}\n\nexport function fetchArrayBuffer(path: string) {\n    return fetchURL(path).then((res) => res.arrayBuffer());\n}\n\n// global load path prefix\nexport function loadRoot(path?: string): string {\n    if (path !== undefined) {\n        _k.assets.urlPrefix = path;\n    }\n    return _k.assets.urlPrefix;\n}\n\nexport function loadJSON(name: string, url: string) {\n    return _k.assets.custom.add(name, fetchJSON(fixURL(url)));\n}\n\n// wrapper around image loader to get a Promise\nexport function loadImg(src: string): Promise<HTMLImageElement> {\n    const img = new Image();\n    img.crossOrigin = \"anonymous\";\n    img.src = src;\n    return new Promise<HTMLImageElement>((resolve, reject) => {\n        img.onload = () => resolve(img);\n        img.onerror = () =>\n            reject(new Error(`Failed to load image from \"${src}\"`));\n    });\n}\n\nexport function loadProgress(): number {\n    const buckets = [\n        _k.assets.sprites,\n        _k.assets.sounds,\n        _k.assets.shaders,\n        _k.assets.fonts,\n        _k.assets.bitmapFonts,\n        _k.assets.custom,\n    ];\n    return buckets.reduce((n, bucket) => n + bucket.progress(), 0)\n        / buckets.length;\n}\n\nexport function getFailedAssets(): [string, Asset<any>][] {\n    const buckets = [\n        _k.assets.sprites,\n        _k.assets.sounds,\n        _k.assets.shaders,\n        _k.assets.fonts,\n        _k.assets.bitmapFonts,\n        _k.assets.custom,\n    ];\n    return buckets.reduce(\n        (fails, bucket) => fails.concat(bucket.getFailedAssets()),\n        [] as [string, Asset<any>][],\n    );\n}\nexport function getAsset(name: string): Asset<any> | null {\n    return _k.assets.custom.get(name) ?? null;\n}\n\n// wrap individual loaders with global loader counter, for stuff like progress bar\nexport function load<T>(prom: Promise<T>): Asset<T> {\n    return _k.assets.custom.add(null, prom);\n}\n\n// create assets\nexport type AssetsCtx = ReturnType<typeof initAssets>;\n\nexport const initAssets = (ggl: GfxCtx, spriteAtlasPadding: number) => {\n    const assets = {\n        urlPrefix: \"\",\n        // asset holders\n        sprites: new AssetBucket<SpriteData>(),\n        fonts: new AssetBucket<FontData>(),\n        bitmapFonts: new AssetBucket<BitmapFontData>(),\n        sounds: new AssetBucket<SoundData>(),\n        shaders: new AssetBucket<ShaderData>(),\n        custom: new AssetBucket<any>(),\n        music: {} as Record<string, string>,\n        packer: new TexPacker(\n            ggl,\n            SPRITE_ATLAS_WIDTH,\n            SPRITE_ATLAS_HEIGHT,\n            spriteAtlasPadding,\n        ),\n        // if we finished initially loading all assets\n        loaded: false,\n    };\n\n    return assets;\n};\n","import { Asset, loadImg, loadProgress } from \"../assets\";\nimport type { DrawSpriteOpt } from \"../gfx\";\nimport type { Texture } from \"../gfx/gfx\";\nimport { _k } from \"../kaplay\";\nimport beanSpriteSrc from \"../kassets/bean.png\";\nimport { Quad } from \"../math/math\";\nimport { type ImageSource } from \"../types\";\nimport { fixURL } from \"./utils\";\n\n/**\n * Frame-based animation configuration.\n */\nexport type SpriteAnim = number | {\n    /**\n     * The starting frame.\n     */\n    from: number;\n    /**\n     * The end frame.\n     */\n    to: number;\n    /**\n     * If this anim should be played in loop.\n     */\n    loop?: boolean;\n    /**\n     * When looping should it move back instead of go to start frame again.\n     */\n    pingpong?: boolean;\n    /**\n     * This anim's speed in frames per second.\n     */\n    speed?: number;\n};\n\n/**\n * A dict of name <-> animation.\n */\nexport type SpriteAnims = Record<string, SpriteAnim>;\n\n// TODO: support frameWidth and frameHeight as alternative to slice\n/**\n * Sprite loading configuration.\n */\nexport interface LoadSpriteOpt {\n    /**\n     * If the defined area contains multiple sprites, how many frames are in the area horizontally.\n     */\n    sliceX?: number;\n    /**\n     * If the defined area contains multiple sprites, how many frames are in the area vertically.\n     */\n    sliceY?: number;\n    /**\n     * 9 slice sprite for proportional scaling.\n     *\n     * @since v3000.0\n     */\n    slice9?: NineSlice;\n    /**\n     * Individual frames.\n     *\n     * @since v3000.0\n     */\n    frames?: Quad[];\n    /**\n     * Animation configuration.\n     */\n    anims?: SpriteAnims;\n}\n\nexport type NineSlice = {\n    /**\n     * The width of the 9-slice's left column.\n     */\n    left: number;\n    /**\n     * The width of the 9-slice's right column.\n     */\n    right: number;\n    /**\n     * The height of the 9-slice's top row.\n     */\n    top: number;\n    /**\n     * The height of the 9-slice's bottom row.\n     */\n    bottom: number;\n};\n\nexport type LoadSpriteSrc = string | ImageSource;\n\nexport class SpriteData {\n    tex: Texture;\n    frames: Quad[] = [new Quad(0, 0, 1, 1)];\n    anims: SpriteAnims = {};\n    slice9: NineSlice | null = null;\n\n    constructor(\n        tex: Texture,\n        frames?: Quad[],\n        anims: SpriteAnims = {},\n        slice9: NineSlice | null = null,\n    ) {\n        this.tex = tex;\n        if (frames) this.frames = frames;\n        this.anims = anims;\n        this.slice9 = slice9;\n    }\n\n    /**\n     * @since v3001.0\n     */\n    get width() {\n        return this.tex.width * this.frames[0].w;\n    }\n\n    get height() {\n        return this.tex.height * this.frames[0].h;\n    }\n\n    static from(\n        src: LoadSpriteSrc,\n        opt: LoadSpriteOpt = {},\n    ): Promise<SpriteData> {\n        return typeof src === \"string\"\n            ? SpriteData.fromURL(src, opt)\n            : Promise.resolve(SpriteData.fromImage(src, opt));\n    }\n\n    static fromImage(\n        data: ImageSource,\n        opt: LoadSpriteOpt = {},\n    ): SpriteData {\n        const [tex, quad] = _k.assets.packer.add(data);\n        const frames = opt.frames\n            ? opt.frames.map((f) =>\n                new Quad(\n                    quad.x + f.x * quad.w,\n                    quad.y + f.y * quad.h,\n                    f.w * quad.w,\n                    f.h * quad.h,\n                )\n            )\n            : slice(\n                opt.sliceX || 1,\n                opt.sliceY || 1,\n                quad.x,\n                quad.y,\n                quad.w,\n                quad.h,\n            );\n        return new SpriteData(tex, frames, opt.anims, opt.slice9);\n    }\n\n    static fromURL(\n        url: string,\n        opt: LoadSpriteOpt = {},\n    ): Promise<SpriteData> {\n        return loadImg(url).then((img) => SpriteData.fromImage(img, opt));\n    }\n}\n\nexport function resolveSprite(\n    src: DrawSpriteOpt[\"sprite\"],\n): Asset<SpriteData> | null {\n    if (typeof src === \"string\") {\n        const spr = getSprite(src);\n        if (spr) {\n            // if it's already loaded or being loading, return it\n            return spr;\n        }\n        else if (loadProgress() < 1) {\n            // if there's any other ongoing loading task we return empty and don't error yet\n            return null;\n        }\n        else {\n            // if all other assets are loaded and we still haven't found this sprite, throw\n            throw new Error(`Sprite not found: ${src}`);\n        }\n    }\n    else if (src instanceof SpriteData) {\n        return Asset.loaded(src);\n    }\n    else if (src instanceof Asset) {\n        return src;\n    }\n    else {\n        throw new Error(`Invalid sprite: ${src}`);\n    }\n}\n\nexport function getSprite(name: string): Asset<SpriteData> | null {\n    return _k.assets.sprites.get(name) ?? null;\n}\n\n// load a sprite to asset manager\nexport function loadSprite(\n    name: string | null,\n    src: LoadSpriteSrc | LoadSpriteSrc[],\n    opt: LoadSpriteOpt = {\n        sliceX: 1,\n        sliceY: 1,\n        anims: {},\n    },\n): Asset<SpriteData> {\n    src = fixURL(src);\n    if (Array.isArray(src)) {\n        if (src.some((s) => typeof s === \"string\")) {\n            return _k.assets.sprites.add(\n                name,\n                Promise.all(src.map((s) => {\n                    return typeof s === \"string\"\n                        ? loadImg(s)\n                        : Promise.resolve(s);\n                })).then((images) => createSpriteSheet(images, opt)),\n            );\n        }\n        else {\n            return _k.assets.sprites.addLoaded(\n                name,\n                createSpriteSheet(src as ImageSource[], opt),\n            );\n        }\n    }\n    else {\n        if (typeof src === \"string\") {\n            return _k.assets.sprites.add(name, SpriteData.from(src, opt));\n        }\n        else {\n            return _k.assets.sprites.addLoaded(\n                name,\n                SpriteData.fromImage(src, opt),\n            );\n        }\n    }\n}\n\nexport function slice(x = 1, y = 1, dx = 0, dy = 0, w = 1, h = 1): Quad[] {\n    const frames: Quad[] = [];\n    const qw = w / x;\n    const qh = h / y;\n    for (let j = 0; j < y; j++) {\n        for (let i = 0; i < x; i++) {\n            frames.push(\n                new Quad(\n                    dx + i * qw,\n                    dy + j * qh,\n                    qw,\n                    qh,\n                ),\n            );\n        }\n    }\n    return frames;\n}\n\n// TODO: load synchronously if passed ImageSource\n\nexport function createSpriteSheet(\n    images: ImageSource[],\n    opt: LoadSpriteOpt = {},\n): SpriteData {\n    const canvas = document.createElement(\"canvas\");\n    const width = images[0].width;\n    const height = images[0].height;\n    canvas.width = width * images.length;\n    canvas.height = height;\n    const c2d = canvas.getContext(\"2d\");\n    if (!c2d) throw new Error(\"Failed to create canvas context\");\n    images.forEach((img, i) => {\n        if (img instanceof ImageData) {\n            c2d.putImageData(img, i * width, 0);\n        }\n        else {\n            c2d.drawImage(img, i * width, 0);\n        }\n    });\n    const merged = c2d.getImageData(0, 0, images.length * width, height);\n    return SpriteData.fromImage(merged, {\n        ...opt,\n        sliceX: images.length,\n        sliceY: 1,\n    });\n}\n\nexport function loadBean(name: string = \"bean\"): Asset<SpriteData> {\n    return loadSprite(name, beanSpriteSrc);\n}\n","import { _k } from \"../kaplay\";\nimport { Quad } from \"../math\";\nimport { getFileName } from \"../utils\";\nimport { type Asset, fetchJSON } from \"./asset\";\nimport { type LoadSpriteSrc, type SpriteAnim, SpriteData } from \"./sprite\";\nimport { fixURL } from \"./utils\";\n\nexport type AsepriteData = {\n    frames: Array<{\n        frame: {\n            x: number;\n            y: number;\n            w: number;\n            h: number;\n        };\n    }>;\n    meta: {\n        size: { w: number; h: number };\n        frameTags: Array<{\n            name: string;\n            from: number;\n            to: number;\n            direction: \"forward\" | \"reverse\" | \"pingpong\";\n        }>;\n    };\n};\n\nexport function loadAseprite(\n    name: string | null,\n    imgSrc: LoadSpriteSrc,\n    jsonSrc: string | AsepriteData,\n): Asset<SpriteData> {\n    imgSrc = fixURL(imgSrc);\n    jsonSrc = fixURL(jsonSrc);\n\n    if (typeof imgSrc === \"string\" && !jsonSrc) {\n        jsonSrc = getFileName(imgSrc) + \".json\";\n    }\n\n    const resolveJSON = typeof jsonSrc === \"string\"\n        ? fetchJSON(jsonSrc)\n        : Promise.resolve(jsonSrc);\n\n    return _k.assets.sprites.add(\n        name,\n        resolveJSON.then((data: AsepriteData) => {\n            const size = data.meta.size;\n            const frames = data.frames.map((f: any) => {\n                return new Quad(\n                    f.frame.x / size.w,\n                    f.frame.y / size.h,\n                    f.frame.w / size.w,\n                    f.frame.h / size.h,\n                );\n            });\n            const anims: Record<string, number | SpriteAnim> = {};\n\n            for (const anim of data.meta.frameTags) {\n                if (anim.from === anim.to) {\n                    anims[anim.name] = anim.from;\n                }\n                else {\n                    anims[anim.name] = {\n                        from: anim.from,\n                        to: anim.to,\n                        speed: 10,\n                        loop: true,\n                        pingpong: anim.direction === \"pingpong\",\n                    };\n                }\n            }\n            return SpriteData.from(imgSrc, {\n                frames: frames,\n                anims: anims,\n            });\n        }),\n    );\n}\n","import {\n    DEF_FONT,\n    DEF_FONT_FILTER,\n    DEF_TEXT_CACHE_SIZE,\n    MAX_TEXT_CACHE_SIZE,\n} from \"../constants\";\nimport type { Texture } from \"../gfx\";\nimport type { DrawTextOpt } from \"../gfx/draw/drawText\";\nimport { _k } from \"../kaplay\";\nimport { rgb } from \"../math/color\";\nimport { Quad } from \"../math/math\";\nimport type { LoadFontOpt, Outline, TexFilter } from \"../types\";\nimport { Asset, loadProgress } from \"./asset\";\nimport { type BitmapFontData, getBitmapFont, type GfxFont } from \"./bitmapFont\";\nimport { fixURL } from \"./utils\";\n\nexport class FontData {\n    fontface: FontFace;\n    filter: TexFilter = DEF_FONT_FILTER;\n    outline: Outline | null = null;\n    size: number = DEF_TEXT_CACHE_SIZE;\n    constructor(face: FontFace, opt: LoadFontOpt = {}) {\n        this.fontface = face;\n        this.filter = opt.filter ?? DEF_FONT_FILTER;\n        this.size = opt.size ?? DEF_TEXT_CACHE_SIZE;\n        if (this.size > MAX_TEXT_CACHE_SIZE) {\n            throw new Error(`Max font size: ${MAX_TEXT_CACHE_SIZE}`);\n        }\n        if (opt.outline) {\n            this.outline = {\n                width: 1,\n                color: rgb(0, 0, 0),\n            };\n            if (typeof opt.outline === \"number\") {\n                this.outline.width = opt.outline;\n            }\n            else if (typeof opt.outline === \"object\") {\n                if (opt.outline.width) {\n                    this.outline.width = opt.outline.width;\n                }\n                if (opt.outline.color) {\n                    this.outline.color = opt.outline.color;\n                }\n            }\n        }\n    }\n}\n\nexport function resolveFont(\n    src: DrawTextOpt[\"font\"],\n):\n    | FontData\n    | Asset<FontData>\n    | BitmapFontData\n    | Asset<BitmapFontData>\n    | string\n    | null\n    | void\n{\n    if (!src) {\n        return resolveFont(_k.globalOpt.font ?? DEF_FONT);\n    }\n    if (typeof src === \"string\") {\n        const bfont = getBitmapFont(src);\n        const font = getFont(src);\n        if (bfont) {\n            return bfont.data ?? bfont;\n        }\n        else if (font) {\n            return font.data ?? font;\n        }\n        else if (\n            document.fonts.check(`${DEF_TEXT_CACHE_SIZE}px ${src}`)\n        ) {\n            return src;\n        }\n        else if (loadProgress() < 1) {\n            return null;\n        }\n        else {\n            throw new Error(`Font not found: ${src}`);\n        }\n    }\n    else if (src instanceof Asset) {\n        return src.data ? src.data : src;\n    }\n\n    return src;\n}\n\nexport function getFont(name: string): Asset<FontData> | null {\n    return _k.assets.fonts.get(name) ?? null;\n}\n\n// TODO: pass in null src to store opt for default fonts like \"monospace\"\nexport function loadFont(\n    name: string,\n    src: string | BinaryData,\n    opt: LoadFontOpt = {},\n): Asset<FontData> {\n    const fontSrc = fixURL(src);\n    const font = new FontFace(\n        name,\n        typeof src === \"string\" ? `url(${fontSrc})` : fontSrc,\n    );\n    document.fonts.add(font);\n\n    return _k.assets.fonts.add(\n        name,\n        font.load().catch((err) => {\n            throw new Error(`Failed to load font from \"${fontSrc}\": ${err}`);\n        }).then((face) => new FontData(face, opt)),\n    );\n}\n\nexport function makeFont(\n    tex: Texture,\n    gw: number,\n    gh: number,\n    chars: string,\n): GfxFont {\n    const cols = tex.width / gw;\n    const map: Record<string, Quad> = {};\n    const charMap = chars.split(\"\").entries();\n\n    for (const [i, ch] of charMap) {\n        map[ch] = new Quad(\n            (i % cols) * gw,\n            Math.floor(i / cols) * gh,\n            gw,\n            gh,\n        );\n    }\n\n    return {\n        tex: tex,\n        map: map,\n        size: gh,\n    };\n}\n","import { ASCII_CHARS } from \"../constants\";\nimport { Texture } from \"../gfx\";\nimport { _k } from \"../kaplay\";\nimport type { Quad } from \"../math/math\";\nimport type { TexFilter } from \"../types\";\nimport { type Asset, loadImg } from \"./asset\";\nimport { makeFont } from \"./font\";\nimport { fixURL } from \"./utils\";\n\nexport interface GfxFont {\n    tex: Texture;\n    map: Record<string, Quad>;\n    size: number;\n}\n\nexport type BitmapFontData = GfxFont;\n\nexport function getBitmapFont(name: string): Asset<BitmapFontData> | null {\n    return _k.assets.bitmapFonts.get(name) ?? null;\n}\n\nexport interface LoadBitmapFontOpt {\n    chars?: string;\n    filter?: TexFilter;\n    outline?: number;\n}\n\n// TODO: support outline\n// TODO: support LoadSpriteSrc\nexport function loadBitmapFont(\n    name: string | null,\n    src: string,\n    gw: number,\n    gh: number,\n    opt: LoadBitmapFontOpt = {},\n): Asset<BitmapFontData> {\n    const fontSrc = fixURL(src);\n\n    return _k.assets.bitmapFonts.add(\n        name,\n        loadImg(fontSrc)\n            .then((img) => {\n                return makeFont(\n                    Texture.fromImage(_k.gfx.ggl, img, opt),\n                    gw,\n                    gh,\n                    opt.chars ?? ASCII_CHARS,\n                );\n            }),\n    );\n}\n","import { _k } from \"../kaplay\";\nimport { type Asset, fetchJSON, loadImg } from \"./asset\";\nimport { loadSprite, type SpriteAnims, type SpriteData } from \"./sprite\";\nimport { fixURL } from \"./utils\";\n\nexport interface PeditFile {\n    width: number;\n    height: number;\n    frames: string[];\n    anims: SpriteAnims;\n}\n\nexport function loadPedit(\n    name: string | null,\n    src: string | PeditFile,\n): Asset<SpriteData> {\n    src = fixURL(src);\n\n    return _k.assets.sprites.add(\n        name,\n        new Promise(async (resolve) => {\n            const data = typeof src === \"string\"\n                ? await fetchJSON(src)\n                : src;\n            const images = await Promise.all(data.frames.map(loadImg));\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = data.width;\n            canvas.height = data.height * data.frames.length;\n\n            const c2d = canvas.getContext(\"2d\");\n            if (!c2d) throw new Error(\"Failed to create canvas context\");\n\n            images.forEach((img: HTMLImageElement, i) => {\n                c2d.drawImage(img, 0, i * data.height);\n            });\n\n            const spr = await loadSprite(null, canvas, {\n                sliceY: data.frames.length,\n                anims: data.anims,\n            });\n\n            resolve(spr);\n        }),\n    );\n}\n","import {\n    DEF_FRAG,\n    DEF_VERT,\n    FRAG_TEMPLATE,\n    VERT_TEMPLATE,\n    VERTEX_FORMAT,\n} from \"../constants\";\nimport { type GfxCtx } from \"../gfx\";\nimport { _k } from \"../kaplay\";\nimport { Color } from \"../math/color\";\nimport { Mat4, Vec2 } from \"../math/math\";\nimport type { RenderProps } from \"../types\";\nimport {\n    arrayIsColor,\n    arrayIsNumber,\n    arrayIsVec2,\n    getErrorMessage,\n} from \"../utils\";\nimport { fetchText, loadProgress } from \"./asset\";\nimport { Asset } from \"./asset\";\nimport { fixURL } from \"./utils\";\n\nexport type ShaderData = Shader;\n\n/**\n * @group Math\n */\nexport type UniformValue =\n    | number\n    | Vec2\n    | Color\n    | Mat4\n    | number[]\n    | Vec2[]\n    | Color[];\n\n/**\n * @group Math\n */\nexport type UniformKey = Exclude<string, \"u_tex\">;\n/**\n * @group Math\n */\nexport type Uniform = Record<UniformKey, UniformValue>;\n\n/**\n * @group GFX\n */\nexport class Shader {\n    ctx: GfxCtx;\n    glProgram: WebGLProgram;\n\n    constructor(ctx: GfxCtx, vert: string, frag: string, attribs: string[]) {\n        this.ctx = ctx;\n        ctx.onDestroy(() => this.free());\n\n        const gl = ctx.gl;\n        const vertShader = gl.createShader(gl.VERTEX_SHADER);\n        const fragShader = gl.createShader(gl.FRAGMENT_SHADER);\n\n        if (!vertShader || !fragShader) {\n            throw new Error(\"Failed to create shader\");\n        }\n\n        // What we should do if vert or frag are null?\n\n        gl.shaderSource(vertShader, vert);\n        gl.shaderSource(fragShader, frag);\n        gl.compileShader(vertShader);\n        gl.compileShader(fragShader);\n\n        const prog = gl.createProgram();\n        this.glProgram = prog!;\n\n        gl.attachShader(prog!, vertShader!);\n        gl.attachShader(prog!, fragShader!);\n\n        attribs.forEach((attrib, i) => gl.bindAttribLocation(prog!, i, attrib));\n\n        gl.linkProgram(prog!);\n\n        if (!gl.getProgramParameter(prog!, gl.LINK_STATUS)) {\n            const vertError = gl.getShaderInfoLog(vertShader!);\n            if (vertError) throw new Error(\"VERTEX SHADER \" + vertError);\n            const fragError = gl.getShaderInfoLog(fragShader!);\n            if (fragError) throw new Error(\"FRAGMENT SHADER \" + fragError);\n        }\n\n        gl.deleteShader(vertShader);\n        gl.deleteShader(fragShader);\n    }\n\n    bind() {\n        this.ctx.pushProgram(this.glProgram);\n    }\n\n    unbind() {\n        this.ctx.popProgram();\n    }\n\n    send(uniform: Uniform) {\n        const gl = this.ctx.gl;\n        for (const name in uniform) {\n            const val = uniform[name];\n            const loc = gl.getUniformLocation(this.glProgram, name);\n            if (typeof val === \"number\") {\n                gl.uniform1f(loc, val);\n            }\n            else if (val instanceof Mat4) {\n                gl.uniformMatrix4fv(loc, false, new Float32Array(val.m));\n            }\n            else if (val instanceof Color) {\n                gl.uniform3f(loc, val.r, val.g, val.b);\n            }\n            else if (val instanceof Vec2) {\n                gl.uniform2f(loc, val.x, val.y);\n            }\n            else if (Array.isArray(val)) {\n                const first = val[0];\n\n                if (arrayIsNumber(val)) {\n                    gl.uniform1fv(loc, val as number[]);\n                }\n                else if (arrayIsVec2(val)) {\n                    gl.uniform2fv(loc, val.map((v) => [v.x, v.y]).flat());\n                }\n                else if (arrayIsColor(val)) {\n                    gl.uniform3fv(loc, val.map(v => [v.r, v.g, v.b]).flat());\n                }\n            }\n            else {\n                throw new Error(\"Unsupported uniform data type\");\n            }\n        }\n    }\n\n    free() {\n        this.ctx.gl.deleteProgram(this.glProgram);\n    }\n}\n\nexport function makeShader(\n    ggl: GfxCtx,\n    vertSrc: string | null = DEF_VERT,\n    fragSrc: string | null = DEF_FRAG,\n): Shader {\n    const vcode = VERT_TEMPLATE.replace(\"{{user}}\", vertSrc ?? DEF_VERT);\n    const fcode = FRAG_TEMPLATE.replace(\"{{user}}\", fragSrc ?? DEF_FRAG);\n\n    try {\n        return new Shader(\n            ggl,\n            vcode,\n            fcode,\n            VERTEX_FORMAT.map((vert) => vert.name),\n        );\n    } catch (e) {\n        const lineOffset = 14;\n        const fmt = /(?<type>^\\w+) SHADER ERROR: 0:(?<line>\\d+): (?<msg>.+)/;\n        const match = getErrorMessage(e).match(fmt);\n        if (!match?.groups) throw e;\n        const line = Number(match.groups.line) - lineOffset;\n        const msg = match.groups.msg.trim();\n        const ty = match.groups.type.toLowerCase();\n        throw new Error(`${ty} shader line ${line}: ${msg}`);\n    }\n}\n\nexport function resolveShader(\n    src: RenderProps[\"shader\"],\n): ShaderData | Asset<ShaderData> | null {\n    if (!src) {\n        return _k.gfx.defShader;\n    }\n    if (typeof src === \"string\") {\n        const shader = getShader(src);\n        if (shader) {\n            return shader.data ?? shader;\n        }\n        else if (loadProgress() < 1) {\n            return null;\n        }\n        else {\n            throw new Error(`Shader not found: ${src}`);\n        }\n    }\n    else if (src instanceof Asset) {\n        return src.data ? src.data : src;\n    }\n\n    return src;\n}\n\nexport function getShader(name: string): Asset<ShaderData> | null {\n    return _k.assets.shaders.get(name) ?? null;\n}\n\nexport function loadShader(\n    name: string | null,\n    vert?: string,\n    frag?: string,\n) {\n    return _k.assets.shaders.addLoaded(\n        name,\n        makeShader(_k.gfx.ggl, vert, frag),\n    );\n}\n\nexport function loadShaderURL(\n    name: string | null,\n    vert?: string,\n    frag?: string,\n): Asset<ShaderData> {\n    vert = fixURL(vert);\n    frag = fixURL(frag);\n    const resolveUrl = (url?: string) =>\n        url\n            ? fetchText(url)\n            : Promise.resolve(null);\n    const load = Promise.all([resolveUrl(vert), resolveUrl(frag)])\n        .then(([vcode, fcode]: [string | null, string | null]) => {\n            return makeShader(_k.gfx.ggl, vcode, fcode);\n        });\n    return _k.assets.shaders.add(name, load);\n}\n","import { _k } from \"../kaplay\";\nimport { dataURLToArrayBuffer, isDataURL } from \"../utils\";\nimport { Asset, fetchArrayBuffer, loadProgress } from \"./asset\";\nimport { fixURL } from \"./utils\";\n\nexport class SoundData {\n    buf: AudioBuffer;\n\n    constructor(buf: AudioBuffer) {\n        this.buf = buf;\n    }\n\n    static fromArrayBuffer(buf: ArrayBuffer): Promise<SoundData> {\n        return new Promise((resolve, reject) =>\n            _k.audio.ctx.decodeAudioData(buf, resolve, reject)\n        ).then((buf) => new SoundData(buf as AudioBuffer));\n    }\n\n    static fromURL(url: string): Promise<SoundData> {\n        if (isDataURL(url)) {\n            return SoundData.fromArrayBuffer(dataURLToArrayBuffer(url));\n        }\n        else {\n            return fetchArrayBuffer(url).then((buf) =>\n                SoundData.fromArrayBuffer(buf)\n            );\n        }\n    }\n}\n\nexport function resolveSound(\n    src: string | SoundData | Asset<SoundData>,\n): Asset<SoundData> | null {\n    if (typeof src === \"string\") {\n        const snd = getSound(src);\n        if (snd) {\n            return snd;\n        }\n        else if (loadProgress() < 1) {\n            return null;\n        }\n        else {\n            throw new Error(`Sound not found: ${src}`);\n        }\n    }\n    else if (src instanceof SoundData) {\n        return Asset.loaded(src);\n    }\n    else if (src instanceof Asset) {\n        return src;\n    }\n    else {\n        throw new Error(`Invalid sound: ${src}`);\n    }\n}\n\nexport function getSound(name: string): Asset<SoundData> | null {\n    return _k.assets.sounds.get(name) ?? null;\n}\n\n// load a sound to asset manager\nexport function loadSound(\n    name: string | null,\n    src: string | ArrayBuffer,\n): Asset<SoundData> {\n    src = fixURL(src);\n    return _k.assets.sounds.add(\n        name,\n        typeof src === \"string\"\n            ? SoundData.fromURL(src)\n            : SoundData.fromArrayBuffer(src),\n    );\n}\n\nexport function loadMusic(\n    name: string | null,\n    url: string,\n) {\n    const musicUrl = fixURL(url);\n    const a = new Audio(musicUrl);\n    a.preload = \"auto\";\n\n    return _k.assets.music[name as string] = musicUrl;\n}\n","import { SPRITE_ATLAS_HEIGHT, SPRITE_ATLAS_WIDTH } from \"../constants\";\nimport { _k } from \"../kaplay\";\nimport { Quad } from \"../math\";\nimport { type Asset, fetchJSON, load } from \"./asset\";\nimport {\n    type LoadSpriteOpt,\n    type LoadSpriteSrc,\n    slice,\n    SpriteData,\n} from \"./sprite\";\nimport { fixURL } from \"./utils\";\n\nexport type SpriteAtlasData = Record<string, SpriteAtlasEntry>;\n\n/**\n * A sprite in a sprite atlas.\n */\nexport type SpriteAtlasEntry = LoadSpriteOpt & {\n    /**\n     * X position of the top left corner.\n     */\n    x: number;\n    /**\n     * Y position of the top left corner.\n     */\n    y: number;\n    /**\n     * Sprite area width.\n     */\n    width: number;\n    /**\n     * Sprite area height.\n     */\n    height: number;\n};\n\nexport function loadSpriteAtlas(\n    src: LoadSpriteSrc,\n    data: SpriteAtlasData | string,\n): Asset<Record<string, SpriteData>> {\n    src = fixURL(src);\n    if (typeof data === \"string\") {\n        return load(\n            new Promise((res, rej) => {\n                fetchJSON(data).then((json) => {\n                    loadSpriteAtlas(src, json).then(res).catch(rej);\n                });\n            }),\n        );\n    }\n    return load(\n        SpriteData.from(src).then((atlas) => {\n            const map: Record<string, SpriteData> = {};\n\n            for (const name in data) {\n                const info = data[name];\n                const quad = atlas.frames[0];\n                const w = SPRITE_ATLAS_WIDTH * quad.w;\n                const h = SPRITE_ATLAS_HEIGHT * quad.h;\n                const frames = info.frames\n                    ? info.frames.map((f) =>\n                        new Quad(\n                            quad.x + (info.x + f.x) / w * quad.w,\n                            quad.y + (info.y + f.y) / h * quad.h,\n                            f.w / w * quad.w,\n                            f.h / h * quad.h,\n                        )\n                    )\n                    : slice(\n                        info.sliceX || 1,\n                        info.sliceY || 1,\n                        quad.x + info.x / w * quad.w,\n                        quad.y + info.y / h * quad.h,\n                        info.width / w * quad.w,\n                        info.height / h * quad.h,\n                    );\n                const spr = new SpriteData(atlas.tex, frames, info.anims);\n                _k.assets.sprites.addLoaded(name, spr);\n                map[name] = spr;\n            }\n            return map;\n        }),\n    );\n}\n","import { Asset, resolveShader, type Uniform } from \"../../assets\";\nimport { _k } from \"../../kaplay\";\nimport { screen2ndc } from \"../../math/various\";\nimport type { RenderProps, Vertex } from \"../../types\";\nimport type { Texture } from \"../gfx\";\n\nexport function drawRaw(\n    verts: Vertex[],\n    indices: number[],\n    fixed: boolean = false,\n    tex?: Texture,\n    shaderSrc?: RenderProps[\"shader\"],\n    uniform: Uniform = {},\n) {\n    const parsedTex = tex ?? _k.gfx.defTex;\n    const parsedShader = shaderSrc ?? _k.gfx.defShader;\n    const shader = resolveShader(parsedShader);\n\n    if (!shader || shader instanceof Asset) {\n        return;\n    }\n\n    const transform = (_k.gfx.fixed || fixed)\n        ? _k.gfx.transform\n        : _k.game.cam.transform.mult(_k.gfx.transform);\n\n    const vv: number[] = [];\n\n    for (const v of verts) {\n        // normalized world space coordinate [-1.0 ~ 1.0]\n        const pt = screen2ndc(transform.multVec2(v.pos));\n\n        vv.push(\n            pt.x,\n            pt.y,\n            v.uv.x,\n            v.uv.y,\n            v.color.r / 255,\n            v.color.g / 255,\n            v.color.b / 255,\n            v.opacity,\n        );\n    }\n\n    _k.gfx.renderer.push(\n        _k.gfx.ggl.gl.TRIANGLES,\n        vv,\n        indices,\n        shader,\n        parsedTex,\n        uniform,\n    );\n}\n","import { _k } from \"../../kaplay\";\nimport { Color } from \"../../math/color\";\nimport { triangulate, Vec2 } from \"../../math/math\";\nimport type { DrawPolygonOpt } from \"../../types\";\nimport {\n    popTransform,\n    pushRotate,\n    pushScale,\n    pushTransform,\n    pushTranslate,\n} from \"../stack\";\nimport { drawLines } from \"./drawLine\";\nimport { drawRaw } from \"./drawRaw\";\n\nexport function drawPolygon(opt: DrawPolygonOpt) {\n    if (!opt.pts) {\n        throw new Error(\"drawPolygon() requires property \\\"pts\\\".\");\n    }\n\n    const npts = opt.pts.length;\n\n    if (npts < 3) {\n        return;\n    }\n\n    pushTransform();\n    pushTranslate(opt.pos!);\n    pushScale(opt.scale);\n    pushRotate(opt.angle);\n    pushTranslate(opt.offset!);\n\n    if (opt.fill !== false) {\n        const color = opt.color ?? Color.WHITE;\n\n        const verts = opt.pts.map((pt, i) => ({\n            pos: new Vec2(pt.x, pt.y),\n            uv: opt.uv\n                ? opt.uv[i]\n                : new Vec2(0, 0),\n            color: opt.colors\n                ? (opt.colors[i] ? opt.colors[i].mult(color) : color)\n                : color,\n            opacity: opt.opacity ?? 1,\n        }));\n\n        let indices;\n\n        if (opt.triangulate /* && !isConvex(opt.pts)*/) {\n            const triangles = triangulate(opt.pts);\n            // TODO rewrite triangulate to just return new indices\n            indices = triangles.map(t => t.map(p => opt.pts.indexOf(p)))\n                .flat();\n        }\n        else {\n            indices = [...Array(npts - 2).keys()]\n                .map((n) => [0, n + 1, n + 2])\n                .flat();\n        }\n\n        drawRaw(\n            verts,\n            opt.indices ?? indices,\n            opt.fixed,\n            opt.uv ? opt.tex : _k.gfx.defTex,\n            opt.shader,\n            opt.uniform ?? undefined,\n        );\n    }\n\n    if (opt.outline) {\n        drawLines({\n            pts: [...opt.pts, opt.pts[0]],\n            radius: opt.radius,\n            width: opt.outline.width,\n            color: opt.outline.color,\n            join: opt.outline.join,\n            uniform: opt.uniform,\n            fixed: opt.fixed,\n            opacity: opt.opacity ?? opt.outline.opacity,\n        });\n    }\n\n    popTransform();\n}\n","import { Vec2 } from \"../../math/math\";\nimport { getArcPts } from \"../../math/various\";\nimport type { DrawEllipseOpt } from \"../../types\";\nimport { anchorPt } from \"../anchor\";\nimport { drawPolygon } from \"./drawPolygon\";\n\nexport function drawEllipse(opt: DrawEllipseOpt) {\n    if (opt.radiusX === undefined || opt.radiusY === undefined) {\n        throw new Error(\n            \"drawEllipse() requires properties \\\"radiusX\\\" and \\\"radiusY\\\".\",\n        );\n    }\n\n    if (opt.radiusX === 0 || opt.radiusY === 0) {\n        return;\n    }\n\n    const start = opt.start ?? 0;\n    const end = opt.end ?? 360;\n    const offset = anchorPt(opt.anchor ?? \"center\").scale(\n        new Vec2(-opt.radiusX, -opt.radiusY),\n    );\n\n    const pts = getArcPts(\n        offset,\n        opt.radiusX,\n        opt.radiusY,\n        start,\n        end,\n        opt.resolution,\n    );\n\n    // center\n    pts.unshift(offset);\n\n    const polyOpt = Object.assign({}, opt, {\n        pts,\n        radius: 0,\n        ...(opt.gradient\n            ? {\n                colors: [\n                    opt.gradient[0],\n                    ...Array(pts.length - 1).fill(opt.gradient[1]),\n                ],\n            }\n            : {}),\n    });\n\n    // full circle with outline shouldn't have the center point\n    if (end - start >= 360 && opt.outline) {\n        if (opt.fill !== false) {\n            drawPolygon(Object.assign({}, polyOpt, {\n                outline: null,\n            }));\n        }\n        drawPolygon(Object.assign({}, polyOpt, {\n            pts: pts.slice(1),\n            fill: false,\n        }));\n        return;\n    }\n\n    drawPolygon(polyOpt);\n}\n","import type { Color } from \"../../math/color\";\nimport type { Vec2 } from \"../../math/math\";\nimport type { Anchor, RenderProps } from \"../../types\";\nimport { drawEllipse } from \"./drawEllipse\";\n\n/**\n * How the circle should look like.\n */\nexport type DrawCircleOpt = Omit<RenderProps, \"angle\"> & {\n    /**\n     * Radius of the circle.\n     */\n    radius: number;\n    /**\n     * Starting angle.\n     */\n    start?: number;\n    /**\n     * Ending angle.\n     */\n    end?: number;\n    /**\n     * If fill the shape with color (set this to false if you only want an outline).\n     */\n    fill?: boolean;\n    /**\n     * Use gradient instead of solid color.\n     *\n     * @since v3000.0\n     */\n    gradient?: [Color, Color];\n    /**\n     * Multiplier for circle vertices resolution (default 1)\n     */\n    resolution?: number;\n    /**\n     * The anchor point, or the pivot point. Default to \"topleft\".\n     */\n    anchor?: Anchor | Vec2;\n};\n\nexport function drawCircle(opt: DrawCircleOpt) {\n    if (typeof opt.radius !== \"number\") {\n        throw new Error(\"drawCircle() requires property \\\"radius\\\".\");\n    }\n\n    if (opt.radius === 0) {\n        return;\n    }\n\n    drawEllipse(Object.assign({}, opt, {\n        radiusX: opt.radius,\n        radiusY: opt.radius,\n        angle: 0,\n    }));\n}\n","import { _k } from \"../../kaplay\";\nimport { Color } from \"../../math/color\";\nimport { deg2rad, Vec2, vec2 } from \"../../math/math\";\nimport type { RenderProps } from \"../../types\";\nimport { drawCircle } from \"./drawCircle\";\nimport { drawRaw } from \"./drawRaw\";\n\n/**\n * How the line should look like.\n */\nexport type DrawLineOpt = Omit<RenderProps, \"angle\" | \"scale\"> & {\n    /**\n     * Starting point of the line.\n     */\n    p1: Vec2;\n    /**\n     * Ending point of the line.\n     */\n    p2: Vec2;\n    /**\n     * The width, or thickness of the line,\n     */\n    width?: number;\n};\n\nexport function drawLine(opt: DrawLineOpt) {\n    const { p1, p2 } = opt;\n\n    if (!p1 || !p2) {\n        throw new Error(\n            \"drawLine() requires properties \\\"p1\\\" and \\\"p2\\\".\",\n        );\n    }\n\n    const w = opt.width || 1;\n\n    // the displacement from the line end point to the corner point\n    const dis = p2.sub(p1).unit().normal().scale(w * 0.5);\n\n    // calculate the 4 corner points of the line polygon\n    const verts = [\n        p1.sub(dis),\n        p1.add(dis),\n        p2.add(dis),\n        p2.sub(dis),\n    ].map((p) => ({\n        pos: new Vec2(p.x, p.y),\n        uv: new Vec2(0),\n        color: opt.color ?? Color.WHITE,\n        opacity: opt.opacity ?? 1,\n    }));\n\n    drawRaw(\n        verts,\n        [0, 1, 3, 1, 2, 3],\n        opt.fixed,\n        _k.gfx.defTex,\n        opt.shader,\n        opt.uniform ?? undefined,\n    );\n}\n\nexport type LineJoin =\n    | \"none\"\n    | \"round\"\n    | \"bevel\"\n    | \"miter\";\n\nexport type LineCap =\n    | \"butt\"\n    | \"round\"\n    | \"square\";\n\n/**\n * How the lines should look like.\n */\nexport type DrawLinesOpt = Omit<RenderProps, \"angle\" | \"scale\"> & {\n    /**\n     * The points that should be connected with a line.\n     */\n    pts: Vec2[];\n    /**\n     * The width, or thickness of the lines,\n     */\n    width?: number;\n    /**\n     * The radius of each corner.\n     */\n    radius?: number | number[];\n    /**\n     * Line join style (default \"none\").\n     */\n    join?: LineJoin;\n    /**\n     * Line cap style (default \"none\").\n     */\n    cap?: LineCap;\n    /**\n     * Maximum miter length, anything longer becomes bevel.\n     */\n    miterLimit?: number;\n};\n\nexport function _drawLinesBevel(opt: DrawLinesOpt) {\n    const pts = opt.pts;\n    const vertices = [];\n    const halfWidth = (opt.width || 1) * 0.5;\n    const isLoop = pts[0] === pts[pts.length - 1]\n        || pts[0].eq(pts[pts.length - 1]);\n    const offset = opt.pos || vec2(0, 0);\n    let segment;\n\n    if (isLoop) {\n        segment = pts[0].sub(pts[pts.length - 2]);\n    }\n    else {\n        segment = pts[1].sub(pts[0]);\n    }\n\n    let length = segment.len();\n    let normal = segment.normal().scale(-halfWidth / length);\n\n    let pt1;\n    let pt2 = pts[0];\n\n    if (!isLoop) {\n        switch (opt.cap) {\n            case \"square\": {\n                const dir = segment.scale(-halfWidth / length);\n                vertices.push(pt2.add(dir).add(normal));\n                vertices.push(pt2.add(dir).sub(normal));\n                break;\n            }\n            case \"round\": {\n                const n = Math.max(halfWidth, 10);\n                const angle = Math.PI / n;\n                let vector = normal.scale(-1);\n                const cs = Math.cos(angle);\n                const sn = Math.sin(angle);\n                for (let j = 0; j < n; j++) {\n                    vertices.push(pt2);\n                    vertices.push(pt2.sub(vector));\n                    vector = vec2(\n                        vector.x * cs - vector.y * sn,\n                        vector.x * sn + vector.y * cs,\n                    );\n                }\n            }\n        }\n    }\n\n    for (let i = 1; i < pts.length; i++) {\n        if (pt2 === pts[i] || pt2.eq(pts[i])) continue;\n        pt1 = pt2;\n        pt2 = pts[i];\n\n        const nextSegment = pt2.sub(pt1);\n        const nextLength = nextSegment.len();\n        const nextNormal = nextSegment.normal().scale(\n            -halfWidth / nextLength,\n        );\n\n        const det = segment.cross(nextSegment);\n\n        if (Math.abs(det) / (length * nextLength) < 0.05) {\n            // Parallel\n            vertices.push(pt1.add(normal));\n            vertices.push(pt1.sub(normal));\n\n            if (segment.dot(nextSegment) < 0) {\n                vertices.push(pt1.sub(normal));\n                vertices.push(pt1.add(normal));\n            }\n\n            segment = nextSegment;\n            length = nextLength;\n            normal = nextNormal;\n            continue;\n        }\n\n        const lambda = (nextNormal.sub(normal)).cross(nextSegment) / det;\n        const d = normal.add(segment.scale(lambda));\n\n        if (det > 0) {\n            vertices.push(pt1.add(d));\n            vertices.push(pt1.sub(normal));\n            vertices.push(pt1.add(d));\n            vertices.push(pt1.sub(nextNormal));\n        }\n        else {\n            vertices.push(pt1.add(normal));\n            vertices.push(pt1.sub(d));\n            vertices.push(pt1.add(nextNormal));\n            vertices.push(pt1.sub(d));\n        }\n\n        segment = nextSegment;\n        length = nextLength;\n        normal = nextNormal;\n    }\n\n    if (!isLoop) {\n        vertices.push(pt2.add(normal));\n        vertices.push(pt2.sub(normal));\n        switch (opt.cap) {\n            case \"square\": {\n                const dir = segment.scale(halfWidth / length);\n                vertices.push(pt2.add(dir).add(normal));\n                vertices.push(pt2.add(dir).sub(normal));\n                break;\n            }\n            case \"round\": {\n                const n = Math.max(halfWidth, 10);\n                const angle = Math.PI / n;\n                let vector = normal.scale(1);\n                const cs = Math.cos(angle);\n                const sn = Math.sin(angle);\n                for (let j = 0; j < n; j++) {\n                    vector = vec2(\n                        vector.x * cs - vector.y * sn,\n                        vector.x * sn + vector.y * cs,\n                    );\n                    vertices.push(pt2);\n                    vertices.push(pt2.sub(vector));\n                }\n            }\n        }\n    }\n\n    if (vertices.length < 4) return;\n\n    const verts = vertices.map(v => ({\n        pos: offset.add(v),\n        uv: vec2(),\n        color: opt.color || Color.WHITE,\n        opacity: opt.opacity ?? 1,\n    }));\n\n    const indices = [];\n    let index = 0;\n    for (let i = 0; i < vertices.length - 2; i += 2) {\n        indices[index++] = i + 1;\n        indices[index++] = i;\n        indices[index++] = i + 2;\n        indices[index++] = i + 2;\n        indices[index++] = i + 3;\n        indices[index++] = i + 1;\n    }\n\n    if (isLoop) {\n        indices[index++] = vertices.length - 1;\n        indices[index++] = vertices.length - 2;\n        indices[index++] = 0;\n        indices[index++] = 0;\n        indices[index++] = 1;\n        indices[index++] = vertices.length - 1;\n    }\n\n    drawRaw(\n        verts,\n        indices,\n        opt.fixed,\n        _k.gfx.defTex,\n        opt.shader,\n        opt.uniform ?? undefined,\n    );\n}\n\nexport function _drawLinesRound(opt: DrawLinesOpt) {\n    const pts = opt.pts;\n    const vertices = [];\n    const halfWidth = (opt.width || 1) * 0.5;\n    const isLoop = pts[0] === pts[pts.length - 1]\n        || pts[0].eq(pts[pts.length - 1]);\n    const offset = opt.pos || vec2(0, 0);\n    let segment;\n\n    if (isLoop) {\n        segment = pts[0].sub(pts[pts.length - 2]);\n    }\n    else {\n        segment = pts[1].sub(pts[0]);\n    }\n\n    let length = segment.len();\n    let normal = segment.normal().scale(-halfWidth / length);\n\n    let pt1;\n    let pt2 = pts[0];\n\n    if (!isLoop) {\n        switch (opt.cap) {\n            case \"square\": {\n                const dir = segment.scale(-halfWidth / length);\n                vertices.push(pt2.add(dir).add(normal));\n                vertices.push(pt2.add(dir).sub(normal));\n                break;\n            }\n            case \"round\": {\n                const n = Math.max(halfWidth, 10);\n                const angle = Math.PI / n;\n                let vector = normal.scale(-1);\n                const cs = Math.cos(angle);\n                const sn = Math.sin(angle);\n                for (let j = 0; j < n; j++) {\n                    vertices.push(pt2);\n                    vertices.push(pt2.sub(vector));\n                    vector = vec2(\n                        vector.x * cs - vector.y * sn,\n                        vector.x * sn + vector.y * cs,\n                    );\n                }\n            }\n        }\n    }\n\n    for (let i = 1; i < pts.length; i++) {\n        if (pt2 === pts[i] || pt2.eq(pts[i])) continue;\n        pt1 = pt2;\n        pt2 = pts[i];\n\n        const nextSegment = pt2.sub(pt1);\n        const nextLength = nextSegment.len();\n        const nextNormal = nextSegment.normal().scale(\n            -halfWidth / nextLength,\n        );\n\n        const det = segment.cross(nextSegment);\n\n        if (Math.abs(det) / (length * nextLength) < 0.05) {\n            // Parallel\n            vertices.push(pt1.add(normal));\n            vertices.push(pt1.sub(normal));\n\n            if (segment.dot(nextSegment) < 0) {\n                vertices.push(pt1.sub(normal));\n                vertices.push(pt1.add(normal));\n            }\n\n            segment = nextSegment;\n            length = nextLength;\n            normal = nextNormal;\n            continue;\n        }\n\n        const lambda = (nextNormal.sub(normal)).cross(nextSegment) / det;\n        const d = normal.add(segment.scale(lambda));\n\n        if (det > 0) {\n            const fixedPoint = pt1.add(d);\n            const n = Math.max(halfWidth, 10);\n            const angle = deg2rad(normal.angleBetween(nextNormal) / n);\n            let vector = normal;\n            const cs = Math.cos(angle);\n            const sn = Math.sin(angle);\n            for (let j = 0; j < n; j++) {\n                vertices.push(fixedPoint);\n                vertices.push(pt1.sub(vector));\n                vector = vec2(\n                    vector.x * cs - vector.y * sn,\n                    vector.x * sn + vector.y * cs,\n                );\n            }\n        }\n        else {\n            const fixedPoint = pt1.sub(d);\n            const n = Math.max(halfWidth, 10);\n            const angle = deg2rad(normal.angleBetween(nextNormal) / n);\n            let vector = normal;\n            const cs = Math.cos(angle);\n            const sn = Math.sin(angle);\n            for (let j = 0; j < n; j++) {\n                vertices.push(pt1.add(vector));\n                vertices.push(fixedPoint);\n                vector = vec2(\n                    vector.x * cs - vector.y * sn,\n                    vector.x * sn + vector.y * cs,\n                );\n            }\n        }\n\n        segment = nextSegment;\n        length = nextLength;\n        normal = nextNormal;\n    }\n\n    if (!isLoop) {\n        vertices.push(pt2.add(normal));\n        vertices.push(pt2.sub(normal));\n        switch (opt.cap) {\n            case \"square\": {\n                const dir = segment.scale(halfWidth / length);\n                vertices.push(pt2.add(dir).add(normal));\n                vertices.push(pt2.add(dir).sub(normal));\n                break;\n            }\n            case \"round\": {\n                const n = Math.max(halfWidth, 10);\n                const angle = Math.PI / n;\n                let vector = normal.scale(1);\n                const cs = Math.cos(angle);\n                const sn = Math.sin(angle);\n                for (let j = 0; j < n; j++) {\n                    vector = vec2(\n                        vector.x * cs - vector.y * sn,\n                        vector.x * sn + vector.y * cs,\n                    );\n                    vertices.push(pt2);\n                    vertices.push(pt2.sub(vector));\n                }\n            }\n        }\n    }\n\n    if (vertices.length < 4) return;\n\n    const verts = vertices.map(v => ({\n        pos: offset.add(v),\n        uv: vec2(),\n        color: opt.color || Color.WHITE,\n        opacity: opt.opacity ?? 1,\n    }));\n\n    const indices = [];\n    let index = 0;\n    for (let i = 0; i < vertices.length - 2; i += 2) {\n        indices[index++] = i + 1;\n        indices[index++] = i;\n        indices[index++] = i + 2;\n        indices[index++] = i + 2;\n        indices[index++] = i + 3;\n        indices[index++] = i + 1;\n    }\n\n    if (isLoop) {\n        indices[index++] = vertices.length - 1;\n        indices[index++] = vertices.length - 2;\n        indices[index++] = 0;\n        indices[index++] = 0;\n        indices[index++] = 1;\n        indices[index++] = vertices.length - 1;\n    }\n\n    drawRaw(\n        verts,\n        indices,\n        opt.fixed,\n        _k.gfx.defTex,\n        opt.shader,\n        opt.uniform ?? undefined,\n    );\n}\n\nexport function _drawLinesMiter(opt: DrawLinesOpt) {\n    const pts = opt.pts;\n    const vertices = [];\n    const halfWidth = (opt.width || 1) * 0.5;\n    const isLoop = pts[0] === pts[pts.length - 1]\n        || pts[0].eq(pts[pts.length - 1]);\n    const offset = opt.pos || vec2(0, 0);\n    let segment;\n\n    if (isLoop) {\n        segment = pts[0].sub(pts[pts.length - 2]);\n    }\n    else {\n        segment = pts[1].sub(pts[0]);\n    }\n\n    let length = segment.len();\n    let normal = segment.normal().scale(-halfWidth / length);\n\n    let pt1;\n    let pt2 = pts[0];\n\n    if (!isLoop) {\n        switch (opt.cap) {\n            case \"square\": {\n                const dir = segment.scale(-halfWidth / length);\n                vertices.push(pt2.add(dir).add(normal));\n                vertices.push(pt2.add(dir).sub(normal));\n                break;\n            }\n            case \"round\": {\n                const n = Math.max(halfWidth, 10);\n                const angle = Math.PI / n;\n                let vector = normal.scale(-1);\n                const cs = Math.cos(angle);\n                const sn = Math.sin(angle);\n                for (let j = 0; j < n; j++) {\n                    vertices.push(pt2);\n                    vertices.push(pt2.sub(vector));\n                    vector = vec2(\n                        vector.x * cs - vector.y * sn,\n                        vector.x * sn + vector.y * cs,\n                    );\n                }\n            }\n        }\n    }\n\n    for (let i = 1; i < pts.length; i++) {\n        if (pt2 === pts[i] || pt2.eq(pts[i])) continue;\n        pt1 = pt2;\n        pt2 = pts[i];\n\n        const nextSegment = pt2.sub(pt1);\n        const nextLength = nextSegment.len();\n        const nextNormal = nextSegment.normal().scale(\n            -halfWidth / nextLength,\n        );\n\n        const det = segment.cross(nextSegment);\n\n        if (Math.abs(det) / (length * nextLength) < 0.05) {\n            // Parallel\n            vertices.push(pt1.add(normal));\n            vertices.push(pt1.sub(normal));\n\n            if (segment.dot(nextSegment) < 0) {\n                vertices.push(pt1.sub(normal));\n                vertices.push(pt1.add(normal));\n            }\n\n            segment = nextSegment;\n            length = nextLength;\n            normal = nextNormal;\n            continue;\n        }\n\n        const lambda = (nextNormal.sub(normal)).cross(nextSegment) / det;\n        const d = normal.add(segment.scale(lambda));\n\n        vertices.push(pt1.add(d));\n        vertices.push(pt1.sub(d));\n\n        segment = nextSegment;\n        length = nextLength;\n        normal = nextNormal;\n    }\n\n    if (!isLoop) {\n        vertices.push(pt2.add(normal));\n        vertices.push(pt2.sub(normal));\n        switch (opt.cap) {\n            case \"square\": {\n                const dir = segment.scale(halfWidth / length);\n                vertices.push(pt2.add(dir).add(normal));\n                vertices.push(pt2.add(dir).sub(normal));\n                break;\n            }\n            case \"round\": {\n                const n = Math.max(halfWidth, 10);\n                const angle = Math.PI / n;\n                let vector = normal.scale(1);\n                const cs = Math.cos(angle);\n                const sn = Math.sin(angle);\n                for (let j = 0; j < n; j++) {\n                    vector = vec2(\n                        vector.x * cs - vector.y * sn,\n                        vector.x * sn + vector.y * cs,\n                    );\n                    vertices.push(pt2);\n                    vertices.push(pt2.sub(vector));\n                }\n            }\n        }\n    }\n\n    if (vertices.length < 4) return;\n\n    const verts = vertices.map(v => ({\n        pos: offset.add(v),\n        uv: vec2(),\n        color: opt.color || Color.WHITE,\n        opacity: opt.opacity ?? 1,\n    }));\n\n    const indices = [];\n    let index = 0;\n    for (let i = 0; i < vertices.length - 2; i += 2) {\n        indices[index++] = i + 1;\n        indices[index++] = i;\n        indices[index++] = i + 2;\n        indices[index++] = i + 2;\n        indices[index++] = i + 3;\n        indices[index++] = i + 1;\n    }\n\n    if (isLoop) {\n        indices[index++] = vertices.length - 1;\n        indices[index++] = vertices.length - 2;\n        indices[index++] = 0;\n        indices[index++] = 0;\n        indices[index++] = 1;\n        indices[index++] = vertices.length - 1;\n    }\n\n    drawRaw(\n        verts,\n        indices,\n        opt.fixed,\n        _k.gfx.defTex,\n        opt.shader,\n        opt.uniform ?? undefined,\n    );\n}\n\nexport function drawLines(opt: DrawLinesOpt) {\n    const pts = opt.pts;\n    const width = opt.width ?? 1;\n\n    if (!pts) {\n        throw new Error(\"drawLines() requires property \\\"pts\\\".\");\n    }\n\n    if (pts.length < 2) {\n        return;\n    }\n\n    if (pts.length > 2) {\n        switch (opt.join) {\n            case \"bevel\":\n                return _drawLinesBevel(opt);\n            case \"round\":\n                return _drawLinesRound(opt);\n            case \"miter\":\n                return _drawLinesMiter(opt);\n        }\n    }\n\n    if (opt.radius && pts.length >= 3) {\n        // TODO: line joines\n        // TODO: rounded vertices for arbitrary polygonic shape\n        drawLine(Object.assign({}, opt, { p1: pts[0], p2: pts[1] }));\n\n        for (let i = 1; i < pts.length - 2; i++) {\n            const p1 = pts[i];\n            const p2 = pts[i + 1];\n            drawLine(Object.assign({}, opt, {\n                p1: p1,\n                p2: p2,\n            }));\n        }\n\n        drawLine(Object.assign({}, opt, {\n            p1: pts[pts.length - 2],\n            p2: pts[pts.length - 1],\n        }));\n    }\n    else {\n        for (let i = 0; i < pts.length - 1; i++) {\n            drawLine(Object.assign({}, opt, {\n                p1: pts[i],\n                p2: pts[i + 1],\n            }));\n            // TODO: other line join types\n            if (opt.join !== \"none\") {\n                drawCircle(Object.assign({}, opt, {\n                    pos: pts[i],\n                    radius: width / 2,\n                }));\n            }\n        }\n    }\n}\n","import type { Vec2 } from \"../../math/math\";\nimport type { RenderProps } from \"../../types\";\nimport { drawLines } from \"./drawLine\";\n\nexport type DrawCurveOpt = RenderProps & {\n    /**\n     * The amount of line segments to draw.\n     */\n    segments?: number;\n    /**\n     * The width of the line.\n     */\n    width?: number;\n};\n\nexport function drawCurve(curve: (t: number) => Vec2, opt: DrawCurveOpt) {\n    const segments = opt.segments ?? 16;\n    const p: Vec2[] = [];\n\n    for (let i = 0; i <= segments; i++) {\n        p.push(curve(i / segments));\n    }\n\n    drawLines({\n        pts: p,\n        width: opt.width || 1,\n        pos: opt.pos,\n        color: opt.color,\n        opacity: opt.opacity,\n    });\n}\n","import { evaluateBezier, type Vec2 } from \"../../math/math\";\nimport { drawCurve, type DrawCurveOpt } from \"./drawCurve\";\n\nexport type DrawBezierOpt = DrawCurveOpt & {\n    /**\n     * The first point.\n     */\n    pt1: Vec2;\n    /**\n     * The the first control point.\n     */\n    pt2: Vec2;\n    /**\n     * The the second control point.\n     */\n    pt3: Vec2;\n    /**\n     * The second point.\n     */\n    pt4: Vec2;\n};\n\nexport function drawBezier(opt: DrawBezierOpt) {\n    drawCurve(\n        t => evaluateBezier(opt.pt1, opt.pt2, opt.pt3, opt.pt4, t),\n        opt,\n    );\n}\n","import type { Shader, Uniform } from \"../assets\";\nimport type { ImageSource, TexFilter, TextureOpt } from \"../types\";\nimport { deepEq } from \"../utils/\";\n\nexport type GfxCtx = ReturnType<typeof initGfx>;\n\nexport class Texture {\n    ctx: GfxCtx;\n    src: null | ImageSource = null;\n    glTex: WebGLTexture;\n    width: number;\n    height: number;\n\n    constructor(ctx: GfxCtx, w: number, h: number, opt: TextureOpt = {}) {\n        this.ctx = ctx;\n        const gl = ctx.gl;\n        const glText = ctx.gl.createTexture();\n\n        if (!glText) {\n            throw new Error(\"Failed to create texture\");\n        }\n\n        this.glTex = glText;\n        ctx.onDestroy(() => this.free());\n\n        this.width = w;\n        this.height = h;\n\n        const filter = {\n            \"linear\": gl.LINEAR,\n            \"nearest\": gl.NEAREST,\n        }[opt.filter ?? ctx.opts.texFilter ?? \"nearest\"];\n\n        const wrap = {\n            \"repeat\": gl.REPEAT,\n            \"clampToEdge\": gl.CLAMP_TO_EDGE,\n        }[opt.wrap ?? \"clampToEdge\"];\n\n        this.bind();\n\n        if (w && h) {\n            gl.texImage2D(\n                gl.TEXTURE_2D,\n                0,\n                gl.RGBA,\n                w,\n                h,\n                0,\n                gl.RGBA,\n                gl.UNSIGNED_BYTE,\n                null,\n            );\n        }\n\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, filter);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, filter);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrap);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrap);\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, true);\n        this.unbind();\n    }\n\n    static fromImage(\n        ctx: GfxCtx,\n        img: ImageSource,\n        opt: TextureOpt = {},\n    ): Texture {\n        const tex = new Texture(ctx, img.width, img.height, opt);\n        tex.update(img);\n        tex.src = img;\n        return tex;\n    }\n\n    update(img: ImageSource, x = 0, y = 0) {\n        const gl = this.ctx.gl;\n        this.bind();\n        gl.texSubImage2D(\n            gl.TEXTURE_2D,\n            0,\n            x,\n            y,\n            gl.RGBA,\n            gl.UNSIGNED_BYTE,\n            img,\n        );\n        this.unbind();\n    }\n\n    bind() {\n        this.ctx.pushTexture2D(this.glTex);\n    }\n\n    unbind() {\n        this.ctx.popTexture2D();\n    }\n\n    /** Frees up texture memory. Call this once the texture is no longer being used to avoid memory leaks. */\n    free() {\n        this.ctx.gl.deleteTexture(this.glTex);\n    }\n}\n\n/**\n * @group GFX\n */\nexport class FrameBuffer {\n    ctx: GfxCtx;\n    tex: Texture;\n    glFramebuffer: WebGLFramebuffer;\n    glRenderbuffer: WebGLRenderbuffer;\n\n    constructor(ctx: GfxCtx, w: number, h: number, opt: TextureOpt = {}) {\n        this.ctx = ctx;\n        const gl = ctx.gl;\n        ctx.onDestroy(() => this.free());\n        this.tex = new Texture(ctx, w, h, opt);\n\n        const frameBuffer = gl.createFramebuffer();\n        const renderBuffer = gl.createRenderbuffer();\n\n        if (!frameBuffer || !renderBuffer) {\n            throw new Error(\"Failed to create framebuffer\");\n        }\n\n        this.glFramebuffer = frameBuffer;\n        this.glRenderbuffer = renderBuffer;\n\n        this.bind();\n        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, w, h);\n        gl.framebufferTexture2D(\n            gl.FRAMEBUFFER,\n            gl.COLOR_ATTACHMENT0,\n            gl.TEXTURE_2D,\n            this.tex.glTex,\n            0,\n        );\n        gl.framebufferRenderbuffer(\n            gl.FRAMEBUFFER,\n            gl.DEPTH_STENCIL_ATTACHMENT,\n            gl.RENDERBUFFER,\n            this.glRenderbuffer,\n        );\n        this.unbind();\n    }\n\n    get width() {\n        return this.tex.width;\n    }\n\n    get height() {\n        return this.tex.height;\n    }\n\n    toImageData() {\n        const gl = this.ctx.gl;\n        const data = new Uint8ClampedArray(this.width * this.height * 4);\n        this.bind();\n        gl.readPixels(\n            0,\n            0,\n            this.width,\n            this.height,\n            gl.RGBA,\n            gl.UNSIGNED_BYTE,\n            data,\n        );\n        this.unbind();\n        // flip vertically\n        const bytesPerRow = this.width * 4;\n        const temp = new Uint8Array(bytesPerRow);\n        for (let y = 0; y < (this.height / 2 | 0); y++) {\n            const topOffset = y * bytesPerRow;\n            const bottomOffset = (this.height - y - 1) * bytesPerRow;\n            temp.set(data.subarray(topOffset, topOffset + bytesPerRow));\n            data.copyWithin(\n                topOffset,\n                bottomOffset,\n                bottomOffset + bytesPerRow,\n            );\n            data.set(temp, bottomOffset);\n        }\n        return new ImageData(data, this.width, this.height);\n    }\n\n    toDataURL() {\n        const canvas = document.createElement(\"canvas\");\n        const ctx = canvas.getContext(\"2d\");\n        canvas.width = this.width;\n        canvas.height = this.height;\n\n        if (!ctx) throw new Error(\"Failed to get 2d context\");\n\n        ctx.putImageData(this.toImageData(), 0, 0);\n        return canvas.toDataURL();\n    }\n\n    clear() {\n        const gl = this.ctx.gl;\n        gl.clear(gl.COLOR_BUFFER_BIT);\n    }\n\n    draw(action: () => void) {\n        this.bind();\n        action();\n        this.unbind();\n    }\n\n    bind() {\n        this.ctx.pushFramebuffer(this.glFramebuffer);\n        this.ctx.pushRenderbuffer(this.glRenderbuffer);\n        this.ctx.pushViewport({ x: 0, y: 0, w: this.width, h: this.height });\n    }\n\n    unbind() {\n        this.ctx.popFramebuffer();\n        this.ctx.popRenderbuffer();\n        this.ctx.popViewport();\n    }\n\n    free() {\n        const gl = this.ctx.gl;\n        gl.deleteFramebuffer(this.glFramebuffer);\n        gl.deleteRenderbuffer(this.glRenderbuffer);\n        this.tex.free();\n    }\n}\n\nexport type VertexFormat = {\n    name: string;\n    size: number;\n}[];\n\nexport class BatchRenderer {\n    ctx: GfxCtx;\n\n    glVBuf: WebGLBuffer;\n    glIBuf: WebGLBuffer;\n    vqueue: number[] = [];\n    iqueue: number[] = [];\n    stride: number;\n    maxVertices: number;\n    maxIndices: number;\n\n    vertexFormat: VertexFormat;\n    numDraws: number = 0;\n\n    curPrimitive: GLenum | null = null;\n    curTex: Texture | null = null;\n    curShader: Shader | null = null;\n    curUniform: Uniform = {};\n\n    constructor(\n        ctx: GfxCtx,\n        format: VertexFormat,\n        maxVertices: number,\n        maxIndices: number,\n    ) {\n        const gl = ctx.gl;\n\n        this.vertexFormat = format;\n        this.ctx = ctx;\n        this.stride = format.reduce((sum, f) => sum + f.size, 0);\n        this.maxVertices = maxVertices;\n        this.maxIndices = maxIndices;\n\n        const glVBuf = gl.createBuffer();\n\n        if (!glVBuf) {\n            throw new Error(\"Failed to create vertex buffer\");\n        }\n\n        this.glVBuf = glVBuf;\n\n        ctx.pushArrayBuffer(this.glVBuf);\n        gl.bufferData(gl.ARRAY_BUFFER, maxVertices * 4, gl.DYNAMIC_DRAW);\n        ctx.popArrayBuffer();\n\n        this.glIBuf = gl.createBuffer()!;\n        ctx.pushElementArrayBuffer(this.glIBuf);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, maxIndices * 4, gl.DYNAMIC_DRAW);\n        ctx.popElementArrayBuffer();\n    }\n\n    push(\n        primitive: GLenum,\n        verts: number[],\n        indices: number[],\n        shader: Shader,\n        tex: Texture | null = null,\n        uniform: Uniform = {},\n    ) {\n        if (\n            primitive !== this.curPrimitive\n            || tex !== this.curTex\n            || shader !== this.curShader\n            || !deepEq(this.curUniform, uniform)\n            || this.vqueue.length + verts.length * this.stride\n                > this.maxVertices\n            || this.iqueue.length + indices.length > this.maxIndices\n        ) {\n            this.flush();\n        }\n        const indexOffset = this.vqueue.length / this.stride;\n        for (const v of verts) {\n            this.vqueue.push(v);\n        }\n        for (const i of indices) {\n            this.iqueue.push(i + indexOffset);\n        }\n        this.curPrimitive = primitive;\n        this.curShader = shader;\n        this.curTex = tex;\n        this.curUniform = uniform;\n    }\n\n    flush() {\n        if (\n            !this.curPrimitive\n            || !this.curShader\n            || this.vqueue.length === 0\n            || this.iqueue.length === 0\n        ) {\n            return;\n        }\n\n        const gl = this.ctx.gl;\n\n        this.ctx.pushArrayBuffer(this.glVBuf);\n        gl.bufferSubData(gl.ARRAY_BUFFER, 0, new Float32Array(this.vqueue));\n        this.ctx.pushElementArrayBuffer(this.glIBuf);\n        gl.bufferSubData(\n            gl.ELEMENT_ARRAY_BUFFER,\n            0,\n            new Uint16Array(this.iqueue),\n        );\n        this.ctx.setVertexFormat(this.vertexFormat);\n        this.curShader.bind();\n        this.curShader.send(this.curUniform);\n        this.curTex?.bind();\n        gl.drawElements(\n            this.curPrimitive,\n            this.iqueue.length,\n            gl.UNSIGNED_SHORT,\n            0,\n        );\n        this.curTex?.unbind();\n        this.curShader.unbind();\n\n        this.ctx.popArrayBuffer();\n        this.ctx.popElementArrayBuffer();\n\n        this.vqueue = [];\n        this.iqueue = [];\n        this.numDraws++;\n    }\n\n    free() {\n        const gl = this.ctx.gl;\n        gl.deleteBuffer(this.glVBuf);\n        gl.deleteBuffer(this.glIBuf);\n    }\n}\n\nexport class Mesh {\n    ctx: GfxCtx;\n    glVBuf: WebGLBuffer;\n    glIBuf: WebGLBuffer;\n    vertexFormat: VertexFormat;\n    count: number;\n\n    constructor(\n        ctx: GfxCtx,\n        format: VertexFormat,\n        verts: number[],\n        indices: number[],\n    ) {\n        const gl = ctx.gl;\n        this.vertexFormat = format;\n        this.ctx = ctx;\n        const glVBuf = gl.createBuffer();\n\n        if (!glVBuf) throw new Error(\"Failed to create vertex buffer\");\n\n        this.glVBuf = glVBuf;\n\n        ctx.pushArrayBuffer(this.glVBuf);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(verts), gl.STATIC_DRAW);\n        ctx.popArrayBuffer();\n\n        this.glIBuf = gl.createBuffer()!;\n        ctx.pushElementArrayBuffer(this.glIBuf);\n        gl.bufferData(\n            gl.ELEMENT_ARRAY_BUFFER,\n            new Uint16Array(indices),\n            gl.STATIC_DRAW,\n        );\n        ctx.popElementArrayBuffer();\n\n        this.count = indices.length;\n    }\n\n    draw(primitive?: GLenum) {\n        const gl = this.ctx.gl;\n        this.ctx.pushArrayBuffer(this.glVBuf);\n        this.ctx.pushElementArrayBuffer(this.glIBuf);\n        this.ctx.setVertexFormat(this.vertexFormat);\n        gl.drawElements(\n            primitive ?? gl.TRIANGLES,\n            this.count,\n            gl.UNSIGNED_SHORT,\n            0,\n        );\n        this.ctx.popArrayBuffer();\n        this.ctx.popElementArrayBuffer();\n    }\n\n    free() {\n        const gl = this.ctx.gl;\n        gl.deleteBuffer(this.glVBuf);\n        gl.deleteBuffer(this.glIBuf);\n    }\n}\n\nfunction genStack<T>(setFunc: (item: T | null) => void) {\n    const stack: T[] = [];\n    // TODO: don't do anything if pushed item is the same as the one on top?\n    const push = (item: T) => {\n        stack.push(item);\n        setFunc(item);\n    };\n    const pop = () => {\n        stack.pop();\n        setFunc(cur() ?? null);\n    };\n    const cur = () => stack[stack.length - 1];\n    return [push, pop, cur] as const;\n}\n\nexport function initGfx(gl: WebGLRenderingContext, opts: {\n    texFilter?: TexFilter;\n} = {}) {\n    const gc: Array<() => void> = [];\n\n    function onDestroy(action: () => unknown) {\n        gc.push(action);\n    }\n\n    function destroy() {\n        gc.forEach((action) => action());\n        const extension = gl.getExtension(\"WEBGL_lose_context\");\n        if (extension) extension.loseContext();\n    }\n\n    let curVertexFormat: object | null = null;\n\n    function setVertexFormat(fmt: VertexFormat) {\n        if (deepEq(fmt, curVertexFormat)) return;\n        curVertexFormat = fmt;\n        const stride = fmt.reduce((sum, f) => sum + f.size, 0);\n        fmt.reduce((offset, f, i) => {\n            gl.vertexAttribPointer(\n                i,\n                f.size,\n                gl.FLOAT,\n                false,\n                stride * 4,\n                offset,\n            );\n            gl.enableVertexAttribArray(i);\n            return offset + f.size * 4;\n        }, 0);\n    }\n\n    const [pushTexture2D, popTexture2D] = genStack<WebGLTexture>((t) =>\n        gl.bindTexture(gl.TEXTURE_2D, t)\n    );\n\n    const [pushArrayBuffer, popArrayBuffer] = genStack<WebGLBuffer>((b) =>\n        gl.bindBuffer(gl.ARRAY_BUFFER, b)\n    );\n\n    const [pushElementArrayBuffer, popElementArrayBuffer] = genStack<\n        WebGLBuffer\n    >((b) => gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, b));\n\n    const [pushFramebuffer, popFramebuffer] = genStack<WebGLFramebuffer>((b) =>\n        gl.bindFramebuffer(gl.FRAMEBUFFER, b)\n    );\n\n    const [pushRenderbuffer, popRenderbuffer] = genStack<WebGLRenderbuffer>((\n        b,\n    ) => gl.bindRenderbuffer(gl.RENDERBUFFER, b));\n\n    const [pushViewport, popViewport] = genStack<\n        { x: number; y: number; w: number; h: number }\n    >((stack) => {\n        if (!stack) return;\n        const { x, y, w, h } = stack;\n\n        gl.viewport(x, y, w, h);\n    });\n\n    const [pushProgram, popProgram] = genStack<WebGLProgram>((p) =>\n        gl.useProgram(p)\n    );\n\n    pushViewport({\n        x: 0,\n        y: 0,\n        w: gl.drawingBufferWidth,\n        h: gl.drawingBufferHeight,\n    });\n\n    return {\n        gl,\n        opts,\n        onDestroy,\n        destroy,\n        pushTexture2D,\n        popTexture2D,\n        pushArrayBuffer,\n        popArrayBuffer,\n        pushElementArrayBuffer,\n        popElementArrayBuffer,\n        pushFramebuffer,\n        popFramebuffer,\n        pushRenderbuffer,\n        popRenderbuffer,\n        pushViewport,\n        popViewport,\n        pushProgram,\n        popProgram,\n        setVertexFormat,\n    };\n}\n","import { Asset, type BitmapFontData, FontData, resolveFont } from \"../assets\";\nimport {\n    DEF_FONT_FILTER,\n    DEF_TEXT_CACHE_SIZE,\n    FONT_ATLAS_HEIGHT,\n    FONT_ATLAS_WIDTH,\n} from \"../constants\";\nimport { _k } from \"../kaplay\";\nimport { Color } from \"../math/color\";\nimport { Quad, Vec2, vec2 } from \"../math/math\";\nimport { type Outline, type TexFilter } from \"../types\";\nimport { runes } from \"../utils\";\nimport { alignPt } from \"./anchor\";\nimport {\n    type CharTransform,\n    type DrawTextOpt,\n    drawUVQuad,\n    type FormattedChar,\n    type FormattedText,\n} from \"./draw\";\nimport { Texture } from \"./gfx\";\nimport { center } from \"./stack\";\n\ntype FontAtlas = {\n    font: BitmapFontData;\n    cursor: Vec2;\n    maxHeight: number;\n    outline: Outline | null;\n};\n\nconst fontAtlases: Record<string, FontAtlas> = {};\n\nfunction applyCharTransform(fchar: FormattedChar, tr: CharTransform) {\n    if (tr.override) {\n        Object.assign(fchar, tr);\n        return;\n    }\n    if (tr.pos) fchar.pos = fchar.pos.add(tr.pos);\n    if (tr.scale) fchar.scale = fchar.scale.scale(vec2(tr.scale));\n    if (tr.angle) fchar.angle += tr.angle;\n    if (tr.color && fchar.ch.length === 1) {\n        fchar.color = fchar.color.mult(tr.color);\n    }\n    // attention to type coercion, 0 is a valid value, only null & undefined are not\n    if (tr.opacity != null) fchar.opacity *= tr.opacity;\n}\n\nexport function compileStyledText(txt: string): {\n    charStyleMap: Record<number, string[]>;\n    text: string;\n} {\n    const charStyleMap = {} as Record<number, string[]>;\n    let renderText = \"\";\n    let styleStack: string[] = [];\n\n    let text = String(txt);\n\n    const emit = (ch: string) => {\n        if (styleStack.length > 0) {\n            charStyleMap[renderText.length] = styleStack.slice();\n        }\n        renderText += ch;\n    };\n\n    while (text !== \"\") {\n        if (text[0] === \"\\\\\") {\n            if (text.length === 1) {\n                throw new Error(\"Styled text error: \\\\ at end of string\");\n            }\n            emit(text[1]);\n            text = text.slice(2);\n            continue;\n        }\n        if (text[0] === \"[\") {\n            const execResult = /^\\[(\\/)?(\\w+?)\\]/.exec(text);\n            if (!execResult) {\n                // xxx: should throw an error here?\n                emit(text[0]);\n                text = text.slice(1);\n                continue;\n            }\n            const [m, e, gn] = execResult;\n            if (e !== undefined) {\n                const x = styleStack.pop();\n                if (x !== gn) {\n                    if (x !== undefined) {\n                        throw new Error(\n                            \"Styled text error: mismatched tags. \"\n                                + `Expected [/${x}], got [/${gn}]`,\n                        );\n                    }\n                    else {\n                        throw new Error(\n                            `Styled text error: stray end tag [/${gn}]`,\n                        );\n                    }\n                }\n            }\n            else styleStack.push(gn);\n            text = text.slice(m.length);\n            continue;\n        }\n        emit(text[0]);\n        text = text.slice(1);\n    }\n\n    if (styleStack.length > 0) {\n        throw new Error(\n            `Styled text error: unclosed tags ${styleStack}`,\n        );\n    }\n\n    return {\n        charStyleMap,\n        text: renderText,\n    };\n}\n\nexport function formatText(opt: DrawTextOpt): FormattedText {\n    if (opt.text === undefined) {\n        throw new Error(\"formatText() requires property \\\"text\\\".\");\n    }\n\n    let font = resolveFont(opt.font);\n\n    // if it's still loading\n    if (!opt.text || opt.text === \"\" || font instanceof Asset || !font) {\n        return {\n            width: 0,\n            height: 0,\n            chars: [],\n            opt: opt,\n            renderedText: \"\",\n        };\n    }\n\n    const { charStyleMap, text } = compileStyledText(opt.text + \"\");\n    const chars = runes(text);\n\n    // if it's not bitmap font, we draw it with 2d canvas or use cached image\n    if (font instanceof FontData || typeof font === \"string\") {\n        const fontName = font instanceof FontData\n            ? font.fontface.family\n            : font;\n        const opts: {\n            outline: Outline | null;\n            filter: TexFilter;\n        } = font instanceof FontData\n            ? {\n                outline: font.outline,\n                filter: font.filter,\n            }\n            : {\n                outline: null,\n                filter: DEF_FONT_FILTER,\n            };\n\n        // TODO: customizable font tex filter\n        const atlas: FontAtlas = fontAtlases[fontName] ?? {\n            font: {\n                tex: new Texture(\n                    _k.gfx.ggl,\n                    FONT_ATLAS_WIDTH,\n                    FONT_ATLAS_HEIGHT,\n                    {\n                        filter: opts.filter,\n                    },\n                ),\n                map: {},\n                size: DEF_TEXT_CACHE_SIZE,\n            },\n            cursor: new Vec2(0),\n            maxHeight: 0,\n            outline: opts.outline,\n        };\n\n        if (!fontAtlases[fontName]) {\n            fontAtlases[fontName] = atlas;\n        }\n\n        font = atlas.font;\n\n        for (const ch of chars) {\n            if (!atlas.font.map[ch]) {\n                // TODO: use assets.packer to pack font texture\n                const c2d = _k.fontCacheC2d;\n                if (!c2d) throw new Error(\"fontCacheC2d is not defined.\");\n\n                if (!_k.fontCacheCanvas) {\n                    throw new Error(\"fontCacheCanvas is not defined.\");\n                }\n\n                c2d.clearRect(\n                    0,\n                    0,\n                    _k.fontCacheCanvas.width,\n                    _k.fontCacheCanvas.height,\n                );\n\n                c2d.font = `${font.size}px ${fontName}`;\n                c2d.textBaseline = \"top\";\n                c2d.textAlign = \"left\";\n                c2d.fillStyle = \"#ffffff\";\n                const m = c2d.measureText(ch);\n                let w = Math.ceil(m.width);\n                if (!w) continue;\n                let h = Math.ceil(Math.abs(m.actualBoundingBoxAscent))\n                    + Math.ceil(Math.abs(m.actualBoundingBoxDescent));\n\n                // TODO: Test if this works with the verification of width and color\n                if (\n                    atlas.outline && atlas.outline.width\n                    && atlas.outline.color\n                ) {\n                    c2d.lineJoin = \"round\";\n                    c2d.lineWidth = atlas.outline.width * 2;\n                    c2d.strokeStyle = atlas.outline.color.toHex();\n                    c2d.strokeText(\n                        ch,\n                        atlas.outline.width,\n                        atlas.outline.width,\n                    );\n\n                    w += atlas.outline.width * 2;\n                    h += atlas.outline.width * 3;\n                }\n\n                c2d.fillText(\n                    ch,\n                    atlas.outline?.width ?? 0,\n                    atlas.outline?.width ?? 0,\n                );\n\n                const img = c2d.getImageData(\n                    0,\n                    0,\n                    w,\n                    h,\n                );\n\n                // if we are about to exceed the X axis of the texture, go to another line\n                if (atlas.cursor.x + w > FONT_ATLAS_WIDTH) {\n                    atlas.cursor.x = 0;\n                    atlas.cursor.y += atlas.maxHeight;\n                    atlas.maxHeight = 0;\n                    if (atlas.cursor.y > FONT_ATLAS_HEIGHT) {\n                        // TODO: create another atlas\n                        throw new Error(\n                            \"Font atlas exceeds character limit\",\n                        );\n                    }\n                }\n\n                font.tex.update(img, atlas.cursor.x, atlas.cursor.y);\n\n                font.map[ch] = new Quad(\n                    atlas.cursor.x,\n                    atlas.cursor.y,\n                    w,\n                    h,\n                );\n\n                atlas.cursor.x += w + 1;\n                atlas.maxHeight = Math.max(atlas.maxHeight, h);\n            }\n        }\n    }\n\n    const size = opt.size || font.size;\n    const scale = vec2(opt.scale ?? 1).scale(size / font.size);\n    const lineSpacing = opt.lineSpacing ?? 0;\n    const letterSpacing = opt.letterSpacing ?? 0;\n    let curX: number = 0;\n    let tw = 0;\n    let th = 0;\n    const lines: Array<{\n        width: number;\n        chars: FormattedChar[];\n    }> = [];\n    let curLine: FormattedChar[] = [];\n    let cursor = 0;\n    let lastSpace: number | null = null;\n    let lastSpaceWidth: number = 0;\n    let paraIndentX: number | undefined = undefined;\n\n    // TODO: word break\n    while (cursor < chars.length) {\n        let ch = chars[cursor];\n\n        // always new line on '\\n'\n        if (ch === \"\\n\") {\n            th += size + lineSpacing;\n\n            lines.push({\n                width: curX - letterSpacing,\n                chars: curLine,\n            });\n\n            lastSpace = null;\n            lastSpaceWidth = 0;\n            curX = 0;\n            curLine = [];\n            paraIndentX = undefined;\n        }\n        else {\n            let q = font.map[ch];\n\n            // TODO: leave space if character not found?\n            if (q) {\n                let gw = q.w * scale.x;\n\n                if (opt.width && curX + gw > opt.width) {\n                    // new line on last word if width exceeds\n                    th += size + lineSpacing;\n                    if (lastSpace != null) {\n                        cursor -= curLine.length - lastSpace;\n                        ch = chars[cursor];\n                        q = font.map[ch];\n                        gw = q.w * scale.x;\n                        // omit trailing space\n                        curLine = curLine.slice(0, lastSpace - 1);\n                        curX = lastSpaceWidth;\n                    }\n                    lastSpace = null;\n                    lastSpaceWidth = 0;\n\n                    lines.push({\n                        width: curX - letterSpacing,\n                        chars: curLine,\n                    });\n\n                    curX = paraIndentX ?? 0;\n                    curLine = [];\n                }\n\n                // push char\n                curLine.push({\n                    tex: font.tex,\n                    width: q.w,\n                    height: q.h,\n                    // without some padding there'll be visual artifacts on edges\n                    quad: new Quad(\n                        q.x / font.tex.width,\n                        q.y / font.tex.height,\n                        q.w / font.tex.width,\n                        q.h / font.tex.height,\n                    ),\n                    ch: ch,\n                    pos: new Vec2(curX, th),\n                    opacity: opt.opacity ?? 1,\n                    color: opt.color ?? Color.WHITE,\n                    scale: vec2(scale),\n                    angle: 0,\n                });\n\n                if (ch === \" \") {\n                    lastSpace = curLine.length;\n                    lastSpaceWidth = curX;\n                }\n                if (\n                    opt.indentAll && paraIndentX === undefined && /\\S/.test(ch)\n                ) {\n                    paraIndentX = curX;\n                }\n\n                curX += gw;\n                tw = Math.max(tw, curX);\n                curX += letterSpacing;\n            }\n        }\n\n        cursor++;\n    }\n\n    lines.push({\n        width: curX - letterSpacing,\n        chars: curLine,\n    });\n\n    th += size;\n\n    if (opt.width) {\n        tw = opt.width;\n    }\n\n    const fchars: FormattedChar[] = [];\n\n    for (let i = 0; i < lines.length; i++) {\n        const ox = (tw - lines[i].width) * alignPt(opt.align ?? \"left\");\n\n        for (const fchar of lines[i].chars) {\n            const q = font.map[fchar.ch];\n            const idx = fchars.length + i;\n\n            fchar.pos = fchar.pos.add(ox, 0).add(\n                q.w * scale.x * 0.5,\n                q.h * scale.y * 0.5,\n            );\n\n            if (opt.transform) {\n                const tr = typeof opt.transform === \"function\"\n                    ? opt.transform(idx, fchar.ch)\n                    : opt.transform;\n                if (tr) {\n                    applyCharTransform(fchar, tr);\n                }\n            }\n\n            if (charStyleMap[idx]) {\n                const styles = charStyleMap[idx];\n                for (const name of styles) {\n                    const style = opt.styles?.[name];\n                    const tr = typeof style === \"function\"\n                        ? style(idx, fchar.ch)\n                        : style;\n\n                    if (tr) {\n                        applyCharTransform(fchar, tr);\n                    }\n                }\n            }\n\n            fchars.push(fchar);\n        }\n    }\n\n    return {\n        width: tw,\n        height: th,\n        chars: fchars,\n        opt: opt,\n        renderedText: text,\n    };\n}\n","import { DEF_ANCHOR, UV_PAD } from \"../../constants\";\nimport { rgb } from \"../../math/color\";\nimport { Quad, Vec2 } from \"../../math/math\";\nimport type { DrawUVQuadOpt } from \"../../types\";\nimport { anchorPt } from \"../anchor\";\nimport {\n    popTransform,\n    pushRotate,\n    pushScale,\n    pushTransform,\n    pushTranslate,\n} from \"../stack\";\nimport { drawRaw } from \"./drawRaw\";\n\nexport function drawUVQuad(opt: DrawUVQuadOpt) {\n    if (opt.width === undefined || opt.height === undefined) {\n        throw new Error(\n            \"drawUVQuad() requires property \\\"width\\\" and \\\"height\\\".\",\n        );\n    }\n\n    if (opt.width <= 0 || opt.height <= 0) {\n        return;\n    }\n\n    const w = opt.width;\n    const h = opt.height;\n    const anchor = anchorPt(opt.anchor || DEF_ANCHOR);\n    const offset = anchor.scale(new Vec2(w, h).scale(-0.5));\n    const q = opt.quad || new Quad(0, 0, 1, 1);\n    const color = opt.color || rgb(255, 255, 255);\n    const opacity = opt.opacity ?? 1;\n\n    // apply uv padding to avoid artifacts\n    const uvPadX = opt.tex ? UV_PAD / opt.tex.width : 0;\n    const uvPadY = opt.tex ? UV_PAD / opt.tex.height : 0;\n    const qx = q.x + uvPadX;\n    const qy = q.y + uvPadY;\n    const qw = q.w - uvPadX * 2;\n    const qh = q.h - uvPadY * 2;\n\n    pushTransform();\n    pushTranslate(opt.pos);\n    pushRotate(opt.angle);\n    pushScale(opt.scale);\n    pushTranslate(offset);\n\n    drawRaw(\n        [\n            {\n                pos: new Vec2(-w / 2, h / 2),\n                uv: new Vec2(\n                    opt.flipX ? qx + qw : qx,\n                    opt.flipY ? qy : qy + qh,\n                ),\n                color: color,\n                opacity: opacity,\n            },\n            {\n                pos: new Vec2(-w / 2, -h / 2),\n                uv: new Vec2(\n                    opt.flipX ? qx + qw : qx,\n                    opt.flipY ? qy + qh : qy,\n                ),\n                color: color,\n                opacity: opacity,\n            },\n            {\n                pos: new Vec2(w / 2, -h / 2),\n                uv: new Vec2(\n                    opt.flipX ? qx : qx + qw,\n                    opt.flipY ? qy + qh : qy,\n                ),\n                color: color,\n                opacity: opacity,\n            },\n            {\n                pos: new Vec2(w / 2, h / 2),\n                uv: new Vec2(\n                    opt.flipX ? qx : qx + qw,\n                    opt.flipY ? qy : qy + qh,\n                ),\n                color: color,\n                opacity: opacity,\n            },\n        ],\n        [0, 1, 3, 1, 2, 3],\n        opt.fixed,\n        opt.tex,\n        opt.shader,\n        opt.uniform ?? undefined,\n    );\n\n    popTransform();\n}\n","import type { Color } from \"../../math/color\";\nimport type { Quad, Vec2 } from \"../../math/math\";\nimport { anchorPt } from \"../anchor\";\nimport type { Texture } from \"../gfx\";\nimport {\n    popTransform,\n    pushRotate,\n    pushTransform,\n    pushTranslate,\n} from \"../stack\";\nimport type { DrawTextOpt } from \"./drawText\";\nimport { drawUVQuad } from \"./drawUVQuad\";\n\n/**\n * Formatted text with info on how and where to render each character.\n */\nexport type FormattedText = {\n    width: number;\n    height: number;\n    chars: FormattedChar[];\n    opt: DrawTextOpt;\n    renderedText: string;\n};\n\n/**\n * One formated character.\n */\nexport interface FormattedChar {\n    ch: string;\n    tex: Texture;\n    width: number;\n    height: number;\n    quad: Quad;\n    pos: Vec2;\n    scale: Vec2;\n    angle: number;\n    color: Color;\n    opacity: number;\n}\n\nexport function drawFormattedText(ftext: FormattedText) {\n    pushTransform();\n    pushTranslate(ftext.opt.pos!);\n    pushRotate(ftext.opt.angle!);\n    pushTranslate(\n        anchorPt(ftext.opt.anchor ?? \"topleft\").add(1, 1).scale(\n            ftext.width,\n            ftext.height,\n        ).scale(-0.5),\n    );\n\n    ftext.chars.forEach((ch) => {\n        drawUVQuad({\n            tex: ch.tex,\n            width: ch.width,\n            height: ch.height,\n            pos: ch.pos,\n            scale: ch.scale,\n            angle: ch.angle,\n            color: ch.color,\n            opacity: ch.opacity,\n            quad: ch.quad,\n            anchor: \"center\",\n            uniform: ftext.opt.uniform,\n            shader: ftext.opt.shader,\n            fixed: ftext.opt.fixed,\n        });\n    });\n\n    popTransform();\n}\n","import { DEF_ANCHOR } from \"../../constants\";\nimport type { Color } from \"../../math/color\";\nimport { Vec2, vec2 } from \"../../math/math\";\nimport { getArcPts } from \"../../math/various\";\nimport type { Anchor, RenderProps } from \"../../types\";\nimport { anchorPt } from \"../anchor\";\nimport { drawPolygon } from \"./drawPolygon\";\n\n/**\n * How the rectangle should look like.\n */\nexport type DrawRectOpt = RenderProps & {\n    /**\n     * Width of the rectangle.\n     */\n    width: number;\n    /**\n     * Height of the rectangle.\n     */\n    height: number;\n    /**\n     * Use gradient instead of solid color.\n     *\n     * @since v3000.0\n     */\n    gradient?: [Color, Color];\n    /**\n     * If the gradient should be horizontal.\n     *\n     * @since v3000.0\n     */\n    horizontal?: boolean;\n    /**\n     * If fill the shape with color (set this to false if you only want an outline).\n     */\n    fill?: boolean;\n    /**\n     * The radius of each corner.\n     */\n    radius?: number | number[];\n    /**\n     * The anchor point, or the pivot point. Default to \"topleft\".\n     */\n    anchor?: Anchor | Vec2;\n};\n\nexport function drawRect(opt: DrawRectOpt) {\n    if (opt.width === undefined || opt.height === undefined) {\n        throw new Error(\n            \"drawRect() requires property \\\"width\\\" and \\\"height\\\".\",\n        );\n    }\n\n    if (opt.width <= 0 || opt.height <= 0) {\n        return;\n    }\n\n    const w = opt.width;\n    const h = opt.height;\n    const anchor = anchorPt(opt.anchor || DEF_ANCHOR).add(1, 1);\n    const offset = anchor.scale(new Vec2(w, h).scale(-0.5));\n\n    let pts = [\n        new Vec2(0, 0),\n        new Vec2(w, 0),\n        new Vec2(w, h),\n        new Vec2(0, h),\n    ];\n\n    // TODO: gradient for rounded rect\n    // TODO: drawPolygon should handle generic rounded corners\n    if (opt.radius) {\n        // maximum radius is half the shortest side\n        const maxRadius = Math.min(w, h) / 2;\n        const r = Array.isArray(opt.radius)\n            ? opt.radius.map(r => Math.min(maxRadius, r))\n            : new Array(4).fill(Math.min(maxRadius, opt.radius));\n\n        pts = [\n            new Vec2(r[0], 0),\n            ...(r[1]\n                ? getArcPts(new Vec2(w - r[1], r[1]), r[1], r[1], 270, 360)\n                : [vec2(w, 0)]),\n            ...(r[2]\n                ? getArcPts(new Vec2(w - r[2], h - r[2]), r[2], r[2], 0, 90)\n                : [vec2(w, h)]),\n            ...(r[3]\n                ? getArcPts(new Vec2(r[3], h - r[3]), r[3], r[3], 90, 180)\n                : [vec2(0, h)]),\n            ...(r[0]\n                ? getArcPts(new Vec2(r[0], r[0]), r[0], r[0], 180, 270)\n                : []),\n        ];\n    }\n\n    drawPolygon(Object.assign({}, opt, {\n        offset,\n        pts,\n        ...(opt.gradient\n            ? {\n                colors: opt.horizontal\n                    ? [\n                        opt.gradient[0],\n                        opt.gradient[1],\n                        opt.gradient[1],\n                        opt.gradient[0],\n                    ]\n                    : [\n                        opt.gradient[0],\n                        opt.gradient[0],\n                        opt.gradient[1],\n                        opt.gradient[1],\n                    ],\n            }\n            : {}),\n    }));\n}\n","import { _k } from \"../../kaplay\";\nimport { flush } from \"../stack\";\n\nexport function drawUnscaled(content: () => void) {\n    flush();\n    const ow = _k.gfx.width;\n    const oh = _k.gfx.height;\n    _k.gfx.width = _k.gfx.viewport.width;\n    _k.gfx.height = _k.gfx.viewport.height;\n    content();\n    flush();\n    _k.gfx.width = ow;\n    _k.gfx.height = oh;\n}\n","import { DBG_FONT } from \"../../constants\";\nimport { rgb } from \"../../math/color\";\nimport { type Vec2, vec2 } from \"../../math/math\";\nimport { formatText } from \"../formatText\";\nimport {\n    height,\n    popTransform,\n    pushTransform,\n    pushTranslate,\n    width,\n} from \"../stack\";\nimport { drawFormattedText } from \"./drawFormattedText\";\nimport { drawRect } from \"./drawRect\";\nimport { drawUnscaled } from \"./drawUnscaled\";\n\nexport function drawInspectText(pos: Vec2, txt: string) {\n    drawUnscaled(() => {\n        const pad = vec2(8);\n\n        pushTransform();\n        pushTranslate(pos);\n\n        const ftxt = formatText({\n            text: txt,\n            font: DBG_FONT,\n            size: 16,\n            pos: pad,\n            color: rgb(255, 255, 255),\n            fixed: true,\n        });\n\n        const bw = ftxt.width + pad.x * 2;\n        const bh = ftxt.height + pad.x * 2;\n\n        if (pos.x + bw >= width()) {\n            pushTranslate(vec2(-bw, 0));\n        }\n\n        if (pos.y + bh >= height()) {\n            pushTranslate(vec2(0, -bh));\n        }\n\n        drawRect({\n            width: bw,\n            height: bh,\n            color: rgb(0, 0, 0),\n            radius: 4,\n            opacity: 0.8,\n            fixed: true,\n        });\n\n        drawFormattedText(ftxt);\n        popTransform();\n    });\n}\n","import type { Vec2 } from \"../../math/math\";\nimport type { RenderProps } from \"../../types\";\nimport { drawPolygon } from \"./drawPolygon\";\n\n/**\n * How the triangle should look like.\n */\nexport type DrawTriangleOpt = RenderProps & {\n    /**\n     * First point of triangle.\n     */\n    p1: Vec2;\n    /**\n     * Second point of triangle.\n     */\n    p2: Vec2;\n    /**\n     * Third point of triangle.\n     */\n    p3: Vec2;\n    /**\n     * If fill the shape with color (set this to false if you only want an outline).\n     */\n    fill?: boolean;\n    /**\n     * The radius of each corner.\n     */\n    radius?: number;\n};\n\nexport function drawTriangle(opt: DrawTriangleOpt) {\n    if (!opt.p1 || !opt.p2 || !opt.p3) {\n        throw new Error(\n            \"drawTriangle() requires properties \\\"p1\\\", \\\"p2\\\" and \\\"p3\\\".\",\n        );\n    }\n\n    return drawPolygon(Object.assign({}, opt, {\n        pts: [opt.p1, opt.p2, opt.p3],\n    }));\n}\n","import { DBG_FONT, LOG_TIME } from \"../../constants\";\nimport { _k } from \"../../kaplay\";\nimport { rgb } from \"../../math/color\";\nimport { vec2, wave } from \"../../math/math\";\nimport { formatText } from \"../formatText\";\nimport {\n    contentToView,\n    height,\n    mousePos,\n    popTransform,\n    pushTransform,\n    pushTranslate,\n    width,\n} from \"../stack\";\nimport { drawCircle } from \"./drawCircle\";\nimport { drawFormattedText } from \"./drawFormattedText\";\nimport { drawInspectText } from \"./drawInspectText\";\nimport { drawRect } from \"./drawRect\";\nimport { drawTriangle } from \"./drawTriangle\";\nimport { drawUnscaled } from \"./drawUnscaled\";\n\nexport function drawDebug() {\n    if (_k.debug.inspect) {\n        let inspecting = null;\n\n        for (const obj of _k.game.root.get(\"*\", { recursive: true })) {\n            if (obj.c(\"area\") && obj.isHovering()) {\n                inspecting = obj;\n                break;\n            }\n        }\n\n        _k.game.root.drawInspect();\n\n        if (inspecting) {\n            const lines = [];\n            const data = inspecting.inspect();\n\n            for (const tag in data) {\n                if (data[tag]) {\n                    // pushes the inspect function (eg: `sprite: \"bean\"`)\n                    lines.push(`${data[tag]}`);\n                }\n                else {\n                    // pushes only the tag (name of the component)\n                    lines.push(`${tag}`);\n                }\n            }\n\n            drawInspectText(contentToView(mousePos()), lines.join(\"\\n\"));\n        }\n\n        drawInspectText(vec2(8), `FPS: ${_k.debug.fps()}`);\n    }\n\n    if (_k.debug.paused) {\n        drawUnscaled(() => {\n            // top right corner\n            pushTransform();\n            pushTranslate(width(), 0);\n            pushTranslate(-8, 8);\n\n            const size = 32;\n\n            // bg\n            drawRect({\n                width: size,\n                height: size,\n                anchor: \"topright\",\n                color: rgb(0, 0, 0),\n                opacity: 0.8,\n                radius: 4,\n                fixed: true,\n            });\n\n            // pause icon\n            for (let i = 1; i <= 2; i++) {\n                drawRect({\n                    width: 4,\n                    height: size * 0.6,\n                    anchor: \"center\",\n                    pos: vec2(-size / 3 * i, size * 0.5),\n                    color: rgb(255, 255, 255),\n                    radius: 2,\n                    fixed: true,\n                });\n            }\n\n            popTransform();\n        });\n    }\n\n    if (_k.debug.timeScale !== 1) {\n        drawUnscaled(() => {\n            // bottom right corner\n            pushTransform();\n            pushTranslate(width(), height());\n            pushTranslate(-8, -8);\n\n            const pad = 8;\n\n            // format text first to get text size\n            const ftxt = formatText({\n                text: _k.debug.timeScale.toFixed(1),\n                font: DBG_FONT,\n                size: 16,\n                color: rgb(255, 255, 255),\n                pos: vec2(-pad),\n                anchor: \"botright\",\n                fixed: true,\n            });\n\n            // bg\n            drawRect({\n                width: ftxt.width + pad * 2 + pad * 4,\n                height: ftxt.height + pad * 2,\n                anchor: \"botright\",\n                color: rgb(0, 0, 0),\n                opacity: 0.8,\n                radius: 4,\n                fixed: true,\n            });\n\n            // fast forward / slow down icon\n            for (let i = 0; i < 2; i++) {\n                const flipped = _k.debug.timeScale < 1;\n                drawTriangle({\n                    p1: vec2(-ftxt.width - pad * (flipped ? 2 : 3.5), -pad),\n                    p2: vec2(\n                        -ftxt.width - pad * (flipped ? 2 : 3.5),\n                        -pad - ftxt.height,\n                    ),\n                    p3: vec2(\n                        -ftxt.width - pad * (flipped ? 3.5 : 2),\n                        -pad - ftxt.height / 2,\n                    ),\n                    pos: vec2(-i * pad * 1 + (flipped ? -pad * 0.5 : 0), 0),\n                    color: rgb(255, 255, 255),\n                    fixed: true,\n                });\n            }\n\n            // text\n            drawFormattedText(ftxt);\n\n            popTransform();\n        });\n    }\n\n    if (_k.debug.curRecording) {\n        drawUnscaled(() => {\n            pushTransform();\n            pushTranslate(0, height());\n            pushTranslate(24, -24);\n\n            drawCircle({\n                radius: 12,\n                color: rgb(255, 0, 0),\n                opacity: wave(0, 1, _k.app.time() * 4),\n                fixed: true,\n            });\n\n            popTransform();\n        });\n    }\n\n    if (_k.debug.showLog && _k.game.logs.length > 0) {\n        drawUnscaled(() => {\n            pushTransform();\n            pushTranslate(0, height());\n            pushTranslate(8, -8);\n\n            const pad = 8;\n            const logs = [];\n\n            for (const log of _k.game.logs) {\n                let str = \"\";\n                const style = log.msg instanceof Error ? \"error\" : \"info\";\n                str += `[time]${log.time.toFixed(2)}[/time]`;\n                str += \" \";\n                str += `[${style}]${prettyDebug(log.msg)}[/${style}]`;\n                logs.push(str);\n            }\n\n            _k.game.logs = _k.game.logs\n                .filter((log) =>\n                    _k.app.time() - log.time\n                        < (_k.globalOpt.logTime || LOG_TIME)\n                );\n\n            const ftext = formatText({\n                text: logs.join(\"\\n\"),\n                font: DBG_FONT,\n                pos: vec2(pad, -pad),\n                anchor: \"botleft\",\n                size: 16,\n                width: width() * 0.6,\n                lineSpacing: pad / 2,\n                fixed: true,\n                styles: {\n                    \"time\": { color: rgb(127, 127, 127) },\n                    \"info\": { color: rgb(255, 255, 255) },\n                    \"error\": { color: rgb(255, 0, 127) },\n                },\n            });\n\n            drawRect({\n                width: ftext.width + pad * 2,\n                height: ftext.height + pad * 2,\n                anchor: \"botleft\",\n                color: rgb(0, 0, 0),\n                radius: 4,\n                opacity: 0.8,\n                fixed: true,\n            });\n\n            drawFormattedText(ftext);\n            popTransform();\n        });\n    }\n}\n\nfunction prettyDebug(\n    object: any | undefined,\n    inside: boolean = false,\n    seen: Set<any> = new Set(),\n): string {\n    if (seen.has(object)) return \"<recursive>\";\n    var outStr = \"\", tmp;\n    if (inside && typeof object === \"string\") {\n        object = JSON.stringify(object);\n    }\n    if (Array.isArray(object)) {\n        outStr = [\n            \"[\",\n            object.map(e => prettyDebug(e, true, seen.union(new Set([object]))))\n                .join(\", \"),\n            \"]\",\n        ].join(\"\");\n        object = outStr;\n    }\n    if (object === null) return \"null\";\n    if (\n        typeof object === \"object\"\n        && object.toString === Object.prototype.toString\n    ) {\n        if (object.constructor !== Object) {\n            outStr += object.constructor.name + \" \";\n        }\n        outStr += [\n            \"{\",\n            (tmp = Object.getOwnPropertyNames(object)\n                    .map(p =>\n                        `${/^\\w+$/.test(p) ? p : JSON.stringify(p)}: ${\n                            prettyDebug(\n                                object[p],\n                                true,\n                                seen.union(new Set([object])),\n                            )\n                        }`\n                    )\n                    .join(\", \"))\n                ? ` ${tmp} `\n                : \"\",\n            \"}\",\n        ].join(\"\");\n        object = outStr;\n    }\n    return String(object).replaceAll(/(?<!\\\\)\\[/g, \"\\\\[\");\n}\n","import { dt } from \"../../app/frame\";\nimport { _k } from \"../../kaplay\";\nimport { lerp, Mat4, rand, Vec2 } from \"../../math/math\";\nimport { center, flush } from \"../stack\";\n\nexport function drawFrame() {\n    // calculate camera matrix\n    const cam = _k.game.cam;\n    const shake = Vec2.fromAngle(rand(0, 360)).scale(cam.shake);\n\n    cam.shake = lerp(cam.shake, 0, 5 * dt());\n    cam.transform = new Mat4()\n        .translate(center())\n        .scale(cam.scale)\n        .rotate(cam.angle)\n        .translate((cam.pos ?? center()).scale(-1).add(shake));\n\n    _k.game.root.draw();\n    flush();\n}\n","import { loadProgress } from \"../../assets\";\nimport { _k } from \"../../kaplay\";\nimport { rgb } from \"../../math/color\";\nimport { vec2 } from \"../../math/math\";\nimport { height, width } from \"../stack\";\nimport { drawRect } from \"./drawRect\";\nimport { drawUnscaled } from \"./drawUnscaled\";\n\nexport function drawLoadScreen() {\n    const progress = loadProgress();\n\n    if (_k.game.events.numListeners(\"loading\") > 0) {\n        _k.game.events.trigger(\"loading\", progress);\n    }\n    else {\n        drawUnscaled(() => {\n            const w = width() / 2;\n            const h = 24;\n            const pos = vec2(width() / 2, height() / 2).sub(\n                vec2(w / 2, h / 2),\n            );\n            drawRect({\n                pos: vec2(0),\n                width: width(),\n                height: height(),\n                color: rgb(0, 0, 0),\n            });\n            drawRect({\n                pos: pos,\n                width: w,\n                height: h,\n                fill: false,\n                outline: {\n                    width: 4,\n                },\n            });\n            drawRect({\n                pos: pos,\n                width: w * progress,\n                height: h,\n            });\n        });\n    }\n}\n","import { _k } from \"../../kaplay\";\nimport { flush } from \"../stack\";\n\nexport function drawStenciled(\n    content: () => void,\n    mask: () => void,\n    test: number,\n) {\n    const gl = _k.gfx.ggl.gl;\n\n    flush();\n    gl.clear(gl.STENCIL_BUFFER_BIT);\n    gl.enable(gl.STENCIL_TEST);\n\n    // don't perform test, pure write\n    gl.stencilFunc(\n        gl.NEVER,\n        1,\n        0xFF,\n    );\n\n    // always replace since we're writing to the buffer\n    gl.stencilOp(\n        gl.REPLACE,\n        gl.REPLACE,\n        gl.REPLACE,\n    );\n\n    mask();\n    flush();\n\n    // perform test\n    gl.stencilFunc(\n        test,\n        1,\n        0xFF,\n    );\n\n    // don't write since we're only testing\n    gl.stencilOp(\n        gl.KEEP,\n        gl.KEEP,\n        gl.KEEP,\n    );\n\n    content();\n    flush();\n    gl.disable(gl.STENCIL_TEST);\n}\n","import { _k } from \"../../kaplay\";\nimport { drawStenciled } from \"./drawStenciled\";\n\nexport function drawMasked(content: () => void, mask: () => void) {\n    const gl = _k.gfx.ggl.gl;\n\n    drawStenciled(content, mask, gl.EQUAL);\n}\n","import { DEF_ANCHOR } from \"../../constants\";\nimport { Color } from \"../../math/color\";\nimport { Quad, Vec2 } from \"../../math/math\";\nimport type { DrawTextureOpt, Vertex } from \"../../types\";\nimport { anchorPt } from \"../anchor\";\nimport { drawRaw } from \"./drawRaw\";\nimport { drawUVQuad } from \"./drawUVQuad\";\n\nexport function drawTexture(opt: DrawTextureOpt) {\n    if (!opt.tex) {\n        throw new Error(\"drawTexture() requires property \\\"tex\\\".\");\n    }\n\n    const q = opt.quad ?? new Quad(0, 0, 1, 1);\n    const w = opt.tex.width * q.w;\n    const h = opt.tex.height * q.h;\n    const scale = new Vec2(1);\n\n    if (opt.tiled) {\n        const offset = anchorPt(opt.anchor || DEF_ANCHOR);\n        const offsetX = (opt.pos?.x || 0)\n            - (offset.x + 1) * 0.5 * (opt.width || w);\n        const offsetY = (opt.pos?.y || 0)\n            - (offset.y + 1) * 0.5 * (opt.height || h);\n\n        const fcols = (opt.width || w) / w;\n        const frows = (opt.height || h) / h;\n        const cols = Math.floor(fcols);\n        const rows = Math.floor(frows);\n        const fracX = fcols - cols;\n        const fracY = frows - rows;\n        const n = (cols + fracX ? 1 : 0) * (rows + fracY ? 1 : 0);\n        const indices = new Array<number>(n * 6);\n        const vertices = new Array<Vertex>(n * 4);\n        let index = 0;\n\n        /*drawUVQuad(Object.assign({}, opt, {\n            scale: scale.scale(opt.scale || new Vec2(1)),\n        }));*/\n\n        const addQuad = (\n            x: number,\n            y: number,\n            w: number,\n            h: number,\n            q: Quad,\n        ) => {\n            indices[index * 6 + 0] = index * 4 + 0;\n            indices[index * 6 + 1] = index * 4 + 1;\n            indices[index * 6 + 2] = index * 4 + 3;\n            indices[index * 6 + 3] = index * 4 + 1;\n            indices[index * 6 + 4] = index * 4 + 2;\n            indices[index * 6 + 5] = index * 4 + 3;\n\n            vertices[index * 4 + 0] = {\n                pos: new Vec2(x - offset.x, y - offset.y),\n                uv: new Vec2(q.x, q.y),\n                color: opt.color || Color.WHITE,\n                opacity: opt.opacity || 1,\n            };\n            vertices[index * 4 + 1] = {\n                pos: new Vec2(x + w - offset.x, y - offset.y),\n                uv: new Vec2(q.x + q.w, q.y),\n                color: opt.color || Color.WHITE,\n                opacity: opt.opacity || 1,\n            };\n            vertices[index * 4 + 2] = {\n                pos: new Vec2(x + w - offset.x, y + h - offset.y),\n                uv: new Vec2(q.x + q.w, q.y + q.h),\n                color: opt.color || Color.WHITE,\n                opacity: opt.opacity || 1,\n            };\n            vertices[index * 4 + 3] = {\n                pos: new Vec2(x - offset.x, y + h - offset.y),\n                uv: new Vec2(q.x, q.y + q.h),\n                color: opt.color || Color.WHITE,\n                opacity: opt.opacity || 1,\n            };\n            index++;\n        };\n\n        for (let j = 0; j < rows; j++) {\n            for (let i = 0; i < cols; i++) {\n                addQuad(i * w, j * h, w, h, q);\n            }\n\n            if (fracX) {\n                addQuad(\n                    cols * w,\n                    j * h,\n                    w * fracX,\n                    h,\n                    new Quad(q.x, q.y, q.w * fracX, q.h),\n                );\n            }\n        }\n\n        if (fracY) {\n            for (let i = 0; i < cols; i++) {\n                addQuad(\n                    i * w,\n                    rows * h,\n                    w,\n                    h * fracY,\n                    new Quad(q.x, q.y, q.w, q.h * fracY),\n                );\n            }\n\n            if (fracX) {\n                addQuad(\n                    cols * w,\n                    rows * h,\n                    w * fracX,\n                    h * fracY,\n                    new Quad(q.x, q.y, q.w * fracX, q.h * fracY),\n                );\n            }\n        }\n\n        drawRaw(\n            vertices,\n            indices,\n            opt.fixed,\n            opt.tex,\n            opt.shader,\n            opt.uniform ?? undefined,\n        );\n    }\n    else {\n        // TODO: should this ignore scale?\n        if (opt.width && opt.height) {\n            scale.x = opt.width / w;\n            scale.y = opt.height / h;\n        }\n        else if (opt.width) {\n            scale.x = opt.width / w;\n            scale.y = scale.x;\n        }\n        else if (opt.height) {\n            scale.y = opt.height / h;\n            scale.x = scale.y;\n        }\n\n        drawUVQuad(Object.assign({}, opt, {\n            scale: scale.scale(opt.scale || new Vec2(1)),\n            tex: opt.tex,\n            quad: q,\n            width: w,\n            height: h,\n        }));\n    }\n}\n","import { type Asset, resolveSprite, type SpriteData } from \"../../assets\";\nimport { Quad, type Vec2 } from \"../../math\";\nimport type { Anchor, RenderProps } from \"../../types\";\nimport { drawTexture } from \"./drawTexture\";\n\n/**\n * How the sprite should look like.\n */\nexport type DrawSpriteOpt = RenderProps & {\n    /**\n     * The sprite name in the asset manager, or the raw sprite data.\n     */\n    sprite: string | SpriteData | Asset<SpriteData>;\n    /**\n     * If the sprite is loaded with multiple frames, or sliced, use the frame option to specify which frame to draw.\n     */\n    frame?: number;\n    /**\n     * Width of sprite. If `height` is not specified it'll stretch with aspect ratio. If `tiled` is set to true it'll tiled to the specified width horizontally.\n     */\n    width?: number;\n    /**\n     * Height of sprite. If `width` is not specified it'll stretch with aspect ratio. If `tiled` is set to true it'll tiled to the specified width vertically.\n     */\n    height?: number;\n    /**\n     * When set to true, `width` and `height` will not scale the sprite but instead render multiple tiled copies of them until the specified width and height. Useful for background texture pattern etc.\n     */\n    tiled?: boolean;\n    /**\n     * If flip the texture horizontally.\n     */\n    flipX?: boolean;\n    /**\n     * If flip the texture vertically.\n     */\n    flipY?: boolean;\n    /**\n     * The sub-area to render from the texture, by default it'll render the whole `quad(0, 0, 1, 1)`\n     */\n    quad?: Quad;\n    /**\n     * The anchor point, or the pivot point. Default to \"topleft\".\n     */\n    anchor?: Anchor | Vec2;\n    /**\n     * The position\n     */\n    pos?: Vec2;\n};\n\nexport function drawSprite(opt: DrawSpriteOpt) {\n    if (!opt.sprite) {\n        throw new Error(\"drawSprite() requires property \\\"sprite\\\"\");\n    }\n\n    // TODO: slow\n    const spr = resolveSprite(opt.sprite);\n\n    if (!spr || !spr.data) {\n        return;\n    }\n\n    const q = spr.data.frames[opt.frame ?? 0];\n\n    if (!q) {\n        throw new Error(`Frame not found: ${opt.frame ?? 0}`);\n    }\n\n    drawTexture(Object.assign({}, opt, {\n        tex: spr.data.tex,\n        quad: q.scale(opt.quad ?? new Quad(0, 0, 1, 1)),\n    }));\n}\n","import { _k } from \"../../kaplay\";\nimport { drawStenciled } from \"./drawStenciled\";\n\nexport function drawSubtracted(content: () => void, mask: () => void) {\n    const gl = _k.gfx.ggl.gl;\n\n    drawStenciled(content, mask, gl.NOTEQUAL);\n}\n","import type { Asset, BitmapFontData } from \"../../assets\";\nimport type { FontData } from \"../../assets/font\";\nimport type { Color } from \"../../math/color\";\nimport type { Vec2 } from \"../../math/math\";\nimport type { Anchor, RenderProps } from \"../../types\";\nimport { formatText } from \"../formatText\";\nimport { drawFormattedText } from \"./drawFormattedText\";\n\n/**\n * How the text should look like.\n *\n * @group Draw\n */\nexport type DrawTextOpt = RenderProps & {\n    /**\n     * The text to render.\n     */\n    text: string;\n    /**\n     * The name of font to use.\n     */\n    font?:\n        | string\n        | FontData\n        | Asset<FontData>\n        | BitmapFontData\n        | Asset<BitmapFontData>;\n    /**\n     * The size of text (the height of each character).\n     */\n    size?: number;\n    /**\n     * Text alignment (default \"left\")\n     *\n     * @since v3000.0\n     */\n    align?: TextAlign;\n    /**\n     * The maximum width. Will wrap word around if exceed.\n     */\n    width?: number;\n    /**\n     * The gap between each line (only available for bitmap fonts).\n     *\n     * @since v2000.2\n     */\n    lineSpacing?: number;\n    /**\n     * The gap between each character (only available for bitmap fonts).\n     *\n     * @since v2000.2\n     */\n    letterSpacing?: number;\n    /**\n     * The anchor point, or the pivot point. Default to \"topleft\".\n     */\n    anchor?: Anchor | Vec2;\n    /**\n     * Transform the pos, scale, rotation or color for each character based on the index or char (only available for bitmap fonts).\n     *\n     * @since v2000.1\n     */\n    transform?: CharTransform | CharTransformFunc;\n    /**\n     * Stylesheet for styled chunks, in the syntax of \"this is a [stylename]styled[/stylename] word\" (only available for bitmap fonts).\n     *\n     * @since v2000.2\n     */\n    styles?: Record<string, CharTransform | CharTransformFunc>;\n    /**\n     * If true, any (whitespace) indent on the first line of the paragraph\n     * will be copied to all of the lines for those parts that text-wrap.\n     */\n    indentAll?: boolean;\n};\n\n/**\n * A function that returns a character transform config. Useful if you're generating dynamic styles.\n */\nexport type CharTransformFunc = (idx: number, ch: string) => CharTransform;\n\n/**\n * Describes how to transform each character.\n *\n * @group Options\n */\nexport interface CharTransform {\n    /**\n     * Offset to apply to the position of the text character.\n     * Shifts the character's position by the specified 2D vector.\n     */\n    pos?: Vec2;\n\n    /**\n     * Scale transformation to apply to the text character's current scale.\n     * When a number, it is scaled uniformly.\n     * Given a 2D vector, it is scaled independently along the X and Y axis.\n     */\n    scale?: Vec2 | number;\n\n    /**\n     * Increases the amount of degrees to rotate the text character.\n     */\n    angle?: number;\n\n    /**\n     * Color transformation applied to the text character.\n     * Multiplies the current color with this color.\n     */\n    color?: Color;\n\n    /**\n     * Opacity multiplication applied to the text character.\n     * For example, an opacity of 0.4 with 2 set in the transformation, the resulting opacity will be 0.8 (0.4 × 2).\n     */\n    opacity?: number;\n\n    /**\n     * If true, the styles applied by this specific {@link DrawTextOpt.styles} entry transform\n     * will override, rather than compose with, the default styles given in {@link DrawTextOpt.transform} and by other\n     * components' styles.\n     */\n    override?: boolean;\n}\n\n/**\n * How the text should be aligned.\n *\n * @group Draw\n */\nexport type TextAlign =\n    | \"center\"\n    | \"left\"\n    | \"right\";\n\nexport function drawText(opt: DrawTextOpt) {\n    drawFormattedText(formatText(opt));\n}\n","import { makeShader, type Uniform } from \"../assets/shader\";\nimport {\n    DEF_FRAG,\n    DEF_VERT,\n    MAX_BATCHED_INDICES,\n    MAX_BATCHED_VERTS,\n    VERTEX_FORMAT,\n} from \"../constants\";\nimport { BatchRenderer, FrameBuffer, type GfxCtx, Texture } from \"../gfx\";\nimport { type Color, rgb } from \"../math/color\";\nimport { Mat4 } from \"../math/math\";\nimport type { KAPLAYOpt } from \"../types\";\n\nexport type AppGfxCtx = ReturnType<typeof initAppGfx>;\n\nexport const initAppGfx = (gopt: KAPLAYOpt, ggl: GfxCtx) => {\n    const defShader = makeShader(ggl, DEF_VERT, DEF_FRAG);\n    const pixelDensity = gopt.pixelDensity ?? 1;\n    const gscale = gopt.scale ?? 1;\n    const { gl } = ggl;\n\n    // a 1x1 white texture to draw raw shapes like rectangles and polygons\n    // we use a texture for those so we can use only 1 pipeline for drawing sprites + shapes\n    const emptyTex = Texture.fromImage(\n        ggl,\n        new ImageData(new Uint8ClampedArray([255, 255, 255, 255]), 1, 1),\n    );\n\n    const frameBuffer = (gopt.width && gopt.height)\n        ? new FrameBuffer(\n            ggl,\n            gopt.width * pixelDensity * gscale,\n            gopt.height * pixelDensity * gscale,\n        )\n        : new FrameBuffer(\n            ggl,\n            gl.drawingBufferWidth,\n            gl.drawingBufferHeight,\n        );\n\n    let bgColor: null | Color = null;\n    let bgAlpha = 1;\n\n    if (gopt.background) {\n        if (typeof gopt.background === \"string\") {\n            bgColor = rgb(gopt.background);\n        }\n        else {\n            bgColor = rgb(...gopt.background);\n            bgAlpha = gopt.background[3] ?? 1;\n        }\n\n        gl.clearColor(\n            bgColor.r / 255,\n            bgColor.g / 255,\n            bgColor.b / 255,\n            bgAlpha ?? 1,\n        );\n    }\n\n    gl.enable(gl.BLEND);\n    gl.blendFuncSeparate(\n        gl.ONE,\n        gl.ONE_MINUS_SRC_ALPHA,\n        gl.ONE,\n        gl.ONE_MINUS_SRC_ALPHA,\n    );\n\n    const renderer = new BatchRenderer(\n        ggl,\n        VERTEX_FORMAT,\n        MAX_BATCHED_VERTS,\n        MAX_BATCHED_INDICES,\n    );\n\n    // a checkerboard texture used for the default background\n    const bgTex = Texture.fromImage(\n        ggl,\n        new ImageData(\n            new Uint8ClampedArray([\n                128,\n                128,\n                128,\n                255,\n                190,\n                190,\n                190,\n                255,\n                190,\n                190,\n                190,\n                255,\n                128,\n                128,\n                128,\n                255,\n            ]),\n            2,\n            2,\n        ),\n        {\n            wrap: \"repeat\",\n            filter: \"nearest\",\n        },\n    );\n\n    return {\n        // how many draw calls we're doing last frame, this is the number we give to users\n        lastDrawCalls: 0,\n        ggl,\n\n        // gfx states\n        defShader: defShader,\n        defTex: emptyTex,\n        frameBuffer: frameBuffer,\n        postShader: null as string | null,\n        postShaderUniform: null as Uniform | (() => Uniform) | null,\n        renderer: renderer,\n\n        transform: new Mat4(),\n        transformStack: [] as Mat4[],\n\n        bgTex: bgTex,\n        bgColor: bgColor,\n        bgAlpha: bgAlpha,\n\n        width: gopt.width\n            ?? gl.drawingBufferWidth / pixelDensity / gscale,\n        height: gopt.height\n            ?? gl.drawingBufferHeight / pixelDensity / gscale,\n\n        viewport: {\n            x: 0,\n            y: 0,\n            width: gl.drawingBufferWidth,\n            height: gl.drawingBufferHeight,\n        },\n\n        fixed: false,\n    };\n};\n","import { _k } from \"../kaplay\";\n\n// update viewport based on user setting and fullscreen state\nexport function updateViewport() {\n    // content size (scaled content size, with scale, stretch and letterbox)\n    // view size (unscaled viewport size)\n    // window size (will be the same as view size except letterbox mode)\n\n    // canvas size\n    const pd = _k.pixelDensity;\n    const canvasWidth = _k.gfx.ggl.gl.drawingBufferWidth / pd;\n    const canvasHeight = _k.gfx.ggl.gl.drawingBufferHeight / pd;\n\n    if (_k.globalOpt.letterbox) {\n        if (!_k.globalOpt.width || !_k.globalOpt.height) {\n            throw new Error(\n                \"Letterboxing requires width and height defined.\",\n            );\n        }\n\n        const rc = canvasWidth / canvasHeight;\n        const rg = _k.globalOpt.width / _k.globalOpt.height;\n\n        if (rc > rg) {\n            const sw = canvasHeight * rg;\n            const x = (canvasWidth - sw) / 2;\n            _k.gfx.viewport = {\n                x: x,\n                y: 0,\n                width: sw,\n                height: canvasHeight,\n            };\n        }\n        else {\n            const sh = canvasWidth / rg;\n            const y = (canvasHeight - sh) / 2;\n            _k.gfx.viewport = {\n                x: 0,\n                y: y,\n                width: canvasWidth,\n                height: sh,\n            };\n        }\n\n        return;\n    }\n\n    if (_k.globalOpt.stretch) {\n        if (!_k.globalOpt.width || !_k.globalOpt.height) {\n            throw new Error(\n                \"Stretching requires width and height defined.\",\n            );\n        }\n    }\n\n    _k.gfx.viewport = {\n        x: 0,\n        y: 0,\n        width: canvasWidth,\n        height: canvasHeight,\n    };\n}\n","import type { GameObj } from \"../types\";\n\nexport function isFixed(obj: GameObj): boolean {\n    if (obj.fixed) return true;\n    return obj.parent ? isFixed(obj.parent) : false;\n}\n\nexport function getRenderProps(obj: GameObj<any>) {\n    return {\n        color: obj.color,\n        opacity: obj.opacity,\n        anchor: obj.anchor,\n        outline: obj.outline,\n        shader: obj.shader,\n        uniform: obj.uniform,\n    };\n}\n","import { getRenderProps } from \"../../game/utils\";\nimport { drawCircle } from \"../../gfx\";\nimport { Rect, Vec2 } from \"../../math/math\";\nimport type { Comp, GameObj } from \"../../types\";\nimport type { AnchorComp } from \"../transform/anchor\";\nimport type { outline } from \"./outline\";\n\n/**\n * The {@link circle `circle()`} component.\n *\n * @group Component Types\n */\nexport interface CircleComp extends Comp {\n    draw: Comp[\"draw\"];\n    /** Radius of circle. */\n    radius: number;\n    /**\n     * Render area of the circle.\n     *\n     * @since v3000.0\n     */\n    renderArea(): Rect;\n}\n\n/**\n * Options for the {@link circle `circle()``} component.\n *\n * @group Component Types\n */\nexport interface CircleCompOpt {\n    /**\n     * If fill the circle (useful if you only want to render outline with\n     * {@link outline `outline()`} component).\n     */\n    fill?: boolean;\n}\n\nexport function circle(radius: number, opt: CircleCompOpt = {}): CircleComp {\n    return {\n        id: \"circle\",\n        radius: radius,\n        draw(this: GameObj<CircleComp>) {\n            drawCircle(Object.assign(getRenderProps(this), {\n                radius: this.radius,\n                fill: opt.fill,\n            }));\n        },\n        renderArea(this: GameObj<AnchorComp | CircleComp>) {\n            return new Rect(\n                new Vec2(this.anchor ? 0 : -this.radius),\n                this.radius * 2,\n                this.radius * 2,\n            );\n        },\n        inspect() {\n            return `radius: ${Math.ceil(this.radius)}`;\n        },\n    };\n}\n","import { type Color, type ColorArgs, rgb } from \"../../math/color\";\nimport type { Comp } from \"../../types\";\n\n/**\n * The {@link color `color()`} component.\n *\n * @group Component Types\n */\nexport interface ColorComp extends Comp {\n    color: Color;\n}\n\nexport function color(...args: ColorArgs): ColorComp {\n    return {\n        id: \"color\",\n        color: rgb(...args),\n        inspect() {\n            return `color: ${this.color.toString()}`;\n        },\n    };\n}\n","import type { FrameBuffer } from \"../../gfx\";\nimport type { GameObj } from \"../../types\";\n\nexport function drawon(c: FrameBuffer) {\n    return {\n        add(this: GameObj) {\n            this.canvas = c;\n        },\n    };\n}\n","import { dt } from \"../../app\";\nimport { map } from \"../../math\";\nimport type { Comp, GameObj } from \"../../types\";\nimport type { OpacityComp } from \"./opacity\";\n\nexport function fadeIn(time: number = 1): Comp {\n    let finalOpacity: number;\n    let t = 0;\n    let done = false;\n\n    return {\n        require: [\"opacity\"],\n        add(this: GameObj<OpacityComp>) {\n            finalOpacity = this.opacity;\n            this.opacity = 0;\n        },\n        update(this: GameObj<OpacityComp>) {\n            if (done) return;\n            t += dt();\n            this.opacity = map(t, 0, time, 0, finalOpacity);\n\n            if (t >= time) {\n                this.opacity = finalOpacity;\n                done = true;\n            }\n        },\n    };\n}\n","import type { Comp, Mask } from \"../../types\";\n\n/**\n * The {@link mask `mask()`} component.\n *\n * @group Component Types\n */\nexport interface MaskComp extends Comp {\n    mask: Mask;\n}\n\nexport function mask(m: Mask = \"intersect\"): MaskComp {\n    return {\n        id: \"mask\",\n        mask: m,\n    };\n}\n","import { _k } from \"../../kaplay\";\nimport type { Comp, EaseFunc, TweenController } from \"../../types\";\nimport { toFixed } from \"../../utils\";\n\n/**\n * The {@link opacity `opacity()`} component.\n *\n * @group Component Types\n */\nexport interface OpacityComp extends Comp {\n    /** Opacity of the current object. */\n    opacity: number;\n    /** Fade in at the start. */\n    fadeIn(time?: number, easeFunc?: EaseFunc): TweenController;\n    /** Fade out at the start. */\n    fadeOut(time?: number, easeFunc?: EaseFunc): TweenController;\n}\n\nexport function opacity(a: number): OpacityComp {\n    return {\n        id: \"opacity\",\n        opacity: a ?? 1,\n        fadeIn(time = 1, easeFunc = _k.k.easings.linear): TweenController {\n            return _k.game.root.tween(\n                0,\n                this.opacity,\n                time,\n                (a) => this.opacity = a,\n                easeFunc,\n            );\n        },\n        fadeOut(time = 1, easeFunc = _k.k.easings.linear): TweenController {\n            return _k.game.root.tween(\n                this.opacity,\n                0,\n                time,\n                (a) => this.opacity = a,\n                easeFunc,\n            );\n        },\n        inspect() {\n            return `opacity: ${toFixed(this.opacity, 1)}`;\n        },\n    };\n}\n","import type { LineCap, LineJoin } from \"../../gfx\";\nimport { Color, rgb } from \"../../math/color\";\nimport type { Comp, Outline } from \"../../types\";\n\n/**\n * The {@link outline `outline()`} component.\n *\n * @group Component Types\n */\nexport interface OutlineComp extends Comp {\n    outline: Outline;\n}\n\nexport function outline(\n    width: number = 1,\n    color: Color = rgb(0, 0, 0),\n    opacity: number = 1,\n    join: LineJoin = \"miter\",\n    miterLimit: number = 10,\n    cap: LineCap = \"butt\",\n): OutlineComp {\n    return {\n        id: \"outline\",\n        outline: {\n            width,\n            color,\n            opacity,\n            join,\n            miterLimit,\n            cap,\n        },\n        inspect() {\n            return `outline: ${this.outline.width}px, ${this.outline.color}`;\n        },\n    };\n}\n","import { dt } from \"../../app\";\nimport { drawRaw, type Texture } from \"../../gfx\";\nimport {\n    Color,\n    lerp,\n    map,\n    Quad,\n    rand,\n    rgb,\n    type ShapeType,\n    Vec2,\n    vec2,\n} from \"../../math\";\nimport type { Comp, Vertex } from \"../../types\";\nimport { KEvent } from \"../../utils/\";\n\n/**\n * A particle. Used on the {@link particles `particles()`} component.\n */\nclass Particle {\n    pos: Vec2 = vec2(0);\n    vel: Vec2 = vec2(0);\n    acc: Vec2 = vec2(0);\n    angle: number = 0;\n    angularVelocity: number = 0;\n    damping: number = 0;\n    t: number;\n    lt: number | null = null;\n    gc: boolean;\n\n    constructor() {\n        this.t = 0;\n        this.gc = true;\n    }\n\n    get progress() {\n        return this.lt ? this.t / this.lt : this.t;\n    }\n}\n\n/**\n * Options for the {@link particles `particles()`}'s component\n */\nexport type EmitterOpt = {\n    /*\n     * Shape of the emitter. If given, particles spwan within this shape.\n     */\n    shape?: ShapeType;\n    /*\n     * Lifetime of the emitter.\n     */\n    lifetime?: number;\n    /*\n     * Rate of emission in particles per second if the emitter should emit out of itself.\n     */\n    rate?: number;\n    /*\n     * Direction of emission.\n     */\n    direction: number;\n    /*\n     * Spread (cone) of emission around the direction.\n     */\n    spread: number;\n};\n\n/**\n * Options for the {@link particles `particles()`}'s component\n *\n * @group Component Types\n */\nexport type ParticlesOpt = {\n    /*\n     * Maximum number of simultaneously rendered particles.\n     */\n    max: number;\n    /*\n     * Minimum and maximum lifetime of a particle in seconds.\n     */\n    lifeTime?: [number, number];\n    /*\n     * Minimum and maximum speed of a particle in pixels per second.\n     */\n    speed?: [number, number];\n    /*\n     * Minimum and maximum acceleration of a particle in pixels per second^2.\n     */\n    acceleration?: [Vec2, Vec2];\n    /*\n     * Minimum and maximum damping of a particle.\n     */\n    damping?: [number, number];\n    /*\n     * Minimum and maximum start angle of a particle.\n     */\n    angle?: [number, number];\n    /*\n     * Minimum and maximum angular velocity of a particle.\n     */\n    angularVelocity?: [number, number];\n    /*\n     * Scale from start to end for a particle.\n     */\n    scales?: number[];\n    /*\n     * Colors from start to end for a particle.\n     */\n    colors?: Color[];\n    /*\n     * Opacity from start to end for a particle.\n     */\n    opacities?: number[];\n    /*\n     * Quads from start to end for a particle.\n     */\n    quads?: Quad[];\n    /*\n     * Texture used for the particle.\n     */\n    texture: Texture;\n};\n\n/**\n * The {@link particles `particles()`} component.\n *\n * @group Component Types\n */\nexport interface ParticlesComp extends Comp {\n    /*\n     * Emit a number of particles\n     */\n    emit(n: number): void;\n    /*\n     * Called when the emitter expires\n     */\n    onEnd(cb: () => void): void;\n}\n\nexport function particles(popt: ParticlesOpt, eopt: EmitterOpt): ParticlesComp {\n    let emitterLifetime = eopt.lifetime;\n\n    const particles: Particle[] = [];\n    const colors = popt.colors || [Color.WHITE];\n    const opacities = popt.opacities || [1];\n    const quads = popt.quads || [new Quad(0, 0, 1, 1)];\n    const scales = popt.scales || [1];\n    const lifetime = popt.lifeTime;\n    const direction = eopt.direction;\n    const spread = eopt.spread;\n    const speed = popt.speed || [0, 0];\n    const angleRange = popt.angle || [0, 0];\n    const angularVelocityRange = popt.angularVelocity || [0, 0];\n    const accelerationRange = popt.acceleration || [vec2(0), vec2(0)];\n    const dampingRange = popt.damping || [0, 0];\n\n    const indices: number[] = [];\n    const vertices: Vertex[] = new Array<Vertex>(popt.max);\n    let count = 0;\n    let time = 0;\n\n    for (let i = 0; i < popt.max; i++) {\n        indices[i * 6 + 0] = i * 4 + 0;\n        indices[i * 6 + 1] = i * 4 + 1;\n        indices[i * 6 + 2] = i * 4 + 3;\n        indices[i * 6 + 3] = i * 4 + 1;\n        indices[i * 6 + 4] = i * 4 + 2;\n        indices[i * 6 + 5] = i * 4 + 3;\n\n        for (let j = 0; j < 4; j++) {\n            vertices[i * 4 + j] = {\n                pos: new Vec2(0, 0),\n                uv: new Vec2(0, 0),\n                color: rgb(255, 255, 255),\n                opacity: 1,\n            };\n        }\n        particles[i] = new Particle();\n    }\n\n    const onEndEvents = new KEvent();\n\n    function nextFree(index: number = 0): number | null {\n        while (index < popt.max) {\n            if (particles[index].gc) {\n                return index;\n            }\n            index++;\n        }\n        return null;\n    }\n\n    return {\n        id: \"particles\",\n        emit(n: number) {\n            let index: number | null = 0;\n            for (let i = 0; i < n; i++) {\n                index = nextFree(index);\n                if (index == null) return;\n\n                const velocityAngle = rand(\n                    direction - spread,\n                    direction + spread,\n                );\n                const vel = Vec2.fromAngle(velocityAngle).scale(\n                    rand(speed[0], speed[1]),\n                );\n                const angle = rand(angleRange[0], angleRange[1]);\n                const angularVelocity = rand(\n                    angularVelocityRange[0],\n                    angularVelocityRange[1],\n                );\n                const acceleration = vec2(\n                    rand(accelerationRange[0].x, accelerationRange[1].x),\n                    rand(accelerationRange[0].y, accelerationRange[1].y),\n                );\n                const damping = rand(\n                    dampingRange[0],\n                    dampingRange[1],\n                );\n                const lt = lifetime ? rand(lifetime[0], lifetime[1]) : null;\n                const pos = eopt.shape\n                    ? eopt.shape.random()\n                    : vec2();\n\n                const p = particles[index];\n                p.lt = lt;\n                p.pos = pos;\n                p.vel = vel;\n                p.acc = acceleration;\n                p.angle = angle;\n                p.angularVelocity = angularVelocity;\n                p.damping = damping;\n                p.angularVelocity = angularVelocity;\n                p.gc = false;\n            }\n            count += n;\n        },\n        update() {\n            if (emitterLifetime !== undefined && emitterLifetime <= 0) {\n                return;\n            }\n            const DT = dt();\n            // Update all particles\n            for (const p of particles) {\n                if (p.gc) {\n                    continue;\n                }\n                p.t += DT;\n                if (p.lt && p.t >= p.lt) {\n                    p.gc = true;\n                    count--;\n                    continue;\n                }\n                p.vel = p.vel.add(p.acc.scale(DT)).scale(1 - p.damping * DT);\n                p.pos = p.pos.add(p.vel.scale(DT));\n                p.angle += p.angularVelocity * DT;\n            }\n            // Check if the emitter has a limited lifetime\n            if (emitterLifetime !== undefined) {\n                emitterLifetime -= DT;\n                if (emitterLifetime <= 0) {\n                    onEndEvents.trigger();\n                }\n            }\n            // Create new particles according to accumulated time\n            time += DT;\n            while (\n                count < popt.max && eopt.rate\n                && time > eopt.rate\n            ) {\n                this.emit(1);\n                count++;\n                time -= eopt.rate;\n            }\n        },\n        draw() {\n            if (emitterLifetime !== undefined && emitterLifetime <= 0) {\n                return;\n            }\n\n            // Draw active particles\n            for (let i = 0; i < particles.length; i++) {\n                const p = particles[i];\n                if (p.gc) {\n                    continue;\n                }\n                const progress = p.progress;\n                const colorIndex = Math.floor(p.progress * colors.length);\n                const color = colorIndex < colors.length - 1\n                    ? lerp(\n                        colors[colorIndex],\n                        colors[colorIndex + 1],\n                        map(\n                            progress,\n                            colorIndex / colors.length,\n                            (colorIndex + 1) / colors.length,\n                            0,\n                            1,\n                        ),\n                    )\n                    : colors[colorIndex];\n                const opacityIndex = Math.floor(p.progress * opacities.length);\n                const opacity = opacityIndex < opacities.length - 1\n                    ? lerp(\n                        opacities[opacityIndex],\n                        opacities[opacityIndex + 1],\n                        map(\n                            progress,\n                            opacityIndex / opacities.length,\n                            (opacityIndex + 1) / opacities.length,\n                            0,\n                            1,\n                        ),\n                    )\n                    : opacities[opacityIndex];\n\n                const quadIndex = Math.floor(p.progress * quads.length);\n                const quad = quads[quadIndex];\n                const scaleIndex = Math.floor(p.progress * scales.length);\n                const scale = scales[scaleIndex];\n                const c = Math.cos(p.angle * Math.PI / 180);\n                const s = Math.sin(p.angle * Math.PI / 180);\n\n                const hw = (popt.texture ? popt.texture.width : 10) * quad.w\n                    / 2;\n                const hh = (popt.texture ? popt.texture.height : 10) * quad.h\n                    / 2;\n\n                let j = i * 4;\n                // Left top\n                let v = vertices[j];\n                v.pos.x = p.pos.x + (-hw) * scale * c - (-hh) * scale * s;\n                v.pos.y = p.pos.y + (-hw) * scale * s + (-hh) * scale * c;\n                v.uv.x = quad.x;\n                v.uv.y = quad.y;\n                v.color.r = color.r;\n                v.color.g = color.g;\n                v.color.b = color.b;\n                v.opacity = opacity;\n                // Right top\n                v = vertices[j + 1];\n                v.pos.x = p.pos.x + hw * scale * c - (-hh) * scale * s;\n                v.pos.y = p.pos.y + hw * scale * s + (-hh) * scale * c;\n                v.uv.x = quad.x + quad.w;\n                v.uv.y = quad.y;\n                v.color.r = color.r;\n                v.color.g = color.g;\n                v.color.b = color.b;\n                v.opacity = opacity;\n                // Right bottom\n                v = vertices[j + 2];\n                v.pos.x = p.pos.x + hw * scale * c - hh * scale * s;\n                v.pos.y = p.pos.y + hw * scale * s + hh * scale * c;\n                v.uv.x = quad.x + quad.w;\n                v.uv.y = quad.y + quad.h;\n                v.color.r = color.r;\n                v.color.g = color.g;\n                v.color.b = color.b;\n                v.opacity = opacity;\n                // Left bottom\n                v = vertices[j + 3];\n                v.pos.x = p.pos.x + (-hw) * scale * c - hh * scale * s;\n                v.pos.y = p.pos.y + (-hw) * scale * s + hh * scale * c;\n                v.uv.x = quad.x;\n                v.uv.y = quad.y + quad.h;\n                v.color.r = color.r;\n                v.color.g = color.g;\n                v.color.b = color.b;\n                v.opacity = opacity;\n            }\n\n            drawRaw(\n                vertices,\n                indices,\n                (this as any).fixed,\n                popt.texture,\n                (this as any).shader,\n                (this as any).uniform,\n            );\n        },\n        onEnd(action: () => void) {\n            return onEndEvents.add(action);\n        },\n        inspect() {\n            return `count: ${count}/${popt.max}`;\n        },\n    };\n}\n","import { getRenderProps } from \"../../game/utils\";\nimport { drawPolygon, type Texture } from \"../../gfx\";\nimport { type Color } from \"../../math/color\";\nimport { Polygon, type Vec2 } from \"../../math/math\";\nimport type { Comp, DrawPolygonOpt, GameObj } from \"../../types\";\n\n/**\n * The {@link polygon `polygon()`} component.\n *\n * @since v3001.0\n * @group Component Types\n */\nexport interface PolygonComp extends Comp {\n    draw: Comp[\"draw\"];\n    /**\n     * Points in the polygon.\n     */\n    pts: Vec2[];\n    /**\n     * The radius of each corner.\n     */\n    radius?: number | number[];\n    /**\n     * The color of each vertex.\n     */\n    colors?: Color[];\n    /**\n     * The uv of each vertex.\n     *\n     * @since v3001.0\n     */\n    uv?: Vec2[];\n    /**\n     * The texture used when uv coordinates are present.\n     *\n     * @since v3001.0\n     */\n    tex?: Texture;\n    renderArea(): Polygon;\n}\n\n/**\n * Options for the {@link polygon `polygon()`} component.\n *\n * @group Component Types\n */\nexport type PolygonCompOpt = Omit<DrawPolygonOpt, \"pts\">;\n\nexport function polygon(pts: Vec2[], opt: PolygonCompOpt = {}): PolygonComp {\n    if (pts.length < 3) {\n        throw new Error(\n            `Polygon's need more than two points, ${pts.length} points provided`,\n        );\n    }\n    return {\n        id: \"polygon\",\n        pts,\n        colors: opt.colors,\n        uv: opt.uv,\n        tex: opt.tex,\n        radius: opt.radius,\n        draw(this: GameObj<PolygonComp>) {\n            drawPolygon(Object.assign(getRenderProps(this), {\n                pts: this.pts,\n                colors: this.colors,\n                uv: this.uv,\n                tex: this.tex,\n                radius: this.radius,\n                fill: opt.fill,\n                triangulate: opt.triangulate,\n            }));\n        },\n        renderArea(this: GameObj<PolygonComp>) {\n            return new Polygon(this.pts);\n        },\n        inspect() {\n            return `polygon: ${this.pts.map(p => `[${p.x},${p.y}]`).join(\",\")}`;\n        },\n    };\n}\n","import { _k } from \"../../kaplay\";\nimport type { RaycastResult, Vec2 } from \"../../math/math\";\n\n// this is not a component lol\nexport function raycast(\n    origin: Vec2,\n    direction: Vec2,\n    exclude?: string[],\n) {\n    let minHit: RaycastResult;\n\n    const shapes = _k.game.root.get(\"area\");\n\n    shapes.forEach(s => {\n        if (exclude && exclude.some(tag => s.is(tag))) return;\n        const shape = s.worldArea();\n        const hit = shape.raycast(origin, direction);\n        if (hit) {\n            if (minHit) {\n                if (hit.fraction < minHit.fraction) {\n                    minHit = hit;\n                    minHit!.object = s;\n                }\n            }\n            else {\n                minHit = hit;\n                minHit!.object = s;\n            }\n        }\n    });\n\n    return minHit!;\n}\n","import { getRenderProps } from \"../../game/utils\";\nimport { drawRect } from \"../../gfx\";\nimport { Rect, vec2 } from \"../../math/math\";\nimport type { Comp, GameObj } from \"../../types\";\n\n/**\n * The {@link rect `rect()`} component.\n *\n * @group Component Types\n */\nexport interface RectComp extends Comp {\n    draw: Comp[\"draw\"];\n    /**\n     * Width of rectangle.\n     */\n    width: number;\n    /**\n     * Height of rectangle.\n     */\n    height: number;\n    /**\n     * The radius of each corner.\n     */\n    radius?: number | [number, number, number, number];\n    /**\n     * @since v3000.0\n     */\n    renderArea(): Rect;\n}\n\n/**\n * Options for the {@link rect `rect()`} component.\n *\n * @group Component Types\n */\nexport interface RectCompOpt {\n    /**\n     * Radius of the rectangle corners.\n     */\n    radius?: number | [number, number, number, number];\n    /**\n     * If fill the rectangle (useful if you only want to render outline with outline() component).\n     */\n    fill?: boolean;\n}\n\nexport function rect(w: number, h: number, opt: RectCompOpt = {}): RectComp {\n    return {\n        id: \"rect\",\n        width: w,\n        height: h,\n        radius: opt.radius || 0,\n        draw(this: GameObj<RectComp>) {\n            drawRect(Object.assign(getRenderProps(this), {\n                width: this.width,\n                height: this.height,\n                radius: this.radius,\n                fill: opt.fill,\n            }));\n        },\n        renderArea() {\n            return new Rect(vec2(0), this.width, this.height);\n        },\n        inspect() {\n            return `rect: (${Math.ceil(this.width)}w, ${\n                Math.ceil(this.height)\n            }h)`;\n        },\n    };\n}\n","import type { Uniform } from \"../../assets\";\nimport type { Comp } from \"../../types\";\n\n/**\n * The {@link shader `shader()`} component.\n *\n * @group Component Types\n */\nexport interface ShaderComp extends Comp {\n    uniform?: Uniform;\n    shader: string;\n}\n\nexport function shader(\n    id: string,\n    uniform?: Uniform | (() => Uniform),\n): ShaderComp {\n    return {\n        id: \"shader\",\n        shader: id,\n        ...(typeof uniform === \"function\"\n            ? {\n                uniform: uniform(),\n                update() {\n                    this.uniform = uniform();\n                },\n            }\n            : {\n                uniform: uniform,\n            }),\n        inspect() {\n            return `shader: ${id}`;\n        },\n    };\n}\n","import { pos, type PosComp, tile } from \"../components\";\nimport { _k } from \"../kaplay\";\nimport {\n    raycastGrid,\n    type RaycastResult,\n    type Vec2,\n    vec2,\n    type Vec2Args,\n} from \"../math/math\";\nimport { calcTransform } from \"../math/various\";\nimport type { CompList, GameObj, LevelComp, PathFindOpt } from \"../types\";\nimport { BinaryHeap } from \"../utils\";\n\nenum EdgeMask {\n    None = 0,\n    Left = 1,\n    Top = 2,\n    LeftTop = 3,\n    Right = 4,\n    Horizontal = 5,\n    RightTop = 6,\n    HorizontalTop = 7,\n    Bottom = 8,\n    LeftBottom = 9,\n    Vertical = 10,\n    LeftVertical = 11,\n    RightBottom = 12,\n    HorizontalBottom = 13,\n    RightVertical = 14,\n    All = 15,\n}\n\n/**\n * @group Options\n */\nexport interface LevelOpt {\n    /**\n     * Width of each block.\n     */\n    tileWidth: number;\n    /**\n     * Height of each block.\n     */\n    tileHeight: number;\n    /**\n     * Position of the first block.\n     */\n    pos?: Vec2;\n    /**\n     * Definition of each tile.\n     */\n    tiles: {\n        [sym: string]: (pos: Vec2) => CompList<any>;\n    };\n    /**\n     * Called when encountered a symbol not defined in \"tiles\".\n     */\n    wildcardTile?: (sym: string, pos: Vec2) => CompList<any> | null | undefined;\n}\n\nexport function addLevel(\n    map: string[],\n    opt: LevelOpt,\n): GameObj<PosComp | LevelComp> {\n    if (!opt.tileWidth || !opt.tileHeight) {\n        throw new Error(\"Must provide tileWidth and tileHeight.\");\n    }\n\n    // TODO: custom parent\n    const level = _k.game.root.add([\n        pos(opt.pos ?? vec2(0)),\n    ]) as GameObj<PosComp | LevelComp>;\n\n    const numRows = map.length;\n    let numColumns = 0;\n\n    // The spatial map keeps track of the objects at each location\n    let spatialMap: GameObj[][] | null = null;\n    let costMap: number[] | null = null;\n    let edgeMap: number[] | null = null;\n    let connectivityMap: number[] | null = null;\n\n    const tile2Hash = (tilePos: Vec2) => tilePos.x + tilePos.y * numColumns;\n    const hash2Tile = (hash: number) =>\n        vec2(\n            Math.floor(hash % numColumns),\n            Math.floor(hash / numColumns),\n        );\n\n    const createSpatialMap = () => {\n        spatialMap = [];\n        for (const child of level.children) {\n            insertIntoSpatialMap(child);\n        }\n    };\n\n    const insertIntoSpatialMap = (obj: GameObj) => {\n        const i = tile2Hash(obj.tilePos);\n        if (spatialMap![i]) {\n            spatialMap![i].push(obj);\n        }\n        else {\n            spatialMap![i] = [obj];\n        }\n    };\n\n    const removeFromSpatialMap = (obj: GameObj) => {\n        const i = tile2Hash(obj.tilePos);\n        if (spatialMap![i]) {\n            const index = spatialMap![i].indexOf(obj);\n            if (index >= 0) {\n                spatialMap![i].splice(index, 1);\n            }\n        }\n    };\n\n    const updateSpatialMap = () => {\n        let spatialMapChanged = false;\n        for (const child of level.children) {\n            const tilePos = level.pos2Tile(child.pos);\n            if (\n                child.tilePos.x != tilePos.x || child.tilePos.y != tilePos.y\n            ) {\n                spatialMapChanged = true;\n                removeFromSpatialMap(child);\n                child.tilePos.x = tilePos.x;\n                child.tilePos.y = tilePos.y;\n                insertIntoSpatialMap(child);\n            }\n        }\n        if (spatialMapChanged) {\n            level.trigger(\"spatialMapChanged\");\n        }\n    };\n\n    // The obstacle map tells which tiles are accessible\n    // Cost: accessible with cost\n    // Infinite: inaccessible\n    const createCostMap = () => {\n        const spatialMap = level.getSpatialMap();\n        const size = level.numRows() * level.numColumns();\n        if (!costMap) {\n            costMap = new Array<number>(size);\n        }\n        else {\n            costMap.length = size;\n        }\n        costMap.fill(1, 0, size);\n        for (let i = 0; i < spatialMap.length; i++) {\n            const objects = spatialMap[i];\n            if (objects) {\n                let cost = 0;\n                for (const obj of objects) {\n                    if (obj.isObstacle) {\n                        cost = Infinity;\n                        break;\n                    }\n                    else {\n                        cost += obj.cost;\n                    }\n                }\n                costMap[i] = cost || 1;\n            }\n        }\n    };\n\n    // The edge map tells which edges between nodes are walkable\n    const createEdgeMap = () => {\n        const spatialMap = level.getSpatialMap();\n        const size = level.numRows() * level.numColumns();\n        if (!edgeMap) {\n            edgeMap = new Array<number>(size);\n        }\n        else {\n            edgeMap.length = size;\n        }\n        edgeMap.fill(EdgeMask.All, 0, size);\n        for (let i = 0; i < spatialMap.length; i++) {\n            const objects = spatialMap[i];\n            if (objects) {\n                const len = objects.length;\n                let mask = EdgeMask.All;\n                for (let j = 0; j < len; j++) {\n                    mask |= objects[j].edgeMask;\n                }\n                edgeMap[i] = mask;\n            }\n        }\n    };\n\n    // The connectivity map is used to see whether two locations are connected\n    // -1: inaccesible n: connectivity group\n    const createConnectivityMap = () => {\n        const size = level.numRows() * level.numColumns();\n        const traverse = (i: number, index: number) => {\n            const frontier: number[] = [];\n            frontier.push(i);\n            while (frontier.length > 0) {\n                // TODO: Remove non-null assertion\n                const i = frontier.pop()!;\n\n                getNeighbours(i).forEach((i) => {\n                    if (connectivityMap![i] < 0) {\n                        connectivityMap![i] = index;\n                        frontier.push(i);\n                    }\n                });\n            }\n        };\n        if (!connectivityMap) {\n            connectivityMap = new Array<number>(size);\n        }\n        else {\n            connectivityMap.length = size;\n        }\n        connectivityMap.fill(-1, 0, size);\n        let index = 0;\n        for (let i = 0; i < costMap!.length; i++) {\n            if (connectivityMap[i] >= 0) {\n                index++;\n                continue;\n            }\n            traverse(i, index);\n            index++;\n        }\n    };\n\n    const getCost = (node: number, neighbour: number) => {\n        // Cost of destination tile\n        return costMap![neighbour];\n    };\n\n    const getHeuristic = (node: number, goal: number) => {\n        // Euclidian distance to target\n        const p1 = hash2Tile(node);\n        const p2 = hash2Tile(goal);\n        return p1.dist(p2);\n    };\n\n    const getNeighbours = (node: number, diagonals?: boolean) => {\n        const n = [];\n        const x = Math.floor(node % numColumns);\n        const left = x > 0\n            && (edgeMap![node] & EdgeMask.Left)\n            && costMap![node - 1] !== Infinity;\n        const top = node >= numColumns\n            && (edgeMap![node] & EdgeMask.Top)\n            && costMap![node - numColumns] !== Infinity;\n        const right = x < numColumns - 1\n            && (edgeMap![node] & EdgeMask.Right)\n            && costMap![node + 1] !== Infinity;\n        const bottom = node < numColumns * numRows - numColumns - 1\n            && (edgeMap![node] & EdgeMask.Bottom)\n            && costMap![node + numColumns] !== Infinity;\n        if (diagonals) {\n            if (left) {\n                if (top) n.push(node - numColumns - 1);\n                n.push(node - 1);\n                if (bottom) n.push(node + numColumns - 1);\n            }\n            if (top) {\n                n.push(node - numColumns);\n            }\n            if (right) {\n                if (top) n.push(node - numColumns + 1);\n                n.push(node + 1);\n                if (bottom) n.push(node + numColumns + 1);\n            }\n            if (bottom) {\n                n.push(node + numColumns);\n            }\n        }\n        else {\n            if (left) {\n                n.push(node - 1);\n            }\n            if (top) {\n                n.push(node - numColumns);\n            }\n            if (right) {\n                n.push(node + 1);\n            }\n            if (bottom) {\n                n.push(node + numColumns);\n            }\n        }\n        return n;\n    };\n\n    const levelComp: LevelComp = {\n        id: \"level\",\n\n        tileWidth() {\n            return opt.tileWidth;\n        },\n\n        tileHeight() {\n            return opt.tileHeight;\n        },\n\n        spawn(\n            this: GameObj<LevelComp>,\n            key: string | CompList<any>,\n            ...args: Vec2Args\n        ) {\n            const p = vec2(...args);\n\n            const comps = (() => {\n                if (typeof key === \"string\") {\n                    if (opt.tiles[key]) {\n                        if (typeof opt.tiles[key] !== \"function\") {\n                            throw new Error(\n                                \"Level symbol def must be a function returning a component list\",\n                            );\n                        }\n                        return opt.tiles[key](p);\n                    }\n                    else if (opt.wildcardTile) {\n                        return opt.wildcardTile(key, p);\n                    }\n                }\n                else if (Array.isArray(key)) {\n                    return key;\n                }\n                else {\n                    throw new Error(\n                        \"Expected a symbol or a component list\",\n                    );\n                }\n            })();\n\n            // empty tile\n            if (!comps) {\n                return null;\n            }\n\n            let hasPos = false;\n            let hasTile = false;\n\n            for (const comp of comps) {\n                if (comp.id === \"tile\") hasTile = true;\n                if (comp.id === \"pos\") hasPos = true;\n            }\n\n            if (!hasPos) comps.push(pos(this.tile2Pos(p)));\n            if (!hasTile) comps.push(tile());\n\n            const obj = level.add(comps);\n\n            if (hasPos) {\n                obj.tilePosOffset = obj.pos.clone();\n            }\n\n            obj.tilePos = p;\n            // Stale, so recalculate\n            obj.transform = calcTransform(obj);\n\n            if (spatialMap) {\n                insertIntoSpatialMap(obj);\n                this.trigger(\"spatialMapChanged\");\n                this.trigger(\"navigationMapInvalid\");\n            }\n\n            return obj;\n        },\n\n        numColumns() {\n            return numColumns;\n        },\n\n        numRows() {\n            return numRows;\n        },\n\n        levelWidth() {\n            return numColumns * this.tileWidth();\n        },\n\n        levelHeight() {\n            return numRows * this.tileHeight();\n        },\n\n        tile2Pos(...args: Vec2Args) {\n            return vec2(...args).scale(this.tileWidth(), this.tileHeight());\n        },\n\n        pos2Tile(...args: Vec2Args) {\n            const p = vec2(...args);\n            return vec2(\n                Math.floor(p.x / this.tileWidth()),\n                Math.floor(p.y / this.tileHeight()),\n            );\n        },\n\n        getSpatialMap() {\n            if (!spatialMap) {\n                createSpatialMap();\n            }\n            return spatialMap!;\n        },\n\n        removeFromSpatialMap,\n\n        insertIntoSpatialMap,\n\n        onSpatialMapChanged(this: GameObj<LevelComp>, cb: () => void) {\n            return this.on(\"spatialMapChanged\", cb);\n        },\n\n        onNavigationMapInvalid(this: GameObj<LevelComp>, cb: () => void) {\n            return this.on(\"navigationMapInvalid\", cb);\n        },\n\n        getAt(tilePos: Vec2) {\n            if (!spatialMap) {\n                createSpatialMap();\n            }\n            const hash = tile2Hash(tilePos);\n            return spatialMap![hash] || [];\n        },\n\n        raycast(\n            this: GameObj<LevelComp | PosComp>,\n            origin: Vec2,\n            direction: Vec2,\n        ) {\n            const worldOrigin = this.toWorld(origin);\n            const worldDirection = this.toWorld(origin.add(direction)).sub(\n                worldOrigin,\n            );\n            const invTileWidth = 1 / this.tileWidth();\n            const levelOrigin = origin.scale(invTileWidth);\n            const hit = raycastGrid(levelOrigin, direction, (tilePos: Vec2) => {\n                const tiles = this.getAt(tilePos);\n                if (tiles.some(t => t.isObstacle)) {\n                    return true;\n                }\n                let minHit: RaycastResult = null;\n                for (const tile of tiles) {\n                    if (tile.has(\"area\")) {\n                        const shape = tile.worldArea();\n                        const hit = shape.raycast(\n                            worldOrigin,\n                            worldDirection,\n                        ) as RaycastResult;\n                        if (hit) {\n                            if (minHit) {\n                                if (hit.fraction < minHit.fraction) {\n                                    minHit = hit;\n                                    minHit.object = tile;\n                                }\n                            }\n                            else {\n                                minHit = hit;\n                                minHit.object = tile;\n                            }\n                        }\n                    }\n                }\n                if (minHit) {\n                    minHit.point = this.fromWorld(minHit.point).scale(\n                        invTileWidth,\n                    );\n                }\n                return minHit || false;\n            }, 64);\n            if (hit) {\n                hit.point = hit.point.scale(this.tileWidth());\n            }\n            return hit;\n        },\n\n        update() {\n            if (spatialMap) {\n                updateSpatialMap();\n            }\n        },\n\n        invalidateNavigationMap() {\n            costMap = null;\n            edgeMap = null;\n            connectivityMap = null;\n        },\n\n        onNavigationMapChanged(this: GameObj<LevelComp>, cb: () => void) {\n            return this.on(\"navigationMapChanged\", cb);\n        },\n\n        getTilePath(\n            this: GameObj<LevelComp>,\n            from: Vec2,\n            to: Vec2,\n            opts: PathFindOpt = {},\n        ) {\n            if (!costMap) {\n                createCostMap();\n            }\n            if (!edgeMap) {\n                createEdgeMap();\n            }\n            if (!connectivityMap) {\n                createConnectivityMap();\n            }\n\n            // Tiles are outside the grid\n            if (\n                from.x < 0 || from.x >= numColumns\n                || from.y < 0 || from.y >= numRows\n            ) {\n                return null;\n            }\n            if (\n                to.x < 0 || to.x >= numColumns\n                || to.y < 0 || to.y >= numRows\n            ) {\n                return null;\n            }\n\n            const start = tile2Hash(from);\n            const goal = tile2Hash(to);\n\n            // Tiles are not accessible\n            // If we test the start tile, we may get stuck\n            /*if (costMap[start] === Infinity) {\n                return null\n            }*/\n            if (costMap![goal] === Infinity) {\n                return null;\n            }\n\n            // Same Tile, no waypoints needed\n            if (start === goal) {\n                return [];\n            }\n\n            // Tiles are not within the same section\n            // If we test the start tile when invalid, we may get stuck\n            // TODO: Remove non-null assertion\n            if (\n                connectivityMap![start] != -1\n                && connectivityMap![start] !== connectivityMap![goal]\n            ) {\n                return null;\n            }\n\n            // Find a path\n            interface CostNode {\n                cost: number;\n                node: number;\n            }\n            const frontier = new BinaryHeap<CostNode>((a, b) =>\n                a.cost < b.cost\n            );\n            frontier.insert({ cost: 0, node: start });\n\n            const cameFrom = new Map<number, number>();\n            cameFrom.set(start, start);\n            const costSoFar = new Map<number, number>();\n            costSoFar.set(start, 0);\n\n            while (frontier.length !== 0) {\n                // TODO: Remove non-null assertion\n                const current = frontier.remove()?.node!;\n\n                if (current === goal) {\n                    break;\n                }\n\n                const neighbours = getNeighbours(\n                    current,\n                    opts.allowDiagonals,\n                );\n                for (const next of neighbours) {\n                    const newCost = (costSoFar.get(current) || 0)\n                        + getCost(current, next)\n                        + getHeuristic(next, goal);\n                    if (\n                        !costSoFar.has(next)\n                        // TODO: Remove non-null assertion\n                        || newCost < costSoFar.get(next)!\n                    ) {\n                        costSoFar.set(next, newCost);\n                        frontier.insert({ cost: newCost, node: next });\n                        cameFrom.set(next, current);\n                    }\n                }\n            }\n\n            const path = [];\n            let node = goal;\n            const p = hash2Tile(node);\n            path.push(p);\n\n            while (node !== start) {\n                let cameNode = cameFrom.get(node);\n\n                if (cameNode === undefined) {\n                    throw new Error(\"Bug in pathfinding algorithm\");\n                }\n\n                node = cameNode;\n\n                const p = hash2Tile(node);\n                path.push(p);\n            }\n\n            return path.reverse();\n        },\n\n        getPath(\n            this: GameObj<LevelComp>,\n            from: Vec2,\n            to: Vec2,\n            opts: PathFindOpt = {},\n        ) {\n            const tw = this.tileWidth();\n            const th = this.tileHeight();\n            const path = this.getTilePath(\n                this.pos2Tile(from),\n                this.pos2Tile(to),\n                opts,\n            );\n            if (path) {\n                return [\n                    from,\n                    ...path\n                        .slice(1, -1)\n                        .map((tilePos) =>\n                            tilePos.scale(tw, th).add(tw / 2, th / 2)\n                        ),\n                    to,\n                ];\n            }\n            else {\n                return null;\n            }\n        },\n    };\n\n    level.use(levelComp);\n\n    level.onNavigationMapInvalid(() => {\n        level.invalidateNavigationMap();\n        level.trigger(\"navigationMapChanged\");\n    });\n\n    map.forEach((row, i) => {\n        const keys = row.split(\"\");\n        numColumns = Math.max(keys.length, numColumns);\n        keys.forEach((key, j) => {\n            level.spawn(key, vec2(j, i));\n        });\n    });\n\n    return level;\n}\n","// add an event to a tag\n\nimport { type Asset, getFailedAssets } from \"../assets\";\nimport { _k } from \"../kaplay\";\nimport type { Collision, GameObj, Tag } from \"../types\";\nimport { KEventController, overload2, Registry } from \"../utils\";\nimport type {\n    GameObjEventMap,\n    GameObjEventNames,\n    GameObjEvents,\n} from \"./eventMap\";\n\nexport type TupleWithoutFirst<T extends any[]> = T extends [infer R, ...infer E]\n    ? E\n    : never;\n\nexport function on<Ev extends GameObjEventNames>(\n    event: Ev,\n    tag: Tag,\n    cb: (obj: GameObj, ...args: TupleWithoutFirst<GameObjEvents[Ev]>) => void,\n): KEventController {\n    if (!_k.game.objEvents.registers[event]) {\n        _k.game.objEvents.registers[event] = new Registry() as any;\n    }\n\n    return _k.game.objEvents.on(\n        <keyof GameObjEventMap> event,\n        (obj, ...args) => {\n            if (obj.is(tag)) {\n                cb(obj, ...args as TupleWithoutFirst<GameObjEvents[Ev]>);\n            }\n        },\n    );\n}\n\nexport const trigger = (event: string, tag: string, ...args: any[]) => {\n    for (const obj of _k.game.root.children) {\n        if (obj.is(tag)) {\n            obj.trigger(event);\n        }\n    }\n};\n\nexport const onFixedUpdate = overload2(\n    (action: () => void): KEventController => {\n        const obj = _k.game.root.add([{ fixedUpdate: action }]);\n        return {\n            get paused() {\n                return obj.paused;\n            },\n            set paused(p) {\n                obj.paused = p;\n            },\n            cancel: () => obj.destroy(),\n        };\n    },\n    (tag: Tag, action: (obj: GameObj) => void) => {\n        return on(\"fixedUpdate\", tag, action);\n    },\n);\n\nexport const onUpdate = overload2((action: () => void): KEventController => {\n    const obj = _k.game.root.add([{ update: action }]);\n    return {\n        get paused() {\n            return obj.paused;\n        },\n        set paused(p) {\n            obj.paused = p;\n        },\n        cancel: () => obj.destroy(),\n    };\n}, (tag: Tag, action: (obj: GameObj) => void) => {\n    return on(\"update\", tag, action);\n});\n\nexport const onDraw = overload2((action: () => void): KEventController => {\n    const obj = _k.game.root.add([{ draw: action }]);\n    return {\n        get paused() {\n            return obj.hidden;\n        },\n        set paused(p) {\n            obj.hidden = p;\n        },\n        cancel: () => obj.destroy(),\n    };\n}, (tag: Tag, action: (obj: GameObj) => void) => {\n    return on(\"draw\", tag, action);\n});\n\nexport const onAdd = overload2((action: (obj: GameObj) => void) => {\n    return _k.game.events.on(\"add\", action);\n}, (tag: Tag, action: (obj: GameObj) => void) => {\n    return on(\"add\", tag, action);\n});\n\nexport const onDestroy = overload2((action: (obj: GameObj) => void) => {\n    return _k.game.events.on(\"destroy\", action);\n}, (tag: Tag, action: (obj: GameObj) => void) => {\n    return on(\"destroy\", tag, action);\n});\n\nexport const onUse = overload2((action: (obj: GameObj, id: string) => void) => {\n    return _k.game.events.on(\"use\", action);\n}, (tag: Tag, action: (obj: GameObj, id: string) => void) => {\n    return on(\"use\", tag, action);\n});\n\nexport const onUnuse = overload2(\n    (action: (obj: GameObj, id: string) => void) => {\n        return _k.game.events.on(\"unuse\", action);\n    },\n    (tag: Tag, action: (obj: GameObj, id: string) => void) => {\n        return on(\"unuse\", tag, action);\n    },\n);\n\nexport const onTag = overload2((action: (obj: GameObj, id: string) => void) => {\n    return _k.game.events.on(\"tag\", action);\n}, (tag: Tag, action: (obj: GameObj) => void) => {\n    return on(\"tag\", tag, action);\n});\n\nexport const onUntag = overload2(\n    (action: (obj: GameObj, id: string) => void) => {\n        return _k.game.events.on(\"untag\", action);\n    },\n    (tag: Tag, action: (obj: GameObj) => void) => {\n        return on(\"untag\", tag, action);\n    },\n);\n\n// add an event that runs with objs with t1 collides with objs with t2\nexport function onCollide(\n    t1: Tag,\n    t2: Tag,\n    f: (a: GameObj, b: GameObj, col?: Collision) => void,\n): KEventController {\n    return on(\"collide\", t1, (a, b, col) => b.is(t2) && f(a, b, col));\n}\n\nexport function onCollideUpdate(\n    t1: Tag,\n    t2: Tag,\n    f: (a: GameObj, b: GameObj, col?: Collision) => void,\n): KEventController {\n    return on(\"collideUpdate\", t1, (a, b, col) => b.is(t2) && f(a, b, col));\n}\n\nexport function onCollideEnd(\n    t1: Tag,\n    t2: Tag,\n    f: (a: GameObj, b: GameObj, col?: Collision) => void,\n): KEventController {\n    return on(\"collideEnd\", t1, (a, b, col) => b.is(t2) && f(a, b, col));\n}\n\nexport function forAllCurrentAndFuture(t: Tag, action: (obj: GameObj) => void) {\n    _k.game.root.get(t, { recursive: true }).forEach(action);\n    onAdd(t, action);\n    onTag((obj, tag) => {\n        if (tag === t) {\n            action(obj);\n        }\n    });\n}\n\nexport const onClick = overload2((action: () => void) => {\n    return _k.app.onMousePress(action);\n}, (tag: Tag, action: (obj: GameObj) => void) => {\n    const events: KEventController[] = [];\n\n    forAllCurrentAndFuture(tag, (obj) => {\n        if (!obj.area) {\n            throw new Error(\n                \"onClick() requires the object to have area() component\",\n            );\n        }\n        events.push(obj.onClick(() => action(obj)));\n    });\n    return KEventController.join(events);\n});\n\n// add an event that runs once when objs with tag t is hovered\nexport function onHover(\n    t: Tag,\n    action: (obj: GameObj) => void,\n): KEventController {\n    const events: KEventController[] = [];\n\n    forAllCurrentAndFuture(t, (obj) => {\n        if (!obj.area) {\n            throw new Error(\n                \"onHover() requires the object to have area() component\",\n            );\n        }\n        events.push(obj.onHover(() => action(obj)));\n    });\n    return KEventController.join(events);\n}\n\n// add an event that runs once when objs with tag t is hovered\nexport function onHoverUpdate(\n    t: Tag,\n    action: (obj: GameObj) => void,\n): KEventController {\n    const events: KEventController[] = [];\n\n    forAllCurrentAndFuture(t, (obj) => {\n        if (!obj.area) {\n            throw new Error(\n                \"onHoverUpdate() requires the object to have area() component\",\n            );\n        }\n        events.push(obj.onHoverUpdate(() => action(obj)));\n    });\n    return KEventController.join(events);\n}\n\n// add an event that runs once when objs with tag t is unhovered\nexport function onHoverEnd(\n    t: Tag,\n    action: (obj: GameObj) => void,\n): KEventController {\n    const events: KEventController[] = [];\n\n    forAllCurrentAndFuture(t, (obj) => {\n        if (!obj.area) {\n            throw new Error(\n                \"onHoverEnd() requires the object to have area() component\",\n            );\n        }\n        events.push(obj.onHoverEnd(() => action(obj)));\n    });\n    return KEventController.join(events);\n}\n\nexport function onLoading(action: (progress: number) => void) {\n    _k.game.events.on(\"loading\", action);\n}\n\nexport function onResize(action: () => void) {\n    _k.app.onResize(action);\n}\n\nexport function onError(action: (err: Error) => void) {\n    _k.game.events.on(\"error\", action);\n}\n\nexport function onLoad(cb: () => void): void {\n    if (_k.assets.loaded) {\n        cb();\n    }\n    else {\n        _k.game.events.on(\"load\", cb);\n    }\n}\n\nexport function onLoadError(\n    cb: (name: string, failedAsset: Asset<any>) => void,\n) {\n    if (_k.assets.loaded) {\n        getFailedAssets().forEach(asset => cb(...asset));\n    }\n    else {\n        return _k.game.events.on(\"loadError\", cb);\n    }\n}\n","import { color, fixed, opacity, rect } from \"../components\";\nimport { center, height, width } from \"../gfx\";\nimport { _k } from \"../kaplay\";\nimport { type Color, rgb } from \"../math/color\";\nimport { type Mat4, type Vec2, vec2, type Vec2Args } from \"../math/math\";\nimport { deprecateMsg } from \"../utils\";\nimport { destroy } from \".\";\n\nexport function setCamPos(...pos: Vec2Args) {\n    _k.game.cam.pos = vec2(...pos);\n}\n\nexport function getCamPos(): Vec2 {\n    return _k.game.cam.pos ? _k.game.cam.pos.clone() : center();\n}\n\nexport function setCamScale(...scale: Vec2Args) {\n    _k.game.cam.scale = vec2(...scale);\n}\n\nexport function getCamScale(): Vec2 {\n    return _k.game.cam.scale.clone();\n}\n\nexport function setCamRot(angle: number) {\n    _k.game.cam.angle = angle;\n}\n\nexport function getCamRot(): number {\n    return _k.game.cam.angle;\n}\n\nexport function getCamTransform(): Mat4 {\n    return _k.game.cam.transform.clone();\n}\n\nexport function flash(\n    flashColor: Color = rgb(255, 255, 255),\n    fadeOutTime: number = 1,\n) {\n    let flash = _k.game.root.add([\n        rect(width(), height()),\n        color(flashColor),\n        opacity(1),\n        fixed(),\n    ]);\n    let fade = flash.fadeOut(fadeOutTime);\n    fade.onEnd(() => destroy(flash));\n    return fade;\n}\n\nexport function camTransform(): Mat4 {\n    return _k.game.cam.transform.clone();\n}\n\nexport function shake(intensity: number = 12) {\n    _k.game.cam.shake += intensity;\n}\n\nexport function toScreen(p: Vec2): Vec2 {\n    return _k.game.cam.transform.multVec2(p);\n}\n\nexport function toWorld(p: Vec2): Vec2 {\n    return _k.game.cam.transform.invert().multVec2(p);\n}\n\nexport function camPos(...pos: Vec2Args): Vec2 {\n    deprecateMsg(\"camPos\", \"setCamPos / getCamPos\");\n\n    if (pos.length > 0) {\n        setCamPos(...pos);\n    }\n    return getCamPos();\n}\n\nexport function camScale(...scale: Vec2Args): Vec2 {\n    deprecateMsg(\"camScale\", \"setCamScale / getCamScale\");\n\n    if (scale.length > 0) {\n        setCamScale(...scale);\n    }\n    return getCamScale();\n}\n\nexport function camRot(angle: number): number {\n    deprecateMsg(\"camRot\", \"setCamRot / getCamRot\");\n\n    if (angle !== undefined) {\n        setCamRot(angle);\n    }\n    return getCamRot();\n}\n\nexport function camFlash(\n    flashColor: Color = rgb(255, 255, 255),\n    fadeOutTime: number = 1,\n) {\n    deprecateMsg(\"camFlash\", \"flash\");\n\n    return flash(flashColor, fadeOutTime);\n}\n","import type { Comp } from \"../../types\";\n\n/**\n * The {@link fixed `fixed()`} component.\n *\n * @group Component Types\n */\nexport interface FixedComp extends Comp {\n    /**\n     * If the obj is unaffected by camera\n     */\n    fixed: boolean;\n}\n\nexport function fixed(): FixedComp {\n    return {\n        id: \"fixed\",\n        fixed: true,\n    };\n}\n","import type { App } from \"../app\";\nimport type {\n    FixedComp,\n    MaskComp,\n    PosComp,\n    RotateComp,\n    ScaleComp,\n} from \"../components\";\nimport { COMP_DESC, COMP_EVENTS } from \"../constants\";\nimport {\n    flush,\n    popTransform,\n    pushRotate,\n    pushScale,\n    pushTransform,\n    pushTranslate,\n} from \"../gfx\";\nimport { _k } from \"../kaplay\";\nimport { Mat4 } from \"../math/math\";\nimport { calcTransform } from \"../math/various\";\nimport {\n    type Comp,\n    type CompList,\n    type GameObj,\n    type GameObjInspect,\n    type GetOpt,\n    type QueryOpt,\n    type Tag,\n} from \"../types\";\nimport { KEventController, KEventHandler, uid } from \"../utils\";\n\nexport function make<T>(comps: CompList<T> = []): GameObj<T> {\n    const compStates = new Map<string, Comp>();\n    const anonymousCompStates: Comp[] = [];\n    const cleanups = {} as Record<string, (() => unknown)[]>;\n    const events = new KEventHandler();\n    const inputEvents: KEventController[] = [];\n    const tags = new Set<Tag>(\"*\");\n    const treatTagsAsComponents = _k.globalOpt.tagsAsComponents;\n    let onCurCompCleanup: Function | null = null;\n    let paused = false;\n\n    // the game object without the event methods, added later\n    const obj: Omit<GameObj, keyof typeof evs> = {\n        id: uid(),\n        // TODO: a nice way to hide / pause when add()-ing\n        hidden: false,\n        transform: new Mat4(),\n        children: [],\n        parent: null,\n\n        set paused(p) {\n            if (p === paused) return;\n            paused = p;\n            for (const e of inputEvents) {\n                e.paused = p;\n            }\n        },\n\n        get paused() {\n            return paused;\n        },\n\n        get tags() {\n            return Array.from(tags);\n        },\n\n        add<T2>(this: GameObj, a: CompList<T2> | GameObj<T2>): GameObj<T2> {\n            const obj = Array.isArray(a) ? make(a) : a;\n            if (obj.parent) {\n                throw new Error(\n                    \"Cannot add a game obj that already has a parent.\",\n                );\n            }\n            obj.parent = this;\n            obj.transform = calcTransform(obj);\n            this.children.push(obj);\n            // TODO: trigger add for children\n            obj.trigger(\"add\", obj);\n            _k.game.events.trigger(\"add\", obj);\n            return obj;\n        },\n\n        readd(obj: GameObj): GameObj {\n            const idx = this.children.indexOf(obj);\n            if (idx !== -1) {\n                this.children.splice(idx, 1);\n                this.children.push(obj);\n            }\n            return obj;\n        },\n\n        remove(obj: GameObj): void {\n            const idx = this.children.indexOf(obj);\n\n            if (idx !== -1) {\n                obj.parent = null;\n                this.children.splice(idx, 1);\n\n                const trigger = (o: GameObj) => {\n                    o.trigger(\"destroy\");\n                    _k.game.events.trigger(\"destroy\", o);\n                    o.children.forEach((child) => trigger(child));\n                };\n\n                trigger(obj);\n            }\n        },\n\n        // TODO: recursive\n        removeAll(this: GameObj, tag?: Tag) {\n            if (tag) {\n                this.get(tag).forEach((obj) => this.remove(obj));\n            }\n            else {\n                for (const child of [...this.children]) this.remove(child);\n            }\n        },\n\n        fixedUpdate(this: GameObj) {\n            if (this.paused) return;\n            this.children\n                /*.sort((o1, o2) => (o1.z ?? 0) - (o2.z ?? 0))*/\n                .forEach((child) => child.fixedUpdate());\n            this.trigger(\"fixedUpdate\");\n        },\n\n        update(this: GameObj) {\n            if (this.paused) return;\n            this.children\n                /*.sort((o1, o2) => (o1.z ?? 0) - (o2.z ?? 0))*/\n                .forEach((child) => child.update());\n            this.trigger(\"update\");\n        },\n\n        draw(\n            this: GameObj<\n                PosComp | ScaleComp | RotateComp | FixedComp | MaskComp\n            >,\n        ) {\n            if (this.hidden) return;\n            if (this.canvas) {\n                flush();\n                this.canvas.bind();\n            }\n            const f = _k.gfx.fixed;\n            if (this.fixed) _k.gfx.fixed = true;\n            pushTransform();\n            pushTranslate(this.pos);\n            pushScale(this.scale);\n            pushRotate(this.angle);\n            const children = this.children.sort((o1, o2) => {\n                const l1 = o1.layerIndex ?? _k.game.defaultLayerIndex;\n                const l2 = o2.layerIndex ?? _k.game.defaultLayerIndex;\n                return (l1 - l2) || (o1.z ?? 0) - (o2.z ?? 0);\n            });\n            // TODO: automatically don't draw if offscreen\n            if (this.mask) {\n                const maskFunc = {\n                    intersect: _k.k.drawMasked,\n                    subtract: _k.k.drawSubtracted,\n                }[this.mask];\n                if (!maskFunc) {\n                    throw new Error(`Invalid mask func: \"${this.mask}\"`);\n                }\n                maskFunc(() => {\n                    children.forEach((child) => child.draw());\n                }, () => {\n                    this.trigger(\"draw\");\n                });\n            }\n            else {\n                this.trigger(\"draw\");\n                children.forEach((child) => child.draw());\n            }\n            popTransform();\n            _k.gfx.fixed = f;\n            if (this.canvas) {\n                flush();\n                this.canvas.unbind();\n            }\n        },\n\n        drawInspect(this: GameObj<PosComp | ScaleComp | RotateComp>) {\n            if (this.hidden) return;\n            pushTransform();\n            pushTranslate(this.pos);\n            pushScale(this.scale);\n            pushRotate(this.angle);\n            this.children\n                /*.sort((o1, o2) => (o1.z ?? 0) - (o2.z ?? 0))*/\n                .forEach((child) => child.drawInspect());\n            this.trigger(\"drawInspect\");\n            popTransform();\n        },\n\n        // use a comp\n        use(this: GameObj, comp: Comp) {\n            if (typeof comp == \"string\") {\n                // for use add([\"tag\"])\n                return tags.add(comp);\n            }\n            else if (!comp || typeof comp != \"object\") {\n                throw new Error(\n                    `You can only pass a component or a string to .use(), you passed a \"${typeof comp}\"`,\n                );\n            }\n\n            let gc = [];\n\n            // clear if overwrite\n            if (comp.id) {\n                this.unuse(comp.id);\n                cleanups[comp.id] = [];\n                gc = cleanups[comp.id];\n                compStates.set(comp.id, comp);\n                // supporting tagsAsComponents\n                if (treatTagsAsComponents) tags.add(comp.id);\n            }\n            else {\n                anonymousCompStates.push(comp);\n            }\n\n            for (const k in comp) {\n                if (COMP_DESC.has(k)) {\n                    continue;\n                }\n\n                const prop = Object.getOwnPropertyDescriptor(comp, k);\n                if (!prop) continue;\n\n                if (typeof prop.value === \"function\") {\n                    // @ts-ignore\n                    comp[k] = comp[k].bind(this);\n                }\n\n                if (prop.set) {\n                    Object.defineProperty(comp, k, {\n                        set: prop.set.bind(this),\n                    });\n                }\n\n                if (prop.get) {\n                    Object.defineProperty(comp, k, {\n                        get: prop.get.bind(this),\n                    });\n                }\n\n                if (COMP_EVENTS.has(k)) {\n                    // automatically clean up events created by components in add() stage\n                    const func = k === \"add\"\n                        ? () => {\n                            onCurCompCleanup = (c: any) => gc.push(c);\n                            comp[k]?.();\n                            onCurCompCleanup = null;\n                        }\n                        : comp[<keyof typeof comp> k];\n                    gc.push(this.on(k, <any> func).cancel);\n                }\n                else {\n                    if (this[k] === undefined) {\n                        // assign comp fields to game obj\n                        Object.defineProperty(this, k, {\n                            get: () => comp[<keyof typeof comp> k],\n                            set: (val) => comp[<keyof typeof comp> k] = val,\n                            configurable: true,\n                            enumerable: true,\n                        });\n                        gc.push(() => delete this[k]);\n                    }\n                    else {\n                        const originalCompId = compStates.values().find(c =>\n                            (c as any)[k] !== undefined\n                        )?.id;\n                        throw new Error(\n                            `Duplicate component property: \"${k}\" while adding component \"${comp.id}\"`\n                                + (originalCompId\n                                    ? ` (originally added by \"${originalCompId}\")`\n                                    : \"\"),\n                        );\n                    }\n                }\n            }\n\n            // check for component dependencies\n            const checkDeps = () => {\n                if (!comp.require) return;\n                for (const dep of comp.require) {\n                    if (!this.c(dep)) {\n                        throw new Error(\n                            `Component \"${comp.id}\" requires component \"${dep}\"`,\n                        );\n                    }\n                }\n            };\n\n            if (comp.destroy) {\n                gc.push(comp.destroy.bind(this));\n            }\n\n            // manually trigger add event if object already exist\n            if (this.exists()) {\n                checkDeps();\n                if (comp.add) {\n                    onCurCompCleanup = (c: any) => gc.push(c);\n                    comp.add.call(this);\n                    onCurCompCleanup = null;\n                }\n                if (comp.id) {\n                    this.trigger(\"use\", comp.id);\n                    _k.game.events.trigger(\"use\", this, comp.id);\n                }\n            }\n            else {\n                if (comp.require) {\n                    gc.push(this.on(\"add\", checkDeps).cancel);\n                }\n            }\n        },\n\n        // Remove components\n        unuse(this: GameObj, id: string) {\n            if (compStates.has(id)) {\n                // check all components for a dependent, if there's one, throw an error\n                for (const comp of compStates.values()) {\n                    if (comp.require && comp.require.includes(id)) {\n                        throw new Error(\n                            `Can't unuse. Component \"${comp.id}\" requires component \"${id}\"`,\n                        );\n                    }\n                }\n\n                compStates.delete(id);\n\n                this.trigger(\"unuse\", id);\n                _k.game.events.trigger(\"unuse\", this, id);\n            }\n            else if (treatTagsAsComponents && tags.has(id)) {\n                tags.delete(id);\n            }\n\n            if (cleanups[id]) {\n                cleanups[id].forEach((e) => e());\n\n                delete cleanups[id];\n            }\n        },\n\n        c(id: Tag): Comp | null {\n            return compStates.get(id) ?? null;\n        },\n\n        get(t: Tag | Tag[], opts: GetOpt = {}): GameObj[] {\n            const checkTagsOrComps = (child: GameObj, t: Tag | Tag[]) => {\n                if (opts.only === \"comps\") {\n                    return child.has(t);\n                }\n                else if (opts.only === \"tags\") {\n                    return child.is(t);\n                }\n                else {\n                    return child.is(t) || child.has(t);\n                }\n            };\n\n            let list: GameObj[] = opts.recursive\n                ? this.children.flatMap(\n                    function recurse(child: GameObj): GameObj[] {\n                        return [child, ...child.children.flatMap(recurse)];\n                    },\n                )\n                : this.children;\n\n            list = list.filter((child) =>\n                t ? checkTagsOrComps(child, t) : true\n            );\n\n            if (opts.liveUpdate) {\n                const isChild = (obj: GameObj) => {\n                    return opts.recursive\n                        ? this.isAncestorOf(obj)\n                        : obj.parent === this;\n                };\n\n                const events: KEventController[] = [];\n\n                // TODO: handle when object add / remove tags\n                // TODO: clean up when obj destroyed\n                events.push(_k.k.onAdd((obj) => {\n                    if (isChild(obj) && checkTagsOrComps(obj, t)) {\n                        list.push(obj);\n                    }\n                }));\n                events.push(_k.k.onDestroy((obj) => {\n                    if (isChild(obj) && checkTagsOrComps(obj, t)) {\n                        const idx = list.findIndex((o) => o.id === obj.id);\n                        if (idx !== -1) {\n                            list.splice(idx, 1);\n                        }\n                    }\n                }));\n                this.onDestroy(() => {\n                    for (const ev of events) {\n                        ev.cancel();\n                    }\n                });\n            }\n            return list;\n        },\n\n        query(opt: QueryOpt) {\n            const hierarchy = opt.hierarchy || \"children\";\n            const include = opt.include;\n            const exclude = opt.exclude;\n            let list: GameObj[] = [];\n\n            switch (hierarchy) {\n                case \"children\":\n                    list = this.children;\n                    break;\n                case \"siblings\":\n                    list = this.parent\n                        ? this.parent.children.filter((o: GameObj) =>\n                            o !== this\n                        )\n                        : [];\n                    break;\n                case \"ancestors\":\n                    let parent = this.parent;\n                    while (parent) {\n                        list.push(parent);\n                        parent = parent.parent;\n                    }\n                    break;\n                case \"descendants\":\n                    list = this.children.flatMap(\n                        function recurse(child: GameObj): GameObj[] {\n                            return [\n                                child,\n                                ...child.children.flatMap(recurse),\n                            ];\n                        },\n                    );\n                    break;\n            }\n\n            if (include) {\n                const includeOp = opt.includeOp || \"and\";\n\n                if (includeOp === \"and\" || !Array.isArray(opt.include)) {\n                    // Accept if all match\n                    list = list.filter(o => o.is(include));\n                }\n                else { // includeOp == \"or\"\n                    // Accept if some match\n                    list = list.filter(o =>\n                        (opt.include as string[]).some(t => o.is(t))\n                    );\n                }\n            }\n\n            if (exclude) {\n                const excludeOp = opt.includeOp || \"and\";\n                if (excludeOp === \"and\" || !Array.isArray(opt.include)) {\n                    // Reject if all match\n                    list = list.filter(o => !o.is(exclude));\n                }\n                else { // includeOp == \"or\"\n                    // Reject if some match\n                    list = list.filter(o =>\n                        !(opt.exclude as string[]).some(t => o.is(t))\n                    );\n                }\n            }\n\n            if (opt.visible === true) {\n                list = list.filter(o => o.visible);\n            }\n\n            if (opt.distance) {\n                if (!this.pos) {\n                    throw Error(\n                        \"Can't do a distance query from an object without pos\",\n                    );\n                }\n                const distanceOp = opt.distanceOp || \"near\";\n                const sdist = opt.distance * opt.distance;\n                if (distanceOp === \"near\") {\n                    list = list.filter(o =>\n                        o.pos && this.pos.sdist(o.pos) <= sdist\n                    );\n                }\n                else { // distanceOp === \"far\"\n                    list = list.filter(o =>\n                        o.pos && this.pos.sdist(o.pos) > sdist\n                    );\n                }\n            }\n            if (opt.name) {\n                list = list.filter(o => o.name === opt.name);\n            }\n            return list;\n        },\n\n        isAncestorOf(obj: GameObj) {\n            if (!obj.parent) {\n                return false;\n            }\n            return obj.parent === this || this.isAncestorOf(obj.parent);\n        },\n\n        exists(this: GameObj): boolean {\n            return _k.game.root.isAncestorOf(this);\n        },\n\n        // Tags related\n        // Check if gameobj has a tag\n        is(tag: Tag | Tag[], op: \"or\" | \"and\" = \"and\"): boolean {\n            if (Array.isArray(tag)) {\n                if (op === \"and\") {\n                    return tag.every(tag => tags.has(tag));\n                }\n                else {\n                    return tag.some(tag => tags.has(tag));\n                }\n            }\n            else {\n                return tags.has(tag);\n            }\n        },\n\n        // Tag a game object\n        tag(this: GameObj, tag: Tag | Tag[]): void {\n            if (Array.isArray(tag)) {\n                for (const t of tag) {\n                    tags.add(t);\n                    this.trigger(\"tag\", t);\n                    _k.game.events.trigger(\"tag\", this, t);\n                }\n            }\n            else {\n                tags.add(tag);\n                this.trigger(\"tag\", tag);\n                _k.game.events.trigger(\"tag\", this, tag);\n            }\n        },\n\n        // Untag a game object\n        untag(this: GameObj, tag: Tag | Tag[]): void {\n            if (Array.isArray(tag)) {\n                for (const t of tag) {\n                    tags.delete(t);\n                    this.trigger(\"untag\", t);\n                    _k.game.events.trigger(\"untag\", this, t);\n                }\n            }\n            else {\n                tags.delete(tag);\n                this.trigger(\"untag\", tag);\n                _k.game.events.trigger(\"untag\", this, tag);\n            }\n        },\n\n        // Check if gameobj has a component. It also checks many components with\n        has(compList: string | string[], op: \"and\" | \"or\" = \"and\"): boolean {\n            if (Array.isArray(compList)) {\n                if (op === \"and\") {\n                    return compList.every((c) => compStates.has(c));\n                }\n                else {\n                    return compList.some(c => compStates.has(c));\n                }\n            }\n            else {\n                return compStates.has(compList);\n            }\n        },\n\n        on(\n            name: string,\n            action: (...args: unknown[]) => void,\n        ): KEventController {\n            const ctrl = events.on(name, action.bind(this));\n            if (onCurCompCleanup) {\n                onCurCompCleanup(() => ctrl.cancel());\n            }\n            return ctrl;\n        },\n\n        trigger(name: string, ...args: unknown[]): void {\n            events.trigger(name, ...args);\n            _k.game.objEvents.trigger(name, this, ...args);\n        },\n\n        destroy() {\n            if (this.parent) {\n                this.parent.remove(this);\n            }\n        },\n\n        inspect() {\n            const info = {} as GameObjInspect;\n\n            for (const [tag, comp] of compStates) {\n                info[tag] = comp.inspect?.() ?? null;\n            }\n\n            for (const [i, comp] of anonymousCompStates.entries()) {\n                if (comp.inspect) {\n                    info[i] = comp.inspect();\n                    continue;\n                }\n\n                for (const [key, value] of Object.entries(comp)) {\n                    if (typeof value === \"function\") {\n                        continue;\n                    }\n                    else {\n                        info[key] = `${key}: ${value}`;\n                    }\n                }\n            }\n\n            return info;\n        },\n\n        onAdd(cb: () => void): KEventController {\n            return this.on(\"add\", cb);\n        },\n\n        onFixedUpdate(cb: () => void): KEventController {\n            return this.on(\"fixedUpdate\", cb);\n        },\n\n        onUpdate(cb: () => void): KEventController {\n            return this.on(\"update\", cb);\n        },\n\n        onDraw(cb: () => void): KEventController {\n            return this.on(\"draw\", cb);\n        },\n\n        onDestroy(action: () => void): KEventController {\n            return this.on(\"destroy\", action);\n        },\n\n        onUse(action: (id: string) => void): KEventController {\n            return this.on(\"use\", action);\n        },\n\n        onUnuse(action: (id: string) => void): KEventController {\n            return this.on(\"unuse\", action);\n        },\n\n        clearEvents() {\n            events.clear();\n        },\n    };\n\n    const evs = [\n        \"onKeyPress\",\n        \"onKeyPressRepeat\",\n        \"onKeyDown\",\n        \"onKeyRelease\",\n        \"onMousePress\",\n        \"onMouseDown\",\n        \"onMouseRelease\",\n        \"onMouseMove\",\n        \"onCharInput\",\n        \"onMouseMove\",\n        \"onTouchStart\",\n        \"onTouchMove\",\n        \"onTouchEnd\",\n        \"onScroll\",\n        \"onGamepadButtonPress\",\n        \"onGamepadButtonDown\",\n        \"onGamepadButtonRelease\",\n        \"onGamepadStick\",\n        \"onButtonPress\",\n        \"onButtonDown\",\n        \"onButtonRelease\",\n    ] as unknown as [keyof Pick<App, \"onKeyPress\">];\n\n    for (const e of evs) {\n        obj[e] = (...args: [any]) => {\n            const ev = _k.app[e]?.(...args);\n            inputEvents.push(ev);\n\n            obj.onDestroy(() => ev.cancel());\n            obj.on(\"sceneEnter\", () => {\n                // All app events are already canceled by changing the scene\n                // not neccesary -> ev.cancel();\n                inputEvents.splice(inputEvents.indexOf(ev), 1);\n                // create a new event with the same arguments\n                const newEv = _k.app[e]?.(...args);\n\n                // Replace the old event handler with the new one\n                // old KEventController.cancel() => new KEventController.cancel()\n                KEventController.replace(ev, newEv);\n                inputEvents.push(ev);\n            });\n\n            return ev;\n        };\n    }\n\n    for (const comp of comps) {\n        obj.use(comp as string | Comp);\n    }\n\n    return obj as GameObj<T>;\n}\n","import type { Asset } from \"../assets\";\nimport type { TimerComp } from \"../components\";\nimport type { GameObjEventMap, GameObjEvents } from \"../events\";\nimport { Mat4, Vec2 } from \"../math/math\";\nimport { type GameObj, type Key, type MouseButton } from \"../types\";\nimport { KEventHandler } from \"../utils\";\nimport { make } from \"./make\";\nimport type { SceneDef, SceneName } from \"./scenes\";\n\nexport type Game = ReturnType<typeof initGame>;\n\nexport const initGame = () => {\n    const game = {\n        // general events\n        events: new KEventHandler<{\n            mouseMove: [];\n            mouseDown: [MouseButton];\n            mousePress: [MouseButton];\n            mouseRelease: [MouseButton];\n            charInput: [string];\n            keyPress: [Key];\n            keyDown: [Key];\n            keyPressRepeat: [Key];\n            keyRelease: [Key];\n            touchStart: [Vec2, Touch];\n            touchMove: [Vec2, Touch];\n            touchEnd: [Vec2, Touch];\n            gamepadButtonDown: [string];\n            gamepadButtonPress: [string];\n            gamepadButtonRelease: [string];\n            gamepadStick: [string, Vec2];\n            gamepadConnect: [Gamepad];\n            gamepadDisconnect: [Gamepad];\n            scroll: [Vec2];\n            add: [GameObj];\n            destroy: [GameObj];\n            use: [GameObj, string];\n            unuse: [GameObj, string];\n            tag: [GameObj, string];\n            untag: [GameObj, string];\n            load: [];\n            loadError: [string, Asset<any>];\n            loading: [number];\n            error: [Error];\n            input: [];\n            frameEnd: [];\n            resize: [];\n            sceneLeave: [string];\n            sceneEnter: [string];\n        }>(),\n\n        // object events\n        objEvents: new KEventHandler<GameObjEvents>(),\n\n        // root game object\n        root: make([]) as GameObj<TimerComp>,\n\n        // misc\n        gravity: null as Vec2 | null,\n        scenes: {} as Record<SceneName, SceneDef>,\n        currentScene: null as SceneName | null,\n        layers: null as string[] | null,\n        defaultLayerIndex: 0,\n\n        // on screen log\n        logs: [] as { msg: string | { toString(): string }; time: number }[],\n\n        // camera\n        cam: {\n            pos: null as Vec2 | null,\n            scale: new Vec2(1),\n            angle: 0,\n            shake: 0,\n            transform: new Mat4(),\n        },\n    };\n\n    return game;\n};\n","import { _k } from \"../kaplay\";\nimport { type Vec2, vec2 } from \"../math\";\n\nexport function setGravity(g: number) {\n    // If g > 0 use either the current direction or use (0, 1)\n    // Else null\n    _k.game.gravity = g\n        ? (_k.game.gravity || vec2(0, 1)).unit().scale(g)\n        : null;\n}\n\nexport function getGravity() {\n    // If gravity > 0 return magnitude\n    // Else 0\n    return _k.game.gravity ? _k.game.gravity.len() : 0;\n}\n\nexport function setGravityDirection(d: Vec2) {\n    // If gravity > 0 keep magnitude, otherwise use 1\n    _k.game.gravity = d.unit().scale(\n        _k.game.gravity ? _k.game.gravity.len() : 1,\n    );\n}\n\nexport function getGravityDirection() {\n    // If gravity != null return unit vector, otherwise return (0, 1)\n    return _k.game.gravity ? _k.game.gravity.unit() : vec2(0, 1);\n}\n","import { SoundData } from \"../assets\";\nimport { createEmptyAudioBuffer } from \"../gfx\";\nimport burpSoundSrc from \"../kassets/burp.mp3\";\n\nexport type AudioCtx = ReturnType<typeof initAudio>;\n\nexport const initAudio = () => {\n    const audio = (() => {\n        const ctx = new (\n            window.AudioContext || (window as any).webkitAudioContext\n        )() as AudioContext;\n\n        const masterNode = ctx.createGain();\n        masterNode.connect(ctx.destination);\n\n        // by default browsers can only load audio async, we don't deal with that and just start with an empty audio buffer\n        const burpSnd = new SoundData(createEmptyAudioBuffer(ctx));\n\n        // load that burp sound\n        ctx.decodeAudioData(burpSoundSrc.buffer.slice(0)).then((buf) => {\n            burpSnd.buf = buf;\n        }).catch((err) => {\n            console.error(\"Failed to load burp: \", err);\n        });\n\n        return {\n            ctx,\n            masterNode,\n            burpSnd,\n        };\n    })();\n\n    return audio;\n};\n","import { _k } from \"../kaplay\";\nimport { clamp } from \"../math/math\";\nimport { KEvent } from \"../utils\";\nimport type { AudioPlay, AudioPlayOpt } from \"./play\";\n\nexport function playMusic(url: string, opt: AudioPlayOpt = {}): AudioPlay {\n    const onEndEvents = new KEvent();\n    const el = new Audio(url);\n    el.crossOrigin = \"anonymous\";\n    el.loop = Boolean(opt.loop);\n\n    const src = _k.audio.ctx.createMediaElementSource(el);\n\n    src.connect(_k.audio.masterNode);\n\n    function resumeAudioCtx() {\n        if (_k.debug.paused) return;\n        if (_k.app.isHidden() && !_k.globalOpt.backgroundAudio) return;\n        _k.audio.ctx.resume();\n    }\n\n    function play() {\n        resumeAudioCtx();\n        el.play();\n    }\n\n    if (!opt.paused) {\n        play();\n    }\n\n    el.onended = () => onEndEvents.trigger();\n\n    return {\n        play() {\n            play();\n        },\n\n        seek(time: number) {\n            el.currentTime = time;\n        },\n\n        stop() {\n            el.pause();\n            this.seek(0);\n        },\n\n        set loop(l: boolean) {\n            el.loop = l;\n        },\n\n        get loop() {\n            return el.loop;\n        },\n\n        set paused(p: boolean) {\n            if (p) {\n                el.pause();\n            }\n            else {\n                play();\n            }\n        },\n\n        get paused() {\n            return el.paused;\n        },\n\n        time() {\n            return el.currentTime;\n        },\n\n        duration() {\n            return el.duration;\n        },\n\n        set volume(val: number) {\n            el.volume = clamp(val, 0, 1);\n        },\n\n        get volume() {\n            return el.volume;\n        },\n\n        set speed(s) {\n            el.playbackRate = Math.max(s, 0);\n        },\n\n        get speed() {\n            return el.playbackRate;\n        },\n\n        set detune(d) {\n            // TODO\n        },\n\n        get detune() {\n            // TODO\n            return 0;\n        },\n\n        onEnd(action: () => void) {\n            return onEndEvents.add(action);\n        },\n\n        then(action: () => void) {\n            return this.onEnd(action);\n        },\n    };\n}\n","import { Asset, resolveSound, type SoundData } from \"../assets\";\nimport { _k } from \"../kaplay\";\nimport type { MusicData } from \"../types\";\nimport { KEvent, type KEventController } from \"../utils\";\nimport { playMusic } from \"./playMusic\";\n\n// TODO: enable setting on load, make part of SoundData\n/**\n * Audio play configurations.\n */\nexport interface AudioPlayOpt {\n    /**\n     * If audio should start out paused.\n     *\n     * @since v3000.0\n     */\n    paused?: boolean;\n    /**\n     * If audio should be played again from start when its ended.\n     */\n    loop?: boolean;\n    /**\n     * Volume of audio. 1.0 means full volume, 0.5 means half volume.\n     */\n    volume?: number;\n    /**\n     * Playback speed. 1.0 means normal playback speed, 2.0 means twice as fast.\n     */\n    speed?: number;\n    /**\n     * Detune the sound. Every 100 means a semitone.\n     *\n     * @example\n     * ```js\n     * // play a random note in the octave\n     * play(\"noteC\", {\n     *     detune: randi(0, 12) * 100,\n     * })\n     * ```\n     */\n    detune?: number;\n    /**\n     * The start time, in seconds.\n     */\n    seek?: number;\n    /**\n     * The stereo pan of the sound.\n     * -1.0 means fully from the left channel, 0.0 means centered, 1.0 means fully right.\n     * Defaults to 0.0.\n     */\n    pan?: number;\n}\n\nexport interface AudioPlay {\n    /**\n     * Start playing audio.\n     *\n     * @since v3000.0\n     */\n    play(time?: number): void;\n    /**\n     * Seek time.\n     *\n     * @since v3000.0\n     */\n    seek(time: number): void;\n    /**\n     * Stop the sound.\n     *\n     * @since v3001.0\n     */\n    stop(): void;\n    /**\n     * If the sound is paused.\n     *\n     * @since v2000.1\n     */\n    paused: boolean;\n    /**\n     * Playback speed of the sound. 1.0 means normal playback speed, 2.0 means twice as fast.\n     */\n    speed: number;\n    /**\n     * Detune the sound. Every 100 means a semitone.\n     *\n     * @example\n     * ```js\n     * // tune down a semitone\n     * music.detune = -100\n     *\n     * // tune up an octave\n     * music.detune = 1200\n     * ```\n     */\n    detune: number;\n    /**\n     * Volume of the sound. 1.0 means full volume, 0.5 means half volume.\n     */\n    volume: number;\n    /**\n     * The stereo pan of the sound.\n     * -1.0 means fully from the left channel, 0.0 means centered, 1.0 means fully right.\n     * Defaults to 0.0.\n     */\n    pan?: number;\n    /**\n     * If the audio should start again when it ends.\n     */\n    loop: boolean;\n    /**\n     * The current playing time (not accurate if speed is changed).\n     */\n    time(): number;\n    /**\n     * The total duration.\n     */\n    duration(): number;\n    /**\n     * Register an event that runs when audio ends.\n     *\n     * @since v3000.0\n     */\n    onEnd(action: () => void): KEventController;\n    then(action: () => void): KEventController;\n}\n\nexport function play(\n    src:\n        | string\n        | SoundData\n        | Asset<SoundData>\n        | MusicData\n        | Asset<MusicData>,\n    opt: AudioPlayOpt = {},\n): AudioPlay {\n    if (typeof src === \"string\" && _k.assets.music[src]) {\n        return playMusic(_k.assets.music[src], opt);\n    }\n\n    const ctx = _k.audio.ctx;\n    let paused = opt.paused ?? false;\n    let srcNode = ctx.createBufferSource();\n    const onEndEvents = new KEvent();\n    const gainNode = ctx.createGain();\n    const panNode = ctx.createStereoPanner();\n    const pos = opt.seek ?? 0;\n    let startTime = 0;\n    let stopTime = 0;\n    let started = false;\n\n    srcNode.loop = Boolean(opt.loop);\n    srcNode.detune.value = opt.detune ?? 0;\n    srcNode.playbackRate.value = opt.speed ?? 1;\n    srcNode.connect(panNode);\n    srcNode.onended = () => {\n        if (\n            getTime()\n                >= (srcNode.buffer?.duration ?? Number.POSITIVE_INFINITY)\n        ) {\n            onEndEvents.trigger();\n        }\n    };\n    panNode.pan.value = opt.pan ?? 0;\n    panNode.connect(gainNode);\n    gainNode.connect(_k.audio.masterNode);\n    gainNode.gain.value = opt.volume ?? 1;\n\n    const start = (data: SoundData) => {\n        srcNode.buffer = data.buf;\n        if (!paused) {\n            startTime = ctx.currentTime;\n            srcNode.start(0, pos);\n            started = true;\n        }\n    };\n\n    // @ts-ignore\n    const snd = resolveSound(src);\n\n    if (snd instanceof Asset) {\n        snd.onLoad(start);\n    }\n\n    const getTime = () => {\n        if (!srcNode.buffer) return 0;\n        const t = paused\n            ? stopTime - startTime\n            : ctx.currentTime - startTime;\n        const d = srcNode.buffer.duration;\n        return srcNode.loop ? t % d : Math.min(t, d);\n    };\n\n    const cloneNode = (oldNode: AudioBufferSourceNode) => {\n        const newNode = ctx.createBufferSource();\n        newNode.buffer = oldNode.buffer;\n        newNode.loop = oldNode.loop;\n        newNode.playbackRate.value = oldNode.playbackRate.value;\n        newNode.detune.value = oldNode.detune.value;\n        newNode.onended = oldNode.onended;\n        newNode.connect(panNode);\n        return newNode;\n    };\n\n    return {\n        stop() {\n            this.paused = true;\n            this.seek(0);\n        },\n\n        set paused(p: boolean) {\n            if (paused === p) return;\n            paused = p;\n            if (p) {\n                if (started) {\n                    srcNode.stop();\n                    started = false;\n                }\n                stopTime = ctx.currentTime;\n            }\n            else {\n                srcNode = cloneNode(srcNode);\n                const pos = stopTime - startTime;\n                srcNode.start(0, pos);\n                started = true;\n                startTime = ctx.currentTime - pos;\n                stopTime = 0;\n            }\n        },\n\n        get paused() {\n            return paused;\n        },\n\n        play(time: number = 0) {\n            this.seek(time);\n            this.paused = false;\n        },\n\n        seek(time: number) {\n            if (!srcNode.buffer?.duration) return;\n            if (time > srcNode.buffer.duration) return;\n            if (paused) {\n                srcNode = cloneNode(srcNode);\n                startTime = stopTime - time;\n            }\n            else {\n                srcNode.stop();\n                srcNode = cloneNode(srcNode);\n                startTime = ctx.currentTime - time;\n                srcNode.start(0, time);\n                started = true;\n                stopTime = 0;\n            }\n        },\n\n        // TODO: affect time()\n        set speed(val: number) {\n            srcNode.playbackRate.value = val;\n        },\n\n        get speed() {\n            return srcNode.playbackRate.value;\n        },\n\n        set detune(val: number) {\n            srcNode.detune.value = val;\n        },\n\n        get detune() {\n            return srcNode.detune.value;\n        },\n\n        set volume(val: number) {\n            gainNode.gain.value = Math.max(val, 0);\n        },\n\n        get volume() {\n            return gainNode.gain.value;\n        },\n\n        set pan(pan: number) {\n            panNode.pan.value = pan;\n        },\n\n        get pan() {\n            return panNode.pan.value;\n        },\n\n        set loop(l: boolean) {\n            srcNode.loop = l;\n        },\n\n        get loop() {\n            return srcNode.loop;\n        },\n\n        duration(): number {\n            return srcNode.buffer?.duration ?? 0;\n        },\n\n        time(): number {\n            return getTime() % this.duration();\n        },\n\n        onEnd(action: () => void) {\n            return onEndEvents.add(action);\n        },\n\n        then(action: () => void) {\n            return this.onEnd(action);\n        },\n    };\n}\n","import { _k } from \"../kaplay\";\nimport { type AudioPlay, type AudioPlayOpt, play } from \"./play\";\n\n// core KAPLAY logic\nexport function burp(opt?: AudioPlayOpt): AudioPlay {\n    return _k.k.play(_k.audio.burpSnd, opt);\n}\n","import { _k } from \"../kaplay\";\nimport { deprecate, deprecateMsg } from \"../utils\";\n\nexport function setVolume(v: number) {\n    _k.audio.masterNode.gain.value = v;\n}\n\nexport function getVolume() {\n    return _k.audio.masterNode.gain.value;\n}\n\n// get / set master volume\nexport function volume(v?: number): number {\n    deprecateMsg(\"volume\", \"setVolume / getVolume\");\n\n    if (v !== undefined) {\n        setVolume(v);\n    }\n    return getVolume();\n}\n","import { burp } from \"../audio\";\nimport { FrameBuffer, updateViewport } from \"../gfx\";\nimport { _k } from \"../kaplay\";\nimport { clamp } from \"../math/math\";\nimport { toFixed } from \"../utils\";\n\nexport function initEvents() {\n    _k.app.onHide(() => {\n        if (!_k.globalOpt.backgroundAudio) {\n            _k.audio.ctx.suspend();\n        }\n    });\n\n    _k.app.onShow(() => {\n        if (!_k.globalOpt.backgroundAudio && !_k.debug.paused) {\n            _k.audio.ctx.resume();\n        }\n    });\n\n    _k.app.onResize(() => {\n        if (_k.app.isFullscreen()) return;\n        const fixedSize = _k.globalOpt.width && _k.globalOpt.height;\n        if (fixedSize && !_k.globalOpt.stretch && !_k.globalOpt.letterbox) {\n            return;\n        }\n\n        _k.canvas.width = _k.canvas.offsetWidth * _k.pixelDensity;\n        _k.canvas.height = _k.canvas.offsetHeight * _k.pixelDensity;\n\n        updateViewport();\n\n        if (!fixedSize) {\n            _k.gfx.frameBuffer.free();\n            _k.gfx.frameBuffer = new FrameBuffer(\n                _k.gfx.ggl,\n                _k.gfx.ggl.gl.drawingBufferWidth,\n                _k.gfx.ggl.gl.drawingBufferHeight,\n            );\n            _k.gfx.width = _k.gfx.ggl.gl.drawingBufferWidth / _k.pixelDensity\n                / _k.gscale;\n            _k.gfx.height = _k.gfx.ggl.gl.drawingBufferHeight / _k.pixelDensity\n                / _k.gscale;\n        }\n    });\n\n    if (_k.globalOpt.debug !== false) {\n        _k.app.onKeyPress(\n            _k.globalOpt.debugKey ?? \"f1\",\n            () => _k.debug.inspect = !_k.debug.inspect,\n        );\n        _k.app.onKeyPress(\"f2\", () => _k.debug.clearLog());\n        _k.app.onKeyPress(\"f8\", () => _k.debug.paused = !_k.debug.paused);\n        _k.app.onKeyPress(\"f7\", () => {\n            _k.debug.timeScale = toFixed(\n                clamp(_k.debug.timeScale - 0.2, 0, 2),\n                1,\n            );\n        });\n        _k.app.onKeyPress(\"f9\", () => {\n            _k.debug.timeScale = toFixed(\n                clamp(_k.debug.timeScale + 0.2, 0, 2),\n                1,\n            );\n        });\n        _k.app.onKeyPress(\"f10\", () => _k.debug.stepFrame());\n    }\n\n    // burp mode initialization\n    if (_k.globalOpt.burp) {\n        _k.app.onKeyPress(\"b\", () => burp());\n    }\n}\n","import { anchor, boom, pos, scale, sprite, stay, timer } from \"../components\";\nimport { _k } from \"../kaplay\";\nimport type { Vec2 } from \"../math\";\nimport type { CompList, GameObj } from \"../types\";\n\n/**\n * @group Options\n */\nexport interface BoomOpt {\n    /**\n     * Animation speed.\n     */\n    speed?: number;\n    /**\n     * Scale.\n     */\n    scale?: number;\n    /**\n     * Additional components.\n     *\n     * @since v3000.0\n     */\n    comps?: CompList<any>;\n}\n\nexport function addKaboom(p: Vec2, opt: BoomOpt = {}): GameObj {\n    const kaboom = _k.game.root.add([\n        pos(p),\n        stay(),\n    ]);\n\n    const speed = (opt.speed || 1) * 5;\n    const s = opt.scale || 1;\n\n    kaboom.add([\n        sprite(_k.boomSprite),\n        scale(0),\n        anchor(\"center\"),\n        boom(speed, s),\n        ...opt.comps ?? [],\n    ]);\n\n    const ka = kaboom.add([\n        sprite(_k.kaSprite),\n        scale(0),\n        anchor(\"center\"),\n        timer(),\n        ...opt.comps ?? [],\n    ]);\n\n    ka.wait(0.4 / speed, () => ka.use(boom(speed, s)));\n    ka.onDestroy(() => kaboom.destroy());\n\n    return kaboom;\n}\n","import { _k } from \"../kaplay\";\nimport { deprecateMsg } from \"../utils\";\n\nexport function setLayers(layerNames: string[], defaultLayer: string) {\n    if (_k.game.layers) {\n        throw Error(\"Layers can only be assigned once.\");\n    }\n    const defaultLayerIndex = layerNames.indexOf(defaultLayer);\n    if (defaultLayerIndex == -1) {\n        throw Error(\n            \"The default layer name should be present in the layers list.\",\n        );\n    }\n    _k.game.layers = layerNames;\n    _k.game.defaultLayerIndex = defaultLayerIndex;\n}\n\nexport function getLayers() {\n    return _k.game.layers;\n}\n\nexport function getDefaultLayer() {\n    return _k.game.layers?.[_k.game.defaultLayerIndex] ?? null;\n}\n\nexport function layers(layerNames: string[], defaultLayer: string) {\n    deprecateMsg(\"layers\", \"setLayers\");\n    setLayers(layerNames, defaultLayer);\n}\n","import { _k } from \"../kaplay\";\nimport type { GameObj } from \"../types\";\n\nexport function destroy(obj: GameObj) {\n    obj.destroy();\n}\n\nexport function getTreeRoot(): GameObj {\n    return _k.game.root;\n}\n","import { _k } from \"../kaplay\";\nimport { Mat4, vec2 } from \"../math/math\";\nimport type { KEventController } from \"../utils\";\nimport { initEvents } from \"./initEvents\";\n\n/**\n * The name of a scene.\n */\nexport type SceneName = string;\nexport type SceneDef = (...args: any) => void;\n\nexport function scene(id: SceneName, def: SceneDef) {\n    _k.game.scenes[id] = def;\n}\n\nexport function go(name: SceneName, ...args: unknown[]) {\n    if (!_k.game.scenes[name]) {\n        throw new Error(`Scene not found: ${name}`);\n    }\n\n    _k.game.events.onOnce(\"frameEnd\", () => {\n        _k.game.events.trigger(\"sceneLeave\", name);\n        _k.app.events.clear();\n        _k.game.events.clear();\n        _k.game.objEvents.clear();\n\n        [..._k.game.root.children].forEach((obj) => {\n            if (\n                !obj.stay\n                || (obj.scenesToStay && !obj.scenesToStay.includes(name))\n            ) {\n                _k.game.root.remove(obj);\n            }\n            else {\n                obj.trigger(\"sceneEnter\", name);\n            }\n        });\n\n        _k.game.root.clearEvents();\n        initEvents();\n\n        // cam\n        _k.game.cam = {\n            pos: null,\n            scale: vec2(1),\n            angle: 0,\n            shake: 0,\n            transform: new Mat4(),\n        };\n\n        _k.game.scenes[name](...args);\n    });\n\n    _k.game.currentScene = name;\n}\n\nexport function onSceneLeave(\n    action: (newScene?: string) => void,\n): KEventController {\n    return _k.game.events.on(\"sceneLeave\", action);\n}\n\nexport function getSceneName() {\n    return _k.game.currentScene;\n}\n","// TODO: accept canvas\n\nimport { dt } from \"../../app\";\nimport type { Asset, SpriteAnim, SpriteData } from \"../../assets\";\nimport { resolveSprite } from \"../../assets/sprite\";\nimport { onLoad } from \"../../game\";\nimport { getRenderProps } from \"../../game/utils\";\nimport { drawTexture, type Texture } from \"../../gfx\";\nimport { Quad, quad, Rect, Vec2, vec2 } from \"../../math\";\nimport type {\n    Comp,\n    GameObj,\n    SpriteAnimPlayOpt,\n    SpriteCurAnim,\n} from \"../../types\";\nimport { KEvent, KEventController } from \"../../utils/\";\n\n/**\n * The {@link sprite `sprite()`} component.\n *\n * @group Component Types\n */\nexport interface SpriteComp extends Comp {\n    draw: Comp[\"draw\"];\n    /**\n     * Name of the sprite.\n     */\n    sprite: string;\n    /**\n     * Width for sprite.\n     */\n    width: number;\n    /**\n     * Height for sprite.\n     */\n    height: number;\n    /**\n     * Current frame in the entire spritesheet.\n     */\n    frame: number;\n    /**\n     * Current frame in relative to the animation that is currently playing.\n     */\n    animFrame: number;\n    /**\n     * The rectangular area of the texture to render.\n     */\n    quad: Quad;\n    /**\n     * Play a piece of anim.\n     */\n    play(anim: string, options?: SpriteAnimPlayOpt): void;\n    /**\n     * Stop current anim.\n     */\n    stop(): void;\n    /**\n     * Get total number of frames.\n     */\n    numFrames(): number;\n    /**\n     * Get the current animation data.\n     *\n     * @since v3001.0\n     */\n    getCurAnim(): SpriteCurAnim | null;\n    /**\n     * Get current anim name.\n     *\n     * @deprecated Use `getCurAnim().name` instead.\n     */\n    curAnim(): string | undefined;\n    /**\n     * Check if object's sprite has an animation.\n     */\n    hasAnim(name: string): boolean;\n    /**\n     * Get an animation.\n     */\n    getAnim(name: string): SpriteAnim | null;\n    /**\n     * Speed multiplier for all animations (for the actual fps for an anim use .play(\"anim\", { speed: 10 })).\n     */\n    animSpeed: number;\n    /**\n     * Flip texture horizontally.\n     */\n    flipX: boolean;\n    /**\n     * Flip texture vertically.\n     */\n    flipY: boolean;\n    /**\n     * Register an event that runs when an animation is played.\n     */\n    onAnimStart(action: (anim: string) => void): KEventController;\n    /**\n     * Register an event that runs when an animation is ended.\n     */\n    onAnimEnd(action: (anim: string) => void): KEventController;\n    /**\n     * @since v3000.0\n     */\n    renderArea(): Rect;\n}\n\n/**\n * Options for the {@link sprite `sprite()`} component.\n *\n * @group Component Types\n */\nexport interface SpriteCompOpt {\n    /**\n     * If the sprite is loaded with multiple frames, or sliced, use the frame option to specify which frame to draw.\n     */\n    frame?: number;\n    /**\n     * If provided width and height, don't stretch but instead render tiled.\n     */\n    tiled?: boolean;\n    /**\n     * Stretch sprite to a certain width.\n     */\n    width?: number;\n    /**\n     * Stretch sprite to a certain height.\n     */\n    height?: number;\n    /**\n     * Play an animation on start.\n     */\n    anim?: string;\n    /**\n     * Speed multiplier for all animations (for the actual fps for an anim use .play(\"anim\", { speed: 10 })).\n     */\n    animSpeed?: number;\n    /**\n     * Flip texture horizontally.\n     */\n    flipX?: boolean;\n    /**\n     * Flip texture vertically.\n     */\n    flipY?: boolean;\n    /**\n     * The rectangular sub-area of the texture to render, default to full texture `quad(0, 0, 1, 1)`.\n     */\n    quad?: Quad;\n    /**\n     * If fill the sprite (useful if you only want to render outline with outline() component).\n     */\n    fill?: boolean;\n}\n\n// TODO: clean\nexport function sprite(\n    src: string | SpriteData | Asset<SpriteData>,\n    opt: SpriteCompOpt = {},\n): SpriteComp {\n    let spriteData: SpriteData | null = null;\n    let curAnim: SpriteCurAnim | null = null;\n    // 1  - from small index to large index\n    // -1 - reverse\n    let curAnimDir: -1 | 1 | null = null;\n    const spriteLoadedEvent = new KEvent<[SpriteData]>();\n\n    if (!src) {\n        throw new Error(\n            \"Please pass the resource name or data to sprite()\",\n        );\n    }\n\n    const calcTexScale = (\n        tex: Texture,\n        q: Quad,\n        w?: number,\n        h?: number,\n    ): Vec2 => {\n        const scale = vec2(1, 1);\n        if (w && h) {\n            scale.x = w / (tex.width * q.w);\n            scale.y = h / (tex.height * q.h);\n        }\n        else if (w) {\n            scale.x = w / (tex.width * q.w);\n            scale.y = scale.x;\n        }\n        else if (h) {\n            scale.y = h / (tex.height * q.h);\n            scale.x = scale.y;\n        }\n        return scale;\n    };\n\n    const setSpriteData = (\n        obj: GameObj<SpriteComp>,\n        spr: SpriteData | null,\n    ) => {\n        if (!spr) return;\n\n        let q = spr.frames[0].clone();\n\n        if (opt.quad) {\n            q = q.scale(opt.quad);\n        }\n\n        const scale = calcTexScale(\n            spr.tex,\n            q,\n            opt.width,\n            opt.height,\n        );\n\n        obj.width = spr.tex.width * q.w * scale.x;\n        obj.height = spr.tex.height * q.h * scale.y;\n\n        if (opt.anim) {\n            obj.play(opt.anim);\n        }\n\n        spriteData = spr;\n        spriteLoadedEvent.trigger(spriteData);\n    };\n\n    return {\n        id: \"sprite\",\n        // TODO: allow update\n        width: 0,\n        height: 0,\n        frame: opt.frame || 0,\n        quad: opt.quad || new Quad(0, 0, 1, 1),\n        animSpeed: opt.animSpeed ?? 1,\n        flipX: opt.flipX ?? false,\n        flipY: opt.flipY ?? false,\n\n        get sprite() {\n            return src.toString();\n        },\n\n        set sprite(src) {\n            const spr = resolveSprite(src);\n\n            if (spr) {\n                spr.onLoad(spr =>\n                    setSpriteData(this as unknown as GameObj<SpriteComp>, spr)\n                );\n            }\n        },\n\n        get animFrame() {\n            if (!spriteData || !curAnim || curAnimDir === null) {\n                return this.frame;\n            }\n\n            const anim = spriteData.anims[curAnim.name];\n\n            if (typeof anim === \"number\") {\n                return anim;\n            }\n\n            return this.frame - Math.min(anim.from, anim.to);\n        },\n\n        draw(this: GameObj<SpriteComp>) {\n            if (!spriteData) return;\n\n            const q = spriteData.frames[this.frame ?? 0];\n\n            if (!q) {\n                throw new Error(`Frame not found: ${this.frame ?? 0}`);\n            }\n\n            if (spriteData.slice9) {\n                // TODO: tile\n                // TODO: use scale or width / height, or both?\n                const { left, right, top, bottom } = spriteData.slice9;\n                const tw = spriteData.tex.width * q.w;\n                const th = spriteData.tex.height * q.h;\n                const iw = this.width - left - right;\n                const ih = this.height - top - bottom;\n                const w1 = left / tw;\n                const w3 = right / tw;\n                const w2 = 1 - w1 - w3;\n                const h1 = top / th;\n                const h3 = bottom / th;\n                const h2 = 1 - h1 - h3;\n                const quads = [\n                    // uv\n                    quad(0, 0, w1, h1),\n                    quad(w1, 0, w2, h1),\n                    quad(w1 + w2, 0, w3, h1),\n                    quad(0, h1, w1, h2),\n                    quad(w1, h1, w2, h2),\n                    quad(w1 + w2, h1, w3, h2),\n                    quad(0, h1 + h2, w1, h3),\n                    quad(w1, h1 + h2, w2, h3),\n                    quad(w1 + w2, h1 + h2, w3, h3),\n                    // transform\n                    quad(0, 0, left, top),\n                    quad(left, 0, iw, top),\n                    quad(left + iw, 0, right, top),\n                    quad(0, top, left, ih),\n                    quad(left, top, iw, ih),\n                    quad(left + iw, top, right, ih),\n                    quad(0, top + ih, left, bottom),\n                    quad(left, top + ih, iw, bottom),\n                    quad(left + iw, top + ih, right, bottom),\n                ];\n                for (let i = 0; i < 9; i++) {\n                    const uv = quads[i];\n                    const transform = quads[i + 9];\n                    drawTexture(\n                        Object.assign(getRenderProps(this), {\n                            pos: transform.pos(),\n                            tex: spriteData.tex,\n                            quad: q.scale(uv),\n                            flipX: this.flipX,\n                            flipY: this.flipY,\n                            tiled: opt.tiled,\n                            width: transform.w,\n                            height: transform.h,\n                        }),\n                    );\n                }\n            }\n            else {\n                drawTexture(\n                    Object.assign(getRenderProps(this), {\n                        tex: spriteData.tex,\n                        quad: q.scale(this.quad ?? new Quad(0, 0, 1, 1)),\n                        flipX: this.flipX,\n                        flipY: this.flipY,\n                        tiled: opt.tiled,\n                        width: this.width,\n                        height: this.height,\n                    }),\n                );\n            }\n        },\n\n        add(this: GameObj<SpriteComp>) {\n            const spr = resolveSprite(src);\n\n            if (spr) {\n                // The sprite exists\n                spr.onLoad(spr => setSpriteData(this, spr));\n            }\n            else {\n                // The sprite may be loaded later in the script, check again when all resources have been loaded\n                onLoad(() => setSpriteData(this, resolveSprite(src)!.data));\n            }\n        },\n\n        update(this: GameObj<SpriteComp>) {\n            if (!spriteData || !curAnim || curAnimDir === null) {\n                return;\n            }\n\n            const anim = spriteData!.anims[curAnim.name];\n\n            if (typeof anim === \"number\") {\n                this.frame = anim;\n                return;\n            }\n\n            if (anim.speed === 0) {\n                throw new Error(\"Sprite anim speed cannot be 0\");\n            }\n\n            curAnim.timer += dt() * this.animSpeed;\n\n            if (curAnim.timer >= (1 / curAnim.speed)) {\n                curAnim.timer = 0;\n                this.frame += curAnimDir;\n\n                if (\n                    this.frame < Math.min(anim.from, anim.to)\n                    || this.frame > Math.max(anim.from, anim.to)\n                ) {\n                    if (curAnim.loop) {\n                        if (curAnim.pingpong) {\n                            this.frame -= curAnimDir;\n                            curAnimDir *= -1;\n                            this.frame += curAnimDir;\n                        }\n                        else {\n                            this.frame = anim.from;\n                        }\n                    }\n                    else {\n                        if (curAnim.pingpong) {\n                            const isForward = curAnimDir\n                                === Math.sign(anim.to - anim.from);\n                            if (isForward) {\n                                this.frame = anim.to;\n                                curAnimDir *= -1;\n                                this.frame += curAnimDir;\n                            }\n                            else {\n                                this.frame = anim.from;\n                                curAnim.onEnd();\n                                this.stop();\n                            }\n                        }\n                        else {\n                            this.frame = anim.to;\n                            curAnim.onEnd();\n                            this.stop();\n                        }\n                    }\n                }\n            }\n        },\n\n        play(\n            this: GameObj<SpriteComp>,\n            name: string,\n            opt: SpriteAnimPlayOpt = {},\n        ) {\n            if (!spriteData) {\n                spriteLoadedEvent.add(() => this.play(name, opt));\n                return;\n            }\n\n            const anim = spriteData.anims[name];\n\n            if (anim === undefined) {\n                throw new Error(`Anim not found: ${name}`);\n            }\n\n            if (curAnim) {\n                this.stop();\n            }\n\n            curAnim = typeof anim === \"number\"\n                ? {\n                    name: name,\n                    timer: 0,\n                    loop: false,\n                    pingpong: false,\n                    speed: 0,\n                    onEnd: () => {},\n                }\n                : {\n                    name: name,\n                    timer: 0,\n                    loop: opt.loop ?? anim.loop ?? false,\n                    pingpong: opt.pingpong ?? anim.pingpong ?? false,\n                    speed: opt.speed ?? anim.speed ?? 10,\n                    onEnd: opt.onEnd ?? (() => {}),\n                };\n\n            curAnimDir = typeof anim === \"number\"\n                ? null\n                : anim.from < anim.to\n                ? 1\n                : -1;\n\n            this.frame = typeof anim === \"number\"\n                ? anim\n                : anim.from;\n\n            this.trigger(\"animStart\", name);\n        },\n\n        stop(this: GameObj<SpriteComp>) {\n            if (!curAnim) {\n                return;\n            }\n            const prevAnim = curAnim.name;\n            curAnim = null;\n            this.trigger(\"animEnd\", prevAnim);\n        },\n\n        numFrames() {\n            return spriteData?.frames.length ?? 0;\n        },\n\n        getCurAnim() {\n            return curAnim;\n        },\n\n        curAnim() {\n            return curAnim?.name;\n        },\n\n        getAnim(name) {\n            return spriteData?.anims[name] ?? null;\n        },\n\n        hasAnim(name) {\n            return Boolean(this.getAnim(name));\n        },\n\n        onAnimEnd(\n            this: GameObj<SpriteComp>,\n            action: (name: string) => void,\n        ): KEventController {\n            return this.on(\"animEnd\", action);\n        },\n\n        onAnimStart(\n            this: GameObj<SpriteComp>,\n            action: (name: string) => void,\n        ): KEventController {\n            return this.on(\"animStart\", action);\n        },\n\n        renderArea() {\n            return new Rect(vec2(0), this.width, this.height);\n        },\n\n        inspect() {\n            if (typeof src === \"string\") {\n                return `sprite: \"${src}\"`;\n            }\n            return null;\n        },\n    };\n}\n","import type { BitmapFontData } from \"../../assets\";\nimport { DEF_TEXT_SIZE } from \"../../constants\";\nimport { onLoad } from \"../../game\";\nimport { getRenderProps } from \"../../game/utils\";\nimport {\n    type CharTransform,\n    type CharTransformFunc,\n    compileStyledText,\n    drawFormattedText,\n    formatText,\n    type TextAlign,\n} from \"../../gfx\";\nimport { _k } from \"../../kaplay\";\nimport { Rect, vec2 } from \"../../math/math\";\nimport type { Comp, GameObj, KAPLAYCtx } from \"../../types\";\n\n/**\n * The {@link text `text()`} component.\n *\n * @group Component Types\n */\nexport interface TextComp extends Comp {\n    draw: Comp[\"draw\"];\n    /**\n     * The text to render.\n     */\n    text: string;\n    /**\n     * The text after formatting.\n     */\n    renderedText: string;\n    /**\n     * The text size.\n     */\n    textSize: number;\n    /**\n     * The font to use.\n     */\n    font: string | BitmapFontData;\n    /**\n     * Width of text.\n     */\n    width: number;\n    /**\n     * Height of text.\n     */\n    height: number;\n    /**\n     * Text alignment (\"left\", \"center\" or \"right\", default \"left\").\n     *\n     * @since v3000.0\n     */\n    align: TextAlign;\n    /**\n     * The gap between each line.\n     *\n     * @since v2000.2\n     */\n    lineSpacing: number;\n    /**\n     * The gap between each character.\n     *\n     * @since v2000.2\n     */\n    letterSpacing: number;\n    /**\n     * Transform the pos, scale, rotation or color for each character based on the index or char.\n     *\n     * @since v2000.1\n     */\n    textTransform: CharTransform | CharTransformFunc;\n    /**\n     * Stylesheet for styled chunks, in the syntax of \"this is a [style]text[/style] word\".\n     *\n     * @since v2000.2\n     */\n    textStyles: Record<string, CharTransform | CharTransformFunc>;\n    /**\n     * @since v3000.0\n     */\n    renderArea(): Rect;\n}\n\n/**\n * Options for the {@link text `text()`} component.\n *\n * @group Component Types\n */\nexport interface TextCompOpt {\n    /**\n     * Height of text.\n     */\n    size?: number;\n    /**\n     * The font to use.\n     */\n    font?: string | BitmapFontData;\n    /**\n     * Wrap text to a certain width.\n     */\n    width?: number;\n    /**\n     * Text alignment (\"left\", \"center\" or \"right\", default \"left\").\n     *\n     * @since v3000.0\n     */\n    align?: TextAlign;\n    /**\n     * The gap between each line.\n     *\n     * @since v2000.2\n     */\n    lineSpacing?: number;\n    /**\n     * The gap between each character.\n     *\n     * @since v2000.2\n     */\n    letterSpacing?: number;\n    /**\n     * Transform the pos, scale, rotation or color for each character based on the index or char.\n     *\n     * @since v2000.1\n     */\n    transform?: CharTransform | CharTransformFunc;\n    /**\n     * Stylesheet for styled chunks, in the syntax of \"this is a [style]text[/style] word\".\n     *\n     * @since v2000.2\n     */\n    styles?: Record<string, CharTransform | CharTransformFunc>;\n    /**\n     * If true, any (whitespace) indent on the first line of the paragraph\n     * will be copied to all of the lines for those parts that text-wrap.\n     */\n    indentAll?: boolean;\n}\n\nexport function text(t: string, opt: TextCompOpt = {}): TextComp {\n    function update(obj: GameObj<TextComp | any>) {\n        const ftext = formatText(Object.assign(getRenderProps(obj), {\n            text: obj.text + \"\",\n            size: obj.textSize,\n            font: obj.font,\n            width: opt.width && obj.width,\n            align: obj.align,\n            letterSpacing: obj.letterSpacing,\n            lineSpacing: obj.lineSpacing,\n            // TODO: shouldn't run when object / ancestor is paused\n            transform: obj.textTransform,\n            styles: obj.textStyles,\n            indentAll: opt.indentAll,\n        }));\n\n        if (!opt.width) {\n            obj.width = ftext.width / (obj.scale?.x || 1);\n        }\n\n        obj.height = ftext.height / (obj.scale?.y || 1);\n\n        return ftext;\n    }\n\n    const obj = {\n        id: \"text\",\n        set text(nt) {\n            t = nt;\n            // @ts-ignore\n            update(this);\n            this.renderedText = compileStyledText(t).text;\n        },\n        get text() {\n            return t;\n        },\n        textSize: opt.size ?? DEF_TEXT_SIZE,\n        font: opt.font,\n        width: opt.width ?? 0,\n        height: 0,\n        align: opt.align,\n        lineSpacing: opt.lineSpacing,\n        letterSpacing: opt.letterSpacing,\n        textTransform: opt.transform,\n        textStyles: opt.styles,\n        renderedText: t ? compileStyledText(t).text : \"\",\n\n        add(this: GameObj<TextComp>) {\n            onLoad(() => update(this));\n        },\n\n        draw(this: GameObj<TextComp>) {\n            drawFormattedText(update(this));\n        },\n\n        renderArea() {\n            return new Rect(vec2(0), this.width, this.height);\n        },\n    };\n\n    // @ts-ignore\n    update(obj);\n\n    // @ts-ignore Deep check in text related methods\n    return obj;\n}\n","import { getRenderProps } from \"../../game/utils\";\nimport { drawUVQuad } from \"../../gfx\";\nimport { Rect, vec2 } from \"../../math/math\";\nimport type { Comp, GameObj } from \"../../types\";\n\n/**\n * The {@link uvquad `uvquad()`} component.\n *\n * @group Component Types\n */\nexport interface UVQuadComp extends Comp {\n    draw: Comp[\"draw\"];\n    /**\n     * Width of rect.\n     */\n    width: number;\n    /**\n     * Height of height.\n     */\n    height: number;\n    /**\n     * @since v3000.0\n     */\n    renderArea(): Rect;\n}\nexport function uvquad(w: number, h: number): UVQuadComp {\n    return {\n        id: \"rect\",\n        width: w,\n        height: h,\n        draw(this: GameObj<UVQuadComp>) {\n            drawUVQuad(Object.assign(getRenderProps(this), {\n                width: this.width,\n                height: this.height,\n            }));\n        },\n        renderArea() {\n            return new Rect(vec2(0), this.width, this.height);\n        },\n        inspect() {\n            return `uvquad: (${Math.ceil(this.width)}w, ${\n                Math.ceil(this.height)\n            })h`;\n        },\n    };\n}\n","import { Vec2 } from \"../../math/math\";\nimport type { Comp, GameObj } from \"../../types\";\nimport type { KEventController } from \"../../utils/\";\nimport type { PosComp } from \"../transform/pos\";\nimport type { TileComp } from \"./tile\";\n\n/**\n * The {@link agent `agent()`} component.\n *\n * @group Component Types\n */\nexport interface AgentComp extends Comp {\n    agentSpeed: number;\n    allowDiagonals: boolean;\n    getDistanceToTarget(): number;\n    getNextLocation(): Vec2 | null;\n    getPath(): Vec2[] | null;\n    getTarget(): Vec2 | null;\n    isNavigationFinished(): boolean;\n    isTargetReachable(): boolean;\n    isTargetReached(): boolean;\n    setTarget(target: Vec2): void;\n    onNavigationStarted(cb: () => void): KEventController;\n    onNavigationNext(cb: () => void): KEventController;\n    onNavigationEnded(cb: () => void): KEventController;\n    onTargetReached(cb: () => void): KEventController;\n}\n\n/**\n * Options for the {@link agent `agent()`} component.\n *\n * @group Component Types\n */\nexport type AgentCompOpt = {\n    speed?: number;\n    allowDiagonals?: boolean;\n};\n\nexport function agent(opts: AgentCompOpt = {}): AgentComp {\n    let target: Vec2 | null = null;\n    let path: Vec2[] | null = null;\n    let index: number | null = null;\n    let navMapChangedEvent: KEventController | null = null;\n    return {\n        id: \"agent\",\n        require: [\"pos\", \"tile\"],\n        agentSpeed: opts.speed ?? 100,\n        allowDiagonals: opts.allowDiagonals ?? true,\n        getDistanceToTarget(this: GameObj<AgentComp | PosComp>) {\n            return target ? this.pos.dist(target) : 0;\n        },\n        getNextLocation() {\n            return path && index ? path[index] : null;\n        },\n        getPath() {\n            return path ? path.slice() : null;\n        },\n        getTarget() {\n            return target;\n        },\n        isNavigationFinished() {\n            return path ? index === null : true;\n        },\n        isTargetReachable() {\n            return path !== null;\n        },\n        isTargetReached(this: GameObj<AgentComp | PosComp>) {\n            return target ? this.pos.eq(target) : true;\n        },\n        setTarget(this: GameObj<AgentComp | TileComp | PosComp>, p: Vec2) {\n            target = p;\n            path = this.getLevel().getPath(this.pos, target, {\n                allowDiagonals: this.allowDiagonals,\n            });\n            index = path ? 0 : null;\n            if (path && index !== null) {\n                if (!navMapChangedEvent) {\n                    navMapChangedEvent = this.getLevel()\n                        .onNavigationMapChanged(() => {\n                            if (target && path && index !== null) {\n                                path = this.getLevel().getPath(\n                                    this.pos,\n                                    target,\n                                    {\n                                        allowDiagonals: this.allowDiagonals,\n                                    },\n                                );\n                                if (path) {\n                                    index = 0;\n                                    this.trigger(\n                                        \"navigationNext\",\n                                        this,\n                                        path[index],\n                                    );\n                                }\n                                else {\n                                    index = null;\n                                    this.trigger(\"navigationEnded\", this);\n                                }\n                            }\n                        });\n                    this.onDestroy(() => navMapChangedEvent?.cancel());\n                }\n                this.trigger(\"navigationStarted\", this);\n                this.trigger(\"navigationNext\", this, path[index]);\n            }\n            else {\n                this.trigger(\"navigationEnded\", this);\n            }\n        },\n        update(this: GameObj<AgentComp | PosComp>) {\n            if (target && path && index !== null) {\n                if (this.pos.sdist(path[index]) < 2) {\n                    if (index === path.length - 1) {\n                        this.pos = target.clone();\n                        index = null;\n                        this.trigger(\"navigationEnded\", this);\n                        this.trigger(\"targetReached\", this);\n                        return;\n                    }\n                    else {\n                        index++;\n                        this.trigger(\"navigationNext\", this, path[index]);\n                    }\n                }\n                this.moveTo(path[index], this.agentSpeed);\n            }\n        },\n        onNavigationStarted(this: GameObj<AgentComp>, cb: () => void) {\n            return this.on(\"navigationStarted\", cb);\n        },\n        onNavigationNext(this: GameObj<AgentComp>, cb: () => void) {\n            return this.on(\"navigationNext\", cb);\n        },\n        onNavigationEnded(this: GameObj<AgentComp>, cb: () => void) {\n            return this.on(\"navigationEnded\", cb);\n        },\n        onTargetReached(this: GameObj<AgentComp>, cb: () => void) {\n            return this.on(\"targetReached\", cb);\n        },\n        inspect() {\n            return `agent: ` + JSON.stringify({\n                target: JSON.stringify(target),\n                path: JSON.stringify(path),\n            });\n        },\n    };\n}\n","import { Vec2 } from \"../../math/math\";\nimport { type Graph } from \"../../math/navigation\";\nimport type { Comp, GameObj } from \"../../types\";\nimport type { PosComp } from \"../transform/pos\";\n\nexport interface PathfinderMapComp extends Comp {\n    /*\n     * Get navigation waypoints to reach the given target from the given origin.\n     */\n    navigate(\n        origin: Vec2,\n        target: Vec2,\n        navigationOpt: any,\n    ): Vec2[] | undefined;\n    /*\n     * The graph to use for navigation.\n     */\n    graph: Graph | undefined;\n}\n\nexport interface PathfinderMapCompOpt {\n    /*\n     * The graph to use for navigation. If null, the ancestors are queried for a pathfinderMap component.\n     */\n    graph?: Graph;\n}\n\nexport function pathfinderMap(\n    opts: PathfinderMapCompOpt,\n): PathfinderMapComp {\n    let graph = opts.graph;\n    return {\n        id: \"pathfinderMap\",\n        get graph(): Graph | undefined {\n            return graph;\n        },\n        set graph(value) {\n            graph = value;\n        },\n        navigate(\n            this: GameObj<PathfinderMapComp>,\n            origin: Vec2,\n            target: Vec2,\n            navigationOpt: any = {},\n        ): Vec2[] | undefined {\n            return graph?.getWaypointPath(origin, target, navigationOpt);\n        },\n    };\n}\n\nexport interface PathfinderComp extends Comp {\n    /*\n     * Get navigation waypoints to reach the given target from the current position.\n     */\n    navigateTo(target: Vec2): Vec2[] | undefined;\n    /*\n     * Get the graph used for navigastion if any.\n     */\n    graph: Graph | undefined;\n}\n\nexport interface PathfinderCompOpt {\n    /*\n     * The graph to use for navigation. If null, the ancestors are queried for a pathfinderMap component.\n     */\n    graph?: Graph;\n    /*\n     * The navigation options depending on the kind of graph used.\n     */\n    navigationOpt?: any;\n}\n\nexport function pathfinder(\n    opts: PathfinderCompOpt,\n): PathfinderComp {\n    let graph = opts.graph;\n    return {\n        id: \"pathfinder\",\n        require: [\"pos\"],\n        navigateTo(\n            this: GameObj<PathfinderComp | PosComp>,\n            target: Vec2,\n        ): Vec2[] | undefined {\n            const graph: Graph | undefined = this.graph;\n            return graph?.getWaypointPath(this.pos, target, opts.navigationOpt);\n        },\n        get graph(): Graph | undefined {\n            if (graph) {\n                return graph;\n            }\n            let parent: GameObj<any> | null =\n                (this as unknown as GameObj<PathfinderComp>).parent;\n            while (parent) {\n                if (parent.has(\"pathfinderMap\")) {\n                    return parent.graph;\n                }\n                parent = parent.parent;\n            }\n            return undefined;\n        },\n        set graph(value) {\n            graph = value;\n        },\n    };\n}\n","import { Vec2 } from \"../../math/math\";\nimport type { Comp, GameObj } from \"../../types\";\nimport type { KEventController } from \"../../utils/\";\nimport type { PosComp } from \"../transform/pos\";\n\nexport interface PatrolComp extends Comp {\n    /*\n     * Path to follow. If null, doesn't move.\n     */\n    waypoints: Vec2[] | undefined;\n    /*\n     * Speed of the movement during patrol.\n     */\n    patrolSpeed: number;\n    /*\n     * Current subgoal, if any.\n     */\n    nextLocation: Vec2 | undefined;\n    /**\n     * Attaches an event handler which is called when using \"stop\" and the end of the path is reached.\n     * @param cb The event handler called when the patrol finishes.\n     */\n    onPatrolFinished(cb: (objects: GameObj[]) => void): KEventController;\n}\n\ntype PatrolEndBehavior =\n    /* Go directly back to the start */\n    | \"loop\"\n    /* Traveling the reverse path back to the start */\n    | \"ping-pong\"\n    /* Stop */\n    | \"stop\";\n\nexport interface PatrolCompOpt {\n    /*\n     * Path to follow. If null, starts suspended.\n     */\n    waypoints?: Vec2[];\n    /*\n     * Speed of the movement during patrol.\n     */\n    speed?: number;\n    /*\n     * What to do after the last waypoint has been reached.\n     */\n    endBehavior?: PatrolEndBehavior;\n}\n\nexport function patrol(\n    opts: PatrolCompOpt = {},\n): PatrolComp {\n    let waypoints = opts.waypoints;\n    let speed = opts.speed || 100; // Or throw error?\n    let endBehavior = opts.endBehavior || \"stop\"; // Default is stop.\n    let index = 0;\n    let finished = waypoints != null;\n    return {\n        id: \"patrol\",\n        require: [\"pos\"],\n        get patrolSpeed() {\n            return speed;\n        },\n        set patrolSpeed(value) {\n            speed = value;\n        },\n        get waypoints() {\n            return waypoints;\n        },\n        set waypoints(value) {\n            waypoints = value;\n            index = 0;\n            finished = false;\n        },\n        get nextLocation() {\n            return waypoints ? waypoints[index] : undefined;\n        },\n        update(this: GameObj<PatrolComp | PosComp>) {\n            const nextWaypoint = this.nextLocation;\n            if (!waypoints || !nextWaypoint || finished) return;\n            this.moveTo(nextWaypoint, speed);\n            if (this.pos.sdist(nextWaypoint) < 9) {\n                switch (endBehavior) {\n                    case \"loop\":\n                        index = (index + 1) % waypoints.length;\n                        break;\n                    case \"ping-pong\":\n                        index = index + 1;\n                        if (index == waypoints.length) {\n                            waypoints.reverse();\n                            index = 0;\n                        }\n                        break;\n                    case \"stop\":\n                        index = Math.min(index + 1, waypoints.length - 1);\n                        if (index == waypoints.length - 1) {\n                            finished = true;\n                            this.trigger(\"patrolFinished\");\n                        }\n                        break;\n                }\n            }\n        },\n        onPatrolFinished(cb: (objects: GameObj[]) => void) {\n            return (this as unknown as GameObj<PatrolComp>).on(\n                \"patrolFinished\",\n                cb,\n            );\n        },\n    };\n}\n","import { dt } from \"../../app\";\nimport { _k } from \"../../kaplay\";\nimport { Vec2 } from \"../../math/math\";\nimport type { Comp, GameObj, QueryOpt } from \"../../types\";\nimport type { KEventController } from \"../../utils/\";\nimport { raycast } from \"../draw\";\nimport type { PosComp } from \"../transform/pos\";\n\n/**\n * The {@link sentry `sentry()`} component.\n *\n * @group Component Types\n */\nexport interface SentryComp extends Comp {\n    /*\n     * The direction the sentry is pointing to.\n     */\n    direction?: Vec2;\n    /*\n     * The direction of the sentry as an angle in degrees.\n     */\n    directionAngle?: number;\n    /*\n     * The field of view of the sentry in degrees.\n     */\n    fieldOfView?: number;\n    /*\n     * The objects spotted most recently.\n     */\n    spotted: GameObj<any>[];\n    /**\n     * Attaches an event handler which is called when objects of interest are spotted.\n     * @param cb The event handler called when objects are spotted.\n     */\n    onObjectsSpotted(cb: (objects: GameObj[]) => void): KEventController;\n    /**\n     * Returns true if the object is within the field of view.\n     * @param obj The object to test.\n     * @param direction The direction to look at.\n     * @param fieldOfView The field of view in degrees.\n     */\n    isWithinFieldOfView(\n        obj: GameObj<PosComp>,\n        direction?: Vec2,\n        fieldOfView?: number,\n    ): boolean;\n    /**\n     * Returns true if there is a line of sight to the object.\n     * @param obj The object to test.\n     */\n    hasLineOfSight(obj: GameObj<PosComp>): boolean;\n}\n\n/**\n * Options for the {@link sentry `sentry()`} component.\n *\n * @group Component Types\n */\nexport interface SentryCompOpt {\n    /*\n     * The direction the sentry is pointing to. If undefined, direction has no influence.\n     */\n    direction?: Vec2 | number;\n    /*\n     * The field of view of the sentry in degrees. If undefined, defaults to human fov of 200 degrees.\n     */\n    fieldOfView?: number;\n    /*\n     * If true, line of sight matters. This means that objects which are blocked from view by areas are invisible.\n     */\n    lineOfSight?: boolean;\n    /*\n     * When using line of sight, the objects which are transparent for the ray. Include at least a tag identifying the sentry.\n     */\n    raycastExclude?: string[];\n    /*\n     * The frequency of checking, defaults to every second.\n     */\n    checkFrequency?: number;\n}\n\nexport type SentryCandidatesCb = () => GameObj<any>[];\nexport type SentryCandidates = SentryCandidatesCb | QueryOpt;\n\nexport function sentry(\n    candidates: SentryCandidates,\n    opts: SentryCompOpt = {},\n): SentryComp {\n    const get: SentryCandidatesCb = typeof candidates === \"function\"\n        ? candidates\n        : () => {\n            return _k.game.root.query(candidates);\n        };\n    const checkFrequency = opts.checkFrequency || 1;\n    const directionVector = typeof opts.direction === \"number\"\n        ? Vec2.fromAngle(opts.direction)\n        : opts.direction;\n    let t = 0;\n    return {\n        id: \"sentry\",\n        require: [\"pos\"],\n        direction: typeof opts.direction == \"number\"\n            ? Vec2.fromAngle(opts.direction)\n            : opts.direction,\n        spotted: [],\n        set directionAngle(value: number) {\n            this.direction = value !== undefined\n                ? Vec2.fromAngle(value)\n                : undefined;\n        },\n        get directionAngle(): number | undefined {\n            return this.direction ? this.direction.angle() : undefined;\n        },\n        fieldOfView: opts.fieldOfView || 200, // 200 degrees = Human field of view\n        isWithinFieldOfView(\n            this: GameObj<SentryComp | PosComp>,\n            obj: GameObj<PosComp>,\n            direction?: Vec2,\n            fieldOfView?: number,\n        ) {\n            const dir: Vec2 | undefined = (typeof direction === \"number\"\n                ? Vec2.fromAngle(direction)\n                : direction) || directionVector;\n            const fov: number | undefined = fieldOfView || opts.fieldOfView;\n            if (!dir || !fov || fov >= 360) return true;\n            const halfAngle = fov / 2;\n            return obj.pos\n                && dir.angleBetween(obj.pos.sub(this.pos)) <= halfAngle;\n        },\n        hasLineOfSight(\n            this: GameObj<SentryComp | PosComp>,\n            obj: GameObj<PosComp>,\n        ) {\n            const hit = raycast(\n                this.pos,\n                obj.pos.sub(this.pos),\n                opts.raycastExclude,\n            );\n            return hit != null && hit.object === obj;\n        },\n        update(this: GameObj<SentryComp | PosComp>) {\n            t += dt();\n            if (t > checkFrequency) {\n                t -= checkFrequency;\n                let objects = get();\n                // If fieldOfView is used, keep only object within view\n                if (\n                    objects.length && directionVector && this.fieldOfView\n                    && this.fieldOfView < 360\n                ) {\n                    const halfAngle = this.fieldOfView / 2;\n                    objects = objects.filter(o =>\n                        o.pos\n                        && directionVector.angleBetween(o.pos.sub(this.pos))\n                            <= halfAngle\n                    );\n                }\n                // If lineOfSight is used, raycast\n                if (objects.length && opts.lineOfSight) {\n                    objects = objects.filter(o => {\n                        return o.pos\n                            && this.hasLineOfSight(o as GameObj<PosComp>);\n                    });\n                }\n                if (objects.length > 0) {\n                    this.spotted = objects;\n                    this.trigger(\"objectSpotted\", objects);\n                }\n            }\n        },\n        onObjectsSpotted(cb: (objects: GameObj[]) => void) {\n            return (this as unknown as GameObj<SentryComp>).on(\n                \"objectSpotted\",\n                cb,\n            );\n        },\n    };\n}\n","import { Vec2, vec2 } from \"../../math/math\";\nimport {\n    type Comp,\n    type Edge,\n    EdgeMask,\n    type GameObj,\n    type LevelComp,\n} from \"../../types\";\n\n/**\n * The {@link tile `tile()`} component.\n *\n * @group Component Types\n */\nexport interface TileComp extends Comp {\n    /**\n     * The tile position inside the level.\n     */\n    tilePos: Vec2;\n    /**\n     * If the tile is an obstacle in pathfinding.\n     */\n    isObstacle: boolean;\n    /**\n     * How much a tile is cost to traverse in pathfinding (default 0).\n     */\n    cost: number;\n    /**\n     * If the tile has hard edges that cannot pass in pathfinding.\n     */\n    edges: Edge[];\n    /**\n     * Position offset when setting `tilePos`.\n     */\n    tilePosOffset: Vec2;\n    readonly edgeMask: EdgeMask;\n    getLevel(): GameObj<LevelComp>;\n    tileMove(dir: Vec2): void;\n    moveLeft(): void;\n    moveRight(): void;\n    moveUp(): void;\n    moveDown(): void;\n}\n\n/**\n * Options for the {@link tile `tile()`} component.\n *\n * @group Component Types\n */\nexport type TileCompOpt = {\n    /**\n     * If the tile is an obstacle in pathfinding.\n     */\n    isObstacle?: boolean;\n    /**\n     * How much a tile is cost to traverse in pathfinding (default 0).\n     */\n    cost?: number;\n    /**\n     * If the tile has hard edges that cannot pass in pathfinding.\n     */\n    edges?: Edge[];\n    /**\n     * Position offset when setting `tilePos`.\n     */\n    offset?: Vec2;\n};\n\nexport function tile(opts: TileCompOpt = {}): TileComp {\n    let tilePos = vec2(0);\n    let isObstacle = opts.isObstacle ?? false;\n    let cost = opts.cost ?? 0;\n    let edges = opts.edges ?? [];\n\n    const getEdgeMask = () => {\n        const loopup = {\n            \"left\": EdgeMask.Left,\n            \"top\": EdgeMask.Top,\n            \"right\": EdgeMask.Right,\n            \"bottom\": EdgeMask.Bottom,\n        };\n        return edges.map(s => loopup[s] || 0).reduce(\n            (mask, dir) => mask | dir,\n            0,\n        );\n    };\n\n    let edgeMask = getEdgeMask();\n\n    return {\n        id: \"tile\",\n        tilePosOffset: opts.offset ?? vec2(0),\n\n        set tilePos(p: Vec2) {\n            const level = this.getLevel();\n            tilePos = p.clone();\n            // @ts-ignore\n            this.pos = vec2(\n                this.tilePos.x * level.tileWidth(),\n                this.tilePos.y * level.tileHeight(),\n            ).add(this.tilePosOffset);\n        },\n\n        get tilePos() {\n            return tilePos;\n        },\n\n        set isObstacle(is: boolean) {\n            if (isObstacle === is) return;\n            isObstacle = is;\n            this.getLevel().invalidateNavigationMap();\n        },\n\n        get isObstacle() {\n            return isObstacle;\n        },\n\n        set cost(n: number) {\n            if (cost === n) return;\n            cost = n;\n            this.getLevel().invalidateNavigationMap();\n        },\n\n        get cost() {\n            return cost;\n        },\n\n        set edges(e: Edge[]) {\n            edges = e;\n            edgeMask = getEdgeMask();\n            this.getLevel().invalidateNavigationMap();\n        },\n\n        get edges() {\n            return edges;\n        },\n\n        get edgeMask() {\n            return edgeMask;\n        },\n\n        getLevel(this: GameObj) {\n            return this.parent as GameObj<LevelComp>;\n        },\n\n        tileMove(dir: Vec2) {\n            const level = this.getLevel();\n            level.removeFromSpatialMap(this as unknown as GameObj<TileComp>);\n            this.tilePos = this.tilePos.add(dir);\n            level.insertIntoSpatialMap(this as unknown as GameObj<TileComp>);\n            level.trigger(\"spatialMapChanged\");\n        },\n\n        moveLeft() {\n            this.tileMove(vec2(-1, 0));\n        },\n\n        moveRight() {\n            this.tileMove(vec2(1, 0));\n        },\n\n        moveUp() {\n            this.tileMove(vec2(0, -1));\n        },\n\n        moveDown() {\n            this.tileMove(vec2(0, 1));\n        },\n    };\n}\n","import { dt } from \"../../app\";\nimport { Color } from \"../../math/color\";\nimport easings from \"../../math/easings\";\nimport {\n    catmullRom,\n    clamp,\n    easingLinear,\n    hermiteFirstDerivative,\n    lerp,\n    Vec2,\n    vec2,\n} from \"../../math/math\";\nimport type { Comp, EaseFunc, GameObj, LerpValue } from \"../../types\";\nimport type { KEventController } from \"../../utils\";\nimport type { NamedComp } from \"./named\";\n\ntype TimeDirection =\n    /* Animate forward */\n    | \"forward\"\n    /* Animate in reverse */\n    | \"reverse\"\n    /* Alternate animating forward and reverse */\n    | \"ping-pong\";\n\ntype Interpolation =\n    /* No interpolation */\n    | \"none\"\n    /* Linear interpolation */\n    | \"linear\"\n    /* Spherical linear interpolation */\n    | \"slerp\"\n    /* Spline interpolation */\n    | \"spline\";\n\nexport interface AnimateOpt {\n    /**\n     * Duration of the animation in seconds\n     */\n    duration: number;\n    /**\n     * Loops, Default is undefined aka infinite\n     */\n    loops?: number;\n    /**\n     * Behavior when reaching the end of the animation. Default is forward.\n     */\n    direction?: TimeDirection;\n    /**\n     * Easing function. Default is linear time.\n     */\n    easing?: EaseFunc;\n    /**\n     * Interpolation function. Default is linear interpolation.\n     */\n    interpolation?: Interpolation;\n    /**\n     * Timestamps in percent for the given keys, if omitted, keys are equally spaced.\n     */\n    timing?: number[];\n    /**\n     * Easings for the given keys, if omitted, easing is used.\n     */\n    easings?: EaseFunc[];\n}\n\nexport interface AnimateCompOpt {\n    /**\n     * Changes the angle so it follows the motion, requires the rotate component\n     */\n    followMotion?: boolean;\n    /**\n     * The animation is added to the base values of pos, angle, scale and opacity instead of replacing them\n     */\n    relative?: boolean;\n}\n\nexport interface BaseValues {\n    pos: Vec2;\n    angle: number;\n    scale: Vec2;\n    opacity: number;\n}\n\nexport interface AnimateComp extends Comp {\n    /**\n     * Animates a property on this object.\n     * @param name Name of the property to animate.\n     * @param keys Keys determining the value at a certain point in time.\n     * @param opts Options.\n     */\n    animate<T extends LerpValue>(\n        name: string,\n        keys: T[],\n        opts: AnimateOpt,\n    ): void;\n    /**\n     * Removes the animation from the given property.\n     * @param name Name of the property to remove the animation from.\n     */\n    unanimate(name: string): void;\n    /**\n     * Removes the animations from all properties\n     */\n    unanimateAll(): void;\n    /**\n     * Attaches an event handler which is called when all the animation channels have finished.\n     * @param cb The event handler called when the animation finishes.\n     */\n    onAnimateFinished(cb: () => void): KEventController;\n    /**\n     * Attaches an event handler which is called when an animation channels has finished.\n     * @param cb The event handler called when an animation channel finishes.\n     */\n    onAnimateChannelFinished(cb: (name: string) => void): KEventController;\n    /**\n     * Base values for relative animation\n     */\n    base: BaseValues;\n    animation: {\n        /**\n         * Pauses playing\n         */\n        paused: boolean;\n        /**\n         * Move the animation to a specific point in time\n         */\n        seek(time: number): void;\n        /**\n         * Returns the duration of the animation\n         */\n        duration: number;\n        /**\n         * Serializes the animation of this object to plain Javascript types\n         */\n    };\n    serializeAnimationChannels(): Record<string, AnimationChannel>;\n    /**\n     * Serializes the options of this object to plain Javascript types\n     */\n    serializeAnimationOptions(): { followMotion?: boolean; relative?: boolean };\n}\n\n/**\n * Baseclass for animation channels, only handles parameter normalization and keyframe searches\n */\nclass AnimateChannel {\n    name: string;\n    duration: number;\n    loops: number;\n    direction: TimeDirection;\n    easing: EaseFunc;\n    interpolation: Interpolation;\n    isFinished: boolean;\n    timing: number[] | undefined;\n    easings: EaseFunc[] | undefined;\n    relative: boolean;\n    constructor(name: string, opts: AnimateOpt, relative: boolean) {\n        this.name = name;\n        this.duration = opts.duration;\n        this.loops = opts.loops || 0;\n        this.direction = opts.direction || \"forward\";\n        this.easing = opts.easing || easings.linear;\n        this.interpolation = opts.interpolation || \"linear\";\n        this.isFinished = false;\n        this.timing = opts.timing;\n        this.easings = opts.easings;\n        this.relative = relative;\n    }\n\n    update(obj: GameObj<any>, t: number): boolean {\n        return true;\n    }\n\n    /**\n     * Returns the first key index for the given time, as well as the relative time towards the second key.\n     * @param t The time in seconds.\n     * @param timing The optional timestamps in percent.\n     * @returns The first key index for the given time, as well as the relative time towards the second key.\n     */\n    getLowerKeyIndexAndRelativeTime(\n        t: number,\n        count: number,\n        timing?: number[],\n    ): [number, number, boolean] {\n        const maxIndex = count - 1;\n        // Check how many loops we've made\n        let p = t / this.duration;\n        if (this.loops !== 0 && p >= this.loops) {\n            return [maxIndex, 0, true];\n        }\n        // Split looped and actual time\n        const m = Math.trunc(p);\n        p -= m;\n        // Reverse if needed\n        if (\n            this.direction == \"reverse\"\n            || (this.direction == \"ping-pong\" && (m & 1))\n        ) {\n            p = 1 - p;\n        }\n        // If we have individual keyframe positions, use them, otherwise use uniform spread\n        if (timing) {\n            let index = 0;\n            while (timing[index + 1] !== undefined && timing[index + 1] < p) {\n                index++;\n            }\n            if (index >= maxIndex) {\n                return [maxIndex, 0, true];\n            }\n            return [\n                index,\n                (p - timing[index]) / (timing[index + 1] - timing[index]),\n                false,\n            ];\n        }\n        else {\n            const index = Math.floor((count - 1) * p);\n            return [index, (p - index / maxIndex) * maxIndex, false];\n        }\n    }\n\n    setValue<T>(obj: GameObj<any>, name: string, value: T) {\n        if (this.relative) {\n            switch (name) {\n                case \"pos\":\n                    obj[\"pos\"] = obj.base.pos.add(value as Vec2);\n                    break;\n                case \"angle\":\n                    obj[\"angle\"] = obj.base.angle + (value as number);\n                    break;\n                case \"scale\":\n                    obj[\"scale\"] = obj.base.scale.scale(value as Vec2);\n                    break;\n                case \"opacity\":\n                    obj[\"opacity\"] = obj.base.opacity * (value as number);\n                    break;\n                default:\n                    obj[name] = value;\n            }\n        }\n        else {\n            obj[name] = value;\n        }\n    }\n\n    serialize(): AnimationChannel {\n        const serialization: AnimationChannel = {\n            duration: this.duration,\n            keys: [],\n        };\n        if (this.loops) {\n            serialization.loops = this.loops;\n        }\n        if (this.direction !== \"forward\") {\n            serialization.direction = this.direction;\n        }\n        if (this.easing != easings.linear) {\n            serialization.easing = this.easing.name;\n        }\n        if (this.interpolation !== \"linear\") {\n            serialization.interpolation = this.interpolation;\n        }\n        if (this.timing) {\n            serialization.timing = this.timing;\n        }\n        if (this.easings) {\n            serialization.easings = this.easings.map(e => this.easing.name);\n        }\n        return serialization;\n    }\n}\n\n/**\n * Reflects a point around another point\n * @param a Point to reflect\n * @param b Point to reflect around\n * @returns Reflected point\n */\nfunction reflect(a: Vec2, b: Vec2) {\n    return b.add(b.sub(a));\n}\n\n/**\n * Subclass handling number keys\n */\nclass AnimateChannelNumber extends AnimateChannel {\n    keys: number[];\n    constructor(\n        name: string,\n        keys: number[],\n        opts: AnimateOpt,\n        relative: boolean,\n    ) {\n        super(name, opts, relative);\n        this.keys = keys;\n    }\n\n    update(obj: GameObj<any>, t: number): boolean {\n        const [index, alpha, isFinished] = this.getLowerKeyIndexAndRelativeTime(\n            t,\n            this.keys.length,\n            this.timing,\n        );\n        // Return exact value in case of exact hit or no interpolation, otherwise interpolate\n        if (alpha == 0 || this.interpolation === \"none\") {\n            this.setValue(obj, this.name, this.keys[index]);\n        }\n        else {\n            const easing = this.easings ? this.easings[index] : this.easing;\n            this.setValue(\n                obj,\n                this.name,\n                lerp(\n                    this.keys[index],\n                    this.keys[index + 1],\n                    easing(alpha),\n                ),\n            );\n        }\n        return isFinished;\n    }\n\n    serialize() {\n        return Object.assign(super.serialize(), { keys: this.keys });\n    }\n}\n\n/**\n * Subclass handling vector keys\n */\nclass AnimateChannelVec2 extends AnimateChannel {\n    keys: Vec2[];\n    curves?: ((t: number) => Vec2)[];\n    dcurves?: ((t: number) => Vec2)[];\n    constructor(\n        name: string,\n        keys: Vec2[],\n        opts: AnimateOpt,\n        relative: boolean,\n        followMotion: boolean,\n    ) {\n        super(name, opts, relative);\n        this.keys = keys;\n        // If spline interpolation is used, bake splines\n        if (this.interpolation === \"spline\") {\n            this.curves = [];\n            // If following motion, bake derivatives as well\n            if (followMotion) {\n                this.dcurves = [];\n            }\n            for (let i = 0; i < this.keys.length - 1; i++) {\n                const prevKey = this.keys[i];\n                const nextIndex = i + 1;\n                const nextKey = this.keys[nextIndex];\n                const prevPrevKey = i > 0\n                    ? this.keys[i - 1]\n                    : reflect(nextKey, prevKey);\n                const nextNextKey = nextIndex < this.keys.length - 1\n                    ? this.keys[nextIndex + 1]\n                    : reflect(prevKey, nextKey);\n                this.curves.push(\n                    catmullRom(prevPrevKey, prevKey, nextKey, nextNextKey),\n                );\n                if (followMotion) {\n                    this.dcurves?.push(\n                        catmullRom(\n                            prevPrevKey,\n                            prevKey,\n                            nextKey,\n                            nextNextKey,\n                            hermiteFirstDerivative,\n                        ),\n                    );\n                }\n            }\n        }\n    }\n\n    update(obj: GameObj<any>, t: number): boolean {\n        const [index, alpha, isFinished] = this.getLowerKeyIndexAndRelativeTime(\n            t,\n            this.keys.length,\n            this.timing,\n        );\n        // Return exact value in case of exact hit or no interpolation, otherwise interpolate\n        if (alpha == 0 || this.interpolation === \"none\") {\n            this.setValue(obj, this.name, this.keys[index]);\n        }\n        else {\n            const easing = this.easings ? this.easings[index] : this.easing;\n            // Use linear or spline interpolation\n            switch (this.interpolation) {\n                case \"linear\":\n                    this.setValue(\n                        obj,\n                        this.name,\n                        this.keys[index].lerp(\n                            this.keys[index + 1],\n                            easing(alpha),\n                        ),\n                    );\n                    break;\n                case \"slerp\":\n                    this.setValue(\n                        obj,\n                        this.name,\n                        this.keys[index].slerp(\n                            this.keys[index + 1],\n                            easing(alpha),\n                        ),\n                    );\n                    break;\n                case \"spline\":\n                    if (this.curves) {\n                        this.setValue(\n                            obj,\n                            this.name,\n                            this.curves[index](easing(alpha)),\n                        );\n                        if (this.dcurves) {\n                            this.setValue(\n                                obj,\n                                \"angle\",\n                                this.dcurves[index](easing(alpha)).angle(),\n                            );\n                        }\n                        break;\n                    }\n            }\n        }\n        return isFinished;\n    }\n\n    serialize() {\n        return Object.assign(super.serialize(), {\n            keys: this.keys.map(v => [v.x, v.y]),\n        });\n    }\n}\n\n/**\n * Subclass handling color keys\n */\nclass AnimateChannelColor extends AnimateChannel {\n    keys: Color[];\n    constructor(\n        name: string,\n        keys: Color[],\n        opts: AnimateOpt,\n        relative: boolean,\n    ) {\n        super(name, opts, relative);\n        this.keys = keys;\n    }\n\n    update(obj: GameObj<any>, t: number): boolean {\n        const [index, alpha, isFinished] = this.getLowerKeyIndexAndRelativeTime(\n            t,\n            this.keys.length,\n            this.timing,\n        );\n        // Return exact value in case of exact hit or no interpolation, otherwise interpolate\n        if (alpha == 0 || this.interpolation == \"none\") {\n            this.setValue(obj, this.name, this.keys[index]);\n        }\n        else {\n            const easing = this.easings ? this.easings[index] : this.easing;\n            this.setValue(\n                obj,\n                this.name,\n                this.keys[index].lerp(\n                    this.keys[index + 1],\n                    easing(alpha),\n                ),\n            );\n        }\n        return isFinished;\n    }\n\n    serialize() {\n        return Object.assign(super.serialize(), { keys: this.keys });\n    }\n}\n\ntype AnimationChannelKeys = number[] | number[][];\n\ntype AnimationOptions = {\n    duration: number;\n    loops?: number;\n    direction?: TimeDirection;\n    easing?: string;\n    interpolation?: Interpolation;\n    timing?: number[];\n    easings?: string[];\n};\n\ntype AnimationChannel = {\n    keys: AnimationChannelKeys;\n} & AnimationOptions;\n\ntype Animation = {\n    name: string;\n    followMotion?: boolean;\n    relative?: boolean;\n    channels?: Record<string, AnimationChannel>;\n    children?: Animation[];\n};\n\nexport function animate(gopts: AnimateCompOpt = {}): AnimateComp {\n    const channels: AnimateChannel[] = [];\n    let t = 0;\n    let isFinished = false;\n    return {\n        id: \"animate\",\n        require: gopts.followMotion ? [\"rotate\"] : undefined,\n        base: {\n            pos: vec2(0, 0),\n            angle: 0,\n            scale: vec2(1, 1),\n            opacity: 1,\n        },\n        animation: {\n            paused: false,\n            seek(time: number) {\n                t = clamp(time, 0, this.duration);\n                channels.forEach(channel => {\n                    channel.isFinished = false;\n                });\n                isFinished = false;\n            },\n            get duration() {\n                return channels.reduce(\n                    (acc, channel) => Math.max(channel.duration, acc),\n                    0,\n                );\n            },\n        },\n        add(this: GameObj<AnimateComp>) {\n            if (gopts.relative) {\n                if (this.has(\"pos\")) {\n                    this.base.pos = (this as any).pos.clone();\n                }\n                if (this.has(\"rotate\")) {\n                    this.base.angle = (this as any).angle;\n                }\n                if (this.has(\"scale\")) {\n                    this.base.scale = (this as any).scale;\n                }\n                if (this.has(\"opacity\")) {\n                    this.base.opacity = (this as any).opacity;\n                }\n            }\n        },\n        update() {\n            if (this.animation.paused) return;\n            let allFinished: boolean = true;\n            let localFinished: boolean;\n            t += dt();\n            for (const c of channels) {\n                localFinished = c.update(this as unknown as GameObj<any>, t);\n                if (localFinished && !c.isFinished) {\n                    c.isFinished = true;\n                    (this as unknown as GameObj<any>).trigger(\n                        \"animateChannelFinished\",\n                        c.name,\n                    );\n                }\n                allFinished &&= localFinished;\n            }\n            if (allFinished && !isFinished) {\n                isFinished = true;\n                (this as unknown as GameObj<any>).trigger(\"animateFinished\");\n            }\n        },\n        animate<T extends LerpValue>(\n            name: string,\n            keys: T[],\n            opts: AnimateOpt,\n        ) {\n            isFinished = false;\n            this.unanimate(name);\n            if (typeof keys[0] === \"number\") {\n                channels.push(\n                    new AnimateChannelNumber(\n                        name,\n                        keys as number[],\n                        opts,\n                        gopts.relative || false,\n                    ),\n                );\n            }\n            else if (keys[0] instanceof Vec2) {\n                channels.push(\n                    new AnimateChannelVec2(\n                        name,\n                        keys as Vec2[],\n                        opts,\n                        gopts.relative || false,\n                        name === \"pos\" && (gopts.followMotion || false),\n                    ),\n                );\n            }\n            else if (keys[0] instanceof Color) {\n                channels.push(\n                    new AnimateChannelColor(\n                        name,\n                        keys as Color[],\n                        opts,\n                        gopts.relative || false,\n                    ),\n                );\n            }\n        },\n        unanimate(name: string) {\n            const index = channels.findIndex(c => c.name === name);\n            if (index >= 0) {\n                channels.splice(index, 1);\n            }\n        },\n        unanimateAll() {\n            channels.splice(0, channels.length);\n        },\n        onAnimateFinished(cb: () => void) {\n            return (this as unknown as GameObj<any>).on(\"animateFinished\", cb);\n        },\n        onAnimateChannelFinished(cb: (name: string) => void) {\n            return (this as unknown as GameObj<any>).on(\n                \"animateChannelFinished\",\n                cb,\n            );\n        },\n        serializeAnimationChannels() {\n            return channels.reduce((o: Record<string, AnimationChannel>, c) => {\n                o[c.name] = c.serialize();\n                return o;\n            }, {});\n        },\n        serializeAnimationOptions() {\n            const options: any = {};\n            if (gopts.followMotion) {\n                options.followMotion = true;\n            }\n            if (gopts.relative) {\n                options.relative = true;\n            }\n            return options;\n        },\n    };\n}\n\n/**\n * Serializes an animation to javascript objects for serialization to JSON.\n * @param obj The root object to serialize from.\n * @param name Optional name of the root object.\n * @returns A javascript object serialization of the animation.\n */\nexport function serializeAnimation(obj: GameObj<any>, name: string): any {\n    let serialization: Animation = { name: obj.name };\n    if (obj.has(\"animate\")) {\n        serialization.channels = (obj as GameObj<AnimateComp>)\n            .serializeAnimationChannels();\n        Object.assign(\n            serialization,\n            (obj as GameObj<NamedComp | AnimateComp>)\n                .serializeAnimationOptions(),\n        );\n    }\n    if (obj.children.length > 0) {\n        serialization.children = obj.children.filter(o => o.has(\"named\")).map(\n            o => serializeAnimation(o, o.name),\n        );\n    }\n    return serialization;\n}\n\nfunction deserializeKeys(keys: AnimationChannelKeys) {\n    if (typeof keys[0] == \"number\") {\n        return keys;\n    }\n    else if (Array.isArray(keys[0])) {\n        if (keys[0].length == 2) {\n            return (keys as number[][]).map(k => new Vec2(k[0], k[1]));\n        }\n        else if (keys[0].length == 3) {\n            return (keys as number[][]).map(k => new Color(k[0], k[1], k[2]));\n        }\n    }\n}\n\nfunction deserializeOptions(options: AnimationOptions) {\n    if (options.easing) {\n        options.easing = (easings as any)[options.easing];\n    }\n    if (options.easings) {\n        options.easings = options.easings.map(e => (easings as any)[e]);\n    }\n    return options;\n}\n\n/**\n * Applies the animation to this object and its named children\n * @param obj The root object to deserialize to.\n * @param animation A javascript object serialization of the animation.\n */\nexport function applyAnimation(obj: GameObj<any>, animation: Animation) {\n    // TODO: test this\n    obj.use(animate({\n        followMotion: animation.followMotion,\n        relative: animation.relative,\n    }));\n    if (animation.channels) {\n        for (const name in animation.channels) {\n            const channel = animation.channels[name];\n            obj.animate(\n                name,\n                deserializeKeys(channel.keys),\n                deserializeOptions(channel),\n            );\n        }\n    }\n    if (animation.children) {\n        for (const childAnimation of animation.children) {\n            const q = obj.query({ name: childAnimation.name });\n            if (q.length != 0) {\n                applyAnimation(q[0], childAnimation);\n            }\n        }\n    }\n}\n","import { dt } from \"../../app\";\nimport { vec2 } from \"../../math\";\nimport type { Comp, GameObj } from \"../../types\";\nimport type { ScaleComp } from \"../transform/scale\";\n\nexport function boom(speed: number = 2, size: number = 1): Comp {\n    let time = 0;\n    return {\n        require: [\"scale\"],\n        update(this: GameObj<ScaleComp>) {\n            const s = Math.sin(time * speed) * size;\n            if (s < 0) {\n                this.destroy();\n            }\n            this.scale = vec2(s);\n            time += dt();\n        },\n    };\n}\n","import type { Comp, GameObj } from \"../../types\";\nimport type { KEventController } from \"../../utils/\";\n\n/**\n * The {@link health `health()`} component.\n *\n * @group Component Types\n */\nexport interface HealthComp extends Comp {\n    /**\n     * Decrease HP by n (defaults to 1).\n     */\n    hurt(n?: number): void;\n    /**\n     * Increase HP by n (defaults to 1).\n     */\n    heal(n?: number): void;\n    /**\n     * Current health points.\n     */\n    hp(): number;\n    /**\n     * Set current health points.\n     */\n    setHP(hp: number): void;\n    /**\n     * Max amount of HP.\n     */\n    maxHP(): number | null;\n    /**\n     * Set max amount of HP.\n     */\n    setMaxHP(hp: number): void;\n    /**\n     * Register an event that runs when hurt() is called upon the object.\n     *\n     * @since v2000.1\n     */\n    onHurt(action: (amount?: number) => void): KEventController;\n    /**\n     * Register an event that runs when heal() is called upon the object.\n     *\n     * @since v2000.1\n     */\n    onHeal(action: (amount?: number) => void): KEventController;\n    /**\n     * Register an event that runs when object's HP is equal or below 0.\n     *\n     * @since v2000.1\n     */\n    onDeath(action: () => void): KEventController;\n}\n\nexport function health(\n    hp: number,\n    maxHP?: number,\n): HealthComp {\n    if (hp == null) {\n        throw new Error(\"health() requires the initial amount of hp\");\n    }\n\n    return {\n        id: \"health\",\n        hurt(this: GameObj, n: number = 1) {\n            this.setHP(hp - n);\n            this.trigger(\"hurt\", n);\n        },\n        heal(this: GameObj, n: number = 1) {\n            const origHP = hp;\n            this.setHP(hp + n);\n            this.trigger(\"heal\", hp - origHP);\n        },\n        hp(): number {\n            return hp;\n        },\n        maxHP(): number | null {\n            return maxHP ?? null;\n        },\n        setMaxHP(n: number): void {\n            maxHP = n;\n        },\n        setHP(this: GameObj, n: number) {\n            hp = maxHP ? Math.min(maxHP, n) : n;\n            if (hp <= 0) {\n                this.trigger(\"death\");\n            }\n        },\n        onHurt(\n            this: GameObj,\n            action: (amount?: number) => void,\n        ): KEventController {\n            return this.on(\"hurt\", action);\n        },\n        onHeal(\n            this: GameObj,\n            action: (amount?: number) => void,\n        ): KEventController {\n            return this.on(\"heal\", action);\n        },\n        onDeath(this: GameObj, action: () => void): KEventController {\n            return this.on(\"death\", action);\n        },\n        inspect() {\n            return `health: ${hp}`;\n        },\n    };\n}\n","import { _k } from \"../../kaplay\";\nimport easings from \"../../math/easings\";\nimport type { EmptyComp, GameObj } from \"../../types\";\nimport type { OpacityComp } from \"../draw/opacity\";\n\n/**\n * The {@link lifespan `lifespan()`} component.\n *\n * @group Component Types\n */\nexport interface LifespanCompOpt {\n    /**\n     * Fade out duration (default 0 which is no fade out).\n     */\n    fade?: number;\n}\n\nexport function lifespan(time: number, opt: LifespanCompOpt = {}): EmptyComp {\n    if (time == null) {\n        throw new Error(\"lifespan() requires time\");\n    }\n    const fade = opt.fade ?? 0;\n    return {\n        id: \"lifespan\",\n        require: [\"opacity\"],\n        add(this: GameObj<OpacityComp>) {\n            _k.game.root.wait(time, () => {\n                this.opacity = this.opacity ?? 1;\n\n                if (fade > 0) {\n                    _k.game.root.tween(\n                        this.opacity,\n                        0,\n                        fade,\n                        (a) => this.opacity = a,\n                        easings.linear,\n                    ).onEnd(() => {\n                        this.destroy();\n                    });\n                }\n                else {\n                    this.destroy();\n                }\n            });\n        },\n    };\n}\n","import type { Comp } from \"../../types\";\n\n/**\n * The {@link named `named()`} component.\n *\n * @group Component Types\n */\nexport interface NamedComp extends Comp {\n    /** The name assigned to this object. */\n    name: string;\n}\n\nexport function named(name: string): NamedComp {\n    return {\n        id: \"named\",\n        name,\n    };\n}\n","import type { Comp } from \"../../types\";\nimport { KEvent, KEventController } from \"../../utils/\";\n\n/**\n * The {@link state `state()`} component.\n *\n * @group Component Types\n */\nexport interface StateComp extends Comp {\n    /**\n     * Current state.\n     */\n    state: string;\n    /**\n     * Enter a state, trigger onStateEnd for previous state and onStateEnter for the new State state.\n     */\n    enterState: (state: string, ...args: any) => void;\n    /**\n     * Register event that runs once when a specific state transition happens. Accepts arguments passed from `enterState(name, ...args)`.\n     *\n     * @since v2000.2\n     */\n    onStateTransition(\n        from: string,\n        to: string,\n        action: () => void,\n    ): KEventController;\n    /**\n     * Register event that runs once when enters a specific state. Accepts arguments passed from `enterState(name, ...args)`.\n     */\n    onStateEnter: (\n        state: string,\n        action: (...args: any) => void,\n    ) => KEventController;\n    /**\n     * Register an event that runs once when leaves a specific state.\n     */\n    onStateEnd: (state: string, action: () => void) => KEventController;\n    /**\n     * Register an event that runs every frame when in a specific state.\n     */\n    onStateUpdate: (state: string, action: () => void) => KEventController;\n    /**\n     * Register an event that runs every frame when in a specific state.\n     */\n    onStateDraw: (state: string, action: () => void) => KEventController;\n}\n\nexport function state(\n    initState: string,\n    stateList?: string[],\n    transitions?: Record<string, string | string[]>,\n): StateComp {\n    if (!initState) {\n        throw new Error(\"state() requires an initial state\");\n    }\n\n    const events: { [k: string]: any } = {};\n\n    function initStateEvents(state: string) {\n        if (!events[state]) {\n            events[state] = {\n                enter: new KEvent(),\n                end: new KEvent(),\n                update: new KEvent(),\n                draw: new KEvent(),\n            };\n        }\n    }\n\n    function on(event: string, state: string, action: () => void) {\n        initStateEvents(state);\n        return events[state][event].add(action);\n    }\n\n    function trigger(event: string, state: string, ...args: any[]) {\n        initStateEvents(state);\n        events[state][event].trigger(...args);\n    }\n\n    let didFirstEnter = false;\n\n    return {\n        id: \"state\",\n        state: initState,\n\n        enterState(state: string, ...args) {\n            didFirstEnter = true;\n\n            if (stateList && !stateList.includes(state)) {\n                throw new Error(`State not found: ${state}`);\n            }\n\n            const oldState = this.state;\n\n            if (transitions) {\n                // check if the transition is legal, if transition graph is defined\n                if (!transitions?.[oldState]) {\n                    return;\n                }\n\n                const available = typeof transitions[oldState] === \"string\"\n                    ? [transitions[oldState]]\n                    : transitions[oldState] as string[];\n\n                if (!available.includes(state)) {\n                    throw new Error(\n                        `Cannot transition state from \"${oldState}\" to \"${state}\". Available transitions: ${\n                            available.map((s) => `\"${s}\"`).join(\", \")\n                        }`,\n                    );\n                }\n            }\n\n            trigger(\"end\", oldState, ...args);\n            this.state = state;\n            trigger(\"enter\", state, ...args);\n            trigger(\"enter\", `${oldState} -> ${state}`, ...args);\n        },\n\n        onStateTransition(\n            from: string,\n            to: string,\n            action: () => void,\n        ): KEventController {\n            return on(\"enter\", `${from} -> ${to}`, action);\n        },\n\n        onStateEnter(state: string, action: () => void): KEventController {\n            return on(\"enter\", state, action);\n        },\n\n        onStateUpdate(state: string, action: () => void): KEventController {\n            return on(\"update\", state, action);\n        },\n\n        onStateDraw(state: string, action: () => void): KEventController {\n            return on(\"draw\", state, action);\n        },\n\n        onStateEnd(state: string, action: () => void): KEventController {\n            return on(\"end\", state, action);\n        },\n\n        update() {\n            // execute the enter event for initState\n            if (!didFirstEnter) {\n                trigger(\"enter\", initState);\n                didFirstEnter = true;\n            }\n            trigger(\"update\", this.state);\n        },\n\n        draw() {\n            trigger(\"draw\", this.state);\n        },\n\n        inspect() {\n            return `state: ${this.state}`;\n        },\n    };\n}\n","import type { Comp } from \"../../types\";\n\n/**\n * The {@link stay `stay()`} component.\n *\n * @group Component Types\n */\nexport interface StayComp extends Comp {\n    /**\n     * If the obj should not be destroyed on scene switch.\n     */\n    stay: boolean;\n    /**\n     * Array of scenes that the obj will stay on.\n     */\n    scenesToStay?: string[];\n}\n\nexport function stay(scenesToStay?: string[]): StayComp {\n    return {\n        id: \"stay\",\n        stay: true,\n        scenesToStay,\n    };\n}\n","import { _k } from \"../../kaplay\";\nimport type { Comp, GameObj, KAPLAYCtx } from \"../../types\";\nimport type { KEventController } from \"../../utils\";\nimport type { TextComp } from \"../draw/text\";\n\n/**\n * The {@link textInput `textInput()`} component.\n *\n * @group Component Types\n */\nexport interface TextInputComp extends Comp {\n    /**\n     * Enable the text input array from being modified by user input.\n     */\n    hasFocus: boolean;\n    /**\n     * The \"real\" text that the user typed, without any escaping.\n     */\n    typedText: string;\n}\n\nexport function textInput(\n    this: KAPLAYCtx,\n    hasFocus: boolean = true,\n    maxInputLength?: number,\n): TextInputComp {\n    let charEv: KEventController;\n    let backEv: KEventController;\n    return {\n        id: \"textInput\",\n        hasFocus: hasFocus,\n        require: [\"text\"],\n        typedText: \"\",\n        add(this: GameObj<TextComp & TextInputComp>) {\n            const flip = () => {\n                this.text = this.typedText.replace(/([\\[\\\\])/g, \"\\\\$1\");\n            };\n\n            charEv = _k.k.onCharInput((character) => {\n                if (\n                    this.hasFocus\n                    && (!maxInputLength\n                        || this.typedText.length < maxInputLength)\n                ) {\n                    if (_k.k.isKeyDown(\"shift\")) {\n                        this.typedText += character.toUpperCase();\n                    }\n                    else {\n                        this.typedText += character;\n                    }\n                    flip();\n                }\n            });\n\n            backEv = _k.k.onKeyPressRepeat(\"backspace\", () => {\n                if (this.hasFocus) {\n                    this.typedText = this.typedText.slice(0, -1);\n                }\n                flip();\n            });\n        },\n        destroy() {\n            charEv.cancel();\n            backEv.cancel();\n        },\n    };\n}\n","import { _k } from \"../../kaplay\";\nimport easings from \"../../math/easings\";\nimport { lerp } from \"../../math/math\";\nimport type {\n    Comp,\n    GameObj,\n    LerpValue,\n    TimerController,\n    TweenController,\n} from \"../../types\";\nimport { KEvent } from \"../../utils\";\n\n/**\n * The {@link timer `timer()`} component.\n *\n * @group Component Types\n */\nexport interface TimerComp extends Comp {\n    /**\n     * The maximum number of loops per frame allowed,\n     * to keep loops with sub-frame intervals from freezing the game.\n     */\n    maxLoopsPerFrame: number;\n    /**\n     * Run the callback after n seconds.\n     */\n    wait(time: number, action?: () => void): TimerController;\n    /**\n     * Run the callback every n seconds.\n     *\n     * If waitFirst is false (the default), the function will\n     * be called once on the very next frame, and then loop like normal.\n     *\n     * @since v3000.0\n     */\n    loop(\n        time: number,\n        action: () => void,\n        maxLoops?: number,\n        waitFirst?: boolean,\n    ): TimerController;\n    /**\n     * Tweeeeen! Note that this doesn't specifically mean tweening on this object's property, this just registers the timer on this object, so the tween will cancel with the object gets destroyed, or paused when obj.paused is true.\n     *\n     * @since v3000.0\n     */\n    tween<V extends LerpValue>(\n        from: V,\n        to: V,\n        duration: number,\n        setValue: (value: V) => void,\n        easeFunc?: (t: number) => number,\n    ): TweenController;\n}\n\nexport function timer(maxLoopsPerFrame: number = 1000): TimerComp {\n    return {\n        id: \"timer\",\n        maxLoopsPerFrame,\n        loop(\n            this: GameObj<TimerComp>,\n            time: number,\n            action: () => void,\n            count: number = -1,\n            waitFirst: boolean = false,\n        ): TimerController {\n            let t: number = waitFirst ? 0 : time;\n            let onEndEvents = new KEvent();\n            const ev = this.onUpdate(() => {\n                t += _k.app.state.dt;\n                for (let i = 0; t >= time && i < this.maxLoopsPerFrame; i++) {\n                    if (count != -1) {\n                        count--;\n                        if (count < 0) {\n                            ev.cancel();\n                            onEndEvents.trigger();\n                            return;\n                        }\n                    }\n                    action();\n                    t -= time;\n                }\n            });\n            return {\n                get paused() {\n                    return ev.paused;\n                },\n                set paused(p) {\n                    ev.paused = p;\n                },\n                cancel: ev.cancel,\n                onEnd: onEndEvents.add,\n                then(f) {\n                    onEndEvents.add(f);\n                    return this;\n                },\n            };\n        },\n        wait(\n            this: GameObj<TimerComp>,\n            time: number,\n            action?: () => void,\n        ): TimerController {\n            return this.loop(time, action ?? (() => {}), 1, true);\n        },\n        tween<V extends LerpValue>(\n            this: GameObj<TimerComp>,\n            from: V,\n            to: V,\n            duration: number,\n            setValue: (value: V) => void,\n            easeFunc = easings.linear,\n        ) {\n            let curTime = 0;\n            const onEndEvents: Array<() => void> = [];\n            const ev = this.onUpdate(() => {\n                curTime += _k.app.state.dt;\n                const t = Math.min(curTime / duration, 1);\n                setValue(lerp(from, to, easeFunc(t)));\n                if (t === 1) {\n                    ev.cancel();\n                    setValue(to);\n                    onEndEvents.forEach((action) => action());\n                }\n            });\n            return {\n                get paused() {\n                    return ev.paused;\n                },\n                set paused(p) {\n                    ev.paused = p;\n                },\n                onEnd(action: () => void) {\n                    onEndEvents.push(action);\n                },\n                then(action: () => void) {\n                    this.onEnd(action);\n                    return this;\n                },\n                cancel() {\n                    ev.cancel();\n                },\n                finish() {\n                    ev.cancel();\n                    setValue(to);\n                    onEndEvents.forEach((action) => action());\n                },\n            };\n        },\n    };\n}\n","import { DEF_ANCHOR } from \"../../constants\";\nimport { isFixed } from \"../../game/utils\";\nimport {\n    anchorPt,\n    drawCircle,\n    drawPolygon,\n    drawRect,\n    getViewportScale,\n    popTransform,\n    pushTransform,\n    pushTranslate,\n} from \"../../gfx\";\nimport { _k } from \"../../kaplay\";\nimport { rgb } from \"../../math/color\";\nimport {\n    Circle,\n    Polygon,\n    Rect,\n    testPolygonPoint,\n    Vec2,\n    vec2,\n} from \"../../math/math\";\nimport type {\n    Collision,\n    Comp,\n    Cursor,\n    GameObj,\n    MouseButton,\n    Shape,\n    Tag,\n} from \"../../types\";\nimport type { KEventController } from \"../../utils/\";\nimport type { AnchorComp } from \"../transform/anchor\";\nimport type { FixedComp } from \"../transform/fixed\";\nimport type { PosComp } from \"../transform/pos\";\n\nlet areaCount = 0;\n\nexport function usesArea() {\n    return areaCount > 0;\n}\n\n/**\n * The {@link area `area()`} component.\n *\n * @group Component Types\n */\nexport interface AreaComp extends Comp {\n    /**\n     * Collider area info.\n     */\n    area: {\n        /**\n         * If we use a custom shape over render shape.\n         */\n        shape: Shape | null;\n        /**\n         * Area scale.\n         */\n        scale: Vec2;\n        /**\n         * Area offset.\n         */\n        offset: Vec2;\n        /**\n         * Cursor on hover.\n         */\n        cursor: Cursor | null;\n    };\n    /**\n     * If this object should ignore collisions against certain other objects.\n     *\n     * @since v3000.0\n     */\n    collisionIgnore: Tag[];\n    /**\n     * If was just clicked on last frame.\n     */\n    isClicked(): boolean;\n    /**\n     * If is being hovered on.\n     */\n    isHovering(): boolean;\n    /**\n     * Check collision with another game obj.\n     *\n     * @since v3000.0\n     */\n    checkCollision(other: GameObj<AreaComp>): Collision | null;\n    /**\n     * Get all collisions currently happening.\n     *\n     * @since v3000.0\n     */\n    getCollisions(): Collision[];\n    /**\n     * If is currently colliding with another game obj.\n     */\n    isColliding(o: GameObj<AreaComp>): boolean;\n    /**\n     * If is currently overlapping with another game obj (like isColliding, but will return false if the objects are just touching edges).\n     */\n    isOverlapping(o: GameObj<AreaComp>): boolean;\n    /**\n     * Register an event runs when clicked.\n     *\n     * @since v2000.1\n     */\n    onClick(f: () => void, btn?: MouseButton): void;\n    /**\n     * Register an event runs once when hovered.\n     *\n     * @since v3000.0\n     */\n    onHover(action: () => void): KEventController;\n    /**\n     * Register an event runs every frame when hovered.\n     *\n     * @since v3000.0\n     */\n    onHoverUpdate(action: () => void): KEventController;\n    /**\n     * Register an event runs once when unhovered.\n     *\n     * @since v3000.0\n     */\n    onHoverEnd(action: () => void): KEventController;\n    /**\n     * Register an event runs once when collide with another game obj with certain tag.\n     *\n     * @since v2001.0\n     */\n    onCollide(tag: Tag, f: (obj: GameObj, col?: Collision) => void): void;\n    /**\n     * Register an event runs once when collide with another game obj.\n     *\n     * @since v2000.1\n     */\n    onCollide(f: (obj: GameObj, col?: Collision) => void): void;\n    /**\n     * Register an event runs every frame when collide with another game obj with certain tag.\n     *\n     * @since v3000.0\n     */\n    onCollideUpdate(\n        tag: Tag,\n        f: (obj: GameObj, col?: Collision) => void,\n    ): KEventController;\n    /**\n     * Register an event runs every frame when collide with another game obj.\n     *\n     * @since v3000.0\n     */\n    onCollideUpdate(\n        f: (obj: GameObj, col?: Collision) => void,\n    ): KEventController;\n    /**\n     * Register an event runs once when stopped colliding with another game obj with certain tag.\n     *\n     * @since v3000.0\n     */\n    onCollideEnd(tag: Tag, f: (obj: GameObj) => void): KEventController;\n    /**\n     * Register an event runs once when stopped colliding with another game obj.\n     *\n     * @since v3000.0\n     */\n    onCollideEnd(f: (obj: GameObj) => void): void;\n    /**\n     * If has a certain point inside collider.\n     */\n    hasPoint(p: Vec2): boolean;\n    /**\n     * Push out from another solid game obj if currently overlapping.\n     */\n    resolveCollision(obj: GameObj): void;\n    /**\n     * Get the geometry data for the collider in local coordinate space.\n     *\n     * @since v3000.0\n     */\n    localArea(): Shape;\n    /**\n     * Get the geometry data for the collider in world coordinate space.\n     */\n    worldArea(): Polygon;\n    /**\n     * Get the geometry data for the collider in screen coordinate space.\n     */\n    screenArea(): Polygon;\n}\n\n/**\n * Options for the {@link area `area()`} component.\n *\n * @group Component Types\n */\nexport interface AreaCompOpt {\n    /**\n     * The shape of the area (currently only Rect and Polygon is supported).\n     *\n     * @example\n     * ```js\n     * add([\n     *     sprite(\"butterfly\"),\n     *     pos(100, 200),\n     *     // a triangle shape!\n     *     area({ shape: new Polygon([vec2(0), vec2(100), vec2(-100, 100)]) }),\n     * ])\n     * ```\n     */\n    shape?: Shape;\n    /**\n     * Area scale.\n     */\n    scale?: number | Vec2;\n    /**\n     * Area offset.\n     */\n    offset?: Vec2;\n    /**\n     * Cursor on hover.\n     */\n    cursor?: Cursor;\n    /**\n     * If this object should ignore collisions against certain other objects.\n     *\n     * @since v3000.0\n     */\n    collisionIgnore?: Tag[];\n}\n\nexport function area(opt: AreaCompOpt = {}): AreaComp {\n    const colliding: Record<string, Collision> = {};\n    const collidingThisFrame = new Set();\n    const events: KEventController[] = [];\n\n    return {\n        id: \"area\",\n        collisionIgnore: opt.collisionIgnore ?? [],\n\n        add(this: GameObj<AreaComp>) {\n            areaCount++;\n            if (this.area.cursor) {\n                events.push(\n                    this.onHover(() => _k.app.setCursor(this.area.cursor!)),\n                );\n            }\n\n            events.push(this.onCollideUpdate((obj, col) => {\n                if (!obj.id) {\n                    throw new Error(\"area() requires the object to have an id\");\n                }\n                if (!colliding[obj.id]) {\n                    this.trigger(\"collide\", obj, col);\n                }\n                if (!col) {\n                    return;\n                }\n\n                colliding[obj.id] = col;\n                collidingThisFrame.add(obj.id);\n            }));\n        },\n\n        destroy() {\n            areaCount--;\n            for (const event of events) {\n                event.cancel();\n            }\n        },\n\n        fixedUpdate(this: GameObj<AreaComp>) {\n            for (const id in colliding) {\n                if (!collidingThisFrame.has(Number(id))) {\n                    this.trigger(\"collideEnd\", colliding[id].target);\n                    delete colliding[id];\n                }\n            }\n            collidingThisFrame.clear();\n        },\n\n        drawInspect(this: GameObj<AreaComp | AnchorComp | FixedComp>) {\n            const a = this.localArea();\n\n            pushTransform();\n            pushTranslate(this.area.offset);\n\n            const opts = {\n                outline: {\n                    width: 4 / getViewportScale(),\n                    color: rgb(0, 0, 255),\n                },\n                anchor: this.anchor,\n                fill: false,\n                fixed: isFixed(this),\n            };\n\n            if (a instanceof Rect) {\n                drawRect({\n                    ...opts,\n                    pos: a.pos,\n                    width: a.width * this.area.scale.x,\n                    height: a.height * this.area.scale.y,\n                });\n            }\n            else if (a instanceof Polygon) {\n                drawPolygon({\n                    ...opts,\n                    pts: a.pts,\n                    scale: this.area.scale,\n                });\n            }\n            else if (a instanceof Circle) {\n                drawCircle({\n                    ...opts,\n                    pos: a.center,\n                    radius: a.radius,\n                });\n            }\n\n            popTransform();\n        },\n\n        area: {\n            shape: opt.shape ?? null,\n            scale: opt.scale ? vec2(opt.scale) : vec2(1),\n            offset: opt.offset ?? vec2(0),\n            cursor: opt.cursor ?? null,\n        },\n\n        isClicked(): boolean {\n            return _k.app.isMousePressed() && this.isHovering();\n        },\n\n        isHovering(this: GameObj) {\n            const mpos = isFixed(this)\n                ? _k.k.mousePos()\n                : _k.k.toWorld(_k.k.mousePos());\n            return this.hasPoint(mpos);\n        },\n\n        checkCollision(this: GameObj, other: GameObj<AreaComp>) {\n            if (!other.id) {\n                throw new Error(\n                    \"checkCollision() requires the object to have an id\",\n                );\n            }\n            return colliding[other.id] ?? null;\n        },\n\n        getCollisions() {\n            return Object.values(colliding);\n        },\n\n        // TODO: perform check instead of use cache\n        isColliding(other: GameObj<AreaComp>) {\n            if (!other.id) {\n                throw new Error(\n                    \"isColliding() requires the object to have an id\",\n                );\n            }\n            return Boolean(colliding[other.id]);\n        },\n\n        isOverlapping(other) {\n            if (!other.id) {\n                throw new Error(\n                    \"isOverlapping() requires the object to have an id\",\n                );\n            }\n            const col = colliding[other.id];\n            return col && col.hasOverlap();\n        },\n\n        onClick(\n            this: GameObj<AreaComp>,\n            f: () => void,\n            btn: MouseButton = \"left\",\n        ): KEventController {\n            const e = _k.app.onMousePress(btn, () => {\n                if (this.isHovering()) {\n                    f();\n                }\n            });\n            events.push(e);\n\n            return e;\n        },\n\n        onHover(this: GameObj, action: () => void): KEventController {\n            let hovering = false;\n            return this.onUpdate(() => {\n                if (!hovering) {\n                    if (this.isHovering()) {\n                        hovering = true;\n                        action();\n                    }\n                }\n                else {\n                    hovering = this.isHovering();\n                }\n            });\n        },\n\n        onHoverUpdate(this: GameObj, onHover: () => void): KEventController {\n            return this.onUpdate(() => {\n                if (this.isHovering()) {\n                    onHover();\n                }\n            });\n        },\n\n        onHoverEnd(this: GameObj, action: () => void): KEventController {\n            let hovering = false;\n            return this.onUpdate(() => {\n                if (hovering) {\n                    if (!this.isHovering()) {\n                        hovering = false;\n                        action();\n                    }\n                }\n                else {\n                    hovering = this.isHovering();\n                }\n            });\n        },\n\n        onCollide(\n            this: GameObj,\n            tag: Tag | ((obj: GameObj, col?: Collision) => void),\n            cb?: (obj: GameObj, col?: Collision) => void,\n        ): KEventController {\n            if (typeof tag === \"function\" && cb === undefined) {\n                return this.on(\"collide\", tag);\n            }\n            else if (typeof tag === \"string\") {\n                return this.onCollide((obj: GameObj, col: Collision) => {\n                    if (obj.is(tag)) {\n                        cb?.(obj, col);\n                    }\n                });\n            }\n            else {\n                throw new Error(\n                    \"onCollide() requires either a function or a tag\",\n                );\n            }\n        },\n\n        onCollideUpdate(\n            this: GameObj<AreaComp>,\n            tag: Tag | ((obj: GameObj, col?: Collision) => void),\n            cb?: (obj: GameObj, col?: Collision) => void,\n        ): KEventController {\n            if (typeof tag === \"function\" && cb === undefined) {\n                return this.on(\"collideUpdate\", tag);\n            }\n            else if (typeof tag === \"string\") {\n                return this.on(\n                    \"collideUpdate\",\n                    (obj, col) => obj.is(tag) && cb?.(obj, col),\n                );\n            }\n            else {\n                throw new Error(\n                    \"onCollideUpdate() requires either a function or a tag\",\n                );\n            }\n        },\n\n        onCollideEnd(\n            this: GameObj<AreaComp>,\n            tag: Tag | ((obj: GameObj) => void),\n            cb?: (obj: GameObj) => void,\n        ): KEventController {\n            if (typeof tag === \"function\" && cb === undefined) {\n                return this.on(\"collideEnd\", tag);\n            }\n            else if (typeof tag === \"string\") {\n                return this.on(\n                    \"collideEnd\",\n                    (obj) => obj.is(tag) && cb?.(obj),\n                );\n            }\n            else {\n                throw new Error(\n                    \"onCollideEnd() requires either a function or a tag\",\n                );\n            }\n        },\n\n        hasPoint(pt: Vec2): boolean {\n            // TODO: convert to pt to local space instead\n            return testPolygonPoint(this.worldArea(), pt);\n        },\n\n        // push an obj out of another if they're overlapped\n        resolveCollision(\n            this: GameObj<AreaComp | PosComp>,\n            obj: GameObj<AreaComp>,\n        ) {\n            const col = this.checkCollision(obj);\n            if (col && !col.resolved) {\n                this.pos = this.pos.add(col.displacement);\n                col.resolved = true;\n            }\n        },\n\n        localArea(\n            this: GameObj<AreaComp | { renderArea(): Shape }>,\n        ): Shape {\n            return this.area.shape\n                ? this.area.shape\n                : this.renderArea();\n        },\n\n        // TODO: cache\n        worldArea(this: GameObj<AreaComp | AnchorComp>): Polygon {\n            const localArea = this.localArea();\n\n            if (\n                !(localArea instanceof Polygon || localArea instanceof Rect)\n            ) {\n                throw new Error(\n                    \"Only support polygon and rect shapes for now\",\n                );\n            }\n\n            const transform = this.transform\n                .clone()\n                .translate(this.area.offset)\n                .scale(vec2(this.area.scale ?? 1));\n\n            if (localArea instanceof Rect) {\n                const offset = anchorPt(this.anchor || DEF_ANCHOR)\n                    .add(1, 1)\n                    .scale(-0.5)\n                    .scale(localArea.width, localArea.height);\n                transform.translate(offset);\n            }\n\n            return localArea.transform(transform) as Polygon;\n        },\n\n        screenArea(this: GameObj<AreaComp | FixedComp>): Polygon {\n            const area = this.worldArea();\n            if (isFixed(this)) {\n                return area;\n            }\n            else {\n                return area.transform(_k.game.cam.transform);\n            }\n        },\n\n        inspect() {\n            if (this.area.scale?.x == this.area.scale?.y) {\n                return `area: ${this.area.scale?.x?.toFixed(1)}x`;\n            }\n            else {\n                return `area: (${this.area.scale?.x?.toFixed(1)}x, ${\n                    this.area.scale.y?.toFixed(1)\n                }y)`;\n            }\n        },\n    };\n}\n","import { dt, fixedDt, restDt } from \"../../app\";\nimport { DEF_JUMP_FORCE, MAX_VEL } from \"../../constants\";\nimport { getGravityDirection } from \"../../game\";\nimport { _k } from \"../../kaplay\";\nimport { lerp, type Vec2, vec2 } from \"../../math/math\";\nimport { calcTransform } from \"../../math/various\";\nimport type { Collision, Comp, GameObj } from \"../../types\";\nimport type { KEventController } from \"../../utils/\";\nimport type { PosComp } from \"../transform/pos\";\nimport type { AreaComp } from \"./area\";\n\n/**\n * The {@link body `body()`} component.\n *\n * @group Component Types\n */\nexport interface BodyComp extends Comp {\n    /**\n     * Object current velocity.\n     *\n     * @since v3001.0\n     */\n    vel: Vec2;\n    /**\n     * How much velocity decays (velocity *= (1 - drag) every frame).\n     *\n     * @since v3001.0\n     */\n    drag: number;\n    /**\n     * If object is static, it won't move, all non static objects won't move past it, and all\n     * calls to addForce(), applyImpulse(), or jump() on this body will do absolutely nothing.\n     */\n    isStatic: boolean;\n    /**\n     * Initial speed in pixels per second for jump().\n     */\n    jumpForce: number;\n    /**\n     * Gravity multiplier.\n     */\n    gravityScale: number;\n    /**\n     * Mass of the body, decides how much a non-static body should move when resolves with another non-static body. (default 1).\n     *\n     * @since v3000.0\n     */\n    mass: number;\n    /**\n     * If object should move with moving platform (default true).\n     *\n     * @since v3000.0\n     */\n    stickToPlatform?: boolean;\n    /**\n     * Current platform landing on.\n     */\n    curPlatform(): GameObj | null;\n    /**\n     * If currently landing on a platform.\n     *\n     * @since v2000.1\n     */\n    isGrounded(): boolean;\n    /**\n     * If currently falling.\n     *\n     * @since v2000.1\n     */\n    isFalling(): boolean;\n    /**\n     * If currently rising.\n     *\n     * @since v3000.0\n     */\n    isJumping(): boolean;\n    /**\n     * Applies an impulse\n     * @param impulse The impulse vector, applied directly\n     */\n    applyImpulse(impulse: Vec2): void;\n    /**\n     * Applies a force\n     * @param force The force vector, applied after scaled by the inverse mass\n     */\n    addForce(force: Vec2): void;\n    /**\n     * Upward thrust.\n     */\n    jump(force?: number): void;\n    /**\n     * Register an event that runs when a collision is resolved.\n     *\n     * @since v3000.0\n     */\n    onPhysicsResolve(action: (col: Collision) => void): KEventController;\n    /**\n     * Register an event that runs before a collision would be resolved.\n     *\n     * @since v3000.0\n     */\n    onBeforePhysicsResolve(action: (col: Collision) => void): KEventController;\n    /**\n     * Register an event that runs when the object is grounded.\n     *\n     * @since v2000.1\n     */\n    onGround(action: () => void): KEventController;\n    /**\n     * Register an event that runs when the object starts falling.\n     *\n     * @since v2000.1\n     */\n    onFall(action: () => void): KEventController;\n    /**\n     * Register an event that runs when the object falls off platform.\n     *\n     * @since v3000.0\n     */\n    onFallOff(action: () => void): KEventController;\n    /**\n     * Register an event that runs when the object bumps into something on the head.\n     *\n     * @since v2000.1\n     */\n    onHeadbutt(action: () => void): KEventController;\n    /**\n     * Register an event that runs when an object lands on this object.\n     *\n     * @since v3001.0\n     */\n    onLand(action: (obj: GameObj) => void): KEventController;\n    /**\n     * Register an event that runs when the object is bumped by another object head.\n     */\n    onHeadbutted(action: (obj: GameObj) => void): KEventController;\n}\n\n/**\n * Options for the {@link body `body()`} component.\n *\n * @group Component Types\n */\nexport interface BodyCompOpt {\n    /**\n     * How much velocity decays (velocity *= (1 - drag) every frame).\n     *\n     * @since v3001.0\n     */\n    drag?: number;\n    /**\n     * Initial speed in pixels per second for jump().\n     */\n    jumpForce?: number;\n    /**\n     * Maximum velocity when falling.\n     */\n    maxVelocity?: number;\n    /**\n     * Gravity multiplier.\n     */\n    gravityScale?: number;\n    /**\n     * If object is static, it won't move, all non static objects won't move past it, and all\n     * calls to addForce(), applyImpulse(), or jump() on this body will do absolutely nothing.\n     *\n     * @since v3000.0\n     */\n    isStatic?: boolean;\n    /**\n     * If object should move with moving platform (default true).\n     *\n     * @since v3000.0\n     */\n    stickToPlatform?: boolean;\n    /**\n     * Mass of the body, decides how much a non-static body should move when resolves with another non-static body. (default 1).\n     *\n     * @since v3000.0\n     */\n    mass?: number;\n}\n\nexport function body(opt: BodyCompOpt = {}): BodyComp {\n    let curPlatform: GameObj<PosComp | AreaComp | BodyComp> | null = null;\n    let lastPlatformPos: null | Vec2 = null;\n    let willFall = false;\n    const acc = vec2(0);\n    let prevPhysicsPos: Vec2 | null = null;\n    let nextPhysicsPos: Vec2 | null = null;\n    let prevDrawPos: Vec2;\n\n    return {\n        id: \"body\",\n        require: [\"pos\"],\n        vel: vec2(0),\n        drag: opt.drag ?? 0,\n        jumpForce: opt.jumpForce ?? DEF_JUMP_FORCE,\n        gravityScale: opt.gravityScale ?? 1,\n        isStatic: opt.isStatic ?? false,\n        // TODO: prefer density * area\n        mass: opt.mass ?? 1,\n        add(this: GameObj<PosComp | BodyComp | AreaComp>) {\n            prevPhysicsPos = this.pos.clone();\n            nextPhysicsPos = this.pos.clone();\n            prevDrawPos = this.pos.clone();\n            if (this.mass === 0) {\n                throw new Error(\"Can't set body mass to 0\");\n            }\n\n            if (this.has(\"area\")) {\n                // static vs static: don't resolve\n                // static vs non-static: always resolve non-static\n                // non-static vs non-static: resolve the first one\n                this.onCollideUpdate(\n                    (other, col) => {\n                        if (!col) return;\n                        if (!other.has(\"body\")) return;\n                        if (col.resolved) return;\n\n                        this.trigger(\"beforePhysicsResolve\", col);\n                        const rcol = col.reverse();\n                        other.trigger(\"beforePhysicsResolve\", rcol);\n\n                        // user can mark 'resolved' in beforePhysicsResolve to stop a resolution\n                        if (col.resolved || rcol.resolved) {\n                            return;\n                        }\n\n                        if (this.isStatic && other.isStatic) {\n                            return;\n                        }\n                        else if (!this.isStatic && !other.isStatic) {\n                            // TODO: update all children transform?\n                            const tmass = this.mass + other.mass;\n                            this.pos = this.pos.add(\n                                col.displacement.scale(other.mass / tmass),\n                            );\n                            other.pos = other.pos.add(\n                                col.displacement.scale(-this.mass / tmass),\n                            );\n                            this.transform = calcTransform(this);\n                            other.transform = calcTransform(other);\n                        }\n                        else {\n                            // if one is static and on is not, resolve the non static one\n                            const col2 = (!this.isStatic && other.isStatic)\n                                ? col\n                                : col.reverse();\n                            col2.source.pos = col2.source.pos.add(\n                                col2.displacement,\n                            );\n                            col2.source.transform = calcTransform(\n                                col2.source,\n                            );\n                        }\n\n                        col.resolved = true;\n                        this.trigger(\"physicsResolve\", col);\n                        other.trigger(\"physicsResolve\", col.reverse());\n                    },\n                );\n\n                this.onPhysicsResolve((col) => {\n                    if (_k.game.gravity) {\n                        if (col.isBottom() && this.isFalling()) {\n                            // Clear the velocity in the direction of gravity, as we've hit something\n                            this.vel = this.vel.reject(\n                                _k.game.gravity.unit(),\n                            );\n                            // We need the past platform to check if we already were on a platform\n                            const pastPlatform = curPlatform;\n                            curPlatform = col.target as GameObj<\n                                PosComp | BodyComp | AreaComp\n                            >;\n                            if (pastPlatform != curPlatform) {\n                                // If we are on a new platform, update the sticky position\n                                lastPlatformPos = col.target.pos;\n                            }\n                            if (willFall) {\n                                // We would have fallen, but didn't.\n                                // This happens when we leave one platform block and move onto another\n                                willFall = false;\n                            }\n                            else if (!pastPlatform) {\n                                // We weren't on a platform, land\n                                this.trigger(\"ground\", curPlatform);\n                                col.target.trigger(\"land\", this);\n                            }\n                        }\n                        else if (col.isTop() && this.isJumping()) {\n                            this.vel = this.vel.reject(\n                                _k.game.gravity.unit(),\n                            );\n                            this.trigger(\"headbutt\", col.target);\n                            col.target.trigger(\"headbutted\", this);\n                        }\n                    }\n                });\n            }\n        },\n\n        update(this: GameObj<PosComp | BodyComp | AreaComp>) {\n            // Sticky platform\n            if (curPlatform) {\n                if (\n                    // We are still colliding with the platform and the platform exists\n                    this.isColliding(curPlatform)\n                    && curPlatform.exists()\n                    && curPlatform.has(\"body\")\n                ) {\n                    // This needs to happen in onUpdate. Otherwise the player position will jitter.\n                    if (\n                        lastPlatformPos\n                        && !curPlatform.pos.eq(lastPlatformPos)\n                        && opt.stickToPlatform !== false\n                    ) {\n                        // Stick to the platform\n                        this.moveBy(\n                            curPlatform.pos.sub(lastPlatformPos),\n                        );\n                    }\n                    lastPlatformPos = curPlatform.pos;\n                }\n            }\n\n            const dt = restDt();\n            if (dt) {\n                // Check if no external changes were made\n                if (this.pos.x == prevDrawPos.x) {\n                    // Interpolate physics steps\n                    this.pos.x = lerp(\n                        prevPhysicsPos!.x,\n                        nextPhysicsPos!.x,\n                        dt / fixedDt(),\n                    );\n                    // Copy to check for changes\n                    prevDrawPos.x = this.pos.x;\n                }\n                if (this.pos.y == prevDrawPos.y) {\n                    // Interpolate physics steps\n                    this.pos.y = lerp(\n                        prevPhysicsPos!.y,\n                        nextPhysicsPos!.y,\n                        dt / fixedDt(),\n                    );\n                    // Copy to check for changes\n                    prevDrawPos.y = this.pos.y;\n                }\n            }\n        },\n\n        fixedUpdate(this: GameObj<PosComp | BodyComp | AreaComp>) {\n            // If we were interpolating, and the position wasn't set manually, reset to last physics position\n            if (prevPhysicsPos) {\n                if (this.pos.x == prevDrawPos.x) {\n                    this.pos.x = prevPhysicsPos.x;\n                }\n                if (this.pos.y == prevDrawPos.y) {\n                    this.pos.y = prevPhysicsPos.y;\n                }\n                prevPhysicsPos = null;\n            }\n\n            if (_k.game.gravity && !this.isStatic) {\n                // If we are falling over the edge of the current a platform\n                if (willFall) {\n                    curPlatform = null;\n                    lastPlatformPos = null;\n                    this.trigger(\"fallOff\");\n                    willFall = false;\n                }\n\n                // If we were previously on a platform\n                if (curPlatform) {\n                    if (\n                        // If we are no longer on the platform, or the platform was deleted\n                        !this.isColliding(curPlatform)\n                        || !curPlatform.exists()\n                        || !curPlatform.has(\"body\")\n                    ) {\n                        willFall = true;\n                    }\n                }\n\n                const prevVel = this.vel.clone();\n\n                // Apply gravity\n                this.vel = this.vel.add(\n                    _k.game.gravity.scale(this.gravityScale * dt()),\n                );\n\n                // Clamp velocity\n                const maxVel = opt.maxVelocity ?? MAX_VEL;\n                if (this.vel.slen() > maxVel * maxVel) {\n                    this.vel = this.vel.unit().scale(maxVel);\n                }\n\n                // Check if we have started to fall.\n                // We do this by looking at the velocity vector along the direction of gravity\n                if (\n                    prevVel.dot(_k.game.gravity) < 0\n                    && this.vel.dot(_k.game.gravity) >= 0\n                ) {\n                    this.trigger(\"fall\");\n                }\n            }\n\n            // Apply velocity and position changes\n            this.vel.x += acc.x * dt();\n            this.vel.y += acc.y * dt();\n\n            this.vel.x *= 1 - this.drag * dt();\n            this.vel.y *= 1 - this.drag * dt();\n\n            this.move(this.vel);\n\n            // If we need to interpolate physics, prepare interpolation data\n            const rDt = restDt();\n            if (rDt) {\n                // Save this position as previous\n                prevPhysicsPos = this.pos.clone();\n                // Calculate next (future) position\n                const nextVel = this.vel.add(acc.scale(dt()));\n                nextPhysicsPos = this.pos.add(nextVel.scale(dt()));\n                // Copy to check for changes\n                prevDrawPos = this.pos.clone();\n            }\n\n            // Reset acceleration\n            acc.x = 0;\n            acc.y = 0;\n        },\n\n        onPhysicsResolve(this: GameObj, action) {\n            return this.on(\"physicsResolve\", action);\n        },\n\n        onBeforePhysicsResolve(this: GameObj, action) {\n            return this.on(\"beforePhysicsResolve\", action);\n        },\n\n        curPlatform(): GameObj | null {\n            return curPlatform;\n        },\n\n        isGrounded() {\n            return curPlatform !== null;\n        },\n\n        isFalling(): boolean {\n            return this.vel.dot(getGravityDirection()) > 0;\n        },\n\n        isJumping(): boolean {\n            return this.vel.dot(getGravityDirection()) < 0;\n        },\n\n        applyImpulse(impulse: Vec2) {\n            if (this.isStatic) return;\n            this.vel = this.vel.add(impulse);\n        },\n\n        addForce(force: Vec2) {\n            if (this.isStatic) return;\n            acc.x += force.x / this.mass;\n            acc.y += force.y / this.mass;\n        },\n\n        jump(force: number) {\n            if (this.isStatic) return;\n            curPlatform = null;\n            lastPlatformPos = null;\n            this.vel = getGravityDirection().scale(\n                -force || -this.jumpForce,\n            );\n        },\n\n        onGround(this: GameObj, action: () => void): KEventController {\n            return this.on(\"ground\", action);\n        },\n\n        onFall(this: GameObj, action: () => void): KEventController {\n            return this.on(\"fall\", action);\n        },\n\n        onFallOff(this: GameObj, action: () => void): KEventController {\n            return this.on(\"fallOff\", action);\n        },\n\n        onHeadbutt(this: GameObj, action: () => void): KEventController {\n            return this.on(\"headbutt\", action);\n        },\n\n        onLand(this: GameObj, action: (obj: GameObj) => void) {\n            return this.on(\"land\", action);\n        },\n\n        onHeadbutted(this: GameObj, action: (obj: GameObj) => void) {\n            return this.on(\"headbutted\", action);\n        },\n\n        inspect() {\n            return `gravityScale: ${this.gravityScale}x`;\n        },\n    };\n}\n","import type { Comp, GameObj } from \"../../types\";\nimport type { KEventController } from \"../../utils/\";\nimport type { BodyComp } from \"./body\";\n\n/**\n * The {@link doubleJump `doubleJump()`} component.\n *\n * @group Component Types\n */\nexport interface DoubleJumpComp extends Comp {\n    /**\n     * Number of jumps allowed.\n     */\n    numJumps: number;\n    /**\n     * Performs double jump (the initial jump only happens if player is grounded).\n     */\n    doubleJump(force?: number): void;\n    /**\n     * Register an event that runs when the object performs the second jump when double jumping.\n     */\n    onDoubleJump(action: () => void): KEventController;\n}\n\nexport function doubleJump(numJumps: number = 2): DoubleJumpComp {\n    let jumpsLeft = numJumps;\n    return {\n        id: \"doubleJump\",\n        require: [\"body\"],\n        numJumps: numJumps,\n        add(this: GameObj<BodyComp | DoubleJumpComp>) {\n            this.onGround(() => {\n                jumpsLeft = this.numJumps;\n            });\n        },\n        doubleJump(\n            this: GameObj<BodyComp | DoubleJumpComp>,\n            force?: number,\n        ) {\n            if (jumpsLeft <= 0) {\n                return;\n            }\n            if (jumpsLeft < this.numJumps) {\n                this.trigger(\"doubleJump\");\n            }\n            jumpsLeft--;\n            this.jump(force);\n        },\n        onDoubleJump(this: GameObj, action: () => void): KEventController {\n            return this.on(\"doubleJump\", action);\n        },\n        inspect(this: GameObj<BodyComp | DoubleJumpComp>) {\n            return `jumpsLeft: ${jumpsLeft}`;\n        },\n    };\n}\n","import { getGravityDirection } from \"../../game\";\nimport { Polygon, Vec2, vec2 } from \"../../math\";\nimport type { Comp, GameObj } from \"../../types\";\nimport type { PosComp } from \"../transform\";\nimport type { AreaComp } from \"./area\";\nimport type { BodyComp } from \"./body\";\n\nexport type SurfaceEffectorCompOpt = {\n    speed: number;\n    speedVariation?: number;\n    forceScale?: number;\n};\n\nexport interface SurfaceEffectorComp extends Comp {\n    speed: number;\n    speedVariation: number;\n    forceScale: number;\n}\n\nexport function surfaceEffector(\n    opts: SurfaceEffectorCompOpt,\n): SurfaceEffectorComp {\n    return {\n        id: \"surfaceEffector\",\n        require: [\"area\"],\n        speed: opts.speed,\n        speedVariation: opts.speedVariation ?? 0,\n        forceScale: opts.speedVariation ?? 0.9,\n        add(this: GameObj<AreaComp | SurfaceEffectorComp>) {\n            this.onCollideUpdate(\"body\", (obj, col) => {\n                const dir = col?.normal.normal();\n                const currentVel = obj.vel.project(dir);\n                const wantedVel = dir?.scale(this.speed);\n                const force = wantedVel?.sub(currentVel);\n                obj.addForce(force?.scale(obj.mass * this.forceScale));\n            });\n        },\n    };\n}\n\nexport type AreaEffectorCompOpt = {\n    useGlobalAngle?: boolean;\n    forceAngle: number;\n    forceMagnitude: number;\n    forceVariation?: number;\n    linearDrag?: number;\n    // angularDrag?: number;\n};\n\nexport interface AreaEffectorComp extends Comp {\n    useGlobalAngle: boolean;\n    forceAngle: number;\n    forceMagnitude: number;\n    forceVariation: number;\n    linearDrag?: number;\n    // angularDrag?: number;\n}\n\nexport function areaEffector(opts: AreaEffectorCompOpt): AreaEffectorComp {\n    return {\n        id: \"areaEffector\",\n        require: [\"area\"],\n        useGlobalAngle: opts.useGlobalAngle || false,\n        forceAngle: opts.forceAngle,\n        forceMagnitude: opts.forceMagnitude,\n        forceVariation: opts.forceVariation ?? 0,\n        linearDrag: opts.linearDrag ?? 0,\n        // angularDrag: opts.angularDrag ?? 0,\n        add(this: GameObj<AreaComp | AreaEffectorComp>) {\n            this.onCollideUpdate(\"body\", (obj, col) => {\n                if (!obj.has(\"body\")) return;\n\n                const dir = Vec2.fromAngle(this.forceAngle);\n                const force = dir.scale(this.forceMagnitude);\n                obj.addForce(force);\n                if (this.linearDrag) {\n                    obj.addForce(obj.vel.scale(-this.linearDrag));\n                }\n            });\n        },\n    };\n}\n\nexport type ForceMode = \"constant\" | \"inverseLinear\" | \"inverseSquared\";\n\nexport type PointEffectorCompOpt = {\n    forceMagnitude: number;\n    forceVariation: number;\n    distanceScale?: number;\n    forceMode?: ForceMode;\n    linearDrag?: number;\n    // angularDrag?: number;\n};\n\nexport interface PointEffectorComp extends Comp {\n    forceMagnitude: number;\n    forceVariation: number;\n    distanceScale: number;\n    forceMode: ForceMode;\n    linearDrag: number;\n    // angularDrag: number;\n}\n\nexport function pointEffector(opts: PointEffectorCompOpt): PointEffectorComp {\n    return {\n        id: \"pointEffector\",\n        require: [\"area\", \"pos\"],\n        forceMagnitude: opts.forceMagnitude,\n        forceVariation: opts.forceVariation ?? 0,\n        distanceScale: opts.distanceScale ?? 1,\n        forceMode: opts.forceMode || \"inverseLinear\",\n        linearDrag: opts.linearDrag ?? 0,\n        // angularDrag: opts.angularDrag ?? 0,\n        add(this: GameObj<PointEffectorComp | AreaComp | PosComp>) {\n            this.onCollideUpdate(\"body\", (obj, col) => {\n                const dir = this.pos.sub(obj.pos);\n                const length = dir.len();\n                const distance = length * this.distanceScale / 10;\n                const forceScale = this.forceMode === \"constant\"\n                    ? 1\n                    : this.forceMode === \"inverseLinear\"\n                    ? 1 / distance\n                    : 1 / distance ** 2;\n                const force = dir.scale(\n                    this.forceMagnitude * forceScale / length,\n                );\n                obj.addForce(force);\n                if (this.linearDrag) {\n                    obj.addForce(obj.vel.scale(-this.linearDrag));\n                }\n            });\n        },\n    };\n}\n\nexport type ConstantForceCompOpt = {\n    force?: Vec2;\n};\n\nexport interface ConstantForceComp extends Comp {\n    force?: Vec2;\n}\n\nexport function constantForce(opts: ConstantForceCompOpt): ConstantForceComp {\n    return {\n        id: \"constantForce\",\n        require: [\"body\"],\n        force: opts.force,\n        update(this: GameObj<BodyComp | ConstantForceComp>) {\n            if (this.force) {\n                this.addForce(this.force);\n            }\n        },\n    };\n}\n\nexport type PlatformEffectorCompOpt = {\n    surfaceArc?: number;\n    useOneWay?: boolean;\n};\n\nexport interface PlatformEffectorComp extends Comp {\n    surfaceArc: number;\n    useOneWay: boolean;\n}\n\nexport function platformEffector(\n    opt: PlatformEffectorCompOpt,\n): PlatformEffectorComp {\n    return {\n        id: \"platformEffector\",\n        require: [\"area\", \"body\"],\n        surfaceArc: opt.surfaceArc ?? 180,\n        useOneWay: opt.useOneWay ?? false,\n        add(this: GameObj<BodyComp | AreaComp | PlatformEffectorComp>) {\n            this.onBeforePhysicsResolve(collision => {\n                const v = collision.target.vel;\n                const up = getGravityDirection().scale(-1);\n                const angle = up.angleBetween(v);\n                if (Math.abs(angle) > this.surfaceArc / 2) {\n                    collision.preventResolution();\n                }\n            });\n        },\n    };\n}\n\nexport type BuoyancyEffectorCompOpt = {\n    surfaceLevel: number;\n    density?: number;\n    linearDrag?: number;\n    angularDrag?: number;\n    flowAngle?: number;\n    flowMagnitude?: number;\n    flowVariation?: number;\n};\n\nexport interface BuoyancyEffectorComp extends Comp {\n    surfaceLevel: number;\n    density: number;\n    linearDrag: number;\n    angularDrag: number;\n    flowAngle: number;\n    flowMagnitude: number;\n    flowVariation: number;\n    applyBuoyancy(body: GameObj<BodyComp>, submergedArea: Polygon): void;\n    applyDrag(body: GameObj<BodyComp>, submergedArea: Polygon): void;\n}\n\nexport function buoyancyEffector(\n    opts: BuoyancyEffectorCompOpt,\n): BuoyancyEffectorComp {\n    return {\n        id: \"buoyancyEffector\",\n        require: [\"area\"],\n        surfaceLevel: opts.surfaceLevel,\n        density: opts.density ?? 1,\n        linearDrag: opts.linearDrag ?? 1,\n        angularDrag: opts.angularDrag ?? 0.2,\n        flowAngle: opts.flowAngle ?? 0,\n        flowMagnitude: opts.flowMagnitude ?? 0,\n        flowVariation: opts.flowVariation ?? 0,\n        add(this: GameObj<AreaComp | BuoyancyEffectorComp>) {\n            this.onCollideUpdate(\"body\", (obj, col) => {\n                const o = obj as GameObj<BodyComp | AreaComp>;\n                const polygon = o.worldArea();\n                const [submergedArea, _] = polygon.cut(\n                    vec2(-100, this.surfaceLevel),\n                    vec2(100, this.surfaceLevel),\n                );\n\n                if (submergedArea) {\n                    this.applyBuoyancy(o, submergedArea);\n                    this.applyDrag(o, submergedArea);\n                }\n\n                if (this.flowMagnitude) {\n                    o.addForce(\n                        Vec2.fromAngle(this.flowAngle).scale(\n                            this.flowMagnitude,\n                        ),\n                    );\n                }\n            });\n        },\n        applyBuoyancy(body: GameObj<BodyComp>, submergedArea: Polygon) {\n            const displacedMass = this.density * submergedArea.area();\n            const buoyancyForce = vec2(0, 1).scale(-displacedMass);\n            // console.log(\"buoyancyForce\", buoyancyForce)\n            // TODO: Should be applied to the center of submergedArea, but since there is no torque yet, this is OK\n            body.addForce(buoyancyForce);\n        },\n        applyDrag(body: GameObj<BodyComp>, submergedArea: Polygon) {\n            const velocity = body.vel;\n            const dragMagnitude = this.density * this.linearDrag;\n            const dragForce = velocity.scale(-dragMagnitude);\n            // console.log(\"dragForce\", dragForce)\n            // TODO: Should be applied to the center of submergedArea, but since there is no torque yet, this is OK\n            body.addForce(dragForce);\n            // const angularDrag = submergedArea.area() * -body.angularVelocity * this.angularDrag;\n            // object.addTorque(angularDrag);\n        },\n    };\n}\n","import type { Vec2 } from \"../../math/math\";\nimport type { Anchor, Comp } from \"../../types\";\n\n/**\n * The {@link anchor `anchor()`} component.\n *\n * @group Component Types\n */\nexport interface AnchorComp extends Comp {\n    /**\n     * Anchor point for render.\n     */\n    anchor: Anchor | Vec2;\n}\n\nexport function anchor(o: Anchor | Vec2): AnchorComp {\n    if (!o) {\n        throw new Error(\"Please define an anchor\");\n    }\n    return {\n        id: \"anchor\",\n        anchor: o,\n        inspect() {\n            if (typeof this.anchor === \"string\") {\n                return `anchor: ` + this.anchor;\n            }\n            else {\n                return `anchor: ` + this.anchor.toString();\n            }\n        },\n    };\n}\n","import { Vec2, vec2 } from \"../../math/math\";\nimport type { Comp, GameObj } from \"../../types\";\nimport type { PosComp } from \"./pos\";\n\n/**\n * The {@link follow `follow()`} component.\n *\n * @group Component Types\n */\nexport interface FollowComp extends Comp {\n    follow: {\n        obj: GameObj;\n        offset: Vec2;\n    };\n}\n\nexport function follow(obj: GameObj, offset?: Vec2): FollowComp {\n    return {\n        id: \"follow\",\n        require: [\"pos\"],\n        follow: {\n            obj: obj,\n            offset: offset ?? vec2(0),\n        },\n        add(this: GameObj<FollowComp | PosComp>) {\n            if (obj.exists()) {\n                this.pos = this.follow.obj.pos.add(this.follow.offset);\n            }\n        },\n        update(this: GameObj<FollowComp | PosComp>) {\n            if (obj.exists()) {\n                this.pos = this.follow.obj.pos.add(this.follow.offset);\n            }\n        },\n    };\n}\n","import { _k } from \"../../kaplay\";\nimport type { Comp } from \"../../types\";\n\n/**\n * The {@link layer `layer()`} component.\n *\n * @group Component Types\n */\nexport interface LayerComp extends Comp {\n    /**\n     * Get the index of the current layer the object is assigned to.\n     *\n     * @returns The index of the layer the object is assigned to, or `null` if the layer does not exist.\n     */\n    get layerIndex(): number | null;\n    /**\n     * Get the name of the current layer the object is assigned to.\n     *\n     * @returns The name of the layer the object is assigned to.\n     */\n    get layer(): string | null;\n    /**\n     * Set the name of the layer the object should be assigned to.\n     */\n    set layer(name: string);\n}\n\nexport function layer(layer: string): LayerComp {\n    let _layerIndex = _k.game.layers?.indexOf(layer);\n\n    return {\n        id: \"layer\",\n        get layerIndex() {\n            return _layerIndex ?? null;\n        },\n        get layer(): string | null {\n            if (!_layerIndex) return null;\n\n            return _k.game.layers?.[_layerIndex] ?? null;\n        },\n        set layer(value: string) {\n            _layerIndex = _k.game.layers?.indexOf(value);\n\n            if (_layerIndex == -1) throw Error(\"Invalid layer name\");\n        },\n        inspect() {\n            return `layer: ${this.layer}`;\n        },\n    };\n}\n","import { Vec2 } from \"../../math/math\";\nimport type { EmptyComp, GameObj } from \"../../types\";\nimport type { PosComp } from \"./pos\";\n\nexport function move(dir: number | Vec2, speed: number): EmptyComp {\n    const d = typeof dir === \"number\" ? Vec2.fromAngle(dir) : dir.unit();\n    return {\n        id: \"move\",\n        require: [\"pos\"],\n        update(this: GameObj<PosComp>) {\n            this.move(d.scale(speed));\n        },\n    };\n}\n","import { DEF_OFFSCREEN_DIS } from \"../../constants\";\nimport { height, width } from \"../../gfx\";\nimport { _k } from \"../../kaplay\";\nimport { Rect, testRectPoint, vec2 } from \"../../math/math\";\nimport type { Comp, GameObj } from \"../../types\";\nimport type { KEventController } from \"../../utils/\";\nimport type { PosComp } from \"./pos\";\n\n/**\n * The {@link offscreen `offscreen()`} component.\n *\n * @group Component Types\n */\nexport interface OffScreenComp extends Comp {\n    /**\n     * If object is currently out of view.\n     */\n    isOffScreen(): boolean;\n    /**\n     * Register an event that runs when object goes out of view.\n     */\n    onExitScreen(action: () => void): KEventController;\n    /**\n     * Register an event that runs when object enters view.\n     */\n    onEnterScreen(action: () => void): KEventController;\n}\n\n/**\n * Options for {@link offscreen `offscreen()`} component.\n *\n * @group Component Types\n */\nexport interface OffScreenCompOpt {\n    /**\n     * If hide object when out of view.\n     */\n    hide?: boolean;\n    /**\n     * If pause object when out of view.\n     */\n    pause?: boolean;\n    /**\n     * If destroy object when out of view.\n     */\n    destroy?: boolean;\n    /**\n     * The distance when out of view is triggered (default 200).\n     *\n     * @since v3000.0\n     */\n    distance?: number;\n}\n\nexport function offscreen(opt: OffScreenCompOpt = {}): OffScreenComp {\n    const distance = opt.distance ?? DEF_OFFSCREEN_DIS;\n    let isOut = false;\n\n    return {\n        id: \"offscreen\",\n        require: [\"pos\"],\n        isOffScreen(this: GameObj<PosComp>): boolean {\n            const pos = this.screenPos();\n\n            // This is not possible, screenPos() without arguments returns the pos\n            if (!pos) return false;\n\n            const screenRect = new Rect(vec2(0), width(), height());\n            return !testRectPoint(screenRect, pos)\n                && screenRect.sdistToPoint(pos) > distance * distance;\n        },\n        onExitScreen(this: GameObj, action: () => void): KEventController {\n            return this.on(\"exitView\", action);\n        },\n        onEnterScreen(this: GameObj, action: () => void): KEventController {\n            return this.on(\"enterView\", action);\n        },\n        update(this: GameObj) {\n            if (this.isOffScreen()) {\n                if (!isOut) {\n                    this.trigger(\"exitView\");\n                    isOut = true;\n                }\n                if (opt.hide) this.hidden = true;\n                if (opt.pause) this.paused = true;\n                if (opt.destroy) this.destroy();\n            }\n            else {\n                if (isOut) {\n                    this.trigger(\"enterView\");\n                    isOut = false;\n                }\n                if (opt.hide) this.hidden = false;\n                if (opt.pause) this.paused = false;\n            }\n        },\n    };\n}\n","import { dt } from \"../../app\";\nimport { toScreen, toWorld } from \"../../game\";\nimport { isFixed } from \"../../game/utils\";\nimport { drawCircle, getViewportScale } from \"../../gfx\";\nimport { rgb } from \"../../math\";\nimport { Vec2, vec2, type Vec2Args } from \"../../math/math\";\nimport type { Comp, GameObj } from \"../../types\";\nimport type { FixedComp } from \"./fixed\";\n\n/**\n * The {@link pos `pos()`} component.\n *\n * @group Component Types\n */\nexport interface PosComp extends Comp {\n    /**\n     * Object's current world position.\n     */\n    pos: Vec2;\n    /**\n     * Move how many pixels per second. If object is 'solid', it won't move into other 'solid' objects.\n     */\n    move(xVel: number, yVel: number): void;\n    move(vel: Vec2): void;\n    /**\n     * Move how many pixels, without multiplying dt, but still checking for 'solid'.\n     */\n    moveBy(dx: number, dy: number): void;\n    moveBy(d: Vec2): void;\n    /**\n     * Move to a spot with a speed (pixels per second), teleports if speed is not given.\n     */\n    moveTo(dest: Vec2, speed?: number): void;\n    moveTo(x: number, y: number, speed?: number): void;\n    /**\n     * Get the position of the object on the screen.\n     */\n    screenPos(): Vec2 | null;\n    /**\n     * Get the position of the object relative to the root.\n     */\n    worldPos(): Vec2 | null;\n    /**\n     * Transform a local point (relative to this) to a screen point (relative to the camera)\n     */\n    toScreen(this: GameObj<PosComp | FixedComp>, p: Vec2): Vec2;\n    /**\n     * Transform a local point (relative to this) to a world point (relative to the root)\n     * @since v3001.0\n     */\n    toWorld(this: GameObj<PosComp>, p: Vec2): Vec2;\n    /**\n     * Transform a screen point (relative to the camera) to a local point (relative to this)\n     * @since v3001.0\n     */\n    fromScreen(this: GameObj<PosComp | FixedComp>, p: Vec2): Vec2;\n    /**\n     * Transform a world point (relative to the root) to a local point (relative to this)\n     * @since v3001.0\n     */\n    fromWorld(this: GameObj<PosComp>, p: Vec2): Vec2;\n    /**\n     * Transform a point relative to this to a point relative to other\n     * @since v3001.0\n     */\n    toOther(this: GameObj<PosComp>, other: GameObj<PosComp>, p: Vec2): Vec2;\n    /**\n     * Transform a point relative to other to a point relative to this\n     * @since v3001.0\n     */\n    fromOther(this: GameObj<PosComp>, other: GameObj<PosComp>, p: Vec2): Vec2;\n}\n\nexport function pos(...args: Vec2Args): PosComp {\n    return {\n        id: \"pos\",\n        pos: vec2(...args),\n\n        moveBy(...args: Vec2Args) {\n            this.pos = this.pos.add(vec2(...args));\n        },\n\n        // move with velocity (pixels per second)\n        move(...args: Vec2Args) {\n            this.moveBy(vec2(...args).scale(dt()));\n        },\n\n        // move to a destination, with optional speed\n        // Adress all ts ignores\n        moveTo(...args) {\n            if (\n                typeof args[0] === \"number\" && typeof args[1] === \"number\"\n            ) {\n                // @ts-ignore Use overload functions here?\n                return this.moveTo(vec2(args[0], args[1]), args[2]);\n            }\n            const dest = args[0];\n            const speed = args[1];\n            if (speed === undefined) {\n                this.pos = vec2(dest);\n                return;\n            }\n            // @ts-ignore\n            const diff = dest.sub(this.pos);\n            if (diff.len() <= speed * dt()) {\n                this.pos = vec2(dest);\n                return;\n            }\n            this.move(diff.unit().scale(speed));\n        },\n\n        // Get the position of the object relative to the root\n        worldPos(this: GameObj<PosComp>, pos: Vec2 | null = null) {\n            if (pos) {\n                this.pos = this.pos.add(this.fromWorld(pos));\n                return null;\n            }\n            else {\n                return this.parent\n                    ? this.parent.transform.multVec2(this.pos)\n                    : this.pos;\n            }\n        },\n\n        // Transform a local point to a world point\n        toWorld(this: GameObj<PosComp>, p: Vec2): Vec2 {\n            return this.parent\n                ? this.parent.transform.multVec2(this.pos.add(p))\n                : this.pos.add(p);\n        },\n\n        // Transform a world point (relative to the root) to a local point (relative to this)\n        fromWorld(this: GameObj<PosComp>, p: Vec2): Vec2 {\n            return this.parent\n                ? this.parent.transform.invert().multVec2(p).sub(this.pos)\n                : p.sub(this.pos);\n        },\n\n        // Transform a screen point (relative to the camera) to a local point (relative to this)\n        screenPos(\n            this: GameObj<PosComp | FixedComp>,\n            pos: Vec2 | null = null,\n        ) {\n            if (pos) {\n                this.pos = this.pos.add(this.fromScreen(pos));\n                return null;\n            }\n            else {\n                const pos = this.worldPos();\n\n                // This is not really possible, because worldPos() will always return a value\n                // if it doesn't have arguments\n\n                // I left this like that for compatibility, maybe if it returns a value\n                // will break something?\n\n                if (!pos) {\n                    return null;\n                }\n\n                return isFixed(this)\n                    ? pos\n                    : toScreen(pos);\n            }\n        },\n\n        // Transform a local point (relative to this) to a screen point (relative to the camera)\n        toScreen(this: GameObj<PosComp | FixedComp>, p: Vec2): Vec2 {\n            const pos = this.toWorld(p);\n            return isFixed(this)\n                ? pos\n                : toScreen(pos);\n        },\n\n        // Transform a screen point (relative to the camera) to a local point (relative to this)\n        fromScreen(this: GameObj<PosComp>, p: Vec2): Vec2 {\n            return isFixed(this)\n                ? this.fromWorld(p)\n                : this.fromWorld(toWorld(p));\n        },\n\n        // Transform a point relative to this to a point relative to other\n        toOther(this: GameObj<PosComp>, other: GameObj<PosComp>, p: Vec2) {\n            return other.fromWorld(this.toWorld(p));\n        },\n\n        // Transform a point relative to other to a point relative to this\n        fromOther(this: GameObj<PosComp>, other: GameObj<PosComp>, p: Vec2) {\n            return other.toOther(this, p);\n        },\n\n        inspect() {\n            return `pos: (${Math.round(this.pos.x)}x, ${\n                Math.round(this.pos.y)\n            }y)`;\n        },\n\n        drawInspect() {\n            drawCircle({\n                color: rgb(255, 0, 0),\n                radius: 4 / getViewportScale(),\n            });\n        },\n    };\n}\n","import type { Comp } from \"../../types\";\n\n/**\n * The {@link rotate `rotate()`} component.\n *\n * @group Component Types\n */\nexport interface RotateComp extends Comp {\n    /**\n     * Angle in degrees.\n     */\n    angle: number;\n    /**\n     * Rotate in degrees.\n     */\n    rotateBy(angle: number): void;\n    /**\n     * Rotate to a degree (like directly assign to .angle)\n     *\n     * @since v3000.0\n     */\n    rotateTo(s: number): void;\n}\n\nexport function rotate(a?: number): RotateComp {\n    return {\n        id: \"rotate\",\n        angle: a ?? 0,\n        rotateBy(angle: number) {\n            this.angle += angle;\n        },\n        rotateTo(angle: number) {\n            this.angle = angle;\n        },\n        inspect() {\n            return `angle: ${Math.round(this.angle)}`;\n        },\n    };\n}\n","import { Vec2, vec2, type Vec2Args } from \"../../math/math\";\nimport type { Comp } from \"../../types\";\n\n/**\n * The {@link scale `scale()`} component.\n *\n * @group Component Types\n */\nexport interface ScaleComp extends Comp {\n    /**\n     * The current scale of the object\n     *\n     * @returns The current scale of the object as a {@link Vec2 `Vec2`}\n     */\n    scale: Vec2;\n    /**\n     * Set the scale of the object to a number\n     */\n    scaleTo(s: number): void;\n    /**\n     * Set the scale of the object to a Vec2\n     */\n    scaleTo(s: Vec2): void;\n    /**\n     * Set the scale of the object to a number for x and y\n     */\n    scaleTo(sx: number, sy: number): void;\n    /**\n     * Scale the object by a number\n     */\n    scaleBy(s: number): void;\n    /**\n     * Scale the object by a Vec2\n     */\n    scaleBy(s: Vec2): void;\n    /**\n     * Scale the object by a number for x and y\n     */\n    scaleBy(sx: number, sy: number): void;\n}\n\nexport function scale(...args: Vec2Args): ScaleComp {\n    if (args.length === 0) {\n        return scale(1);\n    }\n\n    let _scale = vec2(...args);\n\n    return {\n        id: \"scale\",\n        set scale(value: Vec2) {\n            if (value instanceof Vec2 === false) {\n                throw Error(\n                    \"The scale property on scale is a vector. Use scaleTo or scaleBy to set the scale with a number.\",\n                );\n            }\n\n            _scale = vec2(value);\n        },\n        get scale() {\n            return _scale;\n        },\n        scaleTo(...args: Vec2Args) {\n            _scale = vec2(...args);\n        },\n        scaleBy(...args: Vec2Args) {\n            _scale = _scale.scale(vec2(...args));\n        },\n        inspect() {\n            if (_scale.x == _scale.y) {\n                return `scale: ${_scale.x.toFixed(1)}x`;\n            }\n            else {return `scale: (${_scale.x.toFixed(1)}x, ${\n                    _scale.y.toFixed(1)\n                }y)`;}\n        },\n    };\n}\n","import type { Comp } from \"../../types\";\n\n/**\n * The {@link z `z()`} component.\n *\n * @group Component Types\n */\nexport interface ZComp extends Comp {\n    /**\n     * Defines the z-index of this game obj\n     */\n    z: number;\n}\n\nexport function z(z: number): ZComp {\n    return {\n        id: \"z\",\n        z: z,\n        inspect() {\n            return `z: ${this.z}`;\n        },\n    };\n}\n","const VERSION = \"3001.0.0\";\n\nimport { type ButtonsDef, initApp } from \"./app\";\n\nimport {\n    center,\n    drawBezier,\n    drawCircle,\n    drawCurve,\n    drawDebug,\n    drawEllipse,\n    drawFormattedText,\n    drawFrame,\n    drawLine,\n    drawLines,\n    drawLoadScreen,\n    drawMasked,\n    drawPolygon,\n    drawRect,\n    drawSprite,\n    drawSubtracted,\n    drawText,\n    drawTexture,\n    drawTriangle,\n    drawUnscaled,\n    drawUVQuad,\n    flush,\n    formatText,\n    FrameBuffer,\n    getBackground,\n    height,\n    initAppGfx,\n    initGfx,\n    mousePos,\n    popTransform,\n    pushMatrix,\n    pushRotate,\n    pushScale,\n    pushTransform,\n    pushTranslate,\n    setBackground,\n    updateViewport,\n    width,\n} from \"./gfx\";\n\nimport {\n    Asset,\n    getAsset,\n    getBitmapFont,\n    getFailedAssets,\n    getFont,\n    getShader,\n    getSound,\n    getSprite,\n    initAssets,\n    load,\n    loadAseprite,\n    loadBean,\n    loadBitmapFont,\n    loadFont,\n    loadJSON,\n    loadMusic,\n    loadPedit,\n    loadProgress,\n    loadRoot,\n    loadShader,\n    loadShaderURL,\n    loadSound,\n    loadSprite,\n    loadSpriteAtlas,\n    SoundData,\n    SpriteData,\n    type Uniform,\n} from \"./assets\";\n\nimport {\n    ASCII_CHARS,\n    BG_GRID_SIZE,\n    DBG_FONT,\n    DEF_HASH_GRID_SIZE,\n    EVENT_CANCEL_SYMBOL,\n    LOG_MAX,\n    MAX_TEXT_CACHE_SIZE,\n} from \"./constants\";\n\nimport {\n    bezier,\n    cardinal,\n    catmullRom,\n    chance,\n    choose,\n    chooseMultiple,\n    Circle,\n    clamp,\n    Color,\n    curveLengthApproximation,\n    deg2rad,\n    easingCubicBezier,\n    easingLinear,\n    easingSteps,\n    Ellipse,\n    evaluateBezier,\n    evaluateBezierFirstDerivative,\n    evaluateBezierSecondDerivative,\n    evaluateCatmullRom,\n    evaluateCatmullRomFirstDerivative,\n    evaluateQuadratic,\n    evaluateQuadraticFirstDerivative,\n    evaluateQuadraticSecondDerivative,\n    hermite,\n    hsl2rgb,\n    isConvex,\n    kochanekBartels,\n    lerp,\n    Line,\n    map,\n    mapc,\n    Mat4,\n    NavMesh,\n    normalizedCurve,\n    Point,\n    Polygon,\n    Quad,\n    quad,\n    rad2deg,\n    rand,\n    randi,\n    randSeed,\n    Rect,\n    rgb,\n    RNG,\n    sat,\n    shuffle,\n    testCirclePolygon,\n    testLineCircle,\n    testLineLine,\n    testLinePoint,\n    testRectLine,\n    testRectPoint,\n    testRectRect,\n    triangulate,\n    Vec2,\n    vec2,\n    wave,\n} from \"./math\";\n\nimport easings from \"./math/easings\";\n\nimport {\n    download,\n    downloadBlob,\n    downloadJSON,\n    downloadText,\n    KEvent,\n    KEventController,\n    KEventHandler,\n} from \"./utils\";\n\nimport type {\n    Debug,\n    GameObj,\n    KAPLAYCtx,\n    KAPLAYInternal,\n    KAPLAYOpt,\n    KAPLAYPlugin,\n    MergePlugins,\n    PluginList,\n    Recording,\n} from \"./types\";\n\nimport {\n    agent,\n    anchor,\n    animate,\n    area,\n    type AreaComp,\n    areaEffector,\n    body,\n    buoyancyEffector,\n    circle,\n    color,\n    constantForce,\n    doubleJump,\n    drawon,\n    fadeIn,\n    fixed,\n    follow,\n    health,\n    layer,\n    lifespan,\n    mask,\n    move,\n    named,\n    offscreen,\n    opacity,\n    outline,\n    particles,\n    pathfinder,\n    patrol,\n    platformEffector,\n    pointEffector,\n    polygon,\n    pos,\n    raycast,\n    rect,\n    rotate,\n    scale,\n    sentry,\n    serializeAnimation,\n    shader,\n    sprite,\n    state,\n    stay,\n    surfaceEffector,\n    text,\n    textInput,\n    tile,\n    timer,\n    usesArea,\n    uvquad,\n    z,\n} from \"./components\";\n\nimport { dt, fixedDt, restDt } from \"./app\";\nimport { burp, getVolume, initAudio, play, setVolume, volume } from \"./audio\";\n\nimport {\n    addKaboom,\n    addLevel,\n    camFlash,\n    camPos,\n    camRot,\n    camScale,\n    camTransform,\n    destroy,\n    flash,\n    getCamPos,\n    getCamRot,\n    getCamScale,\n    getCamTransform,\n    getDefaultLayer,\n    getGravity,\n    getGravityDirection,\n    getLayers,\n    getSceneName,\n    getTreeRoot,\n    go,\n    initEvents,\n    initGame,\n    layers,\n    make,\n    on,\n    onAdd,\n    onClick,\n    onCollide,\n    onCollideEnd,\n    onCollideUpdate,\n    onDestroy,\n    onDraw,\n    onError,\n    onFixedUpdate,\n    onHover,\n    onHoverEnd,\n    onHoverUpdate,\n    onLoad,\n    onLoadError,\n    onLoading,\n    onResize,\n    onSceneLeave,\n    onTag,\n    onUntag,\n    onUnuse,\n    onUpdate,\n    onUse,\n    scene,\n    setCamPos,\n    setCamRot,\n    setCamScale,\n    setGravity,\n    setGravityDirection,\n    setLayers,\n    shake,\n    toScreen,\n    toWorld,\n    trigger,\n} from \"./game\";\n\nimport boomSpriteSrc from \"./kassets/boom.png\";\nimport kaSpriteSrc from \"./kassets/ka.png\";\n\n// Internal data, shared between all modules\nexport const _k = {\n    k: null,\n    globalOpt: null,\n    gfx: null,\n    game: null,\n    app: null,\n    assets: null,\n    fontCacheCanvas: null,\n    fontCacheC2d: null,\n    debug: null,\n    audio: null,\n    pixelDensity: null,\n    canvas: null,\n    gscale: null,\n    kaSprite: null,\n    boomSprite: null,\n} as unknown as KAPLAYInternal;\n\n/**\n * Initialize KAPLAY context. The starting point of all KAPLAY games.\n *\n * @example\n * ```js\n * // Start KAPLAY with default options (will create a fullscreen canvas under <body>)\n * kaplay()\n *\n * // Init with some options\n * kaplay({\n *     width: 320,\n *     height: 240,\n *     font: \"sans-serif\",\n *     canvas: document.querySelector(\"#mycanvas\"),\n *     background: [ 0, 0, 255, ],\n * })\n *\n * // All KAPLAY functions are imported to global after calling kaplay()\n * add()\n * onUpdate()\n * onKeyPress()\n * vec2()\n *\n * // If you want to prevent KAPLAY from importing all functions to global and use a context handle for all KAPLAY functions\n * const k = kaplay({ global: false })\n *\n * k.add(...)\n * k.onUpdate(...)\n * k.onKeyPress(...)\n * k.vec2(...)\n * ```\n *\n * @group Start\n */\nconst kaplay = <\n    TPlugins extends PluginList<unknown> = [undefined],\n    TButtons extends ButtonsDef = {},\n    TButtonsName extends string = keyof TButtons & string,\n>(\n    gopt: KAPLAYOpt<TPlugins, TButtons> = {\n        tagsAsComponents: true,\n    },\n): TPlugins extends [undefined] ? KAPLAYCtx<TButtons, TButtonsName>\n    : KAPLAYCtx<TButtons, TButtonsName> & MergePlugins<TPlugins> =>\n{\n    if (_k.k) {\n        console.warn(\n            \"KAPLAY already initialized, you are calling kaplay() multiple times, it may lead bugs!\",\n        );\n        _k.k.quit();\n    }\n\n    _k.globalOpt = gopt;\n    const root = gopt.root ?? document.body;\n\n    // if root is not defined (which falls back to <body>) we assume user is using kaboom on a clean page, and modify <body> to better fit a full screen canvas\n    if (root === document.body) {\n        document.body.style[\"width\"] = \"100%\";\n        document.body.style[\"height\"] = \"100%\";\n        document.body.style[\"margin\"] = \"0px\";\n        document.documentElement.style[\"width\"] = \"100%\";\n        document.documentElement.style[\"height\"] = \"100%\";\n    }\n\n    // create a <canvas> if user didn't provide one\n    const canvas = gopt.canvas\n        ?? root.appendChild(document.createElement(\"canvas\"));\n    _k.canvas = canvas;\n\n    // global pixel scale\n    const gscale = gopt.scale ?? 1;\n    _k.gscale = gscale;\n    const fixedSize = gopt.width && gopt.height && !gopt.stretch\n        && !gopt.letterbox;\n\n    // adjust canvas size according to user size / viewport settings\n    if (fixedSize) {\n        canvas.width = gopt.width! * gscale;\n        canvas.height = gopt.height! * gscale;\n    }\n    else {\n        canvas.width = canvas.parentElement!.offsetWidth;\n        canvas.height = canvas.parentElement!.offsetHeight;\n    }\n\n    // canvas css styles\n    const styles = [\n        \"outline: none\",\n        \"cursor: default\",\n    ];\n\n    if (fixedSize) {\n        const cw = canvas.width;\n        const ch = canvas.height;\n        styles.push(`width: ${cw}px`);\n        styles.push(`height: ${ch}px`);\n    }\n    else {\n        styles.push(\"width: 100%\");\n        styles.push(\"height: 100%\");\n    }\n\n    if (gopt.crisp) {\n        // chrome only supports pixelated and firefox only supports crisp-edges\n        styles.push(\"image-rendering: pixelated\");\n        styles.push(\"image-rendering: crisp-edges\");\n    }\n\n    canvas.style.cssText = styles.join(\";\");\n\n    const pixelDensity = gopt.pixelDensity || 1;\n    _k.pixelDensity = pixelDensity;\n\n    canvas.width *= pixelDensity;\n    canvas.height *= pixelDensity;\n    // make canvas focusable\n    canvas.tabIndex = 0;\n\n    const fontCacheCanvas = document.createElement(\"canvas\");\n    fontCacheCanvas.width = MAX_TEXT_CACHE_SIZE;\n    fontCacheCanvas.height = MAX_TEXT_CACHE_SIZE;\n    _k.fontCacheCanvas = fontCacheCanvas;\n    const fontCacheC2d = fontCacheCanvas.getContext(\"2d\", {\n        willReadFrequently: true,\n    });\n    _k.fontCacheC2d = fontCacheC2d;\n\n    const app = initApp({\n        canvas: canvas,\n        touchToMouse: gopt.touchToMouse,\n        gamepads: gopt.gamepads,\n        pixelDensity: gopt.pixelDensity,\n        maxFPS: gopt.maxFPS,\n        buttons: gopt.buttons,\n    });\n    _k.app = app;\n\n    const gc: Array<() => void> = [];\n\n    const canvasContext = app.canvas\n        .getContext(\"webgl\", {\n            antialias: true,\n            depth: true,\n            stencil: true,\n            alpha: true,\n            preserveDrawingBuffer: true,\n        });\n\n    if (!canvasContext) throw new Error(\"WebGL not supported\");\n\n    const gl = canvasContext;\n\n    const ggl = initGfx(gl, {\n        texFilter: gopt.texFilter,\n    });\n\n    const gfx = initAppGfx(gopt, ggl);\n    _k.gfx = gfx;\n    const audio = initAudio();\n    _k.audio = audio;\n    const assets = initAssets(ggl, gopt.spriteAtlasPadding ?? 0);\n    _k.assets = assets;\n    const game = initGame();\n    _k.game = game;\n\n    game.root.use(timer());\n\n    function makeCanvas(w: number, h: number) {\n        const fb = new FrameBuffer(ggl, w, h);\n        return {\n            clear: () => fb.clear(),\n            free: () => fb.free(),\n            toDataURL: () => fb.toDataURL(),\n            toImageData: () => fb.toImageData(),\n            width: fb.width,\n            height: fb.height,\n            draw: (action: () => void) => {\n                flush();\n                fb.bind();\n                action();\n                flush();\n                fb.unbind();\n            },\n            get fb() {\n                return fb;\n            },\n        };\n    }\n\n    // start a rendering frame, reset some states\n    function frameStart() {\n        // clear backbuffer\n        gl.clear(gl.COLOR_BUFFER_BIT);\n        gfx.frameBuffer.bind();\n        // clear framebuffer\n        gl.clear(gl.COLOR_BUFFER_BIT);\n\n        if (!gfx.bgColor) {\n            drawUnscaled(() => {\n                drawUVQuad({\n                    width: width(),\n                    height: height(),\n                    quad: new Quad(\n                        0,\n                        0,\n                        width() / BG_GRID_SIZE,\n                        height() / BG_GRID_SIZE,\n                    ),\n                    tex: gfx.bgTex,\n                    fixed: true,\n                });\n            });\n        }\n\n        gfx.renderer.numDraws = 0;\n        gfx.fixed = false;\n        gfx.transformStack.length = 0;\n        gfx.transform = new Mat4();\n    }\n\n    function usePostEffect(name: string, uniform?: Uniform | (() => Uniform)) {\n        gfx.postShader = name;\n        gfx.postShaderUniform = uniform ?? null;\n    }\n\n    function frameEnd() {\n        // TODO: don't render debug UI with framebuffer\n        // TODO: polish framebuffer rendering / sizing issues\n        flush();\n        gfx.lastDrawCalls = gfx.renderer.numDraws;\n        gfx.frameBuffer.unbind();\n        gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n\n        const ow = gfx.width;\n        const oh = gfx.height;\n        gfx.width = gl.drawingBufferWidth / pixelDensity;\n        gfx.height = gl.drawingBufferHeight / pixelDensity;\n\n        drawTexture({\n            flipY: true,\n            tex: gfx.frameBuffer.tex,\n            pos: new Vec2(gfx.viewport.x, gfx.viewport.y),\n            width: gfx.viewport.width,\n            height: gfx.viewport.height,\n            shader: gfx.postShader,\n            uniform: typeof gfx.postShaderUniform === \"function\"\n                ? gfx.postShaderUniform()\n                : gfx.postShaderUniform,\n            fixed: true,\n        });\n\n        flush();\n        gfx.width = ow;\n        gfx.height = oh;\n    }\n\n    // TODO: cache formatted text\n    // format text and return a list of chars with their calculated position\n\n    // get game root\n\n    let debugPaused = false;\n\n    const debug: Debug = {\n        inspect: false,\n        timeScale: 1,\n        showLog: true,\n        fps: () => app.fps(),\n        numFrames: () => app.numFrames(),\n        stepFrame: updateFrame,\n        drawCalls: () => gfx.lastDrawCalls,\n        clearLog: () => game.logs = [],\n        log: (...msgs) => {\n            const max = gopt.logMax ?? LOG_MAX;\n            const msg = msgs.length > 1 ? msgs.concat(\" \").join(\" \") : msgs[0];\n\n            game.logs.unshift({\n                msg: msg,\n                time: app.time(),\n            });\n            if (game.logs.length > max) {\n                game.logs = game.logs.slice(0, max);\n            }\n        },\n        error: (msg) =>\n            debug.log(new Error(msg.toString ? msg.toString() : msg as string)),\n        curRecording: null,\n        numObjects: () => get(\"*\", { recursive: true }).length,\n        get paused() {\n            return debugPaused;\n        },\n        set paused(v) {\n            debugPaused = v;\n            if (v) {\n                audio.ctx.suspend();\n            }\n            else {\n                audio.ctx.resume();\n            }\n        },\n    };\n\n    _k.debug = debug;\n\n    function getData<T>(key: string, def?: T): T | null {\n        try {\n            return JSON.parse(window.localStorage[key]);\n        } catch {\n            if (def) {\n                setData(key, def);\n                return def;\n            }\n            else {\n                return null;\n            }\n        }\n    }\n\n    function setData(key: string, data: any) {\n        window.localStorage[key] = JSON.stringify(data);\n    }\n\n    function plug<T extends Record<string, any>>(\n        plugin: KAPLAYPlugin<T>,\n        ...args: any\n    ): KAPLAYCtx & T {\n        const funcs = plugin(ctx);\n        let funcsObj: T;\n        if (typeof funcs === \"function\") {\n            const plugWithOptions = funcs(...args);\n            funcsObj = plugWithOptions(ctx);\n        }\n        else {\n            funcsObj = funcs;\n        }\n\n        for (const key in funcsObj) {\n            ctx[key as keyof typeof ctx] = funcsObj[key];\n\n            if (gopt.global !== false) {\n                window[key as any] = funcsObj[key];\n            }\n        }\n        return ctx as unknown as KAPLAYCtx & T;\n    }\n\n    function record(frameRate?: number): Recording {\n        const stream = app.canvas.captureStream(frameRate);\n        const audioDest = audio.ctx.createMediaStreamDestination();\n\n        audio.masterNode.connect(audioDest);\n\n        // TODO: Enabling audio results in empty video if no audio received\n        // const audioStream = audioDest.stream\n        // const [firstAudioTrack] = audioStream.getAudioTracks()\n\n        // stream.addTrack(firstAudioTrack);\n\n        const recorder = new MediaRecorder(stream);\n        const chunks: any[] = [];\n\n        recorder.ondataavailable = (e) => {\n            if (e.data.size > 0) {\n                chunks.push(e.data);\n            }\n        };\n\n        recorder.onerror = () => {\n            audio.masterNode.disconnect(audioDest);\n            stream.getTracks().forEach(t => t.stop());\n        };\n\n        recorder.start();\n\n        return {\n            resume() {\n                recorder.resume();\n            },\n\n            pause() {\n                recorder.pause();\n            },\n\n            stop(): Promise<Blob> {\n                recorder.stop();\n                // cleanup\n                audio.masterNode.disconnect(audioDest);\n                stream.getTracks().forEach(t => t.stop());\n                return new Promise((resolve) => {\n                    recorder.onstop = () => {\n                        resolve(\n                            new Blob(chunks, {\n                                type: \"video/mp4\",\n                            }),\n                        );\n                    };\n                });\n            },\n\n            download(filename = \"kaboom.mp4\") {\n                this.stop().then((blob) => downloadBlob(filename, blob));\n            },\n        };\n    }\n\n    function isFocused(): boolean {\n        return document.activeElement === app.canvas;\n    }\n\n    // aliases for root game obj operations\n    const add = game.root.add.bind(game.root);\n    const readd = game.root.readd.bind(game.root);\n    const destroyAll = game.root.removeAll.bind(game.root);\n    const get = game.root.get.bind(game.root);\n    const wait = game.root.wait.bind(game.root);\n    const loop = game.root.loop.bind(game.root);\n    const query = game.root.query.bind(game.root);\n    const tween = game.root.tween.bind(game.root);\n\n    const kaSprite = loadSprite(null, kaSpriteSrc);\n    const boomSprite = loadSprite(null, boomSpriteSrc);\n\n    _k.kaSprite = kaSprite;\n    _k.boomSprite = boomSprite;\n\n    function fixedUpdateFrame() {\n        // update every obj\n        game.root.fixedUpdate();\n    }\n\n    function updateFrame() {\n        // update every obj\n        game.root.update();\n    }\n\n    class Collision {\n        source: GameObj;\n        target: GameObj;\n        normal: Vec2;\n        distance: number;\n        resolved: boolean = false;\n        constructor(\n            source: GameObj,\n            target: GameObj,\n            normal: Vec2,\n            distance: number,\n            resolved = false,\n        ) {\n            this.source = source;\n            this.target = target;\n            this.normal = normal;\n            this.distance = distance;\n            this.resolved = resolved;\n        }\n        get displacement() {\n            return this.normal.scale(this.distance);\n        }\n        reverse() {\n            return new Collision(\n                this.target,\n                this.source,\n                this.normal.scale(-1),\n                this.distance,\n                this.resolved,\n            );\n        }\n        hasOverlap() {\n            return !this.displacement.isZero();\n        }\n        isLeft() {\n            return this.displacement.cross(game.gravity || vec2(0, 1)) > 0;\n        }\n        isRight() {\n            return this.displacement.cross(game.gravity || vec2(0, 1)) < 0;\n        }\n        isTop() {\n            return this.displacement.dot(game.gravity || vec2(0, 1)) > 0;\n        }\n        isBottom() {\n            return this.displacement.dot(game.gravity || vec2(0, 1)) < 0;\n        }\n        preventResolution() {\n            this.resolved = true;\n        }\n    }\n\n    function checkFrame() {\n        if (!usesArea()) {\n            return;\n        }\n\n        // TODO: persistent grid?\n        // start a spatial hash grid for more efficient collision detection\n        const grid: Record<number, Record<number, GameObj<AreaComp>[]>> = {};\n        const cellSize = gopt.hashGridSize || DEF_HASH_GRID_SIZE;\n\n        // current transform\n        let tr = new Mat4();\n\n        // a local transform stack\n        const stack: any[] = [];\n\n        function checkObj(obj: GameObj) {\n            stack.push(tr.clone());\n\n            // Update object transform here. This will be the transform later used in rendering.\n            if (obj.pos) tr.translate(obj.pos);\n            if (obj.scale) tr.scale(obj.scale);\n            if (obj.angle) tr.rotate(obj.angle);\n            obj.transform = tr.clone();\n\n            if (obj.c(\"area\") && !obj.paused) {\n                // TODO: only update worldArea if transform changed\n                const aobj = obj as GameObj<AreaComp>;\n                const area = aobj.worldArea();\n                const bbox = area.bbox();\n\n                // Get spatial hash grid coverage\n                const xmin = Math.floor(bbox.pos.x / cellSize);\n                const ymin = Math.floor(bbox.pos.y / cellSize);\n                const xmax = Math.ceil((bbox.pos.x + bbox.width) / cellSize);\n                const ymax = Math.ceil((bbox.pos.y + bbox.height) / cellSize);\n\n                // Cache objs that are already checked\n                const checked = new Set();\n\n                // insert & check against all covered grids\n                for (let x = xmin; x <= xmax; x++) {\n                    for (let y = ymin; y <= ymax; y++) {\n                        if (!grid[x]) {\n                            grid[x] = {};\n                            grid[x][y] = [aobj];\n                        }\n                        else if (!grid[x][y]) {\n                            grid[x][y] = [aobj];\n                        }\n                        else {\n                            const cell = grid[x][y];\n                            check: for (const other of cell) {\n                                if (other.paused) continue;\n                                if (!other.exists()) continue;\n                                if (checked.has(other.id)) continue;\n                                for (const tag of aobj.collisionIgnore) {\n                                    if (other.is(tag)) {\n                                        continue check;\n                                    }\n                                }\n                                for (const tag of other.collisionIgnore) {\n                                    if (aobj.is(tag)) {\n                                        continue check;\n                                    }\n                                }\n                                // TODO: cache the world area here\n                                const res = sat(\n                                    aobj.worldArea(),\n                                    other.worldArea(),\n                                );\n                                if (res) {\n                                    // TODO: rehash if the object position is changed after resolution?\n                                    const col1 = new Collision(\n                                        aobj,\n                                        other,\n                                        res.normal,\n                                        res.distance,\n                                    );\n                                    aobj.trigger(\"collideUpdate\", other, col1);\n                                    const col2 = col1.reverse();\n                                    // resolution only has to happen once\n                                    col2.resolved = col1.resolved;\n                                    other.trigger(\"collideUpdate\", aobj, col2);\n                                }\n                                checked.add(other.id);\n                            }\n                            cell.push(aobj);\n                        }\n                    }\n                }\n            }\n\n            obj.children.forEach(checkObj);\n            tr = stack.pop();\n        }\n\n        checkObj(game.root);\n    }\n\n    function handleErr(err: Error) {\n        console.error(err);\n        audio.ctx.suspend();\n        const errorMessage = err.message ?? String(err)\n            ?? \"Unknown error, check console for more info\";\n\n        // TODO: this should only run once\n        app.run(\n            () => {},\n            () => {\n                frameStart();\n\n                drawUnscaled(() => {\n                    const pad = 32;\n                    const gap = 16;\n                    const gw = width();\n                    const gh = height();\n\n                    const textStyle = {\n                        size: 36,\n                        width: gw - pad * 2,\n                        letterSpacing: 4,\n                        lineSpacing: 4,\n                        font: DBG_FONT,\n                        fixed: true,\n                    };\n\n                    drawRect({\n                        width: gw,\n                        height: gh,\n                        color: rgb(0, 0, 255),\n                        fixed: true,\n                    });\n\n                    const title = formatText({\n                        ...textStyle,\n                        text: \"Error\",\n                        pos: vec2(pad),\n                        color: rgb(255, 128, 0),\n                        fixed: true,\n                    });\n\n                    drawFormattedText(title);\n\n                    drawText({\n                        ...textStyle,\n                        text: errorMessage,\n                        pos: vec2(pad, pad + title.height + gap),\n                        fixed: true,\n                    });\n\n                    popTransform();\n                    game.events.trigger(\"error\", err);\n                });\n\n                frameEnd();\n            },\n        );\n    }\n\n    function onCleanup(action: () => void) {\n        gc.push(action);\n    }\n\n    function quit() {\n        game.events.onOnce(\"frameEnd\", () => {\n            app.quit();\n\n            // clear canvas\n            gl.clear(\n                gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT\n                    | gl.STENCIL_BUFFER_BIT,\n            );\n\n            // unbind everything\n            const numTextureUnits = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n\n            for (let unit = 0; unit < numTextureUnits; unit++) {\n                gl.activeTexture(gl.TEXTURE0 + unit);\n                gl.bindTexture(gl.TEXTURE_2D, null);\n                gl.bindTexture(gl.TEXTURE_CUBE_MAP, null);\n            }\n\n            gl.bindBuffer(gl.ARRAY_BUFFER, null);\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n            gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n            gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n            // run all scattered gc events\n            ggl.destroy();\n            gc.forEach((f) => f());\n        });\n    }\n\n    let isFirstFrame = true;\n\n    // main game loop\n    app.run(\n        () => {\n            try {\n                if (assets.loaded) {\n                    if (!debug.paused) fixedUpdateFrame();\n                    checkFrame();\n                }\n            } catch (e) {\n                handleErr(e as Error);\n            }\n        },\n        (processInput, resetInput) => {\n            try {\n                processInput();\n\n                if (!assets.loaded) {\n                    if (loadProgress() === 1 && !isFirstFrame) {\n                        assets.loaded = true;\n                        getFailedAssets().forEach(details =>\n                            game.events.trigger(\"loadError\", ...details)\n                        );\n                        game.events.trigger(\"load\");\n                    }\n                }\n\n                if (\n                    !assets.loaded && gopt.loadingScreen !== false\n                    || isFirstFrame\n                ) {\n                    frameStart();\n                    // TODO: Currently if assets are not initially loaded no updates or timers will be run, however they will run if loadingScreen is set to false. What's the desired behavior or should we make them consistent?\n                    drawLoadScreen();\n                    frameEnd();\n                }\n                else {\n                    if (!debug.paused) updateFrame();\n                    checkFrame();\n                    frameStart();\n                    drawFrame();\n                    if (gopt.debug !== false) drawDebug();\n                    frameEnd();\n                }\n\n                if (isFirstFrame) {\n                    isFirstFrame = false;\n                }\n\n                game.events.trigger(\"frameEnd\");\n\n                resetInput();\n            } catch (e) {\n                handleErr(e as Error);\n            }\n        },\n    );\n\n    updateViewport();\n    initEvents();\n\n    // the exported ctx handle\n    const ctx: KAPLAYCtx = {\n        _k,\n        VERSION,\n        // asset load\n        loadRoot,\n        loadProgress,\n        loadSprite,\n        loadSpriteAtlas,\n        loadSound,\n        loadMusic,\n        loadBitmapFont,\n        loadFont,\n        loadShader,\n        loadShaderURL,\n        loadAseprite,\n        loadPedit,\n        loadBean,\n        loadJSON,\n        load,\n        getSound,\n        getFont,\n        getBitmapFont,\n        getSprite,\n        getShader,\n        getAsset,\n        Asset,\n        SpriteData,\n        SoundData,\n        // query\n        width,\n        height,\n        center,\n        dt,\n        fixedDt,\n        restDt,\n        time: app.time,\n        screenshot: app.screenshot,\n        record,\n        isFocused,\n        setCursor: app.setCursor,\n        getCursor: app.getCursor,\n        setCursorLocked: app.setCursorLocked,\n        isCursorLocked: app.isCursorLocked,\n        setFullscreen: app.setFullscreen,\n        isFullscreen: app.isFullscreen,\n        isTouchscreen: app.isTouchscreen,\n        onLoad,\n        onLoadError,\n        onLoading,\n        onResize,\n        onGamepadConnect: app.onGamepadConnect,\n        onGamepadDisconnect: app.onGamepadDisconnect,\n        onError,\n        onCleanup,\n        // misc\n        flash: flash,\n        setCamPos: setCamPos,\n        getCamPos: getCamPos,\n        setCamRot: setCamRot,\n        getCamRot: getCamRot,\n        setCamScale: setCamScale,\n        getCamScale: getCamScale,\n        getCamTransform: getCamTransform,\n        camPos,\n        camScale,\n        camFlash,\n        camRot,\n        camTransform,\n        shake,\n        toScreen,\n        toWorld,\n        setGravity,\n        getGravity,\n        setGravityDirection,\n        getGravityDirection,\n        setBackground,\n        getBackground,\n        getGamepads: app.getGamepads,\n        // obj\n        getTreeRoot,\n        add,\n        make,\n        destroy,\n        destroyAll,\n        get,\n        query,\n        readd,\n        // comps\n        pos,\n        scale,\n        rotate,\n        color,\n        opacity,\n        anchor,\n        area,\n        sprite,\n        text,\n        polygon,\n        rect,\n        circle,\n        uvquad,\n        outline,\n        particles,\n        body,\n        platformEffector: platformEffector,\n        surfaceEffector,\n        areaEffector,\n        pointEffector,\n        buoyancyEffector,\n        constantForce,\n        doubleJump,\n        shader,\n        textInput,\n        timer,\n        fixed,\n        stay,\n        health,\n        lifespan,\n        named,\n        state,\n        z,\n        layer,\n        move,\n        offscreen,\n        follow,\n        fadeIn,\n        mask,\n        drawon,\n        raycast,\n        tile,\n        animate,\n        serializeAnimation,\n        agent,\n        sentry,\n        patrol,\n        pathfinder,\n        // group events\n        trigger,\n        on: on as KAPLAYCtx[\"on\"], // our internal on should be strict, user shouldn't\n        onFixedUpdate,\n        onUpdate,\n        onDraw,\n        onAdd,\n        onDestroy,\n        onTag,\n        onUntag,\n        onUse,\n        onUnuse,\n        onClick,\n        onCollide,\n        onCollideUpdate,\n        onCollideEnd,\n        onHover,\n        onHoverUpdate,\n        onHoverEnd,\n        // input\n        onKeyDown: app.onKeyDown,\n        onKeyPress: app.onKeyPress,\n        onKeyPressRepeat: app.onKeyPressRepeat,\n        onKeyRelease: app.onKeyRelease,\n        onMouseDown: app.onMouseDown,\n        onMousePress: app.onMousePress,\n        onMouseRelease: app.onMouseRelease,\n        onMouseMove: app.onMouseMove,\n        onCharInput: app.onCharInput,\n        onTouchStart: app.onTouchStart,\n        onTouchMove: app.onTouchMove,\n        onTouchEnd: app.onTouchEnd,\n        onScroll: app.onScroll,\n        onHide: app.onHide,\n        onShow: app.onShow,\n        onGamepadButtonDown: app.onGamepadButtonDown,\n        onGamepadButtonPress: app.onGamepadButtonPress,\n        onGamepadButtonRelease: app.onGamepadButtonRelease,\n        onGamepadStick: app.onGamepadStick,\n        onButtonPress: app.onButtonPress,\n        onButtonDown: app.onButtonDown,\n        onButtonRelease: app.onButtonRelease,\n        mousePos: mousePos,\n        mouseDeltaPos: app.mouseDeltaPos,\n        isKeyDown: app.isKeyDown,\n        isKeyPressed: app.isKeyPressed,\n        isKeyPressedRepeat: app.isKeyPressedRepeat,\n        isKeyReleased: app.isKeyReleased,\n        isMouseDown: app.isMouseDown,\n        isMousePressed: app.isMousePressed,\n        isMouseReleased: app.isMouseReleased,\n        isMouseMoved: app.isMouseMoved,\n        isGamepadButtonPressed: app.isGamepadButtonPressed,\n        isGamepadButtonDown: app.isGamepadButtonDown,\n        isGamepadButtonReleased: app.isGamepadButtonReleased,\n        getGamepadStick: app.getGamepadStick,\n        isButtonPressed: app.isButtonPressed,\n        isButtonDown: app.isButtonDown,\n        isButtonReleased: app.isButtonReleased,\n        setButton: app.setButton,\n        getButton: app.getButton,\n        pressButton: app.pressButton,\n        releaseButton: app.releaseButton,\n        getLastInputDeviceType: app.getLastInputDeviceType,\n        charInputted: app.charInputted,\n        // timer\n        loop,\n        wait,\n        // audio\n        play,\n        setVolume: setVolume,\n        getVolume: getVolume,\n        volume,\n        burp,\n        audioCtx: audio.ctx,\n        // math\n        Line,\n        Rect,\n        Circle,\n        Ellipse,\n        Point,\n        Polygon,\n        Vec2,\n        Color,\n        Mat4,\n        Quad,\n        RNG,\n        rand,\n        randi,\n        randSeed,\n        vec2,\n        rgb,\n        hsl2rgb,\n        quad,\n        choose,\n        chooseMultiple,\n        shuffle,\n        chance,\n        lerp,\n        tween,\n        easings,\n        map,\n        mapc,\n        wave,\n        deg2rad,\n        rad2deg,\n        clamp,\n        evaluateQuadratic,\n        evaluateQuadraticFirstDerivative,\n        evaluateQuadraticSecondDerivative,\n        evaluateBezier,\n        evaluateBezierFirstDerivative,\n        evaluateBezierSecondDerivative,\n        evaluateCatmullRom,\n        evaluateCatmullRomFirstDerivative,\n        curveLengthApproximation,\n        normalizedCurve,\n        hermite,\n        cardinal,\n        catmullRom,\n        bezier,\n        kochanekBartels,\n        easingSteps,\n        easingLinear,\n        easingCubicBezier,\n        testLineLine,\n        testRectRect,\n        testRectLine,\n        testRectPoint,\n        testCirclePolygon,\n        testLinePoint,\n        testLineCircle,\n        isConvex,\n        triangulate,\n        NavMesh,\n        // raw draw\n        drawSprite,\n        drawText,\n        formatText,\n        drawRect,\n        drawLine,\n        drawLines,\n        drawTriangle,\n        drawCircle,\n        drawEllipse,\n        drawUVQuad,\n        drawPolygon,\n        drawCurve,\n        drawBezier,\n        drawFormattedText,\n        drawMasked,\n        drawSubtracted,\n        pushTransform,\n        popTransform,\n        pushTranslate,\n        pushScale,\n        pushRotate,\n        pushMatrix,\n        usePostEffect,\n        makeCanvas,\n        // debug\n        debug,\n        // scene\n        scene,\n        getSceneName,\n        go,\n        onSceneLeave,\n        // layers\n        layers: layers,\n        getLayers: getLayers,\n        setLayers: setLayers,\n        getDefaultLayer: getDefaultLayer,\n        // level\n        addLevel,\n        // storage\n        getData,\n        setData,\n        download,\n        downloadJSON,\n        downloadText,\n        downloadBlob,\n        // plugin\n        plug,\n        // char sets\n        ASCII_CHARS,\n        // dom\n        canvas: app.canvas,\n        // misc\n        addKaboom,\n        // dirs\n        LEFT: Vec2.LEFT,\n        RIGHT: Vec2.RIGHT,\n        UP: Vec2.UP,\n        DOWN: Vec2.DOWN,\n        // colors\n        RED: Color.RED,\n        GREEN: Color.GREEN,\n        BLUE: Color.BLUE,\n        YELLOW: Color.YELLOW,\n        MAGENTA: Color.MAGENTA,\n        CYAN: Color.CYAN,\n        WHITE: Color.WHITE,\n        BLACK: Color.BLACK,\n        quit,\n        // helpers\n        KEvent,\n        KEventHandler,\n        KEventController,\n        cancel: () => EVENT_CANCEL_SYMBOL,\n    };\n\n    _k.k = ctx;\n\n    const plugins = gopt.plugins as KAPLAYPlugin<Record<string, unknown>>[];\n\n    if (plugins) {\n        plugins.forEach(plug);\n    }\n\n    // export everything to window if global is set\n    if (gopt.global !== false) {\n        for (const key in ctx) {\n            (<any> window[<any> key]) = ctx[key as keyof KAPLAYCtx];\n        }\n    }\n\n    if (gopt.focus !== false) {\n        app.canvas.focus();\n    }\n\n    return ctx as unknown as TPlugins extends [undefined]\n        ? KAPLAYCtx<TButtons, TButtonsName>\n        : KAPLAYCtx<TButtons, TButtonsName> & MergePlugins<TPlugins>;\n};\n\nexport { kaplay };\n","import { kaplay } from \"./kaplay\";\n\nexport type {\n    AsepriteData,\n    Asset,\n    AssetBucket,\n    AssetsCtx,\n    BitmapFontData,\n    FontData,\n    GfxFont,\n    LoadBitmapFontOpt,\n    LoadSpriteOpt,\n    LoadSpriteSrc,\n    NineSlice,\n    PeditFile,\n    Shader,\n    ShaderData,\n    SoundData,\n    SpriteAnim,\n    SpriteAnims,\n    SpriteAtlasData,\n    SpriteAtlasEntry,\n    SpriteData,\n    Uniform,\n    UniformKey,\n    UniformValue,\n} from \"./assets\";\nexport type { AudioCtx, AudioPlay, AudioPlayOpt } from \"./audio\";\nexport type {\n    AgentComp,\n    AgentCompOpt,\n    AnchorComp,\n    AnimateComp,\n    AnimateCompOpt,\n    AnimateOpt,\n    AreaComp,\n    AreaCompOpt,\n    AreaEffectorComp,\n    AreaEffectorCompOpt,\n    BaseValues,\n    BodyComp,\n    BodyCompOpt,\n    BuoyancyEffectorComp,\n    BuoyancyEffectorCompOpt,\n    CircleComp,\n    CircleCompOpt,\n    ColorComp,\n    ConstantForceComp,\n    ConstantForceCompOpt,\n    DoubleJumpComp,\n    EmitterOpt,\n    FixedComp,\n    FollowComp,\n    ForceMode,\n    HealthComp,\n    LayerComp,\n    LifespanCompOpt,\n    MaskComp,\n    NamedComp,\n    OffScreenComp,\n    OffScreenCompOpt,\n    OpacityComp,\n    OutlineComp,\n    ParticlesComp,\n    ParticlesOpt,\n    PathfinderComp,\n    PathfinderCompOpt,\n    PathfinderMapComp,\n    PathfinderMapCompOpt,\n    PatrolComp,\n    PatrolCompOpt,\n    PlatformEffectorComp,\n    PlatformEffectorCompOpt,\n    PointEffectorComp,\n    PointEffectorCompOpt,\n    PolygonComp,\n    PolygonCompOpt,\n    PosComp,\n    RectComp,\n    RectCompOpt,\n    RotateComp,\n    ScaleComp,\n    SentryCandidates,\n    SentryCandidatesCb,\n    SentryComp,\n    SentryCompOpt,\n    ShaderComp,\n    SpriteComp,\n    SpriteCompOpt,\n    StateComp,\n    StayComp,\n    SurfaceEffectorComp,\n    SurfaceEffectorCompOpt,\n    TextComp,\n    TextCompOpt,\n    TextInputComp,\n    TileComp,\n    TileCompOpt,\n    TimerComp,\n    UVQuadComp,\n    ZComp,\n} from \"./components\";\nexport type {\n    BoomOpt,\n    Game,\n    GameObjEventMap,\n    GameObjEventNames,\n    LevelOpt,\n    SceneDef,\n    SceneName,\n    TupleWithoutFirst,\n} from \"./game\";\nexport type {\n    AppGfxCtx,\n    BatchRenderer,\n    CharTransform,\n    CharTransformFunc,\n    DrawBezierOpt,\n    DrawCircleOpt,\n    DrawCurveOpt,\n    DrawLineOpt,\n    DrawLinesOpt,\n    DrawRectOpt,\n    DrawSpriteOpt,\n    DrawTextOpt,\n    DrawTriangleOpt,\n    FormattedChar,\n    FormattedText,\n    FrameBuffer,\n    GfxCtx,\n    LineCap,\n    LineJoin,\n    Mesh,\n    TextAlign,\n    Texture,\n    VertexFormat,\n} from \"./gfx\";\nexport type {\n    Circle,\n    Color,\n    ColorArgs,\n    Ellipse,\n    Graph,\n    Grid,\n    Line,\n    Mat4,\n    NavMesh,\n    Point,\n    Polygon,\n    Quad,\n    RaycastHit,\n    RaycastResult,\n    Rect,\n    RGBAValue,\n    RGBValue,\n    RNG,\n    SatResult,\n    ShapeType,\n    StepPosition,\n    Vec2,\n    Vec2Args,\n} from \"./math\";\nexport type {\n    Anchor,\n    Canvas,\n    Collision,\n    Comp,\n    CompList,\n    Cursor,\n    Debug,\n    DrawEllipseOpt,\n    DrawPolygonOpt,\n    DrawTextureOpt,\n    DrawUVQuadOpt,\n    EaseFunc,\n    EaseFuncs,\n    Edge,\n    EdgeMask,\n    EmptyComp,\n    GameObj,\n    GameObjID,\n    GameObjInspect,\n    GameObjRaw,\n    GamepadDef,\n    GamepadStick,\n    GetOpt,\n    ImageSource,\n    KAPLAYCtx,\n    KAPLAYOpt,\n    KAPLAYPlugin,\n    Key,\n    KGamepad,\n    KGamepadButton,\n    LerpValue,\n    LevelComp,\n    LoadFontOpt,\n    Mask,\n    MergeComps,\n    MergeObj,\n    MergePlugins,\n    MouseButton,\n    MusicData,\n    Outline,\n    PathFindOpt,\n    PluginList,\n    QueryOpt,\n    Recording,\n    RenderProps,\n    RNGValue,\n    Shape,\n    SpriteAnimPlayOpt,\n    SpriteCurAnim,\n    Tag,\n    TexFilter,\n    TextureOpt,\n    TexWrap,\n    TimerController,\n    TweenController,\n    Vertex,\n} from \"./types\";\nexport type {\n    BinaryHeap,\n    KEvent,\n    KEventController,\n    KEventHandler,\n    Registry,\n} from \"./utils\";\n\nexport default kaplay;\n","import { GameObj, KAPLAYCtx } from \"kaplay\";\r\n\r\nimport socket from \"src/components/socket\";\r\nimport { updateCamPos, updateCamZoom } from \"src/utils/camUtils\";\r\n\r\nexport default function init_room(k: KAPLAYCtx) {\r\n    k.scene('room', () => {\r\n        let player_names: string[] = [];\r\n        let ready_states: boolean[] = [];\r\n\r\n        let background = k.add([\r\n            k.rect(k.width(), k.height()),\r\n            k.anchor('center'),\r\n            k.pos(k.center()),\r\n        ])\r\n        updateCamPos(k, background.pos);\r\n        updateCamZoom(k);\r\n\r\n        let elements = draw_room(k);\r\n        let room_name = elements[0];\r\n        let max_players = elements[1];\r\n        let round_time = elements[2];\r\n        let board_size = elements[3];\r\n        let room_id = elements[4];\r\n        let lobby = elements[5];\r\n        let leave = elements[6];\r\n        let start = elements[7];\r\n        let ready = elements[8];\r\n\r\n        leave.onClick(() => {\r\n            socket.emit('leave_room', socket.id, room_id.text);\r\n            k.go('menu');\r\n        })\r\n\r\n        ready.onClick(() => {\r\n            socket.emit('signal_ready', socket.id, room_id.text);\r\n            ready.ready = !ready.ready;\r\n            if (ready.ready) {\r\n                ready.color = k.rgb(0, 125, 0);\r\n            } else {\r\n                ready.color = k.rgb(255, 0, 0);\r\n            }\r\n        })\r\n\r\n        start.onClick(() => {\r\n            socket.emit('signal_ready', socket.id, room_id.text);\r\n            socket.emit('signal_start', room_id.text);\r\n        })\r\n\r\n        socket.off('game_start').on('game_start', (board: any, round_time) => {\r\n            k.go('game', { \r\n                board: board, \r\n                round_time: round_time,\r\n                room_id: room_id.text,\r\n            });\r\n        })\r\n\r\n        socket.off('room_info').on('room_info', (room: any, isOwner: boolean) => {\r\n            room_name.text = room.name;\r\n            player_names = room.players.names;\r\n            ready_states = room.players.ready_states;\r\n            max_players.text = room.max_players;\r\n            round_time.text = room.round_time + 's';\r\n            board_size.text = room.board_size + 'x' + room.board_size;\r\n            room_id.text = room.id;\r\n            if (isOwner) {\r\n                start.hidden = false;\r\n                ready.destroy()\r\n            } else {\r\n                start.destroy();\r\n                ready.hidden = false;\r\n            }\r\n        })\r\n\r\n        k.onHover('menu_button', (btn) => {\r\n            k.tween(\r\n                btn.scale,\r\n                k.vec2(1.2),\r\n                0.1,\r\n                (newScale) => btn.scale = newScale,\r\n                k.easings.linear\r\n            )\r\n        })\r\n\r\n        k.onHoverEnd('menu_button', (btn) => {\r\n            k.tween(\r\n                btn.scale,\r\n                k.vec2(1),\r\n                0.1,\r\n                (newScale) => btn.scale = newScale,\r\n                k.easings.linear\r\n            )\r\n        })\r\n\r\n        k.onDraw(() => {\r\n            for (let i = 0; i < player_names.length; i++) {\r\n                let name = player_names[i];\r\n                if (name.length > 16) {\r\n                    name = name.slice(0, 16) + '...';\r\n                }\r\n                k.drawText({\r\n                    anchor: 'left',\r\n                    text: i + 1 + '. ' + name,\r\n                    size: 32,\r\n                    font: 'gaegu',\r\n                    pos: k.vec2(lobby.pos.x - lobby.width/2 + 32, lobby.pos.y - 256 + i * 34),\r\n                    color: k.rgb(0, 0, 0),\r\n                })\r\n\r\n                k.drawText({\r\n                    anchor: 'right',\r\n                    text: ready_states[i] ? 'ready' : '',\r\n                    size: 32,\r\n                    font: 'gaegu',\r\n                    pos: k.vec2(lobby.pos.x + lobby.width/2 - 32, lobby.pos.y - 256 + i * 34),\r\n                    color: k.rgb(0, 0, 0),\r\n                })\r\n            }\r\n        })\r\n\r\n        k.onUpdate(() => {\r\n            updateCamPos(k, background.pos);\r\n            updateCamZoom(k);\r\n        })\r\n    })\r\n}\r\n\r\nfunction draw_room(k: KAPLAYCtx) {\r\n    let base_pos = k.center()\r\n    let x_offset = 0\r\n    let y_offset = 0;\r\n    let lobby_pos = k.center()\r\n    let buttons_pos = k.center().add(-192, 256)\r\n    console.log(k.getCamScale().x)\r\n    if (k.getCamScale().x !== 1) {\r\n        x_offset = -160\r\n        y_offset = 160\r\n        lobby_pos = k.center().add(-282, 128)\r\n        buttons_pos = base_pos.add(0, 512)\r\n    }\r\n    \r\n    k.add([\r\n        k.text('max. players:', { size: 48, font: 'gaegu' }),\r\n        k.pos(base_pos.x - x_offset - 128, base_pos.y - y_offset - 256),\r\n        k.anchor('right'),\r\n        k.color(0, 0, 0),\r\n    ])\r\n\r\n    k.add([\r\n        k.text('round time:', { size: 48, font: 'gaegu' }),\r\n        k.pos(base_pos.x - x_offset - 128, base_pos.y - y_offset - 192),\r\n        k.anchor('right'),\r\n        k.color(0, 0, 0),\r\n    ])\r\n\r\n    k.add([\r\n        k.text('board size:', { size: 48, font: 'gaegu' }),\r\n        k.pos(base_pos.x - x_offset - 128, base_pos.y - y_offset - 128),\r\n        k.anchor('right'),\r\n        k.color(0, 0, 0),\r\n    ])\r\n\r\n    k.add([\r\n        k.text('room id:', { size: 48, font: 'gaegu' }),\r\n        k.pos(base_pos.x - x_offset - 128, base_pos.y - y_offset - 64),\r\n        k.anchor('right'),\r\n        k.color(0, 0, 0),\r\n    ])\r\n\r\n    let room_name = k.add([\r\n        k.text('...', { size: 64, font: 'gaegu' }),\r\n        k.pos(base_pos.x, base_pos.y - y_offset - 360),\r\n        k.anchor('center'),\r\n        k.color(0, 0, 0),\r\n    ])\r\n\r\n    let max_players = k.add([\r\n        k.text('...', { size: 48, font: 'gaegu' }),\r\n        k.pos(base_pos.x - x_offset - 32, base_pos.y - y_offset - 256),\r\n        k.anchor('right'),\r\n        k.color(0, 0, 0),\r\n    ])\r\n\r\n    let round_time = k.add([\r\n        k.text('...', { size: 48, font: 'gaegu' }),\r\n        k.pos(base_pos.x - x_offset - 32, base_pos.y - y_offset - 192),\r\n        k.anchor('right'),\r\n        k.color(0, 0, 0),\r\n    ])\r\n\r\n    let board_size = k.add([\r\n        k.text('...', { size: 48, font: 'gaegu' }),\r\n        k.pos(base_pos.x - x_offset - 32, base_pos.y - y_offset - 128),\r\n        k.anchor('right'),\r\n        k.color(0, 0, 0),\r\n    ])\r\n\r\n    let room_id = k.add([\r\n        k.text('...', { size: 40 }),\r\n        k.pos(base_pos.x - x_offset - 48, base_pos.y - y_offset - 64),\r\n        k.anchor('center'),\r\n        k.color(0, 0, 0),\r\n    ])\r\n\r\n    let lobby = k.add([\r\n        k.rect(500, 600, { fill: false }),\r\n        k.pos(lobby_pos.add(282, 0)),\r\n        k.anchor('center'),\r\n        k.outline(4)\r\n    ])\r\n\r\n    let leave = k.add([\r\n        k.text('leave', { size: 64, font: 'gaegu' }),\r\n        k.pos(buttons_pos.add(-96, 0)),\r\n        k.anchor('center'),\r\n        k.area(),\r\n        k.color(0, 0, 0),\r\n        k.scale(1),\r\n        'menu_button',\r\n    ])\r\n\r\n    let start = k.add([\r\n        k.text('start', { size: 64, font: 'gaegu' }),\r\n        k.pos(buttons_pos.add(96, 0)),\r\n        k.anchor('center'),\r\n        k.area(),\r\n        k.color(0, 0, 0),\r\n        k.scale(1),\r\n        'menu_button',\r\n    ])\r\n    start.hidden = true;\r\n\r\n    let ready = k.add([\r\n        k.text('ready', { size: 64, font: 'gaegu' }),\r\n        k.pos(buttons_pos.add(96, 0)),\r\n        k.anchor('center'),\r\n        k.area(),\r\n        k.color(255, 0, 0),\r\n        k.scale(1),\r\n        'menu_button',\r\n        {\r\n            ready: false,\r\n        }\r\n    ])\r\n    ready.hidden = false;\r\n\r\n    let elements: GameObj[] = [room_name, max_players, round_time, board_size, room_id, lobby, leave, start, ready]\r\n    return elements\r\n}","import { KAPLAYCtx } from \"kaplay\";\r\n\r\nimport socket from \"src/components/socket\";\r\nimport { updateCamPos, updateCamZoom } from \"src/utils/camUtils\";\r\n\r\nexport default function init_join_room(k: KAPLAYCtx) {\r\n    k.scene('join_room', () => {\r\n        let background = k.add([\r\n            k.rect(k.width(), k.height()),\r\n            k.anchor('center'),\r\n            k.pos(k.center()),\r\n        ])\r\n\r\n        updateCamPos(k, background.pos);\r\n        updateCamZoom(k);\r\n\r\n        k.add([\r\n            k.text('Join a room', { size: 64, font: 'gaegu' }),\r\n            k.pos(k.center().x, k.center().y - 256),\r\n            k.anchor('center'),\r\n            k.color(0, 0, 0),\r\n        ])\r\n\r\n        let error = k.add([\r\n            k.text('', { size: 48, font: 'gaegu' }),\r\n            k.pos(k.center().x, k.center().y + 128),\r\n            k.anchor('center'),\r\n            k.color(0, 0, 0),\r\n        ])\r\n\r\n        let cancel = k.add([\r\n            k.text('cancel', { size: 64, font: 'gaegu' }),\r\n            k.pos(k.center().x - 128, k.center().y + 256),\r\n            k.anchor('center'),\r\n            k.area(),\r\n            k.color(0, 0, 0),\r\n            k.scale(1),\r\n            'menu_button',\r\n        ])\r\n\r\n        let join = k.add([\r\n            k.text('join', { size: 64, font: 'gaegu' }),\r\n            k.pos(k.center().x + 128, k.center().y + 256),\r\n            k.anchor('center'),\r\n            k.area(),\r\n            k.color(0, 0, 0),\r\n            k.scale(1),\r\n            'menu_button',\r\n        ])\r\n\r\n        const fields = init_fields(k);\r\n\r\n        cancel.onClick(() => {\r\n            k.go('menu');\r\n        })\r\n\r\n        join.onClick(() => {\r\n            let room_id = fields[0].text;\r\n            if (room_id.length !== 4) {\r\n                error.text = 'Room ID must be 4 characters long';\r\n                join.color = k.rgb(255, 0, 0);\r\n                k.wait(0.5, () => join.color = k.rgb(0, 0, 0));\r\n                return;\r\n            }\r\n            socket.emit('join_room', socket.id, room_id, (response: any) => {\r\n                if (response.status === 'room_not_found') {\r\n                    error.text = 'Room \"' + room_id + '\" not found';\r\n                    join.color = k.rgb(255, 0, 0);\r\n                    k.wait(0.5, () => join.color = k.rgb(0, 0, 0));\r\n                } else if (response.status === 'room_full') {\r\n                    error.text = 'Room \"' + room_id + '\" is full';\r\n                    join.color = k.rgb(255, 0, 0);\r\n                    k.wait(0.5, () => join.color = k.rgb(0, 0, 0));\r\n                } else {\r\n                    k.go('room');\r\n                }\r\n            });\r\n        })\r\n\r\n        k.onHover('menu_button', (btn) => {\r\n            k.tween(\r\n                btn.scale,\r\n                k.vec2(1.2),\r\n                0.1,\r\n                (newScale) => btn.scale = newScale,\r\n                k.easings.linear\r\n            )\r\n        })\r\n\r\n\r\n        k.onHoverEnd('menu_button', (btn) => {\r\n            k.tween(\r\n                btn.scale,\r\n                k.vec2(1),\r\n                0.1,\r\n                (newScale) => btn.scale = newScale,\r\n                k.easings.linear\r\n            )\r\n        })\r\n\r\n        k.onUpdate(() => {\r\n            updateCamPos(k, background.pos);\r\n            updateCamZoom(k);\r\n        })\r\n    })\r\n}\r\n\r\nfunction init_fields(k: KAPLAYCtx) {\r\n    let fields = [];\r\n    k.add([\r\n        k.text('Room ID:', { size: 48, font: 'gaegu' }),\r\n        k.pos(k.center().x, k.center().y - 64),\r\n        k.anchor('center'),\r\n        k.color(0, 0, 0),\r\n    ])\r\n\r\n    k.add([\r\n        k.rect(256, 64, { fill: false }),\r\n        k.pos(k.center().x, k.center().y + 16),\r\n        k.anchor('center'),\r\n        k.outline(4),\r\n    ])\r\n\r\n    let input = k.add([\r\n        k.text('', { size: 48, font: 'gaegu' }),\r\n        k.textInput(true, 4),\r\n        k.pos(k.center().x, k.center().y + 16),\r\n        k.anchor('center'),\r\n        k.color(0, 0, 0),\r\n        'input',\r\n        k.area({ shape: new k.Rect(k.vec2(0, 0), 256, 64) }),\r\n    ])\r\n\r\n    input.onClick(() => {\r\n        let text = prompt('enter a room id: ');\r\n        if (text === null) return;\r\n        input.text = text;\r\n    })\r\n\r\n    fields.push(input);\r\n\r\n    return fields;\r\n}","import './index.css'\r\nimport ReactDOM from 'react-dom/client';\r\nimport ReactUI from './pages/ReactUI';\r\nimport Login from './pages/Login';\r\nimport initGame from \"src/initGame\";\r\nimport { BrowserRouter, Route, Routes } from 'react-router-dom';\r\n\r\nconst root = ReactDOM.createRoot(\r\n  document.getElementById('root') as HTMLElement\r\n);\r\n\r\nroot.render(\r\n  <BrowserRouter>\r\n      <Routes> {/* The Routes decides which component to show based on the current URL.*/}\r\n      <Route path='/' element={<ReactUI />}></Route>\r\n      <Route path='/login' element={<Login />}></Route>\r\n    </Routes>\r\n  </BrowserRouter>\r\n);\r\n\r\ninitGame();\r\n","import init_game from \"./scenes/game\";\r\nimport init_menu from \"./scenes/menu\";\r\nimport init_create_room from \"./scenes/create_room\";\r\n\r\nimport makeKaplayCtx from \"./kaplayCtx\";\r\n\r\nimport init_room from \"./scenes/room\";\r\nimport init_join_room from \"./scenes/join_room\";\r\nimport init_rooms_list from \"./scenes/rooms_list\";\r\nimport init_scores from \"./scenes/scores\";\r\nimport init_stats from \"./scenes/stats\";\r\n\r\nexport default async function initGame() {\r\n\tconst k = makeKaplayCtx()\r\n\r\n    k.setLayers(['bg', 'game', 'fg'], 'game')\r\n\r\n    // load font\r\n    k.loadFont('gaegu', './fonts/Gaegu-Regular.ttf')\r\n\r\n    // load letters\r\n    // for (let i = 0; i < 26; i++)\r\n    //     k.loadSprite(`${String.fromCharCode(65 + i)}`, `./fonts/${String.fromCharCode(65 + i)}.png`)\r\n\r\n\t\r\n    // scenes\r\n    init_menu(k)\r\n    init_game(k)\r\n    init_room(k)\r\n    init_rooms_list(k)\r\n    init_join_room(k)\r\n    init_create_room(k)\r\n    init_scores(k)\r\n    init_stats(k)\r\n\r\n\tk.go('menu')\r\n}","import kaplay from 'kaplay';\r\n\r\nexport default function makeKaplayCtx() {\r\n    return kaplay({\r\n        global: false,\r\n        pixelDensity: 2,\r\n        touchToMouse: true,\r\n        debug: false,\r\n        canvas: document.getElementById('game') as HTMLCanvasElement,\r\n        background: [255, 255, 255],\r\n    });\r\n}","import { GameObj, KAPLAYCtx, Vec2 } from \"kaplay\";\r\nimport { getRelativeMousePos, updateCamPos, updateCamZoom } from \"../utils/camUtils\";\r\n\r\nimport socket from \"src/components/socket\";\r\n\r\nexport default function init_menu(k: KAPLAYCtx) {\r\n    k.scene('menu', () => {\r\n\r\n        // declarations\r\n        let clicked: any = null;\r\n        let loggedIn = false;\r\n\r\n        // draw components\r\n        let background = k.add([\r\n            k.rect(k.width(), k.height()),\r\n            k.area(),\r\n            k.scale(2),\r\n            k.anchor('center'),\r\n            k.pos(k.center()),\r\n        ])\r\n\r\n        updateCamPos(k, background.pos);\r\n        updateCamZoom(k);\r\n\r\n        let menu_labels = ['rooms list', 'create a room', 'join by code', 'stats'];\r\n        let menu_buttons: any[] = [];\r\n\r\n        for (let i = 0; i < menu_labels.length; i++) {\r\n            let button = k.add([\r\n                k.text(menu_labels[i], { size: 64, font: 'gaegu' }),\r\n                k.pos(k.width() / 2, k.height() / 2 + i * 128),\r\n                k.anchor('center'),\r\n                k.area(),\r\n                k.color(0, 0, 0),\r\n                k.scale(1),\r\n                'menu_button',\r\n                'button_' + i,\r\n            ]);\r\n            menu_buttons.push(button);\r\n        }\r\n\r\n\r\n        let letters = draw_title(k);\r\n        \r\n\r\n        // event handlers\r\n        k.onClick('', (object) => {\r\n            if (object.tags.includes('letter')) {\r\n                clicked = object;\r\n            } else {\r\n                clicked = null;\r\n            }\r\n        })\r\n\r\n        k.onClick('menu_button', (btn) => {\r\n            if (btn.text === 'rooms list') {\r\n                k.go('rooms_list');\r\n            } else if (btn.text === 'create a room') {\r\n                k.go('create_room');\r\n            } else if (btn.text === 'join by code') {\r\n                k.go('join_room');\r\n            } else if (btn.text === 'stats') {\r\n                k.go('stats');\r\n            }\r\n        })\r\n\r\n        k.onHover('letter', (letter) => {\r\n            k.tween(\r\n                letter.scale,\r\n                k.vec2(0.55),\r\n                0.1,\r\n                (newScale) => letter.scale = newScale,\r\n                k.easings.linear\r\n            )\r\n        })\r\n\r\n\r\n        k.onHoverEnd('letter', (letter) => {\r\n            k.tween(\r\n                letter.scale,\r\n                k.vec2(0.5),\r\n                0.1,\r\n                (newScale) => letter.scale = newScale,\r\n                k.easings.linear\r\n            )\r\n        })\r\n\r\n        k.onHover('menu_button', (btn) => {\r\n            k.tween(\r\n                btn.scale,\r\n                k.vec2(1.2),\r\n                0.1,\r\n                (newScale) => btn.scale = newScale,\r\n                k.easings.linear\r\n            )\r\n        })\r\n\r\n        k.onHoverEnd('menu_button', (btn) => {\r\n            k.tween(\r\n                btn.scale,\r\n                k.vec2(1),\r\n                0.1,\r\n                (newScale) => btn.scale = newScale,\r\n                k.easings.linear\r\n            )\r\n        })\r\n\r\n        k.onMouseDown(\"left\", () => {\r\n            if (clicked !== null) {\r\n                k.tween(\r\n                    clicked.scale,\r\n                    k.vec2(0.6),\r\n                    0.1,\r\n                    (newScale) => clicked.scale = newScale,\r\n                    k.easings.linear\r\n                )\r\n                k.tween(\r\n                    clicked.pos,\r\n                    getRelativeMousePos(k),\r\n                    0.1,\r\n                    (newPos) => clicked.pos = newPos,\r\n                    k.easings.easeOutQuad\r\n                )\r\n            }\r\n        })\r\n\r\n        k.onMouseRelease(\"left\", () => {\r\n            if (clicked !== null) {\r\n                k.tween(\r\n                    clicked.scale,\r\n                    k.vec2(0.5),\r\n                    0.1,\r\n                    (newScale) => clicked.scale = newScale,\r\n                    k.easings.linear\r\n                )\r\n            }\r\n        })\r\n        \r\n        k.onDraw(() => {\r\n            for (let i in letters) {\r\n                k.drawText({\r\n                    text: letters[i].tags[2],\r\n                    anchor: 'center',\r\n                    pos: letters[i].pos,\r\n                    size: 64,\r\n                    scale: letters[i].scale.x * 2,\r\n                    font: 'gaegu',\r\n                    color: k.rgb(0, 0, 0),\r\n                });\r\n            }\r\n        })\r\n\r\n        socket.on('logged_in', () => loggedIn = true);\r\n\r\n        k.onUpdate(() => {\r\n            if (!loggedIn) {\r\n                menu_buttons[3].text = 'log in to see stats'\r\n                menu_buttons[3].color = k.rgb(128, 128, 128);\r\n            } else {\r\n                menu_buttons[3].text = 'stats';\r\n                menu_buttons[3].color = k.rgb(0, 0, 0);\r\n            }\r\n            updateCamPos(k, background.pos);\r\n            updateCamZoom(k);\r\n            for (let i in letters) {\r\n                \r\n                if (letters[i].hidden) {\r\n                    letters[i].pos = k.center().sub(k.rand(-100, 100), 300 + k.rand(-100, 100));\r\n                }\r\n            }\r\n        })\r\n\r\n        \r\n    });\r\n}\r\n\r\nfunction draw_title(k: KAPLAYCtx) {\r\n    let letters: GameObj[] = [];\r\n    let title = \"WEBHUNT\"\r\n    let polygon = [k.vec2(118, 118),\r\n        k.vec2(128, 100),\r\n        k.vec2(128, -100),\r\n        k.vec2(118, -118),\r\n        k.vec2(100, -128),\r\n        k.vec2(-100, -128),\r\n        k.vec2(-118, -118),\r\n        k.vec2(-128, -100),\r\n        k.vec2(-128, 100),\r\n        k.vec2(-118, 118),\r\n        k.vec2(-100, 128),\r\n        k.vec2(100, 128)];\r\n    if (k.getCamScale().x !== 1) {\r\n        for (let i = 0; i < 3; i++) {\r\n            let letter = k.add([\r\n                k.anchor('center'),\r\n                k.polygon(polygon, {fill: true}),\r\n                k.outline(6),\r\n                k.area(),\r\n                k.body(),\r\n                k.pos(k.center().x - 3/2 * 128 + 64 + i * 128, k.center().y - 384),\r\n                k.scale(0.5),\r\n                k.color(k.rgb(255, 224, 170)),\r\n                k.offscreen({\r\n                    hide: true,\r\n                    distance: 64,\r\n                }),\r\n                'letter',\r\n                title.charAt(i),\r\n            ]);\r\n            letters.push(letter);\r\n        }\r\n\r\n        for (let i = 3; i < title.length; i++) {\r\n            let letter = k.add([\r\n                k.anchor('center'),\r\n                k.polygon(polygon, {fill: true}),\r\n                k.outline(6),\r\n                k.area(),\r\n                k.body(),\r\n                k.pos(k.center().x - 2 * 128 + 64 + (i-3) * 128, k.center().y - 256),\r\n                k.scale(0.5),\r\n                k.color(k.rgb(255, 224, 170)),\r\n                k.offscreen({\r\n                    hide: true,\r\n                    distance: 64,\r\n                }),\r\n                'letter',\r\n                title.charAt(i),\r\n            ]);\r\n            letters.push(letter);\r\n        }\r\n        return letters;\r\n    } else {\r\n        for (let i = 0; i < title.length; i++) {\r\n            let letter = k.add([\r\n                k.anchor('center'),\r\n                k.polygon(polygon, {fill: true}),\r\n                k.outline(6),\r\n                k.area(),\r\n                k.body(),\r\n                k.pos(k.center().x - title.length/2 * 128 + 64 + i * 128, k.center().y - 256),\r\n                k.scale(0.5),\r\n                k.color(k.rgb(255, 224, 170)),\r\n                k.offscreen({\r\n                    hide: true,\r\n                    distance: 64,\r\n                }),\r\n                'letter',\r\n                title.charAt(i),\r\n            ]);\r\n    \r\n            letters.push(letter);\r\n        }\r\n    }\r\n    \r\n    return letters;\r\n}","import { GameObj, KAPLAYCtx, Vec2 } from \"kaplay\";\r\nimport drawBoard from \"../components/board\";\r\nimport { updateCamPos, updateCamZoom } from \"../utils/camUtils\";\r\n\r\nimport socket from \"src/components/socket\";\r\n\r\nexport default function init_game(k: KAPLAYCtx) {\r\n    k.scene('game', (data) => {\r\n\r\n        // declarations\r\n        let board: { [key: number]: string[] } = data.board;\r\n        let time: number = data.round_time;\r\n        let room_id = data.room_id;\r\n\r\n        let total_score = 0;\r\n        let selected: any[] = [];\r\n        let points: Vec2[] = [];\r\n        let size = Object.keys(board).length;\r\n        let side_length = 128 * size;\r\n\r\n        let background = k.add([\r\n            k.rect(k.width(), k.height()),\r\n            k.anchor('center'),\r\n            k.pos(k.center()),\r\n        ])\r\n        updateCamPos(k, background.pos);\r\n        updateCamZoom(k);\r\n\r\n        k.setCamScale(k.getCamScale().x * 5/size);\r\n\r\n        // component drawing\r\n        let board_container = drawBoard(k, size);\r\n\r\n        let score_output = k.add([\r\n            k.text('score:' + total_score, { size: 48, font: 'gaegu' }),\r\n            k.pos(board_container.pos.x - board_container.width/2, board_container.pos.y - board_container.height/2 - 64),\r\n            k.color(0, 0, 0),\r\n            'output'\r\n        ])\r\n\r\n        let word_output = k.add([\r\n            k.text('', { size: 64, font: 'gaegu', align: 'center'}),   \r\n            k.pos(board_container.pos.x, board_container.pos.y + board_container.height/2 + 96),\r\n            k.color(0, 0, 0),\r\n            k.anchor('center'),\r\n            'output'\r\n        ])\r\n\r\n        k.add([\r\n            k.anchor('topright'),\r\n            k.text('time: ', { size: 48, font: 'gaegu', align: 'right'}),\r\n            k.pos(board_container.pos.x + board_container.width/2 - 32, board_container.pos.y - board_container.height/2 - 64),\r\n            k.color(0, 0, 0),\r\n        ]);\r\n\r\n\r\n        // timer setup\r\n        let timer_output = k.add([\r\n            k.anchor('topright'),\r\n            k.text(time.toString(), { size: 48, font: 'gaegu', align: 'right'}),\r\n            k.pos(board_container.pos.x + board_container.width/2, board_container.pos.y - board_container.height/2 - 64),\r\n            k.color(0, 0, 0),\r\n        ]);\r\n\r\n        k.loop(1, () => {\r\n            time -= 1;\r\n            timer_output.text = time.toString();\r\n            if (time <= 0) {\r\n                socket.emit('submit_score', socket.id, total_score, (response: any) => {\r\n                    if (response.status === 'ok') {\r\n                        k.go('scores', room_id);\r\n                    } else {\r\n                        console.log(response.message);\r\n                    }\r\n                });\r\n            }\r\n        })\r\n        \r\n        for (let i = 0; i < size; i++) {\r\n            for (let j = 0; j < size; j++) {   \r\n                let letterPos = k.vec2(k.center().sub(side_length/2 - 64 - i * 128, side_length/2 - 64 - j * 128))\r\n                k.add([\r\n                    k.polygon([\r\n                        k.vec2(118, 118),\r\n                        k.vec2(128, 100),\r\n                        k.vec2(128, -100),\r\n                        k.vec2(118, -118),\r\n                        k.vec2(100, -128),\r\n                        k.vec2(-100, -128),\r\n                        k.vec2(-118, -118),\r\n                        k.vec2(-128, -100),\r\n                        k.vec2(-128, 100),\r\n                        k.vec2(-118, 118),\r\n                        k.vec2(-100, 128),\r\n                        k.vec2(100, 128),\r\n        \r\n                    ]),\r\n                    k.outline(6),\r\n                    k.scale(0.5),\r\n                    k.color(k.rgb(255, 224, 170)),\r\n                    k.area({shape: new k.Polygon([\r\n                        k.vec2(128, -32),\r\n                        k.vec2(128, 32),\r\n                        k.vec2(32, 128),\r\n                        k.vec2(-32, 128),\r\n                        k.vec2(-128, 32),\r\n                        k.vec2(-128, -32),\r\n                        k.vec2(-32, -128),\r\n                        k.vec2(32, -128),\r\n                    ])}),\r\n                    k.pos(letterPos),\r\n                    board[i][j],\r\n                    'letter',\r\n                ])\r\n                k.add([\r\n                    k.text(board[i][j], {size: 64, font: 'gaegu'}),\r\n                    k.pos(letterPos),\r\n                    k.anchor('center'),\r\n                    k.color(0, 0, 0),\r\n                    k.z(1),\r\n                ])\r\n            }   \r\n        }\r\n        k.onDraw(() => {\r\n            k.drawLines({ \r\n                pts: points, \r\n                width: 10, \r\n                color: k.rgb(255, 0, 0),\r\n                opacity: 0.5,\r\n                cap: 'round' });\r\n        })\r\n\r\n\r\n\r\n        // event handlers\r\n        \r\n\r\n        k.onHoverUpdate('letter', (letter) => {\r\n            if (k.isMouseDown('left')) {\r\n                if (!(selected.includes(letter))) {\r\n                    if (selected.length > 0) {\r\n                        // check if the next letter is adjacent to the previous\r\n                        let last = selected[selected.length - 1];\r\n                        let dist_x = Math.abs(last.pos.sub(letter.pos).x);\r\n                        let dist_y = Math.abs(last.pos.sub(letter.pos).y);\r\n                        if (\r\n                            dist_x <= 130 &&\r\n                            dist_y <= 130\r\n                        ) {\r\n                            selected.push(letter);\r\n                            points.push(letter.pos);\r\n                        }\r\n                    } else {\r\n                        selected.push(letter);\r\n                        points.push(letter.pos);\r\n                    }\r\n                }\r\n            }\r\n        })\r\n\r\n        k.onMouseRelease('left', () => {\r\n            points = [];\r\n            if (selected.length > 2) {\r\n                let word = '';\r\n                selected.forEach((letter: GameObj) => {\r\n                    word += letter.tags[1];\r\n                })\r\n                word_output.text = word + '\\n';\r\n                socket.emit('word', socket.id, word, (response: any) => {\r\n                    if (response.status === 'ok') {\r\n                        total_score += response.score;\r\n                        score_output.text = 'score: ' + total_score;\r\n                        word_output.text += response.score;\r\n                    } else if (response.status === 'repeated') {\r\n                        word_output.text += 'already found'\r\n                    }\r\n                });\r\n            }\r\n            selected = [];\r\n        })\r\n\r\n        k.onUpdate(() => {\r\n            updateCamPos(k, board_container.pos);\r\n        })\r\n    })\r\n\r\n}","import { KAPLAYCtx } from \"kaplay\";\r\n\r\nexport default function drawBoard(k: KAPLAYCtx, size: number) {\r\n    let side_length = 128 * size;\r\n\r\n    let board = k.add([\r\n        k.rect(side_length + 8, side_length + 8, { fill: false, radius: 16}),\r\n        k.anchor('center'),\r\n        k.pos(k.center()),\r\n        k.outline(4),\r\n    ])\r\n\r\n    return board;\r\n}","import { KAPLAYCtx } from \"kaplay\";\r\n\r\nimport socket from \"src/components/socket\";\r\nimport { updateCamPos, updateCamZoom } from \"src/utils/camUtils\";\r\n\r\nexport default function init_rooms_list(k: KAPLAYCtx) {\r\n    k.scene('rooms_list', () => {\r\n        let room_objs: any[] = [];\r\n        requestRooms();\r\n\r\n        k.add([\r\n            k.text('Rooms list', { size: 64, font: 'gaegu' }),\r\n            k.pos(k.center().x, k.center().y - 360),\r\n            k.anchor('center'),\r\n            k.color(0, 0, 0),\r\n        ])\r\n\r\n        let error = k.add([\r\n            k.text('', { size: 48, font: 'gaegu' }),\r\n            k.pos(k.center().x, k.center().y + 260),\r\n            k.anchor('center'),\r\n            k.color(0, 0, 0),\r\n        ])\r\n\r\n        let rooms_container = k.add([\r\n            k.rect(512, 512, { fill: false }),\r\n            k.pos(k.center().sub(0, 40)),\r\n            k.anchor('center'),\r\n            k.outline(4)\r\n        ])\r\n        k.setCamPos(rooms_container.pos)\r\n\r\n        let back = k.add([\r\n            k.text('back', { size: 64, font: 'gaegu' }),\r\n            k.pos(k.center().x - 128, k.center().y + 320),\r\n            k.anchor('center'),\r\n            k.area(),\r\n            k.color(0, 0, 0),\r\n            k.scale(1),\r\n            'menu_button',\r\n        ])\r\n\r\n        let refresh = k.add([\r\n            k.text('refresh', { size: 64, font: 'gaegu' }),\r\n            k.pos(k.center().x + 128, k.center().y + 320),\r\n            k.anchor('center'),\r\n            k.area(),\r\n            k.color(0, 0, 0),\r\n            k.scale(1),\r\n            'menu_button',\r\n        ])\r\n\r\n        back.onClick(() => {\r\n            k.go('menu');\r\n        })\r\n\r\n        socket.emit('get_rooms', (rooms: any) => {\r\n            if (rooms.length === 0) {\r\n            }\r\n        })\r\n\r\n        refresh.onClick(() => {\r\n            requestRooms();\r\n        })\r\n\r\n        k.onClick('room', (room) => {\r\n            socket.emit('join_room', socket.id, room.room_id, (response: any) => {\r\n                if (response.status === 'room_not_found') {\r\n                    error.text = 'Room \"' + room.room_id + '\" not found';\r\n                    socket.emit('request_rooms', socket.id);\r\n                } else if (response.status === 'room_full') {\r\n                    error.text = 'Room \"' + room.room_id + '\" is full';\r\n                    socket.emit('request_rooms', socket.id);\r\n                } else {\r\n                    k.go('room');\r\n                }\r\n            });\r\n        })\r\n\r\n        k.onHover('menu_button', (btn) => {\r\n            k.tween(\r\n                btn.scale,\r\n                k.vec2(1.2),\r\n                0.1,\r\n                (newScale) => btn.scale = newScale,\r\n                k.easings.linear\r\n            )\r\n        })\r\n\r\n        k.onHoverEnd('menu_button', (btn) => {\r\n            k.tween(\r\n                btn.scale,\r\n                k.vec2(1),\r\n                0.1,\r\n                (newScale) => btn.scale = newScale,\r\n                k.easings.linear\r\n            )\r\n        })\r\n\r\n        k.onHover('room', (btn) => {\r\n            k.tween(\r\n                btn.scale,\r\n                k.vec2(1.2),\r\n                0.1,\r\n                (newScale) => btn.scale = newScale,\r\n                k.easings.linear\r\n            )\r\n        })\r\n\r\n        k.onHoverEnd('room', (btn) => {\r\n            k.tween(\r\n                btn.scale,\r\n                k.vec2(1),\r\n                0.1,\r\n                (newScale) => btn.scale = newScale,\r\n                k.easings.linear\r\n            )\r\n        })\r\n\r\n        k.onUpdate(() => {\r\n            updateCamPos(k, rooms_container.pos);\r\n            updateCamZoom(k);\r\n        })\r\n\r\n        function requestRooms() {\r\n            socket.emit('request_rooms', socket.id, (response: any) => {\r\n                if (response.status === 'error') {\r\n                    console.log(response.mesage);\r\n                    return\r\n                }\r\n\r\n                let rooms = response.rooms;\r\n                for (let i = 0; i < room_objs.length; i++) {\r\n                    room_objs[i].destroy();\r\n                }\r\n                for (let i = 0; i < rooms.length; i++) {\r\n                    let room = rooms[i];\r\n                    if (room.cur_players === room.max_players) {\r\n                        delete rooms[i];\r\n                    }\r\n                }\r\n                if (rooms.length === 0) {\r\n                    error.text = 'No rooms available';\r\n                    refresh.color = k.rgb(255, 0, 0);\r\n                    k.wait(0.5, () => refresh.color = k.rgb(0, 0, 0));\r\n                } else {\r\n                    error.text = '';\r\n                    for (let i = 0; i < rooms.length; i++) {\r\n                        let room = rooms[i];\r\n                        let room_obj = k.add([\r\n                            k.text(room.name + ' (' + room.cur_players + '/' + room.max_players + ')', { size: 48, font: 'gaegu' }),\r\n                            k.anchor('center'),\r\n                            k.pos(rooms_container.pos.x, rooms_container.pos.y - 224 + i * 64),\r\n                            k.area(),\r\n                            k.scale(1),\r\n                            k.color(k.rgb(0, 0, 0)),\r\n                            'room',\r\n                            {\r\n                                room_id: room.room_id,\r\n                            }\r\n                        ])\r\n                        room_objs.push(room_obj);\r\n                    }\r\n                } \r\n            });\r\n        }\r\n    })\r\n}\r\n","import { KAPLAYCtx } from \"kaplay\";\r\nimport { updateCamPos, updateCamZoom } from \"../utils/camUtils\";\r\n\r\nimport socket from \"src/components/socket\";\r\n\r\nexport default function init_scores(k: KAPLAYCtx) {\r\n    k.scene('scores', (room_id) => {\r\n\r\n        socket.emit('signal_finish', socket.id, room_id);\r\n        \r\n        let scores: [string, number][] = []\r\n\r\n        k.add([\r\n            k.text('final scores', { size: 64, font: 'gaegu' }),\r\n            k.pos(k.center().x, k.center().y - 360),\r\n            k.anchor('center'),\r\n            k.color(0, 0, 0),\r\n        ])\r\n\r\n        let scores_container = k.add([\r\n            k.rect(512, 512, { fill: false }),\r\n            k.pos(k.center().sub(0, 40)),\r\n            k.anchor('center'),\r\n            k.outline(4)\r\n        ])\r\n\r\n        let back = k.add([\r\n            k.text('done', { size: 64, font: 'gaegu' }),\r\n            k.pos(k.center().x, k.center().y + 320),\r\n            k.anchor('center'),\r\n            k.area(),\r\n            k.color(0, 0, 0),\r\n            k.scale(1),\r\n            'menu_button',\r\n        ])\r\n\r\n        socket.off('update_scores').on('update_scores', (data: [string, number][]) => {\r\n            scores = data;\r\n        })\r\n\r\n        back.onClick(() => {\r\n            k.go('room');\r\n        })\r\n\r\n        k.onHover('menu_button', (btn) => {\r\n            k.tween(\r\n                btn.scale,\r\n                k.vec2(1.2),\r\n                0.1,\r\n                (newScale) => btn.scale = newScale,\r\n                k.easings.linear\r\n            )\r\n        })\r\n\r\n        k.onHoverEnd('menu_button', (btn) => {\r\n            k.tween(\r\n                btn.scale,\r\n                k.vec2(1),\r\n                0.1,\r\n                (newScale) => btn.scale = newScale,\r\n                k.easings.linear\r\n            )\r\n        })\r\n\r\n        k.onUpdate(() => {\r\n            let j = 0;\r\n            for (let i in scores) {\r\n                k.drawText({\r\n                    anchor: 'center',\r\n                    text: j + 1 + '. ' + scores[i][0] + ': ' + scores[i][1],\r\n                    size: 32,\r\n                    font: 'gaegu',\r\n                    pos: k.vec2(scores_container.pos.x, scores_container.pos.y - 224 + j * 34),\r\n                    color: k.rgb(0, 0, 0),\r\n                })\r\n                j += 1;\r\n            }\r\n            updateCamPos(k, scores_container.pos);\r\n            updateCamZoom(k);\r\n        })\r\n    })\r\n}","import { KAPLAYCtx } from \"kaplay\";\r\nimport { updateCamPos, updateCamZoom } from \"../utils/camUtils\";\r\n\r\nimport socket from \"src/components/socket\";\r\n\r\nexport default function init_stats(k: KAPLAYCtx) {\r\n    k.scene('stats', () => {\r\n\r\n        let background = k.add([\r\n            k.rect(k.width(), k.height()),\r\n            k.anchor('center'),\r\n            k.pos(k.center()),\r\n        ])\r\n\r\n        updateCamPos(k, background.pos);\r\n        updateCamZoom(k);\r\n\r\n        let stats = drawStats(k);\r\n\r\n        let title = k.add([\r\n            k.text('Stats for ', { size: 64, font: 'gaegu' }),\r\n            k.pos(k.center().x, k.center().y - 320),\r\n            k.anchor('center'),\r\n            k.color(0, 0, 0),\r\n        ])\r\n\r\n        let back = k.add([\r\n            k.text('back', { size: 64, font: 'gaegu' }),\r\n            k.pos(k.center().x , k.center().y + 320),\r\n            k.anchor('center'),\r\n            k.area(),\r\n            k.color(0, 0, 0),\r\n            k.scale(1),\r\n            'menu_button',\r\n        ])\r\n\r\n        back.onClick(() => {\r\n            k.go('menu');\r\n        })\r\n\r\n        k.onHover('menu_button', (btn) => {\r\n            k.tween(\r\n                btn.scale,\r\n                k.vec2(1.2),\r\n                0.1,\r\n                (newScale) => btn.scale = newScale,\r\n                k.easings.linear\r\n            )\r\n        })\r\n\r\n        k.onHoverEnd('menu_button', (btn) => {\r\n            k.tween(\r\n                btn.scale,\r\n                k.vec2(1),\r\n                0.1,\r\n                (newScale) => btn.scale = newScale,\r\n                k.easings.linear\r\n            )\r\n        })\r\n\r\n        socket.emit('request_stats', socket.id, (response: any) => {\r\n            if (response.status === 'ok') {\r\n                let user = response.user\r\n                title.text += user.displayName;\r\n                stats[0].text = user.total_score;\r\n                stats[1].text = user.highest_score;\r\n                stats[2].text = user.games_played;\r\n                stats[3].text = user.games_won;\r\n                stats[4].text = user.avg_score_per_game.toFixed(2);\r\n                stats[5].text = user.words_found;\r\n                stats[6].text = user.avg_score_per_word.toFixed(2);\r\n            } else {\r\n                console.log(response.message);\r\n            }\r\n        })\r\n\r\n        k.onUpdate(() => {\r\n            updateCamPos(k, background.pos);\r\n            updateCamZoom(k);\r\n        })\r\n    })\r\n}\r\n\r\nfunction drawStats(k: KAPLAYCtx) {\r\n    let stats = [];\r\n    let stat_labels = ['total score', 'highest score', 'games played', 'games won', 'avg score/game', 'words found', 'avg score/word'];\r\n    for (let i = 0; i < stat_labels.length; i++) {\r\n        k.add([\r\n            k.text(stat_labels[i] + ':', { size: 64, font: 'gaegu' }),\r\n            k.pos(k.center().x, k.center().y - 224 + i * 64),\r\n            k.anchor('right'),\r\n            k.color(0, 0, 0),\r\n        ])\r\n\r\n        let stat = k.add([\r\n            k.text('', { size: 64, font: 'gaegu' }),\r\n            k.pos(k.center().x + 32, k.center().y - 224 + i * 64),\r\n            k.anchor('left'),\r\n            k.color(0, 0, 0),\r\n        ])\r\n\r\n        stats.push(stat);\r\n    }\r\n\r\n    return stats;\r\n}"],"names":["Scheduler","require","React","ReactDOM","formatProdErrorMessage","code","url","arguments","length","encodeURIComponent","i","isValidContainer","node","nodeType","REACT_LEGACY_ELEMENT_TYPE","Symbol","for","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONSUMER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_OFFSCREEN_TYPE","REACT_MEMO_CACHE_SENTINEL","MAYBE_ITERATOR_SYMBOL","iterator","getIteratorFn","maybeIterable","REACT_CLIENT_REFERENCE","getComponentNameFromType","type","$$typeof","displayName","name","_context","innerType","render","_payload","_init","x","prefix","suffix","ReactSharedInternals","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","assign","Object","describeBuiltInComponentFrame","Error","match","stack","trim","indexOf","reentry","describeNativeComponentFrame","fn","construct","previousPrepareStackTrace","prepareStackTrace","RunInRootFrame","DetermineComponentFrameRoot","Fake","defineProperty","prototype","set","Reflect","control","call","x$0","x$1","catch","sample","namePropDescriptor","getOwnPropertyDescriptor","configurable","value","_RunInRootFrame$Deter","sampleStack","controlStack","sampleLines","split","controlLines","includes","frame","replace","describeFiber","fiber","tag","getStackByFiberInDevAndProd","workInProgress","info","return","message","getNearestMountedFiber","nearestMounted","alternate","flags","getSuspenseInstanceFromFiber","suspenseState","memoizedState","dehydrated","assertIsMounted","findCurrentHostFiberImpl","child","sibling","isArrayImpl","Array","isArray","ReactDOMSharedInternals","__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","sharedNotPendingObject","pending","data","method","action","valueStack","index","createCursor","defaultValue","current","pop","cursor","push","contextStackCursor","contextFiberStackCursor","rootInstanceStackCursor","hostTransitionProviderCursor","pushHostContainer","nextRootInstance","documentElement","namespaceURI","getOwnHostContext","parentNode","tagName","getChildHostContextProd","popHostContainer","pushHostContext","context","JSCompiler_inline_result","popHostContext","HostTransitionContext","_currentValue","hasOwnProperty","scheduleCallback$3","unstable_scheduleCallback","cancelCallback$1","unstable_cancelCallback","shouldYield","unstable_shouldYield","requestPaint","unstable_requestPaint","now","unstable_now","getCurrentPriorityLevel","unstable_getCurrentPriorityLevel","ImmediatePriority","unstable_ImmediatePriority","UserBlockingPriority","unstable_UserBlockingPriority","NormalPriority$1","unstable_NormalPriority","LowPriority","unstable_LowPriority","IdlePriority","unstable_IdlePriority","log$1","log","unstable_setDisableYieldValue","rendererID","injectedHook","setIsStrictModeForDevtools","newIsStrictMode","setStrictMode","err","clz32","Math","LN2","nextTransitionLane","nextRetryLane","getHighestPriorityLanes","lanes","pendingSyncLanes","getNextLanes","root","wipLanes","pendingLanes","nextLanes","suspendedLanes","pingedLanes","warmLanes","finishedLanes","nonIdlePendingLanes","checkIfRootIsPrerendering","renderLanes","computeExpirationTime","lane","currentTime","claimNextTransitionLane","claimNextRetryLane","createLaneMap","initial","laneMap","markRootUpdated$1","updateLane","markSpawnedDeferredLane","spawnedLane","entangledLanes","spawnedLaneIndex","entanglements","markRootEntangled","rootEntangledLanes","index$8","lanesToEventPriority","resolveUpdatePriority","updatePriority","p","window","event","getEventPriority","randomKey","random","toString","slice","internalInstanceKey","internalPropsKey","internalContainerInstanceKey","internalEventHandlersKey","internalEventHandlerListenersKey","internalEventHandlesSetKey","internalRootNodeResourcesKey","internalHoistableMarker","detachDeletedInstance","getClosestInstanceFromNode","targetNode","targetInst","getParentSuspenseInstance","getInstanceFromNode","getNodeFromInstance","inst","stateNode","getResourcesFromRoot","resources","hoistableStyles","Map","hoistableScripts","markNodeAsHoistable","allNativeEvents","Set","registrationNameDependencies","registerTwoPhaseEvent","registrationName","dependencies","registerDirectEvent","add","canUseDOM","document","createElement","VALID_ATTRIBUTE_NAME_REGEX","RegExp","illegalAttributeNameCache","validatedAttributeNameCache","setValueForAttribute","attributeName","test","removeAttribute","prefix$10","toLowerCase","setAttribute","setValueForKnownAttribute","setValueForNamespacedAttribute","namespace","setAttributeNS","getToStringValue","isCheckable","elem","nodeName","track","_valueTracker","valueField","descriptor","constructor","currentValue","get","this","enumerable","getValue","setValue","stopTracking","trackValueOnNode","updateValueIfChanged","tracker","lastValue","checked","getActiveElement","doc","activeElement","body","e","escapeSelectorAttributeValueInsideDoubleQuotesRegex","escapeSelectorAttributeValueInsideDoubleQuotes","ch","charCodeAt","updateInput","element","lastDefaultValue","defaultChecked","setDefaultValue","initInput","isHydrating","ownerDocument","updateOptions","multiple","propValue","setDefaultSelected","options","selected","defaultSelected","disabled","updateTextarea","initTextarea","children","textContent","setTextContent","text","firstChild","lastChild","nodeValue","unitlessNumbers","setValueForStyle","style","styleName","isCustomProperty","setProperty","cssFloat","has","setValueForStyles","styles","prevStyles","styleName$16","styleName$17","isCustomElement","aliases","isJavaScriptProtocol","sanitizeURL","currentReplayingEvent","getEventTarget","nativeEvent","target","srcElement","correspondingUseElement","restoreTarget","restoreQueue","restoreStateOfTarget","internalInstance","props","a","querySelectorAll","otherNode","form","otherProps","isInsideEventHandler","batchedUpdates$1","b","flushSyncWork$1","getListener","passiveBrowserEventsSupported","addEventListener","removeEventListener","startText","fallbackText","getData","start","end","startValue","startLength","endValue","endLength","minEnd","getEventCharCode","keyCode","charCode","functionThatReturnsTrue","functionThatReturnsFalse","createSyntheticEvent","Interface","SyntheticBaseEvent","reactName","reactEventType","nativeEventTarget","propName","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","stopPropagation","cancelBubble","persist","isPersistent","lastMovementX","lastMovementY","lastMouseEvent","EventInterface","eventPhase","bubbles","cancelable","timeStamp","Date","isTrusted","SyntheticEvent","UIEventInterface","view","detail","SyntheticUIEvent","MouseEventInterface","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","getEventModifierState","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","SyntheticMouseEvent","SyntheticDragEvent","dataTransfer","SyntheticFocusEvent","SyntheticAnimationEvent","animationName","elapsedTime","pseudoElement","SyntheticClipboardEvent","clipboardData","SyntheticCompositionEvent","normalizeKey","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","translateToKey","modifierKeyToProp","Alt","Control","Meta","Shift","modifierStateGetter","keyArg","SyntheticKeyboardEvent","key","String","fromCharCode","location","repeat","locale","which","SyntheticPointerEvent","pointerId","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","SyntheticTouchEvent","touches","targetTouches","changedTouches","SyntheticTransitionEvent","propertyName","SyntheticWheelEvent","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","SyntheticToggleEvent","newState","oldState","END_KEYCODES","canUseCompositionEvent","documentMode","canUseTextInputEvent","useFallbackCompositionData","SPACEBAR_CHAR","hasSpaceKeypress","isFallbackCompositionEnd","domEventName","getDataFromCustomEvent","isComposing","supportedInputTypes","color","date","datetime","email","month","number","password","range","search","tel","time","week","isTextInputElement","createAndAccumulateChangeEvent","dispatchQueue","accumulateTwoPhaseListeners","listeners","activeElement$1","activeElementInst$1","runEventInBatch","processDispatchQueue","getInstIfValueChanged","getTargetInstForChangeEvent","isInputEventSupported","JSCompiler_inline_result$jscomp$283","isSupported$jscomp$inline_418","element$jscomp$inline_419","oninput","stopWatchingForValueChange","detachEvent","handlePropertyChange","handleEventsForInputEventPolyfill","attachEvent","getTargetInstForInputEventPolyfill","getTargetInstForClickEvent","getTargetInstForInputOrChangeEvent","objectIs","is","y","shallowEqual","objA","objB","keysA","keys","keysB","currentKey","getLeafNode","getNodeForCharacterOffset","offset","nodeEnd","nextSibling","containsNode","outerNode","innerNode","contains","compareDocumentPosition","getActiveElementDeep","containerInfo","defaultView","HTMLIFrameElement","contentWindow","href","hasSelectionCapabilities","contentEditable","restoreSelection","priorSelectionInformation","curFocusedElem","focusedElem","priorSelectionRange","selectionRange","selectionStart","selectionEnd","min","getSelection","extend","endMarker","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","left","scrollLeft","top","scrollTop","focus","skipSelectionChangeEvent","activeElementInst","lastSelection","mouseDown","constructSelectEvent","makePrefixMap","styleProp","eventName","prefixes","vendorPrefixes","animationend","animationiteration","animationstart","transitionrun","transitionstart","transitioncancel","transitionend","prefixedEventNames","getVendorPrefixedEventName","prefixMap","animation","transition","ANIMATION_END","ANIMATION_ITERATION","ANIMATION_START","TRANSITION_RUN","TRANSITION_START","TRANSITION_CANCEL","TRANSITION_END","topLevelEventsToReactNames","simpleEventPluginEvents","registerSimpleEvent","concurrentQueues","concurrentQueuesIndex","concurrentlyUpdatedLanes","finishQueueingConcurrentUpdates","endIndex","queue","update","next","markUpdateLaneFromFiberToRoot","enqueueUpdate$1","enqueueConcurrentHookUpdate","getRootForUpdatedFiber","enqueueConcurrentRenderForLane","sourceFiber","isHidden","parent","childLanes","_visibility","hiddenUpdates","nestedUpdateCount","rootWithNestedUpdates","emptyContextObject","CapturedStacks","WeakMap","createCapturedValueAtFiber","source","existing","forkStack","forkStackIndex","treeForkProvider","treeForkCount","idStack","idStackIndex","treeContextProvider","treeContextId","treeContextOverflow","pushTreeFork","totalChildren","pushTreeId","baseIdWithLeadingBit","baseLength","numberOfOverflowBits","pushMaterializedTreeId","popTreeContext","hydrationParentFiber","nextHydratableInstance","hydrationErrors","rootOrSingletonContext","HydrationMismatchException","throwOnHydrationMismatch","queueHydrationError","prepareToHydrateHostInstance","instance","memoizedProps","listenToNonDelegatedEvent","mediaEventTypes","suppressHydrationWarning","checkForUnmatchedText","popover","onScroll","onScrollEnd","onClick","onclick","noop$1","popToNextHostParent","popHydrationState","JSCompiler_temp","shouldClear","shouldSetTextContent","getNextHydratable","resetHydrationState","error","SuspenseException","SuspenseyCommitException","noopSuspenseyCommitThenable","then","isThenableResolved","thenable","status","noop$3","trackUsedThenable","thenableState","reason","workInProgressRoot","shellSuspendCounter","fulfilledValue","fulfilledThenable","rejectedThenable","suspendedThenable","getSuspendedThenable","thenableState$1","thenableIndexCounter$1","unwrapThenable","coerceRef","ref","throwOnInvalidObjectType","returnFiber","newChild","join","resolveLazy","lazyType","init","createChildReconciler","shouldTrackSideEffects","deleteChild","childToDelete","deletions","deleteRemainingChildren","currentFirstChild","mapRemainingChildren","existingChildren","useFiber","pendingProps","createWorkInProgress","placeChild","newFiber","lastPlacedIndex","newIndex","placeSingleChild","updateTextNode","createFiberFromText","mode","updateElement","elementType","updateFragment","createFiberFromTypeAndProps","updatePortal","portal","implementation","createFiberFromPortal","fragment","createFiberFromFragment","createChild","readContextDuringReconciliation","updateSlot","oldFiber","updateFromMap","newIdx","reconcileChildFibersImpl","newChildren","resultingFirstChild","previousNewFiber","nextOldFiber","delete","forEach","reconcileChildrenArray","step","done","reconcileChildrenIterator","firstChildFiber","createFiberImplClass","reconcileChildFibers","mountChildFibers","currentTreeHiddenStackCursor","prevEntangledRenderLanesCursor","pushHiddenContext","entangledRenderLanes","baseLanes","reuseHiddenContextOnStack","popHiddenContext","suspenseHandlerStackCursor","shellBoundary","pushPrimaryTreeSuspenseHandler","handler","suspenseStackCursor","pushOffscreenSuspenseHandler","reuseSuspenseHandlerOnStack","popSuspenseHandler","findFirstSuspended","row","state","revealOrder","AbortControllerLocal","AbortController","signal","aborted","listener","abort","scheduleCallback$2","NormalPriority","CacheContext","Consumer","Provider","_currentValue2","_threadCount","createCache","controller","refCount","releaseCache","cache","currentEntangledListeners","currentEntangledPendingCount","currentEntangledLane","currentEntangledActionThenable","pingEngtangledActionScope","prevOnStartTransitionFinish","S","entangledListeners","requestTransitionLane","resolve","entangleAsyncAction","resumedCache","peekCacheFromPool","cacheResumedFromPreviousRender","pooledCache","pushTransition","offscreenWorkInProgress","prevCachePool","pool","getSuspendedCache","cacheFromPool","currentlyRenderingFiber$1","currentHook","workInProgressHook","didScheduleRenderPhaseUpdate","didScheduleRenderPhaseUpdateDuringThisPass","shouldDoubleInvokeUserFnsInHooksDEV","localIdCounter","thenableIndexCounter","globalClientIdCounter","throwInvalidHookError","areHookInputsEqual","nextDeps","prevDeps","renderWithHooks","Component","secondArg","nextRenderLanes","updateQueue","H","HooksDispatcherOnMount","HooksDispatcherOnUpdate","renderWithHooksAgain","finishRenderingHooks","ContextOnlyDispatcher","didRenderTooFewHooks","didReceiveUpdate","checkIfContextChanged","numberOfReRenders","lastEffect","events","stores","memoCache","HooksDispatcherOnRerender","TransitionAwareHostComponent","dispatcher","maybeThenable","useState","useThenable","checkDidRenderIdHook","didRenderIdHook","bailoutHooks","resetHooksOnUnwind","mountWorkInProgressHook","hook","baseState","baseQueue","updateWorkInProgressHook","nextCurrentHook","nextWorkInProgressHook","use","usable","readContext","useMemoCache","size","map","array","basicStateReducer","updateReducer","reducer","updateReducerImpl","lastRenderedReducer","pendingQueue","baseFirst","newBaseQueueFirst","newBaseQueueLast","didReadFromEntangledAsyncAction$54","workInProgressRootRenderLanes","revertLane","hasEagerState","eagerState","workInProgressRootSkippedLanes","lastRenderedState","dispatch","rerenderReducer","lastRenderPhaseUpdate","updateSyncExternalStore","subscribe","getSnapshot","getServerSnapshot","isHydrating$jscomp$0","snapshotChanged","updateEffect","subscribeToStore","bind","pushEffect","updateStoreInstance","destroy","pushStoreConsistencyCheck","renderedSnapshot","nextSnapshot","checkIfSnapshotChanged","forceStoreRerender","latestGetSnapshot","nextValue","scheduleUpdateOnFiber","mountStateImpl","initialState","initialStateInitializer","updateOptimisticImpl","passthrough","dispatchActionState","actionQueue","setPendingState","setState","payload","isRenderPhaseUpdate","actionNode","isTransition","T","runActionStateAction","prevState","prevTransition","currentTransition","onStartTransitionFinish","handleActionReturnValue","onActionError","error$60","nextState","onActionSuccess","notifyActionListeners","last","actionStateReducer","mountActionState","initialStateProp","ssrFormState","formState","JSCompiler_inline_result$jscomp$0","inRootOrSingleton","dispatchSetState","dispatchOptimisticSetState","updateActionState","updateActionStateImpl","stateHook","currentStateHook","actionQueueHook","actionStateActionEffect","rerenderActionState","create","deps","updateRef","mountEffectImpl","fiberFlags","hookFlags","updateEffectImpl","mountEffect","updateInsertionEffect","updateLayoutEffect","imperativeHandleEffect","refCleanup","updateImperativeHandle","concat","mountDebugValue","updateCallback","callback","updateMemo","nextCreate","mountDeferredValueImpl","initialValue","requestDeferredLane","updateDeferredValueImpl","prevValue","startTransition","pendingState","finishedState","previousPriority","dispatchSetStateInternal","result","thenableWithOverride","chainThenableValue","requestUpdateLane","noop$2","startHostTransition","formFiber","formData","ensureFormComponentIsStateful","requestFormReset$1","existingStateHook","initialResetState","useHostTransitionStatus","updateId","updateRefresh","refreshCache","provider","root$63","enqueueUpdate","createUpdate","entangleTransitions","dispatchReducerAction","enqueueRenderPhaseUpdate","entangleTransitionUpdate","currentState","throwIfDuringRender","queueLanes","useCallback","useContext","useEffect","useImperativeHandle","useLayoutEffect","useInsertionEffect","useMemo","useReducer","useRef","useDebugValue","useDeferredValue","useTransition","useSyncExternalStore","useId","useCacheRefresh","useFormState","useActionState","useOptimistic","initialArg","identifierPrefix","booleanOrThenable","applyDerivedStateFromProps","ctor","getDerivedStateFromProps","nextProps","classComponentUpdater","isMounted","component","_reactInternals","enqueueSetState","enqueueReplaceState","enqueueForceUpdate","checkShouldComponentUpdate","oldProps","newProps","nextContext","shouldComponentUpdate","isPureReactComponent","callComponentWillReceiveProps","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","resolveClassComponentProps","baseProps","defaultProps","propName$67","reportGlobalError","reportError","ErrorEvent","dispatchEvent","process","emit","console","defaultOnUncaughtError","defaultOnCaughtError","defaultOnRecoverableError","logUncaughtError","errorInfo","onUncaughtError","componentStack","e$68","setTimeout","logCaughtError","boundary","onCaughtError","errorBoundary","e$69","createRootErrorUpdate","createClassErrorUpdate","initializeClassErrorUpdate","getDerivedStateFromError","componentDidCatch","legacyErrorBoundariesThatAlreadyFailed","SelectiveHydrationException","reconcileChildren","nextChildren","updateForwardRef","propsWithoutRef","prepareToReadContext","bailoutOnAlreadyFinishedWork","updateMemoComponent","shouldConstruct","compare","updateSimpleMemoComponent","checkScheduledUpdateOrContext","prevProps","updateFunctionComponent","updateOffscreenComponent","nextIsDetached","_pendingVisibility","markRef","deferHiddenOffscreenComponent","cachePool","nextBaseLanes","propagateParentContextChanges","replayFunctionComponent","updateClassComponent","contextType","updater","refs","initializeUpdateQueue","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","processUpdateQueue","suspendIfUpdateReadFromEntangledAsyncAction","componentDidMount","unresolvedOldProps","oldContext","contextType$jscomp$0","hasForceUpdate","cloneUpdateQueue","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","mountHostRootWithoutHydrating","SUSPENDED_MARKER","treeContext","retryLane","mountSuspenseOffscreenState","getRemainingWorkInPrimaryTree","primaryTreeDidDefer","workInProgressDeferredLane","updateSuspenseComponent","showFallback","didSuspend","JSCompiler_temp$jscomp$0","nextInstance","c","id","overflow","fallback","mountWorkInProgressOffscreenFiber","mountSuspensePrimaryChildren","retrySuspenseComponentWithoutHydrating","dataset","digest","dgst","renderDidSuspendDelayIfPossible","retryDehydratedSuspenseBoundary","_reactRetry","subtreeFlags","primaryChildren","offscreenProps","createFiberFromOffscreen","scheduleSuspenseWorkOnFiber","propagationRoot","scheduleContextWorkOnParentPath","initSuspenseListRenderState","isBackwards","tail","lastContentRow","tailMode","renderState","rendering","renderingStartTime","updateSuspenseListComponent","beginWork","pushProvider","didSuspendBefore","attemptEarlyBailoutIfNoScheduledUpdate","lazyComponent","propagateContextChanges","isDehydrated","getResource","getOwnerDocumentFromRootContainer","setInitialProperties","resolveSingletonInstance","anyProps","hasAttribute","getAttribute","rel","crossOrigin","title","src","canHydrateInstance","canHydrateTextInstance","pooledCacheLanes","valueCursor","currentlyRenderingFiber","lastContextDependency","providerFiber","popProvider","contexts","forcePropagateEntireTree","list","nextFiber","firstContext","dependency","isInsidePropagationBailout","currentParent","currentDependencies","memoizedValue","readContextForConsumer","consumer","firstBaseUpdate","lastBaseUpdate","shared","hiddenCallbacks","callbacks","executionContext","enqueueCapturedUpdate","capturedUpdate","newFirst","newLast","clone","didReadFromEntangledAsyncAction","workInProgress$jscomp$0","instance$jscomp$0","lastPendingUpdate","firstPendingUpdate","isHiddenUpdate","callCallback","commitCallbacks","commitHookEffectListMount","finishedWork","firstEffect","captureCommitPhaseError","commitHookEffectListUnmount","nearestMountedAncestor$jscomp$0","nearestMountedAncestor","commitClassCallbacks","safelyCallComponentWillUnmount","componentWillUnmount","safelyAttachRef","instanceToUse","safelyDetachRef","error$112","commitHostMount","autoFocus","srcSet","srcset","commitHostUpdate","domElement","lastProps","propKey","lastProp","setProp","propKey$203","propKey$219","propKey$224","propKey$229","setPropOnCustomElement","propKey$234","updateProperties","isHostParent","getHostSibling","insertOrAppendPlacementNodeIntoContainer","before","insertBefore","appendChild","_reactRootContainer","insertOrAppendPlacementNode","offscreenSubtreeIsHidden","offscreenSubtreeWasHidden","needsFormReset","PossiblyWeakSet","WeakSet","nextEffect","shouldFireAfterActiveInstanceBlur","commitLayoutEffectOnFiber","finishedRoot","recursivelyTraverseLayoutEffects","__reactInternalSnapshotBeforeUpdate","error$111","commitSuspenseHydrationCallbacks","prevOffscreenSubtreeIsHidden","prevOffscreenSubtreeWasHidden","recursivelyTraverseReappearLayoutEffects","detachFiberAfterEffects","hostParent","hostParentIsContainer","recursivelyTraverseDeletionEffects","commitDeletionEffectsOnFiber","deletedFiber","onCommitFiberUnmount","count","removeChild","prevHostParent","prevHostParentIsContainer","attributes","removeAttributeNode","prevHostParentIsContainer$119","clearSuspenseBoundary","retryIfBlockedOn","attachSuspenseRetryListeners","wakeables","retryCache","_retryCache","getRetryCache","wakeable","retry","resolveRetryWakeable","recursivelyTraverseMutationEffects","root$jscomp$0","parentFiber","commitMutationEffectsOnFiber","currentHoistableRoot","commitReconciliationEffects","hoistableRoot","currentResource","getElementsByTagName","head","querySelector","maybeNodes","getHydratableHoistableCache","splice","content","property","httpEquiv","charSet","mountHoistable","acquireResource","nextNode","tagCaches","getHoistableRoot","recursivelyResetForms","globalMostRecentFallbackTime","_current","recursivelyTraverseDisappearLayoutEffects","display","retryQueue","parent$jscomp$0","parent$113","parent$115","reset","finishedRoot$jscomp$0","includeWorkInProgressEffects","commitOffscreenPassiveMountEffects","previousCache","commitCachePassiveMountEffect","recursivelyTraversePassiveMountEffects","committedLanes","committedTransitions","commitPassiveMountOnFiber","_finishedWork$memoize2","onPostCommit","passiveEffectDuration","recursivelyTraverseAtomicPassiveEffects","recursivelyTraverseReconnectPassiveEffects","committedLanes$jscomp$0","committedTransitions$jscomp$0","suspenseyCommitFlag","recursivelyAccumulateSuspenseyCommit","accumulateSuspenseyCommitOnFiber","resource","suspendedState","media","matchMedia","matches","loading","getStyleKey","getStylesheetSelectorFromKey","_p","onUnsuspend","stylesheetPropsFromRawProps","preloadPropsMap","adoptPreloadPropsForStylesheet","linkInstance","Promise","reject","onload","onerror","stylesheets","preload","suspendResource","previousHoistableRoot","detachAlternateSiblings","previousFiber","recursivelyTraversePassiveUnmountEffects","commitPassiveUnmountEffectsInsideOfDeletedTree_begin","commitPassiveUnmountOnFiber","recursivelyTraverseDisconnectPassiveEffects","deletedSubtreeRoot","FiberNode","isReactComponent","resetWorkInProgress","owner","fiberTag","hostContext","itemProp","precedence","onLoad","onError","async","isHostHoistableType","elements","primaryChildInstance","_pendingMarkers","_transitions","detach","attach","pendingChildren","markUpdate","preloadResourceAndSuspendIfNeeded","preloadResource","scheduleRetryEffect","workInProgressSuspendedRetryLanes","cutOffTailIfNeeded","hasRenderedATailFallback","lastTailNode","lastTailNode$131","bubbleProperties","completedWork","didBailout","newChildLanes","child$132","completeWork","pendingContext","queueRecoverableErrors","createElementNS","innerHTML","createTextNode","cache$144","listenToAllSupportedEvents","workInProgressRootExitStatus","workInProgressRootRenderTargetTime","unwindWork","unwindInterruptedWork","interruptedWork","DefaultAsyncDispatcher","getCacheForType","resourceType","cacheForType","PossiblyWeakMap","workInProgressSuspendedReason","workInProgressThrownValue","workInProgressRootDidSkipSuspendedSiblings","workInProgressRootIsPrerendering","workInProgressRootDidAttachPingListener","workInProgressRootInterleavedUpdatedLanes","workInProgressRootPingedLanes","workInProgressRootConcurrentErrors","workInProgressRootRecoverableErrors","workInProgressRootDidIncludeRecursiveRenderUpdate","Infinity","workInProgressTransitions","rootDoesHavePassiveEffects","rootWithPendingPassiveEffects","pendingPassiveEffectsLanes","pendingPassiveEffectsRemainingLanes","pendingPassiveTransitions","suspenseHandler","cancelPendingCommit","prepareFreshStack","markRootSuspended","ensureRootIsScheduled","performWorkOnRoot","forceSync","shouldTimeSlice","expiredLanes","exitStatus","prevExecutionContext","prevDispatcher","pushDispatcher","prevAsyncDispatcher","pushAsyncDispatcher","thrownValue","throwAndUnwindWorkLoop","replaySuspendedUnitOfWork","hostFiber","completeUnitOfWork","resetWorkInProgressStack","workLoopConcurrent","thrownValue$166","handleThrow","A","renderRootConcurrent","renderRootSync","renderWasConcurrent","isRenderConsistentWithExternalStores","errorRecoveryDisabledLanes","wasRootDehydrated","timeoutHandle","scheduleTimeout","commitRootWhenReady","errors","apply","recoverableErrors","transitions","didIncludeRenderPhaseUpdate","updatedLanes","suspendedRetryLanes","didSkipSuspendedSiblings","suspendedCommitReason","completedRenderStartTime","completedRenderEndTime","unsuspend","noop","insertSuspendedStylesheets","commit","stylesheetTimer","clearTimeout","waitForCommitToBeReady","commitRoot","check","didAttemptEntireTree","expirationTimes","index$6","flushSyncWorkAcrossRoots_impl","cancelTimeout","allEntangledLanes","index$4","shouldYieldForPrerendering","unitOfWork","workLoopSync","thrownValue$164","performUnitOfWork","suspendedReason","rootRenderLanes","attachPingListener","markerInstances","cause","wrapperError","throwException","unwindUnitOfWork","skipSiblings","previousUpdateLanePriority","renderPriorityLevel","flushPassiveEffects","callbackNode","callbackPriority","remainingLanes","previouslyPendingLanes","index$7","hiddenUpdatesForLane","markRootFinished","priorityLevel","scheduleCallback$1","eventsEnabled","_enabled","selection","e$20","indexWithinAnchor","indexWithinFocus","selectionInformation","resolvedPrevProps","clearContainerSparingly","commitBeforeMutationEffects","releaseRootPooledCache","onCommitFiberRoot","onCommitRoot","onRecoverableError","commitRootImpl","root$170","renderPriority","onPostCommitFiberRoot","captureCommitPhaseErrorOnRoot","rootFiber","pingCache","threadIDs","pingSuspendedRoot","retryTimedOutBoundary","boundaryFiber","firstScheduledRoot","lastScheduledRoot","didScheduleMicrotask","mightHavePendingSyncWork","isFlushingWork","currentEventTransitionLane","cb","processRootScheduleInMicrotask","scheduleMicrotask","syncTransitionLanes","onlyLegacy","didPerformSomeWork","root$172","performSyncWorkOnRoot","currentPopstateTransitionEvent","shouldAttemptEagerTransition","prev","scheduleTaskForRootDuringMicrotask","index$5","expirationTime","performWorkOnRootViaSchedulerTask","didTimeout","originalCallbackNode","workInProgressRootRenderLanes$jscomp$0","coerceFormActionProp","actionProp","createFormDataWithSubmitter","submitter","temp","FormData","i$jscomp$inline_1439","eventName$jscomp$inline_1440","toUpperCase","nonDelegatedEvents","eventSystemFlags","_dispatchQueue$i","previousInstance","i$jscomp$0","_dispatchListeners$i","targetElement","listenerSetKey","addTrappedEventListener","listenToNativeEvent","isCapturePhaseListener","listeningMarker","rootContainerElement","targetContainer","listenerWrapper","dispatchDiscreteEvent","dispatchContinuousEvent","capture","passive","dispatchEventForPluginEventSystem","targetInst$jscomp$0","ancestorInst","nodeTag","container","grandTag","SyntheticEventCtor","inCapturePhase","accumulateTargetOnly","reactEventName","lastHostComponent","_instance","createDispatchListener","parentWindow","getParent","accumulateEnterLeaveListenersForEvent","getTargetInstFunc","handleEventFunc","fallbackData","eventType","getNativeBeforeInputChars","char","getFallbackBeforeInputChars","maybeTargetInst","formAction","extractEvents$1","targetFiber","captureName","_instance2","unshift","common","_instance3","NORMALIZE_NEWLINES_REGEX","NORMALIZE_NULL_AND_REPLACEMENT_REGEX","normalizeMarkupForTextOrAttribute","markup","serverText","clientText","formEncType","formMethod","formTarget","encType","__html","muted","isNaN","endsWith","hasSrc","hasSrcSet","propValue$186","parentNamespace","dangerouslySetInnerHTML","localPromise","queueMicrotask","handleErrorInNextTick","parentInstance","suspenseInstance","depth","targetInstance","previousSibling","rootContainerInstance","preconnectsSet","getRootNode","previousDispatcher","d","f","previousWasRendering","wasRendering","r","formInst","D","preconnectAs","C","L","as","globalDocument","preloadSelector","imageSrcSet","imageSizes","getScriptKey","getScriptSelectorFromKey","m","X","scripts","adoptPreloadPropsForScript","link","insertStylesheet","M","limitedEscapedHref","currentProps","preloadProps","styles$242","resource$243","integrity","hrefLang","referrerPolicy","rawProps","styleProps","instance$248","nodes","prior","stylesheetProps","scriptProps","keyAttribute","caches","nodeKey","precedencesByRoot","insertStylesheetIntoRoot","precedences","FiberRootNode","hydrate","incompleteTransitions","createFiberRoot","initialChildren","hydrationCallbacks","isStrictMode","transitionCallbacks","getContextForSubtree","parentComponent","updateContainerImpl","markRetryLaneImpl","markRetryLaneIfNotHydrated","attemptContinuousHydration","blockedOn","findInstanceBlockingEvent","return_targetInst","clearIfContinuousEvent","queuedFocus","accumulateOrCreateContinuousQueuedReplayableEvent","queuedDrag","queuedMouse","queuedPointers","queuedPointerCaptures","queueIfContinuousEvent","discreteReplayableEvents","findInstanceBlockingTarget","hasScheduledReplayAttempt","queuedExplicitHydrationTargets","existingQueuedEvent","targetContainers","attemptExplicitHydrationTarget","queuedTarget","priority","runWithPriority","attemptReplayContinuousQueuedEvent","queuedEvent","nextBlockedOn","nativeEventClone","shift","attemptReplayContinuousQueuedEventInMap","replayUnblockedEvents","scheduleCallbackIfUnblocked","unblocked","lastScheduledReplayQueue","scheduleReplayQueueIfNeeded","formReplayingQueue","submitterOrAction","unblock","$$reactFormReplay","formProps","ReactDOMRoot","internalRoot","_internalRoot","ReactDOMHydrationRoot","unmount","unstable_scheduleHydration","isomorphicReactPackageVersion$jscomp$inline_1686","version","findDOMNode","componentOrElement","parentA","parentB","didFindChild","child$2","findCurrentFiberUsingSlowPath","internals$jscomp$inline_2165","bundleType","rendererPackageName","currentDispatcherRef","findFiberByHostInstance","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","hook$jscomp$inline_2166","isDisabled","supportsFiber","inject","exports","createRoot","unstable_strictMode","unstable_transitionCallbacks","hydrateRoot","module","ReactNoopUpdateQueue","emptyObject","ComponentDummy","PureComponent","partialState","forceUpdate","pureComponentPrototype","ReactElement","self","isValidElement","object","userProvidedKeyEscapeRegex","getElementKey","escaperLookup","escape","mapIntoArray","escapedPrefix","nameSoFar","oldElement","newKey","invokeCallback","nextNamePrefix","resolveThenable","mapChildren","func","lazyInitializer","_status","_result","moduleObject","default","Children","forEachFunc","forEachContext","n","toArray","only","Fragment","Profiler","StrictMode","Suspense","act","cloneElement","config","childArray","createContext","childrenLength","createRef","forwardRef","lazy","memo","scope","unstable_useCacheRefresh","permalink","Context","cookieNameRegExp","cookieValueRegExp","domainValueRegExp","pathValueRegExp","__toString","NullObject","startIndex","str","max","decode","decodeURIComponent","checkDCE","Internals","getCrossOriginStringAs","input","createPortal","createPortal$1","flushSync","previousTransition","previousUpdatePriority","preconnect","prefetchDNS","preinit","fetchPriority","nonce","preinitModule","preloadModule","requestFormReset","unstable_batchedUpdates","useFormStatus","jsxProd","maybeKey","jsx","jsxs","heap","parentIndex","peek","first","halfLength","leftIndex","rightIndex","right","diff","sortIndex","performance","localPerformance","localDate","initialTime","taskQueue","timerQueue","taskIdCounter","currentTask","currentPriorityLevel","isPerformingWork","isHostCallbackScheduled","isHostTimeoutScheduled","localSetTimeout","localClearTimeout","localSetImmediate","setImmediate","advanceTimers","timer","startTime","handleTimeout","requestHostCallback","firstTimer","requestHostTimeout","schedulePerformWorkUntilDeadline","isMessageLoopRunning","taskTimeoutID","frameInterval","shouldYieldToHost","performWorkUntilDeadline","hasMoreWork","previousPriorityLevel","continuationCallback","MessageChannel","channel","port","port2","port1","onmessage","postMessage","ms","unstable_Profiling","task","unstable_continueExecution","unstable_forceFrameRate","fps","floor","unstable_getFirstCallbackNode","unstable_next","eventHandler","unstable_pauseExecution","unstable_runWithPriority","delay","timeout","unstable_wrapCallback","parentPriorityLevel","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","definition","o","obj","prop","toStringTag","PopStateEventType","createBrowserHistory","getUrlBasedHistory","window2","globalHistory","pathname","hash","createLocation","usr","to","createPath","invariant","warning","cond","warn","getHistoryState","idx","parsePath","substring","_ref","charAt","path","parsedPath","hashIndex","searchIndex","getLocation","createHref2","validateLocation","v5Compat","history","getIndex","handlePop","nextIndex","delta","createURL","base","origin","href2","URL","replaceState","listen","createHref","encodeLocation","historyState","pushState","DOMException","go","matchRoutes","routes","locationArg","matchRoutesImpl","basename","allowPartial","stripBasename","branches","flattenRoutes","sort","score","siblings","every","compareIndexes","routesMeta","meta","childrenIndex","rankRouteBranches","decoded","decodePath","matchRouteBranch","parentsMeta","parentPath","flattenRoute","route","relativePath","caseSensitive","startsWith","joinPaths","computeScore","exploded","explodeOptionalSegments","segments","rest","isOptional","required","restExploded","subpath","paramRe","dynamicSegmentValue","indexRouteValue","emptySegmentValue","staticSegmentValue","splatPenalty","isSplat","s","initialScore","some","filter","reduce","segment","branch","matchedParams","matchedPathname","remainingPathname","matchPath","params","pathnameBase","normalizePathname","pattern","matcher","compiledParams","regexpSource","_","paramName","compilePath","captureGroups","memo2","_ref2","splatValue","v","nextChar","getInvalidPathError","field","dest","JSON","stringify","getPathContributingMatches","getResolveToMatches","pathMatches","resolveTo","toArg","routePathnames","locationPathname","isPathRelative","from","isEmptyPath","toPathname","routePathnameIndex","toSegments","fromPathname","resolvePathname","normalizeSearch","normalizeHash","resolvePath","hasExplicitTrailingSlash","hasCurrentTrailingSlash","paths","isRouteErrorResponse","statusText","internal","validMutationMethodsArr","validRequestMethodsArr","DataRouterContext","DataRouterStateContext","ViewTransitionContext","isTransitioning","FetchersContext","AwaitContext","NavigationContext","LocationContext","RouteContext","outlet","isDataRoute","RouteErrorContext","useInRouterContext","React2","useLocation","navigateEffectWarning","useIsomorphicLayoutEffect","static","useNavigate","router","useDataRouterContext","useCurrentRouteId","activeRef","navigate","fromRouteId","useNavigateStable","dataRouterContext","navigator","navigator2","routePathnamesJson","parse","relative","useNavigateUnstable","useResolvedPath","useRoutesImpl","dataRouterState","future","isStatic","parentMatches","routeMatch","parentParams","parentPathname","parentPathnameBase","parentRoute","warningOnce","locationFromContext","parsedLocationArg","parentSegments","renderedMatches","_renderMatches","navigationType","DefaultErrorComponent","useRouteError","lightgrey","preStyles","padding","backgroundColor","codeStyles","devInfo","fontStyle","defaultErrorElement","RenderErrorBoundary","super","revalidation","routeContext","RenderedRoute","_ref8","staticContext","errorElement","ErrorBoundary","_deepestRenderedBoundaryId","initialized","errorIndex","findIndex","renderFallback","fallbackIndex","HydrateFallback","hydrateFallbackElement","loaderData","errors2","needsToRunLoader","loader","reduceRight","shouldRenderHydrateFallback","matches2","getChildren","getDataRouterConsoleError","hookName","ctx","useDataRouterState","useRouteContext","thisRoute","routeId","alreadyWarned","React3","_ref11","Route","_props","Router","_ref14","basenameProp","locationProp","staticProp","navigationContext","locationContext","trailingPathname","Routes","_ref15","createRoutesFromChildren","treePath","hasErrorBoundary","shouldRevalidate","handle","defaultMethod","defaultEncType","isHtmlElement","_formDataSupportsSubmitter","supportedFormEncTypes","getFormEncType","getFormSubmissionInfo","attr","isButtonElement","isInputElement","isFormDataSubmitterSupported","append","invariant2","loadRouteModule","routeModulesCache","routeModule","import","__reactRouterContext","isSpaMode","reload","isPageLinkDescriptor","page","isHtmlLinkDescriptor","getNewMatchesForLinks","nextMatches","currentMatches","manifest","isNew","matchPathChanged","manifestRoute","hasLoader","routeChoice","currentUrl","currentParams","nextUrl","nextParams","defaultShouldRevalidate","getModuleLinkHrefs","includeHydrateFallback","hrefs","clientActionModule","clientLoaderModule","hydrateFallbackModule","imports","flat","dedupeLinkDescriptors","descriptors","preloads","preloadsSet","deduped","sorted","sortKeys","createHtml","html","singleFetchUrl","reqUrl","React5","RemixRootDefaultErrorBoundary","_ref19","isOutsideRemixApp","errorInstance","heyDeveloper","BoundaryShell","fontSize","errorString","background","_ref20","renderScripts","routeModules","useFrameworkContext","Layout","lang","fontFamily","Scripts","isFogOfWarEnabled","ssr","useDataRouterContext2","React9","useDataRouterStateContext","FrameworkContext","composeEventHandlers","theirHandler","ourHandler","getActiveMatches","isHydrated","errorIdx","PrefetchPageLinks","_ref25","dataLinkProps","PrefetchPageLinksImpl","useKeyedPrefetchLinks","keyedPrefetchLinks","setKeyedPrefetchLinks","interrupted","all","mod","links","getKeyedPrefetchLinks","_ref26","linkProps","newMatchesForData","newMatchesForAssets","dataHrefs","routesParams","foundOptOutRoute","m2","hasClientLoader","searchParams","moduleHrefs","_ref27","serverHandoffString","renderMeta","routerMatches","enableFogOfWar","didRenderScripts","initialScripts","contextScript","routeModulesScript","hmr","runtime","routeIndex","routeVarName","manifestEntry","chunks","varName","chunk","routeIds","Boolean","initialRoutes","acc","getPartialManifest","entry","mergeRefs","_len3","_key3","isBrowser","__reactRouterVersion","BrowserRouter","_ref28","historyRef","React10","setStateImpl","ABSOLUTE_URL_REGEX2","Link","_ref31","forwardedRef","absoluteHref","discover","prefetch","reloadDocument","replace2","preventScrollReset","viewTransition","isAbsolute","isExternal","targetUrl","protocol","joinedPathname","useHref","shouldPrefetch","prefetchRef","prefetchHandlers","theirElementProps","frameworkContext","maybePrefetch","setMaybePrefetch","setShouldPrefetch","onFocus","onBlur","onMouseEnter","onMouseLeave","onTouchStart","observer","IntersectionObserver","entries","isIntersecting","threshold","observe","disconnect","setIntent","cancelIntent","usePrefetchBehavior","internalOnClick","replaceProp","isModifiedEvent","shouldProcessLinkClick","useLinkClickHandler","NavLink","_ref32","ariaCurrentProp","className","classNameProp","routerState","opts","vtContext","useDataRouterContext3","currentPath","currentLocation","nextPath","nextLocation","useViewTransitionState","nextLocationPathname","navigation","endSlashPosition","isActive","isPending","renderProps","ariaCurrent","Form","_ref33","fetcherKey","onSubmit","submit","useSubmit","URLSearchParams","indexValues","getAll","hasNakedIndexParam","qs","useFormAction","submitMethod","getDataRouterConsoleError2","fetcherId","getUniqueFetcherId","currentRouteId","fetch","TextEncoder","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","withNativeBlob","Blob","withNativeArrayBuffer","ArrayBuffer","isView","buffer","encodePacket","supportsBinary","encodeBlobAsBase64","fileReader","FileReader","readAsDataURL","Uint8Array","byteOffset","byteLength","TEXT_ENCODER","chars","lookup","decodePacket","encodedPacket","binaryType","mapBinary","decodeBase64Packet","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","len","arraybuffer","bytes","SEPARATOR","createPacketEncoderStream","TransformStream","transform","packet","arrayBuffer","encoded","encode","encodePacketToBinary","payloadLength","header","DataView","setUint8","setUint16","setBigUint64","BigInt","enqueue","TEXT_DECODER","totalLength","concatChunks","j","Emitter","mixin","on","_callbacks","once","off","removeListener","removeAllListeners","args","emitReserved","hasListeners","nextTick","setTimeoutFn","globalThisShim","Function","pick","_len","_key","k","NATIVE_SET_TIMEOUT","globalThis","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","useNativeTimers","clearTimeoutFn","randomString","TransportError","description","Transport","writable","query","socket","forceBase64","open","readyState","doOpen","close","doClose","onClose","send","packets","write","onOpen","onData","onPacket","details","pause","onPause","createUri","schema","_hostname","_port","_query","hostname","secure","Number","encodedQuery","Polling","_polling","_poll","total","doPoll","decodePayload","encodedPayload","encodedPackets","decodedPacket","encodePayload","doWrite","uri","timestampRequests","timestampParam","sid","b64","XMLHttpRequest","hasCORS","empty","BaseXHR","isSSL","xd","req","request","xhrStatus","pollXhr","Request","createRequest","_opts","_method","_uri","_data","_create","_a","xdomain","xhr","_xhr","extraHeaders","setDisableHeaderCheck","setRequestHeader","cookieJar","addCookies","withCredentials","requestTimeout","onreadystatechange","parseCookies","getResponseHeader","_onLoad","_onError","_index","requestsCount","requests","_cleanup","fromError","responseText","unloadHandler","hasXHR2","newRequest","responseType","isReactNative","product","BaseWS","protocols","headers","ws","createSocket","addEventListeners","onopen","autoUnref","_socket","unref","onclose","closeEvent","ev","lastPacket","WebSocketCtor","WebSocket","MozWebSocket","transports","websocket","_packet","webtransport","_transport","WebTransport","transportOptions","closed","ready","createBidirectionalStream","stream","decoderStream","maxPayload","TextDecoder","expectedLength","isBinary","headerArray","getUint16","getUint32","pow","createPacketDecoderStream","MAX_SAFE_INTEGER","reader","readable","pipeThrough","getReader","encoderStream","pipeTo","_writer","getWriter","read","polling","re","parts","exec","host","authority","ipv6uri","pathNames","regx","names","queryKey","$0","$1","$2","withEventListeners","OFFLINE_EVENT_LISTENERS","SocketWithoutUpgrade","writeBuffer","_prevBufferLen","_pingInterval","_pingTimeout","_maxPayload","_pingTimeoutTime","parsedUri","_transportsByName","t","transportName","agent","upgrade","rememberUpgrade","addTrailingSlash","rejectUnauthorized","perMessageDeflate","closeOnBeforeunload","qry","pairs","l","pair","_beforeunloadEventListener","transport","_offlineEventListener","_onClose","_cookieJar","createCookieJar","_open","createTransport","EIO","priorWebsocketSuccess","setTransport","_onDrain","_onPacket","flush","onHandshake","_sendPacket","_resetPingTimeout","pingInterval","pingTimeout","_pingTimeoutTimer","upgrading","_getWritablePackets","payloadSize","utf8Length","ceil","_hasPingExpired","hasExpired","msg","compress","cleanupAndClose","waitForUpgrade","tryAllTransports","SocketWithUpgrade","_upgrades","_probe","failed","onTransportOpen","cleanup","freezeTransport","onTransportClose","onupgrade","_filterUpgrades","upgrades","filteredUpgrades","Socket","DEFAULT_TRANSPORTS","withNativeFile","File","hasBinary","toJSON","deconstructPacket","buffers","packetData","pack","_deconstructPacket","attachments","placeholder","_placeholder","num","newData","reconstructPacket","_reconstructPacket","RESERVED_EVENTS","PacketType","Encoder","replacer","EVENT","ACK","encodeAsString","encodeAsBinary","BINARY_EVENT","BINARY_ACK","nsp","deconstruction","isObject","Decoder","reviver","reconstructor","decodeString","isBinaryEvent","BinaryReconstructor","takeBinaryData","buf","tryParse","substr","isPayloadValid","CONNECT","DISCONNECT","CONNECT_ERROR","finishedReconstruction","reconPack","binData","freeze","connect","connect_error","disconnecting","newListener","io","connected","recovered","receiveBuffer","sendBuffer","_queue","_queueSeq","ids","acks","auth","_autoConnect","disconnected","subEvents","subs","onpacket","active","_readyState","_b","_c","_len2","_key2","retries","fromQueue","volatile","_addToQueue","ack","_registerAckCallback","isTransportWritable","engine","isConnected","notifyOutgoingListeners","_this","ackTimeout","withError","emitWithAck","_len4","_key4","arg1","arg2","_this2","tryCount","_len5","responseArgs","_key5","_drainQueue","force","_sendConnectPacket","_pid","pid","_lastOffset","_clearAcks","onconnect","onevent","onack","ondisconnect","emitEvent","_anyListeners","sent","_len6","_key6","emitBuffered","subDestroy","onAny","prependAny","offAny","listenersAny","onAnyOutgoing","_anyOutgoingListeners","prependAnyOutgoing","offAnyOutgoing","listenersAnyOutgoing","Backoff","factor","jitter","attempts","duration","rand","deviation","setMin","setMax","setJitter","Manager","nsps","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","parser","encoder","decoder","autoConnect","_reconnection","skipReconnect","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","_reconnecting","reconnect","Engine","openSubDestroy","errorSub","onping","ondata","ondecoded","_destroy","_close","onreconnect","attempt","parsed","loc","sameNamespace","forceNew","multiplex","ReactUI","getElementById","hidden","user","setUser","loggedIn","credentials","res","json","_jsx","_Fragment","setInterval","_jsxs","textDecoration","Login","updateCamZoom","setCamScale","updateCamPos","posVec2","tween","getCamPos","newPos","setCamPos","easings","linear","init_fields","inputRect","Rect","vec2","font","pos","center","anchor","name_pos","name_input","area","shape","textInput","scale","rect","fill","outline","rgb","max_players_pos","polygon","player_count","total_time_pos","total_time","board_size_pos","board_size","prompt","parseInt","time_string","size_string","K","g","Se","fromArray","fromHex","fromHSL","u","round","lighten","darken","invert","mult","lerp","fe","toHSL","eq","toHex","I","To","ue","PI","lt","E","Ve","So","fromAngle","cos","sin","sub","dist","sdist","slen","sqrt","dot","unit","normal","reflect","project","cross","angle","atan2","angleBetween","slerp","isZero","toFixed","multVec2","bbox","$","z","w","h","me","Dt","mul","inverse","det","transpose","eigenvalues","trace","eigenvectors","abs","EPSILON","rotation","bt","m11","m12","m13","m21","m22","m23","m31","m32","m33","fromMat2","toMat2","rotate","he","translate","rotateX","rotateY","rotateZ","getTranslation","getScale","getRotation","acos","getSkew","atan","O","V","G","Sn","Ao","Xt","seed","gen","genNumber","genVec2","genColor","genAny","Cr","Vo","ge","wr","Po","Or","Go","Mo","Er","ou","p1","p2","Vn","Pn","NEGATIVE_INFINITY","POSITIVE_INFINITY","Bt","Ro","radius","Do","Bo","ye","points","Gn","Ft","Mn","Tr","et","pts","Te","su","Qt","Ar","radiusX","radiusY","Tn","ke","Fo","we","iu","R","F","q","W","N","Z","ee","Ee","Lo","Sr","au","uu","pt","cu","lu","mu","pu","du","jo","point","fraction","fu","sign","Ko","hu","gu","Io","gridPos","An","collides","raycast","fromPoints","distToPoint","sdistToPoint","bu","MAX_VALUE","cut","ko","_o","No","Jt","Uo","Ho","qo","zo","Yo","Vr","Lt","Pr","jt","Wo","$o","Xo","Wt","xr","$t","yu","xu","NaN","Qo","Jo","Zo","es","distance","ts","vu","vr","Cu","wu","Ou","Rn","ns","Dn","mt","yt","Zt","en","ss","os","us","tn","nn","cs","ls","Bn","rn","lastID","pushd","_e","paused","cancel","oe","cancellers","handlers","addOnce","trigger","numListeners","clear","Ye","registers","onOnce","remove","fs","hs","gs","Kt","_items","_compareFn","insert","moveUp","moveDown","swap","Tu","atob","bs","Fn","download","click","Gr","ys","Mr","createObjectURL","revokeObjectURL","Ln","xs","jn","vs","Cs","Au","tt","Su","Os","TypeError","Vu","Fu","Ru","Du","Lu","Pu","Gu","Bu","fromCodePoint","Mu","xt","Rr","codePointAt","Be","We","sn","Es","As","lastInputDevice","Ss","keyboard","keyboardCode","gamepad","mouse","buttonsByKey","buttonsByKeyCode","buttonsByGamepad","buttonsByMouse","vt","pressed","pressedRepeat","released","down","press","pressRepeat","release","Dr","buttonState","stickState","Br","dts","tick","Vs","sticks","Ku","canvas","loopID","stopped","dt","fixedDt","restDt","realTime","fpsCounter","timeScale","skipTime","numFrames","mousePos","mouseDeltaPos","keyState","mouseState","mergedGamepadState","gamepadStates","gamepads","charInputted","isMouseMoved","lastWidth","offsetWidth","lastHeight","offsetHeight","Ps","toDataURL","requestPointerLock","P","exitPointerLock","pointerLockElement","requestFullscreen","webkitRequestFullscreen","exitFullscreen","webkitExitFullScreen","fullscreenElement","webkitFullscreenElement","Re","br","En","B","ne","Oo","cancelAnimationFrame","Ae","visibilityState","requestAnimationFrame","ie","Ze","Rt","maxFPS","On","Qa","maxTouchPoints","gt","Gt","Ht","xn","vn","mr","pr","Mt","Xe","Cn","U","Y","se","xe","J","Ce","qt","ut","dr","fr","hr","gr","wn","Qe","ct","zt","Ie","Yt","Je","Za","xo","isPressed","isDown","isReleased","getStick","Ja","getGamepads","De","axes","vo","pixelDensity","mousemove","offsetX","offsetY","innerWidth","innerHeight","yr","Co","mousedown","mouseup","eu","wo","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","keydown","keyup","touchstart","getBoundingClientRect","touchToMouse","touchmove","touchend","touchcancel","wheel","contextmenu","visibilitychange","gamepadconnected","gamepaddisconnected","ResizeObserver","run","quit","setFullscreen","isFullscreen","setCursor","screenshot","getCursor","setCursorLocked","isCursorLocked","isTouchscreen","isKeyDown","isKeyPressed","isKeyPressedRepeat","isKeyReleased","isMouseDown","isMousePressed","isMouseReleased","isGamepadButtonPressed","isGamepadButtonDown","isGamepadButtonReleased","getGamepadStick","isButtonPressed","isButtonDown","isButtonReleased","setButton","getButton","pressButton","releaseButton","onResize","onKeyDown","onKeyPress","onKeyPressRepeat","onKeyRelease","onMouseDown","onMousePress","onMouseRelease","onMouseMove","onCharInput","onTouchMove","onTouchEnd","onHide","onShow","onGamepadButtonDown","onGamepadButtonPress","onGamepadButtonRelease","onGamepadStick","onGamepadConnect","onGamepadDisconnect","onButtonPress","onButtonDown","onButtonRelease","getLastInputDeviceType","te","app","an","un","Iu","ku","_u","Nu","Uu","Hu","qu","zu","Yu","Ne","Gs","Ms","createBuffer","Kn","Rs","Ds","Bs","In","easeInSine","easeOutSine","easeInOutSine","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInBack","easeOutBack","easeInOutBack","easeInElastic","easeOutElastic","easeInOutElastic","easeInBounce","easeOutBounce","easeInOutBounce","nt","Wu","reverse","Fr","cost","getNeighbours","getCost","getHeuristic","Lr","WeakRef","isLeft","middle","jr","_edges","_centroid","_id","edges","centroid","kn","_polygons","_pointCache","_edgeCache","_addPoint","_addEdge","_findEdge","_findCommonEdge","deref","addPolygon","addRect","_getLocation","getPath","getWaypointPath","Fs","ae","ce","Ct","Ls","gfx","bgColor","bgAlpha","ggl","gl","clearColor","js","Q","be","transformStack","Ks","rt","$e","pe","Oe","renderer","_n","viewport","Is","$u","Nn","wt","cn","lastTextureId","textures","bigTextures","texturesPosition","c2d","curHeight","Pe","fromImage","getContext","clearRect","ImageData","putImageData","drawImage","position","texture","free","de","assets","urlPrefix","le","loaded","onLoadEvents","onErrorEvents","onFinishEvents","finally","onFinish","ft","lastUID","addLoaded","progress","getFailedAssets","kr","ok","Ot","ks","_s","Ns","Us","custom","Et","Image","Fe","sprites","sounds","shaders","fonts","bitmapFonts","Un","Hs","ln","music","packer","Le","tex","frames","anims","slice9","fromURL","Nr","sliceX","sliceY","It","_r","Tt","Ys","getImageData","Ws","$s","frameTags","speed","loop","pingpong","direction","At","fontface","Ur","globalOpt","Hn","Hr","Xs","FontFace","load","Qs","Js","Zs","qr","glProgram","onDestroy","createShader","VERTEX_SHADER","FRAGMENT_SHADER","shaderSource","compileShader","createProgram","attachShader","bindAttribLocation","linkProgram","getProgramParameter","LINK_STATUS","getShaderInfoLog","deleteShader","pushProgram","unbind","popProgram","getUniformLocation","uniform1f","uniformMatrix4fv","Float32Array","uniform3f","uniform2f","uniform1fv","uniform2fv","uniform3fv","deleteProgram","qn","groups","line","ei","defShader","zr","ti","ni","ot","fromArrayBuffer","audio","decodeAudioData","ri","Yr","oi","si","Audio","Wr","je","defTex","fixed","game","cam","uv","opacity","TRIANGLES","Ge","WHITE","colors","triangulate","indices","shader","uniform","kt","zn","resolution","gradient","Ue","_t","Qu","cap","Ju","Zu","Yn","ii","pt1","pt2","pt3","pt4","glTex","createTexture","LINEAR","nearest","NEAREST","texFilter","REPEAT","clampToEdge","CLAMP_TO_EDGE","wrap","texImage2D","TEXTURE_2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","texSubImage2D","pushTexture2D","popTexture2D","deleteTexture","st","glFramebuffer","glRenderbuffer","createFramebuffer","createRenderbuffer","renderbufferStorage","RENDERBUFFER","DEPTH_STENCIL","framebufferTexture2D","FRAMEBUFFER","COLOR_ATTACHMENT0","framebufferRenderbuffer","DEPTH_STENCIL_ATTACHMENT","toImageData","Uint8ClampedArray","readPixels","subarray","copyWithin","COLOR_BUFFER_BIT","draw","pushFramebuffer","pushRenderbuffer","pushViewport","popFramebuffer","popRenderbuffer","popViewport","deleteFramebuffer","deleteRenderbuffer","Wn","glVBuf","glIBuf","vqueue","iqueue","stride","maxVertices","maxIndices","vertexFormat","numDraws","curPrimitive","curTex","curShader","curUniform","pushArrayBuffer","bufferData","ARRAY_BUFFER","DYNAMIC_DRAW","popArrayBuffer","pushElementArrayBuffer","ELEMENT_ARRAY_BUFFER","popElementArrayBuffer","bufferSubData","Uint16Array","setVertexFormat","drawElements","UNSIGNED_SHORT","deleteBuffer","St","ai","getExtension","loseContext","vertexAttribPointer","FLOAT","enableVertexAttribArray","bindTexture","bindBuffer","bindFramebuffer","bindRenderbuffer","useProgram","drawingBufferWidth","drawingBufferHeight","$r","li","override","$n","charStyleMap","He","opt","renderedText","family","maxHeight","fontCacheC2d","fontCacheCanvas","textBaseline","textAlign","fillStyle","measureText","actualBoundingBoxAscent","actualBoundingBoxDescent","lineJoin","lineWidth","strokeStyle","strokeText","fillText","lineSpacing","letterSpacing","quad","indentAll","align","it","flipX","flipY","qe","ve","horizontal","ze","Xr","Xn","p3","pi","debug","inspect","recursive","isHovering","drawInspect","curRecording","showLog","logs","Qr","logTime","union","getOwnPropertyNames","replaceAll","di","shake","fi","Qn","STENCIL_BUFFER_BIT","enable","STENCIL_TEST","stencilFunc","NEVER","stencilOp","REPLACE","KEEP","disable","hi","EQUAL","Vt","tiled","gi","sprite","bi","NOTEQUAL","Jr","yi","BLEND","blendFuncSeparate","ONE","ONE_MINUS_SRC_ALPHA","lastDrawCalls","frameBuffer","postShader","postShaderUniform","bgTex","Jn","letterbox","stretch","at","Ke","xi","renderArea","Zn","vi","Ci","wi","mask","er","fadeIn","fadeOut","Oi","miterLimit","Zr","vel","angularVelocity","damping","gc","Ei","lifetime","opacities","quads","scales","lifeTime","spread","acceleration","rate","onEnd","Ti","tr","worldArea","nr","Ai","Si","tileWidth","tileHeight","Pt","tilePos","pos2Tile","getSpatialMap","numRows","numColumns","isObstacle","edgeMask","spawn","tiles","wildcardTile","tile2Pos","rr","tilePosOffset","levelWidth","levelHeight","removeFromSpatialMap","insertIntoSpatialMap","onSpatialMapChanged","onNavigationMapInvalid","getAt","toWorld","fromWorld","invalidateNavigationMap","onNavigationMapChanged","getTilePath","allowDiagonals","Me","objEvents","_len7","_key7","Vi","Pi","fixedUpdate","Gi","Mi","eo","Ri","Di","Bi","Fi","Li","ji","Ki","or","Ii","ki","onHover","_i","onHoverUpdate","Ni","onHoverEnd","Ui","Hi","qi","Nt","zi","no","ro","oo","so","ao","Yi","uo","ir","Wi","$i","dn","sr","Xi","Qi","Ji","Zi","tagsAsComponents","tags","readd","removeAll","layerIndex","defaultLayerIndex","intersect","drawMasked","subtract","drawSubtracted","unuse","values","find","exists","flatMap","liveUpdate","isAncestorOf","onAdd","hierarchy","include","exclude","includeOp","visible","distanceOp","untag","_len8","_key8","onFixedUpdate","onUpdate","onDraw","onUse","onUnuse","clearEvents","_len9","_key9","ea","gravity","scenes","currentScene","layers","ta","na","ra","ht","oa","Eo","sa","AudioContext","webkitAudioContext","createGain","destination","masterNode","burpSnd","ia","backgroundAudio","resume","play","createMediaElementSource","onended","seek","stop","volume","playbackRate","detune","aa","createBufferSource","createStereoPanner","pan","gain","ur","co","lo","ua","cr","suspend","gscale","debugKey","clearLog","stepFrame","burp","ca","lr","hn","boomSprite","Ut","gn","mo","comps","kaSprite","bn","wait","po","la","ma","pa","da","fa","ha","_len10","_key10","stay","scenesToStay","ga","ba","anim","animSpeed","animFrame","bottom","getCurAnim","curAnim","getAnim","hasAnim","onAnimEnd","onAnimStart","ya","textSize","textTransform","textStyles","xa","va","agentSpeed","getDistanceToTarget","getNextLocation","getTarget","isNavigationFinished","isTargetReachable","isTargetReached","setTarget","getLevel","moveTo","onNavigationStarted","onNavigationNext","onNavigationEnded","onTargetReached","Ca","graph","navigateTo","navigationOpt","wa","waypoints","endBehavior","patrolSpeed","onPatrolFinished","Oa","checkFrequency","spotted","directionAngle","fieldOfView","isWithinFieldOfView","hasLineOfSight","raycastExclude","lineOfSight","onObjectsSpotted","tileMove","moveLeft","moveRight","yn","loops","easing","interpolation","isFinished","timing","getLowerKeyIndexAndRelativeTime","trunc","serialize","Ea","fo","ho","curves","dcurves","Ta","followMotion","animate","unanimate","unanimateAll","onAnimateFinished","onAnimateChannelFinished","serializeAnimationChannels","serializeAnimationOptions","bo","channels","Aa","hurt","setHP","heal","hp","maxHP","setMaxHP","onHurt","onHeal","onDeath","Sa","fade","Va","Pa","enter","_len11","_key11","enterState","_len12","_key12","onStateTransition","onStateEnter","onStateUpdate","onStateDraw","onStateEnd","Ga","hasFocus","typedText","maxLoopsPerFrame","finish","yo","Ma","Ra","collisionIgnore","onCollideUpdate","localArea","isClicked","hasPoint","checkCollision","getCollisions","isColliding","isOverlapping","hasOverlap","onCollide","onCollideEnd","resolveCollision","resolved","displacement","screenArea","Da","drag","jumpForce","gravityScale","mass","onPhysicsResolve","isBottom","isFalling","isTop","isJumping","stickToPlatform","moveBy","maxVelocity","move","onBeforePhysicsResolve","curPlatform","isGrounded","applyImpulse","addForce","jump","onGround","onFall","onFallOff","onHeadbutt","onLand","onHeadbutted","Ba","numJumps","doubleJump","onDoubleJump","Fa","speedVariation","forceScale","La","useGlobalAngle","forceAngle","forceMagnitude","forceVariation","linearDrag","ja","distanceScale","forceMode","Ka","Ia","surfaceArc","useOneWay","preventResolution","ka","surfaceLevel","density","angularDrag","flowAngle","flowMagnitude","flowVariation","applyBuoyancy","applyDrag","ar","follow","Na","layer","Ua","Ha","isOffScreen","screenPos","onExitScreen","onEnterScreen","hide","worldPos","fromScreen","toScreen","toOther","fromOther","qa","rotateBy","rotateTo","scaleTo","scaleBy","za","E2","margin","parentElement","crisp","cssText","tabIndex","willReadFrequently","antialias","stencil","alpha","preserveDrawingBuffer","spriteAtlasPadding","fb","drawCalls","_len13","_key13","logMax","numObjects","localStorage","_len14","_key14","global","captureStream","createMediaStreamDestination","MediaRecorder","ondataavailable","getTracks","onstop","isRight","hashGridSize","DEPTH_BUFFER_BIT","getParameter","MAX_TEXTURE_IMAGE_UNITS","activeTexture","TEXTURE0","TEXTURE_CUBE_MAP","loadingScreen","_k","VERSION","loadRoot","loadProgress","loadSprite","loadSpriteAtlas","loadSound","loadMusic","loadBitmapFont","loadFont","loadShader","loadShaderURL","loadAseprite","loadPedit","loadBean","loadJSON","getSound","getFont","getBitmapFont","getSprite","getShader","getAsset","Asset","SpriteData","SoundData","record","isFocused","onLoadError","onLoading","onCleanup","flash","setCamRot","getCamRot","getCamScale","getCamTransform","camPos","camScale","camFlash","camRot","camTransform","setGravity","getGravity","setGravityDirection","getGravityDirection","setBackground","getBackground","getTreeRoot","make","destroyAll","circle","uvquad","particles","platformEffector","surfaceEffector","areaEffector","pointEffector","buoyancyEffector","constantForce","health","lifespan","named","offscreen","drawon","tile","serializeAnimation","sentry","patrol","pathfinder","onTag","onUntag","setVolume","getVolume","audioCtx","Line","Circle","Ellipse","Point","Polygon","Vec2","Color","Mat4","Quad","RNG","randi","randSeed","hsl2rgb","choose","chooseMultiple","shuffle","chance","mapc","wave","deg2rad","rad2deg","clamp","evaluateQuadratic","evaluateQuadraticFirstDerivative","evaluateQuadraticSecondDerivative","evaluateBezier","evaluateBezierFirstDerivative","evaluateBezierSecondDerivative","evaluateCatmullRom","evaluateCatmullRomFirstDerivative","curveLengthApproximation","normalizedCurve","hermite","cardinal","catmullRom","bezier","kochanekBartels","easingSteps","easingLinear","easingCubicBezier","testLineLine","testRectRect","testRectLine","testRectPoint","testCirclePolygon","testLinePoint","testLineCircle","isConvex","NavMesh","drawSprite","drawText","formatText","drawRect","drawLine","drawLines","drawTriangle","drawCircle","drawEllipse","drawUVQuad","drawPolygon","drawCurve","drawBezier","drawFormattedText","pushTransform","popTransform","pushTranslate","pushScale","pushRotate","pushMatrix","usePostEffect","makeCanvas","scene","getSceneName","onSceneLeave","getLayers","setLayers","getDefaultLayer","addLevel","setData","downloadJSON","downloadText","downloadBlob","plug","ASCII_CHARS","addKaboom","LEFT","RIGHT","UP","DOWN","RED","GREEN","BLUE","YELLOW","MAGENTA","CYAN","BLACK","KEvent","KEventHandler","KEventController","plugins","init_room","player_names","ready_states","base_pos","x_offset","y_offset","lobby_pos","buttons_pos","room_name","max_players","round_time","room_id","lobby","leave","draw_room","board","room","isOwner","players","btn","newScale","init_join_room","fields","response","kaplay","clicked","menu_labels","menu_buttons","letters","letter","draw_title","getRelativeMousePos","init_menu","total_score","side_length","board_container","drawBoard","score_output","word_output","timer_output","letterPos","dist_x","dist_y","word","init_game","room_objs","requestRooms","rooms_container","back","refresh","mesage","rooms","cur_players","room_obj","init_rooms_list","room_info","init_create_room","scores","scores_container","init_scores","stats","stat_labels","stat","drawStats","highest_score","games_played","games_won","avg_score_per_game","words_found","avg_score_per_word","init_stats","initGame"],"sourceRoot":""}